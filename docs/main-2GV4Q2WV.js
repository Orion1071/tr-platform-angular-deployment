import{b as Bh,c as Hh,f as $_,g as qh}from"./chunk-EA6DTDFA.js";import{a as E,b as z,d as Qt,f as V_,g as U_}from"./chunk-WMVSLYLA.js";var ih=Qt(rh=>{"use strict";Object.defineProperty(rh,"__esModule",{value:!0});var nh=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}};rh.default=nh});var sh=Qt(jo=>{"use strict";var t0=jo&&jo.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jo,"__esModule",{value:!0});var $M=t0((qh(),U_($_))),BM=t0(ih()),oh=class{constructor(n){this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=n.headers,this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=n.shouldThrowOnError,this.signal=n.signal,this.isMaybeSingle=n.isMaybeSingle,n.fetch?this.fetch=n.fetch:typeof fetch>"u"?this.fetch=$M.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,t){return this.headers=Object.assign({},this.headers),this.headers[n]=t,this}then(n,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var s,a,l;let c=null,u=null,d=null,m=o.status,p=o.statusText;if(o.ok){if(this.method!=="HEAD"){let I=await o.text();I===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=I:u=JSON.parse(I))}let _=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),w=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");_&&w&&w.length>1&&(d=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,m=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{let _=await o.text();try{c=JSON.parse(_),Array.isArray(c)&&o.status===404&&(u=[],c=null,m=200,p="OK")}catch{o.status===404&&_===""?(m=204,p="No Content"):c={message:_}}if(c&&this.isMaybeSingle&&(!((l=c?.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,m=200,p="OK"),c&&this.shouldThrowOnError)throw new BM.default(c)}return{error:c,data:u,count:d,status:m,statusText:p}});return this.shouldThrowOnError||(i=i.catch(o=>{var s,a,l;return{error:{message:`${(s=o?.name)!==null&&s!==void 0?s:"FetchError"}: ${o?.message}`,details:`${(a=o?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=o?.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(n,t)}};jo.default=oh});var lh=Qt(Vo=>{"use strict";var HM=Vo&&Vo.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vo,"__esModule",{value:!0});var qM=HM(sh()),ah=class extends qM.default{select(n){let t=!1,r=(n??"*").split("").map(i=>/\s/.test(i)&&!t?"":(i==='"'&&(t=!t),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:t=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){let s=o?`${o}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${n}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:t,referencedTable:r=t}={}){let i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${n}`),this}range(n,t,{foreignTable:r,referencedTable:i=r}={}){let o=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${n}`),this.url.searchParams.set(s,`${t-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:t=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){var a;let l=[n?"analyze":null,t?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`,s==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Vo.default=ah});var Wl=Qt(Uo=>{"use strict";var zM=Uo&&Uo.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Uo,"__esModule",{value:!0});var GM=zM(lh()),ch=class extends GM.default{eq(n,t){return this.url.searchParams.append(n,`eq.${t}`),this}neq(n,t){return this.url.searchParams.append(n,`neq.${t}`),this}gt(n,t){return this.url.searchParams.append(n,`gt.${t}`),this}gte(n,t){return this.url.searchParams.append(n,`gte.${t}`),this}lt(n,t){return this.url.searchParams.append(n,`lt.${t}`),this}lte(n,t){return this.url.searchParams.append(n,`lte.${t}`),this}like(n,t){return this.url.searchParams.append(n,`like.${t}`),this}likeAllOf(n,t){return this.url.searchParams.append(n,`like(all).{${t.join(",")}}`),this}likeAnyOf(n,t){return this.url.searchParams.append(n,`like(any).{${t.join(",")}}`),this}ilike(n,t){return this.url.searchParams.append(n,`ilike.${t}`),this}ilikeAllOf(n,t){return this.url.searchParams.append(n,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(n,t){return this.url.searchParams.append(n,`ilike(any).{${t.join(",")}}`),this}is(n,t){return this.url.searchParams.append(n,`is.${t}`),this}in(n,t){let r=Array.from(new Set(t)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(n,`in.(${r})`),this}contains(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cs.{${t.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(t)}`),this}containedBy(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cd.{${t.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(t)}`),this}rangeGt(n,t){return this.url.searchParams.append(n,`sr.${t}`),this}rangeGte(n,t){return this.url.searchParams.append(n,`nxl.${t}`),this}rangeLt(n,t){return this.url.searchParams.append(n,`sl.${t}`),this}rangeLte(n,t){return this.url.searchParams.append(n,`nxr.${t}`),this}rangeAdjacent(n,t){return this.url.searchParams.append(n,`adj.${t}`),this}overlaps(n,t){return typeof t=="string"?this.url.searchParams.append(n,`ov.${t}`):this.url.searchParams.append(n,`ov.{${t.join(",")}}`),this}textSearch(n,t,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(n,`${o}fts${s}.${t}`),this}match(n){return Object.entries(n).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(n,t,r){return this.url.searchParams.append(n,`not.${t}.${r}`),this}or(n,{foreignTable:t,referencedTable:r=t}={}){let i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${n})`),this}filter(n,t,r){return this.url.searchParams.append(n,`${t}.${r}`),this}};Uo.default=ch});var dh=Qt(Bo=>{"use strict";var WM=Bo&&Bo.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bo,"__esModule",{value:!0});var $o=WM(Wl()),uh=class{constructor(n,{headers:t={},schema:r,fetch:i}){this.url=n,this.headers=t,this.schema=r,this.fetch=i}select(n,{head:t=!1,count:r}={}){let i=t?"HEAD":"GET",o=!1,s=(n??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new $o.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:t,defaultToNull:r=!0}={}){let i="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),t&&o.push(`count=${t}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(n)){let s=n.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(s.length>0){let a=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new $o.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:t,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){let s="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(n)){let l=n.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){let c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new $o.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:t}={}){let r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),t&&i.push(`count=${t}`),this.headers.Prefer=i.join(","),new $o.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){let t="DELETE",r=[];return n&&r.push(`count=${n}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new $o.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Bo.default=uh});var n0=Qt(Ql=>{"use strict";Object.defineProperty(Ql,"__esModule",{value:!0});Ql.version=void 0;Ql.version="0.0.0-automated"});var r0=Qt(Zl=>{"use strict";Object.defineProperty(Zl,"__esModule",{value:!0});Zl.DEFAULT_HEADERS=void 0;var QM=n0();Zl.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${QM.version}`}});var o0=Qt(Ho=>{"use strict";var i0=Ho&&Ho.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ho,"__esModule",{value:!0});var ZM=i0(dh()),YM=i0(Wl()),JM=r0(),fh=class e{constructor(n,{headers:t={},schema:r,fetch:i}={}){this.url=n,this.headers=Object.assign(Object.assign({},JM.DEFAULT_HEADERS),t),this.schemaName=r,this.fetch=i}from(n){let t=new URL(`${this.url}/${n}`);return new ZM.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new e(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,t={},{head:r=!1,get:i=!1,count:o}={}){let s,a=new URL(`${this.url}/rpc/${n}`),l;r||i?(s=r?"HEAD":"GET",Object.entries(t).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(s="POST",l=t);let c=Object.assign({},this.headers);return o&&(c.Prefer=`count=${o}`),new YM.default({method:s,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Ho.default=fh});var f0=Qt(Oe=>{"use strict";var Ei=Oe&&Oe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Oe,"__esModule",{value:!0});Oe.PostgrestError=Oe.PostgrestBuilder=Oe.PostgrestTransformBuilder=Oe.PostgrestFilterBuilder=Oe.PostgrestQueryBuilder=Oe.PostgrestClient=void 0;var s0=Ei(o0());Oe.PostgrestClient=s0.default;var a0=Ei(dh());Oe.PostgrestQueryBuilder=a0.default;var l0=Ei(Wl());Oe.PostgrestFilterBuilder=l0.default;var c0=Ei(lh());Oe.PostgrestTransformBuilder=c0.default;var u0=Ei(sh());Oe.PostgrestBuilder=u0.default;var d0=Ei(ih());Oe.PostgrestError=d0.default;Oe.default={PostgrestClient:s0.default,PostgrestQueryBuilder:a0.default,PostgrestFilterBuilder:l0.default,PostgrestTransformBuilder:c0.default,PostgrestBuilder:u0.default,PostgrestError:d0.default}});function Gh(e,n){return Object.is(e,n)}var be=null,ys=!1,Vc=1,Ye=Symbol("SIGNAL");function Z(e){let n=be;return be=e,n}function Wh(){return be}var Hi={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ws(e){if(ys)throw new Error("");if(be===null)return;be.consumerOnSignalRead(e);let n=be.nextProducerIndex++;if(Es(be),n<be.producerNode.length&&be.producerNode[n]!==e&&Bi(be)){let t=be.producerNode[n];Ds(t,be.producerIndexOfThis[n])}be.producerNode[n]!==e&&(be.producerNode[n]=e,be.producerIndexOfThis[n]=Bi(be)?Jh(e,be,n):0),be.producerLastReadVersion[n]=e.version}function B_(){Vc++}function Qh(e){if(!(Bi(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Vc)){if(!e.producerMustRecompute(e)&&!$c(e)){zh(e);return}e.producerRecomputeValue(e),zh(e)}}function Zh(e){if(e.liveConsumerNode===void 0)return;let n=ys;ys=!0;try{for(let t of e.liveConsumerNode)t.dirty||H_(t)}finally{ys=n}}function Yh(){return be?.consumerAllowSignalWrites!==!1}function H_(e){e.dirty=!0,Zh(e),e.consumerMarkedDirty?.(e)}function zh(e){e.dirty=!1,e.lastCleanEpoch=Vc}function bs(e){return e&&(e.nextProducerIndex=0),Z(e)}function Uc(e,n){if(Z(n),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(Bi(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)Ds(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function $c(e){Es(e);for(let n=0;n<e.producerNode.length;n++){let t=e.producerNode[n],r=e.producerLastReadVersion[n];if(r!==t.version||(Qh(t),r!==t.version))return!0}return!1}function Bc(e){if(Es(e),Bi(e))for(let n=0;n<e.producerNode.length;n++)Ds(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Jh(e,n,t){if(Kh(e),e.liveConsumerNode.length===0&&Xh(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=Jh(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(t),e.liveConsumerNode.push(n)-1}function Ds(e,n){if(Kh(e),e.liveConsumerNode.length===1&&Xh(e))for(let r=0;r<e.producerNode.length;r++)Ds(e.producerNode[r],e.producerIndexOfThis[r]);let t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[n],i=e.liveConsumerNode[n];Es(i),i.producerIndexOfThis[r]=n}}function Bi(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Es(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Kh(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function Xh(e){return e.producerNode!==void 0}function ep(e){let n=Object.create(q_);n.computation=e;let t=()=>{if(Qh(n),ws(n),n.value===_s)throw n.error;return n.value};return t[Ye]=n,t}var Lc=Symbol("UNSET"),jc=Symbol("COMPUTING"),_s=Symbol("ERRORED"),q_=z(E({},Hi),{value:Lc,dirty:!0,error:null,equal:Gh,kind:"computed",producerMustRecompute(e){return e.value===Lc||e.value===jc},producerRecomputeValue(e){if(e.value===jc)throw new Error("Detected cycle in computations.");let n=e.value;e.value=jc;let t=bs(e),r,i=!1;try{r=e.computation(),Z(null),i=n!==Lc&&n!==_s&&r!==_s&&e.equal(n,r)}catch(o){r=_s,e.error=o}finally{Uc(e,t)}if(i){e.value=n;return}e.value=r,e.version++}});function z_(){throw new Error}var tp=z_;function np(){tp()}function rp(e){tp=e}var G_=null;function ip(e){let n=Object.create(Hc);n.value=e;let t=()=>(ws(n),n.value);return t[Ye]=n,t}function Cs(e,n){Yh()||np(),e.equal(e.value,n)||(e.value=n,W_(e))}function op(e,n){Yh()||np(),Cs(e,n(e.value))}var Hc=z(E({},Hi),{equal:Gh,value:void 0,kind:"signal"});function W_(e){e.version++,B_(),Zh(e),G_?.()}function R(e){return typeof e=="function"}function Rr(e){let t=e(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Is=Rr(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function qi(e,n){if(e){let t=e.indexOf(n);0<=t&&e.splice(t,1)}}var me=class e{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(R(r))try{r()}catch(o){n=o instanceof Is?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{sp(o)}catch(s){n=n??[],s instanceof Is?n=[...n,...s.errors]:n.push(s)}}if(n)throw new Is(n)}}add(n){var t;if(n&&n!==this)if(this.closed)sp(n);else{if(n instanceof e){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(n)}}_hasParent(n){let{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){let{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&qi(t,n)}remove(n){let{_finalizers:t}=this;t&&qi(t,n),n instanceof e&&n._removeParent(this)}};me.EMPTY=(()=>{let e=new me;return e.closed=!0,e})();var qc=me.EMPTY;function Ss(e){return e instanceof me||e&&"closed"in e&&R(e.remove)&&R(e.add)&&R(e.unsubscribe)}function sp(e){R(e)?e():e.unsubscribe()}var wt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Or={setTimeout(e,n,...t){let{delegate:r}=Or;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){let{delegate:n}=Or;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Ts(e){Or.setTimeout(()=>{let{onUnhandledError:n}=wt;if(n)n(e);else throw e})}function zi(){}var ap=zc("C",void 0,void 0);function lp(e){return zc("E",void 0,e)}function cp(e){return zc("N",e,void 0)}function zc(e,n,t){return{kind:e,value:n,error:t}}var Wn=null;function kr(e){if(wt.useDeprecatedSynchronousErrorHandling){let n=!Wn;if(n&&(Wn={errorThrown:!1,error:null}),e(),n){let{errorThrown:t,error:r}=Wn;if(Wn=null,t)throw r}}else e()}function up(e){wt.useDeprecatedSynchronousErrorHandling&&Wn&&(Wn.errorThrown=!0,Wn.error=e)}var Qn=class extends me{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Ss(n)&&n.add(this)):this.destination=Y_}static create(n,t,r){return new Pr(n,t,r)}next(n){this.isStopped?Wc(cp(n),this):this._next(n)}error(n){this.isStopped?Wc(lp(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Wc(ap,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Q_=Function.prototype.bind;function Gc(e,n){return Q_.call(e,n)}var Qc=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){Ms(r)}}error(n){let{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){Ms(r)}else Ms(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){Ms(t)}}},Pr=class extends Qn{constructor(n,t,r){super();let i;if(R(n)||!n)i={next:n??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&wt.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&Gc(n.next,o),error:n.error&&Gc(n.error,o),complete:n.complete&&Gc(n.complete,o)}):i=n}this.destination=new Qc(i)}};function Ms(e){wt.useDeprecatedSynchronousErrorHandling?up(e):Ts(e)}function Z_(e){throw e}function Wc(e,n){let{onStoppedNotification:t}=wt;t&&Or.setTimeout(()=>t(e,n))}var Y_={closed:!0,next:zi,error:Z_,complete:zi};var Fr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Je(e){return e}function Zc(...e){return Yc(e)}function Yc(e){return e.length===0?Je:e.length===1?e[0]:function(t){return e.reduce((r,i)=>i(r),t)}}var Y=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=K_(t)?t:new Pr(t,r,i);return kr(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=dp(r),new r((i,o)=>{let s=new Pr({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Fr](){return this}pipe(...t){return Yc(t)(this)}toPromise(t){return t=dp(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=n=>new e(n),e})();function dp(e){var n;return(n=e??wt.Promise)!==null&&n!==void 0?n:Promise}function J_(e){return e&&R(e.next)&&R(e.error)&&R(e.complete)}function K_(e){return e&&e instanceof Qn||J_(e)&&Ss(e)}function Jc(e){return R(e?.lift)}function J(e){return n=>{if(Jc(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function G(e,n,t,r,i){return new Kc(e,n,t,r,i)}var Kc=class extends Qn{constructor(n,t,r,i,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){n.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function Lr(){return J((e,n)=>{let t=null;e._refCount++;let r=G(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){t=null;return}let i=e._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}var jr=class extends Y{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Jc(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new me;let t=this.getSubject();n.add(this.source.subscribe(G(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=me.EMPTY)}return n}refCount(){return Lr()(this)}};var fp=Rr(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var De=(()=>{class e extends Y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new xs(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new fp}next(t){kr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){kr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){kr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?qc:(this.currentObservers=null,o.push(t),new me(()=>{this.currentObservers=null,qi(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new Y;return t.source=this,t}}return e.create=(n,t)=>new xs(n,t),e})(),xs=class extends De{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,n)}error(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,n)}complete(){var n,t;(t=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||t===void 0||t.call(n)}_subscribe(n){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(n))!==null&&r!==void 0?r:qc}};var Ae=class extends De{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){let{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}};var $e=new Y(e=>e.complete());function hp(e){return e&&R(e.schedule)}function pp(e){return e[e.length-1]}function As(e){return R(pp(e))?e.pop():void 0}function wn(e){return hp(pp(e))?e.pop():void 0}function mp(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})}function gp(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zn(e){return this instanceof Zn?(this.v=e,this):new Zn(e)}function vp(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(e,n||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(p){return function(v){return Promise.resolve(v).then(p,d)}}function a(p,v){r[p]&&(i[p]=function(_){return new Promise(function(w,I){o.push([p,_,w,I])>1||l(p,_)})},v&&(i[p]=v(i[p])))}function l(p,v){try{c(r[p](v))}catch(_){m(o[0][3],_)}}function c(p){p.value instanceof Zn?Promise.resolve(p.value.v).then(u,d):m(o[0][2],p)}function u(p){l("next",p)}function d(p){l("throw",p)}function m(p,v){p(v),o.shift(),o.length&&l(o[0][0],o[0][1])}}function yp(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],t;return n?n.call(e):(e=typeof gp=="function"?gp(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=e[o]&&function(s){return new Promise(function(a,l){s=e[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var Ns=e=>e&&typeof e.length=="number"&&typeof e!="function";function Rs(e){return R(e?.then)}function Os(e){return R(e[Fr])}function ks(e){return Symbol.asyncIterator&&R(e?.[Symbol.asyncIterator])}function Ps(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function X_(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Fs=X_();function Ls(e){return R(e?.[Fs])}function js(e){return vp(this,arguments,function*(){let t=e.getReader();try{for(;;){let{value:r,done:i}=yield Zn(t.read());if(i)return yield Zn(void 0);yield yield Zn(r)}}finally{t.releaseLock()}})}function Vs(e){return R(e?.getReader)}function ve(e){if(e instanceof Y)return e;if(e!=null){if(Os(e))return ew(e);if(Ns(e))return tw(e);if(Rs(e))return nw(e);if(ks(e))return _p(e);if(Ls(e))return rw(e);if(Vs(e))return iw(e)}throw Ps(e)}function ew(e){return new Y(n=>{let t=e[Fr]();if(R(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function tw(e){return new Y(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}function nw(e){return new Y(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,Ts)})}function rw(e){return new Y(n=>{for(let t of e)if(n.next(t),n.closed)return;n.complete()})}function _p(e){return new Y(n=>{ow(e,n).catch(t=>n.error(t))})}function iw(e){return _p(js(e))}function ow(e,n){var t,r,i,o;return mp(this,void 0,void 0,function*(){try{for(t=yp(e);r=yield t.next(),!r.done;){let s=r.value;if(n.next(s),n.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}n.complete()})}function Be(e,n,t,r=0,i=!1){let o=n.schedule(function(){t(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function Us(e,n=0){return J((t,r)=>{t.subscribe(G(r,i=>Be(r,e,()=>r.next(i),n),()=>Be(r,e,()=>r.complete(),n),i=>Be(r,e,()=>r.error(i),n)))})}function $s(e,n=0){return J((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function wp(e,n){return ve(e).pipe($s(n),Us(n))}function bp(e,n){return ve(e).pipe($s(n),Us(n))}function Dp(e,n){return new Y(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}function Ep(e,n){return new Y(t=>{let r;return Be(t,n,()=>{r=e[Fs](),Be(t,n,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>R(r?.return)&&r.return()})}function Bs(e,n){if(!e)throw new Error("Iterable cannot be null");return new Y(t=>{Be(t,n,()=>{let r=e[Symbol.asyncIterator]();Be(t,n,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Cp(e,n){return Bs(js(e),n)}function Ip(e,n){if(e!=null){if(Os(e))return wp(e,n);if(Ns(e))return Dp(e,n);if(Rs(e))return bp(e,n);if(ks(e))return Bs(e,n);if(Ls(e))return Ep(e,n);if(Vs(e))return Cp(e,n)}throw Ps(e)}function he(e,n){return n?Ip(e,n):ve(e)}function A(...e){let n=wn(e);return he(e,n)}function Vr(e,n){let t=R(e)?e:()=>e,r=i=>i.error(t());return new Y(n?i=>n.schedule(r,0,i):r)}function Xc(e){return!!e&&(e instanceof Y||R(e.lift)&&R(e.subscribe))}var Zt=Rr(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function P(e,n){return J((t,r)=>{let i=0;t.subscribe(G(r,o=>{r.next(e.call(n,o,i++))}))})}var{isArray:sw}=Array;function aw(e,n){return sw(n)?e(...n):e(n)}function Hs(e){return P(n=>aw(e,n))}var{isArray:lw}=Array,{getPrototypeOf:cw,prototype:uw,keys:dw}=Object;function qs(e){if(e.length===1){let n=e[0];if(lw(n))return{args:n,keys:null};if(fw(n)){let t=dw(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}function fw(e){return e&&typeof e=="object"&&cw(e)===uw}function zs(e,n){return e.reduce((t,r,i)=>(t[r]=n[i],t),{})}function Gs(...e){let n=wn(e),t=As(e),{args:r,keys:i}=qs(e);if(r.length===0)return he([],n);let o=new Y(hw(r,n,i?s=>zs(i,s):Je));return t?o.pipe(Hs(t)):o}function hw(e,n,t=Je){return r=>{Sp(n,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)Sp(n,()=>{let c=he(e[l],n),u=!1;c.subscribe(G(r,d=>{o[l]=d,u||(u=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Sp(e,n,t){e?Be(t,e,n):n()}function Tp(e,n,t,r,i,o,s,a){let l=[],c=0,u=0,d=!1,m=()=>{d&&!l.length&&!c&&n.complete()},p=_=>c<r?v(_):l.push(_),v=_=>{o&&n.next(_),c++;let w=!1;ve(t(_,u++)).subscribe(G(n,I=>{i?.(I),o?p(I):n.next(I)},()=>{w=!0},void 0,()=>{if(w)try{for(c--;l.length&&c<r;){let I=l.shift();s?Be(n,s,()=>v(I)):v(I)}m()}catch(I){n.error(I)}}))};return e.subscribe(G(n,p,()=>{d=!0,m()})),()=>{a?.()}}function Ee(e,n,t=1/0){return R(n)?Ee((r,i)=>P((o,s)=>n(r,o,i,s))(ve(e(r,i))),t):(typeof n=="number"&&(t=n),J((r,i)=>Tp(r,i,e,t)))}function eu(e=1/0){return Ee(Je,e)}function Mp(){return eu(1)}function Ur(...e){return Mp()(he(e,wn(e)))}function Ws(e){return new Y(n=>{ve(e()).subscribe(n)})}function tu(...e){let n=As(e),{args:t,keys:r}=qs(e),i=new Y(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let d=!1;ve(t[u]).subscribe(G(o,m=>{d||(d=!0,c--),a[u]=m},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(r?zs(r,a):a),o.complete())}))}});return n?i.pipe(Hs(n)):i}function Ke(e,n){return J((t,r)=>{let i=0;t.subscribe(G(r,o=>e.call(n,o,i++)&&r.next(o)))})}function bn(e){return J((n,t)=>{let r=null,i=!1,o;r=n.subscribe(G(t,void 0,void 0,s=>{o=ve(e(s,bn(e)(n))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function xp(e,n,t,r,i){return(o,s)=>{let a=t,l=n,c=0;o.subscribe(G(s,u=>{let d=c++;l=a?e(l,u,d):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function Dn(e,n){return R(n)?Ee(e,n,1):Ee(e,1)}function En(e){return J((n,t)=>{let r=!1;n.subscribe(G(t,i=>{r=!0,t.next(i)},()=>{r||t.next(e),t.complete()}))})}function Yt(e){return e<=0?()=>$e:J((n,t)=>{let r=0;n.subscribe(G(t,i=>{++r<=e&&(t.next(i),e<=r&&t.complete())}))})}function Qs(e=pw){return J((n,t)=>{let r=!1;n.subscribe(G(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(e())))})}function pw(){return new Zt}function Yn(e){return J((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function Jt(e,n){let t=arguments.length>=2;return r=>r.pipe(e?Ke((i,o)=>e(i,o,r)):Je,Yt(1),t?En(n):Qs(()=>new Zt))}function $r(e){return e<=0?()=>$e:J((n,t)=>{let r=[];n.subscribe(G(t,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function nu(e,n){let t=arguments.length>=2;return r=>r.pipe(e?Ke((i,o)=>e(i,o,r)):Je,$r(1),t?En(n):Qs(()=>new Zt))}function ru(e,n){return J(xp(e,n,arguments.length>=2,!0))}function iu(...e){let n=wn(e);return J((t,r)=>{(n?Ur(e,t,n):Ur(e,t)).subscribe(r)})}function Xe(e,n){return J((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(G(r,l=>{i?.unsubscribe();let c=0,u=o++;ve(e(l,u)).subscribe(i=G(r,d=>r.next(n?n(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function ou(e){return J((n,t)=>{ve(e).subscribe(G(t,()=>t.complete(),zi)),!t.closed&&n.subscribe(t)})}function Te(e,n,t){let r=R(e)||n||t?{next:e,error:n,complete:t}:e;return r?J((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(G(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):Je}var vg="https://g.co/ng/security#xss",C=class extends Error{code;constructor(n,t){super(Ra(n,t)),this.code=n}};function Ra(e,n){return`${`NG0${Math.abs(e)}`}${n?": "+n:""}`}var yg=Symbol("InputSignalNode#UNSET"),gw=z(E({},Hc),{transformFn:void 0,applyValueToInputSignal(e,n){Cs(e,n)}});function _g(e,n){let t=Object.create(gw);t.value=e,t.transformFn=n?.transform;function r(){if(ws(t),t.value===yg)throw new C(-950,!1);return t.value}return r[Ye]=t,r}function ro(e){return{toString:e}.toString()}var Zs="__parameters__";function mw(e){return function(...t){if(e){let r=e(...t);for(let i in r)this[i]=r[i]}}}function wg(e,n,t){return ro(()=>{let r=mw(n);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,c,u){let d=l.hasOwnProperty(Zs)?l[Zs]:Object.defineProperty(l,Zs,{value:[]})[Zs];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var Kn=globalThis;function re(e){for(let n in e)if(e[n]===re)return n;throw Error("Could not find renamed property on target object.")}function vw(e,n){for(let t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function Le(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(Le).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let n=e.toString();if(n==null)return""+n;let t=n.indexOf(`
`);return t===-1?n:n.substring(0,t)}function Ap(e,n){return e==null||e===""?n===null?"":n:n==null||n===""?e:e+" "+n}var yw=re({__forward_ref__:re});function dt(e){return e.__forward_ref__=dt,e.toString=function(){return Le(this())},e}function Fe(e){return bg(e)?e():e}function bg(e){return typeof e=="function"&&e.hasOwnProperty(yw)&&e.__forward_ref__===dt}function T(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function nn(e){return{providers:e.providers||[],imports:e.imports||[]}}function Oa(e){return Np(e,Eg)||Np(e,Cg)}function Dg(e){return Oa(e)!==null}function Np(e,n){return e.hasOwnProperty(n)?e[n]:null}function _w(e){let n=e&&(e[Eg]||e[Cg]);return n||null}function Rp(e){return e&&(e.hasOwnProperty(Op)||e.hasOwnProperty(ww))?e[Op]:null}var Eg=re({\u0275prov:re}),Op=re({\u0275inj:re}),Cg=re({ngInjectableDef:re}),ww=re({ngInjectorDef:re}),S=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,t){this._desc=n,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=T({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Ig(e){return e&&!!e.\u0275providers}var bw=re({\u0275cmp:re}),Dw=re({\u0275dir:re}),Ew=re({\u0275pipe:re}),Cw=re({\u0275mod:re}),ia=re({\u0275fac:re}),Zi=re({__NG_ELEMENT_ID__:re}),kp=re({__NG_ENV_ID__:re});function ka(e){return typeof e=="string"?e:e==null?"":String(e)}function Iw(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():ka(e)}function Sw(e,n){let t=n?`. Dependency path: ${n.join(" > ")} > ${e}`:"";throw new C(-200,e)}function id(e,n){throw new C(-201,!1)}var V=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(V||{}),_u;function Sg(){return _u}function He(e){let n=_u;return _u=e,n}function Tg(e,n,t){let r=Oa(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&V.Optional)return null;if(n!==void 0)return n;id(e,"Injector")}var Tw={},Yi=Tw,wu="__NG_DI_FLAG__",oa="ngTempTokenPath",Mw="ngTokenPath",xw=/\n/gm,Aw="\u0275",Pp="__source",zr;function Nw(){return zr}function Cn(e){let n=zr;return zr=e,n}function Rw(e,n=V.Default){if(zr===void 0)throw new C(-203,!1);return zr===null?Tg(e,void 0,n):zr.get(e,n&V.Optional?null:void 0,n)}function x(e,n=V.Default){return(Sg()||Rw)(Fe(e),n)}function D(e,n=V.Default){return x(e,Pa(n))}function Pa(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function bu(e){let n=[];for(let t=0;t<e.length;t++){let r=Fe(e[t]);if(Array.isArray(r)){if(r.length===0)throw new C(900,!1);let i,o=V.Default;for(let s=0;s<r.length;s++){let a=r[s],l=Ow(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}n.push(x(i,o))}else n.push(x(r))}return n}function Mg(e,n){return e[wu]=n,e.prototype[wu]=n,e}function Ow(e){return e[wu]}function kw(e,n,t,r){let i=e[oa];throw n[Pp]&&i.unshift(n[Pp]),e.message=Pw(`
`+e.message,i,t,r),e[Mw]=i,e[oa]=null,e}function Pw(e,n,t,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==Aw?e.slice(2):e;let i=Le(n);if(Array.isArray(n))i=n.map(Le).join(" -> ");else if(typeof n=="object"){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Le(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${e.replace(xw,`
  `)}`}var xg=Mg(wg("Optional"),8);var Fw=Mg(wg("SkipSelf"),4);function er(e,n){let t=e.hasOwnProperty(ia);return t?e[ia]:null}function od(e,n){e.forEach(t=>Array.isArray(t)?od(t,n):n(t))}function Ag(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function sa(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function Lw(e,n,t,r){let i=e.length;if(i==n)e.push(t,r);else if(i===1)e.push(r,e[0]),e[0]=t;else{for(i--,e.push(e[i-1],e[i]);i>n;){let o=i-2;e[i]=e[o],i--}e[n]=t,e[n+1]=r}}function jw(e,n,t){let r=io(e,n);return r>=0?e[r|1]=t:(r=~r,Lw(e,r,n,t)),r}function su(e,n){let t=io(e,n);if(t>=0)return e[t|1]}function io(e,n){return Vw(e,n,1)}function Vw(e,n,t){let r=0,i=e.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<t];if(n===s)return o<<t;s>n?i=o:r=o+1}return~(i<<t)}var Wr={},st=[],Qr=new S(""),Ng=new S("",-1),Rg=new S(""),aa=class{get(n,t=Yi){if(t===Yi){let r=new Error(`NullInjectorError: No provider for ${Le(n)}!`);throw r.name="NullInjectorError",r}return t}};function Og(e,n){let t=e[Cw]||null;if(!t&&n===!0)throw new Error(`Type ${Le(e)} does not have '\u0275mod' property.`);return t}function tr(e){return e[bw]||null}function kg(e){return e[Dw]||null}function Pg(e){return e[Ew]||null}function Fg(e){let n=tr(e)||kg(e)||Pg(e);return n!==null&&n.standalone}function ii(e){return{\u0275providers:e}}function Uw(...e){return{\u0275providers:Lg(!0,e),\u0275fromNgModule:!0}}function Lg(e,...n){let t=[],r=new Set,i,o=s=>{t.push(s)};return od(n,s=>{let a=s;Du(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&jg(i,o),t}function jg(e,n){for(let t=0;t<e.length;t++){let{ngModule:r,providers:i}=e[t];sd(i,o=>{n(o,r)})}}function Du(e,n,t,r){if(e=Fe(e),!e)return!1;let i=null,o=Rp(e),s=!o&&tr(e);if(!o&&!s){let l=e.ngModule;if(o=Rp(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)Du(c,n,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{od(o.imports,u=>{Du(u,n,t,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&jg(c,n)}if(!a){let c=er(i)||(()=>new i);n({provide:i,useFactory:c,deps:st},i),n({provide:Rg,useValue:i,multi:!0},i),n({provide:Qr,useValue:()=>x(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=e;sd(l,u=>{n(u,c)})}}else return!1;return i!==e&&e.providers!==void 0}function sd(e,n){for(let t of e)Ig(t)&&(t=t.\u0275providers),Array.isArray(t)?sd(t,n):n(t)}var $w=re({provide:String,useValue:re});function Vg(e){return e!==null&&typeof e=="object"&&$w in e}function Bw(e){return!!(e&&e.useExisting)}function Hw(e){return!!(e&&e.useFactory)}function Zr(e){return typeof e=="function"}function qw(e){return!!e.useClass}var Fa=new S(""),Xs={},zw={},au;function ad(){return au===void 0&&(au=new aa),au}var qe=class{},Ji=class extends qe{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Cu(n,s=>this.processProvider(s)),this.records.set(Ng,Br(void 0,this)),i.has("environment")&&this.records.set(qe,Br(void 0,this));let o=this.records.get(Fa);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Rg,st,V.Self))}destroy(){Wi(this),this._destroyed=!0;let n=Z(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Z(n)}}onDestroy(n){return Wi(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){Wi(this);let t=Cn(this),r=He(void 0),i;try{return n()}finally{Cn(t),He(r)}}get(n,t=Yi,r=V.Default){if(Wi(this),n.hasOwnProperty(kp))return n[kp](this);r=Pa(r);let i,o=Cn(this),s=He(void 0);try{if(!(r&V.SkipSelf)){let l=this.records.get(n);if(l===void 0){let c=Yw(n)&&Oa(n);c&&this.injectableDefInScope(c)?l=Br(Eu(n),Xs):l=null,this.records.set(n,l)}if(l!=null)return this.hydrate(n,l)}let a=r&V.Self?ad():this.parent;return t=r&V.Optional&&t===Yi?null:t,a.get(n,t)}catch(a){if(a.name==="NullInjectorError"){if((a[oa]=a[oa]||[]).unshift(Le(n)),o)throw a;return kw(a,n,"R3InjectorError",this.source)}else throw a}finally{He(s),Cn(o)}}resolveInjectorInitializers(){let n=Z(null),t=Cn(this),r=He(void 0),i;try{let o=this.get(Qr,st,V.Self);for(let s of o)s()}finally{Cn(t),He(r),Z(n)}}toString(){let n=[],t=this.records;for(let r of t.keys())n.push(Le(r));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=Fe(n);let t=Zr(n)?n:Fe(n&&n.provide),r=Ww(n);if(!Zr(n)&&n.multi===!0){let i=this.records.get(t);i||(i=Br(void 0,Xs,!0),i.factory=()=>bu(i.multi),this.records.set(t,i)),t=n,i.multi.push(n)}this.records.set(t,r)}hydrate(n,t){let r=Z(null);try{return t.value===Xs&&(t.value=zw,t.value=t.factory()),typeof t.value=="object"&&t.value&&Zw(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Z(r)}}injectableDefInScope(n){if(!n.providedIn)return!1;let t=Fe(n.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){let t=this._onDestroyHooks.indexOf(n);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Eu(e){let n=Oa(e),t=n!==null?n.factory:er(e);if(t!==null)return t;if(e instanceof S)throw new C(204,!1);if(e instanceof Function)return Gw(e);throw new C(204,!1)}function Gw(e){if(e.length>0)throw new C(204,!1);let t=_w(e);return t!==null?()=>t.factory(e):()=>new e}function Ww(e){if(Vg(e))return Br(void 0,e.useValue);{let n=Ug(e);return Br(n,Xs)}}function Ug(e,n,t){let r;if(Zr(e)){let i=Fe(e);return er(i)||Eu(i)}else if(Vg(e))r=()=>Fe(e.useValue);else if(Hw(e))r=()=>e.useFactory(...bu(e.deps||[]));else if(Bw(e))r=()=>x(Fe(e.useExisting));else{let i=Fe(e&&(e.useClass||e.provide));if(Qw(e))r=()=>new i(...bu(e.deps));else return er(i)||Eu(i)}return r}function Wi(e){if(e.destroyed)throw new C(205,!1)}function Br(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function Qw(e){return!!e.deps}function Zw(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function Yw(e){return typeof e=="function"||typeof e=="object"&&e instanceof S}function Cu(e,n){for(let t of e)Array.isArray(t)?Cu(t,n):t&&Ig(t)?Cu(t.\u0275providers,n):n(t)}function tt(e,n){e instanceof Ji&&Wi(e);let t,r=Cn(e),i=He(void 0);try{return n()}finally{Cn(r),He(i)}}function Jw(){return Sg()!==void 0||Nw()!=null}function Kw(e){return typeof e=="function"}var rn=0,K=1,O=2,je=3,Dt=4,Ct=5,la=6,ca=7,ct=8,Ki=9,Kt=10,pe=11,Xi=12,Fp=13,oi=14,Rt=15,Yr=16,Hr=17,Jr=18,La=19,$g=20,In=21,lu=22,ua=23,et=24,ut=25,Bg=1;var nr=7,da=8,fa=9,lt=10;function Sn(e){return Array.isArray(e)&&typeof e[Bg]=="object"}function on(e){return Array.isArray(e)&&e[Bg]===!0}function ld(e){return(e.flags&4)!==0}function cr(e){return e.componentOffset>-1}function ja(e){return(e.flags&1)===1}function Xt(e){return!!e.template}function ha(e){return(e[O]&512)!==0}function oo(e){return(e[O]&256)===256}var Iu=class{previousValue;currentValue;firstChange;constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function Hg(e,n,t,r){n!==null?n.applyValueToInputSignal(n,r):e[t]=r}var An=(()=>{let e=()=>qg;return e.ngInherit=!0,e})();function qg(e){return e.type.prototype.ngOnChanges&&(e.setInput=eb),Xw}function Xw(){let e=Gg(this),n=e?.current;if(n){let t=e.previous;if(t===Wr)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function eb(e,n,t,r,i){let o=this.declaredInputs[r],s=Gg(e)||tb(e,{previous:Wr,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new Iu(c&&c.currentValue,t,l===Wr),Hg(e,n,i,t)}var zg="__ngSimpleChanges__";function Gg(e){return e[zg]||null}function tb(e,n){return e[zg]=n}var Lp=null;var at=function(e,n,t){Lp?.(e,n,t)},nb="svg",rb="math";function Ot(e){for(;Array.isArray(e);)e=e[rn];return e}function Wg(e,n){return Ot(n[e])}function It(e,n){return Ot(n[e.index])}function Qg(e,n){return e.data[n]}function ib(e,n){return e[n]}function kt(e,n){let t=n[e];return Sn(t)?t:t[rn]}function cd(e){return(e[O]&128)===128}function ob(e){return on(e[je])}function Kr(e,n){return n==null?null:e[n]}function Zg(e){e[Hr]=0}function ud(e){e[O]&1024||(e[O]|=1024,cd(e)&&Ua(e))}function sb(e,n){for(;e>0;)n=n[oi],e--;return n}function Va(e){return!!(e[O]&9216||e[et]?.dirty)}function Su(e){e[Kt].changeDetectionScheduler?.notify(9),e[O]&64&&(e[O]|=1024),Va(e)&&Ua(e)}function Ua(e){e[Kt].changeDetectionScheduler?.notify(0);let n=rr(e);for(;n!==null&&!(n[O]&8192||(n[O]|=8192,!cd(n)));)n=rr(n)}function Yg(e,n){if(oo(e))throw new C(911,!1);e[In]===null&&(e[In]=[]),e[In].push(n)}function ab(e,n){if(e[In]===null)return;let t=e[In].indexOf(n);t!==-1&&e[In].splice(t,1)}function rr(e){let n=e[je];return on(n)?n[je]:n}function lb(e){return e[ca]??=[]}function cb(e){return e.cleanup??=[]}var B={lFrame:om(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Tu=!1;function ub(){return B.lFrame.elementDepthCount}function db(){B.lFrame.elementDepthCount++}function fb(){B.lFrame.elementDepthCount--}function Jg(){return B.bindingsEnabled}function hb(){return B.skipHydrationRootTNode!==null}function pb(e){return B.skipHydrationRootTNode===e}function gb(){B.skipHydrationRootTNode=null}function ne(){return B.lFrame.lView}function Ne(){return B.lFrame.tView}function se(e){return B.lFrame.contextLView=e,e[ct]}function ae(e){return B.lFrame.contextLView=null,e}function ze(){let e=Kg();for(;e!==null&&e.type===64;)e=e.parent;return e}function Kg(){return B.lFrame.currentTNode}function mb(){let e=B.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}function ur(e,n){let t=B.lFrame;t.currentTNode=e,t.isParent=n}function dd(){return B.lFrame.isParent}function Xg(){B.lFrame.isParent=!1}function em(){return Tu}function jp(e){let n=Tu;return Tu=e,n}function tm(){let e=B.lFrame,n=e.bindingRootIndex;return n===-1&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function vb(e){return B.lFrame.bindingIndex=e}function $a(){return B.lFrame.bindingIndex++}function yb(e){let n=B.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function _b(){return B.lFrame.inI18n}function wb(e,n){let t=B.lFrame;t.bindingIndex=t.bindingRootIndex=e,Mu(n)}function bb(){return B.lFrame.currentDirectiveIndex}function Mu(e){B.lFrame.currentDirectiveIndex=e}function Db(e){let n=B.lFrame.currentDirectiveIndex;return n===-1?null:e[n]}function nm(e){B.lFrame.currentQueryIndex=e}function Eb(e){let n=e[K];return n.type===2?n.declTNode:n.type===1?e[Ct]:null}function rm(e,n,t){if(t&V.SkipSelf){let i=n,o=e;for(;i=i.parent,i===null&&!(t&V.Host);)if(i=Eb(o),i===null||(o=o[oi],i.type&10))break;if(i===null)return!1;n=i,e=o}let r=B.lFrame=im();return r.currentTNode=n,r.lView=e,!0}function fd(e){let n=im(),t=e[K];B.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function im(){let e=B.lFrame,n=e===null?null:e.child;return n===null?om(e):n}function om(e){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=n),n}function sm(){let e=B.lFrame;return B.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var am=sm;function hd(){let e=sm();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Cb(e){return(B.lFrame.contextLView=sb(e,B.lFrame.contextLView))[ct]}function si(){return B.lFrame.selectedIndex}function ir(e){B.lFrame.selectedIndex=e}function Ba(){let e=B.lFrame;return Qg(e.tView,e.selectedIndex)}function Ib(){return B.lFrame.currentNamespace}var lm=!0;function Ha(){return lm}function qa(e){lm=e}function Sb(e,n,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=n.type.prototype;if(r){let s=qg(n);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}i&&(t.preOrderHooks??=[]).push(0-e,i),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}function za(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){let o=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-t,s),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),l&&(e.viewHooks??=[]).push(-t,l),c&&((e.viewHooks??=[]).push(t,c),(e.viewCheckHooks??=[]).push(t,c)),u!=null&&(e.destroyHooks??=[]).push(t,u)}}function ea(e,n,t){cm(e,n,3,t)}function ta(e,n,t,r){(e[O]&3)===t&&cm(e,n,t,r)}function cu(e,n){let t=e[O];(t&3)===n&&(t&=16383,t+=1,e[O]=t)}function cm(e,n,t,r){let i=r!==void 0?e[Hr]&65535:0,o=r??-1,s=n.length-1,a=0;for(let l=i;l<s;l++)if(typeof n[l+1]=="number"){if(a=n[l],r!=null&&a>=r)break}else n[l]<0&&(e[Hr]+=65536),(a<o||o==-1)&&(Tb(e,t,n,l),e[Hr]=(e[Hr]&4294901760)+l+2),l++}function Vp(e,n){at(4,e,n);let t=Z(null);try{n.call(e)}finally{Z(t),at(5,e,n)}}function Tb(e,n,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=e[s];i?e[O]>>14<e[Hr]>>16&&(e[O]&3)===n&&(e[O]+=16384,Vp(a,o)):Vp(a,o)}var Gr=-1,or=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,t,r){this.factory=n,this.canSeeViewProviders=t,this.injectImpl=r}};function Mb(e){return e instanceof or}function xb(e){return(e.flags&8)!==0}function Ab(e){return(e.flags&16)!==0}function Nb(e,n,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];e.setAttribute(n,s,a,o)}else{let o=i,s=t[++r];Rb(o)?e.setProperty(n,o,s):e.setAttribute(n,o,s),r++}}return r}function um(e){return e===3||e===4||e===6}function Rb(e){return e.charCodeAt(0)===64}function Xr(e,n){if(!(n===null||n.length===0))if(e===null||e.length===0)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){let i=n[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?Up(e,t,i,null,n[++r]):Up(e,t,i,null,null))}}return e}function Up(e,n,t,r,i){let o=0,s=e.length;if(n===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===n){s=-1;break}else if(a>n){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(e[o+1]=i);return}else if(r===e[o+1]){e[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(e.splice(s,0,n),o=s+1),e.splice(o++,0,t),r!==null&&e.splice(o++,0,r),i!==null&&e.splice(o++,0,i)}var uu={},xu=class{injector;parentInjector;constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){r=Pa(r);let i=this.injector.get(n,uu,r);return i!==uu||t===uu?i:this.parentInjector.get(n,t,r)}};function dm(e){return e!==Gr}function pa(e){return e&32767}function Ob(e){return e>>16}function ga(e,n){let t=Ob(e),r=n;for(;t>0;)r=r[oi],t--;return r}var Au=!0;function ma(e){let n=Au;return Au=e,n}var kb=256,fm=kb-1,hm=5,Pb=0,Nt={};function Fb(e,n,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Zi)&&(r=t[Zi]),r==null&&(r=t[Zi]=Pb++);let i=r&fm,o=1<<i;n.data[e+(i>>hm)]|=o}function va(e,n){let t=pm(e,n);if(t!==-1)return t;let r=n[K];r.firstCreatePass&&(e.injectorIndex=n.length,du(r.data,e),du(n,null),du(r.blueprint,null));let i=pd(e,n),o=e.injectorIndex;if(dm(i)){let s=pa(i),a=ga(i,n),l=a[K].data;for(let c=0;c<8;c++)n[o+c]=a[s+c]|l[s+c]}return n[o+8]=i,o}function du(e,n){e.push(0,0,0,0,0,0,0,0,n)}function pm(e,n){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||n[e.injectorIndex+8]===null?-1:e.injectorIndex}function pd(e,n){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let t=0,r=null,i=n;for(;i!==null;){if(r=_m(i),r===null)return Gr;if(t++,i=i[oi],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Gr}function Nu(e,n,t){Fb(e,n,t)}function Lb(e,n){if(n==="class")return e.classes;if(n==="style")return e.styles;let t=e.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(um(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===n)return t[i+1];i=i+2}}}return null}function gm(e,n,t){if(t&V.Optional||e!==void 0)return e;id(n,"NodeInjector")}function mm(e,n,t,r){if(t&V.Optional&&r===void 0&&(r=null),!(t&(V.Self|V.Host))){let i=e[Ki],o=He(void 0);try{return i?i.get(n,r,t&V.Optional):Tg(n,r,t&V.Optional)}finally{He(o)}}return gm(r,n,t)}function vm(e,n,t,r=V.Default,i){if(e!==null){if(n[O]&2048&&!(r&V.Self)){let s=Bb(e,n,t,r,Nt);if(s!==Nt)return s}let o=ym(e,n,t,r,Nt);if(o!==Nt)return o}return mm(n,t,r,i)}function ym(e,n,t,r,i){let o=Ub(t);if(typeof o=="function"){if(!rm(n,e,r))return r&V.Host?gm(i,t,r):mm(n,t,r,i);try{let s;if(s=o(r),s==null&&!(r&V.Optional))id(t);else return s}finally{am()}}else if(typeof o=="number"){let s=null,a=pm(e,n),l=Gr,c=r&V.Host?n[Rt][Ct]:null;for((a===-1||r&V.SkipSelf)&&(l=a===-1?pd(e,n):n[a+8],l===Gr||!Bp(r,!1)?a=-1:(s=n[K],a=pa(l),n=ga(l,n)));a!==-1;){let u=n[K];if($p(o,a,u.data)){let d=jb(a,n,t,s,r,c);if(d!==Nt)return d}l=n[a+8],l!==Gr&&Bp(r,n[K].data[a+8]===c)&&$p(o,a,n)?(s=u,a=pa(l),n=ga(l,n)):a=-1}}return i}function jb(e,n,t,r,i,o){let s=n[K],a=s.data[e+8],l=r==null?cr(a)&&Au:r!=s&&(a.type&3)!==0,c=i&V.Host&&o===a,u=Vb(a,s,t,l,c);return u!==null?ya(n,s,u,a):Nt}function Vb(e,n,t,r,i){let o=e.providerIndexes,s=n.data,a=o&1048575,l=e.directiveStart,c=e.directiveEnd,u=o>>20,d=r?a:a+u,m=i?a+u:c;for(let p=d;p<m;p++){let v=s[p];if(p<l&&t===v||p>=l&&v.type===t)return p}if(i){let p=s[l];if(p&&Xt(p)&&p.type===t)return l}return null}function ya(e,n,t,r){let i=e[t],o=n.data;if(Mb(i)){let s=i;s.resolving&&Sw(Iw(o[t]));let a=ma(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?He(s.injectImpl):null,u=rm(e,r,V.Default);try{i=e[t]=s.factory(void 0,o,e,r),n.firstCreatePass&&t>=r.directiveStart&&Sb(t,o[t],n)}finally{c!==null&&He(c),ma(a),s.resolving=!1,am()}}return i}function Ub(e){if(typeof e=="string")return e.charCodeAt(0)||0;let n=e.hasOwnProperty(Zi)?e[Zi]:void 0;return typeof n=="number"?n>=0?n&fm:$b:n}function $p(e,n,t){let r=1<<e;return!!(t[n+(e>>hm)]&r)}function Bp(e,n){return!(e&V.Self)&&!(e&V.Host&&n)}var Xn=class{_tNode;_lView;constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return vm(this._tNode,this._lView,n,Pa(r),t)}};function $b(){return new Xn(ze(),ne())}function sn(e){return ro(()=>{let n=e.prototype.constructor,t=n[ia]||Ru(n),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[ia]||Ru(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Ru(e){return bg(e)?()=>{let n=Ru(Fe(e));return n&&n()}:er(e)}function Bb(e,n,t,r,i){let o=e,s=n;for(;o!==null&&s!==null&&s[O]&2048&&!ha(s);){let a=ym(o,s,t,r|V.Self,Nt);if(a!==Nt)return a;let l=o.parent;if(!l){let c=s[$g];if(c){let u=c.get(t,Nt,r);if(u!==Nt)return u}l=_m(s),s=s[oi]}o=l}return i}function _m(e){let n=e[K],t=n.type;return t===2?n.declTNode:t===1?e[Ct]:null}function gd(e){return Lb(ze(),e)}function Hp(e,n=null,t=null,r){let i=wm(e,n,t,r);return i.resolveInjectorInitializers(),i}function wm(e,n=null,t=null,r,i=new Set){let o=[t||st,Uw(e)];return r=r||(typeof e=="object"?void 0:Le(e)),new Ji(o,n||ad(),r||null,i)}var Et=class e{static THROW_IF_NOT_FOUND=Yi;static NULL=new aa;static create(n,t){if(Array.isArray(n))return Hp({name:""},t,n,"");{let r=n.name??"";return Hp({name:r},n.parent,n.providers,r)}}static \u0275prov=T({token:e,providedIn:"any",factory:()=>x(Ng)});static __NG_ELEMENT_ID__=-1};var Hb=new S("");Hb.__NG_ELEMENT_ID__=e=>{let n=ze();if(n===null)throw new C(204,!1);if(n.type&2)return n.value;if(e&V.Optional)return null;throw new C(204,!1)};var bm=!1,Ga=(()=>{class e{static __NG_ELEMENT_ID__=qb;static __NG_ENV_ID__=t=>t}return e})(),Ou=class extends Ga{_lView;constructor(n){super(),this._lView=n}onDestroy(n){return Yg(this._lView,n),()=>ab(this._lView,n)}};function qb(){return new Ou(ne())}var ei=class{},Wa=new S("",{providedIn:"root",factory:()=>!1});var Dm=new S(""),md=new S(""),Nn=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Ae(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=T({token:e,providedIn:"root",factory:()=>new e})}return e})();var ku=class extends De{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,Jw()&&(this.destroyRef=D(Ga,{optional:!0})??void 0,this.pendingTasks=D(Nn,{optional:!0})??void 0)}emit(n){let t=Z(null);try{super.next(n)}finally{Z(t)}}subscribe(n,t,r){let i=n,o=t||(()=>null),s=r;if(n&&typeof n=="object"){let l=n;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return n instanceof me&&n.add(a),a}wrapInTimeout(n){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{n(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},oe=ku;function _a(...e){}function Em(e){let n,t;function r(){e=_a;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{e(),r()})),()=>r()}function qp(e){return queueMicrotask(()=>e()),()=>{e=_a}}var vd="isAngularZone",wa=vd+"_ID",zb=0,ye=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new oe(!1);onMicrotaskEmpty=new oe(!1);onStable=new oe(!1);onError=new oe(!1);constructor(n){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=bm}=n;if(typeof Zone>"u")throw new C(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Qb(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(vd)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new C(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new C(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,n,Gb,_a,_a);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}},Gb={};function yd(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Wb(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function n(){Em(()=>{e.callbackScheduled=!1,Pu(e),e.isCheckStableRunning=!0,yd(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),Pu(e)}function Qb(e){let n=()=>{Wb(e)},t=zb++;e._inner=e._inner.fork({name:"angular",properties:{[vd]:!0,[wa]:t,[wa+t]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(Zb(l))return r.invokeTask(o,s,a,l);try{return zp(e),r.invokeTask(o,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&n(),Gp(e)}},onInvoke:(r,i,o,s,a,l,c)=>{try{return zp(e),r.invoke(o,s,a,l,c)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!Yb(l)&&n(),Gp(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Pu(e),yd(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Pu(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function zp(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Gp(e){e._nesting--,yd(e)}var ba=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new oe;onMicrotaskEmpty=new oe;onStable=new oe;onError=new oe;run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,i){return n.apply(t,r)}};function Zb(e){return Cm(e,"__ignore_ng_zone__")}function Yb(e){return Cm(e,"__scheduler_tick__")}function Cm(e,n){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[n]===!0}var Tn=class{_console=console;handleError(n){this._console.error("ERROR",n)}},Jb=new S("",{providedIn:"root",factory:()=>{let e=D(ye),n=D(Tn);return t=>e.runOutsideAngular(()=>n.handleError(t))}});function Wp(e,n){return _g(e,n)}function Kb(e){return _g(yg,e)}var Im=(Wp.required=Kb,Wp);function Xb(){return Qa(ze(),ne())}function Qa(e,n){return new St(It(e,n))}var St=(()=>{class e{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=Xb}return e})();var Qp=new Set;function ai(e){Qp.has(e)||(Qp.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function eD(e){return typeof e=="function"&&e[Ye]!==void 0}function Ft(e,n){ai("NgSignals");let t=ip(e),r=t[Ye];return n?.equal&&(r.equal=n.equal),t.set=i=>Cs(r,i),t.update=i=>op(r,i),t.asReadonly=tD.bind(t),t}function tD(){let e=this[Ye];if(e.readonlyFn===void 0){let n=()=>this();n[Ye]=e,e.readonlyFn=n}return e.readonlyFn}function Sm(e){return eD(e)&&typeof e.set=="function"}function Tm(e){return(e.flags&128)===128}var Mm=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Mm||{}),xm=new Map,nD=0;function rD(){return nD++}function iD(e){xm.set(e[La],e)}function Fu(e){xm.delete(e[La])}var Zp="__ngContext__";function dr(e,n){Sn(n)?(e[Zp]=n[La],iD(n)):e[Zp]=n}function Am(e){return Rm(e[Xi])}function Nm(e){return Rm(e[Dt])}function Rm(e){for(;e!==null&&!on(e);)e=e[Dt];return e}var Lu;function Om(e){Lu=e}function oD(){if(Lu!==void 0)return Lu;if(typeof document<"u")return document;throw new C(210,!1)}var _d=new S("",{providedIn:"root",factory:()=>sD}),sD="ng",wd=new S(""),Lt=new S("",{providedIn:"platform",factory:()=>"unknown"});var bd=new S("",{providedIn:"root",factory:()=>oD().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var aD="h",lD="b";var km=!1,cD=new S("",{providedIn:"root",factory:()=>km});var Pm=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(Pm||{}),Za=new S("");var uD=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=T({token:e,providedIn:"root",factory:()=>new e})}return e})();var dD=()=>null;function Fm(e,n,t=!1){return dD(e,n,t)}function Lm(e,n){let t=e.contentQueries;if(t!==null){let r=Z(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=e.data[s];nm(o),a.contentQueries(2,n[s],s)}}}finally{Z(r)}}}function ju(e,n,t){nm(0);let r=Z(null);try{n(e,t)}finally{Z(r)}}function Dd(e,n,t){if(ld(n)){let r=Z(null);try{let i=n.directiveStart,o=n.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{Z(r)}}}var Pt=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Pt||{});var Ys;function fD(){if(Ys===void 0&&(Ys=null,Kn.trustedTypes))try{Ys=Kn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Ys}function Yp(e){return fD()?.createScriptURL(e)||e}var Da=class{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${vg})`}};function so(e){return e instanceof Da?e.changingThisBreaksApplicationSecurity:e}function Ed(e,n){let t=hD(e);if(t!=null&&t!==n){if(t==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${vg})`)}return t===n}function hD(e){return e instanceof Da&&e.getTypeName()||null}var pD=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function jm(e){return e=String(e),e.match(pD)?e:"unsafe:"+e}var Ya=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Ya||{});function gD(e){let n=Um();return n?n.sanitize(Ya.URL,e)||"":Ed(e,"URL")?so(e):jm(ka(e))}function mD(e){let n=Um();if(n)return Yp(n.sanitize(Ya.RESOURCE_URL,e)||"");if(Ed(e,"ResourceURL"))return Yp(so(e));throw new C(904,!1)}function vD(e,n){return n==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||n==="href"&&(e==="base"||e==="link")?mD:gD}function Vm(e,n,t){return vD(n,t)(e)}function Um(){let e=ne();return e&&e[Kt].sanitizer}var yD=/^>|^->|<!--|-->|--!>|<!-$/g,_D=/(<|>)/g,wD="\u200B$1\u200B";function bD(e){return e.replace(yD,n=>n.replace(_D,wD))}function $m(e){return e instanceof Function?e():e}var Mn=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Mn||{});function DD(e,n,t){let r=e.length;for(;;){let i=e.indexOf(n,t);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=n.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}t=i+1}}var Bm="ng-template";function ED(e,n,t,r){let i=0;if(r){for(;i<n.length&&typeof n[i]=="string";i+=2)if(n[i]==="class"&&DD(n[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Cd(e))return!1;if(i=n.indexOf(1,i),i>-1){let o;for(;++i<n.length&&typeof(o=n[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Cd(e){return e.type===4&&e.value!==Bm}function CD(e,n,t){let r=e.type===4&&!t?Bm:e.value;return n===r}function ID(e,n,t){let r=4,i=e.attrs,o=i!==null?MD(i):0,s=!1;for(let a=0;a<n.length;a++){let l=n[a];if(typeof l=="number"){if(!s&&!bt(r)&&!bt(l))return!1;if(s&&bt(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!CD(e,l,t)||l===""&&n.length===1){if(bt(r))return!1;s=!0}}else if(r&8){if(i===null||!ED(e,i,l,t)){if(bt(r))return!1;s=!0}}else{let c=n[++a],u=SD(l,i,Cd(e),t);if(u===-1){if(bt(r))return!1;s=!0;continue}if(c!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&c!==d){if(bt(r))return!1;s=!0}}}}return bt(r)||s}function bt(e){return(e&1)===0}function SD(e,n,t,r){if(n===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<n.length;){let s=n[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=n[++i];for(;typeof a=="string";)a=n[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return xD(n,e)}function TD(e,n,t=!1){for(let r=0;r<n.length;r++)if(ID(e,n[r],t))return!0;return!1}function MD(e){for(let n=0;n<e.length;n++){let t=e[n];if(um(t))return n}return e.length}function xD(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){let r=e[t];if(typeof r=="number")return-1;if(r===n)return t;t++}return-1}function Jp(e,n){return e?":not("+n.trim()+")":n}function AD(e){let n=e[0],t=1,r=2,i="",o=!1;for(;t<e.length;){let s=e[t];if(typeof s=="string")if(r&2){let a=e[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!bt(s)&&(n+=Jp(o,i),i=""),r=s,o=o||!bt(r);t++}return i!==""&&(n+=Jp(o,i)),n}function ND(e){return e.map(AD).join(",")}function RD(e){let n=[],t=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&n.push(o,e[++r]):i===8&&t.push(o);else{if(!bt(i))break;i=o}r++}return t.length&&n.push(1,...t),n}var Rn={};function OD(e,n){return e.createText(n)}function kD(e,n,t){e.setValue(n,t)}function PD(e,n){return e.createComment(bD(n))}function Hm(e,n,t){return e.createElement(n,t)}function Ea(e,n,t,r,i){e.insertBefore(n,t,r,i)}function qm(e,n,t){e.appendChild(n,t)}function Kp(e,n,t,r,i){r!==null?Ea(e,n,t,r,i):qm(e,n,t)}function FD(e,n,t){e.removeChild(null,n,t)}function LD(e,n,t){e.setAttribute(n,"style",t)}function jD(e,n,t){t===""?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function zm(e,n,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&Nb(e,n,r),i!==null&&jD(e,n,i),o!==null&&LD(e,n,o)}function y(e=1){Gm(Ne(),ne(),si()+e,!1)}function Gm(e,n,t,r){if(!r)if((n[O]&3)===3){let o=e.preOrderCheckHooks;o!==null&&ea(n,o,t)}else{let o=e.preOrderHooks;o!==null&&ta(n,o,0,t)}ir(t)}function b(e,n=V.Default){let t=ne();if(t===null)return x(e,n);let r=ze();return vm(r,t,Fe(e),n)}function Wm(e,n,t,r,i,o){let s=Z(null);try{let a=null;i&Mn.SignalBased&&(a=n[r][Ye]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Mn.HasDecoratorInputTransform&&(o=e.inputTransforms[r].call(n,o)),e.setInput!==null?e.setInput(n,a,o,t,r):Hg(n,a,r,o)}finally{Z(s)}}function Id(e,n,t,r,i,o,s,a,l,c,u){let d=n.blueprint.slice();return d[rn]=i,d[O]=r|4|128|8|64|1024,(c!==null||e&&e[O]&2048)&&(d[O]|=2048),Zg(d),d[je]=d[oi]=e,d[ct]=t,d[Kt]=s||e&&e[Kt],d[pe]=a||e&&e[pe],d[Ki]=l||e&&e[Ki]||null,d[Ct]=o,d[La]=rD(),d[la]=u,d[$g]=c,d[Rt]=n.type==2?e[Rt]:d,d}function Qm(e,n,t,r){if(t===0)return-1;let i=n.length;for(let o=0;o<t;o++)n.push(r),e.blueprint.push(r),e.data.push(null);return i}function Zm(e,n,t,r,i){let o=si(),s=r&2;try{ir(-1),s&&n.length>ut&&Gm(e,n,ut,!1),at(s?2:0,i),t(r,i)}finally{ir(o),at(s?3:1,i)}}function Sd(e,n,t){Jg()&&(dr(It(t,n),n),Ym(e,n,t))}function Ym(e,n,t){ZD(e,n,t),(t.flags&64)===64&&YD(e,n,t)}function Td(e,n,t=It){let r=n.localNames;if(r!==null){let i=n.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(n,e):e[s];e[i++]=a}}}function VD(e){let n=e.tView;return n===null||n.incompleteFirstPass?e.tView=Md(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function Md(e,n,t,r,i,o,s,a,l,c,u){let d=ut+r,m=d+i,p=UD(d,m),v=typeof c=="function"?c():c;return p[K]={type:e,blueprint:p,template:t,queries:null,viewQuery:a,declTNode:n,data:p.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:v,incompleteFirstPass:!1,ssrId:u}}function UD(e,n){let t=[];for(let r=0;r<n;r++)t.push(r<e?null:Rn);return t}function $D(e,n,t,r){let o=r.get(cD,km)||t===Pt.ShadowDom,s=e.selectRootElement(n,o);return BD(s),s}function BD(e){HD(e)}var HD=()=>null;function Xp(e,n,t,r,i){for(let o in n){if(!n.hasOwnProperty(o))continue;let s=n[o];if(s===void 0)continue;r??={};let a,l=Mn.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let c=o;if(i!==null){if(!i.hasOwnProperty(o))continue;c=i[o]}e===0?eg(r,t,c,a,l):eg(r,t,c,a)}return r}function eg(e,n,t,r,i){let o;e.hasOwnProperty(t)?(o=e[t]).push(n,r):o=e[t]=[n,r],i!==void 0&&o.push(i)}function qD(e,n,t){let r=n.directiveStart,i=n.directiveEnd,o=e.data,s=n.attrs,a=[],l=null,c=null;for(let u=r;u<i;u++){let d=o[u],m=t?t.get(d):null,p=m?m.inputs:null,v=m?m.outputs:null;l=Xp(0,d.inputs,u,l,p),c=Xp(1,d.outputs,u,c,v);let _=l!==null&&s!==null&&!Cd(n)?cE(l,u,s):null;a.push(_)}l!==null&&(l.hasOwnProperty("class")&&(n.flags|=8),l.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=l,n.outputs=c}function zD(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function xd(e,n,t,r,i,o,s,a){let l=It(n,t),c=n.inputs,u;!a&&c!=null&&(u=c[r])?(Rd(e,t,u,r,i),cr(n)&&GD(t,n.index)):n.type&3?(r=zD(r),i=s!=null?s(i,n.value||"",r):i,o.setProperty(l,r,i)):n.type&12}function GD(e,n){let t=kt(n,e);t[O]&16||(t[O]|=64)}function Ad(e,n,t,r){if(Jg()){let i=r===null?null:{"":-1},o=KD(e,t);if(o!==null){let[s,a]=Km(e,t,o);Jm(e,n,t,s,i,a)}i&&eE(t,r,i)}t.mergedAttrs=Xr(t.mergedAttrs,t.attrs)}function Jm(e,n,t,r,i,o){for(let c=0;c<r.length;c++)Nu(va(t,n),e,r[c].type);nE(t,e.data.length,r.length);for(let c=0;c<r.length;c++){let u=r[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=Qm(e,n,r.length,null);for(let c=0;c<r.length;c++){let u=r[c];t.mergedAttrs=Xr(t.mergedAttrs,u.hostAttrs),rE(e,t,n,l,u),tE(l,u,i),u.contentQueries!==null&&(t.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(t.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}qD(e,t,o)}function WD(e,n,t,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~n.index;QD(s)!=a&&s.push(a),s.push(t,r,o)}}function QD(e){let n=e.length;for(;n>0;){let t=e[--n];if(typeof t=="number"&&t<0)return t}return 0}function ZD(e,n,t){let r=t.directiveStart,i=t.directiveEnd;cr(t)&&oE(n,t,e.data[r+t.componentOffset]),e.firstCreatePass||va(t,n);let o=t.initialInputs;for(let s=r;s<i;s++){let a=e.data[s],l=ya(n,e,s,t);if(dr(l,n),o!==null&&lE(n,s-r,l,a,t,o),Xt(a)){let c=kt(t.index,n);c[ct]=ya(n,e,s,t)}}}function YD(e,n,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=bb();try{ir(o);for(let a=r;a<i;a++){let l=e.data[a],c=n[a];Mu(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&JD(l,c)}}finally{ir(-1),Mu(s)}}function JD(e,n){e.hostBindings!==null&&e.hostBindings(1,n)}function KD(e,n){let t=e.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];TD(n,o.selectors,!1)&&(r??=[],Xt(o)?r.unshift(o):r.push(o))}return r}function Km(e,n,t){let r=[],i=null;for(let o of t)o.findHostDirectiveDefs!==null&&(i??=new Map,o.findHostDirectiveDefs(o,r,i)),Xt(o)&&(r.push(o),XD(e,n,r.length-1));return cr(n)?r.push(...t.slice(1)):r.push(...t),[r,i]}function XD(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function eE(e,n,t){if(n){let r=e.localNames=[];for(let i=0;i<n.length;i+=2){let o=t[n[i+1]];if(o==null)throw new C(-301,!1);r.push(n[i],o)}}}function tE(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;Xt(n)&&(t[""]=e)}}function nE(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}function rE(e,n,t,r,i){e.data[r]=i;let o=i.factory||(i.factory=er(i.type,!0)),s=new or(o,Xt(i),b);e.blueprint[r]=s,t[r]=s,WD(e,n,r,Qm(e,t,i.hostVars,Rn),i)}function iE(e){let n=16;return e.signals?n=4096:e.onPush&&(n=64),n}function oE(e,n,t){let r=It(n,e),i=VD(t),o=e[Kt].rendererFactory,s=Nd(e,Id(e,i,null,iE(t),r,n,null,o.createRenderer(r,t),null,null,null));return e[n.index]=s}function sE(e,n,t,r,i,o){let s=It(e,n);aE(n[pe],s,o,e.value,t,r,i)}function aE(e,n,t,r,i,o,s){if(o==null)e.removeAttribute(n,i,t);else{let a=s==null?ka(o):s(o,r||"",i);e.setAttribute(n,i,a,t)}}function lE(e,n,t,r,i,o){let s=o[n];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],c=s[a++],u=s[a++],d=s[a++];Wm(r,t,l,c,u,d)}}function cE(e,n,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(e.hasOwnProperty(o)){r===null&&(r=[]);let s=e[o];for(let a=0;a<s.length;a+=3)if(s[a]===n){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return r}function Xm(e,n,t,r){return[e,!0,0,n,null,r,null,t,null,null]}function Nd(e,n){return e[Xi]?e[Fp][Dt]=n:e[Xi]=n,e[Fp]=n,n}function ev(e,n){let t=e[Ki],r=t?t.get(Tn,null):null;r&&r.handleError(n)}function Rd(e,n,t,r,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],l=t[o++],c=n[s],u=e.data[s];Wm(u,c,r,a,l,i)}}function uE(e,n){let t=kt(n,e),r=t[K];dE(r,t);let i=t[rn];i!==null&&t[la]===null&&(t[la]=Fm(i,t[Ki])),Od(r,t,t[ct])}function dE(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}function Od(e,n,t){fd(n);try{let r=e.viewQuery;r!==null&&ju(1,r,t);let i=e.template;i!==null&&Zm(e,n,i,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),n[Jr]?.finishViewCreation(e),e.staticContentQueries&&Lm(e,n),e.staticViewQueries&&ju(2,e.viewQuery,t);let o=e.components;o!==null&&fE(n,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[O]&=-5,hd()}}function fE(e,n){for(let t=0;t<n.length;t++)uE(e,n[t])}var en=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(en||{}),hE;function kd(e,n){return hE(e,n)}function tv(e){return(e.flags&32)===32}function qr(e,n,t,r,i){if(r!=null){let o,s=!1;on(r)?o=r:Sn(r)&&(s=!0,r=r[rn]);let a=Ot(r);e===0&&t!==null?i==null?qm(n,t,a):Ea(n,t,a,i||null,!0):e===1&&t!==null?Ea(n,t,a,i||null,!0):e===2?FD(n,a,s):e===3&&n.destroyNode(a),o!=null&&SE(n,e,o,t,i)}}function pE(e,n){nv(e,n),n[rn]=null,n[Ct]=null}function gE(e,n,t,r,i,o){r[rn]=i,r[Ct]=n,Ka(e,r,t,1,i,o)}function nv(e,n){n[Kt].changeDetectionScheduler?.notify(10),Ka(e,n,n[pe],2,null,null)}function mE(e){let n=e[Xi];if(!n)return fu(e[K],e);for(;n;){let t=null;if(Sn(n))t=n[Xi];else{let r=n[lt];r&&(t=r)}if(!t){for(;n&&!n[Dt]&&n!==e;)Sn(n)&&fu(n[K],n),n=n[je];n===null&&(n=e),Sn(n)&&fu(n[K],n),t=n&&n[Dt]}n=t}}function vE(e,n,t,r){let i=lt+r,o=t.length;r>0&&(t[i-1][Dt]=n),r<o-lt?(n[Dt]=t[i],Ag(t,lt+r,n)):(t.push(n),n[Dt]=null),n[je]=t;let s=n[Yr];s!==null&&t!==s&&rv(s,n);let a=n[Jr];a!==null&&a.insertView(e),Su(n),n[O]|=128}function rv(e,n){let t=e[fa],r=n[je];if(Sn(r))e[O]|=2;else{let i=r[je][Rt];n[Rt]!==i&&(e[O]|=2)}t===null?e[fa]=[n]:t.push(n)}function Pd(e,n){let t=e[fa],r=t.indexOf(n);t.splice(r,1)}function Vu(e,n){if(e.length<=lt)return;let t=lt+n,r=e[t];if(r){let i=r[Yr];i!==null&&i!==e&&Pd(i,r),n>0&&(e[t-1][Dt]=r[Dt]);let o=sa(e,lt+n);pE(r[K],r);let s=o[Jr];s!==null&&s.detachView(o[K]),r[je]=null,r[Dt]=null,r[O]&=-129}return r}function iv(e,n){if(oo(n))return;let t=n[pe];t.destroyNode&&Ka(e,n,t,3,null,null),mE(n)}function fu(e,n){if(oo(n))return;let t=Z(null);try{n[O]&=-129,n[O]|=256,n[et]&&Bc(n[et]),_E(e,n),yE(e,n),n[K].type===1&&n[pe].destroy();let r=n[Yr];if(r!==null&&on(n[je])){r!==n[je]&&Pd(r,n);let i=n[Jr];i!==null&&i.detachView(e)}Fu(n)}finally{Z(t)}}function yE(e,n){let t=e.cleanup,r=n[ca];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(n[ca]=null);let i=n[In];if(i!==null){n[In]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=n[ua];if(o!==null){n[ua]=null;for(let s of o)s.destroy()}}function _E(e,n){let t;if(e!=null&&(t=e.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=n[t[r]];if(!(i instanceof or)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];at(4,a,l);try{l.call(a)}finally{at(5,a,l)}}else{at(4,i,o);try{o.call(i)}finally{at(5,i,o)}}}}}function wE(e,n,t){return bE(e,n.parent,t)}function bE(e,n,t){let r=n;for(;r!==null&&r.type&168;)n=r,r=n.parent;if(r===null)return t[rn];if(cr(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===Pt.None||i===Pt.Emulated)return null}return It(r,t)}function DE(e,n,t){return CE(e,n,t)}function EE(e,n,t){return e.type&40?It(e,t):null}var CE=EE,tg;function Ja(e,n,t,r){let i=wE(e,r,n),o=n[pe],s=r.parent||n[Ct],a=DE(s,r,n);if(i!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)Kp(o,i,t[l],a,!1);else Kp(o,i,t,a,!1);tg!==void 0&&tg(o,r,n,t,i)}function Qi(e,n){if(n!==null){let t=n.type;if(t&3)return It(n,e);if(t&4)return Uu(-1,e[n.index]);if(t&8){let r=n.child;if(r!==null)return Qi(e,r);{let i=e[n.index];return on(i)?Uu(-1,i):Ot(i)}}else{if(t&128)return Qi(e,n.next);if(t&32)return kd(n,e)()||Ot(e[n.index]);{let r=ov(e,n);if(r!==null){if(Array.isArray(r))return r[0];let i=rr(e[Rt]);return Qi(i,r)}else return Qi(e,n.next)}}}return null}function ov(e,n){if(n!==null){let r=e[Rt][Ct],i=n.projection;return r.projection[i]}return null}function Uu(e,n){let t=lt+e+1;if(t<n.length){let r=n[t],i=r[K].firstChild;if(i!==null)return Qi(r,i)}return n[nr]}function Fd(e,n,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],l=t.type;if(s&&n===0&&(a&&dr(Ot(a),r),t.flags|=2),!tv(t))if(l&8)Fd(e,n,t.child,r,i,o,!1),qr(n,e,i,a,o);else if(l&32){let c=kd(t,r),u;for(;u=c();)qr(n,e,i,u,o);qr(n,e,i,a,o)}else l&16?IE(e,n,r,t,i,o):qr(n,e,i,a,o);t=s?t.projectionNext:t.next}}function Ka(e,n,t,r,i,o){Fd(t,r,e.firstChild,n,i,o,!1)}function IE(e,n,t,r,i,o){let s=t[Rt],l=s[Ct].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];qr(n,e,i,u,o)}else{let c=l,u=s[je];Tm(r)&&(c.flags|=128),Fd(e,n,c,u,i,o,!0)}}function SE(e,n,t,r,i){let o=t[nr],s=Ot(t);o!==s&&qr(n,e,r,o,i);for(let a=lt;a<t.length;a++){let l=t[a];Ka(l[K],l,e,n,r,o)}}function TE(e,n,t,r,i){if(n)i?e.addClass(t,r):e.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:en.DashCase;i==null?e.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=en.Important),e.setStyle(t,r,i,o))}}function ME(e,n,t,r){let i=Z(null);try{let o=n.tView,a=e[O]&4096?4096:16,l=Id(e,o,t,a,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=e[n.index];l[Yr]=c;let u=e[Jr];return u!==null&&(l[Jr]=u.createEmbeddedView(o)),Od(o,l,t),l}finally{Z(i)}}function ng(e,n){return!n||n.firstChild===null||Tm(e)}function xE(e,n,t,r=!0){let i=n[K];if(vE(i,n,e,t),r){let s=Uu(t,e),a=n[pe],l=a.parentNode(e[nr]);l!==null&&gE(i,e[Ct],a,n,l,s)}let o=n[la];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Ca(e,n,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=n[t.index];o!==null&&r.push(Ot(o)),on(o)&&AE(o,r);let s=t.type;if(s&8)Ca(e,n,t.child,r);else if(s&32){let a=kd(t,n),l;for(;l=a();)r.push(l)}else if(s&16){let a=ov(n,t);if(Array.isArray(a))r.push(...a);else{let l=rr(n[Rt]);Ca(l[K],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function AE(e,n){for(let t=lt;t<e.length;t++){let r=e[t],i=r[K].firstChild;i!==null&&Ca(r[K],r,i,n)}e[nr]!==e[rn]&&n.push(e[nr])}var sv=[];function NE(e){return e[et]??RE(e)}function RE(e){let n=sv.pop()??Object.create(kE);return n.lView=e,n}function OE(e){e.lView[et]!==e&&(e.lView=null,sv.push(e))}var kE=z(E({},Hi),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Ua(e.lView)},consumerOnSignalRead(){this.lView[et]=this}});function PE(e){let n=e[et]??Object.create(FE);return n.lView=e,n}var FE=z(E({},Hi),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let n=rr(e.lView);for(;n&&!av(n[K]);)n=rr(n);n&&ud(n)},consumerOnSignalRead(){this.lView[et]=this}});function av(e){return e.type!==2}function lv(e){if(e[ua]===null)return;let n=!0;for(;n;){let t=!1;for(let r of e[ua])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));n=t&&!!(e[O]&8192)}}var LE=100;function cv(e,n=!0,t=0){let i=e[Kt].rendererFactory,o=!1;o||i.begin?.();try{jE(e,t)}catch(s){throw n&&ev(e,s),s}finally{o||i.end?.()}}function jE(e,n){let t=em();try{jp(!0),$u(e,n);let r=0;for(;Va(e);){if(r===LE)throw new C(103,!1);r++,$u(e,1)}}finally{jp(t)}}function VE(e,n,t,r){if(oo(n))return;let i=n[O],o=!1,s=!1;fd(n);let a=!0,l=null,c=null;o||(av(e)?(c=NE(n),l=bs(c)):Wh()===null?(a=!1,c=PE(n),l=bs(c)):n[et]&&(Bc(n[et]),n[et]=null));try{Zg(n),vb(e.bindingStartIndex),t!==null&&Zm(e,n,t,2,r);let u=(i&3)===3;if(!o)if(u){let p=e.preOrderCheckHooks;p!==null&&ea(n,p,null)}else{let p=e.preOrderHooks;p!==null&&ta(n,p,0,null),cu(n,0)}if(s||UE(n),lv(n),uv(n,0),e.contentQueries!==null&&Lm(e,n),!o)if(u){let p=e.contentCheckHooks;p!==null&&ea(n,p)}else{let p=e.contentHooks;p!==null&&ta(n,p,1),cu(n,1)}BE(e,n);let d=e.components;d!==null&&fv(n,d,0);let m=e.viewQuery;if(m!==null&&ju(2,m,r),!o)if(u){let p=e.viewCheckHooks;p!==null&&ea(n,p)}else{let p=e.viewHooks;p!==null&&ta(n,p,2),cu(n,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),n[lu]){for(let p of n[lu])p();n[lu]=null}o||(n[O]&=-73)}catch(u){throw o||Ua(n),u}finally{c!==null&&(Uc(c,l),a&&OE(c)),hd()}}function uv(e,n){for(let t=Am(e);t!==null;t=Nm(t))for(let r=lt;r<t.length;r++){let i=t[r];dv(i,n)}}function UE(e){for(let n=Am(e);n!==null;n=Nm(n)){if(!(n[O]&2))continue;let t=n[fa];for(let r=0;r<t.length;r++){let i=t[r];ud(i)}}}function $E(e,n,t){let r=kt(n,e);dv(r,t)}function dv(e,n){cd(e)&&$u(e,n)}function $u(e,n){let r=e[K],i=e[O],o=e[et],s=!!(n===0&&i&16);if(s||=!!(i&64&&n===0),s||=!!(i&1024),s||=!!(o?.dirty&&$c(o)),s||=!1,o&&(o.dirty=!1),e[O]&=-9217,s)VE(r,e,r.template,e[ct]);else if(i&8192){lv(e),uv(e,1);let a=r.components;a!==null&&fv(e,a,1)}}function fv(e,n,t){for(let r=0;r<n.length;r++)$E(e,n[r],t)}function BE(e,n){let t=e.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)ir(~i);else{let o=i,s=t[++r],a=t[++r];wb(s,o);let l=n[o];at(24,l),a(2,l),at(25,l)}}}finally{ir(-1)}}function Ld(e,n){let t=em()?64:1088;for(e[Kt].changeDetectionScheduler?.notify(n);e;){e[O]|=t;let r=rr(e);if(ha(e)&&!r)return e;e=r}return null}var sr=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let n=this._lView,t=n[K];return Ca(t,n,t.firstChild,[])}constructor(n,t,r=!0){this._lView=n,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[ct]}get dirty(){return!!(this._lView[O]&9280)||!!this._lView[et]?.dirty}set context(n){this._lView[ct]=n}get destroyed(){return oo(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[je];if(on(n)){let t=n[da],r=t?t.indexOf(this):-1;r>-1&&(Vu(n,r),sa(t,r))}this._attachedToViewContainer=!1}iv(this._lView[K],this._lView)}onDestroy(n){Yg(this._lView,n)}markForCheck(){Ld(this._cdRefInjectingView||this._lView,4)}markForRefresh(){ud(this._cdRefInjectingView||this._lView)}detach(){this._lView[O]&=-129}reattach(){Su(this._lView),this._lView[O]|=128}detectChanges(){this._lView[O]|=1024,cv(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new C(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=ha(this._lView),t=this._lView[Yr];t!==null&&!n&&Pd(t,this._lView),nv(this._lView[K],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new C(902,!1);this._appRef=n;let t=ha(this._lView),r=this._lView[Yr];r!==null&&!t&&rv(r,this._lView),Su(this._lView)}},Xa=(()=>{class e{static __NG_ELEMENT_ID__=zE}return e})(),HE=Xa,qE=class extends HE{_declarationLView;_declarationTContainer;elementRef;constructor(n,t,r){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,t){return this.createEmbeddedViewImpl(n,t)}createEmbeddedViewImpl(n,t,r){let i=ME(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:t,dehydratedView:r});return new sr(i)}};function zE(){return GE(ze(),ne())}function GE(e,n){return e.type&4?new qE(n,e,Qa(e,n)):null}function ao(e,n,t,r,i){let o=e.data[n];if(o===null)o=WE(e,n,t,r,i),_b()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=mb();o.injectorIndex=s===null?-1:s.injectorIndex}return ur(o,!0),o}function WE(e,n,t,r,i){let o=Kg(),s=dd(),a=s?o:o&&o.parent,l=e.data[n]=ZE(e,a,t,n,r,i);return QE(e,l,o,s),l}function QE(e,n,t,r){e.firstChild===null&&(e.firstChild=n),t!==null&&(r?t.child==null&&n.parent!==null&&(t.child=n):t.next===null&&(t.next=n,n.prev=t))}function ZE(e,n,t,r,i,o){let s=n?n.injectorIndex:-1,a=0;return hb()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var BP=new RegExp(`^(\\d+)*(${lD}|${aD})*(.*)`);var YE=()=>null;function rg(e,n){return YE(e,n)}var Bu=class{},Ia=class{},Hu=class{resolveComponentFactory(n){throw Error(`No component factory found for ${Le(n)}.`)}},ti=class{static NULL=new Hu},ni=class{},jt=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>JE()}return e})();function JE(){let e=ne(),n=ze(),t=kt(n.index,e);return(Sn(t)?t:e)[pe]}var KE=(()=>{class e{static \u0275prov=T({token:e,providedIn:"root",factory:()=>null})}return e})();function Sa(e,n,t){let r=t?e.styles:null,i=t?e.classes:null,o=0;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];if(typeof a=="number")o=a;else if(o==1)i=Ap(i,a);else if(o==2){let l=a,c=n[++s];r=Ap(r,l+": "+c+";")}}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=i:e.classesWithoutHost=i}var Ta=class extends ti{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let t=tr(n);return new eo(t,this.ngModule)}};function ig(e,n){let t=[];for(let r in e){if(!e.hasOwnProperty(r))continue;let i=e[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:Mn.None;n?t.push({propName:s,templateName:r,isSignal:(a&Mn.SignalBased)!==0}):t.push({propName:s,templateName:r})}return t}function XE(e){let n=e.toLowerCase();return n==="svg"?nb:n==="math"?rb:null}var eo=class extends Ia{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){let n=this.componentDef,t=n.inputTransforms,r=ig(n.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return ig(this.componentDef.outputs,!1)}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=ND(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!t}create(n,t,r,i){let o=Z(null);try{i=i||this.ngModule;let s=i instanceof qe?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new xu(n,s):n,l=a.get(ni,null);if(l===null)throw new C(407,!1);let c=a.get(KE,null),u=a.get(ei,null),d={rendererFactory:l,sanitizer:c,changeDetectionScheduler:u},m=l.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",v=r?$D(m,r,this.componentDef.encapsulation,a):Hm(m,p,XE(p)),_=512;this.componentDef.signals?_|=4096:this.componentDef.onPush||(_|=16);let w=null;v!==null&&(w=Fm(v,a,!0));let I=Md(0,null,null,1,0,null,null,null,null,null,null),Q=Id(null,I,null,_,null,null,d,m,a,null,w);Q[ut]=v,fd(Q);let N=null;try{let te=r?["ng-version","19.1.4"]:RD(this.componentDef.selectors[0]),j=ao(I,ut,2,"#host",te),[_t,vs]=Km(I,j,[this.componentDef]);Jm(I,Q,j,_t,{},vs);for(let j_ of _t)j.mergedAttrs=Xr(j.mergedAttrs,j_.hostAttrs);j.mergedAttrs=Xr(j.mergedAttrs,te),Sa(j,j.mergedAttrs,!0),v&&(zm(m,v,j),dr(v,Q)),t!==void 0&&eC(j,this.ngContentSelectors,t),Ym(I,Q,j),Dd(I,j,Q),za(I,j),N=kt(j.index,Q),Q[ct]=N[ct],Od(I,Q,null)}catch(te){throw N!==null&&Fu(N),Fu(Q),te}finally{hd()}return new qu(this.componentType,Q)}finally{Z(o)}}},qu=class extends Bu{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,t){super(),this._rootLView=t,this._tNode=Qg(t[K],ut),this.location=Qa(this._tNode,t),this.instance=kt(this._tNode.index,t)[ct],this.hostView=this.changeDetectorRef=new sr(t,void 0,!1),this.componentType=n}setInput(n,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;let o=this._rootLView;Rd(o[K],o,i,n,t),this.previousInputValues.set(n,t);let s=kt(this._tNode.index,o);Ld(s,1)}}get injector(){return new Xn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function eC(e,n,t){let r=e.projection=[];for(let i=0;i<n.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var li=(()=>{class e{static __NG_ELEMENT_ID__=tC}return e})();function tC(){let e=ze();return rC(e,ne())}var nC=li,hv=class extends nC{_lContainer;_hostTNode;_hostLView;constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return Qa(this._hostTNode,this._hostLView)}get injector(){return new Xn(this._hostTNode,this._hostLView)}get parentInjector(){let n=pd(this._hostTNode,this._hostLView);if(dm(n)){let t=ga(n,this._hostLView),r=pa(n),i=t[K].data[r+8];return new Xn(i,t)}else return new Xn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let t=og(this._lContainer);return t!==null&&t[n]||null}get length(){return this._lContainer.length-lt}createEmbeddedView(n,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=rg(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,ng(this._hostTNode,s)),a}createComponent(n,t,r,i,o){let s=n&&!Kw(n),a;if(s)a=t;else{let v=t||{};a=v.index,r=v.injector,i=v.projectableNodes,o=v.environmentInjector||v.ngModuleRef}let l=s?n:new eo(tr(n)),c=r||this.parentInjector;if(!o&&l.ngModule==null){let _=(s?c:this.parentInjector).get(qe,null);_&&(o=_)}let u=tr(l.componentType??{}),d=rg(this._lContainer,u?.id??null),m=d?.firstChild??null,p=l.create(c,i,m,o);return this.insertImpl(p.hostView,a,ng(this._hostTNode,d)),p}insert(n,t){return this.insertImpl(n,t,!0)}insertImpl(n,t,r){let i=n._lView;if(ob(i)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let l=i[je],c=new hv(l,l[Ct],l[je]);c.detach(c.indexOf(n))}}let o=this._adjustIndex(t),s=this._lContainer;return xE(s,i,o,r),n.attachToViewContainerRef(),Ag(hu(s),o,n),n}move(n,t){return this.insert(n,t)}indexOf(n){let t=og(this._lContainer);return t!==null?t.indexOf(n):-1}remove(n){let t=this._adjustIndex(n,-1),r=Vu(this._lContainer,t);r&&(sa(hu(this._lContainer),t),iv(r[K],r))}detach(n){let t=this._adjustIndex(n,-1),r=Vu(this._lContainer,t);return r&&sa(hu(this._lContainer),t)!=null?new sr(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function og(e){return e[da]}function hu(e){return e[da]||(e[da]=[])}function rC(e,n){let t,r=n[e.index];return on(r)?t=r:(t=Xm(r,n,null,e),n[e.index]=t,Nd(n,t)),oC(t,n,e,r),new hv(t,e,n)}function iC(e,n){let t=e[pe],r=t.createComment(""),i=It(n,e),o=t.parentNode(i);return Ea(t,o,r,t.nextSibling(i),!1),r}var oC=lC,sC=()=>!1;function aC(e,n,t){return sC(e,n,t)}function lC(e,n,t,r){if(e[nr])return;let i;t.type&8?i=Ot(r):i=iC(n,t),e[nr]=i}var xn=class{},to=class{};var zu=class extends xn{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Ta(this);constructor(n,t,r,i=!0){super(),this.ngModuleType=n,this._parent=t;let o=Og(n);this._bootstrapComponents=$m(o.bootstrap),this._r3Injector=wm(n,t,[{provide:xn,useValue:this},{provide:ti,useValue:this.componentFactoryResolver},...r],Le(n),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},Gu=class extends to{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new zu(this.moduleType,n,[])}};var Ma=class extends xn{injector;componentFactoryResolver=new Ta(this);instance=null;constructor(n){super();let t=new Ji([...n.providers,{provide:xn,useValue:this},{provide:ti,useValue:this.componentFactoryResolver}],n.parent||ad(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function jd(e,n,t=null){return new Ma({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}var cC=(()=>{class e{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Lg(!1,t.type),i=r.length>0?jd([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=T({token:e,providedIn:"environment",factory:()=>new e(x(qe))})}return e})();function de(e){return ro(()=>{let n=gv(e),t=z(E({},n),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Mm.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:n.standalone?i=>i.get(cC).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Pt.Emulated,styles:e.styles||st,_:null,schemas:e.schemas||null,tView:null,id:""});n.standalone&&ai("NgStandalone"),mv(t);let r=e.dependencies;return t.directiveDefs=ag(r,!1),t.pipeDefs=ag(r,!0),t.id=fC(t),t})}function uC(e){return tr(e)||kg(e)}function dC(e){return e!==null}function an(e){return ro(()=>({type:e.type,bootstrap:e.bootstrap||st,declarations:e.declarations||st,imports:e.imports||st,exports:e.exports||st,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function sg(e,n){if(e==null)return Wr;let t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a=Mn.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),n?(t[o]=a!==Mn.None?[r,a]:r,n[o]=s):t[o]=r}return t}function fe(e){return ro(()=>{let n=gv(e);return mv(n),n})}function pv(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function gv(e){let n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||Wr,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||st,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:sg(e.inputs,n),outputs:sg(e.outputs),debugInfo:null}}function mv(e){e.features?.forEach(n=>n(e))}function ag(e,n){if(!e)return null;let t=n?Pg:uC;return()=>(typeof e=="function"?e():e).map(r=>t(r)).filter(dC)}function fC(e){let n=0,t=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,t,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))n=Math.imul(31,n)+o.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function hC(e){return Object.getPrototypeOf(e.prototype).constructor}function Ge(e){let n=hC(e.type),t=!0,r=[e];for(;n;){let i;if(Xt(e))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new C(903,!1);i=n.\u0275dir}if(i){if(t){r.push(i);let s=e;s.inputs=Js(e.inputs),s.inputTransforms=Js(e.inputTransforms),s.declaredInputs=Js(e.declaredInputs),s.outputs=Js(e.outputs);let a=i.hostBindings;a&&yC(e,a);let l=i.viewQuery,c=i.contentQueries;if(l&&mC(e,l),c&&vC(e,c),pC(e,i),vw(e.outputs,i.outputs),Xt(i)&&i.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===Ge&&(t=!1)}}n=Object.getPrototypeOf(n)}gC(r)}function pC(e,n){for(let t in n.inputs){if(!n.inputs.hasOwnProperty(t)||e.inputs.hasOwnProperty(t))continue;let r=n.inputs[t];if(r!==void 0&&(e.inputs[t]=r,e.declaredInputs[t]=n.declaredInputs[t],n.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!n.inputTransforms.hasOwnProperty(i))continue;e.inputTransforms??={},e.inputTransforms[i]=n.inputTransforms[i]}}}function gC(e){let n=0,t=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=n+=i.hostVars,i.hostAttrs=Xr(i.hostAttrs,t=Xr(t,i.hostAttrs))}}function Js(e){return e===Wr?{}:e===st?[]:e}function mC(e,n){let t=e.viewQuery;t?e.viewQuery=(r,i)=>{n(r,i),t(r,i)}:e.viewQuery=n}function vC(e,n){let t=e.contentQueries;t?e.contentQueries=(r,i,o)=>{n(r,i,o),t(r,i,o)}:e.contentQueries=n}function yC(e,n){let t=e.hostBindings;t?e.hostBindings=(r,i)=>{n(r,i),t(r,i)}:e.hostBindings=n}function Vd(e){let n=e.inputConfig,t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}e.inputTransforms=t}function vv(e){return wC(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function _C(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{let t=e[Symbol.iterator](),r;for(;!(r=t.next()).done;)n(r.value)}}function wC(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function bC(e,n,t){return e[n]=t}function ar(e,n,t){let r=e[n];return Object.is(r,t)?!1:(e[n]=t,!0)}function DC(e,n,t,r){let i=ar(e,n,t);return ar(e,n+1,r)||i}function EC(e,n,t,r,i,o,s,a,l){let c=n.consts,u=ao(n,e,4,s||null,a||null);Ad(n,t,u,Kr(c,l)),za(n,u);let d=u.tView=Md(2,u,r,i,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,c,null);return n.queries!==null&&(n.queries.template(n,u),d.queries=n.queries.embeddedTView(u)),u}function CC(e,n,t,r,i,o,s,a,l,c){let u=t+ut,d=n.firstCreatePass?EC(u,n,e,r,i,o,s,a,l):n.data[u];ur(d,!1);let m=IC(n,e,d,t);Ha()&&Ja(n,e,m,d),dr(m,e);let p=Xm(m,e,m,d);return e[u]=p,Nd(e,p),aC(p,d,e),ja(d)&&Sd(n,e,d),l!=null&&Td(e,d,c),d}function W(e,n,t,r,i,o,s,a){let l=ne(),c=Ne(),u=Kr(c.consts,o);return CC(l,c,e,n,t,r,i,u,s,a),W}var IC=SC;function SC(e,n,t,r){return qa(!0),n[pe].createComment("")}var Ud=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var yv=new S("");function fr(e){return!!e&&typeof e.then=="function"}function _v(e){return!!e&&typeof e.subscribe=="function"}var wv=new S("");var bv=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=D(wv,{optional:!0})??[];injector=D(Et);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=tt(this.injector,i);if(fr(o))t.push(o);else if(_v(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),TC=(()=>{class e{static \u0275prov=T({token:e,providedIn:"root",factory:()=>new Wu})}return e})(),Wu=class{queuedEffectCount=0;queues=new Map;schedule(n){this.enqueue(n)}remove(n){let t=n.zone,r=this.queues.get(t);r.has(n)&&(r.delete(n),this.queuedEffectCount--)}enqueue(n){let t=n.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(n)||(this.queuedEffectCount++,r.add(n))}flush(){for(;this.queuedEffectCount>0;)for(let[n,t]of this.queues)n===null?this.flushQueue(t):n.run(()=>this.flushQueue(t))}flushQueue(n){for(let t of n)n.delete(t),this.queuedEffectCount--,t.run()}},el=new S("");function MC(){rp(()=>{throw new C(600,!1)})}function xC(e){return e.isBoundToModule}var AC=10;function NC(e,n,t){try{let r=t();return fr(r)?r.catch(i=>{throw n.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>e.handleError(r)),r}}var tn=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=D(Jb);afterRenderManager=D(uD);zonelessEnabled=D(Wa);rootEffectScheduler=D(TC);dirtyFlags=0;deferredDirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new De;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=D(Nn).hasPendingTasks.pipe(P(t=>!t));constructor(){D(Za,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=D(qe);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){let i=t instanceof Ia;if(!this._injector.get(bv).done){let m=!i&&Fg(t),p=!1;throw new C(405,p)}let s;i?s=t:s=this._injector.get(ti).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=xC(s)?void 0:this._injector.get(xn),l=r||s.selector,c=s.create(Et.NULL,[],l,a),u=c.location.nativeElement,d=c.injector.get(yv,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),na(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick=()=>{if(this.tracingSnapshot!==null){let r=this.tracingSnapshot;this.tracingSnapshot=null,r.run(Pm.CHANGE_DETECTION,this._tick),r.dispose();return}if(this._runningTick)throw new C(101,!1);let t=Z(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Z(t),this.afterTick.next()}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(ni,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let t=0;for(;this.dirtyFlags!==0&&t++<AC;)this.synchronizeOnce()}synchronizeOnce(){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)RC(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Va(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;na(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(el,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>na(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new C(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function na(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function RC(e,n,t,r){if(!t&&!Va(e))return;cv(e,n,t&&!r?0:1)}function tl(e,n,t,r){let i=ne(),o=$a();if(ar(i,o,n)){let s=Ne(),a=Ba();sE(a,i,e,n,t,r)}return tl}function Dv(e,n,t,r){return ar(e,$a(),t)?n+ka(t)+r:Rn}function Ks(e,n){return e<<17|n<<2}function lr(e){return e>>17&32767}function OC(e){return(e&2)==2}function kC(e,n){return e&131071|n<<17}function Qu(e){return e|2}function ri(e){return(e&131068)>>2}function pu(e,n){return e&-131069|n<<2}function PC(e){return(e&1)===1}function Zu(e){return e|1}function FC(e,n,t,r,i,o){let s=o?n.classBindings:n.styleBindings,a=lr(s),l=ri(s);e[r]=t;let c=!1,u;if(Array.isArray(t)){let d=t;u=d[1],(u===null||io(d,u)>0)&&(c=!0)}else u=t;if(i)if(l!==0){let m=lr(e[a+1]);e[r+1]=Ks(m,a),m!==0&&(e[m+1]=pu(e[m+1],r)),e[a+1]=kC(e[a+1],r)}else e[r+1]=Ks(a,0),a!==0&&(e[a+1]=pu(e[a+1],r)),a=r;else e[r+1]=Ks(l,0),a===0?a=r:e[l+1]=pu(e[l+1],r),l=r;c&&(e[r+1]=Qu(e[r+1])),lg(e,u,r,!0),lg(e,u,r,!1),LC(n,u,e,r,o),s=Ks(a,l),o?n.classBindings=s:n.styleBindings=s}function LC(e,n,t,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof n=="string"&&io(o,n)>=0&&(t[r+1]=Zu(t[r+1]))}function lg(e,n,t,r){let i=e[t+1],o=n===null,s=r?lr(i):ri(i),a=!1;for(;s!==0&&(a===!1||o);){let l=e[s],c=e[s+1];jC(l,n)&&(a=!0,e[s+1]=r?Zu(c):Qu(c)),s=r?lr(c):ri(c)}a&&(e[t+1]=r?Qu(i):Zu(i))}function jC(e,n){return e===null||n==null||(Array.isArray(e)?e[1]:e)===n?!0:Array.isArray(e)&&typeof n=="string"?io(e,n)>=0:!1}function M(e,n,t){let r=ne(),i=$a();if(ar(r,i,n)){let o=Ne(),s=Ba();xd(o,s,r,e,n,r[pe],t,!1)}return M}function cg(e,n,t,r,i){let o=n.inputs,s=i?"class":"style";Rd(e,t,o[s],s,r)}function nl(e,n){return VC(e,n,null,!0),nl}function VC(e,n,t,r){let i=ne(),o=Ne(),s=yb(2);if(o.firstUpdatePass&&$C(o,e,s,r),n!==Rn&&ar(i,s,n)){let a=o.data[si()];GC(o,a,i,i[pe],e,i[s+1]=WC(n,t),r,s)}}function UC(e,n){return n>=e.expandoStartIndex}function $C(e,n,t,r){let i=e.data;if(i[t+1]===null){let o=i[si()],s=UC(e,t);QC(o,r)&&n===null&&!s&&(n=!1),n=BC(i,o,n,r),FC(i,o,n,t,s,r)}}function BC(e,n,t,r){let i=Db(e),o=r?n.residualClasses:n.residualStyles;if(i===null)(r?n.classBindings:n.styleBindings)===0&&(t=gu(null,e,n,t,r),t=no(t,n.attrs,r),o=null);else{let s=n.directiveStylingLast;if(s===-1||e[s]!==i)if(t=gu(i,e,n,t,r),o===null){let l=HC(e,n,r);l!==void 0&&Array.isArray(l)&&(l=gu(null,e,n,l[1],r),l=no(l,n.attrs,r),qC(e,n,r,l))}else o=zC(e,n,r)}return o!==void 0&&(r?n.residualClasses=o:n.residualStyles=o),t}function HC(e,n,t){let r=t?n.classBindings:n.styleBindings;if(ri(r)!==0)return e[lr(r)]}function qC(e,n,t,r){let i=t?n.classBindings:n.styleBindings;e[lr(i)]=r}function zC(e,n,t){let r,i=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=no(r,s,t)}return no(r,n.attrs,t)}function gu(e,n,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=n[a],r=no(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(t.directiveStylingLast=a),r}function no(e,n,t){let r=t?1:2,i=-1;if(n!==null)for(let o=0;o<n.length;o++){let s=n[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),jw(e,s,t?!0:n[++o]))}return e===void 0?null:e}function GC(e,n,t,r,i,o,s,a){if(!(n.type&3))return;let l=e.data,c=l[a+1],u=PC(c)?ug(l,n,t,i,ri(c),s):void 0;if(!xa(u)){xa(o)||OC(c)&&(o=ug(l,null,t,i,a,s));let d=Wg(si(),t);TE(r,s,d,i,o)}}function ug(e,n,t,r,i,o){let s=n===null,a;for(;i>0;){let l=e[i],c=Array.isArray(l),u=c?l[1]:l,d=u===null,m=t[i+1];m===Rn&&(m=d?st:void 0);let p=d?su(m,r):u===r?m:void 0;if(c&&!xa(p)&&(p=su(l,r)),xa(p)&&(a=p,s))return a;let v=e[i+1];i=s?lr(v):ri(v)}if(n!==null){let l=o?n.residualClasses:n.residualStyles;l!=null&&(a=su(l,r))}return a}function xa(e){return e!==void 0}function WC(e,n){return e==null||e===""||(typeof n=="string"?e=e+n:typeof e=="object"&&(e=Le(so(e)))),e}function QC(e,n){return(e.flags&(n?8:16))!==0}function ZC(e,n,t,r,i,o){let s=n.consts,a=Kr(s,i),l=ao(n,e,2,r,a);return Ad(n,t,l,Kr(s,o)),l.attrs!==null&&Sa(l,l.attrs,!1),l.mergedAttrs!==null&&Sa(l,l.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,l),l}function h(e,n,t,r){let i=ne(),o=Ne(),s=ut+e,a=i[pe],l=o.firstCreatePass?ZC(s,o,i,n,t,r):o.data[s],c=YC(o,i,l,a,n,e);i[s]=c;let u=ja(l);return ur(l,!0),zm(a,c,l),!tv(l)&&Ha()&&Ja(o,i,c,l),ub()===0&&dr(c,i),db(),u&&(Sd(o,i,l),Dd(o,l,i)),r!==null&&Td(i,l),h}function f(){let e=ze();dd()?Xg():(e=e.parent,ur(e,!1));let n=e;pb(n)&&gb(),fb();let t=Ne();return t.firstCreatePass&&(za(t,e),ld(e)&&t.queries.elementEnd(e)),n.classesWithoutHost!=null&&xb(n)&&cg(t,n,ne(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&Ab(n)&&cg(t,n,ne(),n.stylesWithoutHost,!1),f}function $(e,n,t,r){return h(e,n,t,r),f(),$}var YC=(e,n,t,r,i,o)=>(qa(!0),Hm(r,i,Ib()));function JC(e,n,t,r,i){let o=n.consts,s=Kr(o,r),a=ao(n,e,8,"ng-container",s);s!==null&&Sa(a,s,!0);let l=Kr(o,i);return Ad(n,t,a,l),n.queries!==null&&n.queries.elementStart(n,a),a}function $d(e,n,t){let r=ne(),i=Ne(),o=e+ut,s=i.firstCreatePass?JC(o,i,r,n,t):i.data[o];ur(s,!0);let a=KC(i,r,s,e);return r[o]=a,Ha()&&Ja(i,r,a,s),dr(a,r),ja(s)&&(Sd(i,r,s),Dd(i,s,r)),t!=null&&Td(r,s),$d}function Bd(){let e=ze(),n=Ne();return dd()?Xg():(e=e.parent,ur(e,!1)),n.firstCreatePass&&(za(n,e),ld(e)&&n.queries.elementEnd(e)),Bd}var KC=(e,n,t,r)=>(qa(!0),PD(n[pe],""));function Pe(){return ne()}var Jn=void 0;function XC(e){let n=e,t=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return t===1&&r===0?1:5}var eI=["en",[["a","p"],["AM","PM"],Jn],[["AM","PM"],Jn,Jn],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Jn,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Jn,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Jn,"{1} 'at' {0}",Jn],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",XC],mu={};function ft(e){let n=tI(e),t=dg(n);if(t)return t;let r=n.split("-")[0];if(t=dg(r),t)return t;if(r==="en")return eI;throw new C(701,!1)}function dg(e){return e in mu||(mu[e]=Kn.ng&&Kn.ng.common&&Kn.ng.common.locales&&Kn.ng.common.locales[e]),mu[e]}var ge=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(ge||{});function tI(e){return e.toLowerCase().replace(/_/g,"-")}var Aa="en-US";var nI=Aa;function rI(e){typeof e=="string"&&(nI=e.toLowerCase().replace(/_/g,"-"))}var iI=(e,n,t)=>{};function U(e,n,t,r){let i=ne(),o=Ne(),s=ze();return Ev(o,i,i[pe],s,e,n,r),U}function oI(e,n,t,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=n[ca],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function Ev(e,n,t,r,i,o,s){let a=ja(r),c=e.firstCreatePass&&cb(e),u=n[ct],d=lb(n),m=!0;if(r.type&3||s){let _=It(r,n),w=s?s(_):_,I=d.length,Q=s?te=>s(Ot(te[r.index])):r.index,N=null;if(!s&&a&&(N=oI(e,n,i,r.index)),N!==null){let te=N.__ngLastListenerFn__||N;te.__ngNextListenerFn__=o,N.__ngLastListenerFn__=o,m=!1}else{o=hg(r,n,u,o),iI(_,i,o);let te=t.listen(w,i,o);d.push(o,te),c&&c.push(i,Q,I,I+1)}}else o=hg(r,n,u,o);let p=r.outputs,v;if(m&&p!==null&&(v=p[i])){let _=v.length;if(_)for(let w=0;w<_;w+=2){let I=v[w],Q=v[w+1],j=n[I][Q].subscribe(o),_t=d.length;d.push(o,j),c&&c.push(i,r.index,_t,-(_t+1))}}}function fg(e,n,t,r){let i=Z(null);try{return at(6,n,t),t(r)!==!1}catch(o){return ev(e,o),!1}finally{at(7,n,t),Z(i)}}function hg(e,n,t,r){return function i(o){if(o===Function)return r;let s=cr(e)?kt(e.index,n):n;Ld(s,5);let a=fg(n,t,r,o),l=i.__ngNextListenerFn__;for(;l;)a=fg(n,t,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function H(e=1){return Cb(e)}function Hd(e,n,t){return Cv(e,"",n,"",t),Hd}function Cv(e,n,t,r,i){let o=ne(),s=Dv(o,n,t,r);if(s!==Rn){let a=Ne(),l=Ba();xd(a,l,o,e,s,o[pe],i,!1)}return Cv}function sI(e,n,t,r){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),n[t]=r}function g(e,n=""){let t=ne(),r=Ne(),i=e+ut,o=r.firstCreatePass?ao(r,i,1,n,null):r.data[i],s=aI(r,t,o,n,e);t[i]=s,Ha()&&Ja(r,t,s,o),ur(o,!1)}var aI=(e,n,t,r,i)=>(qa(!0),OD(n[pe],r));function F(e){return Me("",e,""),F}function Me(e,n,t){let r=ne(),i=Dv(r,e,n,t);return i!==Rn&&lI(r,si(),i),Me}function lI(e,n,t){let r=Wg(n,e);kD(e[pe],r,t)}function hr(e,n,t){Sm(n)&&(n=n());let r=ne(),i=$a();if(ar(r,i,n)){let o=Ne(),s=Ba();xd(o,s,r,e,n,r[pe],t,!1)}return hr}function ci(e,n){let t=Sm(e);return t&&e.set(n),t}function pr(e,n){let t=ne(),r=Ne(),i=ze();return Ev(r,t,t[pe],i,e,n),pr}function cI(e,n,t){let r=Ne();if(r.firstCreatePass){let i=Xt(e);Yu(t,r.data,r.blueprint,i,!0),Yu(n,r.data,r.blueprint,i,!1)}}function Yu(e,n,t,r,i){if(e=Fe(e),Array.isArray(e))for(let o=0;o<e.length;o++)Yu(e[o],n,t,r,i);else{let o=Ne(),s=ne(),a=ze(),l=Zr(e)?e:Fe(e.provide),c=Ug(e),u=a.providerIndexes&1048575,d=a.directiveStart,m=a.providerIndexes>>20;if(Zr(e)||!e.multi){let p=new or(c,i,b),v=yu(l,n,i?u:u+m,d);v===-1?(Nu(va(a,s),o,l),vu(o,e,n.length),n.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(p),s.push(p)):(t[v]=p,s[v]=p)}else{let p=yu(l,n,u+m,d),v=yu(l,n,u,u+m),_=p>=0&&t[p],w=v>=0&&t[v];if(i&&!w||!i&&!_){Nu(va(a,s),o,l);let I=fI(i?dI:uI,t.length,i,r,c);!i&&w&&(t[v].providerFactory=I),vu(o,e,n.length,0),n.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(I),s.push(I)}else{let I=Iv(t[i?v:p],c,!i&&r);vu(o,e,p>-1?p:v,I)}!i&&r&&w&&t[v].componentProviders++}}}function vu(e,n,t,r){let i=Zr(n),o=qw(n);if(i||o){let l=(o?Fe(n.useClass):n).prototype.ngOnDestroy;if(l){let c=e.destroyHooks||(e.destroyHooks=[]);if(!i&&n.multi){let u=c.indexOf(t);u===-1?c.push(t,[r,l]):c[u+1].push(r,l)}else c.push(t,l)}}}function Iv(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function yu(e,n,t,r){for(let i=t;i<r;i++)if(n[i]===e)return i;return-1}function uI(e,n,t,r){return Ju(this.multi,[])}function dI(e,n,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=ya(t,t[K],this.providerFactory.index,r);o=a.slice(0,s),Ju(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],Ju(i,o);return o}function Ju(e,n){for(let t=0;t<e.length;t++){let r=e[t];n.push(r())}return n}function fI(e,n,t,r,i){let o=new or(e,t,b);return o.multi=[],o.index=n,o.componentProviders=0,Iv(o,i,r&&!t),o}function Vt(e,n=[]){return t=>{t.providersResolver=(r,i)=>cI(r,i?i(e):e,n)}}function rl(e,n,t,r,i){return Sv(ne(),tm(),e,n,t,r,i)}function hI(e,n){let t=e[n];return t===Rn?void 0:t}function Sv(e,n,t,r,i,o,s){let a=n+t;return DC(e,a,i,o)?bC(e,a+2,s?r.call(s,i,o):r(i,o)):hI(e,a+2)}function il(e,n){let t=Ne(),r,i=e+ut;t.firstCreatePass?(r=pI(n,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=er(r.type,!0)),s,a=He(b);try{let l=ma(!1),c=o();return ma(l),sI(t,ne(),i,c),c}finally{He(a)}}function pI(e,n){if(n)for(let t=n.length-1;t>=0;t--){let r=n[t];if(e===r.name)return r}}function ol(e,n,t,r){let i=e+ut,o=ne(),s=ib(o,i);return gI(o,i)?Sv(o,tm(),n,s.transform,t,r,s):s.transform(t,r)}function gI(e,n){return e[K].data[n].pure}var Ku=class{ngModuleFactory;componentFactories;constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}},qd=(()=>{class e{compileModuleSync(t){return new Gu(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Og(t),o=$m(i.declarations).reduce((s,a)=>{let l=tr(a);return l&&s.push(new eo(l)),s},[]);return new Ku(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var mI=(()=>{class e{zone=D(ye);changeDetectionScheduler=D(ei);applicationRef=D(tn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function vI({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:t}){return e??=()=>new ye(z(E({},yI()),{scheduleInRootZone:t})),[{provide:ye,useFactory:e},{provide:Qr,multi:!0,useFactory:()=>{let r=D(mI,{optional:!0});return()=>r.initialize()}},{provide:Qr,multi:!0,useFactory:()=>{let r=D(_I);return()=>{r.initialize()}}},n===!0?{provide:Dm,useValue:!0}:[],{provide:md,useValue:t??bm}]}function yI(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var _I=(()=>{class e{subscription=new me;initialized=!1;zone=D(ye);pendingTasks=D(Nn);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ye.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ye.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Tv=(()=>{class e{appRef=D(tn);taskService=D(Nn);ngZone=D(ye);zonelessEnabled=D(Wa);tracing=D(Za,{optional:!0});disableScheduling=D(Dm,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new me;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(wa):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(D(md,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof ba||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 8:{this.appRef.deferredDirtyFlags|=8;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 13:{this.appRef.dirtyFlags|=16,r=!0;break}case 14:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{r=!0;break}case 10:case 9:case 7:case 11:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?qp:Em;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(wa+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,qp(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Mv(){return ai("NgZoneless"),ii([{provide:ei,useExisting:Tv},{provide:ye,useClass:ba},{provide:Wa,useValue:!0},{provide:md,useValue:!1},[]])}function wI(){return typeof $localize<"u"&&$localize.locale||Aa}var sl=new S("",{providedIn:"root",factory:()=>D(sl,V.Optional|V.SkipSelf)||wI()});var Xu=new S(""),bI=new S("");function Gi(e){return!e.moduleRef}function DI(e){let n=Gi(e)?e.r3Injector:e.moduleRef.injector,t=n.get(ye);return t.run(()=>{Gi(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=n.get(Tn,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Gi(e)){let o=()=>n.destroy(),s=e.platformInjector.get(Xu);s.add(o),n.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(Xu);s.add(o),e.moduleRef.onDestroy(()=>{na(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return NC(r,t,()=>{let o=n.get(bv);return o.runInitializers(),o.donePromise.then(()=>{let s=n.get(sl,Aa);if(rI(s||Aa),!n.get(bI,!0))return Gi(e)?n.get(tn):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Gi(e)){let l=n.get(tn);return e.rootComponent!==void 0&&l.bootstrap(e.rootComponent),l}else return EI(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function EI(e,n){let t=e.injector.get(tn);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(t);else throw new C(-403,!1);n.push(e)}var ra=null;function CI(e=[],n){return Et.create({name:n,providers:[{provide:Fa,useValue:"platform"},{provide:Xu,useValue:new Set([()=>ra=null])},...e]})}function II(e=[]){if(ra)return ra;let n=CI(e);return ra=n,MC(),SI(n),n}function SI(e){let n=e.get(wd,null);tt(e,()=>{n?.forEach(t=>t())})}var Ce=(()=>{class e{static __NG_ELEMENT_ID__=TI}return e})();function TI(e){return MI(ze(),ne(),(e&16)===16)}function MI(e,n,t){if(cr(e)&&!t){let r=kt(e.index,n);return new sr(r,r)}else if(e.type&175){let r=n[Rt];return new sr(r,n)}return null}var ed=class{constructor(){}supports(n){return vv(n)}create(n){return new td(n)}},xI=(e,n)=>n,td=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(n){this._trackByFn=n||xI}forEachItem(n){let t;for(t=this._itHead;t!==null;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<pg(r,i,o)?t:r,a=pg(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let c=a-i,u=l-i;if(c!=u){for(let m=0;m<c;m++){let p=m<o.length?o[m]:o[m]=0,v=p+m;u<=v&&v<c&&(o[m]=p+1)}let d=s.previousIndex;o[d]=u-c}}a!==l&&n(s,a,l)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)n(t)}diff(n){if(n==null&&(n=[]),!vv(n))throw new C(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,_C(n,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,r,i){let o;return n===null?o=this._itTail:(o=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),n!==null?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,o,i)):(n=this._linkedRecords===null?null:this._linkedRecords.get(r,i),n!==null?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,o,i)):n=this._addAfter(new nd(t,r),o,i)),n}_verifyReinsertion(n,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?n=this._reinsertAfter(o,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;n!==null;){let t=n._next;this._addToRemovals(this._unlink(n)),n=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let i=n._prevRemoved,o=n._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(n,t,r),this._addToMoves(n,r),n}_moveAfter(n,t,r){return this._unlink(n),this._insertAfter(n,t,r),this._addToMoves(n,r),n}_addAfter(n,t,r){return this._insertAfter(n,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,t,r){let i=t===null?this._itHead:t._next;return n._next=i,n._prev=t,i===null?this._itTail=n:i._prev=n,t===null?this._itHead=n:t._next=n,this._linkedRecords===null&&(this._linkedRecords=new Na),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let t=n._prev,r=n._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Na),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},nd=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(n,t){this.item=n,this.trackById=t}},rd=class{_head=null;_tail=null;add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){let t=n._prevDup,r=n._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Na=class{map=new Map;put(n){let t=n.trackById,r=this.map.get(t);r||(r=new rd,this.map.set(t,r)),r.add(n)}get(n,t){let r=n,i=this.map.get(r);return i?i.get(n,t):null}remove(n){let t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function pg(e,n,t){let r=e.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+n+i}function gg(){return new zd([new ed])}var zd=(()=>{class e{factories;static \u0275prov=T({token:e,providedIn:"root",factory:gg});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||gg()),deps:[[e,new Fw,new xg]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new C(901,!1)}}return e})();function xv(e){try{let{rootComponent:n,appProviders:t,platformProviders:r}=e,i=II(r),o=[vI({}),{provide:ei,useExisting:Tv},...t||[]],s=new Ma({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return DI({r3Injector:s.injector,platformInjector:i,rootComponent:n})}catch(n){return Promise.reject(n)}}function gr(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function On(e,n){ai("NgSignals");let t=ep(e);return n?.equal&&(t[Ye].equal=n.equal),t}function Ut(e){let n=Z(null);try{return e()}finally{Z(n)}}var mg=class{[Ye];constructor(n){this[Ye]=n}destroy(){this[Ye].destroy()}};var Fv=null;function cn(){return Fv}function Lv(e){Fv??=e}var gl=class{};var We=new S(""),jv=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:()=>D(AI),providedIn:"platform"})}return e})();var AI=(()=>{class e extends jv{_location;_history;_doc=D(We);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return cn().getBaseHref(this._doc)}onPopState(t){let r=cn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=cn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function Vv(e,n){return e?n?e.endsWith("/")?n.startsWith("/")?e+n.slice(1):e+n:n.startsWith("/")?e+n:`${e}/${n}`:e:n}function Av(e){let n=e.match(/#|\?|$/),t=n&&n.index||e.length,r=t-(e[t-1]==="/"?1:0);return e.slice(0,r)+e.slice(t)}function mr(e){return e&&e[0]!=="?"?"?"+e:e}var di=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:()=>D(Uv),providedIn:"root"})}return e})(),NI=new S(""),Uv=(()=>{class e extends di{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??D(We).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Vv(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+mr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+mr(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+mr(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||e)(x(jv),x(NI,8))};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var lo=(()=>{class e{_subject=new De;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=kI(Av(Nv(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+mr(r))}normalize(t){return e.stripTrailingSlash(OI(this._basePath,Nv(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+mr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+mr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=mr;static joinWithSlash=Vv;static stripTrailingSlash=Av;static \u0275fac=function(r){return new(r||e)(x(di))};static \u0275prov=T({token:e,factory:()=>RI(),providedIn:"root"})}return e})();function RI(){return new lo(x(di))}function OI(e,n){if(!e||!n.startsWith(e))return n;let t=n.substring(e.length);return t===""||["/",";","?","#"].includes(t[0])?t:n}function Nv(e){return e.replace(/\/index.html$/,"")}function kI(e){if(new RegExp("^(https?:)?//").test(e)){let[,t]=e.split(/\/\/[^\/]+/);return t}return e}var Ve=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(Ve||{}),ie=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(ie||{}),nt=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(nt||{}),kn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function PI(e){return ft(e)[ge.LocaleId]}function FI(e,n,t){let r=ft(e),i=[r[ge.DayPeriodsFormat],r[ge.DayPeriodsStandalone]],o=ht(i,n);return ht(o,t)}function LI(e,n,t){let r=ft(e),i=[r[ge.DaysFormat],r[ge.DaysStandalone]],o=ht(i,n);return ht(o,t)}function jI(e,n,t){let r=ft(e),i=[r[ge.MonthsFormat],r[ge.MonthsStandalone]],o=ht(i,n);return ht(o,t)}function VI(e,n){let r=ft(e)[ge.Eras];return ht(r,n)}function al(e,n){let t=ft(e);return ht(t[ge.DateFormat],n)}function ll(e,n){let t=ft(e);return ht(t[ge.TimeFormat],n)}function cl(e,n){let r=ft(e)[ge.DateTimeFormat];return ht(r,n)}function vl(e,n){let t=ft(e),r=t[ge.NumberSymbols][n];if(typeof r>"u"){if(n===kn.CurrencyDecimal)return t[ge.NumberSymbols][kn.Decimal];if(n===kn.CurrencyGroup)return t[ge.NumberSymbols][kn.Group]}return r}function $v(e){if(!e[ge.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[ge.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function UI(e){let n=ft(e);return $v(n),(n[ge.ExtraData][2]||[]).map(r=>typeof r=="string"?Gd(r):[Gd(r[0]),Gd(r[1])])}function $I(e,n,t){let r=ft(e);$v(r);let i=[r[ge.ExtraData][0],r[ge.ExtraData][1]],o=ht(i,n)||[];return ht(o,t)||[]}function ht(e,n){for(let t=n;t>-1;t--)if(typeof e[t]<"u")return e[t];throw new Error("Locale data API: locale data undefined")}function Gd(e){let[n,t]=e.split(":");return{hours:+n,minutes:+t}}var BI=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ul={},HI=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function qI(e,n,t,r){let i=XI(e);n=ln(t,n)||n;let s=[],a;for(;n;)if(a=HI.exec(n),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;n=u}else{s.push(n);break}let l=i.getTimezoneOffset();r&&(l=Hv(r,l),i=KI(i,r,!0));let c="";return s.forEach(u=>{let d=YI(u);c+=d?d(i,t,l):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function ml(e,n,t){let r=new Date(0);return r.setFullYear(e,n,t),r.setHours(0,0,0),r}function ln(e,n){let t=PI(e);if(ul[t]??={},ul[t][n])return ul[t][n];let r="";switch(n){case"shortDate":r=al(e,nt.Short);break;case"mediumDate":r=al(e,nt.Medium);break;case"longDate":r=al(e,nt.Long);break;case"fullDate":r=al(e,nt.Full);break;case"shortTime":r=ll(e,nt.Short);break;case"mediumTime":r=ll(e,nt.Medium);break;case"longTime":r=ll(e,nt.Long);break;case"fullTime":r=ll(e,nt.Full);break;case"short":let i=ln(e,"shortTime"),o=ln(e,"shortDate");r=dl(cl(e,nt.Short),[i,o]);break;case"medium":let s=ln(e,"mediumTime"),a=ln(e,"mediumDate");r=dl(cl(e,nt.Medium),[s,a]);break;case"long":let l=ln(e,"longTime"),c=ln(e,"longDate");r=dl(cl(e,nt.Long),[l,c]);break;case"full":let u=ln(e,"fullTime"),d=ln(e,"fullDate");r=dl(cl(e,nt.Full),[u,d]);break}return r&&(ul[t][n]=r),r}function dl(e,n){return n&&(e=e.replace(/\{([^}]+)}/g,function(t,r){return n!=null&&r in n?n[r]:t})),e}function Tt(e,n,t="-",r,i){let o="";(e<0||i&&e<=0)&&(i?e=-e+1:(e=-e,o=t));let s=String(e);for(;s.length<n;)s="0"+s;return r&&(s=s.slice(s.length-n)),o+s}function zI(e,n){return Tt(e,3).substring(0,n)}function _e(e,n,t=0,r=!1,i=!1){return function(o,s){let a=GI(e,o);if((t>0||a>-t)&&(a+=t),e===3)a===0&&t===-12&&(a=12);else if(e===6)return zI(a,n);let l=vl(s,kn.MinusSign);return Tt(a,n,l,r,i)}}function GI(e,n){switch(e){case 0:return n.getFullYear();case 1:return n.getMonth();case 2:return n.getDate();case 3:return n.getHours();case 4:return n.getMinutes();case 5:return n.getSeconds();case 6:return n.getMilliseconds();case 7:return n.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}function le(e,n,t=Ve.Format,r=!1){return function(i,o){return WI(i,o,e,n,t,r)}}function WI(e,n,t,r,i,o){switch(t){case 2:return jI(n,i,r)[e.getMonth()];case 1:return LI(n,i,r)[e.getDay()];case 0:let s=e.getHours(),a=e.getMinutes();if(o){let c=UI(n),u=$I(n,i,r),d=c.findIndex(m=>{if(Array.isArray(m)){let[p,v]=m,_=s>=p.hours&&a>=p.minutes,w=s<v.hours||s===v.hours&&a<v.minutes;if(p.hours<v.hours){if(_&&w)return!0}else if(_||w)return!0}else if(m.hours===s&&m.minutes===a)return!0;return!1});if(d!==-1)return u[d]}return FI(n,i,r)[s<12?0:1];case 3:return VI(n,r)[e.getFullYear()<=0?0:1];default:let l=t;throw new Error(`unexpected translation type ${l}`)}}function fl(e){return function(n,t,r){let i=-1*r,o=vl(t,kn.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case 0:return(i>=0?"+":"")+Tt(s,2,o)+Tt(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+Tt(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+Tt(s,2,o)+":"+Tt(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+Tt(s,2,o)+":"+Tt(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${e}"`)}}}var QI=0,pl=4;function ZI(e){let n=ml(e,QI,1).getDay();return ml(e,0,1+(n<=pl?pl:pl+7)-n)}function Bv(e){let n=e.getDay(),t=n===0?-3:pl-n;return ml(e.getFullYear(),e.getMonth(),e.getDate()+t)}function Wd(e,n=!1){return function(t,r){let i;if(n){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=Bv(t),s=ZI(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Tt(i,e,vl(r,kn.MinusSign))}}function hl(e,n=!1){return function(t,r){let o=Bv(t).getFullYear();return Tt(o,e,vl(r,kn.MinusSign),n)}}var Qd={};function YI(e){if(Qd[e])return Qd[e];let n;switch(e){case"G":case"GG":case"GGG":n=le(3,ie.Abbreviated);break;case"GGGG":n=le(3,ie.Wide);break;case"GGGGG":n=le(3,ie.Narrow);break;case"y":n=_e(0,1,0,!1,!0);break;case"yy":n=_e(0,2,0,!0,!0);break;case"yyy":n=_e(0,3,0,!1,!0);break;case"yyyy":n=_e(0,4,0,!1,!0);break;case"Y":n=hl(1);break;case"YY":n=hl(2,!0);break;case"YYY":n=hl(3);break;case"YYYY":n=hl(4);break;case"M":case"L":n=_e(1,1,1);break;case"MM":case"LL":n=_e(1,2,1);break;case"MMM":n=le(2,ie.Abbreviated);break;case"MMMM":n=le(2,ie.Wide);break;case"MMMMM":n=le(2,ie.Narrow);break;case"LLL":n=le(2,ie.Abbreviated,Ve.Standalone);break;case"LLLL":n=le(2,ie.Wide,Ve.Standalone);break;case"LLLLL":n=le(2,ie.Narrow,Ve.Standalone);break;case"w":n=Wd(1);break;case"ww":n=Wd(2);break;case"W":n=Wd(1,!0);break;case"d":n=_e(2,1);break;case"dd":n=_e(2,2);break;case"c":case"cc":n=_e(7,1);break;case"ccc":n=le(1,ie.Abbreviated,Ve.Standalone);break;case"cccc":n=le(1,ie.Wide,Ve.Standalone);break;case"ccccc":n=le(1,ie.Narrow,Ve.Standalone);break;case"cccccc":n=le(1,ie.Short,Ve.Standalone);break;case"E":case"EE":case"EEE":n=le(1,ie.Abbreviated);break;case"EEEE":n=le(1,ie.Wide);break;case"EEEEE":n=le(1,ie.Narrow);break;case"EEEEEE":n=le(1,ie.Short);break;case"a":case"aa":case"aaa":n=le(0,ie.Abbreviated);break;case"aaaa":n=le(0,ie.Wide);break;case"aaaaa":n=le(0,ie.Narrow);break;case"b":case"bb":case"bbb":n=le(0,ie.Abbreviated,Ve.Standalone,!0);break;case"bbbb":n=le(0,ie.Wide,Ve.Standalone,!0);break;case"bbbbb":n=le(0,ie.Narrow,Ve.Standalone,!0);break;case"B":case"BB":case"BBB":n=le(0,ie.Abbreviated,Ve.Format,!0);break;case"BBBB":n=le(0,ie.Wide,Ve.Format,!0);break;case"BBBBB":n=le(0,ie.Narrow,Ve.Format,!0);break;case"h":n=_e(3,1,-12);break;case"hh":n=_e(3,2,-12);break;case"H":n=_e(3,1);break;case"HH":n=_e(3,2);break;case"m":n=_e(4,1);break;case"mm":n=_e(4,2);break;case"s":n=_e(5,1);break;case"ss":n=_e(5,2);break;case"S":n=_e(6,1);break;case"SS":n=_e(6,2);break;case"SSS":n=_e(6,3);break;case"Z":case"ZZ":case"ZZZ":n=fl(0);break;case"ZZZZZ":n=fl(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=fl(1);break;case"OOOO":case"ZZZZ":case"zzzz":n=fl(2);break;default:return null}return Qd[e]=n,n}function Hv(e,n){e=e.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(t)?n:t}function JI(e,n){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+n),e}function KI(e,n,t){let r=t?-1:1,i=e.getTimezoneOffset(),o=Hv(n,i);return JI(e,r*(o-i))}function XI(e){if(Rv(e))return e;if(typeof e=="number"&&!isNaN(e))return new Date(e);if(typeof e=="string"){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[i,o=1,s=1]=e.split("-").map(a=>+a);return ml(i,o-1,s)}let t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let r;if(r=e.match(BI))return eS(r)}let n=new Date(e);if(!Rv(n))throw new Error(`Unable to convert "${e}" into a date`);return n}function eS(e){let n=new Date(0),t=0,r=0,i=e[8]?n.setUTCFullYear:n.setFullYear,o=e[8]?n.setUTCHours:n.setHours;e[9]&&(t=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(n,Number(e[1]),Number(e[2])-1,Number(e[3]));let s=Number(e[4]||0)-t,a=Number(e[5]||0)-r,l=Number(e[6]||0),c=Math.floor(parseFloat("0."+(e[7]||0))*1e3);return o.call(n,s,a,l,c),n}function Rv(e){return e instanceof Date&&!isNaN(e.valueOf())}function yl(e,n){n=encodeURIComponent(n);for(let t of e.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===n)return decodeURIComponent(o)}return null}var Zd=/\s+/,Ov=[],_l=(()=>{class e{_ngEl;_renderer;initialClasses=Ov;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(Zd):Ov}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Zd):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(Zd).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||e)(b(St),b(jt))};static \u0275dir=fe({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var Yd=class{$implicit;ngForOf;index;count;constructor(n,t,r,i){this.$implicit=n,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Pn=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Yd(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),kv(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);kv(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||e)(b(li),b(Xa),b(zd))};static \u0275dir=fe({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function kv(e,n){e.context.$implicit=n.item}var xe=(()=>{class e{_viewContainer;_context=new Jd;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Pv("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Pv("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||e)(b(li),b(Xa))};static \u0275dir=fe({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),Jd=class{$implicit=null;ngIf=null};function Pv(e,n){if(!!!(!n||n.createEmbeddedView))throw new Error(`${e} must be a TemplateRef, but received '${Le(n)}'.`)}function tS(e,n){return new C(2100,!1)}var nS="mediumDate",rS=new S(""),iS=new S(""),wl=(()=>{class e{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??nS,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return qI(t,s,o||this.locale,a)}catch(s){throw tS(e,s.message)}}static \u0275fac=function(r){return new(r||e)(b(sl,16),b(rS,24),b(iS,24))};static \u0275pipe=pv({name:"date",type:e,pure:!0})}return e})();var Se=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=an({type:e});static \u0275inj=nn({})}return e})(),Xd="browser",oS="server";function Fn(e){return e===Xd}function ef(e){return e===oS}var ui=class{};var fo=class{},ho=class{},un=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(n){n?typeof n=="string"?this.lazyInit=()=>{this.headers=new Map,n.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();let t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){let t=new e;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){let t=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(n.name,t);let i=(n.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=n.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(n,t){let r=n.toLowerCase();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(n,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=n.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(n,i)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}};var rf=class{encodeKey(n){return qv(n)}encodeValue(n){return qv(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};function sS(e,n){let t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[n.decodeKey(i),""]:[n.decodeKey(i.slice(0,o)),n.decodeValue(i.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}var aS=/%(\d[a-f0-9])/gi,lS={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function qv(e){return encodeURIComponent(e).replace(aS,(n,t)=>lS[t]??n)}function bl(e){return`${e}`}var jn=class e{map;encoder;updates=null;cloneFrom=null;constructor(n={}){if(this.encoder=n.encoder||new rf,n.fromString){if(n.fromObject)throw new C(2805,!1);this.map=sS(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{let r=n.fromObject[t],i=Array.isArray(r)?r.map(bl):[bl(r)];this.map.set(t,i)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();let t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){let t=[];return Object.keys(n).forEach(r=>{let i=n[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{let t=this.encoder.encodeKey(n);return this.map.get(n).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>n!=="").join("&")}clone(n){let t=new e({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":let t=(n.op==="a"?this.map.get(n.param):void 0)||[];t.push(bl(n.value)),this.map.set(n.param,t);break;case"d":if(n.value!==void 0){let r=this.map.get(n.param)||[],i=r.indexOf(bl(n.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}else{this.map.delete(n.param);break}}}),this.cloneFrom=this.updates=null)}};var of=class{map=new Map;set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}};function cS(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function zv(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function Gv(e){return typeof Blob<"u"&&e instanceof Blob}function Wv(e){return typeof FormData<"u"&&e instanceof FormData}function uS(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var co="Content-Type",Dl="Accept",lf="X-Request-URL",Jv="text/plain",Kv="application/json",Xv=`${Kv}, ${Jv}, */*`,uo=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(n,t,r,i){this.url=t,this.method=n.toUpperCase();let o;if(cS(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new un,this.context??=new of,!this.params)this.params=new jn,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),l=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||zv(this.body)||Gv(this.body)||Wv(this.body)||uS(this.body)?this.body:this.body instanceof jn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Wv(this.body)?null:Gv(this.body)?this.body.type||null:zv(this.body)?null:typeof this.body=="string"?Jv:this.body instanceof jn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?Kv:null}clone(n={}){let t=n.method||this.method,r=n.url||this.url,i=n.responseType||this.responseType,o=n.transferCache??this.transferCache,s=n.body!==void 0?n.body:this.body,a=n.withCredentials??this.withCredentials,l=n.reportProgress??this.reportProgress,c=n.headers||this.headers,u=n.params||this.params,d=n.context??this.context;return n.setHeaders!==void 0&&(c=Object.keys(n.setHeaders).reduce((m,p)=>m.set(p,n.setHeaders[p]),c)),n.setParams&&(u=Object.keys(n.setParams).reduce((m,p)=>m.set(p,n.setParams[p]),u)),new e(t,r,s,{params:u,headers:c,context:d,reportProgress:l,responseType:i,withCredentials:a,transferCache:o})}},Vn=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Vn||{}),po=class{headers;status;statusText;url;ok;type;constructor(n,t=200,r="OK"){this.headers=n.headers||new un,this.status=n.status!==void 0?n.status:t,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}},El=class e extends po{constructor(n={}){super(n)}type=Vn.ResponseHeader;clone(n={}){return new e({headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},go=class e extends po{body;constructor(n={}){super(n),this.body=n.body!==void 0?n.body:null}type=Vn.Response;clone(n={}){return new e({body:n.body!==void 0?n.body:this.body,headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},Ln=class extends po{name="HttpErrorResponse";message;error;ok=!1;constructor(n){super(n,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${n.url||"(unknown url)"}`:this.message=`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}},ey=200,dS=204;function tf(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var fS=(()=>{class e{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof uo)o=t;else{let l;i.headers instanceof un?l=i.headers:l=new un(i.headers);let c;i.params&&(i.params instanceof jn?c=i.params:c=new jn({fromObject:i.params})),o=new uo(t,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=A(o).pipe(Dn(l=>this.handler.handle(l)));if(t instanceof uo||i.observe==="events")return s;let a=s.pipe(Ke(l=>l instanceof go));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(P(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new C(2806,!1);return l.body}));case"blob":return a.pipe(P(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new C(2807,!1);return l.body}));case"text":return a.pipe(P(l=>{if(l.body!==null&&typeof l.body!="string")throw new C(2808,!1);return l.body}));case"json":default:return a.pipe(P(l=>l.body))}case"response":return a;default:throw new C(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new jn().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,tf(i,r))}post(t,r,i={}){return this.request("POST",t,tf(i,r))}put(t,r,i={}){return this.request("PUT",t,tf(i,r))}static \u0275fac=function(r){return new(r||e)(x(fo))};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})(),hS=/^\)\]\}',?\n/;function Qv(e){if(e.url)return e.url;let n=lf.toLocaleLowerCase();return e.headers.get(n)}var ty=new S(""),nf=(()=>{class e{fetchImpl=D(sf,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t));ngZone=D(ye);handle(t){return new Y(r=>{let i=new AbortController;return this.doRequest(t,i.signal,r).then(af,o=>r.error(new Ln({error:o}))),()=>i.abort()})}async doRequest(t,r,i){let o=this.createRequestInit(t),s;try{let p=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,E({signal:r},o)));pS(p),i.next({type:Vn.Sent}),s=await p}catch(p){i.error(new Ln({error:p,status:p.status??0,statusText:p.statusText,url:t.urlWithParams,headers:p.headers}));return}let a=new un(s.headers),l=s.statusText,c=Qv(s)??t.urlWithParams,u=s.status,d=null;if(t.reportProgress&&i.next(new El({headers:a,status:u,statusText:l,url:c})),s.body){let p=s.headers.get("content-length"),v=[],_=s.body.getReader(),w=0,I,Q,N=typeof Zone<"u"&&Zone.current;await this.ngZone.runOutsideAngular(async()=>{for(;;){let{done:j,value:_t}=await _.read();if(j)break;if(v.push(_t),w+=_t.length,t.reportProgress){Q=t.responseType==="text"?(Q??"")+(I??=new TextDecoder).decode(_t,{stream:!0}):void 0;let vs=()=>i.next({type:Vn.DownloadProgress,total:p?+p:void 0,loaded:w,partialText:Q});N?N.run(vs):vs()}}});let te=this.concatChunks(v,w);try{let j=s.headers.get(co)??"";d=this.parseBody(t,te,j)}catch(j){i.error(new Ln({error:j,headers:new un(s.headers),status:s.status,statusText:s.statusText,url:Qv(s)??t.urlWithParams}));return}}u===0&&(u=d?ey:0),u>=200&&u<300?(i.next(new go({body:d,headers:a,status:u,statusText:l,url:c})),i.complete()):i.error(new Ln({error:d,headers:a,status:u,statusText:l,url:c}))}parseBody(t,r,i){switch(t.responseType){case"json":let o=new TextDecoder().decode(r).replace(hS,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((o,s)=>r[o]=s.join(",")),t.headers.has(Dl)||(r[Dl]=Xv),!t.headers.has(co)){let o=t.detectContentTypeHeader();o!==null&&(r[co]=o)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:i}}concatChunks(t,r){let i=new Uint8Array(r),o=0;for(let s of t)i.set(s,o),o+=s.length;return i}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})(),sf=class{};function af(){}function pS(e){e.then(af,af)}function gS(e,n){return n(e)}function mS(e,n,t){return(r,i)=>tt(t,()=>n(r,o=>e(o,i)))}var ny=new S(""),vS=new S(""),yS=new S("",{providedIn:"root",factory:()=>!0});var Zv=(()=>{class e extends fo{backend;injector;chain=null;pendingTasks=D(Nn);contributeToStability=D(yS);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(ny),...this.injector.get(vS,[])]));this.chain=r.reduceRight((i,o)=>mS(i,o,this.injector),gS)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Yn(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||e)(x(ho),x(qe))};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})();var _S=/^\)\]\}',?\n/,wS=RegExp(`^${lf}:`,"m");function bS(e){return"responseURL"in e&&e.responseURL?e.responseURL:wS.test(e.getAllResponseHeaders())?e.getResponseHeader(lf):null}var Yv=(()=>{class e{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new C(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?he(r.\u0275loadImpl()):A(null)).pipe(Xe(()=>new Y(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((_,w)=>s.setRequestHeader(_,w.join(","))),t.headers.has(Dl)||s.setRequestHeader(Dl,Xv),!t.headers.has(co)){let _=t.detectContentTypeHeader();_!==null&&s.setRequestHeader(co,_)}if(t.responseType){let _=t.responseType.toLowerCase();s.responseType=_!=="json"?_:"text"}let a=t.serializeBody(),l=null,c=()=>{if(l!==null)return l;let _=s.statusText||"OK",w=new un(s.getAllResponseHeaders()),I=bS(s)||t.url;return l=new El({headers:w,status:s.status,statusText:_,url:I}),l},u=()=>{let{headers:_,status:w,statusText:I,url:Q}=c(),N=null;w!==dS&&(N=typeof s.response>"u"?s.responseText:s.response),w===0&&(w=N?ey:0);let te=w>=200&&w<300;if(t.responseType==="json"&&typeof N=="string"){let j=N;N=N.replace(_S,"");try{N=N!==""?JSON.parse(N):null}catch(_t){N=j,te&&(te=!1,N={error:_t,text:N})}}te?(o.next(new go({body:N,headers:_,status:w,statusText:I,url:Q||void 0})),o.complete()):o.error(new Ln({error:N,headers:_,status:w,statusText:I,url:Q||void 0}))},d=_=>{let{url:w}=c(),I=new Ln({error:_,status:s.status||0,statusText:s.statusText||"Unknown Error",url:w||void 0});o.error(I)},m=!1,p=_=>{m||(o.next(c()),m=!0);let w={type:Vn.DownloadProgress,loaded:_.loaded};_.lengthComputable&&(w.total=_.total),t.responseType==="text"&&s.responseText&&(w.partialText=s.responseText),o.next(w)},v=_=>{let w={type:Vn.UploadProgress,loaded:_.loaded};_.lengthComputable&&(w.total=_.total),o.next(w)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),t.reportProgress&&(s.addEventListener("progress",p),a!==null&&s.upload&&s.upload.addEventListener("progress",v)),s.send(a),o.next({type:Vn.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",d),t.reportProgress&&(s.removeEventListener("progress",p),a!==null&&s.upload&&s.upload.removeEventListener("progress",v)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||e)(x(ui))};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})(),ry=new S(""),DS="XSRF-TOKEN",ES=new S("",{providedIn:"root",factory:()=>DS}),CS="X-XSRF-TOKEN",IS=new S("",{providedIn:"root",factory:()=>CS}),Cl=class{},SS=(()=>{class e{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=yl(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||e)(x(We),x(Lt),x(ES))};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})();function TS(e,n){let t=e.url.toLowerCase();if(!D(ry)||e.method==="GET"||e.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return n(e);let r=D(Cl).getToken(),i=D(IS);return r!=null&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),n(e)}var iy=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(iy||{});function MS(e,n){return{\u0275kind:e,\u0275providers:n}}function oy(...e){let n=[fS,Yv,Zv,{provide:fo,useExisting:Zv},{provide:ho,useFactory:()=>D(ty,{optional:!0})??D(Yv)},{provide:ny,useValue:TS,multi:!0},{provide:ry,useValue:!0},{provide:Cl,useClass:SS}];for(let t of e)n.push(...t.\u0275providers);return ii(n)}function sy(){return MS(iy.Fetch,[nf,{provide:ty,useExisting:nf},{provide:ho,useExisting:nf}])}var uf=class extends gl{supportsDOMEvents=!0},df=class e extends uf{static makeCurrent(){Lv(new e)}onAndCancel(n,t,r,i){return n.addEventListener(t,r,i),()=>{n.removeEventListener(t,r,i)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.remove()}createElement(n,t){return t=t||this.getDefaultDocument(),t.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return t==="window"?window:t==="document"?n:t==="body"?n.body:null}getBaseHref(n){let t=xS();return t==null?null:AS(t)}resetBaseElement(){mo=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return yl(document.cookie,n)}},mo=null;function xS(){return mo=mo||document.querySelector("base"),mo?mo.getAttribute("href"):null}function AS(e){return new URL(e,document.baseURI).pathname}var NS=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})(),ff=new S(""),fy=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new C(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||e)(x(ff),x(ye))};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})(),Sl=class{_doc;constructor(n){this._doc=n}manager},Il="ng-app-id";function ay(e){for(let n of e)n.remove()}function ly(e,n){let t=n.createElement("style");return t.textContent=e,t}function RS(e,n,t,r){let i=e.head?.querySelectorAll(`style[${Il}="${n}"],link[${Il}="${n}"]`);if(i)for(let o of i)o.removeAttribute(Il),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function hf(e,n){let t=n.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),t}var hy=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=ef(o),RS(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,ly);r?.forEach(i=>this.addUsage(i,this.external,hf))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(ay(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])ay(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,ly(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,hf(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Il,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||e)(x(We),x(_d),x(bd,8),x(Lt))};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})(),cf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},gf=/%COMP%/g;var py="%COMP%",OS=`_nghost-${py}`,kS=`_ngcontent-${py}`,PS=!0,FS=new S("",{providedIn:"root",factory:()=>PS});function LS(e){return kS.replace(gf,e)}function jS(e){return OS.replace(gf,e)}function gy(e,n){return n.map(t=>t.replace(gf,e))}var cy=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,l,c=null,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=u,this.platformIsServer=ef(a),this.defaultRenderer=new vo(t,s,l,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Pt.ShadowDom&&(r=z(E({},r),{encapsulation:Pt.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Tl?i.applyToHost(t):i instanceof yo&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case Pt.Emulated:o=new Tl(l,c,r,this.appId,u,s,a,d,m);break;case Pt.ShadowDom:return new pf(l,c,t,r,s,a,this.nonce,d,m);default:o=new yo(l,c,r,u,s,a,d,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||e)(x(fy),x(hy),x(_d),x(FS),x(We),x(Lt),x(ye),x(bd),x(Za,8))};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})(),vo=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,t,r,i,o){this.eventManager=n,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(n,t){return t?this.doc.createElementNS(cf[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(uy(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(uy(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){t.remove()}selectRootElement(n,t){let r=typeof n=="string"?this.doc.querySelector(n):n;if(!r)throw new C(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,i){if(i){t=i+":"+t;let o=cf[i];o?n.setAttributeNS(o,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){let i=cf[r];i?n.removeAttributeNS(i,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,i){i&(en.DashCase|en.Important)?n.style.setProperty(t,r,i&en.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&en.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n!=null&&(n[t]=r)}setValue(n,t){n.nodeValue=t}listen(n,t,r,i){if(typeof n=="string"&&(n=cn().getGlobalEventTarget(this.doc,n),!n))throw new Error(`Unsupported event target ${n} for event ${t}`);let o=this.decoratePreventDefault(r);return this.tracingService!==null&&this.tracingService.wrapEventListener&&(o=this.tracingService.wrapEventListener(n,t,o)),this.eventManager.addEventListener(n,t,o,i)}decoratePreventDefault(n){return t=>{if(t==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))===!1&&t.preventDefault()}}};function uy(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var pf=class extends vo{sharedStylesHost;hostEl;shadowRoot;constructor(n,t,r,i,o,s,a,l,c){super(n,o,s,l,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=gy(i.id,u);for(let m of u){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=m,this.shadowRoot.appendChild(p)}let d=i.getExternalStyles?.();if(d)for(let m of d){let p=hf(m,o);a&&p.setAttribute("nonce",a),this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(null,t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},yo=class extends vo{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,t,r,i,o,s,a,l,c){super(n,o,s,a,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=c?gy(c,u):u,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Tl=class extends yo{contentAttr;hostAttr;constructor(n,t,r,i,o,s,a,l,c){let u=i+"-"+r.id;super(n,t,r,o,s,a,l,c,u),this.contentAttr=LS(u),this.hostAttr=jS(u)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){let r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}},VS=(()=>{class e extends Sl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(x(We))};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})(),dy=["alt","control","meta","shift"],US={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$S={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},BS=(()=>{class e extends Sl{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>cn().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),dy.forEach(c=>{let u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=US[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),dy.forEach(s=>{if(s!==i){let a=$S[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{e.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||e)(x(We))};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})();function my(e,n){return xv(E({rootComponent:e},HS(n)))}function HS(e){return{appProviders:[...QS,...e?.providers??[]],platformProviders:WS}}function qS(){df.makeCurrent()}function zS(){return new Tn}function GS(){return Om(document),document}var WS=[{provide:Lt,useValue:Xd},{provide:wd,useValue:qS,multi:!0},{provide:We,useFactory:GS,deps:[]}];var QS=[{provide:Fa,useValue:"root"},{provide:Tn,useFactory:zS,deps:[]},{provide:ff,useClass:VS,multi:!0,deps:[We,ye,Lt]},{provide:ff,useClass:BS,multi:!0,deps:[We]},cy,hy,fy,{provide:ni,useExisting:cy},{provide:ui,useClass:NS,deps:[]},[]];var vy=(()=>{class e{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||e)(x(We))};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var L="primary",Oo=Symbol("RouteTitle"),wf=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function vi(e){return new wf(e)}function YS(e,n,t){let r=t.path.split("/");if(r.length>e.length||t.pathMatch==="full"&&(n.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=e[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function JS(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!$t(e[t],n[t]))return!1;return!0}function $t(e,n){let t=e?bf(e):void 0,r=n?bf(n):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!Iy(e[i],n[i]))return!1;return!0}function bf(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function Iy(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;let t=[...e].sort(),r=[...n].sort();return t.every((i,o)=>r[o]===i)}else return e===n}function Sy(e){return e.length>0?e[e.length-1]:null}function $n(e){return Xc(e)?e:fr(e)?he(Promise.resolve(e)):A(e)}var KS={exact:My,subset:xy},Ty={exact:XS,subset:eT,ignored:()=>!0};function yy(e,n,t){return KS[t.paths](e.root,n.root,t.matrixParams)&&Ty[t.queryParams](e.queryParams,n.queryParams)&&!(t.fragment==="exact"&&e.fragment!==n.fragment)}function XS(e,n){return $t(e,n)}function My(e,n,t){if(!yr(e.segments,n.segments)||!Al(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(let r in n.children)if(!e.children[r]||!My(e.children[r],n.children[r],t))return!1;return!0}function eT(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>Iy(e[t],n[t]))}function xy(e,n,t){return Ay(e,n,n.segments,t)}function Ay(e,n,t,r){if(e.segments.length>t.length){let i=e.segments.slice(0,t.length);return!(!yr(i,t)||n.hasChildren()||!Al(i,t,r))}else if(e.segments.length===t.length){if(!yr(e.segments,t)||!Al(e.segments,t,r))return!1;for(let i in n.children)if(!e.children[i]||!xy(e.children[i],n.children[i],r))return!1;return!0}else{let i=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!yr(e.segments,i)||!Al(e.segments,i,r)||!e.children[L]?!1:Ay(e.children[L],n,o,r)}}function Al(e,n,t){return n.every((r,i)=>Ty[t](e[i].parameters,r.parameters))}var fn=class{root;queryParams;fragment;_queryParamMap;constructor(n=new ee([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=vi(this.queryParams),this._queryParamMap}toString(){return rT.serialize(this)}},ee=class{segments;children;parent=null;constructor(n,t){this.segments=n,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Nl(this)}},vr=class{path;parameters;_parameterMap;constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap??=vi(this.parameters),this._parameterMap}toString(){return Ry(this)}};function tT(e,n){return yr(e,n)&&e.every((t,r)=>$t(t.parameters,n[r].parameters))}function yr(e,n){return e.length!==n.length?!1:e.every((t,r)=>t.path===n[r].path)}function nT(e,n){let t=[];return Object.entries(e.children).forEach(([r,i])=>{r===L&&(t=t.concat(n(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==L&&(t=t.concat(n(i,r)))}),t}var Wf=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:()=>new Co,providedIn:"root"})}return e})(),Co=class{parse(n){let t=new Ef(n);return new fn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){let t=`/${_o(n.root,!0)}`,r=sT(n.queryParams),i=typeof n.fragment=="string"?`#${iT(n.fragment)}`:"";return`${t}${r}${i}`}},rT=new Co;function Nl(e){return e.segments.map(n=>Ry(n)).join("/")}function _o(e,n){if(!e.hasChildren())return Nl(e);if(n){let t=e.children[L]?_o(e.children[L],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==L&&r.push(`${i}:${_o(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=nT(e,(r,i)=>i===L?[_o(e.children[L],!1)]:[`${i}:${_o(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[L]!=null?`${Nl(e)}/${t[0]}`:`${Nl(e)}/(${t.join("//")})`}}function Ny(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ml(e){return Ny(e).replace(/%3B/gi,";")}function iT(e){return encodeURI(e)}function Df(e){return Ny(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rl(e){return decodeURIComponent(e)}function _y(e){return Rl(e.replace(/\+/g,"%20"))}function Ry(e){return`${Df(e.path)}${oT(e.parameters)}`}function oT(e){return Object.entries(e).map(([n,t])=>`;${Df(n)}=${Df(t)}`).join("")}function sT(e){let n=Object.entries(e).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Ml(t)}=${Ml(i)}`).join("&"):`${Ml(t)}=${Ml(r)}`).filter(t=>t);return n.length?`?${n.join("&")}`:""}var aT=/^[^\/()?;#]+/;function mf(e){let n=e.match(aT);return n?n[0]:""}var lT=/^[^\/()?;=#]+/;function cT(e){let n=e.match(lT);return n?n[0]:""}var uT=/^[^=?&#]+/;function dT(e){let n=e.match(uT);return n?n[0]:""}var fT=/^[^&#]+/;function hT(e){let n=e.match(fT);return n?n[0]:""}var Ef=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ee([],{}):new ee([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[L]=new ee(n,t)),r}parseSegment(){let n=mf(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new C(4009,!1);return this.capture(n),new vr(Rl(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let t=cT(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=mf(this.remaining);i&&(r=i,this.capture(r))}n[Rl(t)]=Rl(r)}parseQueryParam(n){let t=dT(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=hT(this.remaining);s&&(r=s,this.capture(r))}let i=_y(t),o=_y(r);if(n.hasOwnProperty(i)){let s=n[i];Array.isArray(s)||(s=[s],n[i]=s),s.push(o)}else n[i]=o}parseParens(n){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=mf(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new C(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=L);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[L]:new ee([],s),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new C(4011,!1)}};function Oy(e){return e.segments.length>0?new ee([],{[L]:e}):e}function ky(e){let n={};for(let[r,i]of Object.entries(e.children)){let o=ky(i);if(r===L&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[r]=o)}let t=new ee(e.segments,n);return pT(t)}function pT(e){if(e.numberOfChildren===1&&e.children[L]){let n=e.children[L];return new ee(e.segments.concat(n.segments),n.children)}return e}function _r(e){return e instanceof fn}function gT(e,n,t=null,r=null){let i=Py(e);return Fy(i,n,t,r)}function Py(e){let n;function t(o){let s={};for(let l of o.children){let c=t(l);s[l.outlet]=c}let a=new ee(o.url,s);return o===e&&(n=a),a}let r=t(e.root),i=Oy(r);return n??i}function Fy(e,n,t,r){let i=e;for(;i.parent;)i=i.parent;if(n.length===0)return vf(i,i,i,t,r);let o=mT(n);if(o.toRoot())return vf(i,i,new ee([],{}),t,r);let s=vT(o,i,e),a=s.processChildren?bo(s.segmentGroup,s.index,o.commands):jy(s.segmentGroup,s.index,o.commands);return vf(i,s.segmentGroup,a,t,r)}function Ol(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Io(e){return typeof e=="object"&&e!=null&&e.outlets}function vf(e,n,t,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;e===n?s=t:s=Ly(e,n,t);let a=Oy(ky(s));return new fn(a,o,i)}function Ly(e,n,t){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===n?r[i]=t:r[i]=Ly(o,n,t)}),new ee(e.segments,r)}var kl=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&Ol(r[0]))throw new C(4003,!1);let i=r.find(Io);if(i&&i!==Sy(r))throw new C(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function mT(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new kl(!0,0,e);let n=0,t=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?n++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new kl(t,n,r)}var pi=class{segmentGroup;processChildren;index;constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}};function vT(e,n,t){if(e.isAbsolute)return new pi(n,!0,0);if(!t)return new pi(n,!1,NaN);if(t.parent===null)return new pi(t,!0,0);let r=Ol(e.commands[0])?0:1,i=t.segments.length-1+r;return yT(t,i,e.numberOfDoubleDots)}function yT(e,n,t){let r=e,i=n,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new C(4005,!1);i=r.segments.length}return new pi(r,!1,i-o)}function _T(e){return Io(e[0])?e[0].outlets:{[L]:e}}function jy(e,n,t){if(e??=new ee([],{}),e.segments.length===0&&e.hasChildren())return bo(e,n,t);let r=wT(e,n,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new ee(e.segments.slice(0,r.pathIndex),{});return o.children[L]=new ee(e.segments.slice(r.pathIndex),e.children),bo(o,0,i)}else return r.match&&i.length===0?new ee(e.segments,{}):r.match&&!e.hasChildren()?Cf(e,n,t):r.match?bo(e,0,i):Cf(e,n,t)}function bo(e,n,t){if(t.length===0)return new ee(e.segments,{});{let r=_T(t),i={};if(Object.keys(r).some(o=>o!==L)&&e.children[L]&&e.numberOfChildren===1&&e.children[L].segments.length===0){let o=bo(e.children[L],n,t);return new ee(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=jy(e.children[o],n,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ee(e.segments,i)}}function wT(e,n,t){let r=0,i=n,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=t.length)return o;let s=e.segments[i],a=t[r];if(Io(a))break;let l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!by(l,c,s))return o;r+=2}else{if(!by(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Cf(e,n,t){let r=e.segments.slice(0,n),i=0;for(;i<t.length;){let o=t[i];if(Io(o)){let l=bT(o.outlets);return new ee(r,l)}if(i===0&&Ol(t[0])){let l=e.segments[n];r.push(new vr(l.path,wy(t[0]))),i++;continue}let s=Io(o)?o.outlets[L]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Ol(a)?(r.push(new vr(s,wy(a))),i+=2):(r.push(new vr(s,{})),i++)}return new ee(r,{})}function bT(e){let n={};return Object.entries(e).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(n[t]=Cf(new ee([],{}),0,r))}),n}function wy(e){let n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function by(e,n,t){return e==t.path&&$t(n,t.parameters)}var Do="imperative",Re=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Re||{}),pt=class{id;url;constructor(n,t){this.id=n,this.url=t}},So=class extends pt{type=Re.NavigationStart;navigationTrigger;restoredState;constructor(n,t,r="imperative",i=null){super(n,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Un=class extends pt{urlAfterRedirects;type=Re.NavigationEnd;constructor(n,t,r){super(n,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},it=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(it||{}),If=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(If||{}),dn=class extends pt{reason;code;type=Re.NavigationCancel;constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},wr=class extends pt{reason;code;type=Re.NavigationSkipped;constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i}},To=class extends pt{error;target;type=Re.NavigationError;constructor(n,t,r,i){super(n,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Pl=class extends pt{urlAfterRedirects;state;type=Re.RoutesRecognized;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sf=class extends pt{urlAfterRedirects;state;type=Re.GuardsCheckStart;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Tf=class extends pt{urlAfterRedirects;state;shouldActivate;type=Re.GuardsCheckEnd;constructor(n,t,r,i,o){super(n,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Mf=class extends pt{urlAfterRedirects;state;type=Re.ResolveStart;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xf=class extends pt{urlAfterRedirects;state;type=Re.ResolveEnd;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Af=class{route;type=Re.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Nf=class{route;type=Re.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Rf=class{snapshot;type=Re.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Of=class{snapshot;type=Re.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},kf=class{snapshot;type=Re.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Pf=class{snapshot;type=Re.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Mo=class{},yi=class{url;navigationBehaviorOptions;constructor(n,t){this.url=n,this.navigationBehaviorOptions=t}};function DT(e,n){return e.providers&&!e._injector&&(e._injector=jd(e.providers,n,`Route: ${e.path}`)),e._injector??n}function xt(e){return e.outlet||L}function ET(e,n){let t=e.filter(r=>xt(r)===n);return t.push(...e.filter(r=>xt(r)!==n)),t}function ko(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){let t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Ff=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ko(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new Bl(this.rootInjector)}},Bl=(()=>{class e{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Ff(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||e)(x(qe))};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Fl=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){let t=Lf(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){let t=Lf(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){let t=jf(n,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return jf(n,this._root).map(t=>t.value)}};function Lf(e,n){if(e===n.value)return n;for(let t of n.children){let r=Lf(e,t);if(r)return r}return null}function jf(e,n){if(e===n.value)return[n];for(let t of n.children){let r=jf(e,t);if(r.length)return r.unshift(n),r}return[]}var rt=class{value;children;constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}};function hi(e){let n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}var Ll=class extends Fl{snapshot;constructor(n,t){super(n),this.snapshot=t,Qf(this,n)}toString(){return this.snapshot.toString()}};function Vy(e){let n=CT(e),t=new Ae([new vr("",{})]),r=new Ae({}),i=new Ae({}),o=new Ae({}),s=new Ae(""),a=new hn(t,r,o,s,i,L,e,n.root);return a.snapshot=n.root,new Ll(new rt(a,[]),n)}function CT(e){let n={},t={},r={},i="",o=new gi([],n,r,i,t,L,e,null,{});return new Vl("",new rt(o,[]))}var hn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,t,r,i,o,s,a,l){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(P(c=>c[Oo]))??A(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(P(n=>vi(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(P(n=>vi(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function jl(e,n,t="emptyOnly"){let r,{routeConfig:i}=e;return n!==null&&(t==="always"||i?.path===""||!n.component&&!n.routeConfig?.loadComponent)?r={params:E(E({},n.params),e.params),data:E(E({},n.data),e.data),resolve:E(E(E(E({},e.data),n.data),i?.data),e._resolvedData)}:r={params:E({},e.params),data:E({},e.data),resolve:E(E({},e.data),e._resolvedData??{})},i&&$y(i)&&(r.resolve[Oo]=i.title),r}var gi=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Oo]}constructor(n,t,r,i,o,s,a,l,c){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=vi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=vi(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${t}')`}},Vl=class extends Fl{url;constructor(n,t){super(t),this.url=n,Qf(this,t)}toString(){return Uy(this._root)}};function Qf(e,n){n.value._routerState=e,n.children.forEach(t=>Qf(e,t))}function Uy(e){let n=e.children.length>0?` { ${e.children.map(Uy).join(", ")} } `:"";return`${e.value}${n}`}function yf(e){if(e.snapshot){let n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,$t(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),$t(n.params,t.params)||e.paramsSubject.next(t.params),JS(n.url,t.url)||e.urlSubject.next(t.url),$t(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Vf(e,n){let t=$t(e.params,n.params)&&tT(e.url,n.url),r=!e.parent!=!n.parent;return t&&!r&&(!e.parent||Vf(e.parent,n.parent))}function $y(e){return typeof e.title=="string"||e.title===null}var IT=new S(""),Zf=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=L;activateEvents=new oe;deactivateEvents=new oe;attachEvents=new oe;detachEvents=new oe;routerOutletData=Im(void 0);parentContexts=D(Bl);location=D(li);changeDetector=D(Ce);inputBinder=D(Yf,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new C(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new C(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new C(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new C(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Uf(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=fe({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[An]})}return e})(),Uf=class e{route;childContexts;parent;outletData;__ngOutletInjector(n){return new e(this.route,this.childContexts,n,this.outletData)}constructor(n,t,r,i){this.route=n,this.childContexts=t,this.parent=r,this.outletData=i}get(n,t){return n===hn?this.route:n===Bl?this.childContexts:n===IT?this.outletData:this.parent.get(n,t)}},Yf=new S("");function ST(e,n,t){let r=xo(e,n._root,t?t._root:void 0);return new Ll(r,n)}function xo(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=n.value;let i=TT(e,n,t);return new rt(r,i)}else{if(e.shouldAttach(n.value)){let o=e.retrieve(n.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>xo(e,a)),s}}let r=MT(n.value),i=n.children.map(o=>xo(e,o));return new rt(r,i)}}function TT(e,n,t){return n.children.map(r=>{for(let i of t.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return xo(e,r,i);return xo(e,r)})}function MT(e){return new hn(new Ae(e.url),new Ae(e.params),new Ae(e.queryParams),new Ae(e.fragment),new Ae(e.data),e.outlet,e.component,e)}var Ao=class{redirectTo;navigationBehaviorOptions;constructor(n,t){this.redirectTo=n,this.navigationBehaviorOptions=t}},By="ngNavigationCancelingError";function Ul(e,n){let{redirectTo:t,navigationBehaviorOptions:r}=_r(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=Hy(!1,it.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function Hy(e,n){let t=new Error(`NavigationCancelingError: ${e||""}`);return t[By]=!0,t.cancellationCode=n,t}function xT(e){return qy(e)&&_r(e.url)}function qy(e){return!!e&&e[By]}var AT=(e,n,t,r)=>P(i=>(new $f(n,i.targetRouterState,i.currentRouterState,t,r).activate(e),i)),$f=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,t,r,i,o){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(n){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),yf(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){let i=hi(t);n.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,t,r){let i=n.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(n,t,s.children)}else this.deactivateChildRoutes(n,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){let r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=hi(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){let r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=hi(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){let i=hi(t);n.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Pf(o.value.snapshot))}),n.children.length&&this.forwardEvent(new Of(n.value.snapshot))}activateRoutes(n,t,r){let i=n.value,o=t?t.value:null;if(yf(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,t,s.children)}else this.activateChildRoutes(n,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),yf(a.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,r)}},$l=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},mi=class{component;route;constructor(n,t){this.component=n,this.route=t}};function NT(e,n,t){let r=e._root,i=n?n._root:null;return wo(r,i,t,[r.value])}function RT(e){let n=e.routeConfig?e.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:e,guards:n}}function wi(e,n){let t=Symbol(),r=n.get(e,t);return r===t?typeof e=="function"&&!Dg(e)?e:n.get(e):r}function wo(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=hi(n);return e.children.forEach(s=>{OT(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Eo(a,t.getContext(s),i)),i}function OT(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=kT(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new $l(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?wo(e,n,a?a.children:null,r,i):wo(e,n,t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new mi(a.outlet.component,s))}else s&&Eo(n,a,i),i.canActivateChecks.push(new $l(r)),o.component?wo(e,null,a?a.children:null,r,i):wo(e,null,t,r,i);return i}function kT(e,n,t){if(typeof t=="function")return t(e,n);switch(t){case"pathParamsChange":return!yr(e.url,n.url);case"pathParamsOrQueryParamsChange":return!yr(e.url,n.url)||!$t(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vf(e,n)||!$t(e.queryParams,n.queryParams);case"paramsChange":default:return!Vf(e,n)}}function Eo(e,n,t){let r=hi(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?n?Eo(s,n.children.getContext(o),t):Eo(s,null,t):Eo(s,n,t)}),i.component?n&&n.outlet&&n.outlet.isActivated?t.canDeactivateChecks.push(new mi(n.outlet.component,i)):t.canDeactivateChecks.push(new mi(null,i)):t.canDeactivateChecks.push(new mi(null,i))}function Po(e){return typeof e=="function"}function PT(e){return typeof e=="boolean"}function FT(e){return e&&Po(e.canLoad)}function LT(e){return e&&Po(e.canActivate)}function jT(e){return e&&Po(e.canActivateChild)}function VT(e){return e&&Po(e.canDeactivate)}function UT(e){return e&&Po(e.canMatch)}function zy(e){return e instanceof Zt||e?.name==="EmptyError"}var xl=Symbol("INITIAL_VALUE");function _i(){return Xe(e=>Gs(e.map(n=>n.pipe(Yt(1),iu(xl)))).pipe(P(n=>{for(let t of n)if(t!==!0){if(t===xl)return xl;if(t===!1||$T(t))return t}return!0}),Ke(n=>n!==xl),Yt(1)))}function $T(e){return _r(e)||e instanceof Ao}function BT(e,n){return Ee(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?A(z(E({},t),{guardsResult:!0})):HT(s,r,i,e).pipe(Ee(a=>a&&PT(a)?qT(r,o,e,n):A(a)),P(a=>z(E({},t),{guardsResult:a})))})}function HT(e,n,t,r){return he(e).pipe(Ee(i=>ZT(i.component,i.route,t,n,r)),Jt(i=>i!==!0,!0))}function qT(e,n,t,r){return he(n).pipe(Dn(i=>Ur(GT(i.route.parent,r),zT(i.route,r),QT(e,i.path,t),WT(e,i.route,t))),Jt(i=>i!==!0,!0))}function zT(e,n){return e!==null&&n&&n(new kf(e)),A(!0)}function GT(e,n){return e!==null&&n&&n(new Rf(e)),A(!0)}function WT(e,n,t){let r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||r.length===0)return A(!0);let i=r.map(o=>Ws(()=>{let s=ko(n)??t,a=wi(o,s),l=LT(a)?a.canActivate(n,e):tt(s,()=>a(n,e));return $n(l).pipe(Jt())}));return A(i).pipe(_i())}function QT(e,n,t){let r=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>RT(s)).filter(s=>s!==null).map(s=>Ws(()=>{let a=s.guards.map(l=>{let c=ko(s.node)??t,u=wi(l,c),d=jT(u)?u.canActivateChild(r,e):tt(c,()=>u(r,e));return $n(d).pipe(Jt())});return A(a).pipe(_i())}));return A(o).pipe(_i())}function ZT(e,n,t,r,i){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return A(!0);let s=o.map(a=>{let l=ko(n)??i,c=wi(a,l),u=VT(c)?c.canDeactivate(e,n,t,r):tt(l,()=>c(e,n,t,r));return $n(u).pipe(Jt())});return A(s).pipe(_i())}function YT(e,n,t,r){let i=n.canLoad;if(i===void 0||i.length===0)return A(!0);let o=i.map(s=>{let a=wi(s,e),l=FT(a)?a.canLoad(n,t):tt(e,()=>a(n,t));return $n(l)});return A(o).pipe(_i(),Gy(r))}function Gy(e){return Zc(Te(n=>{if(typeof n!="boolean")throw Ul(e,n)}),P(n=>n===!0))}function JT(e,n,t,r){let i=n.canMatch;if(!i||i.length===0)return A(!0);let o=i.map(s=>{let a=wi(s,e),l=UT(a)?a.canMatch(n,t):tt(e,()=>a(n,t));return $n(l)});return A(o).pipe(_i(),Gy(r))}var No=class{segmentGroup;constructor(n){this.segmentGroup=n||null}},Ro=class extends Error{urlTree;constructor(n){super(),this.urlTree=n}};function fi(e){return Vr(new No(e))}function KT(e){return Vr(new C(4e3,!1))}function XT(e){return Vr(Hy(!1,it.GuardRejected))}var Bf=class{urlSerializer;urlTree;constructor(n,t){this.urlSerializer=n,this.urlTree=t}lineralizeSegments(n,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return A(r);if(i.numberOfChildren>1||!i.children[L])return KT(`${n.redirectTo}`);i=i.children[L]}}applyRedirectCommands(n,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:m,params:p,data:v,title:_}=i,w=tt(o,()=>a({params:p,data:v,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:m,title:_}));if(w instanceof fn)throw new Ro(w);t=w}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,r);if(t[0]==="/")throw new Ro(s);return s}applyRedirectCreateUrlTree(n,t,r,i){let o=this.createSegmentGroup(n,t.root,r,i);return new fn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){let r={};return Object.entries(n).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(n,t,r,i){let o=this.createSegments(n,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(n,l,r,i)}),new ee(o,s)}createSegments(n,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(n,o,i):this.findOrReturn(o,r))}findPosParam(n,t,r){let i=r[t.path.substring(1)];if(!i)throw new C(4001,!1);return i}findOrReturn(n,t){let r=0;for(let i of t){if(i.path===n.path)return t.splice(r),i;r++}return n}},Hf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function eM(e,n,t,r,i){let o=Wy(e,n,t);return o.matched?(r=DT(n,r),JT(r,n,t,i).pipe(P(s=>s===!0?o:E({},Hf)))):A(o)}function Wy(e,n,t){if(n.path==="**")return tM(t);if(n.path==="")return n.pathMatch==="full"&&(e.hasChildren()||t.length>0)?E({},Hf):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(n.matcher||YS)(t,e,n);if(!i)return E({},Hf);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?E(E({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function tM(e){return{matched:!0,parameters:e.length>0?Sy(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function Dy(e,n,t,r){return t.length>0&&iM(e,t,r)?{segmentGroup:new ee(n,rM(r,new ee(t,e.children))),slicedSegments:[]}:t.length===0&&oM(e,t,r)?{segmentGroup:new ee(e.segments,nM(e,t,r,e.children)),slicedSegments:t}:{segmentGroup:new ee(e.segments,e.children),slicedSegments:t}}function nM(e,n,t,r){let i={};for(let o of t)if(Hl(e,n,o)&&!r[xt(o)]){let s=new ee([],{});i[xt(o)]=s}return E(E({},r),i)}function rM(e,n){let t={};t[L]=n;for(let r of e)if(r.path===""&&xt(r)!==L){let i=new ee([],{});t[xt(r)]=i}return t}function iM(e,n,t){return t.some(r=>Hl(e,n,r)&&xt(r)!==L)}function oM(e,n,t){return t.some(r=>Hl(e,n,r))}function Hl(e,n,t){return(e.hasChildren()||n.length>0)&&t.pathMatch==="full"?!1:t.path===""}function sM(e,n,t){return n.length===0&&!e.children[t]}var qf=class{};function aM(e,n,t,r,i,o,s="emptyOnly"){return new zf(e,n,t,r,i,s,o).recognize()}var lM=31,zf=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,t,r,i,o,s,a){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Bf(this.urlSerializer,this.urlTree)}noMatchError(n){return new C(4002,`'${n.segmentGroup}'`)}recognize(){let n=Dy(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(P(({children:t,rootSnapshot:r})=>{let i=new rt(r,t),o=new Vl("",i),s=gT(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(n){let t=new gi([],Object.freeze({}),Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),L,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,L,t).pipe(P(r=>({children:r,rootSnapshot:t})),bn(r=>{if(r instanceof Ro)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof No?this.noMatchError(r):r}))}processSegmentGroup(n,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(n,t,r,o):this.processSegment(n,t,r,r.segments,i,!0,o).pipe(P(s=>s instanceof rt?[s]:[]))}processChildren(n,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return he(o).pipe(Dn(s=>{let a=r.children[s],l=ET(t,s);return this.processSegmentGroup(n,l,a,s,i)}),ru((s,a)=>(s.push(...a),s)),En(null),nu(),Ee(s=>{if(s===null)return fi(r);let a=Qy(s);return cM(a),A(a)}))}processSegment(n,t,r,i,o,s,a){return he(t).pipe(Dn(l=>this.processSegmentAgainstRoute(l._injector??n,t,l,r,i,o,s,a).pipe(bn(c=>{if(c instanceof No)return A(null);throw c}))),Jt(l=>!!l),bn(l=>{if(zy(l))return sM(r,i,o)?A(new qf):fi(r);throw l}))}processSegmentAgainstRoute(n,t,r,i,o,s,a,l){return xt(r)!==s&&(s===L||!Hl(i,o,r))?fi(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(n,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,i,t,r,o,s,l):fi(i)}expandSegmentAgainstRouteUsingRedirect(n,t,r,i,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:m}=Wy(t,i,o);if(!l)return fi(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>lM&&(this.allowRedirects=!1));let p=new gi(o,c,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,Ey(i),xt(i),i.component??i._loadedComponent??null,i,Cy(i)),v=jl(p,a,this.paramsInheritanceStrategy);p.params=Object.freeze(v.params),p.data=Object.freeze(v.data);let _=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,p,n);return this.applyRedirects.lineralizeSegments(i,_).pipe(Ee(w=>this.processSegment(n,r,t,w.concat(m),s,!1,a)))}matchSegmentAgainstRoute(n,t,r,i,o,s){let a=eM(t,r,i,n,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Xe(l=>l.matched?(n=r._injector??n,this.getChildConfig(n,r,i).pipe(Xe(({routes:c})=>{let u=r._loadedInjector??n,{parameters:d,consumedSegments:m,remainingSegments:p}=l,v=new gi(m,d,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,Ey(r),xt(r),r.component??r._loadedComponent??null,r,Cy(r)),_=jl(v,s,this.paramsInheritanceStrategy);v.params=Object.freeze(_.params),v.data=Object.freeze(_.data);let{segmentGroup:w,slicedSegments:I}=Dy(t,m,p,c);if(I.length===0&&w.hasChildren())return this.processChildren(u,c,w,v).pipe(P(N=>new rt(v,N)));if(c.length===0&&I.length===0)return A(new rt(v,[]));let Q=xt(r)===o;return this.processSegment(u,c,w,I,Q?L:o,!0,v).pipe(P(N=>new rt(v,N instanceof rt?[N]:[])))}))):fi(t)))}getChildConfig(n,t,r){return t.children?A({routes:t.children,injector:n}):t.loadChildren?t._loadedRoutes!==void 0?A({routes:t._loadedRoutes,injector:t._loadedInjector}):YT(n,t,r,this.urlSerializer).pipe(Ee(i=>i?this.configLoader.loadChildren(n,t).pipe(Te(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):XT(t))):A({routes:[],injector:n})}};function cM(e){e.sort((n,t)=>n.value.outlet===L?-1:t.value.outlet===L?1:n.value.outlet.localeCompare(t.value.outlet))}function uM(e){let n=e.value.routeConfig;return n&&n.path===""}function Qy(e){let n=[],t=new Set;for(let r of e){if(!uM(r)){n.push(r);continue}let i=n.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):n.push(r)}for(let r of t){let i=Qy(r.children);n.push(new rt(r.value,i))}return n.filter(r=>!t.has(r))}function Ey(e){return e.data||{}}function Cy(e){return e.resolve||{}}function dM(e,n,t,r,i,o){return Ee(s=>aM(e,n,t,r,s.extractedUrl,i,o).pipe(P(({state:a,tree:l})=>z(E({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function fM(e,n){return Ee(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return A(t);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of Zy(l))s.add(c);let a=0;return he(s).pipe(Dn(l=>o.has(l)?hM(l,r,e,n):(l.data=jl(l,l.parent,e).resolve,A(void 0))),Te(()=>a++),$r(1),Ee(l=>a===s.size?A(t):$e))})}function Zy(e){let n=e.children.map(t=>Zy(t)).flat();return[e,...n]}function hM(e,n,t,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!$y(i)&&(o[Oo]=i.title),pM(o,e,n,r).pipe(P(s=>(e._resolvedData=s,e.data=jl(e,e.parent,t).resolve,null)))}function pM(e,n,t,r){let i=bf(e);if(i.length===0)return A({});let o={};return he(i).pipe(Ee(s=>gM(e[s],n,t,r).pipe(Jt(),Te(a=>{if(a instanceof Ao)throw Ul(new Co,a);o[s]=a}))),$r(1),P(()=>o),bn(s=>zy(s)?$e:Vr(s)))}function gM(e,n,t,r){let i=ko(n)??r,o=wi(e,i),s=o.resolve?o.resolve(n,t):tt(i,()=>o(n,t));return $n(s)}function _f(e){return Xe(n=>{let t=e(n);return t?he(t).pipe(P(()=>n)):A(n)})}var Yy=(()=>{class e{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===L);return r}getResolvedTitleForRoute(t){return t.data[Oo]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:()=>D(mM),providedIn:"root"})}return e})(),mM=(()=>{class e extends Yy{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(x(vy))};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Jf=new S("",{providedIn:"root",factory:()=>({})}),vM=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=de({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&$(0,"router-outlet")},dependencies:[Zf],encapsulation:2})}return e})();function Kf(e){let n=e.children&&e.children.map(Kf),t=n?z(E({},e),{children:n}):E({},e);return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==L&&(t.component=vM),t}var Xf=new S(""),yM=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=D(qd);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return A(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=$n(t.loadComponent()).pipe(P(Jy),Te(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Yn(()=>{this.componentLoaders.delete(t)})),i=new jr(r,()=>new De).pipe(Lr());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return A({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=_M(r,this.compiler,t,this.onLoadEndListener).pipe(Yn(()=>{this.childrenLoaders.delete(r)})),s=new jr(o,()=>new De).pipe(Lr());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function _M(e,n,t,r){return $n(e.loadChildren()).pipe(P(Jy),Ee(i=>i instanceof to||Array.isArray(i)?A(i):he(n.compileModuleAsync(i))),P(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Xf,[],{optional:!0,self:!0}).flat()),{routes:s.map(Kf),injector:o}}))}function wM(e){return e&&typeof e=="object"&&"default"in e}function Jy(e){return wM(e)?e.default:e}var eh=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:()=>D(bM),providedIn:"root"})}return e})(),bM=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),DM=new S("");var EM=new S(""),CM=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new De;transitionAbortSubject=new De;configLoader=D(yM);environmentInjector=D(qe);destroyRef=D(Ga);urlSerializer=D(Wf);rootContexts=D(Bl);location=D(lo);inputBindingEnabled=D(Yf,{optional:!0})!==null;titleStrategy=D(Yy);options=D(Jf,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=D(eh);createViewTransition=D(DM,{optional:!0});navigationErrorHandler=D(EM,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>A(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Af(i)),r=i=>this.events.next(new Nf(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(z(E(E({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new Ae({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Do,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ke(o=>o.id!==0),P(o=>z(E({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Xe(o=>{let s=!1,a=!1;return A(o).pipe(Xe(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",it.SupersededByNewNavigation),$e;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?z(E({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=l.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!c&&u!=="reload"){let d="";return this.events.next(new wr(l.id,this.urlSerializer.serialize(l.rawUrl),d,If.IgnoredSameUrlNavigation)),l.resolve(!1),$e}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return A(l).pipe(Xe(d=>{let m=this.transitions?.getValue();return this.events.next(new So(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),m!==this.transitions?.getValue()?$e:Promise.resolve(d)}),dM(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Te(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=z(E({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let m=new Pl(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(m)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:d,extractedUrl:m,source:p,restoredState:v,extras:_}=l,w=new So(d,this.urlSerializer.serialize(m),p,v);this.events.next(w);let I=Vy(this.rootComponentType).snapshot;return this.currentTransition=o=z(E({},l),{targetSnapshot:I,urlAfterRedirects:m,extras:z(E({},_),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,A(o)}else{let d="";return this.events.next(new wr(l.id,this.urlSerializer.serialize(l.extractedUrl),d,If.IgnoredByUrlHandlingStrategy)),l.resolve(!1),$e}}),Te(l=>{let c=new Sf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),P(l=>(this.currentTransition=o=z(E({},l),{guards:NT(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),BT(this.environmentInjector,l=>this.events.next(l)),Te(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Ul(this.urlSerializer,l.guardsResult);let c=new Tf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),Ke(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",it.GuardRejected),!1)),_f(l=>{if(l.guards.canActivateChecks.length)return A(l).pipe(Te(c=>{let u=new Mf(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Xe(c=>{let u=!1;return A(c).pipe(fM(this.paramsInheritanceStrategy,this.environmentInjector),Te({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",it.NoDataFromResolver)}}))}),Te(c=>{let u=new xf(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),_f(l=>{let c=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(Te(m=>{u.component=m}),P(()=>{})));for(let m of u.children)d.push(...c(m));return d};return Gs(c(l.targetSnapshot.root)).pipe(En(null),Yt(1))}),_f(()=>this.afterPreactivation()),Xe(()=>{let{currentSnapshot:l,targetSnapshot:c}=o,u=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return u?he(u).pipe(P(()=>o)):A(o)}),P(l=>{let c=ST(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=z(E({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,o}),Te(()=>{this.events.next(new Mo)}),AT(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Yt(1),Te({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Un(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),ou(this.transitionAbortSubject.pipe(Te(l=>{throw l}))),Yn(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",it.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),bn(l=>{if(this.destroyed)return o.resolve(!1),$e;if(a=!0,qy(l))this.events.next(new dn(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),xT(l)?this.events.next(new yi(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let c=new To(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let u=tt(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(u instanceof Ao){let{message:d,cancellationCode:m}=Ul(this.urlSerializer,u);this.events.next(new dn(o.id,this.urlSerializer.serialize(o.extractedUrl),d,m)),this.events.next(new yi(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(c),l}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return $e}))}))}cancelNavigationTransition(t,r,i){let o=new dn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function IM(e){return e!==Do}var SM=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:()=>D(TM),providedIn:"root"})}return e})(),Gf=class{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}},TM=(()=>{class e extends Gf{static \u0275fac=(()=>{let t;return function(i){return(t||(t=sn(e)))(i||e)}})();static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ky=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:()=>D(MM),providedIn:"root"})}return e})(),MM=(()=>{class e extends Ky{location=D(lo);urlSerializer=D(Wf);options=D(Jf,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=D(eh);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new fn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=Vy(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof So)this.stateMemento=this.createStateMemento();else if(t instanceof wr)this.rawUrlTree=r.initialUrl;else if(t instanceof Pl){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof Mo?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof dn&&(t.code===it.GuardRejected||t.code===it.NoDataFromResolver)?this.restoreHistory(r):t instanceof To?this.restoreHistory(r,!0):t instanceof Un&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof fn?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=E(E({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=E(E({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=sn(e)))(i||e)}})();static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function xM(e,n){e.events.pipe(Ke(t=>t instanceof Un||t instanceof dn||t instanceof To||t instanceof wr),P(t=>t instanceof Un||t instanceof wr?0:(t instanceof dn?t.code===it.Redirect||t.code===it.SupersededByNewNavigation:!1)?2:1),Ke(t=>t!==2),Yt(1)).subscribe(()=>{n()})}var AM={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},NM={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ue=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=D(Ud);stateManager=D(Ky);options=D(Jf,{optional:!0})||{};pendingTasks=D(Nn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=D(CM);urlSerializer=D(Wf);location=D(lo);urlHandlingStrategy=D(eh);_events=new De;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=D(SM);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=D(Xf,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!D(Yf,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new me;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof dn&&r.code!==it.Redirect&&r.code!==it.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Un)this.navigated=!0;else if(r instanceof yi){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=E({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||IM(i.source)},s);this.scheduleNavigation(a,Do,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}OM(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Do,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=E({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Kf),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=E(E({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let m=i?i.snapshot:this.routerState.snapshot.root;d=Py(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),d=this.currentUrlTree.root}return Fy(d,t,u,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=_r(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Do,null,r)}navigate(t,r={skipLocationChange:!1}){return RM(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=E({},AM):r===!1?i=E({},NM):i=r,_r(t))return yy(this.currentUrlTree,t,i);let o=this.parseUrl(t);return yy(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,m)=>{a=d,l=m});let u=this.pendingTasks.add();return xM(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function RM(e){for(let n=0;n<e.length;n++)if(e[n]==null)throw new C(4008,!1)}function OM(e){return!(e instanceof Mo)&&!(e instanceof yi)}var bi=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new De;constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof Un&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(_r(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:Vm(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:_r(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||e)(b(Ue),b(hn),gd("tabindex"),b(jt),b(St),b(di))};static \u0275dir=fe({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&U("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&tl("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",gr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",gr],replaceUrl:[2,"replaceUrl","replaceUrl",gr],routerLink:"routerLink"},features:[Vd,An]})}return e})();var kM=new S("");function Xy(e,...n){return ii([{provide:Xf,multi:!0,useValue:e},[],{provide:hn,useFactory:PM,deps:[Ue]},{provide:el,multi:!0,useFactory:FM},n.map(t=>t.\u0275providers)])}function PM(e){return e.routerState.root}function FM(){let e=D(Et);return n=>{let t=e.get(tn);if(n!==t.components[0])return;let r=e.get(Ue),i=e.get(LM);e.get(jM)===1&&r.initialNavigation(),e.get(VM,null,V.Optional)?.setUpPreloading(),e.get(kM,null,V.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var LM=new S("",{factory:()=>new De}),jM=new S("",{providedIn:"root",factory:()=>1});var VM=new S("");var e0=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...t)=>import("./chunk-OBK227YL.js").then(({default:r})=>r(...t)):n=fetch,(...t)=>n(...t)};var Fo=class extends Error{constructor(n,t="FunctionsError",r){super(n),this.name=t,this.context=r}},ql=class extends Fo{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}},zl=class extends Fo{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}},Gl=class extends Fo{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}},th=function(e){return e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2",e}(th||{});var UM=function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})},Lo=class{constructor(n,{headers:t={},customFetch:r,region:i=th.Any}={}){this.url=n,this.headers=t,this.region=i,this.fetch=e0(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,t={}){var r;return UM(this,void 0,void 0,function*(){try{let{headers:i,method:o,body:s}=t,a={},{region:l}=t;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=s):typeof s=="string"?(a["Content-Type"]="text/plain",c=s):typeof FormData<"u"&&s instanceof FormData?c=s:(a["Content-Type"]="application/json",c=JSON.stringify(s)));let u=yield this.fetch(`${this.url}/${n}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:c}).catch(v=>{throw new ql(v)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new zl(u);if(!u.ok)throw new Gl(u);let m=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),p;return m==="application/json"?p=yield u.json():m==="application/octet-stream"?p=yield u.blob():m==="text/event-stream"?p=u:m==="multipart/form-data"?p=yield u.formData():p=yield u.text(),{data:p,error:null}}catch(i){return{data:null,error:i}}})}};var h0=V_(f0(),1),{PostgrestClient:p0,PostgrestQueryBuilder:zL,PostgrestFilterBuilder:GL,PostgrestTransformBuilder:WL,PostgrestBuilder:QL,PostgrestError:KM}=h0.default;var g0="2.11.2";var m0={"X-Client-Info":`realtime-js/${g0}`},v0="1.0.0",Yl=1e4,y0=1e3,Ci=function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e}(Ci||{}),ot=function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e}(ot||{}),gt=function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e}(gt||{}),hh=function(e){return e.websocket="websocket",e}(hh||{}),br=function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e}(br||{});var Jl=class{constructor(){this.HEADER_LENGTH=1}decode(n,t){return n.constructor===ArrayBuffer?t(this._binaryDecode(n)):t(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){let t=new DataView(n),r=new TextDecoder;return this._decodeBroadcast(n,t,r)}_decodeBroadcast(n,t,r){let i=t.getUint8(1),o=t.getUint8(2),s=this.HEADER_LENGTH+2,a=r.decode(n.slice(s,s+i));s=s+i;let l=r.decode(n.slice(s,s+o));s=s+o;let c=JSON.parse(r.decode(n.slice(s,n.byteLength)));return{ref:null,topic:a,event:l,payload:c}}};var Ii=class{constructor(n,t){this.callback=n,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var ue=function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e}(ue||{}),gh=(e,n,t={})=>{var r;let i=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(n).reduce((o,s)=>(o[s]=XM(s,e,n,i),o),{})},XM=(e,n,t,r)=>{let i=n.find(a=>a.name===e),o=i?.type,s=t[e];return o&&!r.includes(o)?_0(o,s):ph(s)},_0=(e,n)=>{if(e.charAt(0)==="_"){let t=e.slice(1,e.length);return rx(n,t)}switch(e){case ue.bool:return ex(n);case ue.float4:case ue.float8:case ue.int2:case ue.int4:case ue.int8:case ue.numeric:case ue.oid:return tx(n);case ue.json:case ue.jsonb:return nx(n);case ue.timestamp:return ix(n);case ue.abstime:case ue.date:case ue.daterange:case ue.int4range:case ue.int8range:case ue.money:case ue.reltime:case ue.text:case ue.time:case ue.timestamptz:case ue.timetz:case ue.tsrange:case ue.tstzrange:return ph(n);default:return ph(n)}},ph=e=>e,ex=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},tx=e=>{if(typeof e=="string"){let n=parseFloat(e);if(!Number.isNaN(n))return n}return e},nx=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(n){return console.log(`JSON parse error: ${n}`),e}return e},rx=(e,n)=>{if(typeof e!="string")return e;let t=e.length-1,r=e[t];if(e[0]==="{"&&r==="}"){let o,s=e.slice(1,t);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>_0(n,a))}return e},ix=e=>typeof e=="string"?e.replace(" ","T"):e,Kl=e=>{let n=e;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")};var Si=class{constructor(n,t,r={},i=Yl){this.channel=n,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,t){var r;return this._hasReceived(n)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:n,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let n=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:t}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(t))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}};var qo=class e{constructor(n,t){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=e.syncState(this.state,i,o,s),this.pendingDiffs.forEach(l=>{this.state=e.syncDiff(this.state,l,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=e.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,t,r,i){let o=this.cloneDeep(n),s=this.transformState(t),a={},l={};return this.map(o,(c,u)=>{s[c]||(l[c]=u)}),this.map(s,(c,u)=>{let d=o[c];if(d){let m=u.map(w=>w.presence_ref),p=d.map(w=>w.presence_ref),v=u.filter(w=>p.indexOf(w.presence_ref)<0),_=d.filter(w=>m.indexOf(w.presence_ref)<0);v.length>0&&(a[c]=v),_.length>0&&(l[c]=_)}else a[c]=u}),this.syncDiff(o,{joins:a,leaves:l},r,i)}static syncDiff(n,t,r,i){let{joins:o,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,l)=>{var c;let u=(c=n[a])!==null&&c!==void 0?c:[];if(n[a]=this.cloneDeep(l),u.length>0){let d=n[a].map(p=>p.presence_ref),m=u.filter(p=>d.indexOf(p.presence_ref)<0);n[a].unshift(...m)}r(a,u,l)}),this.map(s,(a,l)=>{let c=n[a];if(!c)return;let u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),n[a]=c,i(a,c,l),c.length===0&&delete n[a]}),n}static map(n,t){return Object.getOwnPropertyNames(n).map(r=>t(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((t,r)=>{let i=n[r];return"metas"in i?t[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[r]=i,t},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var pn=function(e){return e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR",e}(pn||{});var zo=class e{constructor(n,t={config:{}},r){this.topic=n,this.params=t,this.socket=r,this.bindings={},this.state=ot.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Si(this,gt.join,this.params,this.timeout),this.rejoinTimer=new Ii(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ot.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ot.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this._on(gt.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new qo(this),this.broadcastEndpointURL=Kl(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(n,t=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:o,presence:s,private:a}}=this.params;this._onError(u=>n?.(pn.CHANNEL_ERROR,u)),this._onClose(()=>n?.(pn.CLOSED));let l={},c={broadcast:o,presence:s,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){n?.(pn.SUBSCRIBED);return}else{let m=this.bindings.postgres_changes,p=(d=m?.length)!==null&&d!==void 0?d:0,v=[];for(let _=0;_<p;_++){let w=m[_],{filter:{event:I,schema:Q,table:N,filter:te}}=w,j=u&&u[_];if(j&&j.event===I&&j.schema===Q&&j.table===N&&j.filter===te)v.push(Object.assign(Object.assign({},w),{id:j.id}));else{this.unsubscribe(),n?.(pn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,n&&n(pn.SUBSCRIBED);return}}).receive("error",u=>{n?.(pn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{n?.(pn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,t={}){return await this.send({type:"presence",event:"track",payload:n},t.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,t,r){return this._on(n,t,r)}async send(n,t={}){var r,i;if(!this._canPush()&&n.type==="broadcast"){let{event:o,payload:s}=n,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:s,private:this.private}]})};try{let c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var s,a,l;let c=this._push(n.type,n,t.timeout||this.timeout);n.type==="broadcast"&&!(!((l=(a=(s=this.params)===null||s===void 0?void 0:s.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),c.receive("ok",()=>o("ok")),c.receive("error",()=>o("error")),c.receive("timeout",()=>o("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=ot.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(gt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{let i=new Si(this,gt.leave,{},n);i.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(n,t,r){let i=new AbortController,o=setTimeout(()=>i.abort(),r),s=await this.socket.fetch(n,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(o),s}_push(n,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Si(this,n,t,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(n,t,r){return t}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,t,r){var i,o;let s=n.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=gt;if(r&&[a,l,c,u].indexOf(s)>=0&&r!==this._joinRef())return;let m=this._onMessage(s,t,r);if(t&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var v,_,w;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((w=(_=p.filter)===null||_===void 0?void 0:_.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===s}).map(p=>p.callback(m,r)):(o=this.bindings[s])===null||o===void 0||o.filter(p=>{var v,_,w,I,Q,N;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in p){let te=p.id,j=(v=p.filter)===null||v===void 0?void 0:v.event;return te&&((_=t.ids)===null||_===void 0?void 0:_.includes(te))&&(j==="*"||j?.toLocaleLowerCase()===((w=t.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{let te=(Q=(I=p?.filter)===null||I===void 0?void 0:I.event)===null||Q===void 0?void 0:Q.toLocaleLowerCase();return te==="*"||te===((N=t?.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===s}).map(p=>{if(typeof m=="object"&&"ids"in m){let v=m.data,{schema:_,table:w,commit_timestamp:I,type:Q,errors:N}=v;m=Object.assign(Object.assign({},{schema:_,table:w,commit_timestamp:I,eventType:Q,new:{},old:{},errors:N}),this._getPayloadRecords(v))}p.callback(m,r)})}_isClosed(){return this.state===ot.closed}_isJoined(){return this.state===ot.joined}_isJoining(){return this.state===ot.joining}_isLeaving(){return this.state===ot.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,t,r){let i=n.toLocaleLowerCase(),o={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(n,t){let r=n.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&e.isEqual(i.filter,t))}),this}static isEqual(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(let r in n)if(n[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(gt.close,{},n)}_onError(n){this._on(gt.error,{},t=>n(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ot.joining,this.joinPush.resend(n))}_getPayloadRecords(n){let t={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(t.new=gh(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(t.old=gh(n.columns,n.old_record)),t}};var sx=()=>{},ax=typeof WebSocket<"u",lx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Go=class{constructor(n,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=m0,this.params={},this.timeout=Yl,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=sx,this.conn=null,this.sendBuffer=[],this.serializer=new Jl,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...a)=>import("./chunk-OBK227YL.js").then(({default:l})=>l(...a)):s=fetch,(...a)=>s(...a)},this.endPoint=`${n}/${hh.websocket}`,this.httpEndpoint=Kl(n),t?.transport?this.transport=t.transport:this.transport=null,t?.params&&(this.params=t.params),t?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t?.timeout&&(this.timeout=t.timeout),t?.logger&&(this.logger=t.logger),t?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);let i=(r=t?.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=t?.reconnectAfterMs?t.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=t?.encode?t.encode:(o,s)=>s(JSON.stringify(o)),this.decode=t?.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Ii(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t?.fetch),t?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=t?.worker||!1,this.workerUrl=t?.workerUrl}this.accessToken=t?.accessToken||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(ax){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new mh(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),import("./chunk-KXFMP4GI.js").then(({default:n})=>{this.conn=new n(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:v0}))}disconnect(n,t){this.conn&&(this.conn.onclose=function(){},n?this.conn.close(n,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(n){let t=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){let n=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),n}log(n,t,r){this.logger(n,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ci.connecting:return br.Connecting;case Ci.open:return br.Open;case Ci.closing:return br.Closing;default:return br.Closed}}isConnected(){return this.connectionState()===br.Open}channel(n,t={config:{}}){let r=new zo(`realtime:${n}`,t,this);return this.channels.push(r),r}push(n){let{topic:t,event:r,payload:i,ref:o}=n,s=()=>{this.encode(n,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${t} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(n=null){let t=n||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(t){let r=null;try{r=JSON.parse(atob(t.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=t,this.channels.forEach(i=>{t&&i.updateJoinPayload({access_token:t}),i.joinedOnce&&i._isJoined()&&i._push(gt.access_token,{access_token:t})})}}async sendHeartbeat(){var n;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(n=this.conn)===null||n===void 0||n.close(y0,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let t=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${n}"`),t.unsubscribe())}_remove(n){this.channels=this.channels.filter(t=>t._joinRef()!==n._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_onConnMessage(n){this.decode(n.data,t=>{let{topic:r,event:i,payload:o,ref:s}=t;s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${i} ${s&&"("+s+")"||""}`,o),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,o,s)),this.stateChangeCallbacks.message.forEach(a=>a(t))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(n=>n())}_onConnClose(n){this.log("transport","close",n),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(n))}_onConnError(n){this.log("transport",n.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(n))}_triggerChanError(){this.channels.forEach(n=>n._trigger(gt.error))}_appendParams(n,t){if(Object.keys(t).length===0)return n;let r=n.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${n}${r}${i}`}_workerObjectUrl(n){let t;if(n)t=n;else{let r=new Blob([lx],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}};var mh=class{constructor(n,t,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ci.connecting,this.send=()=>{},this.url=null,this.url=n,this.close=r.close}};var Ti=class extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}};function we(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Xl=class extends Ti{constructor(n,t){super(n),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}},Dr=class extends Ti{constructor(n,t){super(n),this.name="StorageUnknownError",this.originalError=t}};var cx=function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})},tc=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...t)=>import("./chunk-OBK227YL.js").then(({default:r})=>r(...t)):n=fetch,(...t)=>n(...t)},w0=()=>cx(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-OBK227YL.js")).Response:Response}),ec=e=>{if(Array.isArray(e))return e.map(t=>ec(t));if(typeof e=="function"||e!==Object(e))return e;let n={};return Object.entries(e).forEach(([t,r])=>{let i=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));n[i]=ec(r)}),n};var Er=function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})},vh=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ux=(e,n,t)=>Er(void 0,void 0,void 0,function*(){let r=yield w0();e instanceof r&&!t?.noResolveJson?e.json().then(i=>{n(new Xl(vh(i),e.status||500))}).catch(i=>{n(new Dr(vh(i),i))}):n(new Dr(vh(e),e))}),dx=(e,n,t,r)=>{let i={method:e,headers:n?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},n?.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),t))};function Wo(e,n,t,r,i,o){return Er(this,void 0,void 0,function*(){return new Promise((s,a)=>{e(t,dx(n,r,i,o)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>ux(l,a,r))})})}function Mi(e,n,t,r){return Er(this,void 0,void 0,function*(){return Wo(e,"GET",n,t,r)})}function Bt(e,n,t,r,i){return Er(this,void 0,void 0,function*(){return Wo(e,"POST",n,r,i,t)})}function b0(e,n,t,r,i){return Er(this,void 0,void 0,function*(){return Wo(e,"PUT",n,r,i,t)})}function D0(e,n,t,r){return Er(this,void 0,void 0,function*(){return Wo(e,"HEAD",n,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function nc(e,n,t,r,i){return Er(this,void 0,void 0,function*(){return Wo(e,"DELETE",n,r,i,t)})}var Qe=function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})},fx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},E0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},rc=class{constructor(n,t={},r,i){this.url=n,this.headers=t,this.bucketId=r,this.fetch=tc(i)}uploadOrUpdate(n,t,r,i){return Qe(this,void 0,void 0,function*(){try{let o,s=Object.assign(Object.assign({},E0),i),a=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(s.upsert)}),l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));let c=this._removeEmptyFolders(t),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:n,body:o,headers:a},s?.duplex?{duplex:s.duplex}:{})),m=yield d.json();return d.ok?{data:{path:c,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(o){if(we(o))return{data:null,error:o};throw o}})}upload(n,t,r){return Qe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,t,r)})}uploadToSignedUrl(n,t,r,i){return Qe(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(n),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",t);try{let l,c=Object.assign({upsert:E0.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);let d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),m=yield d.json();return d.ok?{data:{path:o,fullPath:m.Key},error:null}:{data:null,error:m}}catch(l){if(we(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(n,t){return Qe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(n),i=Object.assign({},this.headers);t?.upsert&&(i["x-upsert"]="true");let o=yield Bt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new Ti("No token returned by API");return{data:{signedUrl:s.toString(),path:n,token:a},error:null}}catch(r){if(we(r))return{data:null,error:r};throw r}})}update(n,t,r){return Qe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,t,r)})}move(n,t,r){return Qe(this,void 0,void 0,function*(){try{return{data:yield Bt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(we(i))return{data:null,error:i};throw i}})}copy(n,t,r){return Qe(this,void 0,void 0,function*(){try{return{data:{path:(yield Bt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(we(i))return{data:null,error:i};throw i}})}createSignedUrl(n,t,r){return Qe(this,void 0,void 0,function*(){try{let i=this._getFinalPath(n),o=yield Bt(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(we(i))return{data:null,error:i};throw i}})}createSignedUrls(n,t,r){return Qe(this,void 0,void 0,function*(){try{let i=yield Bt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:n},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(we(i))return{data:null,error:i};throw i}})}download(n,t){return Qe(this,void 0,void 0,function*(){let i=typeof t?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(t?.transform||{}),s=o?`?${o}`:"";try{let a=this._getFinalPath(n);return{data:yield(yield Mi(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(we(a))return{data:null,error:a};throw a}})}info(n){return Qe(this,void 0,void 0,function*(){let t=this._getFinalPath(n);try{let r=yield Mi(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:ec(r),error:null}}catch(r){if(we(r))return{data:null,error:r};throw r}})}exists(n){return Qe(this,void 0,void 0,function*(){let t=this._getFinalPath(n);try{return yield D0(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(we(r)&&r instanceof Dr){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(n,t){let r=this._getFinalPath(n),i=[],o=t?.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&i.push(o);let a=typeof t?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(t?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(n){return Qe(this,void 0,void 0,function*(){try{return{data:yield nc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(t){if(we(t))return{data:null,error:t};throw t}})}list(n,t,r){return Qe(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},fx),t),{prefix:n||""});return{data:yield Bt(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(we(i))return{data:null,error:i};throw i}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){let t=[];return n.width&&t.push(`width=${n.width}`),n.height&&t.push(`height=${n.height}`),n.resize&&t.push(`resize=${n.resize}`),n.format&&t.push(`format=${n.format}`),n.quality&&t.push(`quality=${n.quality}`),t.join("&")}};var C0="2.7.1";var I0={"X-Client-Info":`storage-js/${C0}`};var xi=function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})},ic=class{constructor(n,t={},r){this.url=n,this.headers=Object.assign(Object.assign({},I0),t),this.fetch=tc(r)}listBuckets(){return xi(this,void 0,void 0,function*(){try{return{data:yield Mi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(we(n))return{data:null,error:n};throw n}})}getBucket(n){return xi(this,void 0,void 0,function*(){try{return{data:yield Mi(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(t){if(we(t))return{data:null,error:t};throw t}})}createBucket(n,t={public:!1}){return xi(this,void 0,void 0,function*(){try{return{data:yield Bt(this.fetch,`${this.url}/bucket`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(we(r))return{data:null,error:r};throw r}})}updateBucket(n,t){return xi(this,void 0,void 0,function*(){try{return{data:yield b0(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(we(r))return{data:null,error:r};throw r}})}emptyBucket(n){return xi(this,void 0,void 0,function*(){try{return{data:yield Bt(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(we(t))return{data:null,error:t};throw t}})}deleteBucket(n){return xi(this,void 0,void 0,function*(){try{return{data:yield nc(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(t){if(we(t))return{data:null,error:t};throw t}})}};var Qo=class extends ic{constructor(n,t={},r){super(n,t,r)}from(n){return new rc(this.url,this.headers,n,this.fetch)}};var S0="2.48.1";var Zo="";typeof Deno<"u"?Zo="deno":typeof document<"u"?Zo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Zo="react-native":Zo="node";var hx={"X-Client-Info":`supabase-js-${Zo}/${S0}`},T0={headers:hx},M0={schema:"public"},x0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},A0={};qh();var px=function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})},gx=e=>{let n;return e?n=e:typeof fetch>"u"?n=Bh:n=fetch,(...t)=>n(...t)},mx=()=>typeof Headers>"u"?Hh:Headers,N0=(e,n,t)=>{let r=gx(t),i=mx();return(o,s)=>px(void 0,void 0,void 0,function*(){var a;let l=(a=yield n())!==null&&a!==void 0?a:e,c=new i(s?.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},s),{headers:c}))})};var vx=function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})};function R0(e){return e.replace(/\/$/,"")}function O0(e,n){let{db:t,auth:r,realtime:i,global:o}=e,{db:s,auth:a,realtime:l,global:c}=n,u={db:Object.assign(Object.assign({},s),t),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},c),o),accessToken:()=>vx(this,void 0,void 0,function*(){return""})};return e.accessToken?u.accessToken=e.accessToken:delete u.accessToken,u}var oc="2.67.3";var k0="http://localhost:9999",P0="supabase.auth.token";var F0={"X-Client-Info":`gotrue-js/${oc}`},yh=10;var Yo="X-Supabase-Api-Version",_h={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function L0(e){return Math.round(Date.now()/1e3)+e}function j0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let n=Math.random()*16|0;return(e=="x"?n:n&3|8).toString(16)})}var At=()=>typeof window<"u"&&typeof document<"u",Cr={tested:!1,writable:!1},Bn=()=>{if(!At())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Cr.tested)return Cr.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Cr.tested=!0,Cr.writable=!0}catch{Cr.tested=!0,Cr.writable=!1}return Cr.writable};function V0(e){let n={},t=new URL(e);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,o)=>{n[o]=i})}catch{}return t.searchParams.forEach((r,i)=>{n[i]=r}),n}var sc=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...t)=>import("./chunk-OBK227YL.js").then(({default:r})=>r(...t)):n=fetch,(...t)=>n(...t)},U0=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",wh=async(e,n,t)=>{await e.setItem(n,JSON.stringify(t))},Ko=async(e,n)=>{let t=await e.getItem(n);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Xo=async(e,n)=>{await e.removeItem(n)};function yx(e){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",t="",r,i,o,s,a,l,c,u=0;for(e=e.replace("-","+").replace("_","/");u<e.length;)s=n.indexOf(e.charAt(u++)),a=n.indexOf(e.charAt(u++)),l=n.indexOf(e.charAt(u++)),c=n.indexOf(e.charAt(u++)),r=s<<2|a>>4,i=(a&15)<<4|l>>2,o=(l&3)<<6|c,t=t+String.fromCharCode(r),l!=64&&i!=0&&(t=t+String.fromCharCode(i)),c!=64&&o!=0&&(t=t+String.fromCharCode(o));return t}var Jo=class e{constructor(){this.promise=new e.promiseConstructor((n,t)=>{this.resolve=n,this.reject=t})}};Jo.promiseConstructor=Promise;function bh(e){let n=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,t=e.split(".");if(t.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!n.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");let r=t[1];return JSON.parse(yx(r))}async function $0(e){return await new Promise(n=>{setTimeout(()=>n(null),e)})}function B0(e,n){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{let s=await e(o);if(!n(o,null,s)){r(s);return}}catch(s){if(!n(o,s)){i(s);return}}})()})}function _x(e){return("0"+e.toString(16)).substr(-2)}function wx(){let n=new Uint32Array(56);if(typeof crypto>"u"){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length,i="";for(let o=0;o<56;o++)i+=t.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(n),Array.from(n,_x).join("")}async function bx(e){let t=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",t),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}function Dx(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ex(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;let t=await bx(e);return Dx(t)}async function Ir(e,n,t=!1){let r=wx(),i=r;t&&(i+="/PASSWORD_RECOVERY"),await wh(e,`${n}-code-verifier`,i);let o=await Ex(r);return[o,r===o?"plain":"s256"]}var Cx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function H0(e){let n=e.headers.get(Yo);if(!n||!n.match(Cx))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}var es=class extends Error{constructor(n,t,r){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}};function k(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}var ac=class extends es{constructor(n,t,r){super(n,t,r),this.name="AuthApiError",this.status=t,this.code=r}};function q0(e){return k(e)&&e.name==="AuthApiError"}var Ai=class extends es{constructor(n,t){super(n),this.name="AuthUnknownError",this.originalError=t}},gn=class extends es{constructor(n,t,r,i){super(n,r,i),this.name=t,this.status=r}},mt=class extends gn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function z0(e){return k(e)&&e.name==="AuthSessionMissingError"}var Ni=class extends gn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Sr=class extends gn{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}},Tr=class extends gn{constructor(n,t=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function G0(e){return k(e)&&e.name==="AuthImplicitGrantRedirectError"}var ts=class extends gn{constructor(n,t=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Ri=class extends gn{constructor(n,t){super(n,"AuthRetryableFetchError",t,void 0)}};function lc(e){return k(e)&&e.name==="AuthRetryableFetchError"}var ns=class extends gn{constructor(n,t,r){super(n,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}};var Ix=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t},Mr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Sx=[502,503,504];async function W0(e){var n;if(!U0(e))throw new Ri(Mr(e),0);if(Sx.includes(e.status))throw new Ri(Mr(e),e.status);let t;try{t=await e.json()}catch(o){throw new Ai(Mr(o),o)}let r,i=H0(e);if(i&&i.getTime()>=_h["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new ns(Mr(t),e.status,((n=t.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(r==="session_not_found")throw new mt}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new ns(Mr(t),e.status,t.weak_password.reasons);throw new ac(Mr(t),e.status||500,r)}var Tx=(e,n,t,r)=>{let i={method:e,headers:n?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};async function q(e,n,t,r){var i;let o=Object.assign({},r?.headers);o[Yo]||(o[Yo]=_h["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await Mx(e,n,t+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}}async function Mx(e,n,t,r,i,o){let s=Tx(n,r,i,o),a;try{a=await e(t,Object.assign({},s))}catch(l){throw console.error(l),new Ri(Mr(l),0)}if(a.ok||await W0(a),r?.noResolveJson)return a;try{return await a.json()}catch(l){await W0(l)}}function mn(e){var n;let t=null;xx(e)&&(t=Object.assign({},e),e.expires_at||(t.expires_at=L0(e.expires_in)));let r=(n=e.user)!==null&&n!==void 0?n:e;return{data:{session:t,user:r},error:null}}function Dh(e){let n=mn(e);return!n.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(n.data.weak_password=e.weak_password),n}function Ht(e){var n;return{data:{user:(n=e.user)!==null&&n!==void 0?n:e},error:null}}function Q0(e){return{data:e,error:null}}function Z0(e){let{action_link:n,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o}=e,s=Ix(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:n,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function Y0(e){return e}function xx(e){return e.access_token&&e.refresh_token&&e.expires_in}var Ax=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t},Oi=class{constructor({url:n="",headers:t={},fetch:r}){this.url=n,this.headers=t,this.fetch=sc(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(n,t="global"){try{return await q(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(r){if(k(r))return{data:null,error:r};throw r}}async inviteUserByEmail(n,t={}){try{return await q(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Ht})}catch(r){if(k(r))return{data:{user:null},error:r};throw r}}async generateLink(n){try{let{options:t}=n,r=Ax(n,["options"]),i=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await q(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Z0,redirectTo:t?.redirectTo})}catch(t){if(k(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(n){try{return await q(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Ht})}catch(t){if(k(t))return{data:{user:null},error:t};throw t}}async listUsers(n){var t,r,i,o,s,a,l;try{let c={nextPage:null,lastPage:0,total:0},u=await q(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=n?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=n?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Y0});if(u.error)throw u.error;let d=await u.json(),m=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(v=>{let _=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(v.split(";")[1].split("=")[1]);c[`${w}Page`]=_}),c.total=parseInt(m)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(k(c))return{data:{users:[]},error:c};throw c}}async getUserById(n){try{return await q(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Ht})}catch(t){if(k(t))return{data:{user:null},error:t};throw t}}async updateUserById(n,t){try{return await q(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:t,headers:this.headers,xform:Ht})}catch(r){if(k(r))return{data:{user:null},error:r};throw r}}async deleteUser(n,t=!1){try{return await q(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:t},xform:Ht})}catch(r){if(k(r))return{data:{user:null},error:r};throw r}}async _listFactors(n){try{let{data:t,error:r}=await q(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:r}}catch(t){if(k(t))return{data:null,error:t};throw t}}async _deleteFactor(n){try{return{data:await q(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(t){if(k(t))return{data:null,error:t};throw t}}};var J0={getItem:e=>Bn()?globalThis.localStorage.getItem(e):null,setItem:(e,n)=>{Bn()&&globalThis.localStorage.setItem(e,n)},removeItem:e=>{Bn()&&globalThis.localStorage.removeItem(e)}};function Eh(e={}){return{getItem:n=>e[n]||null,setItem:(n,t)=>{e[n]=t},removeItem:n=>{delete e[n]}}}function K0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var xr={debug:!!(globalThis&&Bn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},rs=class extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}},cc=class extends rs{};async function Ch(e,n,t){xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,n);let r=new globalThis.AbortController;return n>0&&setTimeout(()=>{r.abort(),xr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await t()}finally{xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(n===0)throw xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new cc(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(xr.debug)try{let o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}K0();var Nx={url:k0,storageKey:P0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:F0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},is=30*1e3,X0=3;async function e_(e,n,t){return await t()}var Ih=(()=>{class e{constructor(t){var r,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=e.nextInstanceID,e.nextInstanceID+=1,this.instanceID>0&&At()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let o=Object.assign(Object.assign({},Nx),t);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Oi({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=sc(o.fetch),this.lock=o.lock||e_,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:At()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=Ch:this.lock=e_,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:Bn()?this.storage=J0:(this.memoryStorage={},this.storage=Eh(this.memoryStorage)):(this.memoryStorage={},this.storage=Eh(this.memoryStorage)),At()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${oc}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r=V0(window.location.href),i="none";if(this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce"),At()&&this.detectSessionInUrl&&i!=="none"){let{data:o,error:s}=await this._getSessionFromURL(r,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),G0(s)){let c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}let{session:a,redirectType:l}=o;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return k(r)?{error:r}:{error:new Ai("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,i,o;try{let s=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=t?.options)===null||o===void 0?void 0:o.captchaToken}},xform:mn}),{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};let c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(k(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var r,i,o;try{let s;if("email"in t){let{email:d,password:m,options:p}=t,v=null,_=null;this.flowType==="pkce"&&([v,_]=await Ir(this.storage,this.storageKey)),s=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p?.emailRedirectTo,body:{email:d,password:m,data:(r=p?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:v,code_challenge_method:_},xform:mn})}else if("phone"in t){let{phone:d,password:m,options:p}=t;s=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:m,data:(i=p?.data)!==null&&i!==void 0?i:{},channel:(o=p?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:mn})}else throw new Sr("You must provide either an email or phone number and a password");let{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};let c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(k(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let r;if("email"in t){let{email:s,password:a,options:l}=t;r=await q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Dh})}else if("phone"in t){let{phone:s,password:a,options:l}=t;r=await q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Dh})}else throw new Sr("You must provide either an email or phone number and a password");let{data:i,error:o}=r;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Ni}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(k(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,i,o,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){let r=await Ko(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{let{data:s,error:a}=await q(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:mn});if(await Xo(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Ni}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})}catch(s){if(k(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{let{options:r,provider:i,token:o,access_token:s,nonce:a}=t,l=await q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:mn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Ni}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(k(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,i,o,s,a;try{if("email"in t){let{email:l,options:c}=t,u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ir(this.storage,this.storageKey));let{error:m}=await q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(i=c?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in t){let{phone:l,options:c}=t,{data:u,error:d}=await q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(o=c?.data)!==null&&o!==void 0?o:{},create_user:(s=c?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(a=c?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new Sr("You must provide either an email or phone number.")}catch(l){if(k(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,i;try{let o,s;"options"in t&&(o=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(i=t.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:l}=await q(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:mn});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");let c=a.session,u=a.user;return c?.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(k(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(t){var r,i,o;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await Ir(this.storage,this.storageKey)),await q(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=t?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:Q0})}catch(s){if(k(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{let{data:{session:r},error:i}=t;if(i)throw i;if(!r)throw new mt;let{error:o}=await q(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}})}catch(t){if(k(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{let r=`${this.url}/resend`;if("email"in t){let{email:i,type:o,options:s}=t,{error:a}=await q(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){let{phone:i,type:o,options:s}=t,{data:a,error:l}=await q(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:l}}throw new Sr("You must provide either an email or phone number and a type")}catch(r){if(k(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){let o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{let r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null,r=await Ko(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};let i=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.storage.isServer){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}let{session:o,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ht}):await this._useSession(async r=>{var i,o,s;let{data:a,error:l}=r;if(l)throw l;return!(!((i=a.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new mt}:await q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:Ht})})}catch(r){if(k(r))return z0(r)&&(await this._removeSession(),await Xo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async i=>{let{data:o,error:s}=i;if(s)throw s;if(!o.session)throw new mt;let a=o.session,l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Ir(this.storage,this.storageKey));let{data:u,error:d}=await q(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:Ht});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(i){if(k(i))return{data:{user:null},error:i};throw i}}_decodeJWT(t){return bh(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new mt;let r=Date.now()/1e3,i=r,o=!0,s=null,a=bh(t.access_token);if(a.exp&&(i=a.exp,o=i<=r),o){let{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{let{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(k(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var i;if(!t){let{data:a,error:l}=r;if(l)throw l;t=(i=a.session)!==null&&i!==void 0?i:void 0}if(!t?.refresh_token)throw new mt;let{session:o,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(k(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!At())throw new Tr("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Tr(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new ts("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Tr("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new ts("No code detected.");let{data:N,error:te}=await this._exchangeCodeForSession(t.code);if(te)throw te;let j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:N.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!s||!l||!a||!u)throw new Tr("No session defined in URL");let d=Math.round(Date.now()/1e3),m=parseInt(l),p=d+m;c&&(p=parseInt(c));let v=p-d;v*1e3<=is&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${m}s`);let _=p-m;d-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,p,d):d-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,p,d);let{data:w,error:I}=await this._getUser(s);if(I)throw I;let Q={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:m,expires_at:p,refresh_token:a,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:Q,redirectType:t.type},error:null}}catch(i){if(k(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){let r=await Ko(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var i;let{data:o,error:s}=r;if(s)return{error:s};let a=(i=o.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:l}=await this.admin.signOut(a,t);if(l&&!(q0(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Xo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){let r=j0(),i={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async r=>{var i,o;try{let{data:{session:s},error:a}=r;if(a)throw a;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await Ir(this.storage,this.storageKey,!0));try{return await q(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(k(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{let{data:r,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(k(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{let{data:i,error:o}=await this._useSession(async s=>{var a,l,c,u,d;let{data:m,error:p}=s;if(p)throw p;let v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await q(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(u=m.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(o)throw o;return At()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:t.provider,url:i?.url},error:null}}catch(i){if(k(i))return{data:{provider:t.provider,url:null},error:i};throw i}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var i,o;let{data:s,error:a}=r;if(a)throw a;return await q(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(k(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){let r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return await B0(async o=>(o>0&&await $0(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await q(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:mn})),(o,s)=>{let a=200*Math.pow(2,o);return s&&lc(s)&&Date.now()+a-i<is})}catch(i){if(this._debug(r,"error",i),k(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){let i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",i),At()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t;let r="#_recoverAndRefresh()";this._debug(r,"begin");try{let i=await Ko(this.storage,this.storageKey);if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}let o=Math.round(Date.now()/1e3),s=((t=i.expires_at)!==null&&t!==void 0?t:1/0)<o+yh;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${yh}s`),s){if(this.autoRefreshToken&&i.refresh_token){let{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),lc(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,i;if(!t)throw new mt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Jo;let{data:s,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new mt;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(o,"error",s),k(s)){let a={session:null,error:s};return lc(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,r,i=!0){let o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){s.push(c)}});if(await Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await wh(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Xo(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&At()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let t=setInterval(()=>this._autoRefreshTokenTick(),is);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let t=Date.now();try{return await this._useSession(async r=>{let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-t)/is);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${is}ms, refresh threshold is ${X0} ticks`),o<=X0&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof rs)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!At()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){let r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,i){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[s,a]=await Ir(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});o.push(l.toString())}if(i?.queryParams){let s=new URLSearchParams(i.queryParams);o.push(s.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var i;let{data:o,error:s}=r;return s?{data:null,error:s}:await q(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(k(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var i,o;let{data:s,error:a}=r;if(a)return{data:null,error:a};let l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await q(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((o=c?.totp)===null||o===void 0)&&o.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(k(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;let{data:o,error:s}=r;if(s)return{data:null,error:s};let{data:a,error:l}=await q(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(r){if(k(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;let{data:o,error:s}=r;return s?{data:null,error:s}:await q(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(k(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){let{data:r,error:i}=await this._challenge({factorId:t.factorId});return i?{data:null,error:i}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){let{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};let i=t?.factors||[],o=i.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=i.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:i,totp:o,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,i;let{data:{session:o},error:s}=t;if(s)return{data:null,error:s};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let a=this._decodeJWT(o.access_token),l=null;a.aal&&(l=a.aal);let c=l;((i=(r=o.user.factors)===null||r===void 0?void 0:r.filter(m=>m.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(c="aal2");let d=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}}return e.nextInstanceID=0,e})();var Rx=Ih,Sh=Rx;var uc=class extends Sh{constructor(n){super(n)}};var Ox=function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})},dc=class{constructor(n,t,r){var i,o,s;if(this.supabaseUrl=n,this.supabaseKey=t,!n)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");let a=R0(n);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;let l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:M0,realtime:A0,auth:Object.assign(Object.assign({},x0),{storageKey:l}),global:T0},u=O0(r??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=N0(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new p0(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new Lo(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Qo(this.storageUrl,this.headers,this.fetch)}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,t={},r={}){return this.rest.rpc(n,t,r)}channel(n,t={config:{}}){return this.realtime.channel(n,t)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,t;return Ox(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:t,detectSessionInUrl:r,storage:i,storageKey:o,flowType:s,lock:a,debug:l},c,u){let d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new uc({url:this.authUrl,headers:Object.assign(Object.assign({},d),c),storageKey:o,autoRefreshToken:n,persistSession:t,detectSessionInUrl:r,storage:i,flowType:s,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(n){return new Go(this.realtimeUrl,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r?.access_token)})}_handleTokenChanged(n,t,r){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:n==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var t_=(e,n,t)=>new dc(e,n,t);var fc={API_URL:"https://jsgltiaidlacvchyjjha.supabase.co",anon_key:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpzZ2x0aWFpZGxhY3ZjaHlqamhhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzk2NjIzNDIsImV4cCI6MjA1NTIzODM0Mn0.bPtRMhXapLzUgPEIf6GoW9r52umh0F1YZhG1bfLyb0s",supabase_LocalStorage_key:"sb-jsgltiaidlacvchyjjha-auth-token"};var ce=class e{constructor(n){this.platformId=n;this.supabase=t_(fc.API_URL,fc.anon_key,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),Fn(this.platformId)&&(this.restoreSessionFromLocalStorage(),this.initializeSession(),this.supabase.auth.onAuthStateChange((t,r)=>{this.updateSession(r)}))}supabase;user=Ft(null);currentUsername=Ft(null);loginStatus=Ft(!1);restoreSessionFromLocalStorage(){let n=localStorage.getItem(fc.supabase_LocalStorage_key);if(n)try{let t=JSON.parse(n);if(t&&t.expires_at){let r=t.expires_at*1e3;Date.now()<r&&this.updateSession(t)}}catch(t){console.error("Error parsing stored session",t)}}async initializeSession(){let{data:{session:n},error:t}=await this.supabase.auth.getSession();t||this.updateSession(n)}updateSession(n){if(n){this.user.set(n.user);let t=n.user?.identities?.[0]?.identity_data?.firstname||null;this.currentUsername.set(t),this.loginStatus.set(!0)}else this.user.set(null),this.currentUsername.set(null),this.loginStatus.set(!1)}async signIn(n,t){let{error:r}=await this.supabase.auth.signInWithPassword({email:n,password:t});if(r)throw r}async signUp(n,t,r,i){let{error:o}=await this.supabase.auth.signUp({email:n,password:t,options:{data:{firstname:r,lastname:i}}});if(o)throw o}clearStorages(){Fn(this.platformId)&&(localStorage.clear(),sessionStorage.clear())}async signOut(){await this.supabase.auth.signOut(),this.clearStorages(),this.updateSession(null)}async addTradeLog(n,t){let r=this.user();if(!r)throw new Error("User not authenticated");n.userid=r.id;let{data:i,error:o}=await this.supabase.from(t).insert([n]);if(o)throw console.error("Error inserting trade log: ",o),o;return Fn(this.platformId)&&sessionStorage.setItem(`${t}_refresh`,"yes"),i}async getTradeLogs(n){let t=this.user();if(!t)throw new Error("User not authenticated");let r=!1,i=null;if(Fn(this.platformId)){r=sessionStorage.getItem(`${n}_refresh`)==="yes";let a=sessionStorage.getItem(n);if(a)try{i=JSON.parse(a)}catch(l){console.error("Error parsing cached trade logs:",l),i=null}}if(!r&&i)return i;let{data:o,error:s}=await this.supabase.from(n).select("*").eq("userid",t.id);if(s)throw console.error("Error fetching trade logs:",s),s;return Fn(this.platformId)&&(sessionStorage.setItem(n,JSON.stringify(o)),sessionStorage.removeItem(`${n}_refresh`)),o}async updateTradeLog(n,t){if(!this.user())throw new Error("User not authenticated");let{data:i,error:o}=await this.supabase.from(t).update(n).eq("tradeid",n.tradeid);if(o)throw console.error("Error updating trade log: ",o),o;return Fn(this.platformId)&&sessionStorage.setItem(`${t}_refresh`,"yes"),i}async deleteTradeLog(n,t){if(!this.user())throw new Error("User not authenticated");let{data:i,error:o}=await this.supabase.from(t).delete().eq("tradeid",n);if(o)throw console.error("Error deleting trade log: ",o),o;return Fn(this.platformId)&&sessionStorage.setItem(`${t}_refresh`,"yes"),i}async loadQuestions(){let{data:n,error:t}=await this.supabase.from("activequestions").select("*");if(t)throw console.error("Error loading questions: ",t),t;return n}async adminLoadQuestions(){let{data:n,error:t}=await this.supabase.from("adminquestions").select("*");if(t)throw console.error("Error loading questions: ",t),t;return n}async adminSaveQuestions(n){let t=null;for(let r of n.filter(i=>i.isModified))if(r.question_id){let{data:i,error:o}=await this.supabase.from("adminquestions").update({question_text:r.question_text,active:r.active}).eq("question_id",r.question_id).select().single();if(o){console.error("Error updating question:",o),t=o;break}else r.updated_at=i.updated_at,r.isModified=!1}else{let{data:i,error:o}=await this.supabase.from("adminquestions").insert([{question_text:r.question_text,active:r.active}]).select().single();if(o){console.error("Error inserting question:",o),t=o;break}else r.question_id=i.question_id,r.created_at=i.created_at,r.updated_at=i.updated_at,r.isModified=!1}return{error:t}}async deleteQuestion(n){let{error:t}=await this.supabase.from("adminquestions").delete().eq("question_id",n.question_id);return{error:t}}async getActiveQuestions(){let{data:n,error:t}=await this.supabase.from("activequestions").select("*");return{data:n,error:t}}async submitUserAnswers(n){let{error:t}=await this.supabase.from("answers").insert(n);return{error:t}}supaScream(){return"SupaScream"}static \u0275fac=function(t){return new(t||e)(x(Lt))};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})};var hc=class e{constructor(n){this.supabaseService=n;this.userFirstName=n.currentUsername()}userFirstName;static \u0275fac=function(t){return new(t||e)(b(ce))};static \u0275cmp=de({type:e,selectors:[["app-landing-page"]],decls:38,vars:1,consts:[[1,"container","mt-4"],[1,"text-center"],[1,"container","text-center","mt-5"],[1,"mb-5"],[1,"row","justify-content-center"],[1,"col-md-6"],[1,"card","bg-dark","text-white","mb-4"],[1,"card-body"],["routerLink","/emotions",1,"btn","btn-light","btn-custom"],["routerLink","/pretradelog",1,"btn","btn-light","btn-custom"],[1,"card","bg-dark","text-white","mb-5"],["routerLink","/posttradelog",1,"btn","btn-light","btn-custom"]],template:function(t,r){t&1&&(h(0,"div",0)(1,"h1",1),g(2),f(),h(3,"p",1),g(4," Prototype Landing Page "),f(),h(5,"div",2)(6,"h1",3),g(7,"Take Control of Your Trading Journey"),f(),h(8,"div",4)(9,"div",5)(10,"div",6)(11,"div",7)(12,"h5"),g(13,"Set Yourself Up for Success"),f(),h(14,"p"),g(15,"Step 1: \u{1F4DD} Daily Emotional Check-in"),f(),h(16,"a",8),g(17,"I AM READY"),f()()()()(),h(18,"div",4)(19,"div",5)(20,"div",6)(21,"div",7)(22,"h5"),g(23,"Plan Like a Pro"),f(),h(24,"p"),g(25,"Step 2: \u{1F680} Pre-Trading Journal"),f(),h(26,"a",9),g(27,"ACCESS FORM"),f()()()()(),h(28,"div",4)(29,"div",5)(30,"div",10)(31,"div",7)(32,"h5"),g(33,"Turn Every Trade into a Lesson"),f(),h(34,"p"),g(35,"Step 3: \u{1F4C8} Post-Trading Journal"),f(),h(36,"a",11),g(37,"ACCESS FORM"),f()()()()()()()),t&2&&(y(2),Me("Welcome, ",r.userFirstName,"!"))},dependencies:[bi],styles:["body[_ngcontent-%COMP%]{background-color:#000}.card[_ngcontent-%COMP%]{border:none;border-radius:8px}.card-body[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:600;margin-bottom:.75rem}.card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1rem}.btn-custom[_ngcontent-%COMP%]{border-radius:20px;font-weight:600}@media (max-width: 576px){.card-body[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.1rem}.card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.btn-custom[_ngcontent-%COMP%]{padding:.5rem 1rem}}"]})};var d_=(()=>{class e{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||e)(b(jt),b(St))};static \u0275dir=fe({type:e})}return e})(),ds=(()=>{class e extends d_{static \u0275fac=(()=>{let t;return function(i){return(t||(t=sn(e)))(i||e)}})();static \u0275dir=fe({type:e,features:[Ge]})}return e})(),Nr=new S(""),kx={provide:Nr,useExisting:dt(()=>Rh),multi:!0},Rh=(()=>{class e extends ds{writeValue(t){this.setProperty("checked",t)}static \u0275fac=(()=>{let t;return function(i){return(t||(t=sn(e)))(i||e)}})();static \u0275dir=fe({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&U("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Vt([kx]),Ge]})}return e})(),Px={provide:Nr,useExisting:dt(()=>Ze),multi:!0};function Fx(){let e=cn()?cn().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var Lx=new S(""),Ze=(()=>{class e extends d_{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!Fx())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||e)(b(jt),b(St),b(Lx,8))};static \u0275dir=fe({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&U("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Vt([Px]),Ge]})}return e})();function Hn(e){return e==null||(typeof e=="string"||Array.isArray(e))&&e.length===0}function f_(e){return e!=null&&typeof e.length=="number"}var Dc=new S(""),Ec=new S(""),jx=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,X=class{static min(n){return Vx(n)}static max(n){return Ux(n)}static required(n){return $x(n)}static requiredTrue(n){return Bx(n)}static email(n){return Hx(n)}static minLength(n){return qx(n)}static maxLength(n){return zx(n)}static pattern(n){return Gx(n)}static nullValidator(n){return h_(n)}static compose(n){return __(n)}static composeAsync(n){return w_(n)}};function Vx(e){return n=>{if(Hn(n.value)||Hn(e))return null;let t=parseFloat(n.value);return!isNaN(t)&&t<e?{min:{min:e,actual:n.value}}:null}}function Ux(e){return n=>{if(Hn(n.value)||Hn(e))return null;let t=parseFloat(n.value);return!isNaN(t)&&t>e?{max:{max:e,actual:n.value}}:null}}function $x(e){return Hn(e.value)?{required:!0}:null}function Bx(e){return e.value===!0?null:{required:!0}}function Hx(e){return Hn(e.value)||jx.test(e.value)?null:{email:!0}}function qx(e){return n=>Hn(n.value)||!f_(n.value)?null:n.value.length<e?{minlength:{requiredLength:e,actualLength:n.value.length}}:null}function zx(e){return n=>f_(n.value)&&n.value.length>e?{maxlength:{requiredLength:e,actualLength:n.value.length}}:null}function Gx(e){if(!e)return h_;let n,t;return typeof e=="string"?(t="",e.charAt(0)!=="^"&&(t+="^"),t+=e,e.charAt(e.length-1)!=="$"&&(t+="$"),n=new RegExp(t)):(t=e.toString(),n=e),r=>{if(Hn(r.value))return null;let i=r.value;return n.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function h_(e){return null}function p_(e){return e!=null}function g_(e){return fr(e)?he(e):e}function m_(e){let n={};return e.forEach(t=>{n=t!=null?E(E({},n),t):n}),Object.keys(n).length===0?null:n}function v_(e,n){return n.map(t=>t(e))}function Wx(e){return!e.validate}function y_(e){return e.map(n=>Wx(n)?n:t=>n.validate(t))}function __(e){if(!e)return null;let n=e.filter(p_);return n.length==0?null:function(t){return m_(v_(t,n))}}function Oh(e){return e!=null?__(y_(e)):null}function w_(e){if(!e)return null;let n=e.filter(p_);return n.length==0?null:function(t){let r=v_(t,n).map(g_);return tu(r).pipe(P(m_))}}function kh(e){return e!=null?w_(y_(e)):null}function n_(e,n){return e===null?[n]:Array.isArray(e)?[...e,n]:[e,n]}function b_(e){return e._rawValidators}function D_(e){return e._rawAsyncValidators}function Th(e){return e?Array.isArray(e)?e:[e]:[]}function gc(e,n){return Array.isArray(e)?e.includes(n):e===n}function r_(e,n){let t=Th(n);return Th(e).forEach(i=>{gc(t,i)||t.push(i)}),t}function i_(e,n){return Th(n).filter(t=>!gc(e,t))}var mc=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=Oh(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=kh(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return this.control?this.control.hasError(n,t):!1}getError(n,t){return this.control?this.control.getError(n,t):null}},vn=class extends mc{name;get formDirective(){return null}get path(){return null}},Ar=class extends mc{_parent=null;name=null;valueAccessor=null},vc=class{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Qx={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},N2=z(E({},Qx),{"[class.ng-submitted]":"isSubmitted"}),yt=(()=>{class e extends vc{constructor(t){super(t)}static \u0275fac=function(r){return new(r||e)(b(Ar,2))};static \u0275dir=fe({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&nl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Ge]})}return e})(),zt=(()=>{class e extends vc{constructor(t){super(t)}static \u0275fac=function(r){return new(r||e)(b(vn,10))};static \u0275dir=fe({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&nl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Ge]})}return e})();var os="VALID",pc="INVALID",ki="PENDING",ss="DISABLED",qn=class{},yc=class extends qn{value;source;constructor(n,t){super(),this.value=n,this.source=t}},ls=class extends qn{pristine;source;constructor(n,t){super(),this.pristine=n,this.source=t}},cs=class extends qn{touched;source;constructor(n,t){super(),this.touched=n,this.source=t}},Pi=class extends qn{status;source;constructor(n,t){super(),this.status=n,this.source=t}},Mh=class extends qn{source;constructor(n){super(),this.source=n}},xh=class extends qn{source;constructor(n){super(),this.source=n}};function Ph(e){return(Cc(e)?e.validators:e)||null}function Zx(e){return Array.isArray(e)?Oh(e):e||null}function Fh(e,n){return(Cc(n)?n.asyncValidators:e)||null}function Yx(e){return Array.isArray(e)?kh(e):e||null}function Cc(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function E_(e,n,t){let r=e.controls;if(!(n?Object.keys(r):r).length)throw new C(1e3,"");if(!r[t])throw new C(1001,"")}function C_(e,n,t){e._forEachChild((r,i)=>{if(t[i]===void 0)throw new C(1002,"")})}var Fi=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,t){this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return Ut(this.statusReactive)}set status(n){Ut(()=>this.statusReactive.set(n))}_status=On(()=>this.statusReactive());statusReactive=Ft(void 0);get valid(){return this.status===os}get invalid(){return this.status===pc}get pending(){return this.status==ki}get disabled(){return this.status===ss}get enabled(){return this.status!==ss}errors;get pristine(){return Ut(this.pristineReactive)}set pristine(n){Ut(()=>this.pristineReactive.set(n))}_pristine=On(()=>this.pristineReactive());pristineReactive=Ft(!0);get dirty(){return!this.pristine}get touched(){return Ut(this.touchedReactive)}set touched(n){Ut(()=>this.touchedReactive.set(n))}_touched=On(()=>this.touchedReactive());touchedReactive=Ft(!1);get untouched(){return!this.touched}_events=new De;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(r_(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(r_(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(i_(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(i_(n,this._rawAsyncValidators))}hasValidator(n){return gc(this._rawValidators,n)}hasAsyncValidator(n){return gc(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let t=this.touched===!1;this.touched=!0;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(z(E({},n),{sourceControl:r})),t&&n.emitEvent!==!1&&this._events.next(new cs(!0,r))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(n))}markAsUntouched(n={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:r})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,r),t&&n.emitEvent!==!1&&this._events.next(new cs(!1,r))}markAsDirty(n={}){let t=this.pristine===!0;this.pristine=!1;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(z(E({},n),{sourceControl:r})),t&&n.emitEvent!==!1&&this._events.next(new ls(!1,r))}markAsPristine(n={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,r),t&&n.emitEvent!==!1&&this._events.next(new ls(!0,r))}markAsPending(n={}){this.status=ki;let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Pi(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(z(E({},n),{sourceControl:t}))}disable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=ss,this.errors=null,this._forEachChild(i=>{i.disable(z(E({},n),{onlySelf:!0}))}),this._updateValue();let r=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new yc(this.value,r)),this._events.next(new Pi(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(z(E({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=os,this._forEachChild(r=>{r.enable(z(E({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(z(E({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n,t){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===os||this.status===ki)&&this._runAsyncValidator(r,n.emitEvent)}let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new yc(this.value,t)),this._events.next(new Pi(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(z(E({},n),{sourceControl:t}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ss:os}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,t){if(this.asyncValidator){this.status=ki,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=g_(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(n){let t=n;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(n,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,t,r){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||r)&&this._events.next(new Pi(this.status,t)),this._parent&&this._parent._updateControlsErrors(n,t,r)}_initObservables(){this.valueChanges=new oe,this.statusChanges=new oe}_calculateStatus(){return this._allControlsDisabled()?ss:this.errors?pc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ki)?ki:this._anyControlsHaveStatus(pc)?pc:os}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,t),i&&this._events.next(new ls(this.pristine,t))}_updateTouched(n={},t){this.touched=this._anyControlsTouched(),this._events.next(new cs(this.touched,t)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,t)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Cc(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let t=this._parent&&this._parent.dirty;return!n&&!!t&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=Zx(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=Yx(this._rawAsyncValidators)}},Li=class extends Fi{constructor(n,t,r){super(Ph(t),Fh(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,r={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){C_(this,!0,n),Object.keys(n).forEach(r=>{E_(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){n!=null&&(Object.keys(n).forEach(r=>{let i=this.controls[r];i&&i.patchValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((r,i)=>{r.reset(n?n[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(n,t,r)=>(n[r]=t.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&n(r,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&n(r))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(n,t){let r=n;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var Ah=class extends Li{};var fs=new S("",{providedIn:"root",factory:()=>Ic}),Ic="always";function I_(e,n){return[...n.path,e]}function _c(e,n,t=Ic){Lh(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||t==="always")&&n.valueAccessor.setDisabledState?.(e.disabled),Kx(e,n),eA(e,n),Xx(e,n),Jx(e,n)}function o_(e,n,t=!0){let r=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(r),n.valueAccessor.registerOnTouched(r)),bc(e,n),e&&(n._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function wc(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function Jx(e,n){if(n.valueAccessor.setDisabledState){let t=r=>{n.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}function Lh(e,n){let t=b_(e);n.validator!==null?e.setValidators(n_(t,n.validator)):typeof t=="function"&&e.setValidators([t]);let r=D_(e);n.asyncValidator!==null?e.setAsyncValidators(n_(r,n.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();wc(n._rawValidators,i),wc(n._rawAsyncValidators,i)}function bc(e,n){let t=!1;if(e!==null){if(n.validator!==null){let i=b_(e);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==n.validator);o.length!==i.length&&(t=!0,e.setValidators(o))}}if(n.asyncValidator!==null){let i=D_(e);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==n.asyncValidator);o.length!==i.length&&(t=!0,e.setAsyncValidators(o))}}}let r=()=>{};return wc(n._rawValidators,r),wc(n._rawAsyncValidators,r),t}function Kx(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&S_(e,n)})}function Xx(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&S_(e,n),e.updateOn!=="submit"&&e.markAsTouched()})}function S_(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function eA(e,n){let t=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}function T_(e,n){e==null,Lh(e,n)}function tA(e,n){return bc(e,n)}function M_(e,n){if(!e.hasOwnProperty("model"))return!1;let t=e.model;return t.isFirstChange()?!0:!Object.is(n,t.currentValue)}function nA(e){return Object.getPrototypeOf(e.constructor)===ds}function x_(e,n){e._syncPendingControls(),n.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function A_(e,n){if(!n)return null;Array.isArray(n);let t,r,i;return n.forEach(o=>{o.constructor===Ze?t=o:nA(o)?r=o:i=o}),i||r||t||null}function rA(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}var iA={provide:vn,useExisting:dt(()=>jh)},as=Promise.resolve(),jh=(()=>{class e extends vn{callSetDisabledState;get submitted(){return Ut(this.submittedReactive)}_submitted=On(()=>this.submittedReactive());submittedReactive=Ft(!1);_directives=new Set;form;ngSubmit=new oe;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new Li({},Oh(t),kh(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){as.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),_c(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){as.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){as.then(()=>{let r=this._findContainer(t.path),i=new Li({});T_(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){as.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){as.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),x_(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||e)(b(Dc,10),b(Ec,10),b(fs,8))};static \u0275dir=fe({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&U("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Vt([iA]),Ge]})}return e})();function s_(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function a_(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var us=class extends Fi{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,t,r){super(Ph(t),Fh(r,t)),this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Cc(t)&&(t.nonNullable||t.initialValueIsDefault)&&(a_(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){s_(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){s_(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){a_(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var oA=e=>e instanceof us;var sA={provide:Ar,useExisting:dt(()=>hs)},l_=Promise.resolve(),hs=(()=>{class e extends Ar{_changeDetectorRef;callSetDisabledState;control=new us;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new oe;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=A_(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),M_(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){_c(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){l_.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&gr(r);l_.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?I_(t,this._parent):[t]}static \u0275fac=function(r){return new(r||e)(b(vn,9),b(Dc,10),b(Ec,10),b(Nr,10),b(Ce,8),b(fs,8))};static \u0275dir=fe({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Vt([sA]),Ge,An]})}return e})(),Gt=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=fe({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})(),aA={provide:Nr,useExisting:dt(()=>ps),multi:!0},ps=(()=>{class e extends ds{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=sn(e)))(i||e)}})();static \u0275dir=fe({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&U("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Vt([aA]),Ge]})}return e})();var N_=new S("");var lA={provide:vn,useExisting:dt(()=>yn)},yn=(()=>{class e extends vn{callSetDisabledState;get submitted(){return Ut(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=On(()=>this._submittedReactive());_submittedReactive=Ft(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new oe;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(bc(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return _c(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){o_(t.control||null,t,!1),rA(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),x_(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Mh(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new xh(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(o_(r||null,t),oA(i)&&(_c(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);T_(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&tA(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Lh(this.form,this),this._oldForm&&bc(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(r){return new(r||e)(b(Dc,10),b(Ec,10),b(fs,8))};static \u0275dir=fe({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&U("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Vt([lA]),Ge,An]})}return e})();var cA={provide:Ar,useExisting:dt(()=>_n)},_n=(()=>{class e extends Ar{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new oe;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=A_(this,o)}ngOnChanges(t){this._added||this._setUpControl(),M_(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return I_(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||e)(b(vn,13),b(Dc,10),b(Ec,10),b(Nr,10),b(N_,8))};static \u0275dir=fe({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Vt([cA]),Ge,An]})}return e})(),uA={provide:Nr,useExisting:dt(()=>ji),multi:!0};function R_(e,n){return e==null?`${n}`:(n&&typeof n=="object"&&(n="Object"),`${e}: ${n}`.slice(0,50))}function dA(e){return e.split(":")[0]}var ji=(()=>{class e extends ds{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r=this._getOptionId(t),i=R_(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=dA(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=sn(e)))(i||e)}})();static \u0275dir=fe({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&U("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Vt([uA]),Ge]})}return e})(),Sc=(()=>{class e{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(R_(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(b(St),b(jt),b(ji,9))};static \u0275dir=fe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})(),fA={provide:Nr,useExisting:dt(()=>O_),multi:!0};function c_(e,n){return e==null?`${n}`:(typeof n=="string"&&(n=`'${n}'`),n&&typeof n=="object"&&(n="Object"),`${e}: ${n}`.slice(0,50))}function hA(e){return e.split(":")[0]}var O_=(()=>{class e extends ds{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);i.push(c)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=hA(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=sn(e)))(i||e)}})();static \u0275dir=fe({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&U("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Vt([fA]),Ge]})}return e})(),Tc=(()=>{class e{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(c_(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(c_(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(b(St),b(jt),b(O_,9))};static \u0275dir=fe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})();var k_=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=an({type:e});static \u0275inj=nn({})}return e})(),Nh=class extends Fi{constructor(n,t,r){super(Ph(t),Fh(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(n){return this.controls[this._adjustIndex(n)]}push(n,t={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(n,t,r={}){this.controls.splice(n,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(n,t={}){let r=this._adjustIndex(n);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(n,t,r={}){let i=this._adjustIndex(n);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,t={}){C_(this,!1,n),n.forEach((r,i)=>{E_(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){n!=null&&(n.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n=[],t={}){this._forEachChild((r,i)=>{r.reset(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((t,r)=>{n(t,r)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(t=>t.enabled&&n(t))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(let n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}};function u_(e){return!!e&&(e.asyncValidators!==void 0||e.validators!==void 0||e.updateOn!==void 0)}var zn=(()=>{class e{useNonNullable=!1;get nonNullable(){let t=new e;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return u_(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Li(i,o)}record(t,r=null){let i=this._reduceControls(t);return new Ah(i,r)}control(t,r,i){let o={};return this.useNonNullable?(u_(r)?o=r:(o.validators=r,o.asyncValidators=i),new us(t,z(E({},o),{nonNullable:!0}))):new us(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new Nh(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof us)return t;if(t instanceof Fi)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Mc=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:fs,useValue:t.callSetDisabledState??Ic}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=an({type:e});static \u0275inj=nn({imports:[k_]})}return e})(),Gn=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:N_,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:fs,useValue:t.callSetDisabledState??Ic}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=an({type:e});static \u0275inj=nn({imports:[k_]})}return e})();function pA(e,n){if(e&1&&(h(0,"div",14),g(1),f()),e&2){let t=H();y(),Me(" ",t.errorMessage," ")}}function gA(e,n){e&1&&(h(0,"div",15),g(1," A valid email is required. "),f())}function mA(e,n){e&1&&(h(0,"div",15),g(1," Password must be at least 6 characters. "),f())}var xc=class e{constructor(n,t,r,i){this.fb=n;this.router=t;this.route=r;this.supabaseService=i;this.signinForm=this.fb.group({email:["",[X.required,X.email]],password:["",[X.required,X.minLength(6)]]})}signinForm;errorMessage=null;async onSubmit(){if(this.signinForm.invalid){this.signinForm.markAllAsTouched();return}let{email:n,password:t}=this.signinForm.getRawValue();try{if(await this.supabaseService.signIn(n,t),!this.supabaseService.currentUsername()){this.errorMessage="Login failed. Please try again.";return}this.signinForm.reset();let r=this.route.snapshot.queryParams.returnUrl||"/home";this.router.navigateByUrl(r)}catch(r){this.errorMessage=r.message||"An unexpected error occurred."}}static \u0275fac=function(t){return new(t||e)(b(zn),b(Ue),b(hn),b(ce))};static \u0275cmp=de({type:e,selectors:[["app-login"]],decls:21,vars:5,consts:[[1,"container","d-flex","justify-content-center","mt-5"],[1,"card","p-4","shadow-lg",2,"max-width","400px"],[1,"text-center","mb-3"],["class","alert alert-danger",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","placeholder","Enter your email",1,"form-control"],["class","text-danger small",4,"ngIf"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password","placeholder","Enter your password",1,"form-control"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],[1,"text-center","mt-3"],["routerLink","/signup"],[1,"alert","alert-danger"],[1,"text-danger","small"]],template:function(t,r){if(t&1&&(h(0,"div",0)(1,"div",1)(2,"h3",2),g(3,"Sign In"),f(),W(4,pA,2,1,"div",3),h(5,"form",4),U("ngSubmit",function(){return r.onSubmit()}),h(6,"div",5)(7,"label",6),g(8,"Email"),f(),$(9,"input",7),W(10,gA,2,0,"div",8),f(),h(11,"div",5)(12,"label",9),g(13,"Password"),f(),$(14,"input",10),W(15,mA,2,0,"div",8),f(),h(16,"button",11),g(17," Sign In "),f()(),h(18,"div",12)(19,"a",13),g(20,"Don't have an account yet?"),f()()()()),t&2){let i,o;y(4),M("ngIf",r.errorMessage),y(),M("formGroup",r.signinForm),y(5),M("ngIf",((i=r.signinForm.get("email"))==null?null:i.invalid)&&((i=r.signinForm.get("email"))==null?null:i.touched)),y(5),M("ngIf",((o=r.signinForm.get("password"))==null?null:o.invalid)&&((o=r.signinForm.get("password"))==null?null:o.touched)),y(),M("disabled",r.signinForm.invalid)}},dependencies:[bi,Se,xe,Gn,Gt,Ze,yt,zt,yn,_n],encapsulation:2})};function vA(e,n){e&1&&(h(0,"small",17),g(1," First name is required "),f())}function yA(e,n){e&1&&(h(0,"small",17),g(1," Last name is required "),f())}function _A(e,n){e&1&&(h(0,"small",17),g(1," Valid email is required "),f())}function wA(e,n){e&1&&(h(0,"small",17),g(1," Password must be at least 6 characters "),f())}function bA(e,n){e&1&&(h(0,"small",17),g(1," Passwords do not match "),f())}var Ac=class e{constructor(n,t,r){this.fb=n;this.router=t;this.authService=r;this.signupForm=this.fb.group({firstname:["",X.required],lastname:["",X.required],email:["",[X.required,X.email]],password:["",[X.required,X.minLength(6)]],confirmPassword:["",X.required]},{validators:this.passwordMatchValidator})}signupForm;errorMessage=null;passwordMatchValidator(n){let t=n.get("password")?.value,r=n.get("confirmPassword")?.value;return t===r?null:{mismatch:!0}}onSubmit(){if(this.signupForm.invalid){this.signupForm.markAllAsTouched();return}let{email:n,password:t,firstname:r,lastname:i}=this.signupForm.getRawValue();this.authService.signUp(n,t,r,i).then(()=>{this.signupForm.reset(),this.router.navigateByUrl("/home")}).catch(o=>{this.errorMessage=o.message||"An unexpected error occurred.",console.error(o)})}static \u0275fac=function(t){return new(t||e)(b(zn),b(Ue),b(ce))};static \u0275cmp=de({type:e,selectors:[["app-signup"]],decls:32,vars:7,consts:[[1,"container","d-flex","justify-content-center","mt-5"],[1,"card","p-4","shadow-lg",2,"width","400px"],[1,"text-center","mb-3"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","firstname",1,"form-label"],["type","text","id","firstname","formControlName","firstname",1,"form-control"],["class","text-danger",4,"ngIf"],["for","lastname",1,"form-label"],["type","text","id","lastname","formControlName","lastname",1,"form-control"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email",1,"form-control"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password",1,"form-control"],["for","confirmPassword",1,"form-label"],["type","password","id","confirmPassword","formControlName","confirmPassword",1,"form-control"],["type","submit",1,"btn","btn-success","w-100",3,"disabled"],[1,"text-danger"]],template:function(t,r){if(t&1&&(h(0,"div",0)(1,"div",1)(2,"h3",2),g(3,"Sign Up"),f(),h(4,"form",3),U("ngSubmit",function(){return r.onSubmit()}),h(5,"div",4)(6,"label",5),g(7,"First Name"),f(),$(8,"input",6),W(9,vA,2,0,"small",7),f(),h(10,"div",4)(11,"label",8),g(12,"Last Name"),f(),$(13,"input",9),W(14,yA,2,0,"small",7),f(),h(15,"div",4)(16,"label",10),g(17,"Email"),f(),$(18,"input",11),W(19,_A,2,0,"small",7),f(),h(20,"div",4)(21,"label",12),g(22,"Password"),f(),$(23,"input",13),W(24,wA,2,0,"small",7),f(),h(25,"div",4)(26,"label",14),g(27,"Confirm Password"),f(),$(28,"input",15),W(29,bA,2,0,"small",7),f(),h(30,"button",16),g(31,"Sign Up"),f()()()()),t&2){let i,o,s,a;y(4),M("formGroup",r.signupForm),y(5),M("ngIf",((i=r.signupForm.get("firstname"))==null?null:i.invalid)&&((i=r.signupForm.get("firstname"))==null?null:i.touched)),y(5),M("ngIf",((o=r.signupForm.get("lastname"))==null?null:o.invalid)&&((o=r.signupForm.get("lastname"))==null?null:o.touched)),y(5),M("ngIf",((s=r.signupForm.get("email"))==null?null:s.invalid)&&((s=r.signupForm.get("email"))==null?null:s.touched)),y(5),M("ngIf",((a=r.signupForm.get("password"))==null?null:a.invalid)&&((a=r.signupForm.get("password"))==null?null:a.touched)),y(5),M("ngIf",r.signupForm.hasError("mismatch")),y(),M("disabled",r.signupForm.invalid)}},dependencies:[Se,xe,Gn,Gt,Ze,yt,zt,yn,_n],styles:["*[_ngcontent-%COMP%]{color:#000}"]})};var Wt=class e{constructor(n,t){this.supabaseService=n;this.router=t}canActivate(n,t){return this.supabaseService.loginStatus()?!0:this.router.createUrlTree([""],{queryParams:{returnUrl:t.url}})}static \u0275fac=function(t){return new(t||e)(x(ce),x(Ue))};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})};var gs=class e{constructor(n,t){this.authService=n;this.router=t}canActivate(n,t){return this.authService.loginStatus()?this.router.createUrlTree(["/home"]):!0}static \u0275fac=function(t){return new(t||e)(x(ce),x(Ue))};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})};var ke=[];for(let e=0;e<256;++e)ke.push((e+256).toString(16).slice(1));function P_(e,n=0){return(ke[e[n+0]]+ke[e[n+1]]+ke[e[n+2]]+ke[e[n+3]]+"-"+ke[e[n+4]]+ke[e[n+5]]+"-"+ke[e[n+6]]+ke[e[n+7]]+"-"+ke[e[n+8]]+ke[e[n+9]]+"-"+ke[e[n+10]]+ke[e[n+11]]+ke[e[n+12]]+ke[e[n+13]]+ke[e[n+14]]+ke[e[n+15]]).toLowerCase()}var Vh,DA=new Uint8Array(16);function Uh(){if(!Vh){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Vh=crypto.getRandomValues.bind(crypto)}return Vh(DA)}var EA=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),$h={randomUUID:EA};function CA(e,n,t){if($h.randomUUID&&!n&&!e)return $h.randomUUID();e=e||{};let r=e.random??e.rng?.()??Uh();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,n){if(t=t||0,t<0||t+16>n.length)throw new RangeError(`UUID byte range ${t}:${t+15} is out of buffer bounds`);for(let i=0;i<16;++i)n[t+i]=r[i];return n}return P_(r)}var ms=CA;function IA(e,n){if(e&1&&(h(0,"span",49),g(1),f()),e&2){let t=H();y(),F(t.message)}}function SA(e,n){if(e&1&&(h(0,"span",50),g(1),f()),e&2){let t=H();y(),F(t.errorMessage)}}function TA(e,n){e&1&&(h(0,"div",50),g(1," Account Name is required. "),f())}function MA(e,n){if(e&1){let t=Pe();h(0,"button",51),U("click",function(){se(t);let i=H();return ae(i.onCancel())}),g(1,"Cancel"),f()}}var Ui=class e{constructor(n,t,r){this.fb=n;this.supabaseService=t;this.cdr=r}tradeLogData=null;formSubmitted=new oe;cancel=new oe;tableName="pretrade";preTradeForm;showEmotionalSection=!1;message="";errorMessage="";ngOnInit(){this.preTradeForm=this.fb.group({tradeid:[this.tradeLogData?this.tradeLogData.tradeid:ms()],userid:[this.tradeLogData?this.tradeLogData.userid:""],createdtime:[this.tradeLogData?this.tradeLogData.createdtime:new Date().toISOString()],accountname:[this.tradeLogData?this.tradeLogData.accountname:"",X.required],accountbalance:[this.tradeLogData?this.tradeLogData.accountbalance:null,[X.required,X.min(0)]],instrumenttype:[this.tradeLogData?this.tradeLogData.instrumenttype:"",X.required],ticker:[this.tradeLogData?this.tradeLogData.ticker:"",X.required],analysistype:[this.tradeLogData?this.tradeLogData.analysistype:"",X.required],typeoforder:[this.tradeLogData?this.tradeLogData.typeoforder:"",X.required],projectedentryprice:[this.tradeLogData?this.tradeLogData.projectedentryprice:null,X.required],projectedexitprice:[this.tradeLogData?this.tradeLogData.projectedexitprice:null],estimatedstoploss:[this.tradeLogData?this.tradeLogData.estimatedstoploss:null],estimatedtakeprofit:[this.tradeLogData?this.tradeLogData.estimatedtakeprofit:null],estimatedrisk:[this.tradeLogData?this.tradeLogData.estimatedrisk:null],estimatedpnl:[this.tradeLogData?this.tradeLogData.estimatedpnl:null],rrratio:[this.tradeLogData?this.tradeLogData.rrratio:null],setupscreenshot:[this.tradeLogData?this.tradeLogData.setupscreenshot:""]})}toggleEmotionalSection(){this.showEmotionalSection=!this.showEmotionalSection}onFileSelected(n){let t=n.target;if(!t.files||t.files.length===0)return;let r=t.files[0],i=new FileReader;i.onload=o=>{this.preTradeForm.patchValue({setupscreenshot:o.target.result})},i.readAsDataURL(r)}async onSubmit(){if(this.preTradeForm.invalid){this.preTradeForm.markAllAsTouched();return}let n=this.preTradeForm.value;try{this.tradeLogData?(await this.supabaseService.updateTradeLog(n,this.tableName),this.message="Trade log updated successfully. Resetting in 5 seconds."):(await this.supabaseService.addTradeLog(n,this.tableName),this.message="Trade log added successfully. Resetting in 5 seconds."),this.formSubmitted.emit()}catch(t){console.error("Error processing trade log:",t),this.errorMessage="Something went wrong.",this.cdr.markForCheck()}finally{this.cdr.markForCheck(),setTimeout(()=>{this.preTradeForm.reset(),this.preTradeForm.markAsPristine(),this.message="Form has been reset",this.cdr.markForCheck()},5e3),setTimeout(()=>{this.message="",this.cdr.markForCheck()},3e3)}}async onDelete(){if(this.tradeLogData)try{await this.supabaseService.deleteTradeLog(this.tradeLogData.tradeid,this.tableName),this.message="Trade log deleted successfully.",this.formSubmitted.emit()}catch(n){console.error("Error deleting trade log:",n),this.errorMessage="Something went wrong while deleting."}finally{this.cdr.markForCheck()}}onCancel(){this.cancel.emit()}static \u0275fac=function(t){return new(t||e)(b(zn),b(ce),b(Ce))};static \u0275cmp=de({type:e,selectors:[["app-pre-trade-log"]],inputs:{tradeLogData:"tradeLogData"},outputs:{formSubmitted:"formSubmitted",cancel:"cancel"},decls:93,vars:7,consts:[[1,"container","my-4"],[1,"text-center","mb-4"],["align","center"],["class","text-success",4,"ngIf"],["class","text-danger",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"row","g-3"],[1,"col-md-6"],[1,"mb-3"],["for","accountname",1,"form-label"],["id","accountname","type","text","formControlName","accountname",1,"form-control"],["for","instrumenttype",1,"form-label"],["id","instrumenttype","formControlName","instrumenttype",1,"form-select"],["value","","disabled",""],["value","Forex"],["value","Stocks"],["value","Futures"],["value","Crypto"],["for","analysistype",1,"form-label"],["id","analysistype","formControlName","analysistype",1,"form-select"],["value","Technical Analysis"],["value","Fundamental Analysis"],["value","Both"],["for","projectedentryprice",1,"form-label"],["id","projectedentryprice","type","number","formControlName","projectedentryprice",1,"form-control"],["for","estimatedstoploss",1,"form-label"],["id","estimatedstoploss","type","number","formControlName","estimatedstoploss",1,"form-control"],["for","estimatedrisk",1,"form-label"],["id","estimatedrisk","type","number","formControlName","estimatedrisk",1,"form-control"],["for","rrratio",1,"form-label"],["id","rrratio","type","number","formControlName","rrratio",1,"form-control"],["for","accountbalance",1,"form-label"],["id","accountbalance","type","number","formControlName","accountbalance",1,"form-control"],["for","ticker",1,"form-label"],["id","ticker","type","text","formControlName","ticker",1,"form-control"],["for","typeoforder",1,"form-label"],["id","typeoforder","formControlName","typeoforder",1,"form-select"],["value","Market Execution"],["value","Limit Order"],["value","Stop Order"],["for","projectedexitprice",1,"form-label"],["id","projectedexitprice","type","number","formControlName","projectedexitprice",1,"form-control"],["for","estimatedtakeprofit",1,"form-label"],["id","estimatedtakeprofit","type","number","formControlName","estimatedtakeprofit",1,"form-control"],["for","estimatedpnl",1,"form-label"],["id","estimatedpnl","type","number","formControlName","estimatedpnl",1,"form-control"],[1,"text-center","mt-4"],["type","submit",1,"btn","btn-success"],["type","button","class","btn btn-secondary ms-2",3,"click",4,"ngIf"],[1,"text-success"],[1,"text-danger"],["type","button",1,"btn","btn-secondary","ms-2",3,"click"]],template:function(t,r){if(t&1&&(h(0,"div",0)(1,"h2",1),g(2),f(),h(3,"div",2),W(4,IA,2,1,"span",3)(5,SA,2,1,"span",4),f(),h(6,"form",5),U("ngSubmit",function(){return r.onSubmit()}),h(7,"div",6)(8,"div",7)(9,"div",8)(10,"label",9),g(11,"Account Name"),f(),$(12,"input",10),W(13,TA,2,0,"div",4),f(),h(14,"div",8)(15,"label",11),g(16,"Instrument Type"),f(),h(17,"select",12)(18,"option",13),g(19,"Select one"),f(),h(20,"option",14),g(21,"Forex"),f(),h(22,"option",15),g(23,"Stocks"),f(),h(24,"option",16),g(25,"Futures"),f(),h(26,"option",17),g(27,"Crypto"),f()()(),h(28,"div",8)(29,"label",18),g(30,"Analysis Type"),f(),h(31,"select",19)(32,"option",13),g(33,"Select one"),f(),h(34,"option",20),g(35,"Technical Analysis"),f(),h(36,"option",21),g(37,"Fundamental Analysis"),f(),h(38,"option",22),g(39,"Both"),f()()(),h(40,"div",8)(41,"label",23),g(42,"Projected Entry Price"),f(),$(43,"input",24),f(),h(44,"div",8)(45,"label",25),g(46,"Estimated Stop Loss"),f(),$(47,"input",26),f(),h(48,"div",8)(49,"label",27),g(50,"Estimated Risk per trade (%)"),f(),$(51,"input",28),f(),h(52,"div",8)(53,"label",29),g(54,"R:R Ratio"),f(),$(55,"input",30),f()(),h(56,"div",7)(57,"div",8)(58,"label",31),g(59,"Account Balance ($)"),f(),$(60,"input",32),f(),h(61,"div",8)(62,"label",33),g(63,"Ticker"),f(),$(64,"input",34),f(),h(65,"div",8)(66,"label",35),g(67,"Type of Order"),f(),h(68,"select",36)(69,"option",13),g(70,"Select one"),f(),h(71,"option",37),g(72,"Market Execution"),f(),h(73,"option",38),g(74,"Limit Order"),f(),h(75,"option",39),g(76,"Stop Order"),f()()(),h(77,"div",8)(78,"label",40),g(79,"Projected Exit Price"),f(),$(80,"input",41),f(),h(81,"div",8)(82,"label",42),g(83,"Estimated Take Profit"),f(),$(84,"input",43),f(),h(85,"div",8)(86,"label",44),g(87,"Estimated PnL (%)"),f(),$(88,"input",45),f()()(),h(89,"div",46)(90,"button",47),g(91),f(),W(92,MA,2,0,"button",48),f()()()),t&2){let i;y(2),Me(" ",r.tradeLogData?"Edit Pre-Trading Journal":"New Pre-Trading Journal"," "),y(2),M("ngIf",r.message),y(),M("ngIf",r.errorMessage),y(),M("formGroup",r.preTradeForm),y(7),M("ngIf",((i=r.preTradeForm.get("accountname"))==null?null:i.touched)&&((i=r.preTradeForm.get("accountname"))==null?null:i.invalid)),y(78),Me(" ",r.tradeLogData?"Update":"Submit"," "),y(),M("ngIf",r.tradeLogData)}},dependencies:[Se,xe,Gn,Gt,Sc,Tc,Ze,ps,ji,yt,zt,yn,_n],styles:["*[_ngcontent-%COMP%]{color:#000}.container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;font-family:Arial,sans-serif;background:#fdfdfd;padding:1rem;border-radius:6px}h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem}.journal-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-bottom:1rem}.column[_ngcontent-%COMP%]{flex:1;min-width:250px;margin-right:1rem}.column[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-top:.5rem}.column[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .column[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:.4rem;margin-top:.25rem;box-sizing:border-box}.questionnaire-button[_ngcontent-%COMP%], .submit-button[_ngcontent-%COMP%]{background:#000;color:#fff;border:none;padding:.6rem 1rem;margin-top:1rem;cursor:pointer;border-radius:4px}.emotional-section[_ngcontent-%COMP%]{margin-top:1rem}.emotional-section[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-top:1rem}.emotional-section[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;min-height:60px;padding:.4rem;margin-top:.25rem;box-sizing:border-box}"],changeDetection:0})};function xA(e,n){e&1&&(h(0,"div",6),g(1,"Loading trade logs..."),f())}function AA(e,n){if(e&1&&(h(0,"div",7),g(1),f()),e&2){let t=H();y(),F(t.errorMessage)}}function NA(e,n){if(e&1){let t=Pe();h(0,"button",13),U("click",function(i){se(t);let o=H().$implicit,s=H(2);return ae(s.onDeleteTradeLog(o,i))}),g(1," Delete "),f()}}function RA(e,n){if(e&1){let t=Pe();h(0,"tr",11),U("click",function(){let i=se(t).$implicit,o=H(2);return ae(o.openEditModal(i))})("mouseenter",function(){let i=se(t).$implicit;return ae(i.showDelete=!0)})("mouseleave",function(){let i=se(t).$implicit;return ae(i.showDelete=!1)}),h(1,"td"),g(2),f(),h(3,"td"),g(4),f(),h(5,"td"),g(6),f(),h(7,"td"),g(8),f(),h(9,"td"),g(10),f(),h(11,"td"),g(12),f(),h(13,"td"),g(14),f(),h(15,"td"),g(16),f(),h(17,"td"),g(18),f(),h(19,"td"),g(20),f(),h(21,"td"),g(22),f(),h(23,"td"),g(24),f(),h(25,"td"),g(26),f(),h(27,"td"),g(28),il(29,"date"),f(),h(30,"td"),W(31,NA,2,0,"button",12),f()()}if(e&2){let t=n.$implicit;y(2),F(t.accountname),y(2),F(t.accountbalance),y(2),F(t.instrumenttype),y(2),F(t.ticker),y(2),F(t.analysistype),y(2),F(t.typeoforder),y(2),F(t.projectedentryprice),y(2),F(t.projectedexitprice),y(2),F(t.estimatedstoploss),y(2),F(t.estimatedtakeprofit),y(2),F(t.estimatedrisk),y(2),F(t.estimatedpnl),y(2),F(t.rrratio),y(2),F(ol(29,15,t.createdtime,"medium")),y(3),M("ngIf",t.showDelete)}}function OA(e,n){if(e&1&&(h(0,"table",8)(1,"thead",9)(2,"tr")(3,"th"),g(4,"Account Name"),f(),h(5,"th"),g(6,"Account Balance"),f(),h(7,"th"),g(8,"Instrument Type"),f(),h(9,"th"),g(10,"Ticker"),f(),h(11,"th"),g(12,"Analysis Type"),f(),h(13,"th"),g(14,"Type of Order"),f(),h(15,"th"),g(16,"Projected Entry"),f(),h(17,"th"),g(18,"Projected Exit"),f(),h(19,"th"),g(20,"Est. Stop Loss"),f(),h(21,"th"),g(22,"Est. Take Profit"),f(),h(23,"th"),g(24,"Est. Risk"),f(),h(25,"th"),g(26,"Est. PnL"),f(),h(27,"th"),g(28,"RR Ratio"),f(),h(29,"th"),g(30,"Created Time"),f(),h(31,"th"),g(32,"Actions"),f()()(),h(33,"tbody"),W(34,RA,32,18,"tr",10),f()()),e&2){let t=H();y(34),M("ngForOf",t.tradeLogs)}}function kA(e,n){e&1&&(h(0,"div",14),g(1," No trade logs found. "),f())}function PA(e,n){if(e&1){let t=Pe();h(0,"div",15)(1,"div",16)(2,"app-pre-trade-log",17),U("formSubmitted",function(){se(t);let i=H();return ae(i.onFormSubmitted())})("cancel",function(){se(t);let i=H();return ae(i.closeModal())}),f()()()}if(e&2){let t=H();y(2),M("tradeLogData",t.selectedTradeLog)}}var Nc=class e{constructor(n,t){this.supabaseService=n;this.cdr=t}tableName="pretrade";tradeLogs=[];loading=!1;errorMessage="";showModal=!1;selectedTradeLog=null;async ngOnInit(){this.loading=!0,await this.fetchTradeLogs(),this.loading=!1,this.cdr.markForCheck()}async fetchTradeLogs(){try{this.tradeLogs=await this.supabaseService.getTradeLogs(this.tableName)}catch(n){console.error("Error fetching trade logs:",n),this.errorMessage="Error fetching trade logs."}}openEditModal(n){this.selectedTradeLog=n,this.showModal=!0}onFormSubmitted(){this.fetchTradeLogs(),this.closeModal()}closeModal(){this.showModal=!1,this.selectedTradeLog=null}async onDeleteTradeLog(n,t){t.stopPropagation();try{await this.supabaseService.deleteTradeLog(n.tradeid,this.tableName),await this.fetchTradeLogs()}catch(r){console.error("Error deleting trade log:",r),this.errorMessage="Error deleting trade log."}}static \u0275fac=function(t){return new(t||e)(b(ce),b(Ce))};static \u0275cmp=de({type:e,selectors:[["app-pre-trade-table"]],decls:8,vars:5,consts:[[1,"container","mt-3"],["class","alert alert-info",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["class","table table-striped",4,"ngIf"],["class","alert alert-warning",4,"ngIf"],["class","modal-overlay",4,"ngIf"],[1,"alert","alert-info"],[1,"alert","alert-danger"],[1,"table","table-striped"],[1,"table-dark"],["style","cursor: pointer;",3,"click","mouseenter","mouseleave",4,"ngFor","ngForOf"],[2,"cursor","pointer",3,"click","mouseenter","mouseleave"],["class","btn btn-danger btn-sm",3,"click",4,"ngIf"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"alert","alert-warning"],[1,"modal-overlay"],[1,"modal-content"],[3,"formSubmitted","cancel","tradeLogData"]],template:function(t,r){t&1&&(h(0,"div",0)(1,"h2"),g(2,"Pre Trade Logs"),f(),W(3,xA,2,0,"div",1)(4,AA,2,1,"div",2)(5,OA,35,1,"table",3)(6,kA,2,0,"div",4),f(),W(7,PA,3,1,"div",5)),t&2&&(y(3),M("ngIf",r.loading),y(),M("ngIf",r.errorMessage),y(),M("ngIf",r.tradeLogs&&r.tradeLogs.length),y(),M("ngIf",!r.loading&&(!r.tradeLogs||r.tradeLogs.length===0)),y(),M("ngIf",r.showModal))},dependencies:[Se,Pn,xe,wl,Ui],encapsulation:2,changeDetection:0})};function FA(e,n){if(e&1&&(h(0,"span",49),g(1),f()),e&2){let t=H();y(),F(t.message)}}function LA(e,n){if(e&1&&(h(0,"span",50),g(1),f()),e&2){let t=H();y(),F(t.errorMessage)}}function jA(e,n){e&1&&(h(0,"div",50),g(1," Account Name is required. "),f())}var $i=class e{constructor(n,t,r){this.fb=n;this.supabaseService=t;this.cdr=r}tradeLogData=null;formSubmitted=new oe;cancel=new oe;postTradeForm;message="";errorMessage="";tableName="posttrade";ngOnInit(){this.postTradeForm=this.fb.group({tradeid:[this.tradeLogData?this.tradeLogData.tradeid:ms()],userid:[this.tradeLogData?this.tradeLogData.userid:""],createdtime:[this.tradeLogData?this.tradeLogData.createdtime:new Date().toISOString()],accountname:[this.tradeLogData?this.tradeLogData.accountname:"",X.required],accountbalance:[this.tradeLogData?this.tradeLogData.accountbalance:null,[X.required,X.min(0)]],instrumenttype:[this.tradeLogData?this.tradeLogData.instrumenttype:"",X.required],ticker:[this.tradeLogData?this.tradeLogData.ticker:"",X.required],analysistype:[this.tradeLogData?this.tradeLogData.analysistype:"",X.required],typeoforder:[this.tradeLogData?this.tradeLogData.typeoforder:"",X.required],entryprice:[this.tradeLogData?this.tradeLogData.entryprice:null,X.required],exitprice:[this.tradeLogData?this.tradeLogData.exitprice:null],stoploss:[this.tradeLogData?this.tradeLogData.stoploss:null],takeprofit:[this.tradeLogData?this.tradeLogData.takeprofit:null],risk:[this.tradeLogData?this.tradeLogData.risk:null],pnl:[this.tradeLogData?this.tradeLogData.pnl:null],rrratio:[this.tradeLogData?this.tradeLogData.rrratio:null],setupscreenshot:[this.tradeLogData?this.tradeLogData.setupscreenshot:""]})}async onSubmit(){if(this.postTradeForm.invalid){this.postTradeForm.markAllAsTouched();return}let n=this.postTradeForm.value;try{this.tradeLogData?(await this.supabaseService.updateTradeLog(n,this.tableName),this.message="Trade log added successfully. Resetting in 5 seconds."):(await this.supabaseService.addTradeLog(n,this.tableName),this.message="Trade log added successfully. Resetting in 5 seconds."),this.cdr.markForCheck(),this.formSubmitted.emit()}catch(t){console.error("Error processing trade log:",t),this.errorMessage="Something went wrong.",this.cdr.markForCheck()}finally{setTimeout(()=>{this.postTradeForm.reset(),this.postTradeForm.markAsPristine(),this.message="Form has been reset",this.cdr.markForCheck()},5e3),setTimeout(()=>{this.message="",this.cdr.markForCheck()},3e3)}}onCancel(){this.cancel.emit()}static \u0275fac=function(t){return new(t||e)(b(zn),b(ce),b(Ce))};static \u0275cmp=de({type:e,selectors:[["app-post-trade-log"]],inputs:{tradeLogData:"tradeLogData"},outputs:{formSubmitted:"formSubmitted",cancel:"cancel"},decls:94,vars:6,consts:[[1,"container","my-4"],[1,"text-center","mb-4"],["align","center"],["class","text-success",4,"ngIf"],["class","text-danger",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"row","g-3"],[1,"col-md-6"],[1,"mb-3"],["for","accountname",1,"form-label"],["id","accountname","type","text","formControlName","accountname",1,"form-control"],["for","instrumenttype",1,"form-label"],["id","instrumenttype","formControlName","instrumenttype",1,"form-select"],["value","","disabled",""],["value","Forex"],["value","Stocks"],["value","Futures"],["value","Crypto"],["for","analysistype",1,"form-label"],["id","analysistype","formControlName","analysistype",1,"form-select"],["value","Technical Analysis"],["value","Fundamental Analysis"],["value","Both"],["for","entryprice",1,"form-label"],["id","entryprice","type","number","formControlName","entryprice",1,"form-control"],["for","stoploss",1,"form-label"],["id","stoploss","type","number","formControlName","stoploss",1,"form-control"],["for","Risk",1,"form-label"],["id","risk","type","number","formControlName","risk",1,"form-control"],["for","rrratio",1,"form-label"],["id","rrratio","type","number","formControlName","rrratio",1,"form-control"],["for","accountbalance",1,"form-label"],["id","accountbalance","type","number","formControlName","accountbalance",1,"form-control"],["for","ticker",1,"form-label"],["id","ticker","type","text","formControlName","ticker",1,"form-control"],["for","typeoforder",1,"form-label"],["id","typeoforder","formControlName","typeoforder",1,"form-select"],["value","Market Execution"],["value","Limit Order"],["value","Stop Order"],["for","exitprice",1,"form-label"],["id","exitprice","type","number","formControlName","exitprice",1,"form-control"],["for","takeprofit",1,"form-label"],["id","takeprofit","type","number","formControlName","takeprofit",1,"form-control"],["for","pnl",1,"form-label"],["id","pnl","type","number","formControlName","pnl",1,"form-control"],[1,"text-center","mt-4"],["type","submit",1,"btn","btn-success"],["type","button",1,"btn","btn-secondary","ms-2",3,"click"],[1,"text-success"],[1,"text-danger"]],template:function(t,r){if(t&1&&(h(0,"div",0)(1,"h2",1),g(2),f(),h(3,"div",2),W(4,FA,2,1,"span",3)(5,LA,2,1,"span",4),f(),h(6,"form",5),U("ngSubmit",function(){return r.onSubmit()}),h(7,"div",6)(8,"div",7)(9,"div",8)(10,"label",9),g(11,"Account Name"),f(),$(12,"input",10),W(13,jA,2,0,"div",4),f(),h(14,"div",8)(15,"label",11),g(16,"Instrument Type"),f(),h(17,"select",12)(18,"option",13),g(19,"Select one"),f(),h(20,"option",14),g(21,"Forex"),f(),h(22,"option",15),g(23,"Stocks"),f(),h(24,"option",16),g(25,"Futures"),f(),h(26,"option",17),g(27,"Crypto"),f()()(),h(28,"div",8)(29,"label",18),g(30,"Analysis Type"),f(),h(31,"select",19)(32,"option",13),g(33,"Select one"),f(),h(34,"option",20),g(35,"Technical Analysis"),f(),h(36,"option",21),g(37,"Fundamental Analysis"),f(),h(38,"option",22),g(39,"Both"),f()()(),h(40,"div",8)(41,"label",23),g(42,"Entry Price"),f(),$(43,"input",24),f(),h(44,"div",8)(45,"label",25),g(46,"Stop Loss"),f(),$(47,"input",26),f(),h(48,"div",8)(49,"label",27),g(50,"Risk per trade (%)"),f(),$(51,"input",28),f(),h(52,"div",8)(53,"label",29),g(54,"R:R Ratio"),f(),$(55,"input",30),f()(),h(56,"div",7)(57,"div",8)(58,"label",31),g(59,"Account Balance ($)"),f(),$(60,"input",32),f(),h(61,"div",8)(62,"label",33),g(63,"Ticker"),f(),$(64,"input",34),f(),h(65,"div",8)(66,"label",35),g(67,"Type of Order"),f(),h(68,"select",36)(69,"option",13),g(70,"Select one"),f(),h(71,"option",37),g(72,"Market Execution"),f(),h(73,"option",38),g(74,"Limit Order"),f(),h(75,"option",39),g(76,"Stop Order"),f()()(),h(77,"div",8)(78,"label",40),g(79,"Exit Price"),f(),$(80,"input",41),f(),h(81,"div",8)(82,"label",42),g(83,"Take Profit"),f(),$(84,"input",43),f(),h(85,"div",8)(86,"label",44),g(87,"PnL (%)"),f(),$(88,"input",45),f()()(),h(89,"div",46)(90,"button",47),g(91),f(),h(92,"button",48),U("click",function(){return r.onCancel()}),g(93,"Cancel"),f()()()()),t&2){let i;y(2),Me(" ",r.tradeLogData?"Edit Post-Trading Journal":"New Post-Trading Journal"," "),y(2),M("ngIf",r.message),y(),M("ngIf",r.errorMessage),y(),M("formGroup",r.postTradeForm),y(7),M("ngIf",((i=r.postTradeForm.get("accountname"))==null?null:i.touched)&&((i=r.postTradeForm.get("accountname"))==null?null:i.invalid)),y(78),Me(" ",r.tradeLogData?"Update":"Submit"," ")}},dependencies:[Se,xe,Gn,Gt,Sc,Tc,Ze,ps,ji,yt,zt,yn,_n],styles:["*[_ngcontent-%COMP%]{color:#000}.container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;font-family:Arial,sans-serif;background:#fdfdfd;padding:1rem;border-radius:6px}h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem}.journal-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-bottom:1rem}.column[_ngcontent-%COMP%]{flex:1;min-width:250px;margin-right:1rem}.column[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-top:.5rem}.column[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .column[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:.4rem;margin-top:.25rem;box-sizing:border-box}.questionnaire-button[_ngcontent-%COMP%], .submit-button[_ngcontent-%COMP%]{background:#000;color:#fff;border:none;padding:.6rem 1rem;margin-top:1rem;cursor:pointer;border-radius:4px}.emotional-section[_ngcontent-%COMP%]{margin-top:1rem}.emotional-section[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-top:1rem}.emotional-section[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;min-height:60px;padding:.4rem;margin-top:.25rem;box-sizing:border-box}"],changeDetection:0})};function VA(e,n){e&1&&(h(0,"div",6),g(1,"Loading trade logs..."),f())}function UA(e,n){if(e&1&&(h(0,"div",7),g(1),f()),e&2){let t=H();y(),F(t.errorMessage)}}function $A(e,n){if(e&1){let t=Pe();h(0,"button",13),U("click",function(i){se(t);let o=H().$implicit,s=H(2);return ae(s.onDeleteTradeLog(o,i))}),g(1," Delete "),f()}}function BA(e,n){if(e&1){let t=Pe();h(0,"tr",11),U("click",function(){let i=se(t).$implicit,o=H(2);return ae(o.openEditModal(i))})("mouseenter",function(){let i=se(t).$implicit;return ae(i.showDelete=!0)})("mouseleave",function(){let i=se(t).$implicit;return ae(i.showDelete=!1)}),h(1,"td"),g(2),f(),h(3,"td"),g(4),f(),h(5,"td"),g(6),f(),h(7,"td"),g(8),f(),h(9,"td"),g(10),f(),h(11,"td"),g(12),f(),h(13,"td"),g(14),f(),h(15,"td"),g(16),f(),h(17,"td"),g(18),f(),h(19,"td"),g(20),f(),h(21,"td"),g(22),f(),h(23,"td"),g(24),f(),h(25,"td"),g(26),f(),h(27,"td"),g(28),il(29,"date"),f(),h(30,"td"),W(31,$A,2,0,"button",12),f()()}if(e&2){let t=n.$implicit;y(2),F(t.accountname),y(2),F(t.accountbalance),y(2),F(t.instrumenttype),y(2),F(t.ticker),y(2),F(t.analysistype),y(2),F(t.typeoforder),y(2),F(t.entryprice),y(2),F(t.exitprice),y(2),F(t.stoploss),y(2),F(t.takeprofit),y(2),F(t.risk),y(2),F(t.pnl),y(2),F(t.rrratio),y(2),F(ol(29,15,t.createdtime,"medium")),y(3),M("ngIf",t.showDelete)}}function HA(e,n){if(e&1&&(h(0,"table",8)(1,"thead",9)(2,"tr")(3,"th"),g(4,"Account Name"),f(),h(5,"th"),g(6,"Account Balance"),f(),h(7,"th"),g(8,"Instrument Type"),f(),h(9,"th"),g(10,"Ticker"),f(),h(11,"th"),g(12,"Analysis Type"),f(),h(13,"th"),g(14,"Type of Order"),f(),h(15,"th"),g(16,"Entry"),f(),h(17,"th"),g(18,"Exit"),f(),h(19,"th"),g(20,"Stop Loss"),f(),h(21,"th"),g(22,"Take Profit"),f(),h(23,"th"),g(24,"Risk"),f(),h(25,"th"),g(26,"PnL"),f(),h(27,"th"),g(28,"RR Ratio"),f(),h(29,"th"),g(30,"Created Time"),f(),h(31,"th"),g(32,"Actions"),f()()(),h(33,"tbody"),W(34,BA,32,18,"tr",10),f()()),e&2){let t=H();y(34),M("ngForOf",t.tradeLogs)}}function qA(e,n){e&1&&(h(0,"div",14),g(1," No trade logs found. "),f())}function zA(e,n){if(e&1){let t=Pe();h(0,"div",15)(1,"div",16)(2,"app-post-trade-log",17),U("formSubmitted",function(){se(t);let i=H();return ae(i.onFormSubmitted())})("cancel",function(){se(t);let i=H();return ae(i.closeModal())}),f()()()}if(e&2){let t=H();y(2),M("tradeLogData",t.selectedTradeLog)}}var Rc=class e{constructor(n,t){this.supabaseService=n;this.cdr=t}tableName="posttrade";tradeLogs=[];loading=!1;errorMessage="";showModal=!1;selectedTradeLog=null;async ngOnInit(){this.loading=!0,await this.fetchTradeLogs(),this.loading=!1,this.cdr.detectChanges()}async fetchTradeLogs(){try{this.tradeLogs=await this.supabaseService.getTradeLogs(this.tableName),this.cdr.detectChanges()}catch(n){console.error("Error fetching trade logs",n),this.errorMessage="Error fetching trade logs."}}openEditModal(n){this.selectedTradeLog=n,this.showModal=!0}onFormSubmitted(){this.fetchTradeLogs(),this.closeModal()}closeModal(){this.showModal=!1,this.selectedTradeLog=null}async onDeleteTradeLog(n,t){t.stopPropagation();try{await this.supabaseService.deleteTradeLog(n,this.tableName),await this.fetchTradeLogs()}catch(r){console.error("Error deleting trade log:",r),this.errorMessage="Error deleting trade log."}}static \u0275fac=function(t){return new(t||e)(b(ce),b(Ce))};static \u0275cmp=de({type:e,selectors:[["app-post-trade-table"]],decls:8,vars:5,consts:[[1,"container","mt-3"],["class","alert alert-info",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["class","table table-striped",4,"ngIf"],["class","alert alert-warning",4,"ngIf"],["class","modal-overlay",4,"ngIf"],[1,"alert","alert-info"],[1,"alert","alert-danger"],[1,"table","table-striped"],[1,"table-dark"],["style","cursor: pointer;",3,"click","mouseenter","mouseleave",4,"ngFor","ngForOf"],[2,"cursor","pointer",3,"click","mouseenter","mouseleave"],["class","btn btn-danger btn-sm",3,"click",4,"ngIf"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"alert","alert-warning"],[1,"modal-overlay"],[1,"modal-content"],[3,"formSubmitted","cancel","tradeLogData"]],template:function(t,r){t&1&&(h(0,"div",0)(1,"h2"),g(2,"Post Trade Logs"),f(),W(3,VA,2,0,"div",1)(4,UA,2,1,"div",2)(5,HA,35,1,"table",3)(6,qA,2,0,"div",4),f(),W(7,zA,3,1,"div",5)),t&2&&(y(3),M("ngIf",r.loading),y(),M("ngIf",r.errorMessage),y(),M("ngIf",r.tradeLogs&&r.tradeLogs.length),y(),M("ngIf",!r.loading&&(!r.tradeLogs||r.tradeLogs.length===0)),y(),M("ngIf",r.showModal))},dependencies:[Se,Pn,xe,wl,$i],encapsulation:2})};var GA=(e,n)=>({"alert-success":e,"alert-danger":n});function WA(e,n){if(e&1&&(h(0,"div",8),g(1),f()),e&2){let t=H();M("ngClass",rl(2,GA,t.messageType==="success",t.messageType==="error")),y(),Me(" ",t.message," ")}}function QA(e,n){if(e&1){let t=Pe();h(0,"tr",9)(1,"td")(2,"input",10),pr("ngModelChange",function(i){let o=se(t).$implicit;return ci(o.question_text,i)||(o.question_text=i),ae(i)}),U("change",function(){let i=se(t).$implicit,o=H();return ae(o.onQuestionChange(i))}),f(),h(3,"button",11),U("click",function(){let i=se(t).$implicit,o=H();return ae(o.deleteQuestion(i))}),g(4," Delete "),f()(),h(5,"td")(6,"div",12)(7,"input",13),pr("ngModelChange",function(i){let o=se(t).$implicit;return ci(o.active,i)||(o.active=i),ae(i)}),U("change",function(){let i=se(t).$implicit,o=H();return ae(o.onQuestionChange(i))}),f()()()()}if(e&2){let t=n.$implicit;y(2),hr("ngModel",t.question_text),y(5),hr("ngModel",t.active)}}var Oc=class e{constructor(n,t){this.cdr=n;this.supabaseService=t}questions=[];newQuestionText="";message="";messageType="success";async ngOnInit(){this.questions=await this.supabaseService.adminLoadQuestions(),this.cdr.markForCheck()}onQuestionChange(n){n.isModified=!0}addQuestion(){if(!this.newQuestionText.trim())return;let n={question_text:this.newQuestionText.trim(),active:!0,isModified:!0};this.questions.push(n),this.newQuestionText="",this.cdr.detectChanges()}async saveChanges(){let{error:n}=await this.supabaseService.adminSaveQuestions(this.questions);n?(console.error("Error saving questions:",n),this.showMessage("Error saving questions","error")):this.showMessage("Questions saved successfully","success"),this.cdr.detectChanges()}async deleteQuestion(n){if(!n.question_id){this.questions=this.questions.filter(r=>r!==n),this.showMessage("Question removed locally","success"),this.cdr.markForCheck();return}let{error:t}=await this.supabaseService.deleteQuestion(n);t?(console.error("Error deleting question:",t),this.showMessage("Error deleting question","error")):(this.questions=this.questions.filter(r=>r.question_id!==n.question_id),this.showMessage("Question deleted successfully","success")),this.cdr.markForCheck()}showMessage(n,t){this.message=n,this.messageType=t,setTimeout(()=>{this.message="",this.cdr.markForCheck()},4e3)}hasChanges(){return this.questions.some(n=>n.isModified)}static \u0275fac=function(t){return new(t||e)(b(Ce),b(ce))};static \u0275cmp=de({type:e,selectors:[["app-admin-emotion-dashboard"]],decls:21,vars:4,consts:[[1,"container","mt-4"],["class","alert",3,"ngClass",4,"ngIf"],[1,"table","table-bordered"],["class","question-row",4,"ngFor","ngForOf"],[1,"mb-3"],["type","text","placeholder","Enter question",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-primary","mt-2",3,"click"],[1,"btn","btn-success",3,"click","disabled"],[1,"alert",3,"ngClass"],[1,"question-row"],["type","text",1,"form-control",3,"ngModelChange","change","ngModel"],["type","button",1,"btn","btn-danger","btn-sm","delete-button",3,"click"],[1,"form-check","form-switch"],["type","checkbox",1,"form-check-input",3,"ngModelChange","change","ngModel"]],template:function(t,r){t&1&&(h(0,"div",0),W(1,WA,2,5,"div",1),h(2,"h1"),g(3,"Admin Dashboard - Manage Questions"),f(),h(4,"table",2)(5,"thead")(6,"tr")(7,"th"),g(8,"Question Text"),f(),h(9,"th"),g(10,"Active"),f()()(),h(11,"tbody"),W(12,QA,8,2,"tr",3),f()(),h(13,"div",4)(14,"h4"),g(15,"Add New Question"),f(),h(16,"input",5),pr("ngModelChange",function(o){return ci(r.newQuestionText,o)||(r.newQuestionText=o),o}),f(),h(17,"button",6),U("click",function(){return r.addQuestion()}),g(18,"Add Question"),f()(),h(19,"button",7),U("click",function(){return r.saveChanges()}),g(20,"Save Changes"),f()()),t&2&&(y(),M("ngIf",r.message),y(11),M("ngForOf",r.questions),y(4),hr("ngModel",r.newQuestionText),y(3),M("disabled",!r.hasChanges()))},dependencies:[Mc,Ze,Rh,yt,hs,Se,_l,Pn,xe],styles:[".container[_ngcontent-%COMP%]{max-width:800px;margin:auto}.question-row[_ngcontent-%COMP%]{position:relative}.delete-button[_ngcontent-%COMP%]{display:none;position:absolute;right:10px;top:50%;transform:translateY(-50%)}.question-row[_ngcontent-%COMP%]:hover   .delete-button[_ngcontent-%COMP%]{display:block}.alert[_ngcontent-%COMP%]{padding:10px 20px;margin-bottom:15px;border-radius:4px;text-align:center}"]})};var ZA=(e,n)=>({"alert-success":e,"alert-danger":n});function YA(e,n){if(e&1&&(h(0,"div",4),g(1),f()),e&2){let t=H();M("ngClass",rl(2,ZA,t.messageType==="success",t.messageType==="error")),y(),Me(" ",t.message," ")}}function JA(e,n){if(e&1){let t=Pe();h(0,"div",5)(1,"label",6),g(2),f(),h(3,"textarea",7),pr("ngModelChange",function(i){let o=se(t).$implicit;return ci(o.answer,i)||(o.answer=i),ae(i)}),g(4,"        "),f()()}if(e&2){let t=n.$implicit;y(2),F(t.question_text),y(),Hd("name",t.question_id),hr("ngModel",t.answer)}}var kc=class e{constructor(n,t,r){this.supabaseService=n;this.cdr=t;this.router=r}questions=[];message="";messageType="success";ngOnInit(){this.loadQuestions()}async loadQuestions(){let{data:n,error:t}=await this.supabaseService.getActiveQuestions();t?(console.error("Error loading questions:",t),this.message="Error loading questions.",this.messageType="error"):n&&(this.questions=n),this.cdr.markForCheck()}allQuestionsAnswered(){return this.questions.every(n=>n.answer&&n.answer.trim().length>0)}async submitAnswers(){if(!this.allQuestionsAnswered()){this.message="Please answer all questions before submitting.",this.messageType="error",this.cdr.markForCheck();return}let n=this.supabaseService.user()?.id;if(!n){this.message="User not authenticated.",this.messageType="error",this.cdr.markForCheck();return}let t=this.questions.map(i=>({question_id:i.question_id,answer:i.answer.trim(),user_id:n})),{error:r}=await this.supabaseService.submitUserAnswers(t);r?(console.error("Error submitting answers:",r),this.message="Error submitting answers.",this.messageType="error"):(this.message="Answers submitted successfully. redirecting in 5 seconds.",this.messageType="success"),this.cdr.markForCheck(),setTimeout(()=>{this.router.navigateByUrl("/home")},5e3)}static \u0275fac=function(t){return new(t||e)(b(ce),b(Ce),b(Ue))};static \u0275cmp=de({type:e,selectors:[["app-user-emotion-questionnaire"]],decls:8,vars:3,consts:[[1,"container","mt-4"],["class","alert",3,"ngClass",4,"ngIf"],["class","mb-3",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-primary",3,"click","disabled"],[1,"alert",3,"ngClass"],[1,"mb-3"],[1,"form-label"],["rows","3","placeholder","Type your answer here...",1,"form-control",3,"ngModelChange","ngModel","name"]],template:function(t,r){t&1&&(h(0,"div",0),W(1,YA,2,5,"div",1),h(2,"h1"),g(3,"User Emotion Questionnaire"),f(),h(4,"form"),W(5,JA,5,3,"div",2),h(6,"button",3),U("click",function(){return r.submitAnswers()}),g(7," Submit Answers "),f()()()),t&2&&(y(),M("ngIf",r.message),y(4),M("ngForOf",r.questions),y(),M("disabled",!r.allQuestionsAnswered()))},dependencies:[Mc,Gt,Ze,yt,zt,hs,jh,Se,_l,Pn,xe],styles:[".container[_ngcontent-%COMP%]{max-width:800px;margin:auto}.alert[_ngcontent-%COMP%]{margin-bottom:20px;text-align:center}h1[_ngcontent-%COMP%]{margin-bottom:20px}"]})};var F_=[{path:"",component:xc,canActivate:[gs]},{path:"signup",component:Ac,canActivate:[gs]},{path:"home",component:hc,canActivate:[Wt]},{path:"pretrades",component:Nc,canActivate:[Wt]},{path:"pretradelog",component:Ui,canActivate:[Wt]},{path:"posttrades",component:Rc,canActivate:[Wt]},{path:"posttradelog",component:$i,canActivate:[Wt]},{path:"emotions",component:kc,canActivate:[Wt]},{path:"admin/emotionquestion",component:Oc,canActivate:[Wt]},{path:"**",redirectTo:""}];var L_={providers:[Mv(),Xy(F_),oy(sy())]};function KA(e,n){if(e&1){let t=Pe();$d(0),h(1,"li",8)(2,"a",9),g(3,"Home"),f()(),h(4,"li",8)(5,"a",10),g(6,"PreTrades"),f()(),h(7,"li",8)(8,"a",11),g(9,"PostTrades"),f()(),h(10,"li",12)(11,"span",13),g(12),f()(),h(13,"li",12)(14,"button",14),U("click",function(){se(t);let i=H();return ae(i.logOut())}),g(15,"Logout"),f()(),Bd()}if(e&2){let t=H();y(12),Me("Welcome, ",t.supabaseService.currentUsername(),"!")}}var Pc=class e{constructor(n,t){this.supabaseService=n;this.router=t;this.loginStatus=On(()=>n.loginStatus())}loginStatus;async logOut(){await this.supabaseService.signOut(),this.router.navigateByUrl("/")}static \u0275fac=function(t){return new(t||e)(b(ce),b(Ue))};static \u0275cmp=de({type:e,selectors:[["app-navbar"]],decls:9,vars:1,consts:[[1,"navbar","navbar-expand-md"],[1,"container"],["routerLink","/home",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto"],[4,"ngIf"],[1,"nav-item"],["routerLink","/home",1,"nav-link"],["routerLink","/pretrades",1,"nav-link"],["routerLink","/posttrades",1,"nav-link"],[1,"nav-item","d-flex","align-items-center"],[1,"nav-link","mb-0"],[1,"btn","btn-link","nav-link",3,"click"]],template:function(t,r){t&1&&(h(0,"nav",0)(1,"div",1)(2,"a",2),g(3,"TR Landing"),f(),h(4,"button",3),$(5,"span",4),f(),h(6,"div",5)(7,"ul",6),W(8,KA,16,1,"ng-container",7),f()()()()),t&2&&(y(8),M("ngIf",r.loginStatus()))},dependencies:[bi,Se,xe],styles:["*[_ngcontent-%COMP%]{color:#fff}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:transparent}"]})};var Fc=class e{title="TR-prototype";static \u0275fac=function(t){return new(t||e)};static \u0275cmp=de({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(t,r){t&1&&$(0,"app-navbar")(1,"router-outlet")},dependencies:[Zf,Pc],encapsulation:2})};my(Fc,L_).catch(e=>console.error(e));
