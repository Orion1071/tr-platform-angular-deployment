import{b as cp,c as up,f as Cb,g as dp}from"./chunk-EA6DTDFA.js";import{a as S,b as q,d as en,f as Db,g as Eb}from"./chunk-WMVSLYLA.js";var Sh=en(Ch=>{"use strict";Object.defineProperty(Ch,"__esModule",{value:!0});var Eh=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}};Ch.default=Eh});var Th=en(cs=>{"use strict";var F0=cs&&cs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cs,"__esModule",{value:!0});var O1=F0((dp(),Eb(Cb))),P1=F0(Sh()),Ih=class{constructor(n){this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=n.headers,this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=n.shouldThrowOnError,this.signal=n.signal,this.isMaybeSingle=n.isMaybeSingle,n.fetch?this.fetch=n.fetch:typeof fetch>"u"?this.fetch=O1.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,t){return this.headers=Object.assign({},this.headers),this.headers[n]=t,this}then(n,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var s,a,l;let c=null,u=null,p=null,g=o.status,m=o.statusText;if(o.ok){if(this.method!=="HEAD"){let T=await o.text();T===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=T:u=JSON.parse(T))}let b=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),D=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");b&&D&&D.length>1&&(p=parseInt(D[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,p=null,g=406,m="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{let b=await o.text();try{c=JSON.parse(b),Array.isArray(c)&&o.status===404&&(u=[],c=null,g=200,m="OK")}catch{o.status===404&&b===""?(g=204,m="No Content"):c={message:b}}if(c&&this.isMaybeSingle&&(!((l=c?.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,g=200,m="OK"),c&&this.shouldThrowOnError)throw new P1.default(c)}return{error:c,data:u,count:p,status:g,statusText:m}});return this.shouldThrowOnError||(i=i.catch(o=>{var s,a,l;return{error:{message:`${(s=o?.name)!==null&&s!==void 0?s:"FetchError"}: ${o?.message}`,details:`${(a=o?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=o?.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(n,t)}};cs.default=Ih});var Mh=en(us=>{"use strict";var F1=us&&us.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(us,"__esModule",{value:!0});var L1=F1(Th()),xh=class extends L1.default{select(n){let t=!1,r=(n??"*").split("").map(i=>/\s/.test(i)&&!t?"":(i==='"'&&(t=!t),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:t=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){let s=o?`${o}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${n}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:t,referencedTable:r=t}={}){let i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${n}`),this}range(n,t,{foreignTable:r,referencedTable:i=r}={}){let o=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${n}`),this.url.searchParams.set(s,`${t-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:t=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){var a;let l=[n?"analyze":null,t?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`,s==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};us.default=xh});var hc=en(ds=>{"use strict";var j1=ds&&ds.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ds,"__esModule",{value:!0});var V1=j1(Mh()),Ah=class extends V1.default{eq(n,t){return this.url.searchParams.append(n,`eq.${t}`),this}neq(n,t){return this.url.searchParams.append(n,`neq.${t}`),this}gt(n,t){return this.url.searchParams.append(n,`gt.${t}`),this}gte(n,t){return this.url.searchParams.append(n,`gte.${t}`),this}lt(n,t){return this.url.searchParams.append(n,`lt.${t}`),this}lte(n,t){return this.url.searchParams.append(n,`lte.${t}`),this}like(n,t){return this.url.searchParams.append(n,`like.${t}`),this}likeAllOf(n,t){return this.url.searchParams.append(n,`like(all).{${t.join(",")}}`),this}likeAnyOf(n,t){return this.url.searchParams.append(n,`like(any).{${t.join(",")}}`),this}ilike(n,t){return this.url.searchParams.append(n,`ilike.${t}`),this}ilikeAllOf(n,t){return this.url.searchParams.append(n,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(n,t){return this.url.searchParams.append(n,`ilike(any).{${t.join(",")}}`),this}is(n,t){return this.url.searchParams.append(n,`is.${t}`),this}in(n,t){let r=Array.from(new Set(t)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(n,`in.(${r})`),this}contains(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cs.{${t.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(t)}`),this}containedBy(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cd.{${t.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(t)}`),this}rangeGt(n,t){return this.url.searchParams.append(n,`sr.${t}`),this}rangeGte(n,t){return this.url.searchParams.append(n,`nxl.${t}`),this}rangeLt(n,t){return this.url.searchParams.append(n,`sl.${t}`),this}rangeLte(n,t){return this.url.searchParams.append(n,`nxr.${t}`),this}rangeAdjacent(n,t){return this.url.searchParams.append(n,`adj.${t}`),this}overlaps(n,t){return typeof t=="string"?this.url.searchParams.append(n,`ov.${t}`):this.url.searchParams.append(n,`ov.{${t.join(",")}}`),this}textSearch(n,t,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(n,`${o}fts${s}.${t}`),this}match(n){return Object.entries(n).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(n,t,r){return this.url.searchParams.append(n,`not.${t}.${r}`),this}or(n,{foreignTable:t,referencedTable:r=t}={}){let i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${n})`),this}filter(n,t,r){return this.url.searchParams.append(n,`${t}.${r}`),this}};ds.default=Ah});var Rh=en(hs=>{"use strict";var U1=hs&&hs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hs,"__esModule",{value:!0});var fs=U1(hc()),Nh=class{constructor(n,{headers:t={},schema:r,fetch:i}){this.url=n,this.headers=t,this.schema=r,this.fetch=i}select(n,{head:t=!1,count:r}={}){let i=t?"HEAD":"GET",o=!1,s=(n??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new fs.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:t,defaultToNull:r=!0}={}){let i="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),t&&o.push(`count=${t}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(n)){let s=n.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(s.length>0){let a=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new fs.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:t,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){let s="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(n)){let l=n.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){let c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new fs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:t}={}){let r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),t&&i.push(`count=${t}`),this.headers.Prefer=i.join(","),new fs.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){let t="DELETE",r=[];return n&&r.push(`count=${n}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new fs.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};hs.default=Nh});var L0=en(pc=>{"use strict";Object.defineProperty(pc,"__esModule",{value:!0});pc.version=void 0;pc.version="0.0.0-automated"});var j0=en(mc=>{"use strict";Object.defineProperty(mc,"__esModule",{value:!0});mc.DEFAULT_HEADERS=void 0;var $1=L0();mc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${$1.version}`}});var U0=en(ps=>{"use strict";var V0=ps&&ps.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ps,"__esModule",{value:!0});var B1=V0(Rh()),H1=V0(hc()),q1=j0(),kh=class e{constructor(n,{headers:t={},schema:r,fetch:i}={}){this.url=n,this.headers=Object.assign(Object.assign({},q1.DEFAULT_HEADERS),t),this.schemaName=r,this.fetch=i}from(n){let t=new URL(`${this.url}/${n}`);return new B1.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new e(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,t={},{head:r=!1,get:i=!1,count:o}={}){let s,a=new URL(`${this.url}/rpc/${n}`),l;r||i?(s=r?"HEAD":"GET",Object.entries(t).filter(([u,p])=>p!==void 0).map(([u,p])=>[u,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([u,p])=>{a.searchParams.append(u,p)})):(s="POST",l=t);let c=Object.assign({},this.headers);return o&&(c.Prefer=`count=${o}`),new H1.default({method:s,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};ps.default=kh});var W0=en(Le=>{"use strict";var Fi=Le&&Le.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Le,"__esModule",{value:!0});Le.PostgrestError=Le.PostgrestBuilder=Le.PostgrestTransformBuilder=Le.PostgrestFilterBuilder=Le.PostgrestQueryBuilder=Le.PostgrestClient=void 0;var $0=Fi(U0());Le.PostgrestClient=$0.default;var B0=Fi(Rh());Le.PostgrestQueryBuilder=B0.default;var H0=Fi(hc());Le.PostgrestFilterBuilder=H0.default;var q0=Fi(Mh());Le.PostgrestTransformBuilder=q0.default;var z0=Fi(Th());Le.PostgrestBuilder=z0.default;var G0=Fi(Sh());Le.PostgrestError=G0.default;Le.default={PostgrestClient:$0.default,PostgrestQueryBuilder:B0.default,PostgrestFilterBuilder:H0.default,PostgrestTransformBuilder:q0.default,PostgrestBuilder:z0.default,PostgrestError:G0.default}});function hp(e,n){return Object.is(e,n)}var Ee=null,oo=!1,iu=1,Ge=Symbol("SIGNAL");function X(e){let n=Ee;return Ee=e,n}function pp(){return Ee}function Sb(){return oo}var tr={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function zs(e){if(oo)throw new Error("");if(Ee===null)return;Ee.consumerOnSignalRead(e);let n=Ee.nextProducerIndex++;if(Ws(Ee),n<Ee.producerNode.length&&Ee.producerNode[n]!==e&&so(Ee)){let t=Ee.producerNode[n];Gs(t,Ee.producerIndexOfThis[n])}Ee.producerNode[n]!==e&&(Ee.producerNode[n]=e,Ee.producerIndexOfThis[n]=so(Ee)?_p(e,Ee,n):0),Ee.producerLastReadVersion[n]=e.version}function Ib(){iu++}function mp(e){if(!(so(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===iu)){if(!e.producerMustRecompute(e)&&!lo(e)){fp(e);return}e.producerRecomputeValue(e),fp(e)}}function gp(e){if(e.liveConsumerNode===void 0)return;let n=oo;oo=!0;try{for(let t of e.liveConsumerNode)t.dirty||yp(t)}finally{oo=n}}function vp(){return Ee?.consumerAllowSignalWrites!==!1}function yp(e){e.dirty=!0,gp(e),e.consumerMarkedDirty?.(e)}function fp(e){e.dirty=!1,e.lastCleanEpoch=iu}function Hr(e){return e&&(e.nextProducerIndex=0),X(e)}function ao(e,n){if(X(n),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(so(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)Gs(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function lo(e){Ws(e);for(let n=0;n<e.producerNode.length;n++){let t=e.producerNode[n],r=e.producerLastReadVersion[n];if(r!==t.version||(mp(t),r!==t.version))return!0}return!1}function qr(e){if(Ws(e),so(e))for(let n=0;n<e.producerNode.length;n++)Gs(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function _p(e,n,t){if(bp(e),e.liveConsumerNode.length===0&&wp(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=_p(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(t),e.liveConsumerNode.push(n)-1}function Gs(e,n){if(bp(e),e.liveConsumerNode.length===1&&wp(e))for(let r=0;r<e.producerNode.length;r++)Gs(e.producerNode[r],e.producerIndexOfThis[r]);let t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[n],i=e.liveConsumerNode[n];Ws(i),i.producerIndexOfThis[r]=n}}function so(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Ws(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function bp(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function wp(e){return e.producerNode!==void 0}function Dp(e){let n=Object.create(Tb);n.computation=e;let t=()=>{if(mp(n),zs(n),n.value===qs)throw n.error;return n.value};return t[Ge]=n,t}var tu=Symbol("UNSET"),nu=Symbol("COMPUTING"),qs=Symbol("ERRORED"),Tb=q(S({},tr),{value:tu,dirty:!0,error:null,equal:hp,kind:"computed",producerMustRecompute(e){return e.value===tu||e.value===nu},producerRecomputeValue(e){if(e.value===nu)throw new Error("Detected cycle in computations.");let n=e.value;e.value=nu;let t=Hr(e),r,i=!1;try{r=e.computation(),X(null),i=n!==tu&&n!==qs&&r!==qs&&e.equal(n,r)}catch(o){r=qs,e.error=o}finally{ao(e,t)}if(i){e.value=n;return}e.value=r,e.version++}});function xb(){throw new Error}var Ep=xb;function Cp(){Ep()}function Sp(e){Ep=e}var Mb=null;function Ip(e){let n=Object.create(ou);n.value=e;let t=()=>(zs(n),n.value);return t[Ge]=n,t}function Qs(e,n){vp()||Cp(),e.equal(e.value,n)||(e.value=n,Ab(e))}function Tp(e,n){vp()||Cp(),Qs(e,n(e.value))}var ou=q(S({},tr),{equal:hp,value:void 0,kind:"signal"});function Ab(e){e.version++,Ib(),gp(e),Mb?.()}function xp(e,n,t){let r=Object.create(Nb);t&&(r.consumerAllowSignalWrites=!0),r.fn=e,r.schedule=n;let i=l=>{r.cleanupFn=l};function o(l){return l.fn===null&&l.schedule===null}function s(l){o(l)||(qr(l),l.cleanupFn(),l.fn=null,l.schedule=null,l.cleanupFn=ru)}let a=()=>{if(r.fn===null)return;if(Sb())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!lo(r))return;r.hasRun=!0;let l=Hr(r);try{r.cleanupFn(),r.cleanupFn=ru,r.fn(i)}finally{ao(r,l)}};return r.ref={notify:()=>yp(r),run:a,cleanup:()=>r.cleanupFn(),destroy:()=>s(r),[Ge]:r},r.ref}var ru=()=>{},Nb=q(S({},tr),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule!==null&&e.schedule(e.ref)},hasRun:!1,cleanupFn:ru});function j(e){return typeof e=="function"}function zr(e){let t=e(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Zs=zr(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function co(e,n){if(e){let t=e.indexOf(n);0<=t&&e.splice(t,1)}}var ve=class e{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(j(r))try{r()}catch(o){n=o instanceof Zs?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Mp(o)}catch(s){n=n??[],s instanceof Zs?n=[...n,...s.errors]:n.push(s)}}if(n)throw new Zs(n)}}add(n){var t;if(n&&n!==this)if(this.closed)Mp(n);else{if(n instanceof e){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(n)}}_hasParent(n){let{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){let{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&co(t,n)}remove(n){let{_finalizers:t}=this;t&&co(t,n),n instanceof e&&n._removeParent(this)}};ve.EMPTY=(()=>{let e=new ve;return e.closed=!0,e})();var su=ve.EMPTY;function Ys(e){return e instanceof ve||e&&"closed"in e&&j(e.remove)&&j(e.add)&&j(e.unsubscribe)}function Mp(e){j(e)?e():e.unsubscribe()}var It={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Gr={setTimeout(e,n,...t){let{delegate:r}=Gr;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){let{delegate:n}=Gr;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Js(e){Gr.setTimeout(()=>{let{onUnhandledError:n}=It;if(n)n(e);else throw e})}function uo(){}var Ap=au("C",void 0,void 0);function Np(e){return au("E",void 0,e)}function Rp(e){return au("N",e,void 0)}function au(e,n,t){return{kind:e,value:n,error:t}}var nr=null;function Wr(e){if(It.useDeprecatedSynchronousErrorHandling){let n=!nr;if(n&&(nr={errorThrown:!1,error:null}),e(),n){let{errorThrown:t,error:r}=nr;if(nr=null,t)throw r}}else e()}function kp(e){It.useDeprecatedSynchronousErrorHandling&&nr&&(nr.errorThrown=!0,nr.error=e)}var rr=class extends ve{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Ys(n)&&n.add(this)):this.destination=Ob}static create(n,t,r){return new Qr(n,t,r)}next(n){this.isStopped?cu(Rp(n),this):this._next(n)}error(n){this.isStopped?cu(Np(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?cu(Ap,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Rb=Function.prototype.bind;function lu(e,n){return Rb.call(e,n)}var uu=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){Ks(r)}}error(n){let{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){Ks(r)}else Ks(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){Ks(t)}}},Qr=class extends rr{constructor(n,t,r){super();let i;if(j(n)||!n)i={next:n??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&It.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&lu(n.next,o),error:n.error&&lu(n.error,o),complete:n.complete&&lu(n.complete,o)}):i=n}this.destination=new uu(i)}};function Ks(e){It.useDeprecatedSynchronousErrorHandling?kp(e):Js(e)}function kb(e){throw e}function cu(e,n){let{onStoppedNotification:t}=It;t&&Gr.setTimeout(()=>t(e,n))}var Ob={closed:!0,next:uo,error:kb,complete:uo};var Zr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function tt(e){return e}function du(...e){return fu(e)}function fu(e){return e.length===0?tt:e.length===1?e[0]:function(t){return e.reduce((r,i)=>i(r),t)}}var ee=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=Fb(t)?t:new Qr(t,r,i);return Wr(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=Op(r),new r((i,o)=>{let s=new Qr({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Zr](){return this}pipe(...t){return fu(t)(this)}toPromise(t){return t=Op(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=n=>new e(n),e})();function Op(e){var n;return(n=e??It.Promise)!==null&&n!==void 0?n:Promise}function Pb(e){return e&&j(e.next)&&j(e.error)&&j(e.complete)}function Fb(e){return e&&e instanceof rr||Pb(e)&&Ys(e)}function hu(e){return j(e?.lift)}function te(e){return n=>{if(hu(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function K(e,n,t,r,i){return new pu(e,n,t,r,i)}var pu=class extends rr{constructor(n,t,r,i,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){n.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function Yr(){return te((e,n)=>{let t=null;e._refCount++;let r=K(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){t=null;return}let i=e._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}var Jr=class extends ee{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,hu(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new ve;let t=this.getSubject();n.add(this.source.subscribe(K(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=ve.EMPTY)}return n}refCount(){return Yr()(this)}};var Pp=zr(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ce=(()=>{class e extends ee{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Xs(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Pp}next(t){Wr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Wr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Wr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?su:(this.currentObservers=null,o.push(t),new ve(()=>{this.currentObservers=null,co(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new ee;return t.source=this,t}}return e.create=(n,t)=>new Xs(n,t),e})(),Xs=class extends Ce{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,n)}error(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,n)}complete(){var n,t;(t=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||t===void 0||t.call(n)}_subscribe(n){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(n))!==null&&r!==void 0?r:su}};var Re=class extends Ce{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){let{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}};var We=new ee(e=>e.complete());function Fp(e){return e&&j(e.schedule)}function Lp(e){return e[e.length-1]}function ea(e){return j(Lp(e))?e.pop():void 0}function Mn(e){return Fp(Lp(e))?e.pop():void 0}function Vp(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(p){s(p)}}function l(u){try{c(r.throw(u))}catch(p){s(p)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})}function jp(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function ir(e){return this instanceof ir?(this.v=e,this):new ir(e)}function Up(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(e,n||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(m){return function(y){return Promise.resolve(y).then(m,p)}}function a(m,y){r[m]&&(i[m]=function(b){return new Promise(function(D,T){o.push([m,b,D,T])>1||l(m,b)})},y&&(i[m]=y(i[m])))}function l(m,y){try{c(r[m](y))}catch(b){g(o[0][3],b)}}function c(m){m.value instanceof ir?Promise.resolve(m.value.v).then(u,p):g(o[0][2],m)}function u(m){l("next",m)}function p(m){l("throw",m)}function g(m,y){m(y),o.shift(),o.length&&l(o[0][0],o[0][1])}}function $p(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],t;return n?n.call(e):(e=typeof jp=="function"?jp(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=e[o]&&function(s){return new Promise(function(a,l){s=e[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var ta=e=>e&&typeof e.length=="number"&&typeof e!="function";function na(e){return j(e?.then)}function ra(e){return j(e[Zr])}function ia(e){return Symbol.asyncIterator&&j(e?.[Symbol.asyncIterator])}function oa(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Lb(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var sa=Lb();function aa(e){return j(e?.[sa])}function la(e){return Up(this,arguments,function*(){let t=e.getReader();try{for(;;){let{value:r,done:i}=yield ir(t.read());if(i)return yield ir(void 0);yield yield ir(r)}}finally{t.releaseLock()}})}function ca(e){return j(e?.getReader)}function ye(e){if(e instanceof ee)return e;if(e!=null){if(ra(e))return jb(e);if(ta(e))return Vb(e);if(na(e))return Ub(e);if(ia(e))return Bp(e);if(aa(e))return $b(e);if(ca(e))return Bb(e)}throw oa(e)}function jb(e){return new ee(n=>{let t=e[Zr]();if(j(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Vb(e){return new ee(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}function Ub(e){return new ee(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,Js)})}function $b(e){return new ee(n=>{for(let t of e)if(n.next(t),n.closed)return;n.complete()})}function Bp(e){return new ee(n=>{Hb(e,n).catch(t=>n.error(t))})}function Bb(e){return Bp(la(e))}function Hb(e,n){var t,r,i,o;return Vp(this,void 0,void 0,function*(){try{for(t=$p(e);r=yield t.next(),!r.done;){let s=r.value;if(n.next(s),n.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}n.complete()})}function Qe(e,n,t,r=0,i=!1){let o=n.schedule(function(){t(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function ua(e,n=0){return te((t,r)=>{t.subscribe(K(r,i=>Qe(r,e,()=>r.next(i),n),()=>Qe(r,e,()=>r.complete(),n),i=>Qe(r,e,()=>r.error(i),n)))})}function da(e,n=0){return te((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function Hp(e,n){return ye(e).pipe(da(n),ua(n))}function qp(e,n){return ye(e).pipe(da(n),ua(n))}function zp(e,n){return new ee(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}function Gp(e,n){return new ee(t=>{let r;return Qe(t,n,()=>{r=e[sa](),Qe(t,n,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>j(r?.return)&&r.return()})}function fa(e,n){if(!e)throw new Error("Iterable cannot be null");return new ee(t=>{Qe(t,n,()=>{let r=e[Symbol.asyncIterator]();Qe(t,n,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Wp(e,n){return fa(la(e),n)}function Qp(e,n){if(e!=null){if(ra(e))return Hp(e,n);if(ta(e))return zp(e,n);if(na(e))return qp(e,n);if(ia(e))return fa(e,n);if(aa(e))return Gp(e,n);if(ca(e))return Wp(e,n)}throw oa(e)}function fe(e,n){return n?Qp(e,n):ye(e)}function F(...e){let n=Mn(e);return fe(e,n)}function Kr(e,n){let t=j(e)?e:()=>e,r=i=>i.error(t());return new ee(n?i=>n.schedule(r,0,i):r)}function mu(e){return!!e&&(e instanceof ee||j(e.lift)&&j(e.subscribe))}var tn=zr(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function B(e,n){return te((t,r)=>{let i=0;t.subscribe(K(r,o=>{r.next(e.call(n,o,i++))}))})}var{isArray:qb}=Array;function zb(e,n){return qb(n)?e(...n):e(n)}function ha(e){return B(n=>zb(e,n))}var{isArray:Gb}=Array,{getPrototypeOf:Wb,prototype:Qb,keys:Zb}=Object;function pa(e){if(e.length===1){let n=e[0];if(Gb(n))return{args:n,keys:null};if(Yb(n)){let t=Zb(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}function Yb(e){return e&&typeof e=="object"&&Wb(e)===Qb}function ma(e,n){return e.reduce((t,r,i)=>(t[r]=n[i],t),{})}function ga(...e){let n=Mn(e),t=ea(e),{args:r,keys:i}=pa(e);if(r.length===0)return fe([],n);let o=new ee(Jb(r,n,i?s=>ma(i,s):tt));return t?o.pipe(ha(t)):o}function Jb(e,n,t=tt){return r=>{Zp(n,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)Zp(n,()=>{let c=fe(e[l],n),u=!1;c.subscribe(K(r,p=>{o[l]=p,u||(u=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Zp(e,n,t){e?Qe(t,e,n):n()}function Yp(e,n,t,r,i,o,s,a){let l=[],c=0,u=0,p=!1,g=()=>{p&&!l.length&&!c&&n.complete()},m=b=>c<r?y(b):l.push(b),y=b=>{o&&n.next(b),c++;let D=!1;ye(t(b,u++)).subscribe(K(n,T=>{i?.(T),o?m(T):n.next(T)},()=>{D=!0},void 0,()=>{if(D)try{for(c--;l.length&&c<r;){let T=l.shift();s?Qe(n,s,()=>y(T)):y(T)}g()}catch(T){n.error(T)}}))};return e.subscribe(K(n,m,()=>{p=!0,g()})),()=>{a?.()}}function Se(e,n,t=1/0){return j(n)?Se((r,i)=>B((o,s)=>n(r,o,i,s))(ye(e(r,i))),t):(typeof n=="number"&&(t=n),te((r,i)=>Yp(r,i,e,t)))}function gu(e=1/0){return Se(tt,e)}function Jp(){return gu(1)}function Xr(...e){return Jp()(fe(e,Mn(e)))}function va(e){return new ee(n=>{ye(e()).subscribe(n)})}function vu(...e){let n=ea(e),{args:t,keys:r}=pa(e),i=new ee(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let p=!1;ye(t[u]).subscribe(K(o,g=>{p||(p=!0,c--),a[u]=g},()=>l--,void 0,()=>{(!l||!p)&&(c||o.next(r?ma(r,a):a),o.complete())}))}});return n?i.pipe(ha(n)):i}function nt(e,n){return te((t,r)=>{let i=0;t.subscribe(K(r,o=>e.call(n,o,i++)&&r.next(o)))})}function An(e){return te((n,t)=>{let r=null,i=!1,o;r=n.subscribe(K(t,void 0,void 0,s=>{o=ye(e(s,An(e)(n))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Kp(e,n,t,r,i){return(o,s)=>{let a=t,l=n,c=0;o.subscribe(K(s,u=>{let p=c++;l=a?e(l,u,p):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function Nn(e,n){return j(n)?Se(e,n,1):Se(e,1)}function Rn(e){return te((n,t)=>{let r=!1;n.subscribe(K(t,i=>{r=!0,t.next(i)},()=>{r||t.next(e),t.complete()}))})}function nn(e){return e<=0?()=>We:te((n,t)=>{let r=0;n.subscribe(K(t,i=>{++r<=e&&(t.next(i),e<=r&&t.complete())}))})}function ya(e=Kb){return te((n,t)=>{let r=!1;n.subscribe(K(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(e())))})}function Kb(){return new tn}function or(e){return te((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function rn(e,n){let t=arguments.length>=2;return r=>r.pipe(e?nt((i,o)=>e(i,o,r)):tt,nn(1),t?Rn(n):ya(()=>new tn))}function ei(e){return e<=0?()=>We:te((n,t)=>{let r=[];n.subscribe(K(t,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function yu(e,n){let t=arguments.length>=2;return r=>r.pipe(e?nt((i,o)=>e(i,o,r)):tt,ei(1),t?Rn(n):ya(()=>new tn))}function _u(e,n){return te(Kp(e,n,arguments.length>=2,!0))}function bu(...e){let n=Mn(e);return te((t,r)=>{(n?Xr(e,t,n):Xr(e,t)).subscribe(r)})}function rt(e,n){return te((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(K(r,l=>{i?.unsubscribe();let c=0,u=o++;ye(e(l,u)).subscribe(i=K(r,p=>r.next(n?n(l,p,u,c++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function wu(e){return te((n,t)=>{ye(e).subscribe(K(t,()=>t.complete(),uo)),!t.closed&&n.subscribe(t)})}function Me(e,n,t){let r=j(e)||n||t?{next:e,error:n,complete:t}:e;return r?te((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(K(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):tt}var Fm="https://g.co/ng/security#xss",x=class extends Error{code;constructor(n,t){super(il(n,t)),this.code=n}};function il(e,n){return`${`NG0${Math.abs(e)}`}${n?": "+n:""}`}var Lm=Symbol("InputSignalNode#UNSET"),Xb=q(S({},ou),{transformFn:void 0,applyValueToInputSignal(e,n){Qs(e,n)}});function jm(e,n){let t=Object.create(Xb);t.value=e,t.transformFn=n?.transform;function r(){if(zs(t),t.value===Lm)throw new x(-950,!1);return t.value}return r[Ge]=t,r}function Co(e){return{toString:e}.toString()}var _a="__parameters__";function ew(e){return function(...t){if(e){let r=e(...t);for(let i in r)this[i]=r[i]}}}function Vm(e,n,t){return Co(()=>{let r=ew(n);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,c,u){let p=l.hasOwnProperty(_a)?l[_a]:Object.defineProperty(l,_a,{value:[]})[_a];for(;p.length<=u;)p.push(null);return(p[u]=p[u]||[]).push(s),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var ar=globalThis;function se(e){for(let n in e)if(e[n]===se)return n;throw Error("Could not find renamed property on target object.")}function tw(e,n){for(let t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function $e(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map($e).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let n=e.toString();if(n==null)return""+n;let t=n.indexOf(`
`);return t===-1?n:n.substring(0,t)}function Ou(e,n){return e==null||e===""?n===null?"":n:n==null||n===""?e:e+" "+n}var nw=se({__forward_ref__:se});function He(e){return e.__forward_ref__=He,e.toString=function(){return $e(this())},e}function Ue(e){return Um(e)?e():e}function Um(e){return typeof e=="function"&&e.hasOwnProperty(nw)&&e.__forward_ref__===He}function M(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function fn(e){return{providers:e.providers||[],imports:e.imports||[]}}function ol(e){return Xp(e,Bm)||Xp(e,Hm)}function $m(e){return ol(e)!==null}function Xp(e,n){return e.hasOwnProperty(n)?e[n]:null}function rw(e){let n=e&&(e[Bm]||e[Hm]);return n||null}function em(e){return e&&(e.hasOwnProperty(tm)||e.hasOwnProperty(iw))?e[tm]:null}var Bm=se({\u0275prov:se}),tm=se({\u0275inj:se}),Hm=se({ngInjectableDef:se}),iw=se({ngInjectorDef:se}),N=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,t){this._desc=n,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=M({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function qm(e){return e&&!!e.\u0275providers}var ow=se({\u0275cmp:se}),sw=se({\u0275dir:se}),aw=se({\u0275pipe:se}),lw=se({\u0275mod:se}),Ma=se({\u0275fac:se}),mo=se({__NG_ELEMENT_ID__:se}),nm=se({__NG_ENV_ID__:se});function on(e){return typeof e=="string"?e:e==null?"":String(e)}function cw(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():on(e)}function uw(e,n){let t=n?`. Dependency path: ${n.join(" > ")} > ${e}`:"";throw new x(-200,e)}function wd(e,n){throw new x(-201,!1)}var G=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(G||{}),Pu;function zm(){return Pu}function Ze(e){let n=Pu;return Pu=e,n}function Gm(e,n,t){let r=ol(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&G.Optional)return null;if(n!==void 0)return n;wd(e,"Injector")}var dw={},go=dw,Fu="__NG_DI_FLAG__",Aa="ngTempTokenPath",fw="ngTokenPath",hw=/\n/gm,pw="\u0275",rm="__source",ii;function mw(){return ii}function kn(e){let n=ii;return ii=e,n}function gw(e,n=G.Default){if(ii===void 0)throw new x(-203,!1);return ii===null?Gm(e,void 0,n):ii.get(e,n&G.Optional?null:void 0,n)}function k(e,n=G.Default){return(zm()||gw)(Ue(e),n)}function C(e,n=G.Default){return k(e,sl(n))}function sl(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Lu(e){let n=[];for(let t=0;t<e.length;t++){let r=Ue(e[t]);if(Array.isArray(r)){if(r.length===0)throw new x(900,!1);let i,o=G.Default;for(let s=0;s<r.length;s++){let a=r[s],l=vw(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}n.push(k(i,o))}else n.push(k(r))}return n}function Wm(e,n){return e[Fu]=n,e.prototype[Fu]=n,e}function vw(e){return e[Fu]}function yw(e,n,t,r){let i=e[Aa];throw n[rm]&&i.unshift(n[rm]),e.message=_w(`
`+e.message,i,t,r),e[fw]=i,e[Aa]=null,e}function _w(e,n,t,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==pw?e.slice(2):e;let i=$e(n);if(Array.isArray(n))i=n.map($e).join(" -> ");else if(typeof n=="object"){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):$e(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${e.replace(hw,`
  `)}`}var Qm=Wm(Vm("Optional"),8);var bw=Wm(Vm("SkipSelf"),4);function cr(e,n){let t=e.hasOwnProperty(Ma);return t?e[Ma]:null}function Dd(e,n){e.forEach(t=>Array.isArray(t)?Dd(t,n):n(t))}function Zm(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function Na(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function ww(e,n,t,r){let i=e.length;if(i==n)e.push(t,r);else if(i===1)e.push(r,e[0]),e[0]=t;else{for(i--,e.push(e[i-1],e[i]);i>n;){let o=i-2;e[i]=e[o],i--}e[n]=t,e[n+1]=r}}function Ed(e,n,t){let r=So(e,n);return r>=0?e[r|1]=t:(r=~r,ww(e,r,n,t)),r}function Du(e,n){let t=So(e,n);if(t>=0)return e[t|1]}function So(e,n){return Dw(e,n,1)}function Dw(e,n,t){let r=0,i=e.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<t];if(n===s)return o<<t;s>n?i=o:r=o+1}return~(i<<t)}var si={},Ye=[],ai=new N(""),Ym=new N("",-1),Jm=new N(""),Ra=class{get(n,t=go){if(t===go){let r=new Error(`NullInjectorError: No provider for ${$e(n)}!`);throw r.name="NullInjectorError",r}return t}};function Km(e,n){let t=e[lw]||null;if(!t&&n===!0)throw new Error(`Type ${$e(e)} does not have '\u0275mod' property.`);return t}function ur(e){return e[ow]||null}function Xm(e){return e[sw]||null}function eg(e){return e[aw]||null}function tg(e){let n=ur(e)||Xm(e)||eg(e);return n!==null&&n.standalone}function gi(e){return{\u0275providers:e}}function Ew(...e){return{\u0275providers:ng(!0,e),\u0275fromNgModule:!0}}function ng(e,...n){let t=[],r=new Set,i,o=s=>{t.push(s)};return Dd(n,s=>{let a=s;ju(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&rg(i,o),t}function rg(e,n){for(let t=0;t<e.length;t++){let{ngModule:r,providers:i}=e[t];Cd(i,o=>{n(o,r)})}}function ju(e,n,t,r){if(e=Ue(e),!e)return!1;let i=null,o=em(e),s=!o&&ur(e);if(!o&&!s){let l=e.ngModule;if(o=em(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)ju(c,n,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{Dd(o.imports,u=>{ju(u,n,t,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&rg(c,n)}if(!a){let c=cr(i)||(()=>new i);n({provide:i,useFactory:c,deps:Ye},i),n({provide:Jm,useValue:i,multi:!0},i),n({provide:ai,useValue:()=>k(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=e;Cd(l,u=>{n(u,c)})}}else return!1;return i!==e&&e.providers!==void 0}function Cd(e,n){for(let t of e)qm(t)&&(t=t.\u0275providers),Array.isArray(t)?Cd(t,n):n(t)}var Cw=se({provide:String,useValue:se});function ig(e){return e!==null&&typeof e=="object"&&Cw in e}function Sw(e){return!!(e&&e.useExisting)}function Iw(e){return!!(e&&e.useFactory)}function li(e){return typeof e=="function"}function Tw(e){return!!e.useClass}var al=new N(""),Ea={},xw={},Eu;function Sd(){return Eu===void 0&&(Eu=new Ra),Eu}var Je=class{},vo=class extends Je{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Uu(n,s=>this.processProvider(s)),this.records.set(Ym,ti(void 0,this)),i.has("environment")&&this.records.set(Je,ti(void 0,this));let o=this.records.get(al);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Jm,Ye,G.Self))}destroy(){ho(this),this._destroyed=!0;let n=X(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),X(n)}}onDestroy(n){return ho(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){ho(this);let t=kn(this),r=Ze(void 0),i;try{return n()}finally{kn(t),Ze(r)}}get(n,t=go,r=G.Default){if(ho(this),n.hasOwnProperty(nm))return n[nm](this);r=sl(r);let i,o=kn(this),s=Ze(void 0);try{if(!(r&G.SkipSelf)){let l=this.records.get(n);if(l===void 0){let c=kw(n)&&ol(n);c&&this.injectableDefInScope(c)?l=ti(Vu(n),Ea):l=null,this.records.set(n,l)}if(l!=null)return this.hydrate(n,l)}let a=r&G.Self?Sd():this.parent;return t=r&G.Optional&&t===go?null:t,a.get(n,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Aa]=a[Aa]||[]).unshift($e(n)),o)throw a;return yw(a,n,"R3InjectorError",this.source)}else throw a}finally{Ze(s),kn(o)}}resolveInjectorInitializers(){let n=X(null),t=kn(this),r=Ze(void 0),i;try{let o=this.get(ai,Ye,G.Self);for(let s of o)s()}finally{kn(t),Ze(r),X(n)}}toString(){let n=[],t=this.records;for(let r of t.keys())n.push($e(r));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=Ue(n);let t=li(n)?n:Ue(n&&n.provide),r=Aw(n);if(!li(n)&&n.multi===!0){let i=this.records.get(t);i||(i=ti(void 0,Ea,!0),i.factory=()=>Lu(i.multi),this.records.set(t,i)),t=n,i.multi.push(n)}this.records.set(t,r)}hydrate(n,t){let r=X(null);try{return t.value===Ea&&(t.value=xw,t.value=t.factory()),typeof t.value=="object"&&t.value&&Rw(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{X(r)}}injectableDefInScope(n){if(!n.providedIn)return!1;let t=Ue(n.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){let t=this._onDestroyHooks.indexOf(n);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Vu(e){let n=ol(e),t=n!==null?n.factory:cr(e);if(t!==null)return t;if(e instanceof N)throw new x(204,!1);if(e instanceof Function)return Mw(e);throw new x(204,!1)}function Mw(e){if(e.length>0)throw new x(204,!1);let t=rw(e);return t!==null?()=>t.factory(e):()=>new e}function Aw(e){if(ig(e))return ti(void 0,e.useValue);{let n=og(e);return ti(n,Ea)}}function og(e,n,t){let r;if(li(e)){let i=Ue(e);return cr(i)||Vu(i)}else if(ig(e))r=()=>Ue(e.useValue);else if(Iw(e))r=()=>e.useFactory(...Lu(e.deps||[]));else if(Sw(e))r=()=>k(Ue(e.useExisting));else{let i=Ue(e&&(e.useClass||e.provide));if(Nw(e))r=()=>new i(...Lu(e.deps));else return cr(i)||Vu(i)}return r}function ho(e){if(e.destroyed)throw new x(205,!1)}function ti(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function Nw(e){return!!e.deps}function Rw(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function kw(e){return typeof e=="function"||typeof e=="object"&&e instanceof N}function Uu(e,n){for(let t of e)Array.isArray(t)?Uu(t,n):t&&qm(t)?Uu(t.\u0275providers,n):n(t)}function ke(e,n){e instanceof vo&&ho(e);let t,r=kn(e),i=Ze(void 0);try{return n()}finally{kn(r),Ze(i)}}function sg(){return zm()!==void 0||mw()!=null}function ag(e){if(!sg())throw new x(-203,!1)}function Ow(e){return typeof e=="function"}var hn=0,ne=1,L=2,Be=3,Mt=4,At=5,ka=6,Oa=7,mt=8,yo=9,sn=10,he=11,_o=12,im=13,vi=14,$t=15,ci=16,ni=17,ui=18,ll=19,lg=20,On=21,Ca=22,dr=23,it=24,gt=25,cg=1;var fr=7,Pa=8,Fa=9,pt=10;function Pn(e){return Array.isArray(e)&&typeof e[cg]=="object"}function pn(e){return Array.isArray(e)&&e[cg]===!0}function Id(e){return(e.flags&4)!==0}function _r(e){return e.componentOffset>-1}function cl(e){return(e.flags&1)===1}function an(e){return!!e.template}function La(e){return(e[L]&512)!==0}function Io(e){return(e[L]&256)===256}var $u=class{previousValue;currentValue;firstChange;constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function ug(e,n,t,r){n!==null?n.applyValueToInputSignal(n,r):e[t]=r}var mn=(()=>{let e=()=>dg;return e.ngInherit=!0,e})();function dg(e){return e.type.prototype.ngOnChanges&&(e.setInput=Fw),Pw}function Pw(){let e=hg(this),n=e?.current;if(n){let t=e.previous;if(t===si)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function Fw(e,n,t,r,i){let o=this.declaredInputs[r],s=hg(e)||Lw(e,{previous:si,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new $u(c&&c.currentValue,t,l===si),ug(e,n,i,t)}var fg="__ngSimpleChanges__";function hg(e){return e[fg]||null}function Lw(e,n){return e[fg]=n}var om=null;var ht=function(e,n,t){om?.(e,n,t)},jw="svg",Vw="math";function Bt(e){for(;Array.isArray(e);)e=e[hn];return e}function pg(e,n){return Bt(n[e])}function Nt(e,n){return Bt(n[e.index])}function mg(e,n){return e.data[n]}function Uw(e,n){return e[n]}function Ht(e,n){let t=n[e];return Pn(t)?t:t[hn]}function Td(e){return(e[L]&128)===128}function $w(e){return pn(e[Be])}function di(e,n){return n==null?null:e[n]}function gg(e){e[ni]=0}function xd(e){e[L]&1024||(e[L]|=1024,Td(e)&&To(e))}function Bw(e,n){for(;e>0;)n=n[vi],e--;return n}function ul(e){return!!(e[L]&9216||e[it]?.dirty)}function Bu(e){e[sn].changeDetectionScheduler?.notify(9),e[L]&64&&(e[L]|=1024),ul(e)&&To(e)}function To(e){e[sn].changeDetectionScheduler?.notify(0);let n=hr(e);for(;n!==null&&!(n[L]&8192||(n[L]|=8192,!Td(n)));)n=hr(n)}function vg(e,n){if(Io(e))throw new x(911,!1);e[On]===null&&(e[On]=[]),e[On].push(n)}function Hw(e,n){if(e[On]===null)return;let t=e[On].indexOf(n);t!==-1&&e[On].splice(t,1)}function hr(e){let n=e[Be];return pn(n)?n[Be]:n}function qw(e){return e[Oa]??=[]}function zw(e){return e.cleanup??=[]}var Z={lFrame:Ig(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Hu=!1;function Gw(){return Z.lFrame.elementDepthCount}function Ww(){Z.lFrame.elementDepthCount++}function Qw(){Z.lFrame.elementDepthCount--}function yg(){return Z.bindingsEnabled}function Zw(){return Z.skipHydrationRootTNode!==null}function Yw(e){return Z.skipHydrationRootTNode===e}function Jw(){Z.skipHydrationRootTNode=null}function re(){return Z.lFrame.lView}function Ne(){return Z.lFrame.tView}function W(e){return Z.lFrame.contextLView=e,e[mt]}function Q(e){return Z.lFrame.contextLView=null,e}function qe(){let e=_g();for(;e!==null&&e.type===64;)e=e.parent;return e}function _g(){return Z.lFrame.currentTNode}function Kw(){let e=Z.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}function br(e,n){let t=Z.lFrame;t.currentTNode=e,t.isParent=n}function Md(){return Z.lFrame.isParent}function bg(){Z.lFrame.isParent=!1}function wg(){return Hu}function ja(e){let n=Hu;return Hu=e,n}function Ad(){let e=Z.lFrame,n=e.bindingRootIndex;return n===-1&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function Dg(){return Z.lFrame.bindingIndex}function Xw(e){return Z.lFrame.bindingIndex=e}function dl(){return Z.lFrame.bindingIndex++}function fl(e){let n=Z.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function eD(){return Z.lFrame.inI18n}function tD(e,n){let t=Z.lFrame;t.bindingIndex=t.bindingRootIndex=e,qu(n)}function nD(){return Z.lFrame.currentDirectiveIndex}function qu(e){Z.lFrame.currentDirectiveIndex=e}function rD(e){let n=Z.lFrame.currentDirectiveIndex;return n===-1?null:e[n]}function Eg(e){Z.lFrame.currentQueryIndex=e}function iD(e){let n=e[ne];return n.type===2?n.declTNode:n.type===1?e[At]:null}function Cg(e,n,t){if(t&G.SkipSelf){let i=n,o=e;for(;i=i.parent,i===null&&!(t&G.Host);)if(i=iD(o),i===null||(o=o[vi],i.type&10))break;if(i===null)return!1;n=i,e=o}let r=Z.lFrame=Sg();return r.currentTNode=n,r.lView=e,!0}function Nd(e){let n=Sg(),t=e[ne];Z.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function Sg(){let e=Z.lFrame,n=e===null?null:e.child;return n===null?Ig(e):n}function Ig(e){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=n),n}function Tg(){let e=Z.lFrame;return Z.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var xg=Tg;function Rd(){let e=Tg();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function oD(e){return(Z.lFrame.contextLView=Bw(e,Z.lFrame.contextLView))[mt]}function gn(){return Z.lFrame.selectedIndex}function pr(e){Z.lFrame.selectedIndex=e}function hl(){let e=Z.lFrame;return mg(e.tView,e.selectedIndex)}function sD(){return Z.lFrame.currentNamespace}var Mg=!0;function pl(){return Mg}function ml(e){Mg=e}function aD(e,n,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=n.type.prototype;if(r){let s=dg(n);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}i&&(t.preOrderHooks??=[]).push(0-e,i),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}function gl(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){let o=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-t,s),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),l&&(e.viewHooks??=[]).push(-t,l),c&&((e.viewHooks??=[]).push(t,c),(e.viewCheckHooks??=[]).push(t,c)),u!=null&&(e.destroyHooks??=[]).push(t,u)}}function Sa(e,n,t){Ag(e,n,3,t)}function Ia(e,n,t,r){(e[L]&3)===t&&Ag(e,n,t,r)}function Cu(e,n){let t=e[L];(t&3)===n&&(t&=16383,t+=1,e[L]=t)}function Ag(e,n,t,r){let i=r!==void 0?e[ni]&65535:0,o=r??-1,s=n.length-1,a=0;for(let l=i;l<s;l++)if(typeof n[l+1]=="number"){if(a=n[l],r!=null&&a>=r)break}else n[l]<0&&(e[ni]+=65536),(a<o||o==-1)&&(lD(e,t,n,l),e[ni]=(e[ni]&4294901760)+l+2),l++}function sm(e,n){ht(4,e,n);let t=X(null);try{n.call(e)}finally{X(t),ht(5,e,n)}}function lD(e,n,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=e[s];i?e[L]>>14<e[ni]>>16&&(e[L]&3)===n&&(e[L]+=16384,sm(a,o)):sm(a,o)}var oi=-1,mr=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,t,r){this.factory=n,this.canSeeViewProviders=t,this.injectImpl=r}};function cD(e){return e instanceof mr}function uD(e){return(e.flags&8)!==0}function dD(e){return(e.flags&16)!==0}function fD(e,n,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];e.setAttribute(n,s,a,o)}else{let o=i,s=t[++r];hD(o)?e.setProperty(n,o,s):e.setAttribute(n,o,s),r++}}return r}function Ng(e){return e===3||e===4||e===6}function hD(e){return e.charCodeAt(0)===64}function fi(e,n){if(!(n===null||n.length===0))if(e===null||e.length===0)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){let i=n[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?am(e,t,i,null,n[++r]):am(e,t,i,null,null))}}return e}function am(e,n,t,r,i){let o=0,s=e.length;if(n===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===n){s=-1;break}else if(a>n){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(e[o+1]=i);return}else if(r===e[o+1]){e[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(e.splice(s,0,n),o=s+1),e.splice(o++,0,t),r!==null&&e.splice(o++,0,r),i!==null&&e.splice(o++,0,i)}var Su={},zu=class{injector;parentInjector;constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){r=sl(r);let i=this.injector.get(n,Su,r);return i!==Su||t===Su?i:this.parentInjector.get(n,t,r)}};function Rg(e){return e!==oi}function Va(e){return e&32767}function pD(e){return e>>16}function Ua(e,n){let t=pD(e),r=n;for(;t>0;)r=r[vi],t--;return r}var Gu=!0;function $a(e){let n=Gu;return Gu=e,n}var mD=256,kg=mD-1,Og=5,gD=0,Ut={};function vD(e,n,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(mo)&&(r=t[mo]),r==null&&(r=t[mo]=gD++);let i=r&kg,o=1<<i;n.data[e+(i>>Og)]|=o}function Ba(e,n){let t=Pg(e,n);if(t!==-1)return t;let r=n[ne];r.firstCreatePass&&(e.injectorIndex=n.length,Iu(r.data,e),Iu(n,null),Iu(r.blueprint,null));let i=kd(e,n),o=e.injectorIndex;if(Rg(i)){let s=Va(i),a=Ua(i,n),l=a[ne].data;for(let c=0;c<8;c++)n[o+c]=a[s+c]|l[s+c]}return n[o+8]=i,o}function Iu(e,n){e.push(0,0,0,0,0,0,0,0,n)}function Pg(e,n){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||n[e.injectorIndex+8]===null?-1:e.injectorIndex}function kd(e,n){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let t=0,r=null,i=n;for(;i!==null;){if(r=Ug(i),r===null)return oi;if(t++,i=i[vi],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return oi}function Wu(e,n,t){vD(e,n,t)}function yD(e,n){if(n==="class")return e.classes;if(n==="style")return e.styles;let t=e.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(Ng(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===n)return t[i+1];i=i+2}}}return null}function Fg(e,n,t){if(t&G.Optional||e!==void 0)return e;wd(n,"NodeInjector")}function Lg(e,n,t,r){if(t&G.Optional&&r===void 0&&(r=null),!(t&(G.Self|G.Host))){let i=e[yo],o=Ze(void 0);try{return i?i.get(n,r,t&G.Optional):Gm(n,r,t&G.Optional)}finally{Ze(o)}}return Fg(r,n,t)}function jg(e,n,t,r=G.Default,i){if(e!==null){if(n[L]&2048&&!(r&G.Self)){let s=ED(e,n,t,r,Ut);if(s!==Ut)return s}let o=Vg(e,n,t,r,Ut);if(o!==Ut)return o}return Lg(n,t,r,i)}function Vg(e,n,t,r,i){let o=wD(t);if(typeof o=="function"){if(!Cg(n,e,r))return r&G.Host?Fg(i,t,r):Lg(n,t,r,i);try{let s;if(s=o(r),s==null&&!(r&G.Optional))wd(t);else return s}finally{xg()}}else if(typeof o=="number"){let s=null,a=Pg(e,n),l=oi,c=r&G.Host?n[$t][At]:null;for((a===-1||r&G.SkipSelf)&&(l=a===-1?kd(e,n):n[a+8],l===oi||!cm(r,!1)?a=-1:(s=n[ne],a=Va(l),n=Ua(l,n)));a!==-1;){let u=n[ne];if(lm(o,a,u.data)){let p=_D(a,n,t,s,r,c);if(p!==Ut)return p}l=n[a+8],l!==oi&&cm(r,n[ne].data[a+8]===c)&&lm(o,a,n)?(s=u,a=Va(l),n=Ua(l,n)):a=-1}}return i}function _D(e,n,t,r,i,o){let s=n[ne],a=s.data[e+8],l=r==null?_r(a)&&Gu:r!=s&&(a.type&3)!==0,c=i&G.Host&&o===a,u=bD(a,s,t,l,c);return u!==null?Ha(n,s,u,a):Ut}function bD(e,n,t,r,i){let o=e.providerIndexes,s=n.data,a=o&1048575,l=e.directiveStart,c=e.directiveEnd,u=o>>20,p=r?a:a+u,g=i?a+u:c;for(let m=p;m<g;m++){let y=s[m];if(m<l&&t===y||m>=l&&y.type===t)return m}if(i){let m=s[l];if(m&&an(m)&&m.type===t)return l}return null}function Ha(e,n,t,r){let i=e[t],o=n.data;if(cD(i)){let s=i;s.resolving&&uw(cw(o[t]));let a=$a(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?Ze(s.injectImpl):null,u=Cg(e,r,G.Default);try{i=e[t]=s.factory(void 0,o,e,r),n.firstCreatePass&&t>=r.directiveStart&&aD(t,o[t],n)}finally{c!==null&&Ze(c),$a(a),s.resolving=!1,xg()}}return i}function wD(e){if(typeof e=="string")return e.charCodeAt(0)||0;let n=e.hasOwnProperty(mo)?e[mo]:void 0;return typeof n=="number"?n>=0?n&kg:DD:n}function lm(e,n,t){let r=1<<e;return!!(t[n+(e>>Og)]&r)}function cm(e,n){return!(e&G.Self)&&!(e&G.Host&&n)}var lr=class{_tNode;_lView;constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return jg(this._tNode,this._lView,n,sl(r),t)}};function DD(){return new lr(qe(),re())}function Rt(e){return Co(()=>{let n=e.prototype.constructor,t=n[Ma]||Qu(n),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[Ma]||Qu(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Qu(e){return Um(e)?()=>{let n=Qu(Ue(e));return n&&n()}:cr(e)}function ED(e,n,t,r,i){let o=e,s=n;for(;o!==null&&s!==null&&s[L]&2048&&!La(s);){let a=Vg(o,s,t,r|G.Self,Ut);if(a!==Ut)return a;let l=o.parent;if(!l){let c=s[lg];if(c){let u=c.get(t,Ut,r);if(u!==Ut)return u}l=Ug(s),s=s[vi]}o=l}return i}function Ug(e){let n=e[ne],t=n.type;return t===2?n.declTNode:t===1?e[At]:null}function Od(e){return yD(qe(),e)}function um(e,n=null,t=null,r){let i=$g(e,n,t,r);return i.resolveInjectorInitializers(),i}function $g(e,n=null,t=null,r,i=new Set){let o=[t||Ye,Ew(e)];return r=r||(typeof e=="object"?void 0:$e(e)),new vo(o,n||Sd(),r||null,i)}var Ae=class e{static THROW_IF_NOT_FOUND=go;static NULL=new Ra;static create(n,t){if(Array.isArray(n))return um({name:""},t,n,"");{let r=n.name??"";return um({name:r},n.parent,n.providers,r)}}static \u0275prov=M({token:e,providedIn:"any",factory:()=>k(Ym)});static __NG_ELEMENT_ID__=-1};var CD=new N("");CD.__NG_ELEMENT_ID__=e=>{let n=qe();if(n===null)throw new x(204,!1);if(n.type&2)return n.value;if(e&G.Optional)return null;throw new x(204,!1)};var Bg=!1,yi=(()=>{class e{static __NG_ELEMENT_ID__=SD;static __NG_ENV_ID__=t=>t}return e})(),qa=class extends yi{_lView;constructor(n){super(),this._lView=n}onDestroy(n){return vg(this._lView,n),()=>Hw(this._lView,n)}};function SD(){return new qa(re())}var gr=class{},vl=new N("",{providedIn:"root",factory:()=>!1});var Hg=new N(""),Pd=new N(""),vn=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Re(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=M({token:e,providedIn:"root",factory:()=>new e})}return e})();var Zu=class extends Ce{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,sg()&&(this.destroyRef=C(yi,{optional:!0})??void 0,this.pendingTasks=C(vn,{optional:!0})??void 0)}emit(n){let t=X(null);try{super.next(n)}finally{X(t)}}subscribe(n,t,r){let i=n,o=t||(()=>null),s=r;if(n&&typeof n=="object"){let l=n;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return n instanceof ve&&n.add(a),a}wrapInTimeout(n){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{n(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},le=Zu;function bo(...e){}function qg(e){let n,t;function r(){e=bo;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{e(),r()})),()=>r()}function dm(e){return queueMicrotask(()=>e()),()=>{e=bo}}var Fd="isAngularZone",za=Fd+"_ID",ID=0,_e=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new le(!1);onMicrotaskEmpty=new le(!1);onStable=new le(!1);onError=new le(!1);constructor(n){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Bg}=n;if(typeof Zone>"u")throw new x(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,MD(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Fd)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new x(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new x(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,n,TD,bo,bo);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}},TD={};function Ld(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function xD(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function n(){qg(()=>{e.callbackScheduled=!1,Yu(e),e.isCheckStableRunning=!0,Ld(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),Yu(e)}function MD(e){let n=()=>{xD(e)},t=ID++;e._inner=e._inner.fork({name:"angular",properties:{[Fd]:!0,[za]:t,[za+t]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(AD(l))return r.invokeTask(o,s,a,l);try{return fm(e),r.invokeTask(o,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&n(),hm(e)}},onInvoke:(r,i,o,s,a,l,c)=>{try{return fm(e),r.invoke(o,s,a,l,c)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!ND(l)&&n(),hm(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Yu(e),Ld(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Yu(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function fm(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function hm(e){e._nesting--,Ld(e)}var Ga=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new le;onMicrotaskEmpty=new le;onStable=new le;onError=new le;run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,i){return n.apply(t,r)}};function AD(e){return zg(e,"__ignore_ng_zone__")}function ND(e){return zg(e,"__scheduler_tick__")}function zg(e,n){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[n]===!0}var ln=class{_console=console;handleError(n){this._console.error("ERROR",n)}},RD=new N("",{providedIn:"root",factory:()=>{let e=C(_e),n=C(ln);return t=>e.runOutsideAngular(()=>n.handleError(t))}});function pm(e,n){return jm(e,n)}function kD(e){return jm(Lm,e)}var Gg=(pm.required=kD,pm);function OD(){return yl(qe(),re())}function yl(e,n){return new vt(Nt(e,n))}var vt=(()=>{class e{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=OD}return e})();var mm=new Set;function jn(e){mm.has(e)||(mm.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function PD(e){return typeof e=="function"&&e[Ge]!==void 0}function ot(e,n){jn("NgSignals");let t=Ip(e),r=t[Ge];return n?.equal&&(r.equal=n.equal),t.set=i=>Qs(r,i),t.update=i=>Tp(r,i),t.asReadonly=FD.bind(t),t}function FD(){let e=this[Ge];if(e.readonlyFn===void 0){let n=()=>this();n[Ge]=e,e.readonlyFn=n}return e.readonlyFn}function Wg(e){return PD(e)&&typeof e.set=="function"}function Qg(e){return(e.flags&128)===128}var Zg=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Zg||{}),Yg=new Map,LD=0;function jD(){return LD++}function VD(e){Yg.set(e[ll],e)}function Ju(e){Yg.delete(e[ll])}var gm="__ngContext__";function wr(e,n){Pn(n)?(e[gm]=n[ll],VD(n)):e[gm]=n}function Jg(e){return Xg(e[_o])}function Kg(e){return Xg(e[Mt])}function Xg(e){for(;e!==null&&!pn(e);)e=e[Mt];return e}var Ku;function ev(e){Ku=e}function UD(){if(Ku!==void 0)return Ku;if(typeof document<"u")return document;throw new x(210,!1)}var jd=new N("",{providedIn:"root",factory:()=>$D}),$D="ng",Vd=new N(""),yt=new N("",{providedIn:"platform",factory:()=>"unknown"});var Ud=new N("",{providedIn:"root",factory:()=>UD().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var BD="h",HD="b";var tv=!1,qD=new N("",{providedIn:"root",factory:()=>tv});var nv=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(nv||{}),_l=new N("");var zD=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=M({token:e,providedIn:"root",factory:()=>new e})}return e})();var GD=()=>null;function rv(e,n,t=!1){return GD(e,n,t)}function iv(e,n){let t=e.contentQueries;if(t!==null){let r=X(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=e.data[s];Eg(o),a.contentQueries(2,n[s],s)}}}finally{X(r)}}}function Xu(e,n,t){Eg(0);let r=X(null);try{n(e,t)}finally{X(r)}}function $d(e,n,t){if(Id(n)){let r=X(null);try{let i=n.directiveStart,o=n.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{X(r)}}}var qt=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(qt||{});var ba;function WD(){if(ba===void 0&&(ba=null,ar.trustedTypes))try{ba=ar.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return ba}function vm(e){return WD()?.createScriptURL(e)||e}var Wa=class{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Fm})`}};function _i(e){return e instanceof Wa?e.changingThisBreaksApplicationSecurity:e}function Bd(e,n){let t=QD(e);if(t!=null&&t!==n){if(t==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${Fm})`)}return t===n}function QD(e){return e instanceof Wa&&e.getTypeName()||null}var ZD=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ov(e){return e=String(e),e.match(ZD)?e:"unsafe:"+e}var bl=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(bl||{});function YD(e){let n=av();return n?n.sanitize(bl.URL,e)||"":Bd(e,"URL")?_i(e):ov(on(e))}function JD(e){let n=av();if(n)return vm(n.sanitize(bl.RESOURCE_URL,e)||"");if(Bd(e,"ResourceURL"))return vm(_i(e));throw new x(904,!1)}function KD(e,n){return n==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||n==="href"&&(e==="base"||e==="link")?JD:YD}function sv(e,n,t){return KD(n,t)(e)}function av(){let e=re();return e&&e[sn].sanitizer}var XD=/^>|^->|<!--|-->|--!>|<!-$/g,eE=/(<|>)/g,tE="\u200B$1\u200B";function nE(e){return e.replace(XD,n=>n.replace(eE,tE))}function lv(e){return e instanceof Function?e():e}var Fn=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Fn||{});function rE(e,n,t){let r=e.length;for(;;){let i=e.indexOf(n,t);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=n.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}t=i+1}}var cv="ng-template";function iE(e,n,t,r){let i=0;if(r){for(;i<n.length&&typeof n[i]=="string";i+=2)if(n[i]==="class"&&rE(n[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Hd(e))return!1;if(i=n.indexOf(1,i),i>-1){let o;for(;++i<n.length&&typeof(o=n[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Hd(e){return e.type===4&&e.value!==cv}function oE(e,n,t){let r=e.type===4&&!t?cv:e.value;return n===r}function sE(e,n,t){let r=4,i=e.attrs,o=i!==null?cE(i):0,s=!1;for(let a=0;a<n.length;a++){let l=n[a];if(typeof l=="number"){if(!s&&!Tt(r)&&!Tt(l))return!1;if(s&&Tt(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!oE(e,l,t)||l===""&&n.length===1){if(Tt(r))return!1;s=!0}}else if(r&8){if(i===null||!iE(e,i,l,t)){if(Tt(r))return!1;s=!0}}else{let c=n[++a],u=aE(l,i,Hd(e),t);if(u===-1){if(Tt(r))return!1;s=!0;continue}if(c!==""){let p;if(u>o?p="":p=i[u+1].toLowerCase(),r&2&&c!==p){if(Tt(r))return!1;s=!0}}}}return Tt(r)||s}function Tt(e){return(e&1)===0}function aE(e,n,t,r){if(n===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<n.length;){let s=n[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=n[++i];for(;typeof a=="string";)a=n[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return uE(n,e)}function lE(e,n,t=!1){for(let r=0;r<n.length;r++)if(sE(e,n[r],t))return!0;return!1}function cE(e){for(let n=0;n<e.length;n++){let t=e[n];if(Ng(t))return n}return e.length}function uE(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){let r=e[t];if(typeof r=="number")return-1;if(r===n)return t;t++}return-1}function ym(e,n){return e?":not("+n.trim()+")":n}function dE(e){let n=e[0],t=1,r=2,i="",o=!1;for(;t<e.length;){let s=e[t];if(typeof s=="string")if(r&2){let a=e[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Tt(s)&&(n+=ym(o,i),i=""),r=s,o=o||!Tt(r);t++}return i!==""&&(n+=ym(o,i)),n}function fE(e){return e.map(dE).join(",")}function hE(e){let n=[],t=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&n.push(o,e[++r]):i===8&&t.push(o);else{if(!Tt(i))break;i=o}r++}return t.length&&n.push(1,...t),n}var Ke={};function pE(e,n){return e.createText(n)}function mE(e,n,t){e.setValue(n,t)}function gE(e,n){return e.createComment(nE(n))}function uv(e,n,t){return e.createElement(n,t)}function Qa(e,n,t,r,i){e.insertBefore(n,t,r,i)}function dv(e,n,t){e.appendChild(n,t)}function _m(e,n,t,r,i){r!==null?Qa(e,n,t,r,i):dv(e,n,t)}function vE(e,n,t){e.removeChild(null,n,t)}function yE(e,n,t){e.setAttribute(n,"style",t)}function _E(e,n,t){t===""?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function fv(e,n,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&fD(e,n,r),i!==null&&_E(e,n,i),o!==null&&yE(e,n,o)}function v(e=1){hv(Ne(),re(),gn()+e,!1)}function hv(e,n,t,r){if(!r)if((n[L]&3)===3){let o=e.preOrderCheckHooks;o!==null&&Sa(n,o,t)}else{let o=e.preOrderHooks;o!==null&&Ia(n,o,0,t)}pr(t)}function E(e,n=G.Default){let t=re();if(t===null)return k(e,n);let r=qe();return jg(r,t,Ue(e),n)}function pv(e,n,t,r,i,o){let s=X(null);try{let a=null;i&Fn.SignalBased&&(a=n[r][Ge]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Fn.HasDecoratorInputTransform&&(o=e.inputTransforms[r].call(n,o)),e.setInput!==null?e.setInput(n,a,o,t,r):ug(n,a,r,o)}finally{X(s)}}function qd(e,n,t,r,i,o,s,a,l,c,u){let p=n.blueprint.slice();return p[hn]=i,p[L]=r|4|128|8|64|1024,(c!==null||e&&e[L]&2048)&&(p[L]|=2048),gg(p),p[Be]=p[vi]=e,p[mt]=t,p[sn]=s||e&&e[sn],p[he]=a||e&&e[he],p[yo]=l||e&&e[yo]||null,p[At]=o,p[ll]=jD(),p[ka]=u,p[lg]=c,p[$t]=n.type==2?e[$t]:p,p}function mv(e,n,t,r){if(t===0)return-1;let i=n.length;for(let o=0;o<t;o++)n.push(r),e.blueprint.push(r),e.data.push(null);return i}function gv(e,n,t,r,i){let o=gn(),s=r&2;try{pr(-1),s&&n.length>gt&&hv(e,n,gt,!1),ht(s?2:0,i),t(r,i)}finally{pr(o),ht(s?3:1,i)}}function zd(e,n,t){yg()&&(wr(Nt(t,n),n),vv(e,n,t))}function vv(e,n,t){AE(e,n,t),(t.flags&64)===64&&NE(e,n,t)}function Gd(e,n,t=Nt){let r=n.localNames;if(r!==null){let i=n.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(n,e):e[s];e[i++]=a}}}function bE(e){let n=e.tView;return n===null||n.incompleteFirstPass?e.tView=Wd(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function Wd(e,n,t,r,i,o,s,a,l,c,u){let p=gt+r,g=p+i,m=wE(p,g),y=typeof c=="function"?c():c;return m[ne]={type:e,blueprint:m,template:t,queries:null,viewQuery:a,declTNode:n,data:m.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:y,incompleteFirstPass:!1,ssrId:u}}function wE(e,n){let t=[];for(let r=0;r<n;r++)t.push(r<e?null:Ke);return t}function DE(e,n,t,r){let o=r.get(qD,tv)||t===qt.ShadowDom,s=e.selectRootElement(n,o);return EE(s),s}function EE(e){CE(e)}var CE=()=>null;function bm(e,n,t,r,i){for(let o in n){if(!n.hasOwnProperty(o))continue;let s=n[o];if(s===void 0)continue;r??={};let a,l=Fn.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let c=o;if(i!==null){if(!i.hasOwnProperty(o))continue;c=i[o]}e===0?wm(r,t,c,a,l):wm(r,t,c,a)}return r}function wm(e,n,t,r,i){let o;e.hasOwnProperty(t)?(o=e[t]).push(n,r):o=e[t]=[n,r],i!==void 0&&o.push(i)}function SE(e,n,t){let r=n.directiveStart,i=n.directiveEnd,o=e.data,s=n.attrs,a=[],l=null,c=null;for(let u=r;u<i;u++){let p=o[u],g=t?t.get(p):null,m=g?g.inputs:null,y=g?g.outputs:null;l=bm(0,p.inputs,u,l,m),c=bm(1,p.outputs,u,c,y);let b=l!==null&&s!==null&&!Hd(n)?qE(l,u,s):null;a.push(b)}l!==null&&(l.hasOwnProperty("class")&&(n.flags|=8),l.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=l,n.outputs=c}function IE(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Qd(e,n,t,r,i,o,s,a){let l=Nt(n,t),c=n.inputs,u;!a&&c!=null&&(u=c[r])?(Jd(e,t,u,r,i),_r(n)&&TE(t,n.index)):n.type&3?(r=IE(r),i=s!=null?s(i,n.value||"",r):i,o.setProperty(l,r,i)):n.type&12}function TE(e,n){let t=Ht(n,e);t[L]&16||(t[L]|=64)}function Zd(e,n,t,r){if(yg()){let i=r===null?null:{"":-1},o=kE(e,t);if(o!==null){let[s,a]=_v(e,t,o);yv(e,n,t,s,i,a)}i&&PE(t,r,i)}t.mergedAttrs=fi(t.mergedAttrs,t.attrs)}function yv(e,n,t,r,i,o){for(let c=0;c<r.length;c++)Wu(Ba(t,n),e,r[c].type);LE(t,e.data.length,r.length);for(let c=0;c<r.length;c++){let u=r[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=mv(e,n,r.length,null);for(let c=0;c<r.length;c++){let u=r[c];t.mergedAttrs=fi(t.mergedAttrs,u.hostAttrs),jE(e,t,n,l,u),FE(l,u,i),u.contentQueries!==null&&(t.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(t.flags|=64);let p=u.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}SE(e,t,o)}function xE(e,n,t,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~n.index;ME(s)!=a&&s.push(a),s.push(t,r,o)}}function ME(e){let n=e.length;for(;n>0;){let t=e[--n];if(typeof t=="number"&&t<0)return t}return 0}function AE(e,n,t){let r=t.directiveStart,i=t.directiveEnd;_r(t)&&UE(n,t,e.data[r+t.componentOffset]),e.firstCreatePass||Ba(t,n);let o=t.initialInputs;for(let s=r;s<i;s++){let a=e.data[s],l=Ha(n,e,s,t);if(wr(l,n),o!==null&&HE(n,s-r,l,a,t,o),an(a)){let c=Ht(t.index,n);c[mt]=Ha(n,e,s,t)}}}function NE(e,n,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=nD();try{pr(o);for(let a=r;a<i;a++){let l=e.data[a],c=n[a];qu(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&RE(l,c)}}finally{pr(-1),qu(s)}}function RE(e,n){e.hostBindings!==null&&e.hostBindings(1,n)}function kE(e,n){let t=e.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];lE(n,o.selectors,!1)&&(r??=[],an(o)?r.unshift(o):r.push(o))}return r}function _v(e,n,t){let r=[],i=null;for(let o of t)o.findHostDirectiveDefs!==null&&(i??=new Map,o.findHostDirectiveDefs(o,r,i)),an(o)&&(r.push(o),OE(e,n,r.length-1));return _r(n)?r.push(...t.slice(1)):r.push(...t),[r,i]}function OE(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function PE(e,n,t){if(n){let r=e.localNames=[];for(let i=0;i<n.length;i+=2){let o=t[n[i+1]];if(o==null)throw new x(-301,!1);r.push(n[i],o)}}}function FE(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;an(n)&&(t[""]=e)}}function LE(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}function jE(e,n,t,r,i){e.data[r]=i;let o=i.factory||(i.factory=cr(i.type,!0)),s=new mr(o,an(i),E);e.blueprint[r]=s,t[r]=s,xE(e,n,r,mv(e,t,i.hostVars,Ke),i)}function VE(e){let n=16;return e.signals?n=4096:e.onPush&&(n=64),n}function UE(e,n,t){let r=Nt(n,e),i=bE(t),o=e[sn].rendererFactory,s=Yd(e,qd(e,i,null,VE(t),r,n,null,o.createRenderer(r,t),null,null,null));return e[n.index]=s}function $E(e,n,t,r,i,o){let s=Nt(e,n);BE(n[he],s,o,e.value,t,r,i)}function BE(e,n,t,r,i,o,s){if(o==null)e.removeAttribute(n,i,t);else{let a=s==null?on(o):s(o,r||"",i);e.setAttribute(n,i,a,t)}}function HE(e,n,t,r,i,o){let s=o[n];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],c=s[a++],u=s[a++],p=s[a++];pv(r,t,l,c,u,p)}}function qE(e,n,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(e.hasOwnProperty(o)){r===null&&(r=[]);let s=e[o];for(let a=0;a<s.length;a+=3)if(s[a]===n){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return r}function bv(e,n,t,r){return[e,!0,0,n,null,r,null,t,null,null]}function Yd(e,n){return e[_o]?e[im][Mt]=n:e[_o]=n,e[im]=n,n}function wv(e,n){let t=e[yo],r=t?t.get(ln,null):null;r&&r.handleError(n)}function Jd(e,n,t,r,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],l=t[o++],c=n[s],u=e.data[s];pv(u,c,r,a,l,i)}}function zE(e,n){let t=Ht(n,e),r=t[ne];GE(r,t);let i=t[hn];i!==null&&t[ka]===null&&(t[ka]=rv(i,t[yo])),Kd(r,t,t[mt])}function GE(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}function Kd(e,n,t){Nd(n);try{let r=e.viewQuery;r!==null&&Xu(1,r,t);let i=e.template;i!==null&&gv(e,n,i,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),n[ui]?.finishViewCreation(e),e.staticContentQueries&&iv(e,n),e.staticViewQueries&&Xu(2,e.viewQuery,t);let o=e.components;o!==null&&WE(n,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[L]&=-5,Rd()}}function WE(e,n){for(let t=0;t<n.length;t++)zE(e,n[t])}var cn=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(cn||{}),QE;function Xd(e,n){return QE(e,n)}function Dv(e){return(e.flags&32)===32}function ri(e,n,t,r,i){if(r!=null){let o,s=!1;pn(r)?o=r:Pn(r)&&(s=!0,r=r[hn]);let a=Bt(r);e===0&&t!==null?i==null?dv(n,t,a):Qa(n,t,a,i||null,!0):e===1&&t!==null?Qa(n,t,a,i||null,!0):e===2?vE(n,a,s):e===3&&n.destroyNode(a),o!=null&&aC(n,e,o,t,i)}}function ZE(e,n){Ev(e,n),n[hn]=null,n[At]=null}function YE(e,n,t,r,i,o){r[hn]=i,r[At]=n,Dl(e,r,t,1,i,o)}function Ev(e,n){n[sn].changeDetectionScheduler?.notify(10),Dl(e,n,n[he],2,null,null)}function JE(e){let n=e[_o];if(!n)return Tu(e[ne],e);for(;n;){let t=null;if(Pn(n))t=n[_o];else{let r=n[pt];r&&(t=r)}if(!t){for(;n&&!n[Mt]&&n!==e;)Pn(n)&&Tu(n[ne],n),n=n[Be];n===null&&(n=e),Pn(n)&&Tu(n[ne],n),t=n&&n[Mt]}n=t}}function KE(e,n,t,r){let i=pt+r,o=t.length;r>0&&(t[i-1][Mt]=n),r<o-pt?(n[Mt]=t[i],Zm(t,pt+r,n)):(t.push(n),n[Mt]=null),n[Be]=t;let s=n[ci];s!==null&&t!==s&&Cv(s,n);let a=n[ui];a!==null&&a.insertView(e),Bu(n),n[L]|=128}function Cv(e,n){let t=e[Fa],r=n[Be];if(Pn(r))e[L]|=2;else{let i=r[Be][$t];n[$t]!==i&&(e[L]|=2)}t===null?e[Fa]=[n]:t.push(n)}function ef(e,n){let t=e[Fa],r=t.indexOf(n);t.splice(r,1)}function ed(e,n){if(e.length<=pt)return;let t=pt+n,r=e[t];if(r){let i=r[ci];i!==null&&i!==e&&ef(i,r),n>0&&(e[t-1][Mt]=r[Mt]);let o=Na(e,pt+n);ZE(r[ne],r);let s=o[ui];s!==null&&s.detachView(o[ne]),r[Be]=null,r[Mt]=null,r[L]&=-129}return r}function Sv(e,n){if(Io(n))return;let t=n[he];t.destroyNode&&Dl(e,n,t,3,null,null),JE(n)}function Tu(e,n){if(Io(n))return;let t=X(null);try{n[L]&=-129,n[L]|=256,n[it]&&qr(n[it]),eC(e,n),XE(e,n),n[ne].type===1&&n[he].destroy();let r=n[ci];if(r!==null&&pn(n[Be])){r!==n[Be]&&ef(r,n);let i=n[ui];i!==null&&i.detachView(e)}Ju(n)}finally{X(t)}}function XE(e,n){let t=e.cleanup,r=n[Oa];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(n[Oa]=null);let i=n[On];if(i!==null){n[On]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=n[dr];if(o!==null){n[dr]=null;for(let s of o)s.destroy()}}function eC(e,n){let t;if(e!=null&&(t=e.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=n[t[r]];if(!(i instanceof mr)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];ht(4,a,l);try{l.call(a)}finally{ht(5,a,l)}}else{ht(4,i,o);try{o.call(i)}finally{ht(5,i,o)}}}}}function tC(e,n,t){return nC(e,n.parent,t)}function nC(e,n,t){let r=n;for(;r!==null&&r.type&168;)n=r,r=n.parent;if(r===null)return t[hn];if(_r(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===qt.None||i===qt.Emulated)return null}return Nt(r,t)}function rC(e,n,t){return oC(e,n,t)}function iC(e,n,t){return e.type&40?Nt(e,t):null}var oC=iC,Dm;function wl(e,n,t,r){let i=tC(e,r,n),o=n[he],s=r.parent||n[At],a=rC(s,r,n);if(i!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)_m(o,i,t[l],a,!1);else _m(o,i,t,a,!1);Dm!==void 0&&Dm(o,r,n,t,i)}function po(e,n){if(n!==null){let t=n.type;if(t&3)return Nt(n,e);if(t&4)return td(-1,e[n.index]);if(t&8){let r=n.child;if(r!==null)return po(e,r);{let i=e[n.index];return pn(i)?td(-1,i):Bt(i)}}else{if(t&128)return po(e,n.next);if(t&32)return Xd(n,e)()||Bt(e[n.index]);{let r=Iv(e,n);if(r!==null){if(Array.isArray(r))return r[0];let i=hr(e[$t]);return po(i,r)}else return po(e,n.next)}}}return null}function Iv(e,n){if(n!==null){let r=e[$t][At],i=n.projection;return r.projection[i]}return null}function td(e,n){let t=pt+e+1;if(t<n.length){let r=n[t],i=r[ne].firstChild;if(i!==null)return po(r,i)}return n[fr]}function tf(e,n,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],l=t.type;if(s&&n===0&&(a&&wr(Bt(a),r),t.flags|=2),!Dv(t))if(l&8)tf(e,n,t.child,r,i,o,!1),ri(n,e,i,a,o);else if(l&32){let c=Xd(t,r),u;for(;u=c();)ri(n,e,i,u,o);ri(n,e,i,a,o)}else l&16?sC(e,n,r,t,i,o):ri(n,e,i,a,o);t=s?t.projectionNext:t.next}}function Dl(e,n,t,r,i,o){tf(t,r,e.firstChild,n,i,o,!1)}function sC(e,n,t,r,i,o){let s=t[$t],l=s[At].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];ri(n,e,i,u,o)}else{let c=l,u=s[Be];Qg(r)&&(c.flags|=128),tf(e,n,c,u,i,o,!0)}}function aC(e,n,t,r,i){let o=t[fr],s=Bt(t);o!==s&&ri(n,e,r,o,i);for(let a=pt;a<t.length;a++){let l=t[a];Dl(l[ne],l,e,n,r,o)}}function lC(e,n,t,r,i){if(n)i?e.addClass(t,r):e.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:cn.DashCase;i==null?e.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=cn.Important),e.setStyle(t,r,i,o))}}function cC(e,n,t,r){let i=X(null);try{let o=n.tView,a=e[L]&4096?4096:16,l=qd(e,o,t,a,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=e[n.index];l[ci]=c;let u=e[ui];return u!==null&&(l[ui]=u.createEmbeddedView(o)),Kd(o,l,t),l}finally{X(i)}}function Em(e,n){return!n||n.firstChild===null||Qg(e)}function uC(e,n,t,r=!0){let i=n[ne];if(KE(i,n,e,t),r){let s=td(t,e),a=n[he],l=a.parentNode(e[fr]);l!==null&&YE(i,e[At],a,n,l,s)}let o=n[ka];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Za(e,n,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=n[t.index];o!==null&&r.push(Bt(o)),pn(o)&&dC(o,r);let s=t.type;if(s&8)Za(e,n,t.child,r);else if(s&32){let a=Xd(t,n),l;for(;l=a();)r.push(l)}else if(s&16){let a=Iv(n,t);if(Array.isArray(a))r.push(...a);else{let l=hr(n[$t]);Za(l[ne],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function dC(e,n){for(let t=pt;t<e.length;t++){let r=e[t],i=r[ne].firstChild;i!==null&&Za(r[ne],r,i,n)}e[fr]!==e[hn]&&n.push(e[fr])}var Tv=[];function fC(e){return e[it]??hC(e)}function hC(e){let n=Tv.pop()??Object.create(mC);return n.lView=e,n}function pC(e){e.lView[it]!==e&&(e.lView=null,Tv.push(e))}var mC=q(S({},tr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{To(e.lView)},consumerOnSignalRead(){this.lView[it]=this}});function gC(e){let n=e[it]??Object.create(vC);return n.lView=e,n}var vC=q(S({},tr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let n=hr(e.lView);for(;n&&!xv(n[ne]);)n=hr(n);n&&xd(n)},consumerOnSignalRead(){this.lView[it]=this}});function xv(e){return e.type!==2}function Mv(e){if(e[dr]===null)return;let n=!0;for(;n;){let t=!1;for(let r of e[dr])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));n=t&&!!(e[L]&8192)}}var yC=100;function Av(e,n=!0,t=0){let i=e[sn].rendererFactory,o=!1;o||i.begin?.();try{_C(e,t)}catch(s){throw n&&wv(e,s),s}finally{o||i.end?.()}}function _C(e,n){let t=wg();try{ja(!0),nd(e,n);let r=0;for(;ul(e);){if(r===yC)throw new x(103,!1);r++,nd(e,1)}}finally{ja(t)}}function bC(e,n,t,r){if(Io(n))return;let i=n[L],o=!1,s=!1;Nd(n);let a=!0,l=null,c=null;o||(xv(e)?(c=fC(n),l=Hr(c)):pp()===null?(a=!1,c=gC(n),l=Hr(c)):n[it]&&(qr(n[it]),n[it]=null));try{gg(n),Xw(e.bindingStartIndex),t!==null&&gv(e,n,t,2,r);let u=(i&3)===3;if(!o)if(u){let m=e.preOrderCheckHooks;m!==null&&Sa(n,m,null)}else{let m=e.preOrderHooks;m!==null&&Ia(n,m,0,null),Cu(n,0)}if(s||wC(n),Mv(n),Nv(n,0),e.contentQueries!==null&&iv(e,n),!o)if(u){let m=e.contentCheckHooks;m!==null&&Sa(n,m)}else{let m=e.contentHooks;m!==null&&Ia(n,m,1),Cu(n,1)}EC(e,n);let p=e.components;p!==null&&kv(n,p,0);let g=e.viewQuery;if(g!==null&&Xu(2,g,r),!o)if(u){let m=e.viewCheckHooks;m!==null&&Sa(n,m)}else{let m=e.viewHooks;m!==null&&Ia(n,m,2),Cu(n,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),n[Ca]){for(let m of n[Ca])m();n[Ca]=null}o||(n[L]&=-73)}catch(u){throw o||To(n),u}finally{c!==null&&(ao(c,l),a&&pC(c)),Rd()}}function Nv(e,n){for(let t=Jg(e);t!==null;t=Kg(t))for(let r=pt;r<t.length;r++){let i=t[r];Rv(i,n)}}function wC(e){for(let n=Jg(e);n!==null;n=Kg(n)){if(!(n[L]&2))continue;let t=n[Fa];for(let r=0;r<t.length;r++){let i=t[r];xd(i)}}}function DC(e,n,t){let r=Ht(n,e);Rv(r,t)}function Rv(e,n){Td(e)&&nd(e,n)}function nd(e,n){let r=e[ne],i=e[L],o=e[it],s=!!(n===0&&i&16);if(s||=!!(i&64&&n===0),s||=!!(i&1024),s||=!!(o?.dirty&&lo(o)),s||=!1,o&&(o.dirty=!1),e[L]&=-9217,s)bC(r,e,r.template,e[mt]);else if(i&8192){Mv(e),Nv(e,1);let a=r.components;a!==null&&kv(e,a,1)}}function kv(e,n,t){for(let r=0;r<n.length;r++)DC(e,n[r],t)}function EC(e,n){let t=e.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)pr(~i);else{let o=i,s=t[++r],a=t[++r];tD(s,o);let l=n[o];ht(24,l),a(2,l),ht(25,l)}}}finally{pr(-1)}}function nf(e,n){let t=wg()?64:1088;for(e[sn].changeDetectionScheduler?.notify(n);e;){e[L]|=t;let r=hr(e);if(La(e)&&!r)return e;e=r}return null}var vr=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let n=this._lView,t=n[ne];return Za(t,n,t.firstChild,[])}constructor(n,t,r=!0){this._lView=n,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[mt]}get dirty(){return!!(this._lView[L]&9280)||!!this._lView[it]?.dirty}set context(n){this._lView[mt]=n}get destroyed(){return Io(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[Be];if(pn(n)){let t=n[Pa],r=t?t.indexOf(this):-1;r>-1&&(ed(n,r),Na(t,r))}this._attachedToViewContainer=!1}Sv(this._lView[ne],this._lView)}onDestroy(n){vg(this._lView,n)}markForCheck(){nf(this._cdRefInjectingView||this._lView,4)}markForRefresh(){xd(this._cdRefInjectingView||this._lView)}detach(){this._lView[L]&=-129}reattach(){Bu(this._lView),this._lView[L]|=128}detectChanges(){this._lView[L]|=1024,Av(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new x(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=La(this._lView),t=this._lView[ci];t!==null&&!n&&ef(t,this._lView),Ev(this._lView[ne],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new x(902,!1);this._appRef=n;let t=La(this._lView),r=this._lView[ci];r!==null&&!t&&Cv(r,this._lView),Bu(this._lView)}},El=(()=>{class e{static __NG_ELEMENT_ID__=IC}return e})(),CC=El,SC=class extends CC{_declarationLView;_declarationTContainer;elementRef;constructor(n,t,r){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,t){return this.createEmbeddedViewImpl(n,t)}createEmbeddedViewImpl(n,t,r){let i=cC(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:t,dehydratedView:r});return new vr(i)}};function IC(){return TC(qe(),re())}function TC(e,n){return e.type&4?new SC(n,e,yl(e,n)):null}function xo(e,n,t,r,i){let o=e.data[n];if(o===null)o=xC(e,n,t,r,i),eD()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=Kw();o.injectorIndex=s===null?-1:s.injectorIndex}return br(o,!0),o}function xC(e,n,t,r,i){let o=_g(),s=Md(),a=s?o:o&&o.parent,l=e.data[n]=AC(e,a,t,n,r,i);return MC(e,l,o,s),l}function MC(e,n,t,r){e.firstChild===null&&(e.firstChild=n),t!==null&&(r?t.child==null&&n.parent!==null&&(t.child=n):t.next===null&&(t.next=n,n.prev=t))}function AC(e,n,t,r,i,o){let s=n?n.injectorIndex:-1,a=0;return Zw()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var BL=new RegExp(`^(\\d+)*(${HD}|${BD})*(.*)`);var NC=()=>null;function Cm(e,n){return NC(e,n)}var rd=class{},Ya=class{},id=class{resolveComponentFactory(n){throw Error(`No component factory found for ${$e(n)}.`)}},hi=class{static NULL=new id},pi=class{},kt=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>RC()}return e})();function RC(){let e=re(),n=qe(),t=Ht(n.index,e);return(Pn(t)?t:e)[he]}var kC=(()=>{class e{static \u0275prov=M({token:e,providedIn:"root",factory:()=>null})}return e})();function Ja(e,n,t){let r=t?e.styles:null,i=t?e.classes:null,o=0;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];if(typeof a=="number")o=a;else if(o==1)i=Ou(i,a);else if(o==2){let l=a,c=n[++s];r=Ou(r,l+": "+c+";")}}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=i:e.classesWithoutHost=i}var Ka=class extends hi{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let t=ur(n);return new wo(t,this.ngModule)}};function Sm(e,n){let t=[];for(let r in e){if(!e.hasOwnProperty(r))continue;let i=e[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:Fn.None;n?t.push({propName:s,templateName:r,isSignal:(a&Fn.SignalBased)!==0}):t.push({propName:s,templateName:r})}return t}function OC(e){let n=e.toLowerCase();return n==="svg"?jw:n==="math"?Vw:null}var wo=class extends Ya{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){let n=this.componentDef,t=n.inputTransforms,r=Sm(n.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return Sm(this.componentDef.outputs,!1)}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=fE(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!t}create(n,t,r,i){let o=X(null);try{i=i||this.ngModule;let s=i instanceof Je?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new zu(n,s):n,l=a.get(pi,null);if(l===null)throw new x(407,!1);let c=a.get(kC,null),u=a.get(gr,null),p={rendererFactory:l,sanitizer:c,changeDetectionScheduler:u},g=l.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",y=r?DE(g,r,this.componentDef.encapsulation,a):uv(g,m,OC(m)),b=512;this.componentDef.signals?b|=4096:this.componentDef.onPush||(b|=16);let D=null;y!==null&&(D=rv(y,a,!0));let T=Wd(0,null,null,1,0,null,null,null,null,null,null),$=qd(null,T,null,b,null,null,p,g,a,null,D);$[gt]=y,Nd($);let P=null;try{let J=r?["ng-version","19.1.4"]:hE(this.componentDef.selectors[0]),V=xo(T,gt,2,"#host",J),[xe,St]=_v(T,V,[this.componentDef]);yv(T,$,V,xe,{},St);for(let xn of xe)V.mergedAttrs=fi(V.mergedAttrs,xn.hostAttrs);V.mergedAttrs=fi(V.mergedAttrs,J),Ja(V,V.mergedAttrs,!0),y&&(fv(g,y,V),wr(y,$)),t!==void 0&&PC(V,this.ngContentSelectors,t),vv(T,$,V),$d(T,V,$),gl(T,V),P=Ht(V.index,$),$[mt]=P[mt],Kd(T,$,null)}catch(J){throw P!==null&&Ju(P),Ju($),J}finally{Rd()}return new od(this.componentType,$)}finally{X(o)}}},od=class extends rd{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,t){super(),this._rootLView=t,this._tNode=mg(t[ne],gt),this.location=yl(this._tNode,t),this.instance=Ht(this._tNode.index,t)[mt],this.hostView=this.changeDetectorRef=new vr(t,void 0,!1),this.componentType=n}setInput(n,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;let o=this._rootLView;Jd(o[ne],o,i,n,t),this.previousInputValues.set(n,t);let s=Ht(this._tNode.index,o);nf(s,1)}}get injector(){return new lr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function PC(e,n,t){let r=e.projection=[];for(let i=0;i<n.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var bi=(()=>{class e{static __NG_ELEMENT_ID__=FC}return e})();function FC(){let e=qe();return jC(e,re())}var LC=bi,Ov=class extends LC{_lContainer;_hostTNode;_hostLView;constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return yl(this._hostTNode,this._hostLView)}get injector(){return new lr(this._hostTNode,this._hostLView)}get parentInjector(){let n=kd(this._hostTNode,this._hostLView);if(Rg(n)){let t=Ua(n,this._hostLView),r=Va(n),i=t[ne].data[r+8];return new lr(i,t)}else return new lr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let t=Im(this._lContainer);return t!==null&&t[n]||null}get length(){return this._lContainer.length-pt}createEmbeddedView(n,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Cm(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Em(this._hostTNode,s)),a}createComponent(n,t,r,i,o){let s=n&&!Ow(n),a;if(s)a=t;else{let y=t||{};a=y.index,r=y.injector,i=y.projectableNodes,o=y.environmentInjector||y.ngModuleRef}let l=s?n:new wo(ur(n)),c=r||this.parentInjector;if(!o&&l.ngModule==null){let b=(s?c:this.parentInjector).get(Je,null);b&&(o=b)}let u=ur(l.componentType??{}),p=Cm(this._lContainer,u?.id??null),g=p?.firstChild??null,m=l.create(c,i,g,o);return this.insertImpl(m.hostView,a,Em(this._hostTNode,p)),m}insert(n,t){return this.insertImpl(n,t,!0)}insertImpl(n,t,r){let i=n._lView;if($w(i)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let l=i[Be],c=new Ov(l,l[At],l[Be]);c.detach(c.indexOf(n))}}let o=this._adjustIndex(t),s=this._lContainer;return uC(s,i,o,r),n.attachToViewContainerRef(),Zm(xu(s),o,n),n}move(n,t){return this.insert(n,t)}indexOf(n){let t=Im(this._lContainer);return t!==null?t.indexOf(n):-1}remove(n){let t=this._adjustIndex(n,-1),r=ed(this._lContainer,t);r&&(Na(xu(this._lContainer),t),Sv(r[ne],r))}detach(n){let t=this._adjustIndex(n,-1),r=ed(this._lContainer,t);return r&&Na(xu(this._lContainer),t)!=null?new vr(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function Im(e){return e[Pa]}function xu(e){return e[Pa]||(e[Pa]=[])}function jC(e,n){let t,r=n[e.index];return pn(r)?t=r:(t=bv(r,n,null,e),n[e.index]=t,Yd(n,t)),UC(t,n,e,r),new Ov(t,e,n)}function VC(e,n){let t=e[he],r=t.createComment(""),i=Nt(n,e),o=t.parentNode(i);return Qa(t,o,r,t.nextSibling(i),!1),r}var UC=HC,$C=()=>!1;function BC(e,n,t){return $C(e,n,t)}function HC(e,n,t,r){if(e[fr])return;let i;t.type&8?i=Bt(r):i=VC(n,t),e[fr]=i}var Ln=class{},Do=class{};var sd=class extends Ln{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Ka(this);constructor(n,t,r,i=!0){super(),this.ngModuleType=n,this._parent=t;let o=Km(n);this._bootstrapComponents=lv(o.bootstrap),this._r3Injector=$g(n,t,[{provide:Ln,useValue:this},{provide:hi,useValue:this.componentFactoryResolver},...r],$e(n),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},ad=class extends Do{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new sd(this.moduleType,n,[])}};var Xa=class extends Ln{injector;componentFactoryResolver=new Ka(this);instance=null;constructor(n){super();let t=new vo([...n.providers,{provide:Ln,useValue:this},{provide:hi,useValue:this.componentFactoryResolver}],n.parent||Sd(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function rf(e,n,t=null){return new Xa({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}var qC=(()=>{class e{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=ng(!1,t.type),i=r.length>0?rf([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=M({token:e,providedIn:"environment",factory:()=>new e(k(Je))})}return e})();function be(e){return Co(()=>{let n=Fv(e),t=q(S({},n),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Zg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:n.standalone?i=>i.get(qC).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||qt.Emulated,styles:e.styles||Ye,_:null,schemas:e.schemas||null,tView:null,id:""});n.standalone&&jn("NgStandalone"),Lv(t);let r=e.dependencies;return t.directiveDefs=xm(r,!1),t.pipeDefs=xm(r,!0),t.id=WC(t),t})}function zC(e){return ur(e)||Xm(e)}function GC(e){return e!==null}function yn(e){return Co(()=>({type:e.type,bootstrap:e.bootstrap||Ye,declarations:e.declarations||Ye,imports:e.imports||Ye,exports:e.exports||Ye,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Tm(e,n){if(e==null)return si;let t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a=Fn.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),n?(t[o]=a!==Fn.None?[r,a]:r,n[o]=s):t[o]=r}return t}function oe(e){return Co(()=>{let n=Fv(e);return Lv(n),n})}function Pv(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function Fv(e){let n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||si,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||Ye,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Tm(e.inputs,n),outputs:Tm(e.outputs),debugInfo:null}}function Lv(e){e.features?.forEach(n=>n(e))}function xm(e,n){if(!e)return null;let t=n?eg:zC;return()=>(typeof e=="function"?e():e).map(r=>t(r)).filter(GC)}function WC(e){let n=0,t=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,t,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))n=Math.imul(31,n)+o.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function QC(e){return Object.getPrototypeOf(e.prototype).constructor}function Oe(e){let n=QC(e.type),t=!0,r=[e];for(;n;){let i;if(an(e))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new x(903,!1);i=n.\u0275dir}if(i){if(t){r.push(i);let s=e;s.inputs=wa(e.inputs),s.inputTransforms=wa(e.inputTransforms),s.declaredInputs=wa(e.declaredInputs),s.outputs=wa(e.outputs);let a=i.hostBindings;a&&XC(e,a);let l=i.viewQuery,c=i.contentQueries;if(l&&JC(e,l),c&&KC(e,c),ZC(e,i),tw(e.outputs,i.outputs),an(i)&&i.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===Oe&&(t=!1)}}n=Object.getPrototypeOf(n)}YC(r)}function ZC(e,n){for(let t in n.inputs){if(!n.inputs.hasOwnProperty(t)||e.inputs.hasOwnProperty(t))continue;let r=n.inputs[t];if(r!==void 0&&(e.inputs[t]=r,e.declaredInputs[t]=n.declaredInputs[t],n.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!n.inputTransforms.hasOwnProperty(i))continue;e.inputTransforms??={},e.inputTransforms[i]=n.inputTransforms[i]}}}function YC(e){let n=0,t=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=n+=i.hostVars,i.hostAttrs=fi(i.hostAttrs,t=fi(t,i.hostAttrs))}}function wa(e){return e===si?{}:e===Ye?[]:e}function JC(e,n){let t=e.viewQuery;t?e.viewQuery=(r,i)=>{n(r,i),t(r,i)}:e.viewQuery=n}function KC(e,n){let t=e.contentQueries;t?e.contentQueries=(r,i,o)=>{n(r,i,o),t(r,i,o)}:e.contentQueries=n}function XC(e,n){let t=e.hostBindings;t?e.hostBindings=(r,i)=>{n(r,i),t(r,i)}:e.hostBindings=n}function of(e){let n=e.inputConfig,t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}e.inputTransforms=t}function jv(e){return tS(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function eS(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{let t=e[Symbol.iterator](),r;for(;!(r=t.next()).done;)n(r.value)}}function tS(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function Vv(e,n,t){return e[n]=t}function un(e,n,t){let r=e[n];return Object.is(r,t)?!1:(e[n]=t,!0)}function sf(e,n,t,r){let i=un(e,n,t);return un(e,n+1,r)||i}function Uv(e,n,t,r,i){let o=sf(e,n,t,r);return un(e,n+2,i)||o}function nS(e,n,t,r,i,o,s,a,l){let c=n.consts,u=xo(n,e,4,s||null,a||null);Zd(n,t,u,di(c,l)),gl(n,u);let p=u.tView=Wd(2,u,r,i,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,c,null);return n.queries!==null&&(n.queries.template(n,u),p.queries=n.queries.embeddedTView(u)),u}function rS(e,n,t,r,i,o,s,a,l,c){let u=t+gt,p=n.firstCreatePass?nS(u,n,e,r,i,o,s,a,l):n.data[u];br(p,!1);let g=iS(n,e,p,t);pl()&&wl(n,e,g,p),wr(g,e);let m=bv(g,e,g,p);return e[u]=m,Yd(e,m),BC(m,p,e),cl(p)&&zd(n,e,p),l!=null&&Gd(e,p,c),p}function I(e,n,t,r,i,o,s,a){let l=re(),c=Ne(),u=di(c.consts,o);return rS(l,c,e,n,t,r,i,u,s,a),I}var iS=oS;function oS(e,n,t,r){return ml(!0),n[he].createComment("")}var af=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var $v=new N("");function Dr(e){return!!e&&typeof e.then=="function"}function Bv(e){return!!e&&typeof e.subscribe=="function"}var Hv=new N("");var qv=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=C(Hv,{optional:!0})??[];injector=C(Ae);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=ke(this.injector,i);if(Dr(o))t.push(o);else if(Bv(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),zv=(()=>{class e{static \u0275prov=M({token:e,providedIn:"root",factory:()=>new el})}return e})(),el=class{queuedEffectCount=0;queues=new Map;schedule(n){this.enqueue(n)}remove(n){let t=n.zone,r=this.queues.get(t);r.has(n)&&(r.delete(n),this.queuedEffectCount--)}enqueue(n){let t=n.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(n)||(this.queuedEffectCount++,r.add(n))}flush(){for(;this.queuedEffectCount>0;)for(let[n,t]of this.queues)n===null?this.flushQueue(t):n.run(()=>this.flushQueue(t))}flushQueue(n){for(let t of n)n.delete(t),this.queuedEffectCount--,t.run()}},Cl=new N("");function sS(){Sp(()=>{throw new x(600,!1)})}function aS(e){return e.isBoundToModule}var lS=10;function cS(e,n,t){try{let r=t();return Dr(r)?r.catch(i=>{throw n.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>e.handleError(r)),r}}var dn=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=C(RD);afterRenderManager=C(zD);zonelessEnabled=C(vl);rootEffectScheduler=C(zv);dirtyFlags=0;deferredDirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Ce;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=C(vn).hasPendingTasks.pipe(B(t=>!t));constructor(){C(_l,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=C(Je);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){let i=t instanceof Ya;if(!this._injector.get(qv).done){let g=!i&&tg(t),m=!1;throw new x(405,m)}let s;i?s=t:s=this._injector.get(hi).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=aS(s)?void 0:this._injector.get(Ln),l=r||s.selector,c=s.create(Ae.NULL,[],l,a),u=c.location.nativeElement,p=c.injector.get($v,null);return p?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),Ta(this.components,c),p?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick=()=>{if(this.tracingSnapshot!==null){let r=this.tracingSnapshot;this.tracingSnapshot=null,r.run(nv.CHANGE_DETECTION,this._tick),r.dispose();return}if(this._runningTick)throw new x(101,!1);let t=X(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,X(t),this.afterTick.next()}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(pi,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let t=0;for(;this.dirtyFlags!==0&&t++<lS;)this.synchronizeOnce()}synchronizeOnce(){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)uS(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>ul(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Ta(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Cl,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Ta(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new x(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Ta(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function uS(e,n,t,r){if(!t&&!ul(e))return;Av(e,n,t&&!r?0:1)}function wi(e,n,t,r){let i=re(),o=dl();if(un(i,o,n)){let s=Ne(),a=hl();$E(a,i,e,n,t,r)}return wi}function Gv(e,n,t,r){return un(e,dl(),t)?n+on(t)+r:Ke}function dS(e,n,t,r,i,o){let s=Dg(),a=sf(e,s,t,i);return fl(2),a?n+on(t)+r+on(i)+o:Ke}function fS(e,n,t,r,i,o,s,a){let l=Dg(),c=Uv(e,l,t,i,s);return fl(3),c?n+on(t)+r+on(i)+o+on(s)+a:Ke}function Da(e,n){return e<<17|n<<2}function yr(e){return e>>17&32767}function hS(e){return(e&2)==2}function pS(e,n){return e&131071|n<<17}function ld(e){return e|2}function mi(e){return(e&131068)>>2}function Mu(e,n){return e&-131069|n<<2}function mS(e){return(e&1)===1}function cd(e){return e|1}function gS(e,n,t,r,i,o){let s=o?n.classBindings:n.styleBindings,a=yr(s),l=mi(s);e[r]=t;let c=!1,u;if(Array.isArray(t)){let p=t;u=p[1],(u===null||So(p,u)>0)&&(c=!0)}else u=t;if(i)if(l!==0){let g=yr(e[a+1]);e[r+1]=Da(g,a),g!==0&&(e[g+1]=Mu(e[g+1],r)),e[a+1]=pS(e[a+1],r)}else e[r+1]=Da(a,0),a!==0&&(e[a+1]=Mu(e[a+1],r)),a=r;else e[r+1]=Da(l,0),a===0?a=r:e[l+1]=Mu(e[l+1],r),l=r;c&&(e[r+1]=ld(e[r+1])),Mm(e,u,r,!0),Mm(e,u,r,!1),vS(n,u,e,r,o),s=Da(a,l),o?n.classBindings=s:n.styleBindings=s}function vS(e,n,t,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof n=="string"&&So(o,n)>=0&&(t[r+1]=cd(t[r+1]))}function Mm(e,n,t,r){let i=e[t+1],o=n===null,s=r?yr(i):mi(i),a=!1;for(;s!==0&&(a===!1||o);){let l=e[s],c=e[s+1];yS(l,n)&&(a=!0,e[s+1]=r?cd(c):ld(c)),s=r?yr(c):mi(c)}a&&(e[t+1]=r?ld(i):cd(i))}function yS(e,n){return e===null||n==null||(Array.isArray(e)?e[1]:e)===n?!0:Array.isArray(e)&&typeof n=="string"?So(e,n)>=0:!1}var xt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function _S(e){return e.substring(xt.key,xt.keyEnd)}function bS(e){return wS(e),Wv(e,Qv(e,0,xt.textEnd))}function Wv(e,n){let t=xt.textEnd;return t===n?-1:(n=xt.keyEnd=DS(e,xt.key=n,t),Qv(e,n,t))}function wS(e){xt.key=0,xt.keyEnd=0,xt.value=0,xt.valueEnd=0,xt.textEnd=e.length}function Qv(e,n,t){for(;n<t&&e.charCodeAt(n)<=32;)n++;return n}function DS(e,n,t){for(;n<t&&e.charCodeAt(n)>32;)n++;return n}function _(e,n,t){let r=re(),i=dl();if(un(r,i,n)){let o=Ne(),s=hl();Qd(o,s,r,e,n,r[he],t,!1)}return _}function ud(e,n,t,r,i){let o=n.inputs,s=i?"class":"style";Jd(e,t,o[s],s,r)}function Di(e,n,t){return Yv(e,n,t,!1),Di}function zt(e,n){return Yv(e,n,null,!0),zt}function Zv(e){CS(AS,ES,e,!0)}function ES(e,n){for(let t=bS(n);t>=0;t=Wv(n,t))Ed(e,_S(n),!0)}function Yv(e,n,t,r){let i=re(),o=Ne(),s=fl(2);if(o.firstUpdatePass&&Kv(o,e,s,r),n!==Ke&&un(i,s,n)){let a=o.data[gn()];Xv(o,a,i,i[he],e,i[s+1]=RS(n,t),r,s)}}function CS(e,n,t,r){let i=Ne(),o=fl(2);i.firstUpdatePass&&Kv(i,null,o,r);let s=re();if(t!==Ke&&un(s,o,t)){let a=i.data[gn()];if(ey(a,r)&&!Jv(i,o)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(t=Ou(l,t||"")),ud(i,a,s,t,r)}else NS(i,a,s,s[he],s[o+1],s[o+1]=MS(e,n,t),r,o)}}function Jv(e,n){return n>=e.expandoStartIndex}function Kv(e,n,t,r){let i=e.data;if(i[t+1]===null){let o=i[gn()],s=Jv(e,t);ey(o,r)&&n===null&&!s&&(n=!1),n=SS(i,o,n,r),gS(i,o,n,t,s,r)}}function SS(e,n,t,r){let i=rD(e),o=r?n.residualClasses:n.residualStyles;if(i===null)(r?n.classBindings:n.styleBindings)===0&&(t=Au(null,e,n,t,r),t=Eo(t,n.attrs,r),o=null);else{let s=n.directiveStylingLast;if(s===-1||e[s]!==i)if(t=Au(i,e,n,t,r),o===null){let l=IS(e,n,r);l!==void 0&&Array.isArray(l)&&(l=Au(null,e,n,l[1],r),l=Eo(l,n.attrs,r),TS(e,n,r,l))}else o=xS(e,n,r)}return o!==void 0&&(r?n.residualClasses=o:n.residualStyles=o),t}function IS(e,n,t){let r=t?n.classBindings:n.styleBindings;if(mi(r)!==0)return e[yr(r)]}function TS(e,n,t,r){let i=t?n.classBindings:n.styleBindings;e[yr(i)]=r}function xS(e,n,t){let r,i=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=Eo(r,s,t)}return Eo(r,n.attrs,t)}function Au(e,n,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=n[a],r=Eo(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(t.directiveStylingLast=a),r}function Eo(e,n,t){let r=t?1:2,i=-1;if(n!==null)for(let o=0;o<n.length;o++){let s=n[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),Ed(e,s,t?!0:n[++o]))}return e===void 0?null:e}function MS(e,n,t){if(t==null||t==="")return Ye;let r=[],i=_i(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)e(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&e(r,o,i[o]);else typeof i=="string"&&n(r,i);return r}function AS(e,n,t){let r=String(n);r!==""&&!r.includes(" ")&&Ed(e,r,t)}function NS(e,n,t,r,i,o,s,a){i===Ke&&(i=Ye);let l=0,c=0,u=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;u!==null||p!==null;){let g=l<i.length?i[l+1]:void 0,m=c<o.length?o[c+1]:void 0,y=null,b;u===p?(l+=2,c+=2,g!==m&&(y=p,b=m)):p===null||u!==null&&u<p?(l+=2,y=u):(c+=2,y=p,b=m),y!==null&&Xv(e,n,t,r,y,b,s,a),u=l<i.length?i[l]:null,p=c<o.length?o[c]:null}}function Xv(e,n,t,r,i,o,s,a){if(!(n.type&3))return;let l=e.data,c=l[a+1],u=mS(c)?Am(l,n,t,i,mi(c),s):void 0;if(!tl(u)){tl(o)||hS(c)&&(o=Am(l,null,t,i,a,s));let p=pg(gn(),t);lC(r,s,p,i,o)}}function Am(e,n,t,r,i,o){let s=n===null,a;for(;i>0;){let l=e[i],c=Array.isArray(l),u=c?l[1]:l,p=u===null,g=t[i+1];g===Ke&&(g=p?Ye:void 0);let m=p?Du(g,r):u===r?g:void 0;if(c&&!tl(m)&&(m=Du(l,r)),tl(m)&&(a=m,s))return a;let y=e[i+1];i=s?yr(y):mi(y)}if(n!==null){let l=o?n.residualClasses:n.residualStyles;l!=null&&(a=Du(l,r))}return a}function tl(e){return e!==void 0}function RS(e,n){return e==null||e===""||(typeof n=="string"?e=e+n:typeof e=="object"&&(e=$e(_i(e)))),e}function ey(e,n){return(e.flags&(n?8:16))!==0}function kS(e,n,t,r,i,o){let s=n.consts,a=di(s,i),l=xo(n,e,2,r,a);return Zd(n,t,l,di(s,o)),l.attrs!==null&&Ja(l,l.attrs,!1),l.mergedAttrs!==null&&Ja(l,l.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,l),l}function f(e,n,t,r){let i=re(),o=Ne(),s=gt+e,a=i[he],l=o.firstCreatePass?kS(s,o,i,n,t,r):o.data[s],c=OS(o,i,l,a,n,e);i[s]=c;let u=cl(l);return br(l,!0),fv(a,c,l),!Dv(l)&&pl()&&wl(o,i,c,l),Gw()===0&&wr(c,i),Ww(),u&&(zd(o,i,l),$d(o,l,i)),r!==null&&Gd(i,l),f}function d(){let e=qe();Md()?bg():(e=e.parent,br(e,!1));let n=e;Yw(n)&&Jw(),Qw();let t=Ne();return t.firstCreatePass&&(gl(t,e),Id(e)&&t.queries.elementEnd(e)),n.classesWithoutHost!=null&&uD(n)&&ud(t,n,re(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&dD(n)&&ud(t,n,re(),n.stylesWithoutHost,!1),d}function w(e,n,t,r){return f(e,n,t,r),d(),w}var OS=(e,n,t,r,i,o)=>(ml(!0),uv(r,i,sD()));function PS(e,n,t,r,i){let o=n.consts,s=di(o,r),a=xo(n,e,8,"ng-container",s);s!==null&&Ja(a,s,!0);let l=di(o,i);return Zd(n,t,a,l),n.queries!==null&&n.queries.elementStart(n,a),a}function Sl(e,n,t){let r=re(),i=Ne(),o=e+gt,s=i.firstCreatePass?PS(o,i,r,n,t):i.data[o];br(s,!0);let a=FS(i,r,s,e);return r[o]=a,pl()&&wl(i,r,a,s),wr(a,r),cl(s)&&(zd(i,r,s),$d(i,s,r)),t!=null&&Gd(r,s),Sl}function Il(){let e=qe(),n=Ne();return Md()?bg():(e=e.parent,br(e,!1)),n.firstCreatePass&&(gl(n,e),Id(e)&&n.queries.elementEnd(e)),Il}var FS=(e,n,t,r)=>(ml(!0),gE(n[he],""));function me(){return re()}var sr=void 0;function LS(e){let n=e,t=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return t===1&&r===0?1:5}var jS=["en",[["a","p"],["AM","PM"],sr],[["AM","PM"],sr,sr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],sr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],sr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",sr,"{1} 'at' {0}",sr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",LS],Nu={};function _t(e){let n=VS(e),t=Nm(n);if(t)return t;let r=n.split("-")[0];if(t=Nm(r),t)return t;if(r==="en")return jS;throw new x(701,!1)}function Nm(e){return e in Nu||(Nu[e]=ar.ng&&ar.ng.common&&ar.ng.common.locales&&ar.ng.common.locales[e]),Nu[e]}var ge=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(ge||{});function VS(e){return e.toLowerCase().replace(/_/g,"-")}var nl="en-US";var US=nl;function $S(e){typeof e=="string"&&(US=e.toLowerCase().replace(/_/g,"-"))}var BS=(e,n,t)=>{};function O(e,n,t,r){let i=re(),o=Ne(),s=qe();return ty(o,i,i[he],s,e,n,r),O}function HS(e,n,t,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=n[Oa],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function ty(e,n,t,r,i,o,s){let a=cl(r),c=e.firstCreatePass&&zw(e),u=n[mt],p=qw(n),g=!0;if(r.type&3||s){let b=Nt(r,n),D=s?s(b):b,T=p.length,$=s?J=>s(Bt(J[r.index])):r.index,P=null;if(!s&&a&&(P=HS(e,n,i,r.index)),P!==null){let J=P.__ngLastListenerFn__||P;J.__ngNextListenerFn__=o,P.__ngLastListenerFn__=o,g=!1}else{o=km(r,n,u,o),BS(b,i,o);let J=t.listen(D,i,o);p.push(o,J),c&&c.push(i,$,T,T+1)}}else o=km(r,n,u,o);let m=r.outputs,y;if(g&&m!==null&&(y=m[i])){let b=y.length;if(b)for(let D=0;D<b;D+=2){let T=y[D],$=y[D+1],V=n[T][$].subscribe(o),xe=p.length;p.push(o,V),c&&c.push(i,r.index,xe,-(xe+1))}}}function Rm(e,n,t,r){let i=X(null);try{return ht(6,n,t),t(r)!==!1}catch(o){return wv(e,o),!1}finally{ht(7,n,t),X(i)}}function km(e,n,t,r){return function i(o){if(o===Function)return r;let s=_r(e)?Ht(e.index,n):n;nf(s,5);let a=Rm(n,t,r,o),l=i.__ngNextListenerFn__;for(;l;)a=Rm(n,t,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function R(e=1){return oD(e)}function lf(e,n,t){return ny(e,"",n,"",t),lf}function ny(e,n,t,r,i){let o=re(),s=Gv(o,n,t,r);if(s!==Ke){let a=Ne(),l=hl();Qd(a,l,o,e,s,o[he],i,!1)}return ny}function qS(e,n,t,r){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),n[t]=r}function h(e,n=""){let t=re(),r=Ne(),i=e+gt,o=r.firstCreatePass?xo(r,i,1,n,null):r.data[i],s=zS(r,t,o,n,e);t[i]=s,pl()&&wl(r,t,s,o),br(o,!1)}var zS=(e,n,t,r,i)=>(ml(!0),pE(n[he],r));function Ie(e){return z("",e,""),Ie}function z(e,n,t){let r=re(),i=Gv(r,e,n,t);return i!==Ke&&df(r,gn(),i),z}function cf(e,n,t,r,i){let o=re(),s=dS(o,e,n,t,r,i);return s!==Ke&&df(o,gn(),s),cf}function uf(e,n,t,r,i,o,s){let a=re(),l=fS(a,e,n,t,r,i,o,s);return l!==Ke&&df(a,gn(),l),uf}function df(e,n,t){let r=pg(n,e);mE(e[he],r,t)}function Er(e,n,t){Wg(n)&&(n=n());let r=re(),i=dl();if(un(r,i,n)){let o=Ne(),s=hl();Qd(o,s,r,e,n,r[he],t,!1)}return Er}function Ei(e,n){let t=Wg(e);return t&&e.set(n),t}function Cr(e,n){let t=re(),r=Ne(),i=qe();return ty(r,t,t[he],i,e,n),Cr}function GS(e,n,t){let r=Ne();if(r.firstCreatePass){let i=an(e);dd(t,r.data,r.blueprint,i,!0),dd(n,r.data,r.blueprint,i,!1)}}function dd(e,n,t,r,i){if(e=Ue(e),Array.isArray(e))for(let o=0;o<e.length;o++)dd(e[o],n,t,r,i);else{let o=Ne(),s=re(),a=qe(),l=li(e)?e:Ue(e.provide),c=og(e),u=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(li(e)||!e.multi){let m=new mr(c,i,E),y=ku(l,n,i?u:u+g,p);y===-1?(Wu(Ba(a,s),o,l),Ru(o,e,n.length),n.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(m),s.push(m)):(t[y]=m,s[y]=m)}else{let m=ku(l,n,u+g,p),y=ku(l,n,u,u+g),b=m>=0&&t[m],D=y>=0&&t[y];if(i&&!D||!i&&!b){Wu(Ba(a,s),o,l);let T=ZS(i?QS:WS,t.length,i,r,c);!i&&D&&(t[y].providerFactory=T),Ru(o,e,n.length,0),n.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(T),s.push(T)}else{let T=ry(t[i?y:m],c,!i&&r);Ru(o,e,m>-1?m:y,T)}!i&&r&&D&&t[y].componentProviders++}}}function Ru(e,n,t,r){let i=li(n),o=Tw(n);if(i||o){let l=(o?Ue(n.useClass):n).prototype.ngOnDestroy;if(l){let c=e.destroyHooks||(e.destroyHooks=[]);if(!i&&n.multi){let u=c.indexOf(t);u===-1?c.push(t,[r,l]):c[u+1].push(r,l)}else c.push(t,l)}}}function ry(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function ku(e,n,t,r){for(let i=t;i<r;i++)if(n[i]===e)return i;return-1}function WS(e,n,t,r){return fd(this.multi,[])}function QS(e,n,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Ha(t,t[ne],this.providerFactory.index,r);o=a.slice(0,s),fd(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],fd(i,o);return o}function fd(e,n){for(let t=0;t<e.length;t++){let r=e[t];n.push(r())}return n}function ZS(e,n,t,r,i){let o=new mr(e,t,E);return o.multi=[],o.index=n,o.componentProviders=0,ry(o,i,r&&!t),o}function st(e,n=[]){return t=>{t.providersResolver=(r,i)=>GS(r,i?i(e):e,n)}}function Ci(e,n,t,r,i){return oy(re(),Ad(),e,n,t,r,i)}function Mo(e,n,t,r,i,o){return YS(re(),Ad(),e,n,t,r,i,o)}function iy(e,n){let t=e[n];return t===Ke?void 0:t}function oy(e,n,t,r,i,o,s){let a=n+t;return sf(e,a,i,o)?Vv(e,a+2,s?r.call(s,i,o):r(i,o)):iy(e,a+2)}function YS(e,n,t,r,i,o,s,a){let l=n+t;return Uv(e,l,i,o,s)?Vv(e,l+3,a?r.call(a,i,o,s):r(i,o,s)):iy(e,l+3)}function Ao(e,n){let t=Ne(),r,i=e+gt;t.firstCreatePass?(r=JS(n,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=cr(r.type,!0)),s,a=Ze(E);try{let l=$a(!1),c=o();return $a(l),qS(t,re(),i,c),c}finally{Ze(a)}}function JS(e,n){if(n)for(let t=n.length-1;t>=0;t--){let r=n[t];if(e===r.name)return r}}function No(e,n,t,r){let i=e+gt,o=re(),s=Uw(o,i);return KS(o,i)?oy(o,Ad(),n,s.transform,t,r,s):s.transform(t,r)}function KS(e,n){return e[ne].data[n].pure}var hd=class{ngModuleFactory;componentFactories;constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}},ff=(()=>{class e{compileModuleSync(t){return new ad(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Km(t),o=lv(i.declarations).reduce((s,a)=>{let l=ur(a);return l&&s.push(new wo(l)),s},[]);return new hd(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var XS=(()=>{class e{zone=C(_e);changeDetectionScheduler=C(gr);applicationRef=C(dn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function eI({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:t}){return e??=()=>new _e(q(S({},tI()),{scheduleInRootZone:t})),[{provide:_e,useFactory:e},{provide:ai,multi:!0,useFactory:()=>{let r=C(XS,{optional:!0});return()=>r.initialize()}},{provide:ai,multi:!0,useFactory:()=>{let r=C(nI);return()=>{r.initialize()}}},n===!0?{provide:Hg,useValue:!0}:[],{provide:Pd,useValue:t??Bg}]}function tI(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var nI=(()=>{class e{subscription=new ve;initialized=!1;zone=C(_e);pendingTasks=C(vn);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{_e.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{_e.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var sy=(()=>{class e{appRef=C(dn);taskService=C(vn);ngZone=C(_e);zonelessEnabled=C(vl);tracing=C(_l,{optional:!0});disableScheduling=C(Hg,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ve;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(za):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(C(Pd,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Ga||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 8:{this.appRef.deferredDirtyFlags|=8;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 13:{this.appRef.dirtyFlags|=16,r=!0;break}case 14:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{r=!0;break}case 10:case 9:case 7:case 11:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?dm:qg;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(za+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,dm(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ay(){return jn("NgZoneless"),gi([{provide:gr,useExisting:sy},{provide:_e,useClass:Ga},{provide:vl,useValue:!0},{provide:Pd,useValue:!1},[]])}function rI(){return typeof $localize<"u"&&$localize.locale||nl}var Tl=new N("",{providedIn:"root",factory:()=>C(Tl,G.Optional|G.SkipSelf)||rI()});var pd=new N(""),iI=new N("");function fo(e){return!e.moduleRef}function oI(e){let n=fo(e)?e.r3Injector:e.moduleRef.injector,t=n.get(_e);return t.run(()=>{fo(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=n.get(ln,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),fo(e)){let o=()=>n.destroy(),s=e.platformInjector.get(pd);s.add(o),n.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(pd);s.add(o),e.moduleRef.onDestroy(()=>{Ta(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return cS(r,t,()=>{let o=n.get(qv);return o.runInitializers(),o.donePromise.then(()=>{let s=n.get(Tl,nl);if($S(s||nl),!n.get(iI,!0))return fo(e)?n.get(dn):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(fo(e)){let l=n.get(dn);return e.rootComponent!==void 0&&l.bootstrap(e.rootComponent),l}else return sI(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function sI(e,n){let t=e.injector.get(dn);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(t);else throw new x(-403,!1);n.push(e)}var xa=null;function aI(e=[],n){return Ae.create({name:n,providers:[{provide:al,useValue:"platform"},{provide:pd,useValue:new Set([()=>xa=null])},...e]})}function lI(e=[]){if(xa)return xa;let n=aI(e);return xa=n,sS(),cI(n),n}function cI(e){let n=e.get(Vd,null);ke(e,()=>{n?.forEach(t=>t())})}var pe=(()=>{class e{static __NG_ELEMENT_ID__=uI}return e})();function uI(e){return dI(qe(),re(),(e&16)===16)}function dI(e,n,t){if(_r(e)&&!t){let r=Ht(e.index,n);return new vr(r,r)}else if(e.type&175){let r=n[$t];return new vr(r,n)}return null}var md=class{constructor(){}supports(n){return jv(n)}create(n){return new gd(n)}},fI=(e,n)=>n,gd=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(n){this._trackByFn=n||fI}forEachItem(n){let t;for(t=this._itHead;t!==null;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<Om(r,i,o)?t:r,a=Om(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let c=a-i,u=l-i;if(c!=u){for(let g=0;g<c;g++){let m=g<o.length?o[g]:o[g]=0,y=m+g;u<=y&&y<c&&(o[g]=m+1)}let p=s.previousIndex;o[p]=u-c}}a!==l&&n(s,a,l)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)n(t)}diff(n){if(n==null&&(n=[]),!jv(n))throw new x(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,eS(n,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,r,i){let o;return n===null?o=this._itTail:(o=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),n!==null?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,o,i)):(n=this._linkedRecords===null?null:this._linkedRecords.get(r,i),n!==null?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,o,i)):n=this._addAfter(new vd(t,r),o,i)),n}_verifyReinsertion(n,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?n=this._reinsertAfter(o,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;n!==null;){let t=n._next;this._addToRemovals(this._unlink(n)),n=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let i=n._prevRemoved,o=n._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(n,t,r),this._addToMoves(n,r),n}_moveAfter(n,t,r){return this._unlink(n),this._insertAfter(n,t,r),this._addToMoves(n,r),n}_addAfter(n,t,r){return this._insertAfter(n,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,t,r){let i=t===null?this._itHead:t._next;return n._next=i,n._prev=t,i===null?this._itTail=n:i._prev=n,t===null?this._itHead=n:t._next=n,this._linkedRecords===null&&(this._linkedRecords=new rl),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let t=n._prev,r=n._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new rl),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},vd=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(n,t){this.item=n,this.trackById=t}},yd=class{_head=null;_tail=null;add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){let t=n._prevDup,r=n._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},rl=class{map=new Map;put(n){let t=n.trackById,r=this.map.get(t);r||(r=new yd,this.map.set(t,r)),r.add(n)}get(n,t){let r=n,i=this.map.get(r);return i?i.get(n,t):null}remove(n){let t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Om(e,n,t){let r=e.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+n+i}function Pm(){return new hf([new md])}var hf=(()=>{class e{factories;static \u0275prov=M({token:e,providedIn:"root",factory:Pm});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||Pm()),deps:[[e,new bw,new Qm]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new x(901,!1)}}return e})();function ly(e){try{let{rootComponent:n,appProviders:t,platformProviders:r}=e,i=lI(r),o=[eI({}),{provide:gr,useExisting:sy},...t||[]],s=new Xa({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return oI({r3Injector:s.injector,platformInjector:i,rootComponent:n})}catch(n){return Promise.reject(n)}}function Sr(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function Vn(e,n){jn("NgSignals");let t=Dp(e);return n?.equal&&(t[Ge].equal=n.equal),t}function Gt(e){let n=X(null);try{return e()}finally{X(n)}}var cy=(()=>{class e{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=hI}return e})();function hI(){return new cy(re(),qe())}var pI=!1,mI=(()=>{class e extends el{pendingTasks=C(vn);taskId=null;schedule(t){super.schedule(t),this.taskId===null&&(this.taskId=this.pendingTasks.add(),queueMicrotask(()=>this.flush()))}flush(){try{super.flush()}finally{this.taskId!==null&&(this.pendingTasks.remove(this.taskId),this.taskId=null)}}static \u0275prov=M({token:e,providedIn:"root",factory:()=>new e})}return e})(),_d=class{scheduler;effectFn;zone;injector;unregisterOnDestroy;watcher;constructor(n,t,r,i,o,s){this.scheduler=n,this.effectFn=t,this.zone=r,this.injector=o,this.watcher=xp(a=>this.runEffect(a),()=>this.schedule(),s),this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}runEffect(n){try{this.effectFn(n)}catch(t){this.injector.get(ln,null,{optional:!0})?.handleError(t)}}run(){this.watcher.run()}schedule(){this.scheduler.schedule(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function gI(){}function vI(e,n){jn("NgSignals"),!n?.injector&&ag(gI);let t=n?.injector??C(Ae),r=n?.manualCleanup!==!0?t.get(yi):null,i=new _d(t.get(mI),e,typeof Zone>"u"?null:Zone.current,r,t,n?.allowSignalWrites??!1),o=t.get(pe,null,{optional:!0});return!o||!(o._lView[L]&8)?i.watcher.notify():(o._lView[Ca]??=[]).push(i.watcher.notify),i}var yI=pI;var bd=class{[Ge];constructor(n){this[Ge]=n}destroy(){this[Ge].destroy()}};function Ro(e,n){if(yI)return vI(e,n);jn("NgSignals"),!n?.injector&&ag(Ro);let t=n?.injector??C(Ae),r=n?.manualCleanup!==!0?t.get(yi):null,i,o=t.get(cy,null,{optional:!0}),s=t.get(gr);return o!==null&&!n?.forceRoot?(i=wI(o.view,s,e),r instanceof qa&&r._lView===o.view&&(r=null)):i=DI(e,t.get(zv),s),i.injector=t,r!==null&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new bd(i)}var uy=q(S({},tr),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:bo,run(){if(this.dirty=!1,this.hasRun&&!lo(this))return;this.hasRun=!0;let e=r=>(this.cleanupFns??=[]).push(r),n=Hr(this),t=ja(!1);try{this.maybeCleanup(),this.fn(e)}finally{ja(t),ao(this,n)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}}),_I=q(S({},uy),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(13)},destroy(){qr(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),bI=q(S({},uy),{consumerMarkedDirty(){this.view[L]|=8192,To(this.view),this.notifier.notify(14)},destroy(){qr(this),this.onDestroyFn(),this.maybeCleanup(),this.view[dr]?.delete(this)}});function wI(e,n,t){let r=Object.create(bI);return r.view=e,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=n,r.fn=t,e[dr]??=new Set,e[dr].add(r),r.consumerMarkedDirty(r),r}function DI(e,n,t){let r=Object.create(_I);return r.fn=e,r.scheduler=n,r.notifier=t,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.schedule(r),r.notifier.notify(13),r}var vy=null;function bn(){return vy}function yy(e){vy??=e}var Fl=class{};var Xe=new N(""),_y=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:()=>C(EI),providedIn:"platform"})}return e})();var EI=(()=>{class e extends _y{_location;_history;_doc=C(Xe);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return bn().getBaseHref(this._doc)}onPopState(t){let r=bn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=bn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function by(e,n){return e?n?e.endsWith("/")?n.startsWith("/")?e+n.slice(1):e+n:n.startsWith("/")?e+n:`${e}/${n}`:e:n}function dy(e){let n=e.match(/#|\?|$/),t=n&&n.index||e.length,r=t-(e[t-1]==="/"?1:0);return e.slice(0,r)+e.slice(t)}function Ir(e){return e&&e[0]!=="?"?"?"+e:e}var Ii=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:()=>C(wy),providedIn:"root"})}return e})(),CI=new N(""),wy=(()=>{class e extends Ii{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??C(Xe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return by(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Ir(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Ir(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Ir(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||e)(k(_y),k(CI,8))};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var ko=(()=>{class e{_subject=new Ce;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=TI(dy(fy(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ir(r))}normalize(t){return e.stripTrailingSlash(II(this._basePath,fy(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ir(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ir(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Ir;static joinWithSlash=by;static stripTrailingSlash=dy;static \u0275fac=function(r){return new(r||e)(k(Ii))};static \u0275prov=M({token:e,factory:()=>SI(),providedIn:"root"})}return e})();function SI(){return new ko(k(Ii))}function II(e,n){if(!e||!n.startsWith(e))return n;let t=n.substring(e.length);return t===""||["/",";","?","#"].includes(t[0])?t:n}function fy(e){return e.replace(/\/index.html$/,"")}function TI(e){if(new RegExp("^(https?:)?//").test(e)){let[,t]=e.split(/\/\/[^\/]+/);return t}return e}var ze=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(ze||{}),ae=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(ae||{}),at=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(at||{}),Un={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function xI(e){return _t(e)[ge.LocaleId]}function MI(e,n,t){let r=_t(e),i=[r[ge.DayPeriodsFormat],r[ge.DayPeriodsStandalone]],o=bt(i,n);return bt(o,t)}function AI(e,n,t){let r=_t(e),i=[r[ge.DaysFormat],r[ge.DaysStandalone]],o=bt(i,n);return bt(o,t)}function NI(e,n,t){let r=_t(e),i=[r[ge.MonthsFormat],r[ge.MonthsStandalone]],o=bt(i,n);return bt(o,t)}function RI(e,n){let r=_t(e)[ge.Eras];return bt(r,n)}function xl(e,n){let t=_t(e);return bt(t[ge.DateFormat],n)}function Ml(e,n){let t=_t(e);return bt(t[ge.TimeFormat],n)}function Al(e,n){let r=_t(e)[ge.DateTimeFormat];return bt(r,n)}function jl(e,n){let t=_t(e),r=t[ge.NumberSymbols][n];if(typeof r>"u"){if(n===Un.CurrencyDecimal)return t[ge.NumberSymbols][Un.Decimal];if(n===Un.CurrencyGroup)return t[ge.NumberSymbols][Un.Group]}return r}function Dy(e){if(!e[ge.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[ge.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function kI(e){let n=_t(e);return Dy(n),(n[ge.ExtraData][2]||[]).map(r=>typeof r=="string"?pf(r):[pf(r[0]),pf(r[1])])}function OI(e,n,t){let r=_t(e);Dy(r);let i=[r[ge.ExtraData][0],r[ge.ExtraData][1]],o=bt(i,n)||[];return bt(o,t)||[]}function bt(e,n){for(let t=n;t>-1;t--)if(typeof e[t]<"u")return e[t];throw new Error("Locale data API: locale data undefined")}function pf(e){let[n,t]=e.split(":");return{hours:+n,minutes:+t}}var PI=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Nl={},FI=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function LI(e,n,t,r){let i=GI(e);n=_n(t,n)||n;let s=[],a;for(;n;)if(a=FI.exec(n),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;n=u}else{s.push(n);break}let l=i.getTimezoneOffset();r&&(l=Cy(r,l),i=zI(i,r,!0));let c="";return s.forEach(u=>{let p=HI(u);c+=p?p(i,t,l):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Ll(e,n,t){let r=new Date(0);return r.setFullYear(e,n,t),r.setHours(0,0,0),r}function _n(e,n){let t=xI(e);if(Nl[t]??={},Nl[t][n])return Nl[t][n];let r="";switch(n){case"shortDate":r=xl(e,at.Short);break;case"mediumDate":r=xl(e,at.Medium);break;case"longDate":r=xl(e,at.Long);break;case"fullDate":r=xl(e,at.Full);break;case"shortTime":r=Ml(e,at.Short);break;case"mediumTime":r=Ml(e,at.Medium);break;case"longTime":r=Ml(e,at.Long);break;case"fullTime":r=Ml(e,at.Full);break;case"short":let i=_n(e,"shortTime"),o=_n(e,"shortDate");r=Rl(Al(e,at.Short),[i,o]);break;case"medium":let s=_n(e,"mediumTime"),a=_n(e,"mediumDate");r=Rl(Al(e,at.Medium),[s,a]);break;case"long":let l=_n(e,"longTime"),c=_n(e,"longDate");r=Rl(Al(e,at.Long),[l,c]);break;case"full":let u=_n(e,"fullTime"),p=_n(e,"fullDate");r=Rl(Al(e,at.Full),[u,p]);break}return r&&(Nl[t][n]=r),r}function Rl(e,n){return n&&(e=e.replace(/\{([^}]+)}/g,function(t,r){return n!=null&&r in n?n[r]:t})),e}function Ot(e,n,t="-",r,i){let o="";(e<0||i&&e<=0)&&(i?e=-e+1:(e=-e,o=t));let s=String(e);for(;s.length<n;)s="0"+s;return r&&(s=s.slice(s.length-n)),o+s}function jI(e,n){return Ot(e,3).substring(0,n)}function we(e,n,t=0,r=!1,i=!1){return function(o,s){let a=VI(e,o);if((t>0||a>-t)&&(a+=t),e===3)a===0&&t===-12&&(a=12);else if(e===6)return jI(a,n);let l=jl(s,Un.MinusSign);return Ot(a,n,l,r,i)}}function VI(e,n){switch(e){case 0:return n.getFullYear();case 1:return n.getMonth();case 2:return n.getDate();case 3:return n.getHours();case 4:return n.getMinutes();case 5:return n.getSeconds();case 6:return n.getMilliseconds();case 7:return n.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}function ce(e,n,t=ze.Format,r=!1){return function(i,o){return UI(i,o,e,n,t,r)}}function UI(e,n,t,r,i,o){switch(t){case 2:return NI(n,i,r)[e.getMonth()];case 1:return AI(n,i,r)[e.getDay()];case 0:let s=e.getHours(),a=e.getMinutes();if(o){let c=kI(n),u=OI(n,i,r),p=c.findIndex(g=>{if(Array.isArray(g)){let[m,y]=g,b=s>=m.hours&&a>=m.minutes,D=s<y.hours||s===y.hours&&a<y.minutes;if(m.hours<y.hours){if(b&&D)return!0}else if(b||D)return!0}else if(g.hours===s&&g.minutes===a)return!0;return!1});if(p!==-1)return u[p]}return MI(n,i,r)[s<12?0:1];case 3:return RI(n,r)[e.getFullYear()<=0?0:1];default:let l=t;throw new Error(`unexpected translation type ${l}`)}}function kl(e){return function(n,t,r){let i=-1*r,o=jl(t,Un.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case 0:return(i>=0?"+":"")+Ot(s,2,o)+Ot(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+Ot(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+Ot(s,2,o)+":"+Ot(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+Ot(s,2,o)+":"+Ot(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${e}"`)}}}var $I=0,Pl=4;function BI(e){let n=Ll(e,$I,1).getDay();return Ll(e,0,1+(n<=Pl?Pl:Pl+7)-n)}function Ey(e){let n=e.getDay(),t=n===0?-3:Pl-n;return Ll(e.getFullYear(),e.getMonth(),e.getDate()+t)}function mf(e,n=!1){return function(t,r){let i;if(n){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=Ey(t),s=BI(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Ot(i,e,jl(r,Un.MinusSign))}}function Ol(e,n=!1){return function(t,r){let o=Ey(t).getFullYear();return Ot(o,e,jl(r,Un.MinusSign),n)}}var gf={};function HI(e){if(gf[e])return gf[e];let n;switch(e){case"G":case"GG":case"GGG":n=ce(3,ae.Abbreviated);break;case"GGGG":n=ce(3,ae.Wide);break;case"GGGGG":n=ce(3,ae.Narrow);break;case"y":n=we(0,1,0,!1,!0);break;case"yy":n=we(0,2,0,!0,!0);break;case"yyy":n=we(0,3,0,!1,!0);break;case"yyyy":n=we(0,4,0,!1,!0);break;case"Y":n=Ol(1);break;case"YY":n=Ol(2,!0);break;case"YYY":n=Ol(3);break;case"YYYY":n=Ol(4);break;case"M":case"L":n=we(1,1,1);break;case"MM":case"LL":n=we(1,2,1);break;case"MMM":n=ce(2,ae.Abbreviated);break;case"MMMM":n=ce(2,ae.Wide);break;case"MMMMM":n=ce(2,ae.Narrow);break;case"LLL":n=ce(2,ae.Abbreviated,ze.Standalone);break;case"LLLL":n=ce(2,ae.Wide,ze.Standalone);break;case"LLLLL":n=ce(2,ae.Narrow,ze.Standalone);break;case"w":n=mf(1);break;case"ww":n=mf(2);break;case"W":n=mf(1,!0);break;case"d":n=we(2,1);break;case"dd":n=we(2,2);break;case"c":case"cc":n=we(7,1);break;case"ccc":n=ce(1,ae.Abbreviated,ze.Standalone);break;case"cccc":n=ce(1,ae.Wide,ze.Standalone);break;case"ccccc":n=ce(1,ae.Narrow,ze.Standalone);break;case"cccccc":n=ce(1,ae.Short,ze.Standalone);break;case"E":case"EE":case"EEE":n=ce(1,ae.Abbreviated);break;case"EEEE":n=ce(1,ae.Wide);break;case"EEEEE":n=ce(1,ae.Narrow);break;case"EEEEEE":n=ce(1,ae.Short);break;case"a":case"aa":case"aaa":n=ce(0,ae.Abbreviated);break;case"aaaa":n=ce(0,ae.Wide);break;case"aaaaa":n=ce(0,ae.Narrow);break;case"b":case"bb":case"bbb":n=ce(0,ae.Abbreviated,ze.Standalone,!0);break;case"bbbb":n=ce(0,ae.Wide,ze.Standalone,!0);break;case"bbbbb":n=ce(0,ae.Narrow,ze.Standalone,!0);break;case"B":case"BB":case"BBB":n=ce(0,ae.Abbreviated,ze.Format,!0);break;case"BBBB":n=ce(0,ae.Wide,ze.Format,!0);break;case"BBBBB":n=ce(0,ae.Narrow,ze.Format,!0);break;case"h":n=we(3,1,-12);break;case"hh":n=we(3,2,-12);break;case"H":n=we(3,1);break;case"HH":n=we(3,2);break;case"m":n=we(4,1);break;case"mm":n=we(4,2);break;case"s":n=we(5,1);break;case"ss":n=we(5,2);break;case"S":n=we(6,1);break;case"SS":n=we(6,2);break;case"SSS":n=we(6,3);break;case"Z":case"ZZ":case"ZZZ":n=kl(0);break;case"ZZZZZ":n=kl(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=kl(1);break;case"OOOO":case"ZZZZ":case"zzzz":n=kl(2);break;default:return null}return gf[e]=n,n}function Cy(e,n){e=e.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(t)?n:t}function qI(e,n){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+n),e}function zI(e,n,t){let r=t?-1:1,i=e.getTimezoneOffset(),o=Cy(n,i);return qI(e,r*(o-i))}function GI(e){if(hy(e))return e;if(typeof e=="number"&&!isNaN(e))return new Date(e);if(typeof e=="string"){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[i,o=1,s=1]=e.split("-").map(a=>+a);return Ll(i,o-1,s)}let t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let r;if(r=e.match(PI))return WI(r)}let n=new Date(e);if(!hy(n))throw new Error(`Unable to convert "${e}" into a date`);return n}function WI(e){let n=new Date(0),t=0,r=0,i=e[8]?n.setUTCFullYear:n.setFullYear,o=e[8]?n.setUTCHours:n.setHours;e[9]&&(t=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(n,Number(e[1]),Number(e[2])-1,Number(e[3]));let s=Number(e[4]||0)-t,a=Number(e[5]||0)-r,l=Number(e[6]||0),c=Math.floor(parseFloat("0."+(e[7]||0))*1e3);return o.call(n,s,a,l,c),n}function hy(e){return e instanceof Date&&!isNaN(e.valueOf())}function Vl(e,n){n=encodeURIComponent(n);for(let t of e.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===n)return decodeURIComponent(o)}return null}var vf=/\s+/,py=[],$n=(()=>{class e{_ngEl;_renderer;initialClasses=py;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(vf):py}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(vf):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(vf).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||e)(E(vt),E(kt))};static \u0275dir=oe({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var yf=class{$implicit;ngForOf;index;count;constructor(n,t,r,i){this.$implicit=n,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Wt=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new yf(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),my(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);my(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||e)(E(bi),E(El),E(hf))};static \u0275dir=oe({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function my(e,n){e.context.$implicit=n.item}var Ve=(()=>{class e{_viewContainer;_context=new _f;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){gy("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){gy("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||e)(E(bi),E(El))};static \u0275dir=oe({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),_f=class{$implicit=null;ngIf=null};function gy(e,n){if(!!!(!n||n.createEmbeddedView))throw new Error(`${e} must be a TemplateRef, but received '${$e(n)}'.`)}function QI(e,n){return new x(2100,!1)}var ZI="mediumDate",YI=new N(""),JI=new N(""),Ul=(()=>{class e{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??ZI,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return LI(t,s,o||this.locale,a)}catch(s){throw QI(e,s.message)}}static \u0275fac=function(r){return new(r||e)(E(Tl,16),E(YI,24),E(JI,24))};static \u0275pipe=Pv({name:"date",type:e,pure:!0})}return e})();var Te=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=yn({type:e});static \u0275inj=fn({})}return e})(),wf="browser",KI="server";function lt(e){return e===wf}function Df(e){return e===KI}var Si=class{};var Fo=class{},Lo=class{},wn=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(n){n?typeof n=="string"?this.lazyInit=()=>{this.headers=new Map,n.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();let t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){let t=new e;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){let t=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(n.name,t);let i=(n.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=n.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(n,t){let r=n.toLowerCase();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(n,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=n.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(n,i)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}};var Sf=class{encodeKey(n){return Sy(n)}encodeValue(n){return Sy(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};function XI(e,n){let t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[n.decodeKey(i),""]:[n.decodeKey(i.slice(0,o)),n.decodeValue(i.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}var eT=/%(\d[a-f0-9])/gi,tT={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Sy(e){return encodeURIComponent(e).replace(eT,(n,t)=>tT[t]??n)}function $l(e){return`${e}`}var Hn=class e{map;encoder;updates=null;cloneFrom=null;constructor(n={}){if(this.encoder=n.encoder||new Sf,n.fromString){if(n.fromObject)throw new x(2805,!1);this.map=XI(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{let r=n.fromObject[t],i=Array.isArray(r)?r.map($l):[$l(r)];this.map.set(t,i)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();let t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){let t=[];return Object.keys(n).forEach(r=>{let i=n[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{let t=this.encoder.encodeKey(n);return this.map.get(n).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>n!=="").join("&")}clone(n){let t=new e({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":let t=(n.op==="a"?this.map.get(n.param):void 0)||[];t.push($l(n.value)),this.map.set(n.param,t);break;case"d":if(n.value!==void 0){let r=this.map.get(n.param)||[],i=r.indexOf($l(n.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}else{this.map.delete(n.param);break}}}),this.cloneFrom=this.updates=null)}};var If=class{map=new Map;set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}};function nT(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Iy(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function Ty(e){return typeof Blob<"u"&&e instanceof Blob}function xy(e){return typeof FormData<"u"&&e instanceof FormData}function rT(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var Oo="Content-Type",Bl="Accept",Mf="X-Request-URL",Ry="text/plain",ky="application/json",Oy=`${ky}, ${Ry}, */*`,Po=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(n,t,r,i){this.url=t,this.method=n.toUpperCase();let o;if(nT(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new wn,this.context??=new If,!this.params)this.params=new Hn,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),l=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Iy(this.body)||Ty(this.body)||xy(this.body)||rT(this.body)?this.body:this.body instanceof Hn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||xy(this.body)?null:Ty(this.body)?this.body.type||null:Iy(this.body)?null:typeof this.body=="string"?Ry:this.body instanceof Hn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?ky:null}clone(n={}){let t=n.method||this.method,r=n.url||this.url,i=n.responseType||this.responseType,o=n.transferCache??this.transferCache,s=n.body!==void 0?n.body:this.body,a=n.withCredentials??this.withCredentials,l=n.reportProgress??this.reportProgress,c=n.headers||this.headers,u=n.params||this.params,p=n.context??this.context;return n.setHeaders!==void 0&&(c=Object.keys(n.setHeaders).reduce((g,m)=>g.set(m,n.setHeaders[m]),c)),n.setParams&&(u=Object.keys(n.setParams).reduce((g,m)=>g.set(m,n.setParams[m]),u)),new e(t,r,s,{params:u,headers:c,context:p,reportProgress:l,responseType:i,withCredentials:a,transferCache:o})}},qn=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(qn||{}),jo=class{headers;status;statusText;url;ok;type;constructor(n,t=200,r="OK"){this.headers=n.headers||new wn,this.status=n.status!==void 0?n.status:t,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}},Hl=class e extends jo{constructor(n={}){super(n)}type=qn.ResponseHeader;clone(n={}){return new e({headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},Vo=class e extends jo{body;constructor(n={}){super(n),this.body=n.body!==void 0?n.body:null}type=qn.Response;clone(n={}){return new e({body:n.body!==void 0?n.body:this.body,headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},Bn=class extends jo{name="HttpErrorResponse";message;error;ok=!1;constructor(n){super(n,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${n.url||"(unknown url)"}`:this.message=`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}},Py=200,iT=204;function Ef(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var oT=(()=>{class e{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Po)o=t;else{let l;i.headers instanceof wn?l=i.headers:l=new wn(i.headers);let c;i.params&&(i.params instanceof Hn?c=i.params:c=new Hn({fromObject:i.params})),o=new Po(t,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=F(o).pipe(Nn(l=>this.handler.handle(l)));if(t instanceof Po||i.observe==="events")return s;let a=s.pipe(nt(l=>l instanceof Vo));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(B(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new x(2806,!1);return l.body}));case"blob":return a.pipe(B(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new x(2807,!1);return l.body}));case"text":return a.pipe(B(l=>{if(l.body!==null&&typeof l.body!="string")throw new x(2808,!1);return l.body}));case"json":default:return a.pipe(B(l=>l.body))}case"response":return a;default:throw new x(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Hn().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Ef(i,r))}post(t,r,i={}){return this.request("POST",t,Ef(i,r))}put(t,r,i={}){return this.request("PUT",t,Ef(i,r))}static \u0275fac=function(r){return new(r||e)(k(Fo))};static \u0275prov=M({token:e,factory:e.\u0275fac})}return e})(),sT=/^\)\]\}',?\n/;function My(e){if(e.url)return e.url;let n=Mf.toLocaleLowerCase();return e.headers.get(n)}var Fy=new N(""),Cf=(()=>{class e{fetchImpl=C(Tf,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t));ngZone=C(_e);handle(t){return new ee(r=>{let i=new AbortController;return this.doRequest(t,i.signal,r).then(xf,o=>r.error(new Bn({error:o}))),()=>i.abort()})}async doRequest(t,r,i){let o=this.createRequestInit(t),s;try{let m=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,S({signal:r},o)));aT(m),i.next({type:qn.Sent}),s=await m}catch(m){i.error(new Bn({error:m,status:m.status??0,statusText:m.statusText,url:t.urlWithParams,headers:m.headers}));return}let a=new wn(s.headers),l=s.statusText,c=My(s)??t.urlWithParams,u=s.status,p=null;if(t.reportProgress&&i.next(new Hl({headers:a,status:u,statusText:l,url:c})),s.body){let m=s.headers.get("content-length"),y=[],b=s.body.getReader(),D=0,T,$,P=typeof Zone<"u"&&Zone.current;await this.ngZone.runOutsideAngular(async()=>{for(;;){let{done:V,value:xe}=await b.read();if(V)break;if(y.push(xe),D+=xe.length,t.reportProgress){$=t.responseType==="text"?($??"")+(T??=new TextDecoder).decode(xe,{stream:!0}):void 0;let St=()=>i.next({type:qn.DownloadProgress,total:m?+m:void 0,loaded:D,partialText:$});P?P.run(St):St()}}});let J=this.concatChunks(y,D);try{let V=s.headers.get(Oo)??"";p=this.parseBody(t,J,V)}catch(V){i.error(new Bn({error:V,headers:new wn(s.headers),status:s.status,statusText:s.statusText,url:My(s)??t.urlWithParams}));return}}u===0&&(u=p?Py:0),u>=200&&u<300?(i.next(new Vo({body:p,headers:a,status:u,statusText:l,url:c})),i.complete()):i.error(new Bn({error:p,headers:a,status:u,statusText:l,url:c}))}parseBody(t,r,i){switch(t.responseType){case"json":let o=new TextDecoder().decode(r).replace(sT,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((o,s)=>r[o]=s.join(",")),t.headers.has(Bl)||(r[Bl]=Oy),!t.headers.has(Oo)){let o=t.detectContentTypeHeader();o!==null&&(r[Oo]=o)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:i}}concatChunks(t,r){let i=new Uint8Array(r),o=0;for(let s of t)i.set(s,o),o+=s.length;return i}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac})}return e})(),Tf=class{};function xf(){}function aT(e){e.then(xf,xf)}function lT(e,n){return n(e)}function cT(e,n,t){return(r,i)=>ke(t,()=>n(r,o=>e(o,i)))}var Ly=new N(""),uT=new N(""),dT=new N("",{providedIn:"root",factory:()=>!0});var Ay=(()=>{class e extends Fo{backend;injector;chain=null;pendingTasks=C(vn);contributeToStability=C(dT);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Ly),...this.injector.get(uT,[])]));this.chain=r.reduceRight((i,o)=>cT(i,o,this.injector),lT)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(or(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||e)(k(Lo),k(Je))};static \u0275prov=M({token:e,factory:e.\u0275fac})}return e})();var fT=/^\)\]\}',?\n/,hT=RegExp(`^${Mf}:`,"m");function pT(e){return"responseURL"in e&&e.responseURL?e.responseURL:hT.test(e.getAllResponseHeaders())?e.getResponseHeader(Mf):null}var Ny=(()=>{class e{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new x(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?fe(r.\u0275loadImpl()):F(null)).pipe(rt(()=>new ee(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((b,D)=>s.setRequestHeader(b,D.join(","))),t.headers.has(Bl)||s.setRequestHeader(Bl,Oy),!t.headers.has(Oo)){let b=t.detectContentTypeHeader();b!==null&&s.setRequestHeader(Oo,b)}if(t.responseType){let b=t.responseType.toLowerCase();s.responseType=b!=="json"?b:"text"}let a=t.serializeBody(),l=null,c=()=>{if(l!==null)return l;let b=s.statusText||"OK",D=new wn(s.getAllResponseHeaders()),T=pT(s)||t.url;return l=new Hl({headers:D,status:s.status,statusText:b,url:T}),l},u=()=>{let{headers:b,status:D,statusText:T,url:$}=c(),P=null;D!==iT&&(P=typeof s.response>"u"?s.responseText:s.response),D===0&&(D=P?Py:0);let J=D>=200&&D<300;if(t.responseType==="json"&&typeof P=="string"){let V=P;P=P.replace(fT,"");try{P=P!==""?JSON.parse(P):null}catch(xe){P=V,J&&(J=!1,P={error:xe,text:P})}}J?(o.next(new Vo({body:P,headers:b,status:D,statusText:T,url:$||void 0})),o.complete()):o.error(new Bn({error:P,headers:b,status:D,statusText:T,url:$||void 0}))},p=b=>{let{url:D}=c(),T=new Bn({error:b,status:s.status||0,statusText:s.statusText||"Unknown Error",url:D||void 0});o.error(T)},g=!1,m=b=>{g||(o.next(c()),g=!0);let D={type:qn.DownloadProgress,loaded:b.loaded};b.lengthComputable&&(D.total=b.total),t.responseType==="text"&&s.responseText&&(D.partialText=s.responseText),o.next(D)},y=b=>{let D={type:qn.UploadProgress,loaded:b.loaded};b.lengthComputable&&(D.total=b.total),o.next(D)};return s.addEventListener("load",u),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",m),a!==null&&s.upload&&s.upload.addEventListener("progress",y)),s.send(a),o.next({type:qn.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",u),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",m),a!==null&&s.upload&&s.upload.removeEventListener("progress",y)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||e)(k(Si))};static \u0275prov=M({token:e,factory:e.\u0275fac})}return e})(),jy=new N(""),mT="XSRF-TOKEN",gT=new N("",{providedIn:"root",factory:()=>mT}),vT="X-XSRF-TOKEN",yT=new N("",{providedIn:"root",factory:()=>vT}),ql=class{},_T=(()=>{class e{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Vl(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||e)(k(Xe),k(yt),k(gT))};static \u0275prov=M({token:e,factory:e.\u0275fac})}return e})();function bT(e,n){let t=e.url.toLowerCase();if(!C(jy)||e.method==="GET"||e.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return n(e);let r=C(ql).getToken(),i=C(yT);return r!=null&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),n(e)}var Vy=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(Vy||{});function wT(e,n){return{\u0275kind:e,\u0275providers:n}}function Uy(...e){let n=[oT,Ny,Ay,{provide:Fo,useExisting:Ay},{provide:Lo,useFactory:()=>C(Fy,{optional:!0})??C(Ny)},{provide:Ly,useValue:bT,multi:!0},{provide:jy,useValue:!0},{provide:ql,useClass:_T}];for(let t of e)n.push(...t.\u0275providers);return gi(n)}function $y(){return wT(Vy.Fetch,[Cf,{provide:Fy,useExisting:Cf},{provide:Lo,useExisting:Cf}])}var Nf=class extends Fl{supportsDOMEvents=!0},Rf=class e extends Nf{static makeCurrent(){yy(new e)}onAndCancel(n,t,r,i){return n.addEventListener(t,r,i),()=>{n.removeEventListener(t,r,i)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.remove()}createElement(n,t){return t=t||this.getDefaultDocument(),t.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return t==="window"?window:t==="document"?n:t==="body"?n.body:null}getBaseHref(n){let t=DT();return t==null?null:ET(t)}resetBaseElement(){Uo=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return Vl(document.cookie,n)}},Uo=null;function DT(){return Uo=Uo||document.querySelector("base"),Uo?Uo.getAttribute("href"):null}function ET(e){return new URL(e,document.baseURI).pathname}var CT=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac})}return e})(),kf=new N(""),Wy=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new x(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||e)(k(kf),k(_e))};static \u0275prov=M({token:e,factory:e.\u0275fac})}return e})(),Gl=class{_doc;constructor(n){this._doc=n}manager},zl="ng-app-id";function By(e){for(let n of e)n.remove()}function Hy(e,n){let t=n.createElement("style");return t.textContent=e,t}function ST(e,n,t,r){let i=e.head?.querySelectorAll(`style[${zl}="${n}"],link[${zl}="${n}"]`);if(i)for(let o of i)o.removeAttribute(zl),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function Of(e,n){let t=n.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),t}var Qy=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=Df(o),ST(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,Hy);r?.forEach(i=>this.addUsage(i,this.external,Of))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(By(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])By(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,Hy(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,Of(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(zl,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||e)(k(Xe),k(jd),k(Ud,8),k(yt))};static \u0275prov=M({token:e,factory:e.\u0275fac})}return e})(),Af={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ff=/%COMP%/g;var Zy="%COMP%",IT=`_nghost-${Zy}`,TT=`_ngcontent-${Zy}`,xT=!0,MT=new N("",{providedIn:"root",factory:()=>xT});function AT(e){return TT.replace(Ff,e)}function NT(e){return IT.replace(Ff,e)}function Yy(e,n){return n.map(t=>t.replace(Ff,e))}var qy=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,l,c=null,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=u,this.platformIsServer=Df(a),this.defaultRenderer=new $o(t,s,l,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===qt.ShadowDom&&(r=q(S({},r),{encapsulation:qt.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Wl?i.applyToHost(t):i instanceof Bo&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,p=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case qt.Emulated:o=new Wl(l,c,r,this.appId,u,s,a,p,g);break;case qt.ShadowDom:return new Pf(l,c,t,r,s,a,this.nonce,p,g);default:o=new Bo(l,c,r,u,s,a,p,g);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||e)(k(Wy),k(Qy),k(jd),k(MT),k(Xe),k(yt),k(_e),k(Ud),k(_l,8))};static \u0275prov=M({token:e,factory:e.\u0275fac})}return e})(),$o=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,t,r,i,o){this.eventManager=n,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(n,t){return t?this.doc.createElementNS(Af[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(zy(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(zy(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){t.remove()}selectRootElement(n,t){let r=typeof n=="string"?this.doc.querySelector(n):n;if(!r)throw new x(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,i){if(i){t=i+":"+t;let o=Af[i];o?n.setAttributeNS(o,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){let i=Af[r];i?n.removeAttributeNS(i,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,i){i&(cn.DashCase|cn.Important)?n.style.setProperty(t,r,i&cn.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&cn.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n!=null&&(n[t]=r)}setValue(n,t){n.nodeValue=t}listen(n,t,r,i){if(typeof n=="string"&&(n=bn().getGlobalEventTarget(this.doc,n),!n))throw new Error(`Unsupported event target ${n} for event ${t}`);let o=this.decoratePreventDefault(r);return this.tracingService!==null&&this.tracingService.wrapEventListener&&(o=this.tracingService.wrapEventListener(n,t,o)),this.eventManager.addEventListener(n,t,o,i)}decoratePreventDefault(n){return t=>{if(t==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))===!1&&t.preventDefault()}}};function zy(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Pf=class extends $o{sharedStylesHost;hostEl;shadowRoot;constructor(n,t,r,i,o,s,a,l,c){super(n,o,s,l,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=Yy(i.id,u);for(let g of u){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=g,this.shadowRoot.appendChild(m)}let p=i.getExternalStyles?.();if(p)for(let g of p){let m=Of(g,o);a&&m.setAttribute("nonce",a),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(null,t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Bo=class extends $o{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,t,r,i,o,s,a,l,c){super(n,o,s,a,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=c?Yy(c,u):u,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Wl=class extends Bo{contentAttr;hostAttr;constructor(n,t,r,i,o,s,a,l,c){let u=i+"-"+r.id;super(n,t,r,o,s,a,l,c,u),this.contentAttr=AT(u),this.hostAttr=NT(u)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){let r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}},RT=(()=>{class e extends Gl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(k(Xe))};static \u0275prov=M({token:e,factory:e.\u0275fac})}return e})(),Gy=["alt","control","meta","shift"],kT={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},OT={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},PT=(()=>{class e extends Gl{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>bn().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Gy.forEach(c=>{let u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=kT[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Gy.forEach(s=>{if(s!==i){let a=OT[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{e.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||e)(k(Xe))};static \u0275prov=M({token:e,factory:e.\u0275fac})}return e})();function Jy(e,n){return ly(S({rootComponent:e},FT(n)))}function FT(e){return{appProviders:[...$T,...e?.providers??[]],platformProviders:UT}}function LT(){Rf.makeCurrent()}function jT(){return new ln}function VT(){return ev(document),document}var UT=[{provide:yt,useValue:wf},{provide:Vd,useValue:LT,multi:!0},{provide:Xe,useFactory:VT,deps:[]}];var $T=[{provide:al,useValue:"root"},{provide:ln,useFactory:jT,deps:[]},{provide:kf,useClass:RT,multi:!0,deps:[Xe,_e,yt]},{provide:kf,useClass:PT,multi:!0,deps:[Xe]},qy,Qy,Wy,{provide:pi,useExisting:qy},{provide:Si,useClass:CT,deps:[]},[]];var Ky=(()=>{class e{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||e)(k(Xe))};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var H="primary",rs=Symbol("RouteTitle"),$f=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Ri(e){return new $f(e)}function HT(e,n,t){let r=t.path.split("/");if(r.length>e.length||t.pathMatch==="full"&&(n.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=e[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function qT(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!Qt(e[t],n[t]))return!1;return!0}function Qt(e,n){let t=e?Bf(e):void 0,r=n?Bf(n):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!s0(e[i],n[i]))return!1;return!0}function Bf(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function s0(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;let t=[...e].sort(),r=[...n].sort();return t.every((i,o)=>r[o]===i)}else return e===n}function a0(e){return e.length>0?e[e.length-1]:null}function Gn(e){return mu(e)?e:Dr(e)?fe(Promise.resolve(e)):F(e)}var zT={exact:c0,subset:u0},l0={exact:GT,subset:WT,ignored:()=>!0};function Xy(e,n,t){return zT[t.paths](e.root,n.root,t.matrixParams)&&l0[t.queryParams](e.queryParams,n.queryParams)&&!(t.fragment==="exact"&&e.fragment!==n.fragment)}function GT(e,n){return Qt(e,n)}function c0(e,n,t){if(!xr(e.segments,n.segments)||!Yl(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(let r in n.children)if(!e.children[r]||!c0(e.children[r],n.children[r],t))return!1;return!0}function WT(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>s0(e[t],n[t]))}function u0(e,n,t){return d0(e,n,n.segments,t)}function d0(e,n,t,r){if(e.segments.length>t.length){let i=e.segments.slice(0,t.length);return!(!xr(i,t)||n.hasChildren()||!Yl(i,t,r))}else if(e.segments.length===t.length){if(!xr(e.segments,t)||!Yl(e.segments,t,r))return!1;for(let i in n.children)if(!e.children[i]||!u0(e.children[i],n.children[i],r))return!1;return!0}else{let i=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!xr(e.segments,i)||!Yl(e.segments,i,r)||!e.children[H]?!1:d0(e.children[H],n,o,r)}}function Yl(e,n,t){return n.every((r,i)=>l0[t](e[i].parameters,r.parameters))}var En=class{root;queryParams;fragment;_queryParamMap;constructor(n=new ie([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ri(this.queryParams),this._queryParamMap}toString(){return YT.serialize(this)}},ie=class{segments;children;parent=null;constructor(n,t){this.segments=n,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jl(this)}},Tr=class{path;parameters;_parameterMap;constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap??=Ri(this.parameters),this._parameterMap}toString(){return h0(this)}};function QT(e,n){return xr(e,n)&&e.every((t,r)=>Qt(t.parameters,n[r].parameters))}function xr(e,n){return e.length!==n.length?!1:e.every((t,r)=>t.path===n[r].path)}function ZT(e,n){let t=[];return Object.entries(e.children).forEach(([r,i])=>{r===H&&(t=t.concat(n(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==H&&(t=t.concat(n(i,r)))}),t}var ph=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:()=>new Qo,providedIn:"root"})}return e})(),Qo=class{parse(n){let t=new qf(n);return new En(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){let t=`/${Ho(n.root,!0)}`,r=XT(n.queryParams),i=typeof n.fragment=="string"?`#${JT(n.fragment)}`:"";return`${t}${r}${i}`}},YT=new Qo;function Jl(e){return e.segments.map(n=>h0(n)).join("/")}function Ho(e,n){if(!e.hasChildren())return Jl(e);if(n){let t=e.children[H]?Ho(e.children[H],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==H&&r.push(`${i}:${Ho(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=ZT(e,(r,i)=>i===H?[Ho(e.children[H],!1)]:[`${i}:${Ho(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[H]!=null?`${Jl(e)}/${t[0]}`:`${Jl(e)}/(${t.join("//")})`}}function f0(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ql(e){return f0(e).replace(/%3B/gi,";")}function JT(e){return encodeURI(e)}function Hf(e){return f0(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Kl(e){return decodeURIComponent(e)}function e0(e){return Kl(e.replace(/\+/g,"%20"))}function h0(e){return`${Hf(e.path)}${KT(e.parameters)}`}function KT(e){return Object.entries(e).map(([n,t])=>`;${Hf(n)}=${Hf(t)}`).join("")}function XT(e){let n=Object.entries(e).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Ql(t)}=${Ql(i)}`).join("&"):`${Ql(t)}=${Ql(r)}`).filter(t=>t);return n.length?`?${n.join("&")}`:""}var ex=/^[^\/()?;#]+/;function Lf(e){let n=e.match(ex);return n?n[0]:""}var tx=/^[^\/()?;=#]+/;function nx(e){let n=e.match(tx);return n?n[0]:""}var rx=/^[^=?&#]+/;function ix(e){let n=e.match(rx);return n?n[0]:""}var ox=/^[^&#]+/;function sx(e){let n=e.match(ox);return n?n[0]:""}var qf=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ie([],{}):new ie([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[H]=new ie(n,t)),r}parseSegment(){let n=Lf(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new x(4009,!1);return this.capture(n),new Tr(Kl(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let t=nx(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Lf(this.remaining);i&&(r=i,this.capture(r))}n[Kl(t)]=Kl(r)}parseQueryParam(n){let t=ix(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=sx(this.remaining);s&&(r=s,this.capture(r))}let i=e0(t),o=e0(r);if(n.hasOwnProperty(i)){let s=n[i];Array.isArray(s)||(s=[s],n[i]=s),s.push(o)}else n[i]=o}parseParens(n){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Lf(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new x(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=H);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[H]:new ie([],s),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new x(4011,!1)}};function p0(e){return e.segments.length>0?new ie([],{[H]:e}):e}function m0(e){let n={};for(let[r,i]of Object.entries(e.children)){let o=m0(i);if(r===H&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[r]=o)}let t=new ie(e.segments,n);return ax(t)}function ax(e){if(e.numberOfChildren===1&&e.children[H]){let n=e.children[H];return new ie(e.segments.concat(n.segments),n.children)}return e}function Mr(e){return e instanceof En}function lx(e,n,t=null,r=null){let i=g0(e);return v0(i,n,t,r)}function g0(e){let n;function t(o){let s={};for(let l of o.children){let c=t(l);s[l.outlet]=c}let a=new ie(o.url,s);return o===e&&(n=a),a}let r=t(e.root),i=p0(r);return n??i}function v0(e,n,t,r){let i=e;for(;i.parent;)i=i.parent;if(n.length===0)return jf(i,i,i,t,r);let o=cx(n);if(o.toRoot())return jf(i,i,new ie([],{}),t,r);let s=ux(o,i,e),a=s.processChildren?zo(s.segmentGroup,s.index,o.commands):_0(s.segmentGroup,s.index,o.commands);return jf(i,s.segmentGroup,a,t,r)}function Xl(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Zo(e){return typeof e=="object"&&e!=null&&e.outlets}function jf(e,n,t,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;e===n?s=t:s=y0(e,n,t);let a=p0(m0(s));return new En(a,o,i)}function y0(e,n,t){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===n?r[i]=t:r[i]=y0(o,n,t)}),new ie(e.segments,r)}var ec=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&Xl(r[0]))throw new x(4003,!1);let i=r.find(Zo);if(i&&i!==a0(r))throw new x(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function cx(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new ec(!0,0,e);let n=0,t=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?n++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new ec(t,n,r)}var Mi=class{segmentGroup;processChildren;index;constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}};function ux(e,n,t){if(e.isAbsolute)return new Mi(n,!0,0);if(!t)return new Mi(n,!1,NaN);if(t.parent===null)return new Mi(t,!0,0);let r=Xl(e.commands[0])?0:1,i=t.segments.length-1+r;return dx(t,i,e.numberOfDoubleDots)}function dx(e,n,t){let r=e,i=n,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new x(4005,!1);i=r.segments.length}return new Mi(r,!1,i-o)}function fx(e){return Zo(e[0])?e[0].outlets:{[H]:e}}function _0(e,n,t){if(e??=new ie([],{}),e.segments.length===0&&e.hasChildren())return zo(e,n,t);let r=hx(e,n,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new ie(e.segments.slice(0,r.pathIndex),{});return o.children[H]=new ie(e.segments.slice(r.pathIndex),e.children),zo(o,0,i)}else return r.match&&i.length===0?new ie(e.segments,{}):r.match&&!e.hasChildren()?zf(e,n,t):r.match?zo(e,0,i):zf(e,n,t)}function zo(e,n,t){if(t.length===0)return new ie(e.segments,{});{let r=fx(t),i={};if(Object.keys(r).some(o=>o!==H)&&e.children[H]&&e.numberOfChildren===1&&e.children[H].segments.length===0){let o=zo(e.children[H],n,t);return new ie(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=_0(e.children[o],n,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ie(e.segments,i)}}function hx(e,n,t){let r=0,i=n,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=t.length)return o;let s=e.segments[i],a=t[r];if(Zo(a))break;let l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!n0(l,c,s))return o;r+=2}else{if(!n0(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function zf(e,n,t){let r=e.segments.slice(0,n),i=0;for(;i<t.length;){let o=t[i];if(Zo(o)){let l=px(o.outlets);return new ie(r,l)}if(i===0&&Xl(t[0])){let l=e.segments[n];r.push(new Tr(l.path,t0(t[0]))),i++;continue}let s=Zo(o)?o.outlets[H]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Xl(a)?(r.push(new Tr(s,t0(a))),i+=2):(r.push(new Tr(s,{})),i++)}return new ie(r,{})}function px(e){let n={};return Object.entries(e).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(n[t]=zf(new ie([],{}),0,r))}),n}function t0(e){let n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function n0(e,n,t){return e==t.path&&Qt(n,t.parameters)}var Go="imperative",Fe=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Fe||{}),wt=class{id;url;constructor(n,t){this.id=n,this.url=t}},Yo=class extends wt{type=Fe.NavigationStart;navigationTrigger;restoredState;constructor(n,t,r="imperative",i=null){super(n,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},zn=class extends wt{urlAfterRedirects;type=Fe.NavigationEnd;constructor(n,t,r){super(n,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ut=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(ut||{}),Gf=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Gf||{}),Dn=class extends wt{reason;code;type=Fe.NavigationCancel;constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ar=class extends wt{reason;code;type=Fe.NavigationSkipped;constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i}},Jo=class extends wt{error;target;type=Fe.NavigationError;constructor(n,t,r,i){super(n,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},tc=class extends wt{urlAfterRedirects;state;type=Fe.RoutesRecognized;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wf=class extends wt{urlAfterRedirects;state;type=Fe.GuardsCheckStart;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qf=class extends wt{urlAfterRedirects;state;shouldActivate;type=Fe.GuardsCheckEnd;constructor(n,t,r,i,o){super(n,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Zf=class extends wt{urlAfterRedirects;state;type=Fe.ResolveStart;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yf=class extends wt{urlAfterRedirects;state;type=Fe.ResolveEnd;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jf=class{route;type=Fe.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Kf=class{route;type=Fe.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Xf=class{snapshot;type=Fe.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},eh=class{snapshot;type=Fe.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},th=class{snapshot;type=Fe.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},nh=class{snapshot;type=Fe.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ko=class{},ki=class{url;navigationBehaviorOptions;constructor(n,t){this.url=n,this.navigationBehaviorOptions=t}};function mx(e,n){return e.providers&&!e._injector&&(e._injector=rf(e.providers,n,`Route: ${e.path}`)),e._injector??n}function Ft(e){return e.outlet||H}function gx(e,n){let t=e.filter(r=>Ft(r)===n);return t.push(...e.filter(r=>Ft(r)!==n)),t}function is(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){let t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var rh=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return is(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new lc(this.rootInjector)}},lc=(()=>{class e{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new rh(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||e)(k(Je))};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),nc=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){let t=ih(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){let t=ih(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){let t=oh(n,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return oh(n,this._root).map(t=>t.value)}};function ih(e,n){if(e===n.value)return n;for(let t of n.children){let r=ih(e,t);if(r)return r}return null}function oh(e,n){if(e===n.value)return[n];for(let t of n.children){let r=oh(e,t);if(r.length)return r.unshift(n),r}return[]}var ct=class{value;children;constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}};function xi(e){let n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}var rc=class extends nc{snapshot;constructor(n,t){super(n),this.snapshot=t,mh(this,n)}toString(){return this.snapshot.toString()}};function b0(e){let n=vx(e),t=new Re([new Tr("",{})]),r=new Re({}),i=new Re({}),o=new Re({}),s=new Re(""),a=new Lt(t,r,o,s,i,H,e,n.root);return a.snapshot=n.root,new rc(new ct(a,[]),n)}function vx(e){let n={},t={},r={},i="",o=new Ai([],n,r,i,t,H,e,null,{});return new oc("",new ct(o,[]))}var Lt=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,t,r,i,o,s,a,l){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(B(c=>c[rs]))??F(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(B(n=>Ri(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(B(n=>Ri(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ic(e,n,t="emptyOnly"){let r,{routeConfig:i}=e;return n!==null&&(t==="always"||i?.path===""||!n.component&&!n.routeConfig?.loadComponent)?r={params:S(S({},n.params),e.params),data:S(S({},n.data),e.data),resolve:S(S(S(S({},e.data),n.data),i?.data),e._resolvedData)}:r={params:S({},e.params),data:S({},e.data),resolve:S(S({},e.data),e._resolvedData??{})},i&&D0(i)&&(r.resolve[rs]=i.title),r}var Ai=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[rs]}constructor(n,t,r,i,o,s,a,l,c){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ri(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ri(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${t}')`}},oc=class extends nc{url;constructor(n,t){super(t),this.url=n,mh(this,t)}toString(){return w0(this._root)}};function mh(e,n){n.value._routerState=e,n.children.forEach(t=>mh(e,t))}function w0(e){let n=e.children.length>0?` { ${e.children.map(w0).join(", ")} } `:"";return`${e.value}${n}`}function Vf(e){if(e.snapshot){let n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,Qt(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),Qt(n.params,t.params)||e.paramsSubject.next(t.params),qT(n.url,t.url)||e.urlSubject.next(t.url),Qt(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function sh(e,n){let t=Qt(e.params,n.params)&&QT(e.url,n.url),r=!e.parent!=!n.parent;return t&&!r&&(!e.parent||sh(e.parent,n.parent))}function D0(e){return typeof e.title=="string"||e.title===null}var yx=new N(""),gh=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=H;activateEvents=new le;deactivateEvents=new le;attachEvents=new le;detachEvents=new le;routerOutletData=Gg(void 0);parentContexts=C(lc);location=C(bi);changeDetector=C(pe);inputBinder=C(vh,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new x(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new x(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new x(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new x(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new ah(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=oe({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[mn]})}return e})(),ah=class e{route;childContexts;parent;outletData;__ngOutletInjector(n){return new e(this.route,this.childContexts,n,this.outletData)}constructor(n,t,r,i){this.route=n,this.childContexts=t,this.parent=r,this.outletData=i}get(n,t){return n===Lt?this.route:n===lc?this.childContexts:n===yx?this.outletData:this.parent.get(n,t)}},vh=new N("");function _x(e,n,t){let r=Xo(e,n._root,t?t._root:void 0);return new rc(r,n)}function Xo(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=n.value;let i=bx(e,n,t);return new ct(r,i)}else{if(e.shouldAttach(n.value)){let o=e.retrieve(n.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>Xo(e,a)),s}}let r=wx(n.value),i=n.children.map(o=>Xo(e,o));return new ct(r,i)}}function bx(e,n,t){return n.children.map(r=>{for(let i of t.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Xo(e,r,i);return Xo(e,r)})}function wx(e){return new Lt(new Re(e.url),new Re(e.params),new Re(e.queryParams),new Re(e.fragment),new Re(e.data),e.outlet,e.component,e)}var es=class{redirectTo;navigationBehaviorOptions;constructor(n,t){this.redirectTo=n,this.navigationBehaviorOptions=t}},E0="ngNavigationCancelingError";function sc(e,n){let{redirectTo:t,navigationBehaviorOptions:r}=Mr(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=C0(!1,ut.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function C0(e,n){let t=new Error(`NavigationCancelingError: ${e||""}`);return t[E0]=!0,t.cancellationCode=n,t}function Dx(e){return S0(e)&&Mr(e.url)}function S0(e){return!!e&&e[E0]}var Ex=(e,n,t,r)=>B(i=>(new lh(n,i.targetRouterState,i.currentRouterState,t,r).activate(e),i)),lh=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,t,r,i,o){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(n){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),Vf(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){let i=xi(t);n.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,t,r){let i=n.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(n,t,s.children)}else this.deactivateChildRoutes(n,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){let r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=xi(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){let r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=xi(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){let i=xi(t);n.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new nh(o.value.snapshot))}),n.children.length&&this.forwardEvent(new eh(n.value.snapshot))}activateRoutes(n,t,r){let i=n.value,o=t?t.value:null;if(Vf(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,t,s.children)}else this.activateChildRoutes(n,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Vf(a.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,r)}},ac=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},Ni=class{component;route;constructor(n,t){this.component=n,this.route=t}};function Cx(e,n,t){let r=e._root,i=n?n._root:null;return qo(r,i,t,[r.value])}function Sx(e){let n=e.routeConfig?e.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:e,guards:n}}function Pi(e,n){let t=Symbol(),r=n.get(e,t);return r===t?typeof e=="function"&&!$m(e)?e:n.get(e):r}function qo(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=xi(n);return e.children.forEach(s=>{Ix(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Wo(a,t.getContext(s),i)),i}function Ix(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=Tx(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new ac(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?qo(e,n,a?a.children:null,r,i):qo(e,n,t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ni(a.outlet.component,s))}else s&&Wo(n,a,i),i.canActivateChecks.push(new ac(r)),o.component?qo(e,null,a?a.children:null,r,i):qo(e,null,t,r,i);return i}function Tx(e,n,t){if(typeof t=="function")return t(e,n);switch(t){case"pathParamsChange":return!xr(e.url,n.url);case"pathParamsOrQueryParamsChange":return!xr(e.url,n.url)||!Qt(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!sh(e,n)||!Qt(e.queryParams,n.queryParams);case"paramsChange":default:return!sh(e,n)}}function Wo(e,n,t){let r=xi(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?n?Wo(s,n.children.getContext(o),t):Wo(s,null,t):Wo(s,n,t)}),i.component?n&&n.outlet&&n.outlet.isActivated?t.canDeactivateChecks.push(new Ni(n.outlet.component,i)):t.canDeactivateChecks.push(new Ni(null,i)):t.canDeactivateChecks.push(new Ni(null,i))}function os(e){return typeof e=="function"}function xx(e){return typeof e=="boolean"}function Mx(e){return e&&os(e.canLoad)}function Ax(e){return e&&os(e.canActivate)}function Nx(e){return e&&os(e.canActivateChild)}function Rx(e){return e&&os(e.canDeactivate)}function kx(e){return e&&os(e.canMatch)}function I0(e){return e instanceof tn||e?.name==="EmptyError"}var Zl=Symbol("INITIAL_VALUE");function Oi(){return rt(e=>ga(e.map(n=>n.pipe(nn(1),bu(Zl)))).pipe(B(n=>{for(let t of n)if(t!==!0){if(t===Zl)return Zl;if(t===!1||Ox(t))return t}return!0}),nt(n=>n!==Zl),nn(1)))}function Ox(e){return Mr(e)||e instanceof es}function Px(e,n){return Se(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?F(q(S({},t),{guardsResult:!0})):Fx(s,r,i,e).pipe(Se(a=>a&&xx(a)?Lx(r,o,e,n):F(a)),B(a=>q(S({},t),{guardsResult:a})))})}function Fx(e,n,t,r){return fe(e).pipe(Se(i=>Bx(i.component,i.route,t,n,r)),rn(i=>i!==!0,!0))}function Lx(e,n,t,r){return fe(n).pipe(Nn(i=>Xr(Vx(i.route.parent,r),jx(i.route,r),$x(e,i.path,t),Ux(e,i.route,t))),rn(i=>i!==!0,!0))}function jx(e,n){return e!==null&&n&&n(new th(e)),F(!0)}function Vx(e,n){return e!==null&&n&&n(new Xf(e)),F(!0)}function Ux(e,n,t){let r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||r.length===0)return F(!0);let i=r.map(o=>va(()=>{let s=is(n)??t,a=Pi(o,s),l=Ax(a)?a.canActivate(n,e):ke(s,()=>a(n,e));return Gn(l).pipe(rn())}));return F(i).pipe(Oi())}function $x(e,n,t){let r=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>Sx(s)).filter(s=>s!==null).map(s=>va(()=>{let a=s.guards.map(l=>{let c=is(s.node)??t,u=Pi(l,c),p=Nx(u)?u.canActivateChild(r,e):ke(c,()=>u(r,e));return Gn(p).pipe(rn())});return F(a).pipe(Oi())}));return F(o).pipe(Oi())}function Bx(e,n,t,r,i){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return F(!0);let s=o.map(a=>{let l=is(n)??i,c=Pi(a,l),u=Rx(c)?c.canDeactivate(e,n,t,r):ke(l,()=>c(e,n,t,r));return Gn(u).pipe(rn())});return F(s).pipe(Oi())}function Hx(e,n,t,r){let i=n.canLoad;if(i===void 0||i.length===0)return F(!0);let o=i.map(s=>{let a=Pi(s,e),l=Mx(a)?a.canLoad(n,t):ke(e,()=>a(n,t));return Gn(l)});return F(o).pipe(Oi(),T0(r))}function T0(e){return du(Me(n=>{if(typeof n!="boolean")throw sc(e,n)}),B(n=>n===!0))}function qx(e,n,t,r){let i=n.canMatch;if(!i||i.length===0)return F(!0);let o=i.map(s=>{let a=Pi(s,e),l=kx(a)?a.canMatch(n,t):ke(e,()=>a(n,t));return Gn(l)});return F(o).pipe(Oi(),T0(r))}var ts=class{segmentGroup;constructor(n){this.segmentGroup=n||null}},ns=class extends Error{urlTree;constructor(n){super(),this.urlTree=n}};function Ti(e){return Kr(new ts(e))}function zx(e){return Kr(new x(4e3,!1))}function Gx(e){return Kr(C0(!1,ut.GuardRejected))}var ch=class{urlSerializer;urlTree;constructor(n,t){this.urlSerializer=n,this.urlTree=t}lineralizeSegments(n,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return F(r);if(i.numberOfChildren>1||!i.children[H])return zx(`${n.redirectTo}`);i=i.children[H]}}applyRedirectCommands(n,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:l,fragment:c,routeConfig:u,url:p,outlet:g,params:m,data:y,title:b}=i,D=ke(o,()=>a({params:m,data:y,queryParams:l,fragment:c,routeConfig:u,url:p,outlet:g,title:b}));if(D instanceof En)throw new ns(D);t=D}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,r);if(t[0]==="/")throw new ns(s);return s}applyRedirectCreateUrlTree(n,t,r,i){let o=this.createSegmentGroup(n,t.root,r,i);return new En(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){let r={};return Object.entries(n).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(n,t,r,i){let o=this.createSegments(n,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(n,l,r,i)}),new ie(o,s)}createSegments(n,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(n,o,i):this.findOrReturn(o,r))}findPosParam(n,t,r){let i=r[t.path.substring(1)];if(!i)throw new x(4001,!1);return i}findOrReturn(n,t){let r=0;for(let i of t){if(i.path===n.path)return t.splice(r),i;r++}return n}},uh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Wx(e,n,t,r,i){let o=x0(e,n,t);return o.matched?(r=mx(n,r),qx(r,n,t,i).pipe(B(s=>s===!0?o:S({},uh)))):F(o)}function x0(e,n,t){if(n.path==="**")return Qx(t);if(n.path==="")return n.pathMatch==="full"&&(e.hasChildren()||t.length>0)?S({},uh):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(n.matcher||HT)(t,e,n);if(!i)return S({},uh);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?S(S({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Qx(e){return{matched:!0,parameters:e.length>0?a0(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function r0(e,n,t,r){return t.length>0&&Jx(e,t,r)?{segmentGroup:new ie(n,Yx(r,new ie(t,e.children))),slicedSegments:[]}:t.length===0&&Kx(e,t,r)?{segmentGroup:new ie(e.segments,Zx(e,t,r,e.children)),slicedSegments:t}:{segmentGroup:new ie(e.segments,e.children),slicedSegments:t}}function Zx(e,n,t,r){let i={};for(let o of t)if(cc(e,n,o)&&!r[Ft(o)]){let s=new ie([],{});i[Ft(o)]=s}return S(S({},r),i)}function Yx(e,n){let t={};t[H]=n;for(let r of e)if(r.path===""&&Ft(r)!==H){let i=new ie([],{});t[Ft(r)]=i}return t}function Jx(e,n,t){return t.some(r=>cc(e,n,r)&&Ft(r)!==H)}function Kx(e,n,t){return t.some(r=>cc(e,n,r))}function cc(e,n,t){return(e.hasChildren()||n.length>0)&&t.pathMatch==="full"?!1:t.path===""}function Xx(e,n,t){return n.length===0&&!e.children[t]}var dh=class{};function e1(e,n,t,r,i,o,s="emptyOnly"){return new fh(e,n,t,r,i,s,o).recognize()}var t1=31,fh=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,t,r,i,o,s,a){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new ch(this.urlSerializer,this.urlTree)}noMatchError(n){return new x(4002,`'${n.segmentGroup}'`)}recognize(){let n=r0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(B(({children:t,rootSnapshot:r})=>{let i=new ct(r,t),o=new oc("",i),s=lx(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(n){let t=new Ai([],Object.freeze({}),Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),H,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,H,t).pipe(B(r=>({children:r,rootSnapshot:t})),An(r=>{if(r instanceof ns)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ts?this.noMatchError(r):r}))}processSegmentGroup(n,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(n,t,r,o):this.processSegment(n,t,r,r.segments,i,!0,o).pipe(B(s=>s instanceof ct?[s]:[]))}processChildren(n,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return fe(o).pipe(Nn(s=>{let a=r.children[s],l=gx(t,s);return this.processSegmentGroup(n,l,a,s,i)}),_u((s,a)=>(s.push(...a),s)),Rn(null),yu(),Se(s=>{if(s===null)return Ti(r);let a=M0(s);return n1(a),F(a)}))}processSegment(n,t,r,i,o,s,a){return fe(t).pipe(Nn(l=>this.processSegmentAgainstRoute(l._injector??n,t,l,r,i,o,s,a).pipe(An(c=>{if(c instanceof ts)return F(null);throw c}))),rn(l=>!!l),An(l=>{if(I0(l))return Xx(r,i,o)?F(new dh):Ti(r);throw l}))}processSegmentAgainstRoute(n,t,r,i,o,s,a,l){return Ft(r)!==s&&(s===H||!cc(i,o,r))?Ti(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(n,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,i,t,r,o,s,l):Ti(i)}expandSegmentAgainstRouteUsingRedirect(n,t,r,i,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:p,remainingSegments:g}=x0(t,i,o);if(!l)return Ti(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>t1&&(this.allowRedirects=!1));let m=new Ai(o,c,Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,i0(i),Ft(i),i.component??i._loadedComponent??null,i,o0(i)),y=ic(m,a,this.paramsInheritanceStrategy);m.params=Object.freeze(y.params),m.data=Object.freeze(y.data);let b=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,p,m,n);return this.applyRedirects.lineralizeSegments(i,b).pipe(Se(D=>this.processSegment(n,r,t,D.concat(g),s,!1,a)))}matchSegmentAgainstRoute(n,t,r,i,o,s){let a=Wx(t,r,i,n,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(rt(l=>l.matched?(n=r._injector??n,this.getChildConfig(n,r,i).pipe(rt(({routes:c})=>{let u=r._loadedInjector??n,{parameters:p,consumedSegments:g,remainingSegments:m}=l,y=new Ai(g,p,Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,i0(r),Ft(r),r.component??r._loadedComponent??null,r,o0(r)),b=ic(y,s,this.paramsInheritanceStrategy);y.params=Object.freeze(b.params),y.data=Object.freeze(b.data);let{segmentGroup:D,slicedSegments:T}=r0(t,g,m,c);if(T.length===0&&D.hasChildren())return this.processChildren(u,c,D,y).pipe(B(P=>new ct(y,P)));if(c.length===0&&T.length===0)return F(new ct(y,[]));let $=Ft(r)===o;return this.processSegment(u,c,D,T,$?H:o,!0,y).pipe(B(P=>new ct(y,P instanceof ct?[P]:[])))}))):Ti(t)))}getChildConfig(n,t,r){return t.children?F({routes:t.children,injector:n}):t.loadChildren?t._loadedRoutes!==void 0?F({routes:t._loadedRoutes,injector:t._loadedInjector}):Hx(n,t,r,this.urlSerializer).pipe(Se(i=>i?this.configLoader.loadChildren(n,t).pipe(Me(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):Gx(t))):F({routes:[],injector:n})}};function n1(e){e.sort((n,t)=>n.value.outlet===H?-1:t.value.outlet===H?1:n.value.outlet.localeCompare(t.value.outlet))}function r1(e){let n=e.value.routeConfig;return n&&n.path===""}function M0(e){let n=[],t=new Set;for(let r of e){if(!r1(r)){n.push(r);continue}let i=n.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):n.push(r)}for(let r of t){let i=M0(r.children);n.push(new ct(r.value,i))}return n.filter(r=>!t.has(r))}function i0(e){return e.data||{}}function o0(e){return e.resolve||{}}function i1(e,n,t,r,i,o){return Se(s=>e1(e,n,t,r,s.extractedUrl,i,o).pipe(B(({state:a,tree:l})=>q(S({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function o1(e,n){return Se(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return F(t);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of A0(l))s.add(c);let a=0;return fe(s).pipe(Nn(l=>o.has(l)?s1(l,r,e,n):(l.data=ic(l,l.parent,e).resolve,F(void 0))),Me(()=>a++),ei(1),Se(l=>a===s.size?F(t):We))})}function A0(e){let n=e.children.map(t=>A0(t)).flat();return[e,...n]}function s1(e,n,t,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!D0(i)&&(o[rs]=i.title),a1(o,e,n,r).pipe(B(s=>(e._resolvedData=s,e.data=ic(e,e.parent,t).resolve,null)))}function a1(e,n,t,r){let i=Bf(e);if(i.length===0)return F({});let o={};return fe(i).pipe(Se(s=>l1(e[s],n,t,r).pipe(rn(),Me(a=>{if(a instanceof es)throw sc(new Qo,a);o[s]=a}))),ei(1),B(()=>o),An(s=>I0(s)?We:Kr(s)))}function l1(e,n,t,r){let i=is(n)??r,o=Pi(e,i),s=o.resolve?o.resolve(n,t):ke(i,()=>o(n,t));return Gn(s)}function Uf(e){return rt(n=>{let t=e(n);return t?fe(t).pipe(B(()=>n)):F(n)})}var N0=(()=>{class e{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===H);return r}getResolvedTitleForRoute(t){return t.data[rs]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:()=>C(c1),providedIn:"root"})}return e})(),c1=(()=>{class e extends N0{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(k(Ky))};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),yh=new N("",{providedIn:"root",factory:()=>({})}),u1=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=be({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&w(0,"router-outlet")},dependencies:[gh],encapsulation:2})}return e})();function _h(e){let n=e.children&&e.children.map(_h),t=n?q(S({},e),{children:n}):S({},e);return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==H&&(t.component=u1),t}var bh=new N(""),d1=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=C(ff);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return F(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Gn(t.loadComponent()).pipe(B(R0),Me(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),or(()=>{this.componentLoaders.delete(t)})),i=new Jr(r,()=>new Ce).pipe(Yr());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return F({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=f1(r,this.compiler,t,this.onLoadEndListener).pipe(or(()=>{this.childrenLoaders.delete(r)})),s=new Jr(o,()=>new Ce).pipe(Yr());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function f1(e,n,t,r){return Gn(e.loadChildren()).pipe(B(R0),Se(i=>i instanceof Do||Array.isArray(i)?F(i):fe(n.compileModuleAsync(i))),B(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(bh,[],{optional:!0,self:!0}).flat()),{routes:s.map(_h),injector:o}}))}function h1(e){return e&&typeof e=="object"&&"default"in e}function R0(e){return h1(e)?e.default:e}var wh=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:()=>C(p1),providedIn:"root"})}return e})(),p1=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),m1=new N("");var g1=new N(""),v1=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Ce;transitionAbortSubject=new Ce;configLoader=C(d1);environmentInjector=C(Je);destroyRef=C(yi);urlSerializer=C(ph);rootContexts=C(lc);location=C(ko);inputBindingEnabled=C(vh,{optional:!0})!==null;titleStrategy=C(N0);options=C(yh,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=C(wh);createViewTransition=C(m1,{optional:!0});navigationErrorHandler=C(g1,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>F(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Jf(i)),r=i=>this.events.next(new Kf(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(q(S(S({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new Re({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Go,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(nt(o=>o.id!==0),B(o=>q(S({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),rt(o=>{let s=!1,a=!1;return F(o).pipe(rt(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",ut.SupersededByNewNavigation),We;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?q(S({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=l.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!c&&u!=="reload"){let p="";return this.events.next(new Ar(l.id,this.urlSerializer.serialize(l.rawUrl),p,Gf.IgnoredSameUrlNavigation)),l.resolve(!1),We}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return F(l).pipe(rt(p=>{let g=this.transitions?.getValue();return this.events.next(new Yo(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),g!==this.transitions?.getValue()?We:Promise.resolve(p)}),i1(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Me(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=q(S({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let g=new tc(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:p,extractedUrl:g,source:m,restoredState:y,extras:b}=l,D=new Yo(p,this.urlSerializer.serialize(g),m,y);this.events.next(D);let T=b0(this.rootComponentType).snapshot;return this.currentTransition=o=q(S({},l),{targetSnapshot:T,urlAfterRedirects:g,extras:q(S({},b),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=g,F(o)}else{let p="";return this.events.next(new Ar(l.id,this.urlSerializer.serialize(l.extractedUrl),p,Gf.IgnoredByUrlHandlingStrategy)),l.resolve(!1),We}}),Me(l=>{let c=new Wf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),B(l=>(this.currentTransition=o=q(S({},l),{guards:Cx(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),Px(this.environmentInjector,l=>this.events.next(l)),Me(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw sc(this.urlSerializer,l.guardsResult);let c=new Qf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),nt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",ut.GuardRejected),!1)),Uf(l=>{if(l.guards.canActivateChecks.length)return F(l).pipe(Me(c=>{let u=new Zf(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),rt(c=>{let u=!1;return F(c).pipe(o1(this.paramsInheritanceStrategy,this.environmentInjector),Me({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",ut.NoDataFromResolver)}}))}),Me(c=>{let u=new Yf(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),Uf(l=>{let c=u=>{let p=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(u.routeConfig).pipe(Me(g=>{u.component=g}),B(()=>{})));for(let g of u.children)p.push(...c(g));return p};return ga(c(l.targetSnapshot.root)).pipe(Rn(null),nn(1))}),Uf(()=>this.afterPreactivation()),rt(()=>{let{currentSnapshot:l,targetSnapshot:c}=o,u=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return u?fe(u).pipe(B(()=>o)):F(o)}),B(l=>{let c=_x(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=q(S({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,o}),Me(()=>{this.events.next(new Ko)}),Ex(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),nn(1),Me({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new zn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),wu(this.transitionAbortSubject.pipe(Me(l=>{throw l}))),or(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",ut.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),An(l=>{if(this.destroyed)return o.resolve(!1),We;if(a=!0,S0(l))this.events.next(new Dn(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),Dx(l)?this.events.next(new ki(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let c=new Jo(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let u=ke(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(u instanceof es){let{message:p,cancellationCode:g}=sc(this.urlSerializer,u);this.events.next(new Dn(o.id,this.urlSerializer.serialize(o.extractedUrl),p,g)),this.events.next(new ki(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(c),l}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return We}))}))}cancelNavigationTransition(t,r,i){let o=new Dn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function y1(e){return e!==Go}var _1=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:()=>C(b1),providedIn:"root"})}return e})(),hh=class{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}},b1=(()=>{class e extends hh{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Rt(e)))(i||e)}})();static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),k0=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:()=>C(w1),providedIn:"root"})}return e})(),w1=(()=>{class e extends k0{location=C(ko);urlSerializer=C(ph);options=C(yh,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=C(wh);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new En;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=b0(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof Yo)this.stateMemento=this.createStateMemento();else if(t instanceof Ar)this.rawUrlTree=r.initialUrl;else if(t instanceof tc){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof Ko?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof Dn&&(t.code===ut.GuardRejected||t.code===ut.NoDataFromResolver)?this.restoreHistory(r):t instanceof Jo?this.restoreHistory(r,!0):t instanceof zn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof En?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=S(S({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=S(S({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Rt(e)))(i||e)}})();static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function D1(e,n){e.events.pipe(nt(t=>t instanceof zn||t instanceof Dn||t instanceof Jo||t instanceof Ar),B(t=>t instanceof zn||t instanceof Ar?0:(t instanceof Dn?t.code===ut.Redirect||t.code===ut.SupersededByNewNavigation:!1)?2:1),nt(t=>t!==2),nn(1)).subscribe(()=>{n()})}var E1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},C1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},dt=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=C(af);stateManager=C(k0);options=C(yh,{optional:!0})||{};pendingTasks=C(vn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=C(v1);urlSerializer=C(ph);location=C(ko);urlHandlingStrategy=C(wh);_events=new Ce;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=C(_1);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=C(bh,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!C(vh,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ve;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Dn&&r.code!==ut.Redirect&&r.code!==ut.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof zn)this.navigated=!0;else if(r instanceof ki){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=S({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||y1(i.source)},s);this.scheduleNavigation(a,Go,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}I1(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Go,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=S({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(_h),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=S(S({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=g0(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return v0(p,t,u,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Mr(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Go,null,r)}navigate(t,r={skipLocationChange:!1}){return S1(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=S({},E1):r===!1?i=S({},C1):i=r,Mr(t))return Xy(this.currentUrlTree,t,i);let o=this.parseUrl(t);return Xy(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((p,g)=>{a=p,l=g});let u=this.pendingTasks.add();return D1(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function S1(e){for(let n=0;n<e.length;n++)if(e[n]==null)throw new x(4008,!1)}function I1(e){return!(e instanceof Ko)&&!(e instanceof ki)}var Zt=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ce;constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof zn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Mr(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:sv(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Mr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||e)(E(dt),E(Lt),Od("tabindex"),E(kt),E(vt),E(Ii))};static \u0275dir=oe({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&O("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&wi("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Sr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Sr],replaceUrl:[2,"replaceUrl","replaceUrl",Sr],routerLink:"routerLink"},features:[of,mn]})}return e})();var T1=new N("");function O0(e,...n){return gi([{provide:bh,multi:!0,useValue:e},[],{provide:Lt,useFactory:x1,deps:[dt]},{provide:Cl,multi:!0,useFactory:M1},n.map(t=>t.\u0275providers)])}function x1(e){return e.routerState.root}function M1(){let e=C(Ae);return n=>{let t=e.get(dn);if(n!==t.components[0])return;let r=e.get(dt),i=e.get(A1);e.get(N1)===1&&r.initialNavigation(),e.get(R1,null,G.Optional)?.setUpPreloading(),e.get(T1,null,G.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var A1=new N("",{factory:()=>new Ce}),N1=new N("",{providedIn:"root",factory:()=>1});var R1=new N("");var P0=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...t)=>import("./chunk-OBK227YL.js").then(({default:r})=>r(...t)):n=fetch,(...t)=>n(...t)};var as=class extends Error{constructor(n,t="FunctionsError",r){super(n),this.name=t,this.context=r}},uc=class extends as{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}},dc=class extends as{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}},fc=class extends as{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}},Dh=function(e){return e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2",e}(Dh||{});var k1=function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(p){s(p)}}function l(u){try{c(r.throw(u))}catch(p){s(p)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})},ls=class{constructor(n,{headers:t={},customFetch:r,region:i=Dh.Any}={}){this.url=n,this.headers=t,this.region=i,this.fetch=P0(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,t={}){var r;return k1(this,void 0,void 0,function*(){try{let{headers:i,method:o,body:s}=t,a={},{region:l}=t;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=s):typeof s=="string"?(a["Content-Type"]="text/plain",c=s):typeof FormData<"u"&&s instanceof FormData?c=s:(a["Content-Type"]="application/json",c=JSON.stringify(s)));let u=yield this.fetch(`${this.url}/${n}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:c}).catch(y=>{throw new uc(y)}),p=u.headers.get("x-relay-error");if(p&&p==="true")throw new dc(u);if(!u.ok)throw new fc(u);let g=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),m;return g==="application/json"?m=yield u.json():g==="application/octet-stream"?m=yield u.blob():g==="text/event-stream"?m=u:g==="multipart/form-data"?m=yield u.formData():m=yield u.text(),{data:m,error:null}}catch(i){return{data:null,error:i}}})}};var Q0=Db(W0(),1),{PostgrestClient:Z0,PostgrestQueryBuilder:qj,PostgrestFilterBuilder:zj,PostgrestTransformBuilder:Gj,PostgrestBuilder:Wj,PostgrestError:z1}=Q0.default;var Y0="2.11.2";var J0={"X-Client-Info":`realtime-js/${Y0}`},K0="1.0.0",gc=1e4,X0=1e3,Li=function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e}(Li||{}),ft=function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e}(ft||{}),Dt=function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e}(Dt||{}),Oh=function(e){return e.websocket="websocket",e}(Oh||{}),Nr=function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e}(Nr||{});var vc=class{constructor(){this.HEADER_LENGTH=1}decode(n,t){return n.constructor===ArrayBuffer?t(this._binaryDecode(n)):t(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){let t=new DataView(n),r=new TextDecoder;return this._decodeBroadcast(n,t,r)}_decodeBroadcast(n,t,r){let i=t.getUint8(1),o=t.getUint8(2),s=this.HEADER_LENGTH+2,a=r.decode(n.slice(s,s+i));s=s+i;let l=r.decode(n.slice(s,s+o));s=s+o;let c=JSON.parse(r.decode(n.slice(s,n.byteLength)));return{ref:null,topic:a,event:l,payload:c}}};var ji=class{constructor(n,t){this.callback=n,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var ue=function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e}(ue||{}),Fh=(e,n,t={})=>{var r;let i=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(n).reduce((o,s)=>(o[s]=G1(s,e,n,i),o),{})},G1=(e,n,t,r)=>{let i=n.find(a=>a.name===e),o=i?.type,s=t[e];return o&&!r.includes(o)?e_(o,s):Ph(s)},e_=(e,n)=>{if(e.charAt(0)==="_"){let t=e.slice(1,e.length);return Y1(n,t)}switch(e){case ue.bool:return W1(n);case ue.float4:case ue.float8:case ue.int2:case ue.int4:case ue.int8:case ue.numeric:case ue.oid:return Q1(n);case ue.json:case ue.jsonb:return Z1(n);case ue.timestamp:return J1(n);case ue.abstime:case ue.date:case ue.daterange:case ue.int4range:case ue.int8range:case ue.money:case ue.reltime:case ue.text:case ue.time:case ue.timestamptz:case ue.timetz:case ue.tsrange:case ue.tstzrange:return Ph(n);default:return Ph(n)}},Ph=e=>e,W1=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Q1=e=>{if(typeof e=="string"){let n=parseFloat(e);if(!Number.isNaN(n))return n}return e},Z1=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(n){return console.log(`JSON parse error: ${n}`),e}return e},Y1=(e,n)=>{if(typeof e!="string")return e;let t=e.length-1,r=e[t];if(e[0]==="{"&&r==="}"){let o,s=e.slice(1,t);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>e_(n,a))}return e},J1=e=>typeof e=="string"?e.replace(" ","T"):e,yc=e=>{let n=e;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")};var Vi=class{constructor(n,t,r={},i=gc){this.channel=n,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,t){var r;return this._hasReceived(n)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:n,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let n=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:t}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(t))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}};var ms=class e{constructor(n,t){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=e.syncState(this.state,i,o,s),this.pendingDiffs.forEach(l=>{this.state=e.syncDiff(this.state,l,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=e.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,t,r,i){let o=this.cloneDeep(n),s=this.transformState(t),a={},l={};return this.map(o,(c,u)=>{s[c]||(l[c]=u)}),this.map(s,(c,u)=>{let p=o[c];if(p){let g=u.map(D=>D.presence_ref),m=p.map(D=>D.presence_ref),y=u.filter(D=>m.indexOf(D.presence_ref)<0),b=p.filter(D=>g.indexOf(D.presence_ref)<0);y.length>0&&(a[c]=y),b.length>0&&(l[c]=b)}else a[c]=u}),this.syncDiff(o,{joins:a,leaves:l},r,i)}static syncDiff(n,t,r,i){let{joins:o,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,l)=>{var c;let u=(c=n[a])!==null&&c!==void 0?c:[];if(n[a]=this.cloneDeep(l),u.length>0){let p=n[a].map(m=>m.presence_ref),g=u.filter(m=>p.indexOf(m.presence_ref)<0);n[a].unshift(...g)}r(a,u,l)}),this.map(s,(a,l)=>{let c=n[a];if(!c)return;let u=l.map(p=>p.presence_ref);c=c.filter(p=>u.indexOf(p.presence_ref)<0),n[a]=c,i(a,c,l),c.length===0&&delete n[a]}),n}static map(n,t){return Object.getOwnPropertyNames(n).map(r=>t(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((t,r)=>{let i=n[r];return"metas"in i?t[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[r]=i,t},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Cn=function(e){return e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR",e}(Cn||{});var gs=class e{constructor(n,t={config:{}},r){this.topic=n,this.params=t,this.socket=r,this.bindings={},this.state=ft.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Vi(this,Dt.join,this.params,this.timeout),this.rejoinTimer=new ji(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ft.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ft.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Dt.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new ms(this),this.broadcastEndpointURL=yc(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(n,t=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:o,presence:s,private:a}}=this.params;this._onError(u=>n?.(Cn.CHANNEL_ERROR,u)),this._onClose(()=>n?.(Cn.CLOSED));let l={},c={broadcast:o,presence:s,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:u})=>{var p;if(this.socket.setAuth(),u===void 0){n?.(Cn.SUBSCRIBED);return}else{let g=this.bindings.postgres_changes,m=(p=g?.length)!==null&&p!==void 0?p:0,y=[];for(let b=0;b<m;b++){let D=g[b],{filter:{event:T,schema:$,table:P,filter:J}}=D,V=u&&u[b];if(V&&V.event===T&&V.schema===$&&V.table===P&&V.filter===J)y.push(Object.assign(Object.assign({},D),{id:V.id}));else{this.unsubscribe(),n?.(Cn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,n&&n(Cn.SUBSCRIBED);return}}).receive("error",u=>{n?.(Cn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{n?.(Cn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,t={}){return await this.send({type:"presence",event:"track",payload:n},t.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,t,r){return this._on(n,t,r)}async send(n,t={}){var r,i;if(!this._canPush()&&n.type==="broadcast"){let{event:o,payload:s}=n,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:s,private:this.private}]})};try{let c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var s,a,l;let c=this._push(n.type,n,t.timeout||this.timeout);n.type==="broadcast"&&!(!((l=(a=(s=this.params)===null||s===void 0?void 0:s.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),c.receive("ok",()=>o("ok")),c.receive("error",()=>o("error")),c.receive("timeout",()=>o("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=ft.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Dt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{let i=new Vi(this,Dt.leave,{},n);i.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(n,t,r){let i=new AbortController,o=setTimeout(()=>i.abort(),r),s=await this.socket.fetch(n,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(o),s}_push(n,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Vi(this,n,t,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(n,t,r){return t}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,t,r){var i,o;let s=n.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=Dt;if(r&&[a,l,c,u].indexOf(s)>=0&&r!==this._joinRef())return;let g=this._onMessage(s,t,r);if(t&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var y,b,D;return((y=m.filter)===null||y===void 0?void 0:y.event)==="*"||((D=(b=m.filter)===null||b===void 0?void 0:b.event)===null||D===void 0?void 0:D.toLocaleLowerCase())===s}).map(m=>m.callback(g,r)):(o=this.bindings[s])===null||o===void 0||o.filter(m=>{var y,b,D,T,$,P;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in m){let J=m.id,V=(y=m.filter)===null||y===void 0?void 0:y.event;return J&&((b=t.ids)===null||b===void 0?void 0:b.includes(J))&&(V==="*"||V?.toLocaleLowerCase()===((D=t.data)===null||D===void 0?void 0:D.type.toLocaleLowerCase()))}else{let J=($=(T=m?.filter)===null||T===void 0?void 0:T.event)===null||$===void 0?void 0:$.toLocaleLowerCase();return J==="*"||J===((P=t?.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===s}).map(m=>{if(typeof g=="object"&&"ids"in g){let y=g.data,{schema:b,table:D,commit_timestamp:T,type:$,errors:P}=y;g=Object.assign(Object.assign({},{schema:b,table:D,commit_timestamp:T,eventType:$,new:{},old:{},errors:P}),this._getPayloadRecords(y))}m.callback(g,r)})}_isClosed(){return this.state===ft.closed}_isJoined(){return this.state===ft.joined}_isJoining(){return this.state===ft.joining}_isLeaving(){return this.state===ft.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,t,r){let i=n.toLocaleLowerCase(),o={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(n,t){let r=n.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&e.isEqual(i.filter,t))}),this}static isEqual(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(let r in n)if(n[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Dt.close,{},n)}_onError(n){this._on(Dt.error,{},t=>n(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ft.joining,this.joinPush.resend(n))}_getPayloadRecords(n){let t={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(t.new=Fh(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(t.old=Fh(n.columns,n.old_record)),t}};var X1=()=>{},eM=typeof WebSocket<"u",tM=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,vs=class{constructor(n,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=J0,this.params={},this.timeout=gc,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=X1,this.conn=null,this.sendBuffer=[],this.serializer=new vc,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...a)=>import("./chunk-OBK227YL.js").then(({default:l})=>l(...a)):s=fetch,(...a)=>s(...a)},this.endPoint=`${n}/${Oh.websocket}`,this.httpEndpoint=yc(n),t?.transport?this.transport=t.transport:this.transport=null,t?.params&&(this.params=t.params),t?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t?.timeout&&(this.timeout=t.timeout),t?.logger&&(this.logger=t.logger),t?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);let i=(r=t?.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=t?.reconnectAfterMs?t.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=t?.encode?t.encode:(o,s)=>s(JSON.stringify(o)),this.decode=t?.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ji(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t?.fetch),t?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=t?.worker||!1,this.workerUrl=t?.workerUrl}this.accessToken=t?.accessToken||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(eM){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Lh(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),import("./chunk-KXFMP4GI.js").then(({default:n})=>{this.conn=new n(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:K0}))}disconnect(n,t){this.conn&&(this.conn.onclose=function(){},n?this.conn.close(n,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(n){let t=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){let n=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),n}log(n,t,r){this.logger(n,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Li.connecting:return Nr.Connecting;case Li.open:return Nr.Open;case Li.closing:return Nr.Closing;default:return Nr.Closed}}isConnected(){return this.connectionState()===Nr.Open}channel(n,t={config:{}}){let r=new gs(`realtime:${n}`,t,this);return this.channels.push(r),r}push(n){let{topic:t,event:r,payload:i,ref:o}=n,s=()=>{this.encode(n,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${t} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(n=null){let t=n||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(t){let r=null;try{r=JSON.parse(atob(t.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=t,this.channels.forEach(i=>{t&&i.updateJoinPayload({access_token:t}),i.joinedOnce&&i._isJoined()&&i._push(Dt.access_token,{access_token:t})})}}async sendHeartbeat(){var n;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(n=this.conn)===null||n===void 0||n.close(X0,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let t=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${n}"`),t.unsubscribe())}_remove(n){this.channels=this.channels.filter(t=>t._joinRef()!==n._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_onConnMessage(n){this.decode(n.data,t=>{let{topic:r,event:i,payload:o,ref:s}=t;s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${i} ${s&&"("+s+")"||""}`,o),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,o,s)),this.stateChangeCallbacks.message.forEach(a=>a(t))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(n=>n())}_onConnClose(n){this.log("transport","close",n),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(n))}_onConnError(n){this.log("transport",n.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(n))}_triggerChanError(){this.channels.forEach(n=>n._trigger(Dt.error))}_appendParams(n,t){if(Object.keys(t).length===0)return n;let r=n.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${n}${r}${i}`}_workerObjectUrl(n){let t;if(n)t=n;else{let r=new Blob([tM],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}};var Lh=class{constructor(n,t,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Li.connecting,this.send=()=>{},this.url=null,this.url=n,this.close=r.close}};var Ui=class extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}};function De(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var _c=class extends Ui{constructor(n,t){super(n),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}},Rr=class extends Ui{constructor(n,t){super(n),this.name="StorageUnknownError",this.originalError=t}};var nM=function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(p){s(p)}}function l(u){try{c(r.throw(u))}catch(p){s(p)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})},wc=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...t)=>import("./chunk-OBK227YL.js").then(({default:r})=>r(...t)):n=fetch,(...t)=>n(...t)},t_=()=>nM(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-OBK227YL.js")).Response:Response}),bc=e=>{if(Array.isArray(e))return e.map(t=>bc(t));if(typeof e=="function"||e!==Object(e))return e;let n={};return Object.entries(e).forEach(([t,r])=>{let i=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));n[i]=bc(r)}),n};var kr=function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(p){s(p)}}function l(u){try{c(r.throw(u))}catch(p){s(p)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})},jh=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),rM=(e,n,t)=>kr(void 0,void 0,void 0,function*(){let r=yield t_();e instanceof r&&!t?.noResolveJson?e.json().then(i=>{n(new _c(jh(i),e.status||500))}).catch(i=>{n(new Rr(jh(i),i))}):n(new Rr(jh(e),e))}),iM=(e,n,t,r)=>{let i={method:e,headers:n?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},n?.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),t))};function ys(e,n,t,r,i,o){return kr(this,void 0,void 0,function*(){return new Promise((s,a)=>{e(t,iM(n,r,i,o)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>rM(l,a,r))})})}function $i(e,n,t,r){return kr(this,void 0,void 0,function*(){return ys(e,"GET",n,t,r)})}function Yt(e,n,t,r,i){return kr(this,void 0,void 0,function*(){return ys(e,"POST",n,r,i,t)})}function n_(e,n,t,r,i){return kr(this,void 0,void 0,function*(){return ys(e,"PUT",n,r,i,t)})}function r_(e,n,t,r){return kr(this,void 0,void 0,function*(){return ys(e,"HEAD",n,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function Dc(e,n,t,r,i){return kr(this,void 0,void 0,function*(){return ys(e,"DELETE",n,r,i,t)})}var et=function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(p){s(p)}}function l(u){try{c(r.throw(u))}catch(p){s(p)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})},oM={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},i_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},Ec=class{constructor(n,t={},r,i){this.url=n,this.headers=t,this.bucketId=r,this.fetch=wc(i)}uploadOrUpdate(n,t,r,i){return et(this,void 0,void 0,function*(){try{let o,s=Object.assign(Object.assign({},i_),i),a=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(s.upsert)}),l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));let c=this._removeEmptyFolders(t),u=this._getFinalPath(c),p=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:n,body:o,headers:a},s?.duplex?{duplex:s.duplex}:{})),g=yield p.json();return p.ok?{data:{path:c,id:g.Id,fullPath:g.Key},error:null}:{data:null,error:g}}catch(o){if(De(o))return{data:null,error:o};throw o}})}upload(n,t,r){return et(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,t,r)})}uploadToSignedUrl(n,t,r,i){return et(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(n),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",t);try{let l,c=Object.assign({upsert:i_.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);let p=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),g=yield p.json();return p.ok?{data:{path:o,fullPath:g.Key},error:null}:{data:null,error:g}}catch(l){if(De(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(n,t){return et(this,void 0,void 0,function*(){try{let r=this._getFinalPath(n),i=Object.assign({},this.headers);t?.upsert&&(i["x-upsert"]="true");let o=yield Yt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new Ui("No token returned by API");return{data:{signedUrl:s.toString(),path:n,token:a},error:null}}catch(r){if(De(r))return{data:null,error:r};throw r}})}update(n,t,r){return et(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,t,r)})}move(n,t,r){return et(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(De(i))return{data:null,error:i};throw i}})}copy(n,t,r){return et(this,void 0,void 0,function*(){try{return{data:{path:(yield Yt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(De(i))return{data:null,error:i};throw i}})}createSignedUrl(n,t,r){return et(this,void 0,void 0,function*(){try{let i=this._getFinalPath(n),o=yield Yt(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(De(i))return{data:null,error:i};throw i}})}createSignedUrls(n,t,r){return et(this,void 0,void 0,function*(){try{let i=yield Yt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:n},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(De(i))return{data:null,error:i};throw i}})}download(n,t){return et(this,void 0,void 0,function*(){let i=typeof t?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(t?.transform||{}),s=o?`?${o}`:"";try{let a=this._getFinalPath(n);return{data:yield(yield $i(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(De(a))return{data:null,error:a};throw a}})}info(n){return et(this,void 0,void 0,function*(){let t=this._getFinalPath(n);try{let r=yield $i(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:bc(r),error:null}}catch(r){if(De(r))return{data:null,error:r};throw r}})}exists(n){return et(this,void 0,void 0,function*(){let t=this._getFinalPath(n);try{return yield r_(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(De(r)&&r instanceof Rr){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(n,t){let r=this._getFinalPath(n),i=[],o=t?.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&i.push(o);let a=typeof t?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(t?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(n){return et(this,void 0,void 0,function*(){try{return{data:yield Dc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(t){if(De(t))return{data:null,error:t};throw t}})}list(n,t,r){return et(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},oM),t),{prefix:n||""});return{data:yield Yt(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(De(i))return{data:null,error:i};throw i}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){let t=[];return n.width&&t.push(`width=${n.width}`),n.height&&t.push(`height=${n.height}`),n.resize&&t.push(`resize=${n.resize}`),n.format&&t.push(`format=${n.format}`),n.quality&&t.push(`quality=${n.quality}`),t.join("&")}};var o_="2.7.1";var s_={"X-Client-Info":`storage-js/${o_}`};var Bi=function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(p){s(p)}}function l(u){try{c(r.throw(u))}catch(p){s(p)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})},Cc=class{constructor(n,t={},r){this.url=n,this.headers=Object.assign(Object.assign({},s_),t),this.fetch=wc(r)}listBuckets(){return Bi(this,void 0,void 0,function*(){try{return{data:yield $i(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(De(n))return{data:null,error:n};throw n}})}getBucket(n){return Bi(this,void 0,void 0,function*(){try{return{data:yield $i(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(t){if(De(t))return{data:null,error:t};throw t}})}createBucket(n,t={public:!1}){return Bi(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/bucket`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(De(r))return{data:null,error:r};throw r}})}updateBucket(n,t){return Bi(this,void 0,void 0,function*(){try{return{data:yield n_(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(De(r))return{data:null,error:r};throw r}})}emptyBucket(n){return Bi(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(De(t))return{data:null,error:t};throw t}})}deleteBucket(n){return Bi(this,void 0,void 0,function*(){try{return{data:yield Dc(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(t){if(De(t))return{data:null,error:t};throw t}})}};var _s=class extends Cc{constructor(n,t={},r){super(n,t,r)}from(n){return new Ec(this.url,this.headers,n,this.fetch)}};var a_="2.48.1";var bs="";typeof Deno<"u"?bs="deno":typeof document<"u"?bs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?bs="react-native":bs="node";var sM={"X-Client-Info":`supabase-js-${bs}/${a_}`},l_={headers:sM},c_={schema:"public"},u_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},d_={};dp();var aM=function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(p){s(p)}}function l(u){try{c(r.throw(u))}catch(p){s(p)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})},lM=e=>{let n;return e?n=e:typeof fetch>"u"?n=cp:n=fetch,(...t)=>n(...t)},cM=()=>typeof Headers>"u"?up:Headers,f_=(e,n,t)=>{let r=lM(t),i=cM();return(o,s)=>aM(void 0,void 0,void 0,function*(){var a;let l=(a=yield n())!==null&&a!==void 0?a:e,c=new i(s?.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},s),{headers:c}))})};var uM=function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(p){s(p)}}function l(u){try{c(r.throw(u))}catch(p){s(p)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})};function h_(e){return e.replace(/\/$/,"")}function p_(e,n){let{db:t,auth:r,realtime:i,global:o}=e,{db:s,auth:a,realtime:l,global:c}=n,u={db:Object.assign(Object.assign({},s),t),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},c),o),accessToken:()=>uM(this,void 0,void 0,function*(){return""})};return e.accessToken?u.accessToken=e.accessToken:delete u.accessToken,u}var Sc="2.67.3";var m_="http://localhost:9999",g_="supabase.auth.token";var v_={"X-Client-Info":`gotrue-js/${Sc}`},Vh=10;var ws="X-Supabase-Api-Version",Uh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function y_(e){return Math.round(Date.now()/1e3)+e}function __(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let n=Math.random()*16|0;return(e=="x"?n:n&3|8).toString(16)})}var jt=()=>typeof window<"u"&&typeof document<"u",Or={tested:!1,writable:!1},Wn=()=>{if(!jt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Or.tested)return Or.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Or.tested=!0,Or.writable=!0}catch{Or.tested=!0,Or.writable=!1}return Or.writable};function b_(e){let n={},t=new URL(e);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,o)=>{n[o]=i})}catch{}return t.searchParams.forEach((r,i)=>{n[i]=r}),n}var Ic=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...t)=>import("./chunk-OBK227YL.js").then(({default:r})=>r(...t)):n=fetch,(...t)=>n(...t)},w_=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",$h=async(e,n,t)=>{await e.setItem(n,JSON.stringify(t))},Es=async(e,n)=>{let t=await e.getItem(n);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Cs=async(e,n)=>{await e.removeItem(n)};function dM(e){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",t="",r,i,o,s,a,l,c,u=0;for(e=e.replace("-","+").replace("_","/");u<e.length;)s=n.indexOf(e.charAt(u++)),a=n.indexOf(e.charAt(u++)),l=n.indexOf(e.charAt(u++)),c=n.indexOf(e.charAt(u++)),r=s<<2|a>>4,i=(a&15)<<4|l>>2,o=(l&3)<<6|c,t=t+String.fromCharCode(r),l!=64&&i!=0&&(t=t+String.fromCharCode(i)),c!=64&&o!=0&&(t=t+String.fromCharCode(o));return t}var Ds=class e{constructor(){this.promise=new e.promiseConstructor((n,t)=>{this.resolve=n,this.reject=t})}};Ds.promiseConstructor=Promise;function Bh(e){let n=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,t=e.split(".");if(t.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!n.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");let r=t[1];return JSON.parse(dM(r))}async function D_(e){return await new Promise(n=>{setTimeout(()=>n(null),e)})}function E_(e,n){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{let s=await e(o);if(!n(o,null,s)){r(s);return}}catch(s){if(!n(o,s)){i(s);return}}})()})}function fM(e){return("0"+e.toString(16)).substr(-2)}function hM(){let n=new Uint32Array(56);if(typeof crypto>"u"){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length,i="";for(let o=0;o<56;o++)i+=t.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(n),Array.from(n,fM).join("")}async function pM(e){let t=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",t),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}function mM(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function gM(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;let t=await pM(e);return mM(t)}async function Pr(e,n,t=!1){let r=hM(),i=r;t&&(i+="/PASSWORD_RECOVERY"),await $h(e,`${n}-code-verifier`,i);let o=await gM(r);return[o,r===o?"plain":"s256"]}var vM=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function C_(e){let n=e.headers.get(ws);if(!n||!n.match(vM))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}var Ss=class extends Error{constructor(n,t,r){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}};function U(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}var Tc=class extends Ss{constructor(n,t,r){super(n,t,r),this.name="AuthApiError",this.status=t,this.code=r}};function S_(e){return U(e)&&e.name==="AuthApiError"}var Hi=class extends Ss{constructor(n,t){super(n),this.name="AuthUnknownError",this.originalError=t}},Sn=class extends Ss{constructor(n,t,r,i){super(n,r,i),this.name=t,this.status=r}},Et=class extends Sn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function I_(e){return U(e)&&e.name==="AuthSessionMissingError"}var qi=class extends Sn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Fr=class extends Sn{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}},Lr=class extends Sn{constructor(n,t=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function T_(e){return U(e)&&e.name==="AuthImplicitGrantRedirectError"}var Is=class extends Sn{constructor(n,t=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},zi=class extends Sn{constructor(n,t){super(n,"AuthRetryableFetchError",t,void 0)}};function xc(e){return U(e)&&e.name==="AuthRetryableFetchError"}var Ts=class extends Sn{constructor(n,t,r){super(n,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}};var yM=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t},jr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),_M=[502,503,504];async function x_(e){var n;if(!w_(e))throw new zi(jr(e),0);if(_M.includes(e.status))throw new zi(jr(e),e.status);let t;try{t=await e.json()}catch(o){throw new Hi(jr(o),o)}let r,i=C_(e);if(i&&i.getTime()>=Uh["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new Ts(jr(t),e.status,((n=t.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(r==="session_not_found")throw new Et}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new Ts(jr(t),e.status,t.weak_password.reasons);throw new Tc(jr(t),e.status||500,r)}var bM=(e,n,t,r)=>{let i={method:e,headers:n?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};async function Y(e,n,t,r){var i;let o=Object.assign({},r?.headers);o[ws]||(o[ws]=Uh["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await wM(e,n,t+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}}async function wM(e,n,t,r,i,o){let s=bM(n,r,i,o),a;try{a=await e(t,Object.assign({},s))}catch(l){throw console.error(l),new zi(jr(l),0)}if(a.ok||await x_(a),r?.noResolveJson)return a;try{return await a.json()}catch(l){await x_(l)}}function In(e){var n;let t=null;DM(e)&&(t=Object.assign({},e),e.expires_at||(t.expires_at=y_(e.expires_in)));let r=(n=e.user)!==null&&n!==void 0?n:e;return{data:{session:t,user:r},error:null}}function Hh(e){let n=In(e);return!n.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(n.data.weak_password=e.weak_password),n}function Jt(e){var n;return{data:{user:(n=e.user)!==null&&n!==void 0?n:e},error:null}}function M_(e){return{data:e,error:null}}function A_(e){let{action_link:n,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o}=e,s=yM(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:n,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function N_(e){return e}function DM(e){return e.access_token&&e.refresh_token&&e.expires_in}var EM=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t},Gi=class{constructor({url:n="",headers:t={},fetch:r}){this.url=n,this.headers=t,this.fetch=Ic(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(n,t="global"){try{return await Y(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}}async inviteUserByEmail(n,t={}){try{return await Y(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Jt})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async generateLink(n){try{let{options:t}=n,r=EM(n,["options"]),i=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await Y(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:A_,redirectTo:t?.redirectTo})}catch(t){if(U(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(n){try{return await Y(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Jt})}catch(t){if(U(t))return{data:{user:null},error:t};throw t}}async listUsers(n){var t,r,i,o,s,a,l;try{let c={nextPage:null,lastPage:0,total:0},u=await Y(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=n?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=n?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:N_});if(u.error)throw u.error;let p=await u.json(),g=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,m=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(y=>{let b=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),D=JSON.parse(y.split(";")[1].split("=")[1]);c[`${D}Page`]=b}),c.total=parseInt(g)),{data:Object.assign(Object.assign({},p),c),error:null}}catch(c){if(U(c))return{data:{users:[]},error:c};throw c}}async getUserById(n){try{return await Y(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Jt})}catch(t){if(U(t))return{data:{user:null},error:t};throw t}}async updateUserById(n,t){try{return await Y(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:t,headers:this.headers,xform:Jt})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async deleteUser(n,t=!1){try{return await Y(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:t},xform:Jt})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async _listFactors(n){try{let{data:t,error:r}=await Y(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:r}}catch(t){if(U(t))return{data:null,error:t};throw t}}async _deleteFactor(n){try{return{data:await Y(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(t){if(U(t))return{data:null,error:t};throw t}}};var R_={getItem:e=>Wn()?globalThis.localStorage.getItem(e):null,setItem:(e,n)=>{Wn()&&globalThis.localStorage.setItem(e,n)},removeItem:e=>{Wn()&&globalThis.localStorage.removeItem(e)}};function qh(e={}){return{getItem:n=>e[n]||null,setItem:(n,t)=>{e[n]=t},removeItem:n=>{delete e[n]}}}function k_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var Vr={debug:!!(globalThis&&Wn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},xs=class extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}},Mc=class extends xs{};async function zh(e,n,t){Vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,n);let r=new globalThis.AbortController;return n>0&&setTimeout(()=>{r.abort(),Vr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await t()}finally{Vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(n===0)throw Vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Mc(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Vr.debug)try{let o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}k_();var CM={url:m_,storageKey:g_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:v_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Ms=30*1e3,O_=3;async function P_(e,n,t){return await t()}var Gh=(()=>{class e{constructor(t){var r,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=e.nextInstanceID,e.nextInstanceID+=1,this.instanceID>0&&jt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let o=Object.assign(Object.assign({},CM),t);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Gi({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Ic(o.fetch),this.lock=o.lock||P_,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:jt()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=zh:this.lock=P_,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:Wn()?this.storage=R_:(this.memoryStorage={},this.storage=qh(this.memoryStorage)):(this.memoryStorage={},this.storage=qh(this.memoryStorage)),jt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Sc}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r=b_(window.location.href),i="none";if(this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce"),jt()&&this.detectSessionInUrl&&i!=="none"){let{data:o,error:s}=await this._getSessionFromURL(r,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),T_(s)){let c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}let{session:a,redirectType:l}=o;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return U(r)?{error:r}:{error:new Hi("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,i,o;try{let s=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=t?.options)===null||o===void 0?void 0:o.captchaToken}},xform:In}),{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};let c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(U(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var r,i,o;try{let s;if("email"in t){let{email:p,password:g,options:m}=t,y=null,b=null;this.flowType==="pkce"&&([y,b]=await Pr(this.storage,this.storageKey)),s=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m?.emailRedirectTo,body:{email:p,password:g,data:(r=m?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:y,code_challenge_method:b},xform:In})}else if("phone"in t){let{phone:p,password:g,options:m}=t;s=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:g,data:(i=m?.data)!==null&&i!==void 0?i:{},channel:(o=m?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:In})}else throw new Fr("You must provide either an email or phone number and a password");let{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};let c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(U(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let r;if("email"in t){let{email:s,password:a,options:l}=t;r=await Y(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Hh})}else if("phone"in t){let{phone:s,password:a,options:l}=t;r=await Y(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Hh})}else throw new Fr("You must provide either an email or phone number and a password");let{data:i,error:o}=r;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new qi}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(U(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,i,o,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){let r=await Es(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{let{data:s,error:a}=await Y(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:In});if(await Cs(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new qi}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})}catch(s){if(U(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{let{options:r,provider:i,token:o,access_token:s,nonce:a}=t,l=await Y(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:In}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new qi}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(U(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,i,o,s,a;try{if("email"in t){let{email:l,options:c}=t,u=null,p=null;this.flowType==="pkce"&&([u,p]=await Pr(this.storage,this.storageKey));let{error:g}=await Y(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(i=c?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:u,code_challenge_method:p},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in t){let{phone:l,options:c}=t,{data:u,error:p}=await Y(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(o=c?.data)!==null&&o!==void 0?o:{},create_user:(s=c?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(a=c?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:p}}throw new Fr("You must provide either an email or phone number.")}catch(l){if(U(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,i;try{let o,s;"options"in t&&(o=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(i=t.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:l}=await Y(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:In});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");let c=a.session,u=a.user;return c?.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(U(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(t){var r,i,o;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await Pr(this.storage,this.storageKey)),await Y(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=t?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:M_})}catch(s){if(U(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{let{data:{session:r},error:i}=t;if(i)throw i;if(!r)throw new Et;let{error:o}=await Y(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}})}catch(t){if(U(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{let r=`${this.url}/resend`;if("email"in t){let{email:i,type:o,options:s}=t,{error:a}=await Y(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){let{phone:i,type:o,options:s}=t,{data:a,error:l}=await Y(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:l}}throw new Fr("You must provide either an email or phone number and a type")}catch(r){if(U(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){let o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{let r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null,r=await Es(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};let i=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.storage.isServer){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,p)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,p))})}return{data:{session:t},error:null}}let{session:o,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Y(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Jt}):await this._useSession(async r=>{var i,o,s;let{data:a,error:l}=r;if(l)throw l;return!(!((i=a.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Et}:await Y(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:Jt})})}catch(r){if(U(r))return I_(r)&&(await this._removeSession(),await Cs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async i=>{let{data:o,error:s}=i;if(s)throw s;if(!o.session)throw new Et;let a=o.session,l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Pr(this.storage,this.storageKey));let{data:u,error:p}=await Y(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:Jt});if(p)throw p;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(i){if(U(i))return{data:{user:null},error:i};throw i}}_decodeJWT(t){return Bh(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Et;let r=Date.now()/1e3,i=r,o=!0,s=null,a=Bh(t.access_token);if(a.exp&&(i=a.exp,o=i<=r),o){let{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{let{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(U(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var i;if(!t){let{data:a,error:l}=r;if(l)throw l;t=(i=a.session)!==null&&i!==void 0?i:void 0}if(!t?.refresh_token)throw new Et;let{session:o,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(U(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!jt())throw new Lr("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Lr(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Is("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Lr("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Is("No code detected.");let{data:P,error:J}=await this._exchangeCodeForSession(t.code);if(J)throw J;let V=new URL(window.location.href);return V.searchParams.delete("code"),window.history.replaceState(window.history.state,"",V.toString()),{data:{session:P.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!s||!l||!a||!u)throw new Lr("No session defined in URL");let p=Math.round(Date.now()/1e3),g=parseInt(l),m=p+g;c&&(m=parseInt(c));let y=m-p;y*1e3<=Ms&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${g}s`);let b=m-g;p-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,m,p):p-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,m,p);let{data:D,error:T}=await this._getUser(s);if(T)throw T;let $={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:g,expires_at:m,refresh_token:a,token_type:u,user:D.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:$,redirectType:t.type},error:null}}catch(i){if(U(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){let r=await Es(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var i;let{data:o,error:s}=r;if(s)return{error:s};let a=(i=o.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:l}=await this.admin.signOut(a,t);if(l&&!(S_(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Cs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){let r=__(),i={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async r=>{var i,o;try{let{data:{session:s},error:a}=r;if(a)throw a;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await Pr(this.storage,this.storageKey,!0));try{return await Y(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(U(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{let{data:r,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{let{data:i,error:o}=await this._useSession(async s=>{var a,l,c,u,p;let{data:g,error:m}=s;if(m)throw m;let y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Y(this.fetch,"GET",y,{headers:this.headers,jwt:(p=(u=g.session)===null||u===void 0?void 0:u.access_token)!==null&&p!==void 0?p:void 0})});if(o)throw o;return jt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:t.provider,url:i?.url},error:null}}catch(i){if(U(i))return{data:{provider:t.provider,url:null},error:i};throw i}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var i,o;let{data:s,error:a}=r;if(a)throw a;return await Y(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(U(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){let r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return await E_(async o=>(o>0&&await D_(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await Y(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:In})),(o,s)=>{let a=200*Math.pow(2,o);return s&&xc(s)&&Date.now()+a-i<Ms})}catch(i){if(this._debug(r,"error",i),U(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){let i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",i),jt()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t;let r="#_recoverAndRefresh()";this._debug(r,"begin");try{let i=await Es(this.storage,this.storageKey);if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}let o=Math.round(Date.now()/1e3),s=((t=i.expires_at)!==null&&t!==void 0?t:1/0)<o+Vh;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Vh}s`),s){if(this.autoRefreshToken&&i.refresh_token){let{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),xc(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,i;if(!t)throw new Et;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Ds;let{data:s,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new Et;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(o,"error",s),U(s)){let a={session:null,error:s};return xc(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,r,i=!0){let o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){s.push(c)}});if(await Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await $h(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Cs(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&jt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let t=setInterval(()=>this._autoRefreshTokenTick(),Ms);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let t=Date.now();try{return await this._useSession(async r=>{let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-t)/Ms);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Ms}ms, refresh threshold is ${O_} ticks`),o<=O_&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof xs)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!jt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){let r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,i){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[s,a]=await Pr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});o.push(l.toString())}if(i?.queryParams){let s=new URLSearchParams(i.queryParams);o.push(s.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var i;let{data:o,error:s}=r;return s?{data:null,error:s}:await Y(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(U(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var i,o;let{data:s,error:a}=r;if(a)return{data:null,error:a};let l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Y(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((o=c?.totp)===null||o===void 0)&&o.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(U(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;let{data:o,error:s}=r;if(s)return{data:null,error:s};let{data:a,error:l}=await Y(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(r){if(U(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;let{data:o,error:s}=r;return s?{data:null,error:s}:await Y(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(U(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){let{data:r,error:i}=await this._challenge({factorId:t.factorId});return i?{data:null,error:i}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){let{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};let i=t?.factors||[],o=i.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=i.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:i,totp:o,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,i;let{data:{session:o},error:s}=t;if(s)return{data:null,error:s};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let a=this._decodeJWT(o.access_token),l=null;a.aal&&(l=a.aal);let c=l;((i=(r=o.user.factors)===null||r===void 0?void 0:r.filter(g=>g.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(c="aal2");let p=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:p},error:null}}))}}return e.nextInstanceID=0,e})();var SM=Gh,Wh=SM;var Ac=class extends Wh{constructor(n){super(n)}};var IM=function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(p){s(p)}}function l(u){try{c(r.throw(u))}catch(p){s(p)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})},Nc=class{constructor(n,t,r){var i,o,s;if(this.supabaseUrl=n,this.supabaseKey=t,!n)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");let a=h_(n);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;let l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:c_,realtime:d_,auth:Object.assign(Object.assign({},u_),{storageKey:l}),global:l_},u=p_(r??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(p,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=f_(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Z0(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new ls(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new _s(this.storageUrl,this.headers,this.fetch)}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,t={},r={}){return this.rest.rpc(n,t,r)}channel(n,t={config:{}}){return this.realtime.channel(n,t)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,t;return IM(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:t,detectSessionInUrl:r,storage:i,storageKey:o,flowType:s,lock:a,debug:l},c,u){let p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ac({url:this.authUrl,headers:Object.assign(Object.assign({},p),c),storageKey:o,autoRefreshToken:n,persistSession:t,detectSessionInUrl:r,storage:i,flowType:s,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(n){return new vs(this.realtimeUrl,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r?.access_token)})}_handleTokenChanged(n,t,r){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:n==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var F_=(e,n,t)=>new Nc(e,n,t);var Rc={API_URL:"https://jsgltiaidlacvchyjjha.supabase.co",anon_key:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpzZ2x0aWFpZGxhY3ZjaHlqamhhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzk2NjIzNDIsImV4cCI6MjA1NTIzODM0Mn0.bPtRMhXapLzUgPEIf6GoW9r52umh0F1YZhG1bfLyb0s",supabase_LocalStorage_key:"sb-jsgltiaidlacvchyjjha-auth-token"};var de=class e{constructor(n){this.platformId=n;this.supabase=F_(Rc.API_URL,Rc.anon_key,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),this.initializeAuthState()}supabase;user=ot(null);currentUsername=ot(null);loginStatus=ot(null);ngOnInit(){this.initializeAuthState()}initializeAuthState(){if(!lt(this.platformId))return;let n=this.getStoredSession();n&&this.updateSession(n),this.refreshSessionFromApi(),this.supabase.auth.onAuthStateChange((t,r)=>{this.updateSession(r)})}getStoredSession(){try{let n=localStorage.getItem(Rc.supabase_LocalStorage_key);if(!n)return null;let t=JSON.parse(n);if(!t||!t.expires_at)return null;let r=t.expires_at*1e3;return Date.now()>=r?null:t}catch(n){return console.error("Error parsing stored session",n),null}}async refreshSessionFromApi(){try{let{data:n,error:t}=await this.supabase.auth.getSession();if(t)throw t;this.updateSession(n.session)}catch(n){console.error("Failed to refresh session:",n),this.updateSession(null)}}updateSession(n){if(n){this.user.set(n.user);let t=n.user?.identities?.[0]?.identity_data?.firstname||null;this.currentUsername.set(t),this.loginStatus.set(!0)}else this.user.set(null),this.currentUsername.set(null),this.loginStatus.set(!1)}initializeApp(){return new Promise(n=>{if(!lt(this.platformId))return this.loginStatus.set(!1),n(!1);let t=this.getStoredSession();t&&this.updateSession(t),this.supabase.auth.getSession().then(({data:r,error:i})=>{i?(console.error("Failed to get session:",i),this.updateSession(null)):this.updateSession(r.session),this.supabase.auth.onAuthStateChange((o,s)=>{this.updateSession(s)}),n(!0)})})}async signIn(n,t){try{let{error:r}=await this.supabase.auth.signInWithPassword({email:n,password:t});if(r)throw r;return{success:!0}}catch(r){return console.error("Sign in error:",r),{success:!1,error:r}}}async signOut(){try{let{error:n}=await this.supabase.auth.signOut();if(n)throw n;return this.clearStorages(),this.updateSession(null),{success:!0}}catch(n){return console.error("Sign out error:",n),{success:!1,error:n}}}async signUp(n,t,r,i){let{error:o}=await this.supabase.auth.signUp({email:n,password:t,options:{data:{firstname:r,lastname:i}}});if(o)throw o}clearStorages(){lt(this.platformId)&&(localStorage.clear(),sessionStorage.clear())}async addTradeLog(n,t){let r=this.user();if(!r)throw new Error("User not authenticated");n.userid=r.id;let{data:i,error:o}=await this.supabase.from(t).insert([n]);if(o)throw console.error("Error inserting trade log: ",o),o;return lt(this.platformId)&&sessionStorage.setItem(`${t}_refresh`,"yes"),i}async getTradeLogs(n){let t=this.user();if(!t)throw new Error("User not authenticated");let r=!1,i=null;if(lt(this.platformId)){r=sessionStorage.getItem(`${n}_refresh`)==="yes";let a=sessionStorage.getItem(n);if(a)try{i=JSON.parse(a)}catch(l){console.error("Error parsing cached trade logs:",l),i=null}}if(!r&&i)return i;let{data:o,error:s}=await this.supabase.from(n).select("*").eq("userid",t.id);if(s)throw console.error("Error fetching trade logs:",s),s;return lt(this.platformId)&&(sessionStorage.setItem(n,JSON.stringify(o)),sessionStorage.removeItem(`${n}_refresh`)),o}async updateTradeLog(n,t){if(!this.user())throw new Error("User not authenticated");let{data:i,error:o}=await this.supabase.from(t).update(n).eq("tradeid",n.tradeid);if(o)throw console.error("Error updating trade log: ",o),o;return lt(this.platformId)&&sessionStorage.setItem(`${t}_refresh`,"yes"),i}async deleteTradeLog(n,t){if(!this.user())throw new Error("User not authenticated");let{data:i,error:o}=await this.supabase.from(t).delete().eq("tradeid",n);if(o)throw console.error("Error deleting trade log: ",o),o;return lt(this.platformId)&&sessionStorage.setItem(`${t}_refresh`,"yes"),i}async loadQuestions(){let{data:n,error:t}=await this.supabase.from("activequestions").select("*");if(t)throw console.error("Error loading questions: ",t),t;return n}async adminLoadQuestions(){let{data:n,error:t}=await this.supabase.from("adminquestions").select("*");if(t)throw console.error("Error loading questions: ",t),t;return n}async adminSaveQuestions(n){let t=null;for(let r of n.filter(i=>i.isModified))if(r.question_id){let{data:i,error:o}=await this.supabase.from("adminquestions").update({question_text:r.question_text,active:r.active}).eq("question_id",r.question_id).select().single();if(o){console.error("Error updating question:",o),t=o;break}else r.updated_at=i.updated_at,r.isModified=!1}else{let{data:i,error:o}=await this.supabase.from("adminquestions").insert([{question_text:r.question_text,active:r.active}]).select().single();if(o){console.error("Error inserting question:",o),t=o;break}else r.question_id=i.question_id,r.created_at=i.created_at,r.updated_at=i.updated_at,r.isModified=!1}return{error:t}}async deleteQuestion(n){let{error:t}=await this.supabase.from("adminquestions").delete().eq("question_id",n.question_id);return{error:t}}async getActiveQuestions(){let{data:n,error:t}=await this.supabase.from("activequestions").select("*");return{data:n,error:t}}async submitUserAnswers(n){let{error:t}=await this.supabase.from("answers").insert(n);return{error:t}}supaScream(){return"SupaScream"}static \u0275fac=function(t){return new(t||e)(k(yt))};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})};function TM(e,n){if(e&1&&(f(0,"div",8)(1,"div",9)(2,"div",10)(3,"h5",11),h(4),d(),f(5,"p",14),h(6),d(),f(7,"a",15),h(8),d()()()()),e&2){let t=n.$implicit;v(4),Ie(t.title),v(2),Ie(t.description),v(),_("routerLink",t.link),v(),Ie(t.buttonText)}}var kc=class e{constructor(n){this.supabaseService=n;this.userFirstName=this.supabaseService.currentUsername()}userFirstName;steps=[{title:"Step 1: Daily Emotional Check-in",description:"Understand your emotional state before making trading decisions.",buttonText:"Begin Emotional Check-in",link:"/emotions"},{title:"Step 2: Pre-Trade Log",description:"Document your trading plan before executing any trades.",buttonText:"Create Pre-Trade Log",link:"/pretradelog"},{title:"Step 3: Post-Trade Log",description:"Record results and analyze your trading performance.",buttonText:"Complete Post-Trade Log",link:"/posttradelog"},{title:"Step 4: Reflection & Meditation",description:"Clear your mind with mindfulness practices.",buttonText:"Start Reflection",link:"/reflection"}];static \u0275fac=function(t){return new(t||e)(E(de))};static \u0275cmp=be({type:e,selectors:[["app-landing-page"]],decls:32,vars:2,consts:[[1,"container","mt-4"],[1,"text-center","mb-4"],[1,"text-center"],[1,"container","text-center","mt-5"],[1,"row"],["class","col-12",4,"ngFor","ngForOf"],[1,"container","text-center"],[1,"mb-4"],[1,"col-12"],[1,"card","h-100"],[1,"card-body"],[1,"card-title"],["routerLink","/meditation",1,"btn","btn-secondary"],["routerLink","/admin/emotionquestion",1,"btn","btn-secondary"],[1,"card-text"],[1,"btn","btn-primary","btn-tr",3,"routerLink"]],template:function(t,r){t&1&&(f(0,"div",0)(1,"h1",1),h(2),d(),f(3,"h2",1),h(4,"Begin Your Trading Transformation"),d(),f(5,"h3",1),h(6,"Your Daily Trading Routine"),d(),f(7,"p",2),h(8," Welcome to your personalized trading journey. Each day follows a structured approach designed to build discipline and improve your trading performance. "),d(),f(9,"div",3)(10,"div",4),I(11,TM,9,4,"div",5),d()(),w(12,"hr"),f(13,"div",6)(14,"h2",7),h(15,"Additional Resources"),d(),f(16,"div",4)(17,"div",8)(18,"div",9)(19,"div",10)(20,"h5",11),h(21,"Meditation Hub"),d(),f(22,"p"),h(23,"Clear your mind and reduce emotional reactivity with guided meditations."),d(),f(24,"a",12),h(25,"Visit Meditation Hub"),d()()(),f(26,"div",9)(27,"div",10)(28,"h5",11),h(29,"Page"),d(),f(30,"a",13),h(31,"Page"),d()()()()()()()),t&2&&(v(2),z("Welcome, ",r.userFirstName,"!"),v(9),_("ngForOf",r.steps))},dependencies:[Zt,Te,Wt],styles:[".card[_ngcontent-%COMP%]{border:none;border-radius:8px}.card-body[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:600;margin-bottom:.75rem}.card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1rem}.btn-custom[_ngcontent-%COMP%]{border-radius:20px;font-weight:600}@media (max-width: 576px){.card-body[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.1rem}.card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.btn-custom[_ngcontent-%COMP%]{padding:.5rem 1rem}}"]})};var Kt=class e{constructor(n,t,r){this.supabaseService=n;this.router=t;this.injector=r}canActivate(n,t){return this.supabaseService.loginStatus()?!0:new Promise(i=>{ke(this.injector,()=>{Ro(()=>{this.supabaseService.loginStatus()&&i(!0)})}),setTimeout(()=>{this.supabaseService.loginStatus()||i(this.router.createUrlTree([""],{queryParams:{returnUrl:t.url}}))},100)})}static \u0275fac=function(t){return new(t||e)(k(de),k(dt),k(Ae))};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})};var Oc=class e{constructor(n,t,r){this.supabaseService=n;this.router=t;this.injector=r}canActivate(n,t){let r=this.supabaseService.loginStatus();return r?!1:r?new Promise(i=>{ke(this.injector,()=>{Ro(()=>{this.supabaseService.loginStatus()||i(!0)})}),setTimeout(()=>{this.supabaseService.loginStatus()&&i(this.router.createUrlTree(["/home"]))},100)}):!0}static \u0275fac=function(t){return new(t||e)(k(de),k(dt),k(Ae))};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})};var G_=(()=>{class e{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||e)(E(kt),E(vt))};static \u0275dir=oe({type:e})}return e})(),Ji=(()=>{class e extends G_{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Rt(e)))(i||e)}})();static \u0275dir=oe({type:e,features:[Oe]})}return e})(),Kn=new N(""),xM={provide:Kn,useExisting:He(()=>Fs),multi:!0},Fs=(()=>{class e extends Ji{writeValue(t){this.setProperty("checked",t)}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Rt(e)))(i||e)}})();static \u0275dir=oe({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&O("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[st([xM]),Oe]})}return e})(),MM={provide:Kn,useExisting:He(()=>Ct),multi:!0};function AM(){let e=bn()?bn().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var NM=new N(""),Ct=(()=>{class e extends G_{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!AM())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||e)(E(kt),E(vt),E(NM,8))};static \u0275dir=oe({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&O("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[st([MM]),Oe]})}return e})();function Zn(e){return e==null||(typeof e=="string"||Array.isArray(e))&&e.length===0}function W_(e){return e!=null&&typeof e.length=="number"}var Ki=new N(""),qc=new N(""),RM=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,A=class{static min(n){return Q_(n)}static max(n){return Z_(n)}static required(n){return kM(n)}static requiredTrue(n){return OM(n)}static email(n){return PM(n)}static minLength(n){return FM(n)}static maxLength(n){return LM(n)}static pattern(n){return jM(n)}static nullValidator(n){return Fc(n)}static compose(n){return tb(n)}static composeAsync(n){return nb(n)}};function Q_(e){return n=>{if(Zn(n.value)||Zn(e))return null;let t=parseFloat(n.value);return!isNaN(t)&&t<e?{min:{min:e,actual:n.value}}:null}}function Z_(e){return n=>{if(Zn(n.value)||Zn(e))return null;let t=parseFloat(n.value);return!isNaN(t)&&t>e?{max:{max:e,actual:n.value}}:null}}function kM(e){return Zn(e.value)?{required:!0}:null}function OM(e){return e.value===!0?null:{required:!0}}function PM(e){return Zn(e.value)||RM.test(e.value)?null:{email:!0}}function FM(e){return n=>Zn(n.value)||!W_(n.value)?null:n.value.length<e?{minlength:{requiredLength:e,actualLength:n.value.length}}:null}function LM(e){return n=>W_(n.value)&&n.value.length>e?{maxlength:{requiredLength:e,actualLength:n.value.length}}:null}function jM(e){if(!e)return Fc;let n,t;return typeof e=="string"?(t="",e.charAt(0)!=="^"&&(t+="^"),t+=e,e.charAt(e.length-1)!=="$"&&(t+="$"),n=new RegExp(t)):(t=e.toString(),n=e),r=>{if(Zn(r.value))return null;let i=r.value;return n.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function Fc(e){return null}function Y_(e){return e!=null}function J_(e){return Dr(e)?fe(e):e}function K_(e){let n={};return e.forEach(t=>{n=t!=null?S(S({},n),t):n}),Object.keys(n).length===0?null:n}function X_(e,n){return n.map(t=>t(e))}function VM(e){return!e.validate}function eb(e){return e.map(n=>VM(n)?n:t=>n.validate(t))}function tb(e){if(!e)return null;let n=e.filter(Y_);return n.length==0?null:function(t){return K_(X_(t,n))}}function Xh(e){return e!=null?tb(eb(e)):null}function nb(e){if(!e)return null;let n=e.filter(Y_);return n.length==0?null:function(t){let r=X_(t,n).map(J_);return vu(r).pipe(B(K_))}}function ep(e){return e!=null?nb(eb(e)):null}function L_(e,n){return e===null?[n]:Array.isArray(e)?[...e,n]:[e,n]}function rb(e){return e._rawValidators}function ib(e){return e._rawAsyncValidators}function Qh(e){return e?Array.isArray(e)?e:[e]:[]}function Lc(e,n){return Array.isArray(e)?e.includes(n):e===n}function j_(e,n){let t=Qh(n);return Qh(e).forEach(i=>{Lc(t,i)||t.push(i)}),t}function V_(e,n){return Qh(n).filter(t=>!Lc(e,t))}var jc=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=Xh(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=ep(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return this.control?this.control.hasError(n,t):!1}getError(n,t){return this.control?this.control.getError(n,t):null}},Tn=class extends jc{name;get formDirective(){return null}get path(){return null}},Yn=class extends jc{_parent=null;name=null;valueAccessor=null},Vc=class{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},UM={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},U$=q(S({},UM),{"[class.ng-submitted]":"isSubmitted"}),Xt=(()=>{class e extends Vc{constructor(t){super(t)}static \u0275fac=function(r){return new(r||e)(E(Yn,2))};static \u0275dir=oe({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&zt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Oe]})}return e})(),Xn=(()=>{class e extends Vc{constructor(t){super(t)}static \u0275fac=function(r){return new(r||e)(E(Tn,10))};static \u0275dir=oe({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&zt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Oe]})}return e})();var As="VALID",Pc="INVALID",Wi="PENDING",Ns="DISABLED",Jn=class{},Uc=class extends Jn{value;source;constructor(n,t){super(),this.value=n,this.source=t}},ks=class extends Jn{pristine;source;constructor(n,t){super(),this.pristine=n,this.source=t}},Os=class extends Jn{touched;source;constructor(n,t){super(),this.touched=n,this.source=t}},Qi=class extends Jn{status;source;constructor(n,t){super(),this.status=n,this.source=t}},Zh=class extends Jn{source;constructor(n){super(),this.source=n}},Yh=class extends Jn{source;constructor(n){super(),this.source=n}};function tp(e){return(zc(e)?e.validators:e)||null}function $M(e){return Array.isArray(e)?Xh(e):e||null}function np(e,n){return(zc(n)?n.asyncValidators:e)||null}function BM(e){return Array.isArray(e)?ep(e):e||null}function zc(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function ob(e,n,t){let r=e.controls;if(!(n?Object.keys(r):r).length)throw new x(1e3,"");if(!r[t])throw new x(1001,"")}function sb(e,n,t){e._forEachChild((r,i)=>{if(t[i]===void 0)throw new x(1002,"")})}var Zi=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,t){this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return Gt(this.statusReactive)}set status(n){Gt(()=>this.statusReactive.set(n))}_status=Vn(()=>this.statusReactive());statusReactive=ot(void 0);get valid(){return this.status===As}get invalid(){return this.status===Pc}get pending(){return this.status==Wi}get disabled(){return this.status===Ns}get enabled(){return this.status!==Ns}errors;get pristine(){return Gt(this.pristineReactive)}set pristine(n){Gt(()=>this.pristineReactive.set(n))}_pristine=Vn(()=>this.pristineReactive());pristineReactive=ot(!0);get dirty(){return!this.pristine}get touched(){return Gt(this.touchedReactive)}set touched(n){Gt(()=>this.touchedReactive.set(n))}_touched=Vn(()=>this.touchedReactive());touchedReactive=ot(!1);get untouched(){return!this.touched}_events=new Ce;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(j_(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(j_(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(V_(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(V_(n,this._rawAsyncValidators))}hasValidator(n){return Lc(this._rawValidators,n)}hasAsyncValidator(n){return Lc(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let t=this.touched===!1;this.touched=!0;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(q(S({},n),{sourceControl:r})),t&&n.emitEvent!==!1&&this._events.next(new Os(!0,r))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(n))}markAsUntouched(n={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:r})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,r),t&&n.emitEvent!==!1&&this._events.next(new Os(!1,r))}markAsDirty(n={}){let t=this.pristine===!0;this.pristine=!1;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(q(S({},n),{sourceControl:r})),t&&n.emitEvent!==!1&&this._events.next(new ks(!1,r))}markAsPristine(n={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,r),t&&n.emitEvent!==!1&&this._events.next(new ks(!0,r))}markAsPending(n={}){this.status=Wi;let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Qi(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(q(S({},n),{sourceControl:t}))}disable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=Ns,this.errors=null,this._forEachChild(i=>{i.disable(q(S({},n),{onlySelf:!0}))}),this._updateValue();let r=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Uc(this.value,r)),this._events.next(new Qi(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(q(S({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=As,this._forEachChild(r=>{r.enable(q(S({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(q(S({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n,t){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===As||this.status===Wi)&&this._runAsyncValidator(r,n.emitEvent)}let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Uc(this.value,t)),this._events.next(new Qi(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(q(S({},n),{sourceControl:t}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ns:As}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,t){if(this.asyncValidator){this.status=Wi,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=J_(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(n){let t=n;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(n,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,t,r){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||r)&&this._events.next(new Qi(this.status,t)),this._parent&&this._parent._updateControlsErrors(n,t,r)}_initObservables(){this.valueChanges=new le,this.statusChanges=new le}_calculateStatus(){return this._allControlsDisabled()?Ns:this.errors?Pc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Wi)?Wi:this._anyControlsHaveStatus(Pc)?Pc:As}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,t),i&&this._events.next(new ks(this.pristine,t))}_updateTouched(n={},t){this.touched=this._anyControlsTouched(),this._events.next(new Os(this.touched,t)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,t)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){zc(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let t=this._parent&&this._parent.dirty;return!n&&!!t&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=$M(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=BM(this._rawAsyncValidators)}},Yi=class extends Zi{constructor(n,t,r){super(tp(t),np(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,r={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){sb(this,!0,n),Object.keys(n).forEach(r=>{ob(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){n!=null&&(Object.keys(n).forEach(r=>{let i=this.controls[r];i&&i.patchValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((r,i)=>{r.reset(n?n[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(n,t,r)=>(n[r]=t.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&n(r,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&n(r))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(n,t){let r=n;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var Jh=class extends Yi{};var Xi=new N("",{providedIn:"root",factory:()=>Ls}),Ls="always";function ab(e,n){return[...n.path,e]}function $c(e,n,t=Ls){rp(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||t==="always")&&n.valueAccessor.setDisabledState?.(e.disabled),qM(e,n),GM(e,n),zM(e,n),HM(e,n)}function U_(e,n,t=!0){let r=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(r),n.valueAccessor.registerOnTouched(r)),Hc(e,n),e&&(n._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function Bc(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function HM(e,n){if(n.valueAccessor.setDisabledState){let t=r=>{n.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}function rp(e,n){let t=rb(e);n.validator!==null?e.setValidators(L_(t,n.validator)):typeof t=="function"&&e.setValidators([t]);let r=ib(e);n.asyncValidator!==null?e.setAsyncValidators(L_(r,n.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();Bc(n._rawValidators,i),Bc(n._rawAsyncValidators,i)}function Hc(e,n){let t=!1;if(e!==null){if(n.validator!==null){let i=rb(e);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==n.validator);o.length!==i.length&&(t=!0,e.setValidators(o))}}if(n.asyncValidator!==null){let i=ib(e);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==n.asyncValidator);o.length!==i.length&&(t=!0,e.setAsyncValidators(o))}}}let r=()=>{};return Bc(n._rawValidators,r),Bc(n._rawAsyncValidators,r),t}function qM(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&lb(e,n)})}function zM(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&lb(e,n),e.updateOn!=="submit"&&e.markAsTouched()})}function lb(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function GM(e,n){let t=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}function cb(e,n){e==null,rp(e,n)}function WM(e,n){return Hc(e,n)}function ub(e,n){if(!e.hasOwnProperty("model"))return!1;let t=e.model;return t.isFirstChange()?!0:!Object.is(n,t.currentValue)}function QM(e){return Object.getPrototypeOf(e.constructor)===Ji}function db(e,n){e._syncPendingControls(),n.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function fb(e,n){if(!n)return null;Array.isArray(n);let t,r,i;return n.forEach(o=>{o.constructor===Ct?t=o:QM(o)?r=o:i=o}),i||r||t||null}function ZM(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}var YM={provide:Tn,useExisting:He(()=>ip)},Rs=Promise.resolve(),ip=(()=>{class e extends Tn{callSetDisabledState;get submitted(){return Gt(this.submittedReactive)}_submitted=Vn(()=>this.submittedReactive());submittedReactive=ot(!1);_directives=new Set;form;ngSubmit=new le;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new Yi({},Xh(t),ep(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Rs.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),$c(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Rs.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Rs.then(()=>{let r=this._findContainer(t.path),i=new Yi({});cb(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Rs.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Rs.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),db(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||e)(E(Ki,10),E(qc,10),E(Xi,8))};static \u0275dir=oe({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&O("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[st([YM]),Oe]})}return e})();function $_(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function B_(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var Ps=class extends Zi{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,t,r){super(tp(t),np(r,t)),this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),zc(t)&&(t.nonNullable||t.initialValueIsDefault)&&(B_(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){$_(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){$_(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){B_(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var JM=e=>e instanceof Ps;var KM={provide:Yn,useExisting:He(()=>js)},H_=Promise.resolve(),js=(()=>{class e extends Yn{_changeDetectorRef;callSetDisabledState;control=new Ps;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new le;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=fb(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),ub(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){$c(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){H_.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Sr(r);H_.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?ab(t,this._parent):[t]}static \u0275fac=function(r){return new(r||e)(E(Tn,9),E(Ki,10),E(qc,10),E(Kn,10),E(pe,8),E(Xi,8))};static \u0275dir=oe({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[st([KM]),Oe,mn]})}return e})(),er=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=oe({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})(),XM={provide:Kn,useExisting:He(()=>Vs),multi:!0},Vs=(()=>{class e extends Ji{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Rt(e)))(i||e)}})();static \u0275dir=oe({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&O("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[st([XM]),Oe]})}return e})(),eA={provide:Kn,useExisting:He(()=>Us),multi:!0};var tA=(()=>{class e{_accessors=[];add(t,r){this._accessors.push([t,r])}remove(t){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===t){this._accessors.splice(r,1);return}}select(t){this._accessors.forEach(r=>{this._isSameGroup(r,t)&&r[1]!==t&&r[1].fireUncheck(t.value)})}_isSameGroup(t,r){return t[0].control?t[0]._parent===r._control._parent&&t[1].name===r.name:!1}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Us=(()=>{class e extends Ji{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=C(Xi,{optional:!0})??Ls;constructor(t,r,i,o){super(t,r),this._registry=i,this._injector=o}ngOnInit(){this._control=this._injector.get(Yn),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}setDisabledState(t){(this.setDisabledStateFired||t||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",t),this.setDisabledStateFired=!0}fireUncheck(t){this.writeValue(t)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(r){return new(r||e)(E(kt),E(vt),E(tA),E(Ae))};static \u0275dir=oe({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,i){r&1&&O("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[st([eA]),Oe]})}return e})();var hb=new N("");var nA={provide:Tn,useExisting:He(()=>Ur)},Ur=(()=>{class e extends Tn{callSetDisabledState;get submitted(){return Gt(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=Vn(()=>this._submittedReactive());_submittedReactive=ot(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new le;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Hc(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return $c(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){U_(t.control||null,t,!1),ZM(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),db(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Zh(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new Yh(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(U_(r||null,t),JM(i)&&($c(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);cb(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&WM(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){rp(this.form,this),this._oldForm&&Hc(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(r){return new(r||e)(E(Ki,10),E(qc,10),E(Xi,8))};static \u0275dir=oe({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&O("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[st([nA]),Oe,mn]})}return e})();var rA={provide:Yn,useExisting:He(()=>$r)},$r=(()=>{class e extends Yn{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new le;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=fb(this,o)}ngOnChanges(t){this._added||this._setUpControl(),ub(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return ab(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||e)(E(Tn,13),E(Ki,10),E(qc,10),E(Kn,10),E(hb,8))};static \u0275dir=oe({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[st([rA]),Oe,mn]})}return e})(),iA={provide:Kn,useExisting:He(()=>eo),multi:!0};function pb(e,n){return e==null?`${n}`:(n&&typeof n=="object"&&(n="Object"),`${e}: ${n}`.slice(0,50))}function oA(e){return e.split(":")[0]}var eo=(()=>{class e extends Ji{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r=this._getOptionId(t),i=pb(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=oA(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Rt(e)))(i||e)}})();static \u0275dir=oe({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&O("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[st([iA]),Oe]})}return e})(),Gc=(()=>{class e{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(pb(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(E(vt),E(kt),E(eo,9))};static \u0275dir=oe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})(),sA={provide:Kn,useExisting:He(()=>mb),multi:!0};function q_(e,n){return e==null?`${n}`:(typeof n=="string"&&(n=`'${n}'`),n&&typeof n=="object"&&(n="Object"),`${e}: ${n}`.slice(0,50))}function aA(e){return e.split(":")[0]}var mb=(()=>{class e extends Ji{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);i.push(c)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=aA(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Rt(e)))(i||e)}})();static \u0275dir=oe({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&O("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[st([sA]),Oe]})}return e})(),Wc=(()=>{class e{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(q_(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(q_(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(E(vt),E(kt),E(mb,9))};static \u0275dir=oe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})();function gb(e){return typeof e=="number"?e:parseFloat(e)}var vb=(()=>{class e{_validator=Fc;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Fc,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||e)};static \u0275dir=oe({type:e,features:[mn]})}return e})(),lA={provide:Ki,useExisting:He(()=>op),multi:!0},op=(()=>{class e extends vb{max;inputName="max";normalizeInput=t=>gb(t);createValidator=t=>Z_(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=Rt(e)))(i||e)}})();static \u0275dir=oe({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&wi("max",i._enabled?i.max:null)},inputs:{max:"max"},standalone:!1,features:[st([lA]),Oe]})}return e})(),cA={provide:Ki,useExisting:He(()=>$s),multi:!0},$s=(()=>{class e extends vb{min;inputName="min";normalizeInput=t=>gb(t);createValidator=t=>Q_(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=Rt(e)))(i||e)}})();static \u0275dir=oe({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&wi("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[st([cA]),Oe]})}return e})();var yb=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=yn({type:e});static \u0275inj=fn({})}return e})(),Kh=class extends Zi{constructor(n,t,r){super(tp(t),np(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(n){return this.controls[this._adjustIndex(n)]}push(n,t={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(n,t,r={}){this.controls.splice(n,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(n,t={}){let r=this._adjustIndex(n);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(n,t,r={}){let i=this._adjustIndex(n);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,t={}){sb(this,!1,n),n.forEach((r,i)=>{ob(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){n!=null&&(n.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n=[],t={}){this._forEachChild((r,i)=>{r.reset(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((t,r)=>{n(t,r)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(t=>t.enabled&&n(t))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(let n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}};function z_(e){return!!e&&(e.asyncValidators!==void 0||e.validators!==void 0||e.updateOn!==void 0)}var to=(()=>{class e{useNonNullable=!1;get nonNullable(){let t=new e;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return z_(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Yi(i,o)}record(t,r=null){let i=this._reduceControls(t);return new Jh(i,r)}control(t,r,i){let o={};return this.useNonNullable?(z_(r)?o=r:(o.validators=r,o.asyncValidators=i),new Ps(t,q(S({},o),{nonNullable:!0}))):new Ps(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new Kh(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Ps)return t;if(t instanceof Zi)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Qc=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:Xi,useValue:t.callSetDisabledState??Ls}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=yn({type:e});static \u0275inj=fn({imports:[yb]})}return e})(),no=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:hb,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Xi,useValue:t.callSetDisabledState??Ls}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=yn({type:e});static \u0275inj=fn({imports:[yb]})}return e})();var je=[];for(let e=0;e<256;++e)je.push((e+256).toString(16).slice(1));function _b(e,n=0){return(je[e[n+0]]+je[e[n+1]]+je[e[n+2]]+je[e[n+3]]+"-"+je[e[n+4]]+je[e[n+5]]+"-"+je[e[n+6]]+je[e[n+7]]+"-"+je[e[n+8]]+je[e[n+9]]+"-"+je[e[n+10]]+je[e[n+11]]+je[e[n+12]]+je[e[n+13]]+je[e[n+14]]+je[e[n+15]]).toLowerCase()}var sp,uA=new Uint8Array(16);function ap(){if(!sp){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");sp=crypto.getRandomValues.bind(crypto)}return sp(uA)}var dA=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),lp={randomUUID:dA};function fA(e,n,t){if(lp.randomUUID&&!n&&!e)return lp.randomUUID();e=e||{};let r=e.random??e.rng?.()??ap();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,n){if(t=t||0,t<0||t+16>n.length)throw new RangeError(`UUID byte range ${t}:${t+15} is out of buffer bounds`);for(let i=0;i<16;++i)n[t+i]=r[i];return n}return _b(r)}var Hs=fA;var hA=(e,n)=>({"text-success":e,"text-danger":n});function pA(e,n){if(e&1&&(f(0,"div",138),w(1,"div",139),d()),e&2){let t=R();v(),Di("width",t.calculateFormProgress()+"%")}}function mA(e,n){if(e&1&&(f(0,"span",140),h(1),d()),e&2){let t=R();v(),z("",t.calculateFormProgress(),"% Complete")}}function gA(e,n){e&1&&(f(0,"div",141),h(1," Account name is required "),d())}function vA(e,n){e&1&&(f(0,"div",141),h(1," Please select an instrument type "),d())}function yA(e,n){e&1&&(f(0,"div",141),h(1," Trade symbol is required "),d())}function _A(e,n){e&1&&(f(0,"div",141),h(1," Please select trade direction "),d())}function bA(e,n){e&1&&(f(0,"div",141),h(1," Time frame selection is required "),d())}function wA(e,n){e&1&&(f(0,"div",141),h(1," Please select an analysis type "),d())}function DA(e,n){e&1&&(f(0,"div",141),h(1," Strategy name is required "),d())}function EA(e,n){e&1&&(f(0,"div",141),h(1," Order type is required "),d())}function CA(e,n){e&1&&(f(0,"div",141),h(1," Entry criteria is required (min 10 characters) "),d())}function SA(e,n){e&1&&(f(0,"div",141),h(1," Exit strategy is required (min 10 characters) "),d())}function IA(e,n){e&1&&(f(0,"div",141),h(1," Valid account balance is required "),d())}function TA(e,n){e&1&&(f(0,"div",141),h(1," Position size is required "),d())}function xA(e,n){e&1&&(f(0,"div",141),h(1," Valid entry price is required "),d())}function MA(e,n){e&1&&(f(0,"div",141),h(1," Entry date/time is required "),d())}function AA(e,n){e&1&&(f(0,"div",141),h(1," Stop loss price is required "),d())}function NA(e,n){e&1&&(f(0,"div",141),h(1," Take profit price is required "),d())}function RA(e,n){e&1&&(f(0,"div",141),h(1," Risk percentage is required "),d())}function kA(e,n){e&1&&(f(0,"div",142),w(1,"i",143),h(2," Risk exceeds recommended 2% "),d())}function OA(e,n){e&1&&(f(0,"div",141),h(1," Estimated reward is required "),d())}function PA(e,n){e&1&&(f(0,"div",141),h(1," Please select your emotional state "),d())}function FA(e,n){e&1&&(f(0,"div",142),w(1,"i",143),h(2," Consider if this emotional state might negatively impact your decision making "),d())}function LA(e,n){e&1&&(f(0,"div",144),h(1," Please rate your confidence "),d())}function jA(e,n){e&1&&(f(0,"div",141),h(1," Please identify potential biases (min 5 characters) "),d())}function VA(e,n){e&1&&(f(0,"li"),h(1,"Complete all required fields in Trade Setup"),d())}function UA(e,n){e&1&&(f(0,"li"),h(1,"Complete all required fields in Strategy Details"),d())}function $A(e,n){e&1&&(f(0,"li"),h(1,"Complete all required fields in Risk Management"),d())}function BA(e,n){e&1&&(f(0,"li"),h(1,"Complete all required fields in Psychological Analysis"),d())}function HA(e,n){if(e&1&&(f(0,"div",145),w(1,"i",146),f(2,"strong"),h(3,"Please fix the errors highlighted above before submitting."),d(),f(4,"ul",147),I(5,VA,2,0,"li",148)(6,UA,2,0,"li",148)(7,$A,2,0,"li",148)(8,BA,2,0,"li",148),d()()),e&2){let t=R();v(5),_("ngIf",t.hasErrors("tradeSetup")),v(),_("ngIf",t.hasErrors("strategyDetails")),v(),_("ngIf",t.hasErrors("riskManagement")),v(),_("ngIf",t.hasErrors("psychologicalAnalysis"))}}function qA(e,n){if(e&1){let t=me();f(0,"button",149),O("click",function(){W(t);let i=R();return Q(i.onCancel())}),w(1,"i",150),h(2,"Cancel "),d()}}function zA(e,n){if(e&1&&(f(0,"div",151),w(1,"i",152),h(2),d()),e&2){let t=R();v(2),z("",t.message," ")}}function GA(e,n){if(e&1&&(f(0,"div",153),w(1,"i",146),h(2),d()),e&2){let t=R();v(2),z("",t.errorMessage," ")}}var ro=class e{constructor(n,t,r){this.fb=n;this.supabaseService=t;this.cdr=r}tradeLogData=null;formSubmitted=new le;cancel=new le;preTradeTableName="pretrade";postTradeTableName="posttrade";preTradeForm;postTradeForm;showEmotionalSection=!1;message="";errorMessage="";formSubmitMarker=!1;ngOnInit(){this.formSubmitMarker=!1,this.createForm()}createForm(){var n=Hs();this.preTradeForm=this.fb.group({tradeid:[this.tradeLogData?.tradeid??n],userid:[this.tradeLogData?.userid??"the-db-is-likely-hacked-1234-abcd-5678-efgh"],createdtime:[this.tradeLogData?.createdtime??new Date().toISOString()],accountname:[this.tradeLogData?.accountname??"",A.required],instrumenttype:[this.tradeLogData?.instrumenttype??"",A.required],analysistype:[this.tradeLogData?.analysistype??"",A.required],tradesymbol:[this.tradeLogData?.tradesymbol??"",A.required],tradetype:[this.tradeLogData?.tradetype??"Long",A.required],timeframe:[this.tradeLogData?.timeframe??"Day",A.required],strategyname:[this.tradeLogData?.strategyname??""],typeoforder:[this.tradeLogData?.typeoforder??"",A.required],entrycriteria:[this.tradeLogData?.entrycriteria??""],exitstrategy:[this.tradeLogData?.exitstrategy??""],entrydatetime:[this.tradeLogData?.entrydatetime??""],entryprice:[this.tradeLogData?.entryprice??""],accountbalance:[this.tradeLogData?.accountbalance??null,[A.required,A.min(0)]],positionsize:[this.tradeLogData?.positionsize??"",A.required],estimatedrisk:[this.tradeLogData?.estimatedrisk??null,A.required],estimatedpnl:[this.tradeLogData?.estimatedpnl??null,A.required],estimatedstoploss:[this.tradeLogData?.estimatedstoploss??null,A.required],estimatedtakeprofit:[this.tradeLogData?.estimatedtakeprofit??null,A.required],setupscreenshot:[this.tradeLogData?.setupscreenshot??""],tradeconfidence:[this.tradeLogData?.tradeconfidence??"1"],isopen:!0,emotionalstatebefore:[this.tradeLogData?.emotionalstatebefore??"",A.required],potentialbiases:[this.tradeLogData?.potentialbiases??"",A.required],notes:[this.tradeLogData?.notes??""],updatedtime:[new Date().toISOString()]})}toggleEmotionalSection(){this.showEmotionalSection=!this.showEmotionalSection}onFileSelected(n){let t=n.target;if(!t.files||t.files.length===0)return;let r=t.files[0],i=new FileReader;i.onload=o=>{this.preTradeForm.patchValue({setupscreenshot:o.target.result})},i.readAsDataURL(r)}async onSubmit(){if(this.formSubmitMarker=!0,this.preTradeForm.invalid){this.preTradeForm.markAllAsTouched();return}let n=this.preTradeForm.value;try{this.tradeLogData?await this.supabaseService.updateTradeLog(n,this.preTradeTableName):await this.supabaseService.addTradeLog(n,this.preTradeTableName),this.message="Trade log updated successfully. Resetting in 5 seconds.",setTimeout(()=>{this.cdr.markForCheck()},0),this.formSubmitted.emit(),this.formSubmitMarker=!1,this.cdr.markForCheck(),setTimeout(()=>{this.preTradeForm.reset(),this.preTradeForm.markAsPristine(),this.message="Form has been reset",this.cdr.markForCheck()},5e3),setTimeout(()=>{this.message="",this.cdr.markForCheck()},3e3)}catch(t){console.error("Error processing trade log:",t),this.errorMessage="Something went wrong.",this.cdr.markForCheck()}}async onDelete(){if(this.tradeLogData)try{await this.supabaseService.deleteTradeLog(this.tradeLogData.tradeid,this.preTradeTableName),this.message="Trade log deleted successfully.",this.formSubmitted.emit()}catch(n){console.error("Error deleting trade log:",n),this.errorMessage="Something went wrong while deleting."}finally{this.cdr.markForCheck()}}onCancel(){this.cancel.emit()}calculateFormProgress(){let t=0;return this.preTradeForm.get("accountname")?.valid&&t++,this.preTradeForm.get("instrumenttype")?.valid&&t++,this.preTradeForm.get("tradesymbol")?.valid&&t++,this.preTradeForm.get("tradetype")?.valid&&t++,this.preTradeForm.get("timeframe")?.valid&&t++,this.preTradeForm.get("analysistype")?.valid&&t++,this.preTradeForm.get("strategyname")?.valid&&t++,this.preTradeForm.get("typeoforder")?.valid&&t++,this.preTradeForm.get("entrycriteria")?.valid&&t++,this.preTradeForm.get("exitstrategy")?.valid&&t++,this.preTradeForm.get("accountbalance")?.valid&&t++,this.preTradeForm.get("positionsize")?.valid&&t++,this.preTradeForm.get("entryprice")?.valid&&t++,this.preTradeForm.get("entrydatetime")?.valid&&t++,this.preTradeForm.get("estimatedstoploss")?.valid&&t++,this.preTradeForm.get("estimatedtakeprofit")?.valid&&t++,this.preTradeForm.get("estimatedrisk")?.valid&&t++,this.preTradeForm.get("estimatedpnl")?.valid&&t++,this.preTradeForm.get("emotionalstatebefore")?.valid&&t++,this.preTradeForm.get("tradeConfidence")?.valid&&t++,this.preTradeForm.get("potentialbiases")?.valid&&t++,Math.round(t/18*100)}calculateRiskRewardRatio(){let n=parseFloat(this.preTradeForm.get("estimatedrisk")?.value||"0"),t=parseFloat(this.preTradeForm.get("estimatedpnl")?.value||"0");return n<=0||t<=0?"N/A":`1:${(t/n).toFixed(2)}`}isGoodRiskReward(){let n=parseFloat(this.preTradeForm.get("estimatedrisk")?.value||"0"),t=parseFloat(this.preTradeForm.get("estimatedpnl")?.value||"0");return n<=0||t<=0?!1:t/n>=2}isNegativeEmotionalState(){let n=this.preTradeForm.get("emotionalstatebefore")?.value;return["Anxious","Frustrated","Fearful","Overconfident"].includes(n)}hasErrors(n){switch(n){case"tradeSetup":return this.preTradeForm.get("accountname")?.invalid||this.preTradeForm.get("instrumenttype")?.invalid||this.preTradeForm.get("tradesymbol")?.invalid||this.preTradeForm.get("tradetype")?.invalid||this.preTradeForm.get("timeframe")?.invalid||this.preTradeForm.get("analysistype")?.invalid||!1;case"strategyDetails":return this.preTradeForm.get("strategyname")?.invalid||this.preTradeForm.get("typeoforder")?.invalid||this.preTradeForm.get("entrycriteria")?.invalid||this.preTradeForm.get("exitstrategy")?.invalid||!1;case"riskManagement":return this.preTradeForm.get("accountbalance")?.invalid||this.preTradeForm.get("positionsize")?.invalid||this.preTradeForm.get("entryprice")?.invalid||this.preTradeForm.get("entrydatetime")?.invalid||this.preTradeForm.get("estimatedstoploss")?.invalid||this.preTradeForm.get("estimatedtakeprofit")?.invalid||this.preTradeForm.get("estimatedrisk")?.invalid||this.preTradeForm.get("estimatedpnl")?.invalid||!1;case"psychologicalAnalysis":return this.preTradeForm.get("emotionalstatebefore")?.invalid||this.preTradeForm.get("tradeConfidence")?.invalid||this.preTradeForm.get("potentialbiases")?.invalid||!1;default:return!1}}static \u0275fac=function(t){return new(t||e)(E(to),E(de),E(pe))};static \u0275cmp=be({type:e,selectors:[["app-pre-trade-log"]],inputs:{tradeLogData:"tradeLogData"},outputs:{formSubmitted:"formSubmitted",cancel:"cancel"},decls:332,vars:40,consts:[[1,"container","my-4"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item","text-decoration-none"],["routerLink","/home"],["routerLink","/pretrades"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row","mb-4"],[1,"col-lg-8"],[1,"mb-2"],[1,"text-muted"],[1,"col-lg-4","text-lg-end","d-flex","align-items-center","justify-content-lg-end","mt-3","mt-lg-0"],["class","progress w-100","style","height: 8px;",4,"ngIf"],["class","ms-2 small text-muted",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"card","mb-4","shadow-sm"],[1,"card-header","bg-light","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"bi","bi-1-circle","me-2"],[1,"badge","bg-primary"],[1,"card-body"],[1,"row","g-3"],[1,"col-md-6"],["for","accountname",1,"form-label"],[1,"input-group"],[1,"input-group-text"],[1,"bi","bi-person"],["type","text","id","accountname","formControlName","accountname","placeholder","Enter your account name",1,"form-control"],["class","text-danger mt-1 small",4,"ngIf"],["for","instrumenttype",1,"form-label"],["id","instrumenttype","formControlName","instrumenttype",1,"form-select"],["value","","selected","","disabled",""],["value","Forex"],["value","Stocks"],["value","Futures"],["value","Crypto"],["value","Options"],["value","ETF"],["value","Other"],["for","tradesymbol",1,"form-label"],[1,"bi","bi-tag"],["type","text","id","tradesymbol","formControlName","tradesymbol","placeholder","Enter ticker symbol",1,"form-control"],["for","tradetype",1,"form-label"],["role","group","aria-label","Trade type",1,"btn-group","w-100"],["type","radio","name","tradetype","id","tradetype_long","value","Long","formControlName","tradetype",1,"btn-check"],["for","tradetype_long",1,"btn","btn-outline-success"],["type","radio","name","tradetype","id","tradetype_short","value","Short","formControlName","tradetype",1,"btn-check"],["for","tradetype_short",1,"btn","btn-outline-danger"],["for","timeframe",1,"form-label"],["id","timeframe","formControlName","timeframe",1,"form-select"],["value","Scalp"],["value","Day"],["value","Swing"],["value","Position"],["value","LongTerm"],["for","analysistype",1,"form-label"],["id","analysistype","formControlName","analysistype",1,"form-select"],["value","Technical"],["value","Fundamental"],["value","Both"],["value","Sentiment"],[1,"bi","bi-2-circle","me-2"],["for","strategyname",1,"form-label"],["type","text","id","strategyname","formControlName","strategyname","placeholder","e.g., Breakout, Reversal, Trend Following",1,"form-control"],["for","typeoforder",1,"form-label"],["id","typeoforder","formControlName","typeoforder",1,"form-select"],["value","Market"],["value","Limit"],["value","Stop"],["value","StopLimit"],["value","TrailingStop"],[1,"col-12"],["for","entrycriteria",1,"form-label"],["id","entrycriteria","formControlName","entrycriteria","placeholder","Describe your specific entry conditions (e.g., technical indicators, patterns, fundamental factors)","rows","3",1,"form-control"],[1,"form-text"],["for","exitstrategy",1,"form-label"],["id","exitstrategy","formControlName","exitstrategy","placeholder","Define your profit targets and stop loss levels","rows","3",1,"form-control"],[1,"bi","bi-3-circle","me-2"],["for","accountbalance",1,"form-label"],["type","number","step","0.01","min","0","id","accountbalance","formControlName","accountbalance","placeholder","Current account value",1,"form-control"],["for","positionsize",1,"form-label"],["type","text","id","positionsize","formControlName","positionsize","placeholder","Units/Contracts/Shares",1,"form-control"],["type","button","data-bs-toggle","tooltip","title","Calculate based on risk",1,"btn","btn-outline-secondary"],["for","entryprice",1,"form-label"],["type","number","id","entryprice","formControlName","entryprice","step","0.01","min","0","placeholder","Planned entry price",1,"form-control"],["for","entrydatetime",1,"form-label"],["type","datetime-local","id","entrydatetime","formControlName","entrydatetime",1,"form-control"],["for","estimatedstoploss",1,"form-label"],["type","number","step","0.01","min","0","id","estimatedstoploss","formControlName","estimatedstoploss","placeholder","Stop loss price level",1,"form-control"],["for","estimatedtakeprofit",1,"form-label"],["type","number","step","0.01","min","0","id","estimatedtakeprofit","formControlName","estimatedtakeprofit","placeholder","Target price level",1,"form-control"],[1,"mb-3"],[1,"col-md-4"],["for","estimatedrisk",1,"form-label"],["type","number","step","0.01","min","0","max","100","id","estimatedrisk","formControlName","estimatedrisk","placeholder","1-2% recommended",1,"form-control"],["class","text-warning mt-1 small",4,"ngIf"],["for","estimatedpnl",1,"form-label"],["type","number","step","0.01","min","0","id","estimatedpnl","formControlName","estimatedpnl","placeholder","Expected % gain",1,"form-control"],[1,"form-label"],["type","text","readonly","",1,"form-control","bg-light",3,"value"],[1,"form-text",3,"ngClass"],[1,"bi","bi-5-circle","me-2"],["for","emotionalstatebefore",1,"form-label"],["id","emotionalstatebefore","formControlName","emotionalstatebefore",1,"form-select"],["value","Calm"],["value","Excited"],["value","Anxious"],["value","Frustrated"],["value","Overconfident"],["value","Fearful"],["value","Neutral"],[1,"form-label","d-block"],["role","group",1,"btn-group","w-100"],["type","radio","formControlName","tradeconfidence","id","confidence1","value","1",1,"btn-check"],["for","confidence1",1,"btn","btn-outline-danger"],["type","radio","formControlName","tradeconfidence","id","confidence2","value","2",1,"btn-check"],["for","confidence2",1,"btn","btn-outline-warning"],["type","radio","formControlName","tradeconfidence","id","confidence3","value","3",1,"btn-check"],["for","confidence3",1,"btn","btn-outline-secondary"],["type","radio","formControlName","tradeconfidence","id","confidence4","value","4",1,"btn-check"],["for","confidence4",1,"btn","btn-outline-primary"],["type","radio","formControlName","tradeconfidence","id","confidence5","value","5",1,"btn-check"],["for","confidence5",1,"btn","btn-outline-success"],[1,"form-text","text-center","mt-1"],["class","text-danger mt-1 small text-center",4,"ngIf"],["for","potentialbiases",1,"form-label"],["id","potentialbiases","formControlName","potentialbiases","placeholder","What biases might affect your decision? (e.g., revenge trading, FOMO, overconfidence)","rows","3",1,"form-control"],[1,"bi","bi-6-circle","me-2"],[1,"badge","bg-secondary"],["for","notes",1,"form-label"],["id","notes","formControlName","notes","placeholder","Any additional information or context for this trade","rows","3",1,"form-control"],["class","alert alert-danger mb-3",4,"ngIf"],[1,"d-flex","justify-content-between","align-items-center","mt-4"],["type","button","class","btn btn-outline-secondary",3,"click",4,"ngIf"],["type","submit",1,"btn","btn-success"],[1,"bi","bi-check-circle","me-1"],["class","alert alert-success mt-3",4,"ngIf"],["class","alert alert-danger mt-3",4,"ngIf"],[1,"progress","w-100",2,"height","8px"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-success"],[1,"ms-2","small","text-muted"],[1,"text-danger","mt-1","small"],[1,"text-warning","mt-1","small"],[1,"bi","bi-exclamation-triangle"],[1,"text-danger","mt-1","small","text-center"],[1,"alert","alert-danger","mb-3"],[1,"bi","bi-exclamation-triangle-fill","me-2"],[1,"mb-0","mt-2"],[4,"ngIf"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"bi","bi-x-circle","me-1"],[1,"alert","alert-success","mt-3"],[1,"bi","bi-check-circle-fill","me-2"],[1,"alert","alert-danger","mt-3"]],template:function(t,r){if(t&1&&(f(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),h(5,"Dashboard"),d()(),f(6,"li",3)(7,"a",5),h(8,"Pre-Trade Logs"),d()(),f(9,"li",6),h(10,"Pre-Trading Journal"),d()()(),f(11,"div",7)(12,"div",8)(13,"h2",9),h(14),d(),f(15,"p",10),h(16,"Document your strategy before entering positions to maintain discipline and clarity"),d()(),f(17,"div",11),I(18,pA,2,2,"div",12)(19,mA,2,1,"span",13),d()(),f(20,"form",14),O("ngSubmit",function(){return r.onSubmit()}),f(21,"div",15)(22,"div",16)(23,"h5",17),w(24,"i",18),h(25,"Trade Setup "),d(),f(26,"span",19),h(27,"Required"),d()(),f(28,"div",20)(29,"div",21)(30,"div",22)(31,"label",23),h(32,"Account Name"),d(),f(33,"div",24)(34,"span",25),w(35,"i",26),d(),w(36,"input",27),d(),I(37,gA,2,0,"div",28),d(),f(38,"div",22)(39,"label",29),h(40,"Instrument Type"),d(),f(41,"select",30)(42,"option",31),h(43,"Choose instrument type"),d(),f(44,"option",32),h(45,"Forex"),d(),f(46,"option",33),h(47,"Stocks"),d(),f(48,"option",34),h(49,"Futures"),d(),f(50,"option",35),h(51,"Crypto"),d(),f(52,"option",36),h(53,"Options"),d(),f(54,"option",37),h(55,"ETF"),d(),f(56,"option",38),h(57,"Other"),d()(),I(58,vA,2,0,"div",28),d(),f(59,"div",22)(60,"label",39),h(61,"Trade Symbol"),d(),f(62,"div",24)(63,"span",25),w(64,"i",40),d(),w(65,"input",41),d(),I(66,yA,2,0,"div",28),d(),f(67,"div",22)(68,"label",42),h(69,"Trade Direction"),d(),f(70,"div",43),w(71,"input",44),f(72,"label",45),h(73,"Long"),d(),w(74,"input",46),f(75,"label",47),h(76,"Short"),d()(),I(77,_A,2,0,"div",28),d(),f(78,"div",22)(79,"label",48),h(80,"Time Frame"),d(),f(81,"select",49)(82,"option",31),h(83,"Select time frame"),d(),f(84,"option",50),h(85,"Scalp (minutes)"),d(),f(86,"option",51),h(87,"Day Trade (hours)"),d(),f(88,"option",52),h(89,"Swing (days-weeks)"),d(),f(90,"option",53),h(91,"Position (weeks-months)"),d(),f(92,"option",54),h(93,"Long Term (months+)"),d()(),I(94,bA,2,0,"div",28),d(),f(95,"div",22)(96,"label",55),h(97,"Analysis Type"),d(),f(98,"select",56)(99,"option",31),h(100,"Choose analysis method"),d(),f(101,"option",57),h(102,"Technical"),d(),f(103,"option",58),h(104,"Fundamental"),d(),f(105,"option",59),h(106,"Both"),d(),f(107,"option",60),h(108,"Sentiment"),d(),f(109,"option",38),h(110,"Other"),d()(),I(111,wA,2,0,"div",28),d()()()(),f(112,"div",15)(113,"div",16)(114,"h5",17),w(115,"i",61),h(116,"Strategy Details "),d(),f(117,"span",19),h(118,"Required"),d()(),f(119,"div",20)(120,"div",21)(121,"div",22)(122,"label",62),h(123,"Strategy Name"),d(),w(124,"input",63),I(125,DA,2,0,"div",28),d(),f(126,"div",22)(127,"label",64),h(128,"Type of Order"),d(),f(129,"select",65)(130,"option",31),h(131,"Choose order type"),d(),f(132,"option",66),h(133,"Market"),d(),f(134,"option",67),h(135,"Limit"),d(),f(136,"option",68),h(137,"Stop"),d(),f(138,"option",69),h(139,"Stop Limit"),d(),f(140,"option",70),h(141,"Trailing Stop"),d()(),I(142,EA,2,0,"div",28),d(),f(143,"div",71)(144,"label",72),h(145,"Entry Criteria "),f(146,"span",10),h(147,"(Why are you taking this trade?)"),d()(),w(148,"textarea",73),f(149,"div",74),h(150,"Be specific about what signals or conditions must be met for entry."),d(),I(151,CA,2,0,"div",28),d(),f(152,"div",71)(153,"label",75),h(154,"Exit Strategy "),f(155,"span",10),h(156,"(How will you close this position?)"),d()(),w(157,"textarea",76),f(158,"div",74),h(159,"Include both profit-taking and loss-cutting criteria."),d(),I(160,SA,2,0,"div",28),d()()()(),f(161,"div",15)(162,"div",16)(163,"h5",17),w(164,"i",77),h(165,"Risk Management "),d(),f(166,"span",19),h(167,"Required"),d()(),f(168,"div",20)(169,"div",21)(170,"div",22)(171,"label",78),h(172,"Account Balance"),d(),f(173,"div",24)(174,"span",25),h(175,"$"),d(),w(176,"input",79),d(),I(177,IA,2,0,"div",28),d(),f(178,"div",22)(179,"label",80),h(180,"Position Size"),d(),f(181,"div",24),w(182,"input",81),f(183,"button",82),h(184,"Calculate"),d()(),I(185,TA,2,0,"div",28),d(),f(186,"div",22)(187,"label",83),h(188,"Entry Price"),d(),f(189,"div",24)(190,"span",25),h(191,"$"),d(),w(192,"input",84),d(),I(193,xA,2,0,"div",28),d(),f(194,"div",22)(195,"label",85),h(196,"Entry Date/Time"),d(),w(197,"input",86),I(198,MA,2,0,"div",28),d(),f(199,"div",22)(200,"label",87),h(201,"Stop Loss Price"),d(),f(202,"div",24)(203,"span",25),h(204,"$"),d(),w(205,"input",88),d(),I(206,AA,2,0,"div",28),d(),f(207,"div",22)(208,"label",89),h(209,"Take Profit Price"),d(),f(210,"div",24)(211,"span",25),h(212,"$"),d(),w(213,"input",90),d(),I(214,NA,2,0,"div",28),d(),f(215,"div",71),w(216,"hr"),f(217,"h6",91),h(218,"Risk/Reward Analysis"),d()(),f(219,"div",92)(220,"label",93),h(221,"Risk Per Trade"),d(),f(222,"div",24),w(223,"input",94),f(224,"span",25),h(225,"%"),d()(),f(226,"div",74),h(227,"Percentage of account at risk"),d(),I(228,RA,2,0,"div",28)(229,kA,3,0,"div",95),d(),f(230,"div",92)(231,"label",96),h(232,"Estimated Reward"),d(),f(233,"div",24),w(234,"input",97),f(235,"span",25),h(236,"%"),d()(),I(237,OA,2,0,"div",28),d(),f(238,"div",92)(239,"label",98),h(240,"Risk/Reward Ratio"),d(),f(241,"div",24),w(242,"input",99),f(243,"span",25),h(244,"R:R"),d()(),f(245,"div",100),w(246,"i"),h(247),d()()()()(),f(248,"div",15)(249,"div",16)(250,"h5",17),w(251,"i",101),h(252,"Psychological Analysis "),d(),f(253,"span",19),h(254,"Required"),d()(),f(255,"div",20)(256,"div",21)(257,"div",22)(258,"label",102),h(259,"Current Emotional State"),d(),f(260,"select",103)(261,"option",31),h(262,"How are you feeling?"),d(),f(263,"option",104),h(264,"Calm & Focused"),d(),f(265,"option",105),h(266,"Excited"),d(),f(267,"option",106),h(268,"Anxious"),d(),f(269,"option",107),h(270,"Frustrated"),d(),f(271,"option",108),h(272,"Overconfident"),d(),f(273,"option",109),h(274,"Fearful"),d(),f(275,"option",110),h(276,"Neutral"),d(),f(277,"option",38),h(278,"Other"),d()(),I(279,PA,2,0,"div",28)(280,FA,3,0,"div",95),d(),f(281,"div",22)(282,"label",111),h(283,"Trading Confidence"),d(),f(284,"div",112),w(285,"input",113),f(286,"label",114),h(287,"1"),d(),w(288,"input",115),f(289,"label",116),h(290,"2"),d(),w(291,"input",117),f(292,"label",118),h(293,"3"),d(),w(294,"input",119),f(295,"label",120),h(296,"4"),d(),w(297,"input",121),f(298,"label",122),h(299,"5"),d()(),f(300,"div",123),h(301,"Low (1) to High (5)"),d(),I(302,LA,2,0,"div",124),d(),f(303,"div",71)(304,"label",125),h(305,"Potential Biases"),d(),w(306,"textarea",126),f(307,"div",74),h(308,"Identifying biases helps improve future decision making"),d(),I(309,jA,2,0,"div",28),d()()()(),f(310,"div",15)(311,"div",16)(312,"h5",17),w(313,"i",127),h(314,"Additional Notes "),d(),f(315,"span",128),h(316,"Optional"),d()(),f(317,"div",20)(318,"div",21)(319,"div",71)(320,"label",129),h(321,"Notes"),d(),w(322,"textarea",130),d()()()(),I(323,HA,9,4,"div",131),f(324,"div",132),I(325,qA,3,0,"button",133),f(326,"div")(327,"button",134),w(328,"i",135),h(329),d()()(),I(330,zA,3,1,"div",136)(331,GA,3,1,"div",137),d()()),t&2){let i,o,s,a,l,c,u,p,g,m,y,b,D,T,$,P,J,V,xe,St,xn,Br;v(14),Ie(r.tradeLogData?"Edit Pre-Trading Journal":"Create Pre-Trading Journal"),v(4),_("ngIf",!r.tradeLogData),v(),_("ngIf",!r.tradeLogData),v(),_("formGroup",r.preTradeForm),v(17),_("ngIf",((i=r.preTradeForm.get("accountname"))==null?null:i.invalid)&&(((i=r.preTradeForm.get("accountname"))==null?null:i.dirty)||((i=r.preTradeForm.get("accountname"))==null?null:i.touched)||r.formSubmitMarker)),v(21),_("ngIf",((o=r.preTradeForm.get("instrumenttype"))==null?null:o.invalid)&&(((o=r.preTradeForm.get("instrumenttype"))==null?null:o.dirty)||((o=r.preTradeForm.get("instrumenttype"))==null?null:o.touched)||r.formSubmitMarker)),v(8),_("ngIf",((s=r.preTradeForm.get("tradesymbol"))==null?null:s.invalid)&&(((s=r.preTradeForm.get("tradesymbol"))==null?null:s.dirty)||((s=r.preTradeForm.get("tradesymbol"))==null?null:s.touched)||r.formSubmitMarker)),v(11),_("ngIf",((a=r.preTradeForm.get("tradetype"))==null?null:a.invalid)&&(((a=r.preTradeForm.get("tradetype"))==null?null:a.dirty)||((a=r.preTradeForm.get("tradetype"))==null?null:a.touched)||r.formSubmitMarker)),v(17),_("ngIf",((l=r.preTradeForm.get("timeframe"))==null?null:l.invalid)&&(((l=r.preTradeForm.get("timeframe"))==null?null:l.dirty)||((l=r.preTradeForm.get("timeframe"))==null?null:l.touched)||r.formSubmitMarker)),v(17),_("ngIf",((c=r.preTradeForm.get("analysistype"))==null?null:c.invalid)&&(((c=r.preTradeForm.get("analysistype"))==null?null:c.dirty)||((c=r.preTradeForm.get("analysistype"))==null?null:c.touched)||r.formSubmitMarker)),v(14),_("ngIf",((u=r.preTradeForm.get("strategyname"))==null?null:u.invalid)&&(((u=r.preTradeForm.get("strategyname"))==null?null:u.dirty)||((u=r.preTradeForm.get("strategyname"))==null?null:u.touched)||r.formSubmitMarker)),v(17),_("ngIf",((p=r.preTradeForm.get("typeoforder"))==null?null:p.invalid)&&(((p=r.preTradeForm.get("typeoforder"))==null?null:p.dirty)||((p=r.preTradeForm.get("typeoforder"))==null?null:p.touched)||r.formSubmitMarker)),v(9),_("ngIf",((g=r.preTradeForm.get("entrycriteria"))==null?null:g.invalid)&&(((g=r.preTradeForm.get("entrycriteria"))==null?null:g.dirty)||((g=r.preTradeForm.get("entrycriteria"))==null?null:g.touched)||r.formSubmitMarker)),v(9),_("ngIf",((m=r.preTradeForm.get("exitstrategy"))==null?null:m.invalid)&&(((m=r.preTradeForm.get("exitstrategy"))==null?null:m.dirty)||((m=r.preTradeForm.get("exitstrategy"))==null?null:m.touched)||r.formSubmitMarker)),v(17),_("ngIf",((y=r.preTradeForm.get("accountbalance"))==null?null:y.invalid)&&(((y=r.preTradeForm.get("accountbalance"))==null?null:y.dirty)||((y=r.preTradeForm.get("accountbalance"))==null?null:y.touched)||r.formSubmitMarker)),v(8),_("ngIf",((b=r.preTradeForm.get("positionsize"))==null?null:b.invalid)&&(((b=r.preTradeForm.get("positionsize"))==null?null:b.dirty)||((b=r.preTradeForm.get("positionsize"))==null?null:b.touched)||r.formSubmitMarker)),v(8),_("ngIf",((D=r.preTradeForm.get("entryprice"))==null?null:D.invalid)&&(((D=r.preTradeForm.get("entryprice"))==null?null:D.dirty)||((D=r.preTradeForm.get("entryprice"))==null?null:D.touched)||r.formSubmitMarker)),v(5),_("ngIf",((T=r.preTradeForm.get("entrydatetime"))==null?null:T.invalid)&&(((T=r.preTradeForm.get("entrydatetime"))==null?null:T.dirty)||((T=r.preTradeForm.get("entrydatetime"))==null?null:T.touched)||r.formSubmitMarker)),v(8),_("ngIf",(($=r.preTradeForm.get("estimatedstoploss"))==null?null:$.invalid)&&((($=r.preTradeForm.get("estimatedstoploss"))==null?null:$.dirty)||(($=r.preTradeForm.get("estimatedstoploss"))==null?null:$.touched)||r.formSubmitMarker)),v(8),_("ngIf",((P=r.preTradeForm.get("estimatedtakeprofit"))==null?null:P.invalid)&&(((P=r.preTradeForm.get("estimatedtakeprofit"))==null?null:P.dirty)||((P=r.preTradeForm.get("estimatedtakeprofit"))==null?null:P.touched)||r.formSubmitMarker)),v(14),_("ngIf",((J=r.preTradeForm.get("estimatedrisk"))==null?null:J.invalid)&&(((J=r.preTradeForm.get("estimatedrisk"))==null?null:J.dirty)||((J=r.preTradeForm.get("estimatedrisk"))==null?null:J.touched)||r.formSubmitMarker)),v(),_("ngIf",((V=r.preTradeForm.get("estimatedrisk"))==null?null:V.value)>2),v(8),_("ngIf",((xe=r.preTradeForm.get("estimatedpnl"))==null?null:xe.invalid)&&(((xe=r.preTradeForm.get("estimatedpnl"))==null?null:xe.dirty)||((xe=r.preTradeForm.get("estimatedpnl"))==null?null:xe.touched)||r.formSubmitMarker)),v(5),_("value",r.calculateRiskRewardRatio()),v(3),_("ngClass",Ci(37,hA,r.isGoodRiskReward(),!r.isGoodRiskReward())),v(),Zv(r.isGoodRiskReward()?"bi bi-check-circle":"bi bi-x-circle"),v(),z(" ",r.isGoodRiskReward()?"Good risk/reward ratio":"Risk/reward should be at least 1:2"," "),v(32),_("ngIf",((St=r.preTradeForm.get("emotionalstatebefore"))==null?null:St.invalid)&&(((St=r.preTradeForm.get("emotionalstatebefore"))==null?null:St.dirty)||((St=r.preTradeForm.get("emotionalstatebefore"))==null?null:St.touched)||r.formSubmitMarker)),v(),_("ngIf",r.isNegativeEmotionalState()),v(22),_("ngIf",((xn=r.preTradeForm.get("tradeconfidence"))==null?null:xn.invalid)&&(((xn=r.preTradeForm.get("tradeconfidence"))==null?null:xn.dirty)||((xn=r.preTradeForm.get("tradeconfidence"))==null?null:xn.touched)||r.formSubmitMarker)),v(7),_("ngIf",((Br=r.preTradeForm.get("potentialbiases"))==null?null:Br.invalid)&&(((Br=r.preTradeForm.get("potentialbiases"))==null?null:Br.dirty)||((Br=r.preTradeForm.get("potentialbiases"))==null?null:Br.touched)||r.formSubmitMarker)),v(14),_("ngIf",r.formSubmitMarker&&r.preTradeForm.invalid),v(2),_("ngIf",r.tradeLogData),v(4),z("",r.tradeLogData?"Update":"Submit"," "),v(),_("ngIf",r.message),v(),_("ngIf",r.errorMessage)}},dependencies:[Te,$n,Ve,no,er,Gc,Wc,Ct,Vs,eo,Us,Xt,Xn,$s,op,Ur,$r,Zt],styles:[".card[_ngcontent-%COMP%]{border-radius:8px;box-shadow:0 2px 5px #0000000d;border:1px solid rgba(0,0,0,.1);color:#000}.card-header[_ngcontent-%COMP%]{background-color:#f8f9fa;border-bottom:1px solid rgba(0,0,0,.1);padding:12px 16px}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{border-radius:6px;padding:10px 12px;background-color:#f9f9f9;border:1px solid #ced4da}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{background-color:#fff;border-color:#80bdff;box-shadow:0 0 0 .25rem #0d6efd40}textarea.form-control[_ngcontent-%COMP%]{resize:vertical}.btn[_ngcontent-%COMP%]{padding:8px 16px;border-radius:6px;font-weight:500}.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#dc3545}"]})};function WA(e,n){e&1&&(f(0,"div",12),h(1,"Loading trade logs..."),d())}function QA(e,n){if(e&1&&(f(0,"div",13),h(1),d()),e&2){let t=R();v(),Ie(t.errorMessage)}}function ZA(e,n){if(e&1){let t=me();f(0,"div",16)(1,"div",17),O("click",function(){let i=W(t).$implicit,o=R(2);return Q(o.openEditModal(i))}),f(2,"div",18),w(3,"i",19),h(4," Planned "),d(),f(5,"div",20),O("click",function(i){let o=W(t).$implicit,s=R(2);return Q(s.onDeleteTradeLog(o,i))}),w(6,"i",21),d(),f(7,"div",22)(8,"h4",23),h(9),d(),f(10,"h5",24),h(11),d(),f(12,"div",25)(13,"div",26)(14,"div",27)(15,"strong"),h(16,"Analysis:"),d(),h(17),d(),f(18,"div",27)(19,"strong"),h(20,"Order:"),d(),h(21),d()(),f(22,"div",26)(23,"div",27)(24,"strong"),h(25,"Stop Loss:"),d(),h(26),d(),f(27,"div",27)(28,"strong"),h(29,"Take Profit:"),d(),h(30),d()(),f(31,"div",26)(32,"div",27)(33,"strong"),h(34,"Risk:"),d(),h(35),d(),f(36,"div",27)(37,"strong"),h(38,"Est. PnL:"),d(),h(39),d()(),f(40,"div",28)(41,"div",29)(42,"strong"),h(43,"Account:"),d(),h(44),d()()(),f(45,"div",30)(46,"small",31),h(47),Ao(48,"date"),d()()()()()}if(e&2){let t=n.$implicit;v(9),Ie(t.tradesymbol),v(2),cf(" ",t.tradetype," | ",t.instrumenttype," "),v(6),z(" ",t.analysistype," "),v(4),z(" ",t.typeoforder," "),v(5),z(" ",t.estimatedstoploss," "),v(4),z(" ",t.estimatedtakeprofit," "),v(5),z(" ",t.estimatedrisk," "),v(4),z(" ",t.estimatedpnl," "),v(5),z(" ",t.accountname," "),v(3),Ie(No(48,11,t.createdtime,"medium"))}}function YA(e,n){if(e&1&&(f(0,"div",14),I(1,ZA,49,14,"div",15),d()),e&2){let t=R();v(),_("ngForOf",t.tradeLogs)}}function JA(e,n){e&1&&(f(0,"div",32),h(1," No trade logs found. "),d())}function KA(e,n){if(e&1){let t=me();f(0,"div",33),O("click",function(i){W(t);let o=R();return Q(o.closeModalOnOverlayClick(i))}),f(1,"div",34),O("click",function(i){return W(t),Q(i.stopPropagation())}),f(2,"app-pre-trade-log",35),O("formSubmitted",function(){W(t);let i=R();return Q(i.onFormSubmitted())})("cancel",function(){W(t);let i=R();return Q(i.closeModal())}),d()()()}if(e&2){let t=R();v(2),_("tradeLogData",t.selectedTradeLog)}}var Zc=class e{constructor(n,t){this.supabaseService=n;this.cdr=t}tableName="pretrade";tradeLogs=[];loading=!1;errorMessage="";showModal=!1;selectedTradeLog=null;async ngOnInit(){this.loading=!0,await this.fetchTradeLogs(),this.loading=!1,this.cdr.markForCheck()}async fetchTradeLogs(){try{this.tradeLogs=await this.supabaseService.getTradeLogs(this.tableName)}catch(n){console.error("Error fetching trade logs:",n),this.errorMessage="Error fetching trade logs."}}openEditModal(n){this.selectedTradeLog=n,this.showModal=!0}onFormSubmitted(){this.fetchTradeLogs(),this.closeModal()}closeModal(){this.showModal=!1,this.selectedTradeLog=null,this.cdr.markForCheck()}closeModalOnOverlayClick(n){this.closeModal(),this.cdr.markForCheck()}async onDeleteTradeLog(n,t){t.stopPropagation();try{await this.supabaseService.deleteTradeLog(n.tradeid,this.tableName),await this.fetchTradeLogs(),this.cdr.markForCheck()}catch(r){console.error("Error deleting trade log:",r),this.errorMessage="Error deleting trade log."}}static \u0275fac=function(t){return new(t||e)(E(de),E(pe))};static \u0275cmp=be({type:e,selectors:[["app-pre-trade-table"]],decls:18,vars:5,consts:[[1,"container","mt-3"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item","text-decoration-none"],["routerLink","/home"],["aria-current","page",1,"breadcrumb-item","active"],["routerLink","/pretradelog"],["class","alert alert-info",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["class","row mt-5",4,"ngIf"],["class","alert alert-warning",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"alert","alert-info"],[1,"alert","alert-danger"],[1,"row","mt-5"],["class","col-md-4 col-12 mb-4",4,"ngFor","ngForOf"],[1,"col-md-4","col-12","mb-4"],[1,"card","h-100","position-relative","shadow",2,"cursor","pointer",3,"click"],[1,"trade-status-indicator","status-planned"],[1,"bi","bi-clipboard-check"],[1,"delete-icon",3,"click"],[1,"bi","bi-trash"],[1,"card-body"],[1,"card-title","mt-5"],[1,"card-subtitle","mb-3","text-muted","fw-bold"],[1,"card-text"],[1,"row","mb-2"],[1,"col-6"],[1,"row"],[1,"col-12"],[1,"mt-3"],[1,"text-muted"],[1,"alert","alert-warning"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[3,"formSubmitted","cancel","tradeLogData"]],template:function(t,r){t&1&&(f(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),h(5,"Dashboard"),d()(),f(6,"li",5),h(7,"Pre-Trade Logs"),d(),f(8,"li",3)(9,"a",6),h(10,"Pre-Trading Journal"),d()()()(),f(11,"h2"),h(12,"Pre Trade Logs"),d(),I(13,WA,2,0,"div",7)(14,QA,2,1,"div",8)(15,YA,2,1,"div",9)(16,JA,2,0,"div",10),d(),I(17,KA,3,1,"div",11)),t&2&&(v(13),_("ngIf",r.loading),v(),_("ngIf",r.errorMessage),v(),_("ngIf",r.tradeLogs&&r.tradeLogs.length),v(),_("ngIf",!r.loading&&(!r.tradeLogs||r.tradeLogs.length===0)),v(),_("ngIf",r.showModal))},dependencies:[Zt,Te,Wt,Ve,Ul,ro],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;max-width:90%;max-height:90%;overflow:auto;position:relative}.card[_ngcontent-%COMP%]{position:relative;border:none;transition:all .2s ease;border-left:4px solid #6c757d!important}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 20px #0000001a!important}.delete-icon[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;display:none;color:#dc3545;background:#fffc;border-radius:50%;padding:5px;z-index:10}.card[_ngcontent-%COMP%]:hover   .delete-icon[_ngcontent-%COMP%]{display:block}.delete-icon[_ngcontent-%COMP%]:hover{cursor:pointer}.trade-status-indicator[_ngcontent-%COMP%]{position:absolute;top:8px;left:8px;padding:5px 10px;border-radius:12px;font-size:.8rem;font-weight:700;z-index:10;color:#fff}.status-planned[_ngcontent-%COMP%]{background-color:#6c757d}.trade-status-indicator[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:3px}"],changeDetection:0})};function XA(e,n){if(e&1&&(f(0,"div",131),w(1,"div",132),d()),e&2){let t=R();v(),Di("width",t.calculateFormProgress()+"%")}}function eN(e,n){if(e&1&&(f(0,"span",133),h(1),d()),e&2){let t=R();v(),z("",t.calculateFormProgress(),"% Complete")}}function tN(e,n){e&1&&(f(0,"div",134),h(1," Account name is required "),d())}function nN(e,n){e&1&&(f(0,"div",134),h(1," Please select an instrument type "),d())}function rN(e,n){e&1&&(f(0,"div",134),h(1," Please select an analysis type "),d())}function iN(e,n){e&1&&(f(0,"div",134),h(1," Trade symbol is required "),d())}function oN(e,n){e&1&&(f(0,"div",134),h(1," Please select trade direction "),d())}function sN(e,n){e&1&&(f(0,"div",134),h(1," Time frame selection is required "),d())}function aN(e,n){e&1&&(f(0,"div",134),h(1," Strategy name is required "),d())}function lN(e,n){e&1&&(f(0,"div",134),h(1," Order type is required "),d())}function cN(e,n){e&1&&(f(0,"div",134),h(1," Entry date/time is required "),d())}function uN(e,n){e&1&&(f(0,"div",134),h(1," Exit date/time is required "),d())}function dN(e,n){e&1&&(f(0,"div",134),h(1," Valid entry price is required "),d())}function fN(e,n){e&1&&(f(0,"div",134),h(1," Valid exit price is required "),d())}function hN(e,n){e&1&&(f(0,"div",134),h(1," Position size is required "),d())}function pN(e,n){e&1&&(f(0,"div",134),h(1," Please select trade outcome "),d())}function mN(e,n){e&1&&(f(0,"li"),h(1,"Complete all required fields in Trade Details"),d())}function gN(e,n){e&1&&(f(0,"li"),h(1,"Complete all required fields in Strategy Information"),d())}function vN(e,n){e&1&&(f(0,"li"),h(1,"Complete all required fields in Trade Execution"),d())}function yN(e,n){e&1&&(f(0,"li"),h(1,"Complete all required fields in Trade Outcome"),d())}function _N(e,n){e&1&&(f(0,"li"),h(1,"Complete all required fields in Post-Trade Analysis"),d())}function bN(e,n){if(e&1&&(f(0,"div",135),w(1,"i",136),f(2,"strong"),h(3,"Please fix the errors highlighted above before submitting."),d(),f(4,"ul",137),I(5,mN,2,0,"li",138)(6,gN,2,0,"li",138)(7,vN,2,0,"li",138)(8,yN,2,0,"li",138)(9,_N,2,0,"li",138),d()()),e&2){let t=R();v(5),_("ngIf",t.hasErrors("tradeDetails")),v(),_("ngIf",t.hasErrors("strategyInformation")),v(),_("ngIf",t.hasErrors("tradeExecution")),v(),_("ngIf",t.hasErrors("tradeOutcome")),v(),_("ngIf",t.hasErrors("postTradeAnalysis"))}}function wN(e,n){if(e&1){let t=me();f(0,"button",99),O("click",function(){W(t);let i=R();return Q(i.onCancel())}),w(1,"i",139),h(2,"Cancel "),d()}}function DN(e,n){if(e&1&&(f(0,"div",140),w(1,"i",141),h(2),d()),e&2){let t=R();v(2),z("",t.message," ")}}function EN(e,n){if(e&1&&(f(0,"div",142),w(1,"i",136),h(2),d()),e&2){let t=R();v(2),z("",t.errorMessage," ")}}var io=class e{constructor(n,t,r){this.fb=n;this.cdr=t;this.supabaseService=r}tradeLogData=null;formSubmitted=new le;cancel=new le;tableName="posttrade";postTradeForm;message="";errorMessage="";formSubmitMarker=!1;tradeOutcomes=["Win","Loss","Breakeven"];tradeDirections=["Long","Short"];ngOnInit(){this.formSubmitMarker=!1,this.createForm()}createForm(){var n=Hs();this.postTradeForm=this.fb.group({tradeid:[this.tradeLogData?.tradeid??n],userid:[this.tradeLogData?.userid??"the-db-is-likely-hacked-1234-abcd-5678-efgh"],createdtime:[new Date().toISOString(),A.required],accountname:[this.tradeLogData?.accountname,[A.required,A.maxLength(255)]],accountbalance:[this.tradeLogData?.accountbalance??""],instrumenttype:[this.tradeLogData?.instrumenttype??"",[A.required,A.maxLength(50)]],analysistype:[this.tradeLogData?.analysistype??"",[A.required,A.maxLength(100)]],tradesymbol:[this.tradeLogData?.tradesymbol??"",[A.required,A.maxLength(50)]],tradetype:[this.tradeLogData?.tradetype??"",[A.required,A.maxLength(50)]],timeframe:[this.tradeLogData?.timeframe??"",[A.required,A.maxLength(50)]],entrydatetime:[this.tradeLogData?.entrydatetime??"",A.required],strategyname:[this.tradeLogData?.strategyname??"",[A.required,A.maxLength(255)]],typeoforder:[this.tradeLogData?.typeoforder??"",[A.required,A.maxLength(50)]],exitstrategy:[this.tradeLogData?.exitstrategy??""],entryprice:[this.tradeLogData?.entryprice??"",[A.required,A.min(0)]],exitprice:[this.tradeLogData?.exitprice??"",[A.required,A.min(0)]],positionsize:[this.tradeLogData?.positionsize??"",[A.required,A.maxLength(50)]],exitdatetime:[this.tradeLogData?.exitdatetime??"",A.required],tradeoutcome:[this.tradeLogData?.tradeoutcome??"",A.required],profitlossamount:[this.tradeLogData?.profitlossamount??""],setupscreenshot:[this.tradeLogData?.setupscreenshot??""],emotionalstateafter:[this.tradeLogData?.emotionalstateafter??""],emotionalimpactondecision:[this.tradeLogData?.emotionalimpactondecision??""],whatwentwell:[this.tradeLogData?.whatwentwell??""],whatcouldimprove:[this.tradeLogData?.whatcouldimprove??""],notes:[this.tradeLogData?.notes??""],isopen:[this.tradeLogData?.isopen??!0,A.required],updatedtime:[new Date().toDateString(),A.required]})}onFileSelected(n){let t=n.target;if(!t.files||t.files.length===0)return;let r=t.files[0],i=new FileReader;i.onload=o=>{this.postTradeForm.patchValue({setupScreenshot:o.target.result})},i.readAsDataURL(r)}async onSubmit(){if(this.formSubmitMarker=!0,this.postTradeForm.invalid){this.postTradeForm.markAllAsTouched();return}let n=this.postTradeForm.value;try{this.tradeLogData?await this.supabaseService.updateTradeLog(n,this.tableName):await this.supabaseService.addTradeLog(n,this.tableName),this.message="Trade log updated successfully. Resetting in 5 seconds.",setTimeout(()=>{this.cdr.markForCheck()},0),this.formSubmitted.emit(),this.formSubmitMarker=!1,this.cdr.markForCheck(),setTimeout(()=>{this.postTradeForm.reset(),this.postTradeForm.markAsPristine(),this.message="Form has been reset",this.cdr.markForCheck()},5e3),setTimeout(()=>{this.message="",this.cdr.markForCheck()},3e3)}catch(t){console.error("Error processing trade log:",t),this.errorMessage="Something went wrong.",this.cdr.markForCheck()}}async onDelete(){if(this.tradeLogData)try{await this.supabaseService.deleteTradeLog(this.tradeLogData.tradeid,this.tableName),this.message="Trade log deleted successfully.",this.formSubmitted.emit()}catch(n){console.error("Error deleting trade log:",n),this.errorMessage="Something went wrong while deleting."}finally{this.cdr.markForCheck()}}onCancel(){this.cancel.emit()}calculateProfitLoss(){let n=this.postTradeForm.get("entryprice")?.value,t=this.postTradeForm.get("exitprice")?.value,r=parseFloat(this.postTradeForm.get("positionsize")?.value),i=this.postTradeForm.get("tradetype")?.value;if(n&&t&&r&&i){let o=0;i==="Long"?o=(t-n)*r:i==="Short"&&(o=(n-t)*r),this.postTradeForm.get("profitlossamount")?.setValue(o.toFixed(2)),o>0?this.postTradeForm.get("tradeoutcome")?.setValue("Win"):o<0?this.postTradeForm.get("tradeoutcome")?.setValue("Loss"):this.postTradeForm.get("tradeoutcome")?.setValue("Breakeven")}}calculateFormProgress(){let n=Object.keys(this.postTradeForm.controls).filter(r=>this.postTradeForm.get(r)?.validator!==null),t=n.filter(r=>this.postTradeForm.get(r)?.valid);return Math.round(t.length/n.length*100)}hasErrors(n){let t=!1,r={tradeDetails:["accountname","instrumenttype","analysistype","tradesymbol","tradetype","timeframe"],strategyInformation:["strategyname","typeoforder"],tradeExecution:["entrydatetime","exitdatetime","entryprice","exitprice","positionsize"],tradeOutcome:["tradeoutcome"],postTradeAnalysis:["emotionalstateafter","whatwentwell","whatcouldimprove"]};return r[n]&&r[n].forEach(i=>{this.postTradeForm.get(i)?.invalid&&(t=!0)}),t}static \u0275fac=function(t){return new(t||e)(E(to),E(pe),E(de))};static \u0275cmp=be({type:e,selectors:[["app-post-trade-log"]],inputs:{tradeLogData:"tradeLogData"},outputs:{formSubmitted:"formSubmitted",cancel:"cancel"},decls:299,vars:23,consts:[[1,"container","my-4"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item","text-decoration-none"],["routerLink","/home"],["routerLink","/posttrades"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row","mb-4"],[1,"col-lg-8"],[1,"mb-2"],[1,"text-muted"],[1,"col-lg-4","text-lg-end","d-flex","align-items-center","justify-content-lg-end","mt-3","mt-lg-0"],["class","progress w-100","style","height: 8px;",4,"ngIf"],["class","ms-2 small text-muted",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"card","mb-4","shadow-sm"],[1,"card-header","bg-light","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"bi","bi-1-circle","me-2"],[1,"badge","bg-primary"],[1,"card-body"],[1,"row","g-3"],[1,"col-md-6"],["for","accountname",1,"form-label"],[1,"input-group"],[1,"input-group-text"],[1,"bi","bi-person"],["type","text","id","accountname","formControlName","accountname","placeholder","Enter your account name",1,"form-control"],["class","text-danger mt-1 small",4,"ngIf"],["for","accountbalance",1,"form-label"],["type","number","step","0.01","min","0","id","accountbalance","formControlName","accountbalance","placeholder","Current account value",1,"form-control"],["for","instrumenttype",1,"form-label"],["id","instrumenttype","formControlName","instrumenttype",1,"form-select"],["value","","selected","","disabled",""],["value","Forex"],["value","Stocks"],["value","Futures"],["value","Crypto"],["value","Options"],["value","ETF"],["value","Other"],["for","analysistype",1,"form-label"],["id","analysistype","formControlName","analysistype",1,"form-select"],["value","Technical"],["value","Fundamental"],["value","Both"],["value","Sentiment"],["for","tradesymbol",1,"form-label"],[1,"bi","bi-tag"],["type","text","id","tradesymbol","formControlName","tradesymbol","placeholder","Enter ticker symbol",1,"form-control"],["for","tradetype",1,"form-label"],["role","group","aria-label","Trade type",1,"btn-group","w-100"],["type","radio","name","tradetype","id","tradetype_long","value","Long","formControlName","tradetype",1,"btn-check"],["for","tradetype_long",1,"btn","btn-outline-success"],["type","radio","name","tradetype","id","tradetype_short","value","Short","formControlName","tradetype",1,"btn-check"],["for","tradetype_short",1,"btn","btn-outline-danger"],["for","timeframe",1,"form-label"],["id","timeframe","formControlName","timeframe",1,"form-select"],["value","Scalp"],["value","Day"],["value","Swing"],["value","Position"],["value","LongTerm"],[1,"bi","bi-2-circle","me-2"],["for","strategyname",1,"form-label"],["type","text","id","strategyname","formControlName","strategyname","placeholder","e.g., Breakout, Reversal, Trend Following",1,"form-control"],["for","typeoforder",1,"form-label"],["id","typeoforder","formControlName","typeoforder",1,"form-select"],["value","Market"],["value","Limit"],["value","Stop"],["value","StopLimit"],["value","TrailingStop"],[1,"col-12"],["for","exitstrategy",1,"form-label"],["id","exitstrategy","formControlName","exitstrategy","placeholder","Describe the exit strategy you implemented","rows","3",1,"form-control"],[1,"bi","bi-3-circle","me-2"],["for","entrydatetime",1,"form-label"],["type","datetime-local","id","entrydatetime","formControlName","entrydatetime",1,"form-control"],["for","exitdatetime",1,"form-label"],["type","datetime-local","id","exitdatetime","formControlName","exitdatetime",1,"form-control"],[1,"col-md-4"],["for","entryprice",1,"form-label"],["type","number","id","entryprice","formControlName","entryprice","step","0.01","min","0","placeholder","Actual entry price",1,"form-control"],["for","exitprice",1,"form-label"],["type","number","id","exitprice","formControlName","exitprice","step","0.01","min","0","placeholder","Actual exit price",1,"form-control"],["for","positionsize",1,"form-label"],["type","text","id","positionsize","formControlName","positionsize","placeholder","Units/Contracts/Shares",1,"form-control"],[1,"bi","bi-4-circle","me-2"],["for","tradeoutcome",1,"form-label"],["role","group","aria-label","Trade outcome",1,"btn-group","w-100"],["type","radio","name","tradeoutcome","id","tradeoutcome_win","value","Win","formControlName","tradeoutcome",1,"btn-check"],["for","tradeoutcome_win",1,"btn","btn-outline-success"],["type","radio","name","tradeoutcome","id","tradeoutcome_loss","value","Loss","formControlName","tradeoutcome",1,"btn-check"],["for","tradeoutcome_loss",1,"btn","btn-outline-danger"],["type","radio","name","tradeoutcome","id","tradeoutcome_breakeven","value","Breakeven","formControlName","tradeoutcome",1,"btn-check"],["for","tradeoutcome_breakeven",1,"btn","btn-outline-warning"],["for","profitlossamount",1,"form-label"],["type","number","step","0.01","id","profitlossamount","formControlName","profitlossamount","placeholder","e.g. 50.25 or -30.50",1,"form-control"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"bi","bi-6-circle","me-2"],["for","emotionalstateafter",1,"form-label"],["id","emotionalstateafter","formControlName","emotionalstateafter",1,"form-select"],["value","Satisfied"],["value","Excited"],["value","Relieved"],["value","Disappointed"],["value","Frustrated"],["value","Neutral"],["value","Angry"],["for","emotionalimpactondecision",1,"form-label"],["id","emotionalimpactondecision","formControlName","emotionalimpactondecision","placeholder","How did your emotions affect your trading decisions?","rows","3",1,"form-control"],["for","whatwentwell",1,"form-label"],["id","whatwentwell","formControlName","whatwentwell","placeholder","What aspects of this trade did you execute correctly?","rows","3",1,"form-control"],["for","whatcouldimprove",1,"form-label"],["id","whatcouldimprove","formControlName","whatcouldimprove","placeholder","What could you have done better in this trade?","rows","3",1,"form-control"],["for","isopen",1,"form-label"],[1,"form-check","form-switch"],["type","checkbox","id","isopen","formControlName","isopen",1,"form-check-input"],["for","isopen",1,"form-check-label"],[1,"bi","bi-7-circle","me-2"],[1,"badge","bg-secondary"],["for","notes",1,"form-label"],["id","notes","formControlName","notes","placeholder","Any additional information or context for this trade","rows","3",1,"form-control"],["class","alert alert-danger mb-3",4,"ngIf"],[1,"d-flex","justify-content-between","align-items-center","mt-4"],["type","button","class","btn btn-outline-secondary",3,"click",4,"ngIf"],["type","submit",1,"btn","btn-success"],[1,"bi","bi-check-circle","me-1"],["class","alert alert-success mt-3",4,"ngIf"],["class","alert alert-danger mt-3",4,"ngIf"],[1,"progress","w-100",2,"height","8px"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-success"],[1,"ms-2","small","text-muted"],[1,"text-danger","mt-1","small"],[1,"alert","alert-danger","mb-3"],[1,"bi","bi-exclamation-triangle-fill","me-2"],[1,"mb-0","mt-2"],[4,"ngIf"],[1,"bi","bi-x-circle","me-1"],[1,"alert","alert-success","mt-3"],[1,"bi","bi-check-circle-fill","me-2"],[1,"alert","alert-danger","mt-3"]],template:function(t,r){if(t&1&&(f(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),h(5,"Dashboard"),d()(),f(6,"li",3)(7,"a",5),h(8,"Trade Logs"),d()(),f(9,"li",6),h(10,"Post-Trading Journal"),d()()(),f(11,"div",7)(12,"div",8)(13,"h2",9),h(14),d(),f(15,"p",10),h(16,"Document your completed trades to analyze performance and improve your strategy"),d()(),f(17,"div",11),I(18,XA,2,2,"div",12)(19,eN,2,1,"span",13),d()(),f(20,"form",14),O("ngSubmit",function(){return r.onSubmit()}),f(21,"div",15)(22,"div",16)(23,"h5",17),w(24,"i",18),h(25,"Trade Details "),d(),f(26,"span",19),h(27,"Required"),d()(),f(28,"div",20)(29,"div",21)(30,"div",22)(31,"label",23),h(32,"Account Name"),d(),f(33,"div",24)(34,"span",25),w(35,"i",26),d(),w(36,"input",27),d(),I(37,tN,2,0,"div",28),d(),f(38,"div",22)(39,"label",29),h(40,"Account Balance"),d(),f(41,"div",24)(42,"span",25),h(43,"$"),d(),w(44,"input",30),d()(),f(45,"div",22)(46,"label",31),h(47,"Instrument Type"),d(),f(48,"select",32)(49,"option",33),h(50,"Choose instrument type"),d(),f(51,"option",34),h(52,"Forex"),d(),f(53,"option",35),h(54,"Stocks"),d(),f(55,"option",36),h(56,"Futures"),d(),f(57,"option",37),h(58,"Crypto"),d(),f(59,"option",38),h(60,"Options"),d(),f(61,"option",39),h(62,"ETF"),d(),f(63,"option",40),h(64,"Other"),d()(),I(65,nN,2,0,"div",28),d(),f(66,"div",22)(67,"label",41),h(68,"Analysis Type"),d(),f(69,"select",42)(70,"option",33),h(71,"Choose analysis method"),d(),f(72,"option",43),h(73,"Technical"),d(),f(74,"option",44),h(75,"Fundamental"),d(),f(76,"option",45),h(77,"Both"),d(),f(78,"option",46),h(79,"Sentiment"),d(),f(80,"option",40),h(81,"Other"),d()(),I(82,rN,2,0,"div",28),d(),f(83,"div",22)(84,"label",47),h(85,"Trade Symbol"),d(),f(86,"div",24)(87,"span",25),w(88,"i",48),d(),w(89,"input",49),d(),I(90,iN,2,0,"div",28),d(),f(91,"div",22)(92,"label",50),h(93,"Trade Direction"),d(),f(94,"div",51),w(95,"input",52),f(96,"label",53),h(97,"Long"),d(),w(98,"input",54),f(99,"label",55),h(100,"Short"),d()(),I(101,oN,2,0,"div",28),d(),f(102,"div",22)(103,"label",56),h(104,"Time Frame"),d(),f(105,"select",57)(106,"option",33),h(107,"Select time frame"),d(),f(108,"option",58),h(109,"Scalp (minutes)"),d(),f(110,"option",59),h(111,"Day Trade (hours)"),d(),f(112,"option",60),h(113,"Swing (days-weeks)"),d(),f(114,"option",61),h(115,"Position (weeks-months)"),d(),f(116,"option",62),h(117,"Long Term (months+)"),d()(),I(118,sN,2,0,"div",28),d()()()(),f(119,"div",15)(120,"div",16)(121,"h5",17),w(122,"i",63),h(123,"Strategy Information "),d(),f(124,"span",19),h(125,"Required"),d()(),f(126,"div",20)(127,"div",21)(128,"div",22)(129,"label",64),h(130,"Strategy Name"),d(),w(131,"input",65),I(132,aN,2,0,"div",28),d(),f(133,"div",22)(134,"label",66),h(135,"Type of Order"),d(),f(136,"select",67)(137,"option",33),h(138,"Choose order type"),d(),f(139,"option",68),h(140,"Market"),d(),f(141,"option",69),h(142,"Limit"),d(),f(143,"option",70),h(144,"Stop"),d(),f(145,"option",71),h(146,"Stop Limit"),d(),f(147,"option",72),h(148,"Trailing Stop"),d()(),I(149,lN,2,0,"div",28),d(),f(150,"div",73)(151,"label",74),h(152,"Exit Strategy Used"),d(),w(153,"textarea",75),d()()()(),f(154,"div",15)(155,"div",16)(156,"h5",17),w(157,"i",76),h(158,"Trade Execution "),d(),f(159,"span",19),h(160,"Required"),d()(),f(161,"div",20)(162,"div",21)(163,"div",22)(164,"label",77),h(165,"Entry Date/Time"),d(),w(166,"input",78),I(167,cN,2,0,"div",28),d(),f(168,"div",22)(169,"label",79),h(170,"Exit Date/Time"),d(),w(171,"input",80),I(172,uN,2,0,"div",28),d(),f(173,"div",81)(174,"label",82),h(175,"Entry Price"),d(),f(176,"div",24)(177,"span",25),h(178,"$"),d(),w(179,"input",83),d(),I(180,dN,2,0,"div",28),d(),f(181,"div",81)(182,"label",84),h(183,"Exit Price"),d(),f(184,"div",24)(185,"span",25),h(186,"$"),d(),w(187,"input",85),d(),I(188,fN,2,0,"div",28),d(),f(189,"div",81)(190,"label",86),h(191,"Position Size"),d(),f(192,"div",24),w(193,"input",87),d(),I(194,hN,2,0,"div",28),d()()()(),f(195,"div",15)(196,"div",16)(197,"h5",17),w(198,"i",88),h(199,"Trade Outcome "),d(),f(200,"span",19),h(201,"Required"),d()(),f(202,"div",20)(203,"div",21)(204,"div",22)(205,"label",89),h(206,"Trade Result"),d(),f(207,"div",90),w(208,"input",91),f(209,"label",92),h(210,"Win"),d(),w(211,"input",93),f(212,"label",94),h(213,"Loss"),d(),w(214,"input",95),f(215,"label",96),h(216,"Breakeven"),d()(),I(217,pN,2,0,"div",28),d(),f(218,"div",22)(219,"label",97),h(220,"Profit/Loss Amount"),d(),f(221,"div",24)(222,"span",25),h(223,"$"),d(),w(224,"input",98),f(225,"button",99),O("click",function(){return r.calculateProfitLoss()}),h(226," Calculate "),d()()()()()(),f(227,"div",15)(228,"div",16)(229,"h5",17),w(230,"i",100),h(231,"Post-Trade Analysis "),d(),f(232,"span",19),h(233,"Required"),d()(),f(234,"div",20)(235,"div",21)(236,"div",22)(237,"label",101),h(238,"Emotional State After Trade"),d(),f(239,"select",102)(240,"option",33),h(241,"How do you feel now?"),d(),f(242,"option",103),h(243,"Satisfied"),d(),f(244,"option",104),h(245,"Excited"),d(),f(246,"option",105),h(247,"Relieved"),d(),f(248,"option",106),h(249,"Disappointed"),d(),f(250,"option",107),h(251,"Frustrated"),d(),f(252,"option",108),h(253,"Neutral"),d(),f(254,"option",109),h(255,"Angry"),d(),f(256,"option",40),h(257,"Other"),d()()(),f(258,"div",73)(259,"label",110),h(260,"Emotional Impact on Decisions"),d(),w(261,"textarea",111),d(),f(262,"div",73)(263,"label",112),h(264,"What Went Well"),d(),w(265,"textarea",113),d(),f(266,"div",73)(267,"label",114),h(268,"Areas for Improvement"),d(),w(269,"textarea",115),d(),f(270,"div",22)(271,"label",116),h(272,"Trade Status"),d(),f(273,"div",117),w(274,"input",118),f(275,"label",119),h(276,"This position is still open"),d()()()()()(),f(277,"div",15)(278,"div",16)(279,"h5",17),w(280,"i",120),h(281,"Additional Notes "),d(),f(282,"span",121),h(283,"Optional"),d()(),f(284,"div",20)(285,"div",21)(286,"div",73)(287,"label",122),h(288,"Notes"),d(),w(289,"textarea",123),d()()()(),I(290,bN,10,5,"div",124),f(291,"div",125),I(292,wN,3,0,"button",126),f(293,"div")(294,"button",127),w(295,"i",128),h(296),d()()(),I(297,DN,3,1,"div",129)(298,EN,3,1,"div",130),d()()),t&2){let i,o,s,a,l,c,u,p,g,m,y,b,D,T;v(14),Ie(r.tradeLogData?"Edit Post-Trading Journal":"Create Post-Trading Journal"),v(4),_("ngIf",!r.tradeLogData),v(),_("ngIf",!r.tradeLogData),v(),_("formGroup",r.postTradeForm),v(17),_("ngIf",((i=r.postTradeForm.get("accountname"))==null?null:i.invalid)&&(((i=r.postTradeForm.get("accountname"))==null?null:i.dirty)||((i=r.postTradeForm.get("accountname"))==null?null:i.touched)||r.formSubmitMarker)),v(28),_("ngIf",((o=r.postTradeForm.get("instrumenttype"))==null?null:o.invalid)&&(((o=r.postTradeForm.get("instrumenttype"))==null?null:o.dirty)||((o=r.postTradeForm.get("instrumenttype"))==null?null:o.touched)||r.formSubmitMarker)),v(17),_("ngIf",((s=r.postTradeForm.get("analysistype"))==null?null:s.invalid)&&(((s=r.postTradeForm.get("analysistype"))==null?null:s.dirty)||((s=r.postTradeForm.get("analysistype"))==null?null:s.touched)||r.formSubmitMarker)),v(8),_("ngIf",((a=r.postTradeForm.get("tradesymbol"))==null?null:a.invalid)&&(((a=r.postTradeForm.get("tradesymbol"))==null?null:a.dirty)||((a=r.postTradeForm.get("tradesymbol"))==null?null:a.touched)||r.formSubmitMarker)),v(11),_("ngIf",((l=r.postTradeForm.get("tradetype"))==null?null:l.invalid)&&(((l=r.postTradeForm.get("tradetype"))==null?null:l.dirty)||((l=r.postTradeForm.get("tradetype"))==null?null:l.touched)||r.formSubmitMarker)),v(17),_("ngIf",((c=r.postTradeForm.get("timeframe"))==null?null:c.invalid)&&(((c=r.postTradeForm.get("timeframe"))==null?null:c.dirty)||((c=r.postTradeForm.get("timeframe"))==null?null:c.touched)||r.formSubmitMarker)),v(14),_("ngIf",((u=r.postTradeForm.get("strategyname"))==null?null:u.invalid)&&(((u=r.postTradeForm.get("strategyname"))==null?null:u.dirty)||((u=r.postTradeForm.get("strategyname"))==null?null:u.touched)||r.formSubmitMarker)),v(17),_("ngIf",((p=r.postTradeForm.get("typeoforder"))==null?null:p.invalid)&&(((p=r.postTradeForm.get("typeoforder"))==null?null:p.dirty)||((p=r.postTradeForm.get("typeoforder"))==null?null:p.touched)||r.formSubmitMarker)),v(18),_("ngIf",((g=r.postTradeForm.get("entrydatetime"))==null?null:g.invalid)&&(((g=r.postTradeForm.get("entrydatetime"))==null?null:g.dirty)||((g=r.postTradeForm.get("entrydatetime"))==null?null:g.touched)||r.formSubmitMarker)),v(5),_("ngIf",((m=r.postTradeForm.get("exitdatetime"))==null?null:m.invalid)&&(((m=r.postTradeForm.get("exitdatetime"))==null?null:m.dirty)||((m=r.postTradeForm.get("exitdatetime"))==null?null:m.touched)||r.formSubmitMarker)),v(8),_("ngIf",((y=r.postTradeForm.get("entryprice"))==null?null:y.invalid)&&(((y=r.postTradeForm.get("entryprice"))==null?null:y.dirty)||((y=r.postTradeForm.get("entryprice"))==null?null:y.touched)||r.formSubmitMarker)),v(8),_("ngIf",((b=r.postTradeForm.get("exitprice"))==null?null:b.invalid)&&(((b=r.postTradeForm.get("exitprice"))==null?null:b.dirty)||((b=r.postTradeForm.get("exitprice"))==null?null:b.touched)||r.formSubmitMarker)),v(6),_("ngIf",((D=r.postTradeForm.get("positionsize"))==null?null:D.invalid)&&(((D=r.postTradeForm.get("positionsize"))==null?null:D.dirty)||((D=r.postTradeForm.get("positionsize"))==null?null:D.touched)||r.formSubmitMarker)),v(23),_("ngIf",((T=r.postTradeForm.get("tradeoutcome"))==null?null:T.invalid)&&(((T=r.postTradeForm.get("tradeoutcome"))==null?null:T.dirty)||((T=r.postTradeForm.get("tradeoutcome"))==null?null:T.touched)||r.formSubmitMarker)),v(73),_("ngIf",r.formSubmitMarker&&r.postTradeForm.invalid),v(2),_("ngIf",r.tradeLogData),v(4),z("",r.tradeLogData?"Update":"Submit"," "),v(),_("ngIf",r.message),v(),_("ngIf",r.errorMessage)}},dependencies:[Te,Ve,no,er,Gc,Wc,Ct,Vs,Fs,eo,Us,Xt,Xn,$s,Ur,$r,Zt],styles:[".card[_ngcontent-%COMP%]{border-radius:8px;box-shadow:0 2px 5px #0000000d;border:1px solid rgba(0,0,0,.1);color:#000}.card-header[_ngcontent-%COMP%]{background-color:#f8f9fa;border-bottom:1px solid rgba(0,0,0,.1);padding:12px 16px}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{border-radius:6px;padding:10px 12px;background-color:#f9f9f9;border:1px solid #ced4da}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{background-color:#fff;border-color:#80bdff;box-shadow:0 0 0 .25rem #0d6efd40}textarea.form-control[_ngcontent-%COMP%]{resize:vertical}.btn[_ngcontent-%COMP%]{padding:8px 16px;border-radius:6px;font-weight:500}.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#dc3545}"]})};var CN=(e,n,t)=>({"open-trade":e,"win-trade":n,"loss-trade":t}),SN=(e,n,t)=>({"status-open":e,"status-win":n,"status-loss":t}),IN=(e,n,t)=>({"bi-clock-history":e,"bi-check-circle":n,"bi-x-circle":t}),TN=(e,n,t)=>({"text-success":e,"text-danger":n,"text-secondary":t});function xN(e,n){e&1&&(f(0,"div",12),h(1,"Loading trade logs..."),d())}function MN(e,n){if(e&1&&(f(0,"div",13),h(1),d()),e&2){let t=R();v(),Ie(t.errorMessage)}}function AN(e,n){if(e&1){let t=me();f(0,"div",16)(1,"div",17),O("click",function(){let i=W(t).$implicit,o=R(2);return Q(o.openEditModal(i))}),f(2,"div",18),w(3,"i",19),h(4),d(),f(5,"div",20),O("click",function(i){let o=W(t).$implicit,s=R(2);return Q(s.onDeleteTradeLog(o,i))}),w(6,"i",21),d(),f(7,"div",22)(8,"h4",23),h(9),d(),f(10,"h5",24),h(11),d(),f(12,"div",25)(13,"div",26)(14,"div",27)(15,"strong"),h(16,"Strategy:"),d(),h(17),d(),f(18,"div",27)(19,"strong"),h(20,"Analysis:"),d(),h(21),d()(),f(22,"div",26)(23,"div",27)(24,"strong"),h(25,"Entry:"),d(),h(26),d(),f(27,"div",27)(28,"strong"),h(29,"Exit:"),d(),h(30),d()(),f(31,"div",26)(32,"div",27)(33,"strong"),h(34,"Date:"),d(),h(35),Ao(36,"date"),d(),f(37,"div",27)(38,"strong"),h(39,"Account:"),d(),h(40),d()(),f(41,"div",28)(42,"div",29)(43,"strong"),h(44,"P/L:"),d(),f(45,"span",30),h(46),d()()()(),f(47,"div",31)(48,"small",32),h(49),Ao(50,"date"),d()()()()()}if(e&2){let t=n.$implicit;v(),_("ngClass",Mo(23,CN,t.isopen,!t.isopen&&t.tradeoutcome==="Win",!t.isopen&&t.tradeoutcome==="Loss")),v(),_("ngClass",Mo(27,SN,t.isopen,!t.isopen&&t.tradeoutcome==="Win",!t.isopen&&t.tradeoutcome==="Loss")),v(),_("ngClass",Mo(31,IN,t.isopen,!t.isopen&&t.tradeoutcome==="Win",!t.isopen&&t.tradeoutcome==="Loss")),v(),z(" ",t.isopen?"In Progress":t.tradeoutcome," "),v(5),Ie(t.tradesymbol),v(2),uf(" ",t.tradetype," | ",t.instrumenttype," | ",t.timeframe," "),v(6),z(" ",t.strategyname," "),v(4),z(" ",t.analysistype," "),v(5),z(" ",t.entryprice," "),v(4),z(" ",t.isopen?"Pending":t.exitprice," "),v(5),z(" ",No(36,17,t.entrydatetime,"shortDate")," "),v(5),z(" ",t.accountname," "),v(5),_("ngClass",Mo(35,TN,!t.isopen&&t.tradeoutcome==="Win",!t.isopen&&t.tradeoutcome==="Loss",t.isopen)),v(),z(" ",t.isopen?"Trade in progress":t.profitlossamount," "),v(3),Ie(No(50,20,t.createdtime,"medium"))}}function NN(e,n){if(e&1&&(f(0,"div",14),I(1,AN,51,39,"div",15),d()),e&2){let t=R();v(),_("ngForOf",t.tradeLogs)}}function RN(e,n){e&1&&(f(0,"div",33),h(1," No trade logs found. "),d())}function kN(e,n){if(e&1){let t=me();f(0,"div",34),O("click",function(i){W(t);let o=R();return Q(o.closeModalOnOverlayClick(i))}),f(1,"div",35),O("click",function(i){return W(t),Q(i.stopPropagation())}),f(2,"app-post-trade-log",36),O("formSubmitted",function(){W(t);let i=R();return Q(i.onFormSubmitted())})("cancel",function(){W(t);let i=R();return Q(i.closeModal())}),d()()()}if(e&2){let t=R();v(2),_("tradeLogData",t.selectedTradeLog)}}var Yc=class e{constructor(n,t){this.supabaseService=n;this.cdr=t}tableName="posttrade";tradeLogs=[];loading=!1;errorMessage="";showModal=!1;selectedTradeLog=null;async ngOnInit(){this.loading=!0,await this.fetchTradeLogs(),this.loading=!1,this.cdr.detectChanges()}async fetchTradeLogs(){try{this.tradeLogs=await this.supabaseService.getTradeLogs(this.tableName),this.cdr.detectChanges()}catch(n){console.error("Error fetching trade logs",n),this.errorMessage="Error fetching trade logs."}}openEditModal(n){this.selectedTradeLog=n,this.showModal=!0}onFormSubmitted(){this.fetchTradeLogs(),this.closeModal()}closeModal(){this.showModal=!1,this.selectedTradeLog=null}closeModalOnOverlayClick(n){this.closeModal(),this.cdr.markForCheck()}async onDeleteTradeLog(n,t){t.stopPropagation();try{await this.supabaseService.deleteTradeLog(n.tradeid,this.tableName),await this.fetchTradeLogs()}catch(r){console.error("Error deleting trade log:",r),this.errorMessage="Error deleting trade log."}}static \u0275fac=function(t){return new(t||e)(E(de),E(pe))};static \u0275cmp=be({type:e,selectors:[["app-post-trade-table"]],decls:18,vars:5,consts:[[1,"container","mt-3"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item","text-decoration-none"],["routerLink","/home"],["aria-current","page",1,"breadcrumb-item","active"],["routerLink","/posttradelog"],["class","alert alert-info",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["class","row mt-5",4,"ngIf"],["class","alert alert-warning",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"alert","alert-info"],[1,"alert","alert-danger"],[1,"row","mt-5"],["class","col-md-4 col-12 mb-4",4,"ngFor","ngForOf"],[1,"col-md-4","col-12","mb-4"],[1,"card","h-100","position-relative","shadow",2,"cursor","pointer",3,"click","ngClass"],[1,"trade-status-indicator",3,"ngClass"],[1,"bi",3,"ngClass"],[1,"delete-icon",3,"click"],[1,"bi","bi-trash"],[1,"card-body"],[1,"card-title","mt-5"],[1,"card-subtitle","mb-3","text-muted","fw-bold"],[1,"card-text"],[1,"row","mb-2"],[1,"col-6"],[1,"row"],[1,"col-12"],[3,"ngClass"],[1,"mt-3"],[1,"text-muted"],[1,"alert","alert-warning"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[3,"formSubmitted","cancel","tradeLogData"]],template:function(t,r){t&1&&(f(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),h(5,"Dashboard"),d()(),f(6,"li",5),h(7,"Post-Trade Logs"),d(),f(8,"li",3)(9,"a",6),h(10,"Post-Trading Journal"),d()()()(),f(11,"h2"),h(12,"Post Trade Logs"),d(),I(13,xN,2,0,"div",7)(14,MN,2,1,"div",8)(15,NN,2,1,"div",9)(16,RN,2,0,"div",10),d(),I(17,kN,3,1,"div",11)),t&2&&(v(13),_("ngIf",r.loading),v(),_("ngIf",r.errorMessage),v(),_("ngIf",r.tradeLogs&&r.tradeLogs.length),v(),_("ngIf",!r.loading&&(!r.tradeLogs||r.tradeLogs.length===0)),v(),_("ngIf",r.showModal))},dependencies:[Zt,Te,$n,Wt,Ve,Ul,io],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;max-width:90%;max-height:90%;overflow:auto;position:relative}.card[_ngcontent-%COMP%]{position:relative;border:none;transition:all .2s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 20px #0000001a!important}.delete-icon[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;display:none;color:#dc3545;background:#fffc;border-radius:50%;padding:5px;z-index:10}.card[_ngcontent-%COMP%]:hover   .delete-icon[_ngcontent-%COMP%]{display:block}.delete-icon[_ngcontent-%COMP%]:hover{cursor:pointer}.open-trade[_ngcontent-%COMP%]{border-left:4px solid #17a2b8!important}.win-trade[_ngcontent-%COMP%]{border-left:4px solid #28a745!important}.loss-trade[_ngcontent-%COMP%]{border-left:4px solid #dc3545!important}.trade-status-indicator[_ngcontent-%COMP%]{position:absolute;top:8px;left:8px;padding:5px 10px;border-radius:12px;font-size:.8rem;font-weight:700;z-index:10;color:#fff}.status-open[_ngcontent-%COMP%]{background-color:#17a2b8}.status-win[_ngcontent-%COMP%]{background-color:#28a745}.status-loss[_ngcontent-%COMP%]{background-color:#dc3545}.trade-status-indicator[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:3px}"]})};var ON=(e,n)=>({"alert-success":e,"alert-danger":n});function PN(e,n){if(e&1&&(f(0,"div",8),h(1),d()),e&2){let t=R();_("ngClass",Ci(2,ON,t.messageType==="success",t.messageType==="error")),v(),z(" ",t.message," ")}}function FN(e,n){if(e&1){let t=me();f(0,"tr",9)(1,"td")(2,"input",10),Cr("ngModelChange",function(i){let o=W(t).$implicit;return Ei(o.question_text,i)||(o.question_text=i),Q(i)}),O("change",function(){let i=W(t).$implicit,o=R();return Q(o.onQuestionChange(i))}),d(),f(3,"button",11),O("click",function(){let i=W(t).$implicit,o=R();return Q(o.deleteQuestion(i))}),h(4," Delete "),d()(),f(5,"td")(6,"div",12)(7,"input",13),Cr("ngModelChange",function(i){let o=W(t).$implicit;return Ei(o.active,i)||(o.active=i),Q(i)}),O("change",function(){let i=W(t).$implicit,o=R();return Q(o.onQuestionChange(i))}),d()()()()}if(e&2){let t=n.$implicit;v(2),Er("ngModel",t.question_text),v(5),Er("ngModel",t.active)}}var Jc=class e{constructor(n,t){this.cdr=n;this.supabaseService=t}questions=[];newQuestionText="";message="";messageType="success";async ngOnInit(){this.questions=await this.supabaseService.adminLoadQuestions(),this.cdr.markForCheck()}onQuestionChange(n){n.isModified=!0}addQuestion(){if(!this.newQuestionText.trim())return;let n={question_text:this.newQuestionText.trim(),active:!0,isModified:!0};this.questions.push(n),this.newQuestionText="",this.cdr.detectChanges()}async saveChanges(){let{error:n}=await this.supabaseService.adminSaveQuestions(this.questions);n?(console.error("Error saving questions:",n),this.showMessage("Error saving questions","error")):this.showMessage("Questions saved successfully","success"),this.cdr.detectChanges()}async deleteQuestion(n){if(!n.question_id){this.questions=this.questions.filter(r=>r!==n),this.showMessage("Question removed locally","success"),this.cdr.markForCheck();return}let{error:t}=await this.supabaseService.deleteQuestion(n);t?(console.error("Error deleting question:",t),this.showMessage("Error deleting question","error")):(this.questions=this.questions.filter(r=>r.question_id!==n.question_id),this.showMessage("Question deleted successfully","success")),this.cdr.markForCheck()}showMessage(n,t){this.message=n,this.messageType=t,setTimeout(()=>{this.message="",this.cdr.markForCheck()},4e3)}hasChanges(){return this.questions.some(n=>n.isModified)}static \u0275fac=function(t){return new(t||e)(E(pe),E(de))};static \u0275cmp=be({type:e,selectors:[["app-admin-emotion-dashboard"]],decls:21,vars:4,consts:[[1,"container","mt-4"],["class","alert",3,"ngClass",4,"ngIf"],[1,"table","table-bordered"],["class","question-row",4,"ngFor","ngForOf"],[1,"mb-3"],["type","text","placeholder","Enter question",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-primary","mt-2",3,"click"],[1,"btn","btn-success",3,"click","disabled"],[1,"alert",3,"ngClass"],[1,"question-row"],["type","text",1,"form-control",3,"ngModelChange","change","ngModel"],["type","button",1,"btn","btn-danger","btn-sm","delete-button",3,"click"],[1,"form-check","form-switch"],["type","checkbox",1,"form-check-input",3,"ngModelChange","change","ngModel"]],template:function(t,r){t&1&&(f(0,"div",0),I(1,PN,2,5,"div",1),f(2,"h1"),h(3,"Admin Dashboard - Manage Questions"),d(),f(4,"table",2)(5,"thead")(6,"tr")(7,"th"),h(8,"Question Text"),d(),f(9,"th"),h(10,"Active"),d()()(),f(11,"tbody"),I(12,FN,8,2,"tr",3),d()(),f(13,"div",4)(14,"h4"),h(15,"Add New Question"),d(),f(16,"input",5),Cr("ngModelChange",function(o){return Ei(r.newQuestionText,o)||(r.newQuestionText=o),o}),d(),f(17,"button",6),O("click",function(){return r.addQuestion()}),h(18,"Add Question"),d()(),f(19,"button",7),O("click",function(){return r.saveChanges()}),h(20,"Save Changes"),d()()),t&2&&(v(),_("ngIf",r.message),v(11),_("ngForOf",r.questions),v(4),Er("ngModel",r.newQuestionText),v(3),_("disabled",!r.hasChanges()))},dependencies:[Qc,Ct,Fs,Xt,js,Te,$n,Wt,Ve],styles:[".container[_ngcontent-%COMP%]{max-width:800px;margin:auto}.question-row[_ngcontent-%COMP%]{position:relative}.delete-button[_ngcontent-%COMP%]{display:none;position:absolute;right:10px;top:50%;transform:translateY(-50%)}.question-row[_ngcontent-%COMP%]:hover   .delete-button[_ngcontent-%COMP%]{display:block}.alert[_ngcontent-%COMP%]{padding:10px 20px;margin-bottom:15px;border-radius:4px;text-align:center}"]})};var LN=(e,n)=>({"alert-success":e,"alert-danger":n});function jN(e,n){if(e&1&&(f(0,"div",4),h(1),d()),e&2){let t=R();_("ngClass",Ci(2,LN,t.messageType==="success",t.messageType==="error")),v(),z(" ",t.message," ")}}function VN(e,n){if(e&1){let t=me();f(0,"div",5)(1,"label",6),h(2),d(),f(3,"textarea",7),Cr("ngModelChange",function(i){let o=W(t).$implicit;return Ei(o.answer,i)||(o.answer=i),Q(i)}),h(4,"        "),d()()}if(e&2){let t=n.$implicit;v(2),Ie(t.question_text),v(),lf("name",t.question_id),Er("ngModel",t.answer)}}var Kc=class e{constructor(n,t,r){this.supabaseService=n;this.cdr=t;this.router=r}questions=[];message="";messageType="success";ngOnInit(){this.loadQuestions()}async loadQuestions(){let{data:n,error:t}=await this.supabaseService.getActiveQuestions();t?(console.error("Error loading questions:",t),this.message="Error loading questions.",this.messageType="error"):n&&(this.questions=n),this.cdr.markForCheck()}allQuestionsAnswered(){return this.questions.every(n=>n.answer&&n.answer.trim().length>0)}async submitAnswers(){if(!this.allQuestionsAnswered()){this.message="Please answer all questions before submitting.",this.messageType="error",this.cdr.markForCheck();return}let n=this.supabaseService.user()?.id;if(!n){this.message="User not authenticated.",this.messageType="error",this.cdr.markForCheck();return}let t=this.questions.map(i=>({question_id:i.question_id,answer:i.answer.trim(),user_id:n})),{error:r}=await this.supabaseService.submitUserAnswers(t);r?(console.error("Error submitting answers:",r),this.message="Error submitting answers.",this.messageType="error"):(this.message="Answers submitted successfully. redirecting in 5 seconds.",this.messageType="success"),this.cdr.markForCheck(),setTimeout(()=>{this.router.navigateByUrl("/home")},5e3)}static \u0275fac=function(t){return new(t||e)(E(de),E(pe),E(dt))};static \u0275cmp=be({type:e,selectors:[["app-user-emotion-questionnaire"]],decls:8,vars:3,consts:[[1,"container","mt-4"],["class","alert",3,"ngClass",4,"ngIf"],["class","mb-3",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-primary",3,"click","disabled"],[1,"alert",3,"ngClass"],[1,"mb-3"],[1,"form-label"],["rows","3","placeholder","Type your answer here...",1,"form-control",3,"ngModelChange","ngModel","name"]],template:function(t,r){t&1&&(f(0,"div",0),I(1,jN,2,5,"div",1),f(2,"h1"),h(3,"User Emotion Questionnaire"),d(),f(4,"form"),I(5,VN,5,3,"div",2),f(6,"button",3),O("click",function(){return r.submitAnswers()}),h(7," Submit Answers "),d()()()),t&2&&(v(),_("ngIf",r.message),v(4),_("ngForOf",r.questions),v(),_("disabled",!r.allQuestionsAnswered()))},dependencies:[Qc,er,Ct,Xt,Xn,js,ip,Te,$n,Wt,Ve],styles:[".container[_ngcontent-%COMP%]{max-width:800px;margin:auto}.alert[_ngcontent-%COMP%]{margin-bottom:20px;text-align:center}h1[_ngcontent-%COMP%]{margin-bottom:20px}"]})};function UN(e,n){if(e&1&&(f(0,"div",13),h(1),d()),e&2){let t=R();v(),z(" ",t.errorMessage," ")}}function $N(e,n){e&1&&(f(0,"div",32),h(1," A valid email is required. "),d())}function BN(e,n){e&1&&(f(0,"div",32),h(1," Password must be at least 6 characters. "),d())}function HN(e,n){if(e&1){let t=me();f(0,"form",14),O("ngSubmit",function(){W(t);let i=R();return Q(i.onSubmit())}),f(1,"div",15)(2,"label",16),h(3,"Email"),d(),w(4,"input",17),I(5,$N,2,0,"div",18),d(),f(6,"div",15)(7,"label",19),h(8,"Password"),d(),w(9,"input",20),I(10,BN,2,0,"div",18),f(11,"div",21)(12,"a",22),h(13,"Forgot password?"),d()()(),f(14,"div",23)(15,"button",24),h(16,"Continue"),d()(),f(17,"div",25)(18,"span"),h(19,"Or continue with"),d()(),f(20,"div",26)(21,"button",27),w(22,"i",28),h(23,"\xA0 Sign in with Google "),d()(),f(24,"div",29)(25,"p",30),h(26,"Don't have an account? "),f(27,"a",31),O("click",function(){W(t);let i=R();return Q(i.setActiveTab("signup"))}),h(28,"Sign up"),d()()()()}if(e&2){let t,r,i=R();_("formGroup",i.signinForm),v(5),_("ngIf",((t=i.signinForm.get("email"))==null?null:t.invalid)&&((t=i.signinForm.get("email"))==null?null:t.touched)),v(5),_("ngIf",((r=i.signinForm.get("password"))==null?null:r.invalid)&&((r=i.signinForm.get("password"))==null?null:r.touched)),v(5),_("disabled",i.signinForm.invalid)}}function qN(e,n){e&1&&(f(0,"small",47),h(1," First name is required "),d())}function zN(e,n){e&1&&(f(0,"small",47),h(1," Last name is required "),d())}function GN(e,n){e&1&&(f(0,"small",47),h(1," Valid email is required "),d())}function WN(e,n){e&1&&(f(0,"small",47),h(1," Password must be at least 6 characters "),d())}function QN(e,n){e&1&&(f(0,"small",47),h(1," Passwords do not match "),d())}function ZN(e,n){if(e&1){let t=me();f(0,"form",14),O("ngSubmit",function(){W(t);let i=R();return Q(i.onSignupSubmit())}),f(1,"div",33)(2,"div",34)(3,"label",35),h(4,"First Name"),d(),w(5,"input",36),I(6,qN,2,0,"small",37),d(),f(7,"div",34)(8,"label",38),h(9,"Last Name"),d(),w(10,"input",39),I(11,zN,2,0,"small",37),d()(),f(12,"div",15)(13,"label",40),h(14,"Email"),d(),w(15,"input",41),I(16,GN,2,0,"small",37),d(),f(17,"div",15)(18,"label",42),h(19,"Password"),d(),w(20,"input",43),I(21,WN,2,0,"small",37),d(),f(22,"div",15)(23,"label",44),h(24,"Confirm Password"),d(),w(25,"input",45),I(26,QN,2,0,"small",37),d(),f(27,"div",23)(28,"button",24),h(29,"Create Account"),d()(),f(30,"div",29)(31,"p",30),h(32,"Already have an account? "),f(33,"a",46),O("click",function(){W(t);let i=R();return Q(i.setActiveTab("login"))}),h(34,"Login"),d()()()()}if(e&2){let t,r,i,o,s,a=R();_("formGroup",a.signupForm),v(6),_("ngIf",((t=a.signupForm.get("firstname"))==null?null:t.invalid)&&((t=a.signupForm.get("firstname"))==null?null:t.touched)),v(5),_("ngIf",((r=a.signupForm.get("lastname"))==null?null:r.invalid)&&((r=a.signupForm.get("lastname"))==null?null:r.touched)),v(5),_("ngIf",((i=a.signupForm.get("email"))==null?null:i.invalid)&&((i=a.signupForm.get("email"))==null?null:i.touched)),v(5),_("ngIf",((o=a.signupForm.get("password"))==null?null:o.invalid)&&((o=a.signupForm.get("password"))==null?null:o.touched)),v(5),_("ngIf",a.signupForm.hasError("mismatch")&&((s=a.signupForm.get("confirmPassword"))==null?null:s.touched)),v(2),_("disabled",a.signupForm.invalid)}}var Xc=class e{constructor(n,t,r,i){this.fb=n;this.router=t;this.route=r;this.supabaseService=i;this.signinForm=this.fb.group({email:["",[A.required,A.email]],password:["",[A.required,A.minLength(6)]]}),this.signupForm=this.fb.group({firstname:["",A.required],lastname:["",A.required],email:["",[A.required,A.email]],password:["",[A.required,A.minLength(6)]],confirmPassword:["",A.required]},{validators:this.passwordMatchValidator})}activeTab="login";signinForm;signupForm;errorMessage=null;ngOnInit(){this.route.queryParams.subscribe(n=>{n.mode==="signup"&&(this.activeTab="signup")})}passwordMatchValidator(n){let t=n.get("password")?.value,r=n.get("confirmPassword")?.value;return t===r?null:{mismatch:!0}}setActiveTab(n){this.activeTab=n,this.errorMessage=null}async onSubmit(){if(this.signinForm.invalid){this.signinForm.markAllAsTouched();return}let{email:n,password:t}=this.signinForm.getRawValue();try{if(await this.supabaseService.signIn(n,t),!this.supabaseService.currentUsername()){this.errorMessage="Login failed. Please try again.";return}this.signinForm.reset();let r=this.route.snapshot.queryParams.returnUrl||"/home";this.router.navigateByUrl(r)}catch(r){this.errorMessage=r.message||"An unexpected error occurred."}}onSignupSubmit(){if(this.signupForm.invalid){this.signupForm.markAllAsTouched();return}let{email:n,password:t,firstname:r,lastname:i}=this.signupForm.getRawValue();this.supabaseService.signUp(n,t,r,i).then(()=>{this.signupForm.reset(),this.router.navigateByUrl("/home")}).catch(o=>{this.errorMessage=o.message||"An unexpected error occurred.",console.error(o)})}static \u0275fac=function(t){return new(t||e)(E(to),E(dt),E(Lt),E(de))};static \u0275cmp=be({type:e,selectors:[["app-login-signup"]],decls:20,vars:7,consts:[[1,"auth-container"],[1,"auth-card"],[1,"text-center","mb-4"],[1,"logo-circle","mx-auto"],["src","/trading-rehab-logo.png","alt","Logo",1,"img-fluid"],[1,"brand-name","mt-3"],[1,"brand-tagline"],[1,"auth-tabs","d-flex","justify-content-center","mb-4"],[1,"tabs-container"],[1,"tab",3,"click"],[1,"mx-2","tab-separator"],["class","alert alert-danger mb-3",4,"ngIf"],["class","auth-form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"alert","alert-danger","mb-3"],[1,"auth-form",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","placeholder","Enter your email",1,"form-control"],["class","text-danger small mt-1",4,"ngIf"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password","placeholder","Enter your password",1,"form-control"],[1,"d-flex","justify-content-end","mt-2"],["href","#",1,"forgot-link"],[1,"d-grid","gap-2","mt-4"],["type","submit",1,"btn","btn-primary","btn-lg",3,"disabled"],[1,"separator","my-4"],[1,"d-grid","gap-2"],["type","button",1,"btn","btn-outline-secondary","btn-lg","google-btn"],[1,"bi","bi-google"],[1,"text-center","mt-4"],[1,"mb-0"],["href","javascript:void(0)",1,"signup-link",3,"click"],[1,"text-danger","small","mt-1"],[1,"row"],[1,"col-md-6","mb-3"],["for","firstname",1,"form-label"],["type","text","id","firstname","formControlName","firstname","placeholder","First name",1,"form-control"],["class","text-danger",4,"ngIf"],["for","lastname",1,"form-label"],["type","text","id","lastname","formControlName","lastname","placeholder","Last name",1,"form-control"],["for","signup-email",1,"form-label"],["type","email","id","signup-email","formControlName","email","placeholder","Enter your email",1,"form-control"],["for","signup-password",1,"form-label"],["type","password","id","signup-password","formControlName","password","placeholder","Create a password",1,"form-control"],["for","confirmPassword",1,"form-label"],["type","password","id","confirmPassword","formControlName","confirmPassword","placeholder","Confirm your password",1,"form-control"],["href","javascript:void(0)",1,"login-link",3,"click"],[1,"text-danger"]],template:function(t,r){t&1&&(f(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),w(4,"img",4),d(),f(5,"h2",5),h(6,"TRADING REHAB"),d(),f(7,"p",6),h(8,"Where Disciplined Trading Begins"),d()(),f(9,"div",7)(10,"div",8)(11,"span",9),O("click",function(){return r.setActiveTab("login")}),h(12,"Login"),d(),f(13,"span",10),h(14,"\u2022"),d(),f(15,"span",9),O("click",function(){return r.setActiveTab("signup")}),h(16,"Sign Up"),d()()(),I(17,UN,2,1,"div",11)(18,HN,29,4,"form",12)(19,ZN,35,7,"form",12),d()()),t&2&&(v(11),zt("active",r.activeTab==="login"),v(4),zt("active",r.activeTab==="signup"),v(2),_("ngIf",r.errorMessage),v(),_("ngIf",r.activeTab==="login"),v(),_("ngIf",r.activeTab==="signup"))},dependencies:[Te,Ve,no,er,Ct,Xt,Xn,Ur,$r],styles:['.auth-container[_ngcontent-%COMP%]{min-height:100vh;background:conic-gradient(#eaeafd,#9c9ce4,#eaeafd);display:flex;align-items:center;justify-content:center}.auth-card[_ngcontent-%COMP%]{background-color:transparent;border-radius:12px;width:100%;max-width:450px;padding:30px}.logo-circle[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;background-color:transparent;position:relative;display:flex;align-items:center;justify-content:center;margin:0 auto}.dots-circle[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;position:relative;background-image:radial-gradient(circle,#5046e5 3px,transparent 3px);background-size:15px 15px;transform:rotate(45deg)}.brand-name[_ngcontent-%COMP%]{font-weight:700;font-size:24px;margin-bottom:5px;letter-spacing:.5px}.brand-tagline[_ngcontent-%COMP%]{color:#666;font-size:14px;margin:0}.tabs-container[_ngcontent-%COMP%]{display:inline-flex;align-items:center;border-bottom:1px solid #eee;padding-bottom:5px}.tab[_ngcontent-%COMP%]{padding:8px 15px;cursor:pointer;color:#888;font-weight:500;font-size:16px;transition:color .2s}.tab.active[_ngcontent-%COMP%]{color:#5046e5;border-bottom:2px solid #5046e5}.tab-separator[_ngcontent-%COMP%]{color:#ccc}.auth-form[_ngcontent-%COMP%]{margin-top:10px}.form-control[_ngcontent-%COMP%]{height:auto;padding:12px 15px;border-radius:8px;border:1px solid #ddd;transition:border-color .2s,box-shadow .2s}.form-control[_ngcontent-%COMP%]:focus{border-color:#5046e5;box-shadow:0 0 0 .2rem #5046e526}.form-label[_ngcontent-%COMP%]{font-weight:500;color:#555;margin-bottom:8px}.forgot-link[_ngcontent-%COMP%]{font-size:14px;color:#5046e5;text-decoration:none}.forgot-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.signup-link[_ngcontent-%COMP%], .login-link[_ngcontent-%COMP%]{color:#5046e5;font-weight:500;text-decoration:none}.signup-link[_ngcontent-%COMP%]:hover, .login-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.btn-primary[_ngcontent-%COMP%]{background-color:#5046e5;border-color:#5046e5;padding:12px;font-weight:500}.btn-primary[_ngcontent-%COMP%]:hover, .btn-primary[_ngcontent-%COMP%]:focus{background-color:#4238d0;border-color:#4238d0}.btn-primary[_ngcontent-%COMP%]:disabled{background-color:#a8a4e0;border-color:#a8a4e0}.separator[_ngcontent-%COMP%]{display:flex;align-items:center;text-align:center;color:#888;font-size:14px}.separator[_ngcontent-%COMP%]:before, .separator[_ngcontent-%COMP%]:after{content:"";flex:1;border-bottom:1px solid #ddd}.separator[_ngcontent-%COMP%]:before{margin-right:1em}.separator[_ngcontent-%COMP%]:after{margin-left:1em}.google-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#fff;border:1px solid #ddd;color:#333;padding:12px;font-weight:500}.google-btn[_ngcontent-%COMP%]:hover{background-color:#f8f8f8;color:#333}@media (max-width: 576px){.auth-card[_ngcontent-%COMP%]{padding:20px 15px}.brand-name[_ngcontent-%COMP%]{font-size:20px}.form-control[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]{padding:10px}}']})};var bb=[{path:"",component:Xc,canActivate:[Oc]},{path:"home",component:kc,canActivate:[Kt]},{path:"pretrades",component:Zc,canActivate:[Kt]},{path:"pretradelog",component:ro,canActivate:[Kt]},{path:"posttrades",component:Yc,canActivate:[Kt]},{path:"posttradelog",component:io,canActivate:[Kt]},{path:"emotions",component:Kc,canActivate:[Kt]},{path:"admin/emotionquestion",component:Jc,canActivate:[Kt]},{path:"**",redirectTo:""}];var wb={providers:[ay(),O0(bb),Uy($y())]};function YN(e,n){e&1&&(Sl(0),f(1,"div",1),w(2,"router-outlet"),d(),Il())}function JN(e,n){if(e&1){let t=me();f(0,"div",19)(1,"a",20),O("click",function(){W(t);let i=R(2);return Q(i.navigateToUrl("/home"))}),w(2,"i",21),h(3,"\xA0\xA0\xA0 Home"),d(),f(4,"a",20),O("click",function(){W(t);let i=R(2);return Q(i.navigateToUrl("/pretrades"))}),w(5,"i",22),h(6,"\xA0\xA0\xA0PreTrades"),d(),f(7,"a",20),O("click",function(){W(t);let i=R(2);return Q(i.navigateToUrl("/posttrades"))}),w(8,"i",23),h(9,"\xA0\xA0\xA0PostTrades"),d()()}}function KN(e,n){if(e&1){let t=me();f(0,"div",24)(1,"div",25)(2,"button",26),w(3,"i",27),d(),h(4,"\xA0\xA0 "),f(5,"p",28),h(6),d()(),f(7,"button",29),O("click",function(){W(t);let i=R(2);return Q(i.logOut())}),h(8,"Logout\xA0\xA0\xA0"),w(9,"i",30),d()()}if(e&2){let t=R(2);v(2),_("disabled",!0),v(4),z("Welcome, ",t.supabaseService.currentUsername(),"!")}}function XN(e,n){if(e&1){let t=me();Sl(0),f(1,"div",2)(2,"nav",3)(3,"div",4)(4,"div",5)(5,"h4",6),h(6,"Menu"),d(),f(7,"button",7),O("click",function(){W(t);let i=R();return Q(i.closeSidebar())}),d()(),I(8,JN,10,0,"div",8),d(),I(9,KN,10,2,"div",9),d(),f(10,"div",10)(11,"nav",11)(12,"div",12)(13,"div",13)(14,"button",14),O("click",function(){W(t);let i=R();return Q(i.toggleSidebar())}),w(15,"span",15),d(),f(16,"button",16),O("click",function(){W(t);let i=R();return Q(i.navigateToUrl("/home"))}),f(17,"h4",17),h(18,"TR Landing"),d()()()()(),f(19,"div",18),w(20,"router-outlet"),d()()(),Il()}if(e&2){let t=R();v(2),zt("collapsed",t.sidebarCollapsed()),v(6),_("ngIf",t.loginStatus()),v(),_("ngIf",t.loginStatus()),v(),zt("expanded",t.sidebarCollapsed())}}var eu=class e{constructor(n,t,r,i,o){this.cdr=n;this.supabaseService=t;this.router=r;this.route=i;this.platformId=o;this.loginStatus=Vn(()=>t.loginStatus())}title="TR-prototype";loginStatus;sidebarCollapsed=ot(!1);isMobile=ot(!1);resizeObserver;ngOnInit(){this.checkScreenSize(),lt(this.platformId)&&(this.sidebarCollapsed.set(this.isMobile()),this.resizeObserver=new ResizeObserver(()=>{this.checkScreenSize(),this.cdr.detectChanges()}),this.resizeObserver.observe(document.body)),this.supabaseService.loginStatus()&&this.route.queryParams.subscribe(n=>{let t=n.returnUrl;t?this.router.navigate([t]):this.router.navigate(["/home"])})}ngOnDestroy(){lt(this.platformId)&&this.resizeObserver&&this.resizeObserver.disconnect()}async logOut(){await this.supabaseService.signOut(),this.router.navigateByUrl("/")}toggleSidebar(){this.sidebarCollapsed.update(n=>!n),this.cdr.detectChanges()}navigateToUrl(n){this.router.navigateByUrl(n)}closeSidebar(){this.sidebarCollapsed.set(!0),this.cdr.detectChanges()}checkScreenSize(){lt(this.platformId)&&this.isMobile.set(window.innerWidth<768)}static \u0275fac=function(t){return new(t||e)(E(pe),E(de),E(dt),E(Lt),E(yt))};static \u0275cmp=be({type:e,selectors:[["app-root"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"container-fluid","p-0"],[1,"sidebar-container"],["id","sidebar",1,"d-flex","flex-column","h-100"],[1,"p-3","flex-grow-1"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"m-0"],["type","button",1,"btn-close","d-md-none",3,"click"],["class","nav flex-column",4,"ngIf"],["class","p-3 border-top mt-auto",4,"ngIf"],[1,"content"],[1,"navbar","navbar-expand-lg"],[1,"container-fluid"],[1,"d-flex","align-items-center"],[1,"btn","me-2",3,"click"],[1,"navbar-toggler-icon"],[1,"btn","navbar-branding","text-decoration-none","me-auto",3,"click"],[1,"text-black"],[1,"container-fluid","p-4"],[1,"nav","flex-column"],[1,"nav-link",3,"click"],[1,"bi","bi-house"],[1,"bi","bi-ui-checks-grid"],[1,"bi","bi-ui-checks"],[1,"p-3","border-top","mt-auto"],[1,"d-flex","align-items-center","mb-2"],["title","Profile",1,"btn","btn-link","p-0","me-2",3,"disabled"],[1,"bi","bi-person-circle","text-black",2,"font-size","30px"],[1,"text-black","mb-0"],[1,"btn","btn-outline-secondary","w-100",3,"click"],[1,"bi","bi-box-arrow-right"]],template:function(t,r){t&1&&I(0,YN,3,0,"ng-container",0)(1,XN,21,6,"ng-container",0),t&2&&(_("ngIf",!r.supabaseService.loginStatus()),v(),_("ngIf",r.supabaseService.loginStatus()))},dependencies:[Te,Ve,gh],styles:[".sidebar-container[_ngcontent-%COMP%]{display:flex;width:100%;position:relative}#sidebar[_ngcontent-%COMP%]{width:250px;position:fixed;top:0;left:0;height:100vh;z-index:999;background:#f8f9fa;transition:all .3s;box-shadow:0 0 10px #0000001a}#sidebar.collapsed[_ngcontent-%COMP%]{margin-left:-250px}.content[_ngcontent-%COMP%]{width:calc(100% - 250px);margin-left:250px;transition:all .3s;min-height:100vh}.content.expanded[_ngcontent-%COMP%]{width:100%;margin-left:0}@media (max-width: 768px){#sidebar[_ngcontent-%COMP%]{margin-left:-250px}#sidebar[_ngcontent-%COMP%]:not(.collapsed){margin-left:0}.content[_ngcontent-%COMP%]{width:100%;margin-left:0}}.nav-link[_ngcontent-%COMP%]{padding:15px 20px;color:#333;border-bottom:1px solid #ddd}.nav-link[_ngcontent-%COMP%]:hover{background-color:#e9ecef}.navbar[_ngcontent-%COMP%]{padding:15px 10px}"]})};Jy(eu,wb).catch(e=>console.error(e));
