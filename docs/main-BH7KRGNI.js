import{b as hv,c as mv,f as B1,g as gv}from"./chunk-65CJINC2.js";import{a as N,b as G,c as _o,e as mr,g as j1,h as U1}from"./chunk-VOSPIT4N.js";var qg=mr(zg=>{"use strict";Object.defineProperty(zg,"__esModule",{value:!0});var Hg=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};zg.default=Hg});var Wg=mr(za=>{"use strict";var wE=za&&za.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(za,"__esModule",{value:!0});var VO=wE((gv(),U1(B1))),jO=wE(qg()),Gg=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=VO.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=Object.assign({},this.headers),this.headers[t]=e,this}then(t,e){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var s,a,l;let d=null,p=null,m=null,y=o.status,v=o.statusText;if(o.ok){if(this.method!=="HEAD"){let A=await o.text();A===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?p=A:p=JSON.parse(A))}let C=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),x=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");C&&x&&x.length>1&&(m=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(d={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,m=null,y=406,v="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{let C=await o.text();try{d=JSON.parse(C),Array.isArray(d)&&o.status===404&&(p=[],d=null,y=200,v="OK")}catch{o.status===404&&C===""?(y=204,v="No Content"):d={message:C}}if(d&&this.isMaybeSingle&&(!((l=d?.details)===null||l===void 0)&&l.includes("0 rows"))&&(d=null,y=200,v="OK"),d&&this.shouldThrowOnError)throw new jO.default(d)}return{error:d,data:p,count:m,status:y,statusText:v}});return this.shouldThrowOnError||(i=i.catch(o=>{var s,a,l;return{error:{message:`${(s=o?.name)!==null&&s!==void 0?s:"FetchError"}: ${o?.message}`,details:`${(a=o?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=o?.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}};za.default=Gg});var Kg=mr(qa=>{"use strict";var UO=qa&&qa.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(qa,"__esModule",{value:!0});var BO=UO(Wg()),Qg=class extends BO.default{select(t){let e=!1,r=(t??"*").split("").map(i=>/\s/.test(i)&&!e?"":(i==='"'&&(e=!e),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){let s=o?`${o}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){let i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:i=r}={}){let o=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(s,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){var a;let l=[t?"analyze":null,e?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),d=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${d}"; options=${l};`,s==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};qa.default=Qg});var rd=mr(Ga=>{"use strict";var $O=Ga&&Ga.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ga,"__esModule",{value:!0});var HO=$O(Kg()),Yg=class extends HO.default{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}in(t,e){let r=Array.from(new Set(e)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${s}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){let i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}};Ga.default=Yg});var Jg=mr(Qa=>{"use strict";var zO=Qa&&Qa.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Qa,"__esModule",{value:!0});var Wa=zO(rd()),Zg=class{constructor(t,{headers:e={},schema:r,fetch:i}){this.url=t,this.headers=e,this.schema=r,this.fetch=i}select(t,{head:e=!1,count:r}={}){let i=e?"HEAD":"GET",o=!1,s=(t??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new Wa.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:e,defaultToNull:r=!0}={}){let i="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),e&&o.push(`count=${e}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){let s=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(s.length>0){let a=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Wa.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){let s="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(e!==void 0&&this.url.searchParams.set("on_conflict",e),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){let l=t.reduce((d,p)=>d.concat(Object.keys(p)),[]);if(l.length>0){let d=[...new Set(l)].map(p=>`"${p}"`);this.url.searchParams.set("columns",d.join(","))}}return new Wa.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:e}={}){let r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),e&&i.push(`count=${e}`),this.headers.Prefer=i.join(","),new Wa.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){let e="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Wa.default({method:e,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Qa.default=Zg});var CE=mr(id=>{"use strict";Object.defineProperty(id,"__esModule",{value:!0});id.version=void 0;id.version="0.0.0-automated"});var EE=mr(od=>{"use strict";Object.defineProperty(od,"__esModule",{value:!0});od.DEFAULT_HEADERS=void 0;var qO=CE();od.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${qO.version}`}});var DE=mr(Ka=>{"use strict";var SE=Ka&&Ka.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ka,"__esModule",{value:!0});var GO=SE(Jg()),WO=SE(rd()),QO=EE(),Xg=class n{constructor(t,{headers:e={},schema:r,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},QO.DEFAULT_HEADERS),e),this.schemaName=r,this.fetch=i}from(t){let e=new URL(`${this.url}/${t}`);return new GO.default(e,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new n(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,e={},{head:r=!1,get:i=!1,count:o}={}){let s,a=new URL(`${this.url}/rpc/${t}`),l;r||i?(s=r?"HEAD":"GET",Object.entries(e).filter(([p,m])=>m!==void 0).map(([p,m])=>[p,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([p,m])=>{a.searchParams.append(p,m)})):(s="POST",l=e);let d=Object.assign({},this.headers);return o&&(d.Prefer=`count=${o}`),new WO.default({method:s,url:a,headers:d,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Ka.default=Xg});var NE=mr(yt=>{"use strict";var us=yt&&yt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(yt,"__esModule",{value:!0});yt.PostgrestError=yt.PostgrestBuilder=yt.PostgrestTransformBuilder=yt.PostgrestFilterBuilder=yt.PostgrestQueryBuilder=yt.PostgrestClient=void 0;var xE=us(DE());yt.PostgrestClient=xE.default;var IE=us(Jg());yt.PostgrestQueryBuilder=IE.default;var TE=us(rd());yt.PostgrestFilterBuilder=TE.default;var ME=us(Kg());yt.PostgrestTransformBuilder=ME.default;var AE=us(Wg());yt.PostgrestBuilder=AE.default;var kE=us(qg());yt.PostgrestError=kE.default;yt.default={PostgrestClient:xE.default,PostgrestQueryBuilder:IE.default,PostgrestFilterBuilder:TE.default,PostgrestTransformBuilder:ME.default,PostgrestBuilder:AE.default,PostgrestError:kE.default}});function yv(n,t){return Object.is(n,t)}var nt=null,Fs=!1,qf=1,Vt=Symbol("SIGNAL");function ve(n){let t=nt;return nt=n,t}function _v(){return nt}function $1(){return Fs}var Ci={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Dl(n){if(Fs)throw new Error("");if(nt===null)return;nt.consumerOnSignalRead(n);let t=nt.nextProducerIndex++;if(Il(nt),t<nt.producerNode.length&&nt.producerNode[t]!==n&&Ls(nt)){let e=nt.producerNode[t];xl(e,nt.producerIndexOfThis[t])}nt.producerNode[t]!==n&&(nt.producerNode[t]=n,nt.producerIndexOfThis[t]=Ls(nt)?Sv(n,nt,t):0),nt.producerLastReadVersion[t]=n.version}function H1(){qf++}function bv(n){if(!(Ls(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===qf)){if(!n.producerMustRecompute(n)&&!js(n)){vv(n);return}n.producerRecomputeValue(n),vv(n)}}function wv(n){if(n.liveConsumerNode===void 0)return;let t=Fs;Fs=!0;try{for(let e of n.liveConsumerNode)e.dirty||Ev(e)}finally{Fs=t}}function Cv(){return nt?.consumerAllowSignalWrites!==!1}function Ev(n){n.dirty=!0,wv(n),n.consumerMarkedDirty?.(n)}function vv(n){n.dirty=!1,n.lastCleanEpoch=qf}function bo(n){return n&&(n.nextProducerIndex=0),ve(n)}function Vs(n,t){if(ve(t),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Ls(n))for(let e=n.nextProducerIndex;e<n.producerNode.length;e++)xl(n.producerNode[e],n.producerIndexOfThis[e]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function js(n){Il(n);for(let t=0;t<n.producerNode.length;t++){let e=n.producerNode[t],r=n.producerLastReadVersion[t];if(r!==e.version||(bv(e),r!==e.version))return!0}return!1}function wo(n){if(Il(n),Ls(n))for(let t=0;t<n.producerNode.length;t++)xl(n.producerNode[t],n.producerIndexOfThis[t]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Sv(n,t,e){if(Dv(n),n.liveConsumerNode.length===0&&xv(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=Sv(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(e),n.liveConsumerNode.push(t)-1}function xl(n,t){if(Dv(n),n.liveConsumerNode.length===1&&xv(n))for(let r=0;r<n.producerNode.length;r++)xl(n.producerNode[r],n.producerIndexOfThis[r]);let e=n.liveConsumerNode.length-1;if(n.liveConsumerNode[t]=n.liveConsumerNode[e],n.liveConsumerIndexOfThis[t]=n.liveConsumerIndexOfThis[e],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,t<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[t],i=n.liveConsumerNode[t];Il(i),i.producerIndexOfThis[r]=t}}function Ls(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Il(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function Dv(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function xv(n){return n.producerNode!==void 0}function Iv(n){let t=Object.create(z1);t.computation=n;let e=()=>{if(bv(t),Dl(t),t.value===Sl)throw t.error;return t.value};return e[Vt]=t,e}var $f=Symbol("UNSET"),Hf=Symbol("COMPUTING"),Sl=Symbol("ERRORED"),z1=G(N({},Ci),{value:$f,dirty:!0,error:null,equal:yv,kind:"computed",producerMustRecompute(n){return n.value===$f||n.value===Hf},producerRecomputeValue(n){if(n.value===Hf)throw new Error("Detected cycle in computations.");let t=n.value;n.value=Hf;let e=bo(n),r,i=!1;try{r=n.computation(),ve(null),i=t!==$f&&t!==Sl&&r!==Sl&&n.equal(t,r)}catch(o){r=Sl,n.error=o}finally{Vs(n,e)}if(i){n.value=t;return}n.value=r,n.version++}});function q1(){throw new Error}var Tv=q1;function Mv(){Tv()}function Av(n){Tv=n}var G1=null;function kv(n){let t=Object.create(Gf);t.value=n;let e=()=>(Dl(t),t.value);return e[Vt]=t,e}function Tl(n,t){Cv()||Mv(),n.equal(n.value,t)||(n.value=t,W1(n))}function Nv(n,t){Cv()||Mv(),Tl(n,t(n.value))}var Gf=G(N({},Ci),{equal:yv,value:void 0,kind:"signal"});function W1(n){n.version++,H1(),wv(n),G1?.()}function Pv(n,t,e){let r=Object.create(Q1);e&&(r.consumerAllowSignalWrites=!0),r.fn=n,r.schedule=t;let i=l=>{r.cleanupFn=l};function o(l){return l.fn===null&&l.schedule===null}function s(l){o(l)||(wo(l),l.cleanupFn(),l.fn=null,l.schedule=null,l.cleanupFn=zf)}let a=()=>{if(r.fn===null)return;if($1())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!js(r))return;r.hasRun=!0;let l=bo(r);try{r.cleanupFn(),r.cleanupFn=zf,r.fn(i)}finally{Vs(r,l)}};return r.ref={notify:()=>Ev(r),run:a,cleanup:()=>r.cleanupFn(),destroy:()=>s(r),[Vt]:r},r.ref}var zf=()=>{},Q1=G(N({},Ci),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule!==null&&n.schedule(n.ref)},hasRun:!1,cleanupFn:zf});function te(n){return typeof n=="function"}function Co(n){let e=n(r=>{Error.call(r),r.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var Ml=Co(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function Ei(n,t){if(n){let e=n.indexOf(t);0<=e&&n.splice(e,1)}}var Ue=class n{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let o of e)o.remove(this);else e.remove(this);let{initialTeardown:r}=this;if(te(r))try{r()}catch(o){t=o instanceof Ml?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Ov(o)}catch(s){t=t??[],s instanceof Ml?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Ml(t)}}add(t){var e;if(t&&t!==this)if(this.closed)Ov(t);else{if(t instanceof n){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(t)}}_hasParent(t){let{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){let{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&Ei(e,t)}remove(t){let{_finalizers:e}=this;e&&Ei(e,t),t instanceof n&&t._removeParent(this)}};Ue.EMPTY=(()=>{let n=new Ue;return n.closed=!0,n})();var Wf=Ue.EMPTY;function Al(n){return n instanceof Ue||n&&"closed"in n&&te(n.remove)&&te(n.add)&&te(n.unsubscribe)}function Ov(n){te(n)?n():n.unsubscribe()}var On={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Eo={setTimeout(n,t,...e){let{delegate:r}=Eo;return r?.setTimeout?r.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){let{delegate:t}=Eo;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function kl(n){Eo.setTimeout(()=>{let{onUnhandledError:t}=On;if(t)t(n);else throw n})}function Us(){}var Rv=Qf("C",void 0,void 0);function Fv(n){return Qf("E",void 0,n)}function Lv(n){return Qf("N",n,void 0)}function Qf(n,t,e){return{kind:n,value:t,error:e}}var Si=null;function So(n){if(On.useDeprecatedSynchronousErrorHandling){let t=!Si;if(t&&(Si={errorThrown:!1,error:null}),n(),t){let{errorThrown:e,error:r}=Si;if(Si=null,e)throw r}}else n()}function Vv(n){On.useDeprecatedSynchronousErrorHandling&&Si&&(Si.errorThrown=!0,Si.error=n)}var Di=class extends Ue{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Al(t)&&t.add(this)):this.destination=Z1}static create(t,e,r){return new gr(t,e,r)}next(t){this.isStopped?Yf(Lv(t),this):this._next(t)}error(t){this.isStopped?Yf(Fv(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Yf(Rv,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},K1=Function.prototype.bind;function Kf(n,t){return K1.call(n,t)}var Zf=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(r){Nl(r)}}error(t){let{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(r){Nl(r)}else Nl(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){Nl(e)}}},gr=class extends Di{constructor(t,e,r){super();let i;if(te(t)||!t)i={next:t??void 0,error:e??void 0,complete:r??void 0};else{let o;this&&On.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Kf(t.next,o),error:t.error&&Kf(t.error,o),complete:t.complete&&Kf(t.complete,o)}):i=t}this.destination=new Zf(i)}};function Nl(n){On.useDeprecatedSynchronousErrorHandling?Vv(n):kl(n)}function Y1(n){throw n}function Yf(n,t){let{onStoppedNotification:e}=On;e&&Eo.setTimeout(()=>e(n,t))}var Z1={closed:!0,next:Us,error:Y1,complete:Us};var Do=typeof Symbol=="function"&&Symbol.observable||"@@observable";function rn(n){return n}function Jf(...n){return Xf(n)}function Xf(n){return n.length===0?rn:n.length===1?n[0]:function(e){return n.reduce((r,i)=>i(r),e)}}var pe=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){let r=new n;return r.source=this,r.operator=e,r}subscribe(e,r,i){let o=X1(e)?e:new gr(e,r,i);return So(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return r=jv(r),new r((i,o)=>{let s=new gr({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)}[Do](){return this}pipe(...e){return Xf(e)(this)}toPromise(e){return e=jv(e),new e((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=t=>new n(t),n})();function jv(n){var t;return(t=n??On.Promise)!==null&&t!==void 0?t:Promise}function J1(n){return n&&te(n.next)&&te(n.error)&&te(n.complete)}function X1(n){return n&&n instanceof Di||J1(n)&&Al(n)}function ep(n){return te(n?.lift)}function ce(n){return t=>{if(ep(t))return t.lift(function(e){try{return n(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ue(n,t,e,r,i){return new tp(n,t,e,r,i)}var tp=class extends Di{constructor(t,e,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function xo(){return ce((n,t)=>{let e=null;n._refCount++;let r=ue(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){e=null;return}let i=n._connection,o=e;e=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}var Io=class extends pe{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,ep(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ue;let e=this.getSubject();t.add(this.source.subscribe(ue(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ue.EMPTY)}return t}refCount(){return xo()(this)}};var Uv=Co(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var We=(()=>{class n extends pe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let r=new Pl(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new Uv}next(e){So(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(e)}})}error(e){So(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){So(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Wf:(this.currentObservers=null,o.push(e),new Ue(()=>{this.currentObservers=null,Ei(o,e)}))}_checkFinalizedStatuses(e){let{hasError:r,thrownError:i,isStopped:o}=this;r?e.error(i):o&&e.complete()}asObservable(){let e=new pe;return e.source=this,e}}return n.create=(t,e)=>new Pl(t,e),n})(),Pl=class extends We{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.next)===null||r===void 0||r.call(e,t)}error(t){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.error)===null||r===void 0||r.call(e,t)}complete(){var t,e;(e=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||e===void 0||e.call(t)}_subscribe(t){var e,r;return(r=(e=this.source)===null||e===void 0?void 0:e.subscribe(t))!==null&&r!==void 0?r:Wf}};var pt=class extends We{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){let{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var np={now(){return(np.delegate||Date).now()},delegate:void 0};var Ol=class extends Ue{constructor(t,e){super()}schedule(t,e=0){return this}};var Bs={setInterval(n,t,...e){let{delegate:r}=Bs;return r?.setInterval?r.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){let{delegate:t}=Bs;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};var Rl=class extends Ol{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var r;if(this.closed)return this;this.state=t;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,e)),this.pending=!0,this.delay=e,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,e),this}requestAsyncId(t,e,r=0){return Bs.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,e,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return e;e!=null&&Bs.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(t,e);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r=!1,i;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:t,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Ei(r,this),t!=null&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}};var To=class n{constructor(t,e=n.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,r){return new this.schedulerActionCtor(this,t).schedule(r,e)}};To.now=np.now;var Fl=class extends To{constructor(t,e=To.now){super(t,e),this.actions=[],this._active=!1}flush(t){let{actions:e}=this;if(this._active){e.push(t);return}let r;this._active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=e.shift());if(this._active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}};var Bv=new Fl(Rl);var jt=new pe(n=>n.complete());function $v(n){return n&&te(n.schedule)}function Hv(n){return n[n.length-1]}function Ll(n){return te(Hv(n))?n.pop():void 0}function Wr(n){return $v(Hv(n))?n.pop():void 0}function qv(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(p){try{d(r.next(p))}catch(m){s(m)}}function l(p){try{d(r.throw(p))}catch(m){s(m)}}function d(p){p.done?o(p.value):i(p.value).then(a,l)}d((r=r.apply(n,t||[])).next())})}function zv(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function xi(n){return this instanceof xi?(this.v=n,this):new xi(n)}function Gv(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(n,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(v){return function(w){return Promise.resolve(w).then(v,m)}}function a(v,w){r[v]&&(i[v]=function(C){return new Promise(function(x,A){o.push([v,C,x,A])>1||l(v,C)})},w&&(i[v]=w(i[v])))}function l(v,w){try{d(r[v](w))}catch(C){y(o[0][3],C)}}function d(v){v.value instanceof xi?Promise.resolve(v.value.v).then(p,m):y(o[0][2],v)}function p(v){l("next",v)}function m(v){l("throw",v)}function y(v,w){v(w),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Wv(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],e;return t?t.call(n):(n=typeof zv=="function"?zv(n):n[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(o){e[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(d){o({value:d,done:a})},s)}}var Vl=n=>n&&typeof n.length=="number"&&typeof n!="function";function jl(n){return te(n?.then)}function Ul(n){return te(n[Do])}function Bl(n){return Symbol.asyncIterator&&te(n?.[Symbol.asyncIterator])}function $l(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function eD(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Hl=eD();function zl(n){return te(n?.[Hl])}function ql(n){return Gv(this,arguments,function*(){let e=n.getReader();try{for(;;){let{value:r,done:i}=yield xi(e.read());if(i)return yield xi(void 0);yield yield xi(r)}}finally{e.releaseLock()}})}function Gl(n){return te(n?.getReader)}function Qe(n){if(n instanceof pe)return n;if(n!=null){if(Ul(n))return tD(n);if(Vl(n))return nD(n);if(jl(n))return rD(n);if(Bl(n))return Qv(n);if(zl(n))return iD(n);if(Gl(n))return oD(n)}throw $l(n)}function tD(n){return new pe(t=>{let e=n[Do]();if(te(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function nD(n){return new pe(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}function rD(n){return new pe(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,kl)})}function iD(n){return new pe(t=>{for(let e of n)if(t.next(e),t.closed)return;t.complete()})}function Qv(n){return new pe(t=>{sD(n,t).catch(e=>t.error(e))})}function oD(n){return Qv(ql(n))}function sD(n,t){var e,r,i,o;return qv(this,void 0,void 0,function*(){try{for(e=Wv(n);r=yield e.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=e.return)&&(yield o.call(e))}finally{if(i)throw i.error}}t.complete()})}function Ut(n,t,e,r=0,i=!1){let o=t.schedule(function(){e(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Wl(n,t=0){return ce((e,r)=>{e.subscribe(ue(r,i=>Ut(r,n,()=>r.next(i),t),()=>Ut(r,n,()=>r.complete(),t),i=>Ut(r,n,()=>r.error(i),t)))})}function Ql(n,t=0){return ce((e,r)=>{r.add(n.schedule(()=>e.subscribe(r),t))})}function Kv(n,t){return Qe(n).pipe(Ql(t),Wl(t))}function Yv(n,t){return Qe(n).pipe(Ql(t),Wl(t))}function Zv(n,t){return new pe(e=>{let r=0;return t.schedule(function(){r===n.length?e.complete():(e.next(n[r++]),e.closed||this.schedule())})})}function Jv(n,t){return new pe(e=>{let r;return Ut(e,t,()=>{r=n[Hl](),Ut(e,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){e.error(s);return}o?e.complete():e.next(i)},0,!0)}),()=>te(r?.return)&&r.return()})}function Kl(n,t){if(!n)throw new Error("Iterable cannot be null");return new pe(e=>{Ut(e,t,()=>{let r=n[Symbol.asyncIterator]();Ut(e,t,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function Xv(n,t){return Kl(ql(n),t)}function ey(n,t){if(n!=null){if(Ul(n))return Kv(n,t);if(Vl(n))return Zv(n,t);if(jl(n))return Yv(n,t);if(Bl(n))return Kl(n,t);if(zl(n))return Jv(n,t);if(Gl(n))return Xv(n,t)}throw $l(n)}function Ke(n,t){return t?ey(n,t):Qe(n)}function Z(...n){let t=Wr(n);return Ke(n,t)}function Qr(n,t){let e=te(n)?n:()=>n,r=i=>i.error(e());return new pe(t?i=>t.schedule(r,0,i):r)}function rp(n){return!!n&&(n instanceof pe||te(n.lift)&&te(n.subscribe))}var vr=Co(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function J(n,t){return ce((e,r)=>{let i=0;e.subscribe(ue(r,o=>{r.next(n.call(t,o,i++))}))})}var{isArray:aD}=Array;function lD(n,t){return aD(t)?n(...t):n(t)}function Yl(n){return J(t=>lD(n,t))}var{isArray:cD}=Array,{getPrototypeOf:uD,prototype:dD,keys:fD}=Object;function Zl(n){if(n.length===1){let t=n[0];if(cD(t))return{args:t,keys:null};if(pD(t)){let e=fD(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}function pD(n){return n&&typeof n=="object"&&uD(n)===dD}function Jl(n,t){return n.reduce((e,r,i)=>(e[r]=t[i],e),{})}function Mo(...n){let t=Wr(n),e=Ll(n),{args:r,keys:i}=Zl(n);if(r.length===0)return Ke([],t);let o=new pe(hD(r,t,i?s=>Jl(i,s):rn));return e?o.pipe(Yl(e)):o}function hD(n,t,e=rn){return r=>{ty(t,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)ty(t,()=>{let d=Ke(n[l],t),p=!1;d.subscribe(ue(r,m=>{o[l]=m,p||(p=!0,a--),a||r.next(e(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function ty(n,t,e){n?Ut(e,n,t):t()}function ny(n,t,e,r,i,o,s,a){let l=[],d=0,p=0,m=!1,y=()=>{m&&!l.length&&!d&&t.complete()},v=C=>d<r?w(C):l.push(C),w=C=>{o&&t.next(C),d++;let x=!1;Qe(e(C,p++)).subscribe(ue(t,A=>{i?.(A),o?v(A):t.next(A)},()=>{x=!0},void 0,()=>{if(x)try{for(d--;l.length&&d<r;){let A=l.shift();s?Ut(t,s,()=>w(A)):w(A)}y()}catch(A){t.error(A)}}))};return n.subscribe(ue(t,v,()=>{m=!0,y()})),()=>{a?.()}}function rt(n,t,e=1/0){return te(t)?rt((r,i)=>J((o,s)=>t(r,o,i,s))(Qe(n(r,i))),e):(typeof t=="number"&&(e=t),ce((r,i)=>ny(r,i,n,e)))}function ip(n=1/0){return rt(rn,n)}function ry(){return ip(1)}function Kr(...n){return ry()(Ke(n,Wr(n)))}function Xl(n){return new pe(t=>{Qe(n()).subscribe(t)})}function $s(...n){let t=Ll(n),{args:e,keys:r}=Zl(n),i=new pe(o=>{let{length:s}=e;if(!s){o.complete();return}let a=new Array(s),l=s,d=s;for(let p=0;p<s;p++){let m=!1;Qe(e[p]).subscribe(ue(o,y=>{m||(m=!0,d--),a[p]=y},()=>l--,void 0,()=>{(!l||!m)&&(d||o.next(r?Jl(r,a):a),o.complete())}))}});return t?i.pipe(Yl(t)):i}function Mt(n,t){return ce((e,r)=>{let i=0;e.subscribe(ue(r,o=>n.call(t,o,i++)&&r.next(o)))})}function Yn(n){return ce((t,e)=>{let r=null,i=!1,o;r=t.subscribe(ue(e,void 0,void 0,s=>{o=Qe(n(s,Yn(n)(t))),r?(r.unsubscribe(),r=null,o.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(e))})}function iy(n,t,e,r,i){return(o,s)=>{let a=e,l=t,d=0;o.subscribe(ue(s,p=>{let m=d++;l=a?n(l,p,m):(a=!0,p),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function Yr(n,t){return te(t)?rt(n,t,1):rt(n,1)}function op(n,t=Bv){return ce((e,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let d=o;o=null,r.next(d)}};function l(){let d=s+n,p=t.now();if(p<d){i=this.schedule(void 0,d-p),r.add(i);return}a()}e.subscribe(ue(r,d=>{o=d,s=t.now(),i||(i=t.schedule(l,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function Zr(n){return ce((t,e)=>{let r=!1;t.subscribe(ue(e,i=>{r=!0,e.next(i)},()=>{r||e.next(n),e.complete()}))})}function on(n){return n<=0?()=>jt:ce((t,e)=>{let r=0;t.subscribe(ue(e,i=>{++r<=n&&(e.next(i),n<=r&&e.complete())}))})}function ec(n=mD){return ce((t,e)=>{let r=!1;t.subscribe(ue(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(n())))})}function mD(){return new vr}function yr(n){return ce((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function _r(n,t){let e=arguments.length>=2;return r=>r.pipe(n?Mt((i,o)=>n(i,o,r)):rn,on(1),e?Zr(t):ec(()=>new vr))}function Ao(n){return n<=0?()=>jt:ce((t,e)=>{let r=[];t.subscribe(ue(e,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function sp(n,t){let e=arguments.length>=2;return r=>r.pipe(n?Mt((i,o)=>n(i,o,r)):rn,Ao(1),e?Zr(t):ec(()=>new vr))}function ap(n,t){return ce(iy(n,t,arguments.length>=2,!0))}function cp(n={}){let{connector:t=()=>new We,resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,l,d=0,p=!1,m=!1,y=()=>{a?.unsubscribe(),a=void 0},v=()=>{y(),s=l=void 0,p=m=!1},w=()=>{let C=s;v(),C?.unsubscribe()};return ce((C,x)=>{d++,!m&&!p&&y();let A=l=l??t();x.add(()=>{d--,d===0&&!m&&!p&&(a=lp(w,i))}),A.subscribe(x),!s&&d>0&&(s=new gr({next:j=>A.next(j),error:j=>{m=!0,y(),a=lp(v,e,j),A.error(j)},complete:()=>{p=!0,y(),a=lp(v,r),A.complete()}}),Qe(C).subscribe(s))})(o)}}function lp(n,t,...e){if(t===!0){n();return}if(t===!1)return;let r=new gr({next:()=>{r.unsubscribe(),n()}});return Qe(t(...e)).subscribe(r)}function up(n){return Mt((t,e)=>n<=e)}function Hs(...n){let t=Wr(n);return ce((e,r)=>{(t?Kr(n,e,t):Kr(n,e)).subscribe(r)})}function sn(n,t){return ce((e,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();e.subscribe(ue(r,l=>{i?.unsubscribe();let d=0,p=o++;Qe(n(l,p)).subscribe(i=ue(r,m=>r.next(t?t(l,m,p,d++):m),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function zs(n){return ce((t,e)=>{Qe(n).subscribe(ue(e,()=>e.complete(),Us)),!e.closed&&t.subscribe(e)})}function Ye(n,t,e){let r=te(n)||t||e?{next:n,error:t,complete:e}:n;return r?ce((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ue(o,l=>{var d;(d=r.next)===null||d===void 0||d.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var d;a=!1,(d=r.error)===null||d===void 0||d.call(r,l),o.error(l)},()=>{var l,d;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):rn}var qy="https://g.co/ng/security#xss",k=class extends Error{code;constructor(t,e){super(Bc(t,e)),this.code=t}};function Bc(n,t){return`${`NG0${Math.abs(n)}`}${t?": "+t:""}`}var Gy=Symbol("InputSignalNode#UNSET"),gD=G(N({},Gf),{transformFn:void 0,applyValueToInputSignal(n,t){Tl(n,t)}});function Wy(n,t){let e=Object.create(gD);e.value=n,e.transformFn=t?.transform;function r(){if(Dl(e),e.value===Gy)throw new k(-950,!1);return e.value}return r[Vt]=e,r}function ia(n){return{toString:n}.toString()}var tc="__parameters__";function vD(n){return function(...e){if(n){let r=n(...e);for(let i in r)this[i]=r[i]}}}function Qy(n,t,e){return ia(()=>{let r=vD(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,d,p){let m=l.hasOwnProperty(tc)?l[tc]:Object.defineProperty(l,tc,{value:[]})[tc];for(;m.length<=p;)m.push(null);return(m[p]=m[p]||[]).push(s),l}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var br=globalThis;function Me(n){for(let t in n)if(n[t]===Me)return t;throw Error("Could not find renamed property on target object.")}function yD(n,t){for(let e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function kt(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(kt).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let t=n.toString();if(t==null)return""+t;let e=t.indexOf(`
`);return e===-1?t:t.substring(0,e)}function Ep(n,t){return n==null||n===""?t===null?"":t:t==null||t===""?n:n+" "+t}var _D=Me({__forward_ref__:Me});function wt(n){return n.__forward_ref__=wt,n.toString=function(){return kt(this())},n}function At(n){return Ky(n)?n():n}function Ky(n){return typeof n=="function"&&n.hasOwnProperty(_D)&&n.__forward_ref__===wt}function P(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function it(n){return{providers:n.providers||[],imports:n.imports||[]}}function $c(n){return oy(n,Zy)||oy(n,Jy)}function Yy(n){return $c(n)!==null}function oy(n,t){return n.hasOwnProperty(t)?n[t]:null}function bD(n){let t=n&&(n[Zy]||n[Jy]);return t||null}function sy(n){return n&&(n.hasOwnProperty(ay)||n.hasOwnProperty(wD))?n[ay]:null}var Zy=Me({\u0275prov:Me}),ay=Me({\u0275inj:Me}),Jy=Me({ngInjectableDef:Me}),wD=Me({ngInjectorDef:Me}),$=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,e){this._desc=t,this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=P({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Xy(n){return n&&!!n.\u0275providers}var CD=Me({\u0275cmp:Me}),ED=Me({\u0275dir:Me}),SD=Me({\u0275pipe:Me}),DD=Me({\u0275mod:Me}),pc=Me({\u0275fac:Me}),Qs=Me({__NG_ELEMENT_ID__:Me}),ly=Me({__NG_ENV_ID__:Me});function wr(n){return typeof n=="string"?n:n==null?"":String(n)}function xD(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():wr(n)}function ID(n,t){let e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new k(-200,n)}function Sh(n,t){throw new k(-201,!1)}var ae=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ae||{}),Sp;function e_(){return Sp}function Bt(n){let t=Sp;return Sp=n,t}function t_(n,t,e){let r=$c(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(e&ae.Optional)return null;if(t!==void 0)return t;Sh(n,"Injector")}var TD={},Ks=TD,Dp="__NG_DI_FLAG__",hc="ngTempTokenPath",MD="ngTokenPath",AD=/\n/gm,kD="\u0275",cy="__source",Ro;function ND(){return Ro}function Jr(n){let t=Ro;return Ro=n,t}function PD(n,t=ae.Default){if(Ro===void 0)throw new k(-203,!1);return Ro===null?t_(n,void 0,t):Ro.get(n,t&ae.Optional?null:void 0,t)}function F(n,t=ae.Default){return(e_()||PD)(At(n),t)}function M(n,t=ae.Default){return F(n,Hc(t))}function Hc(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function xp(n){let t=[];for(let e=0;e<n.length;e++){let r=At(n[e]);if(Array.isArray(r)){if(r.length===0)throw new k(900,!1);let i,o=ae.Default;for(let s=0;s<r.length;s++){let a=r[s],l=OD(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}t.push(F(i,o))}else t.push(F(r))}return t}function n_(n,t){return n[Dp]=t,n.prototype[Dp]=t,n}function OD(n){return n[Dp]}function RD(n,t,e,r){let i=n[hc];throw t[cy]&&i.unshift(t[cy]),n.message=FD(`
`+n.message,i,e,r),n[MD]=i,n[hc]=null,n}function FD(n,t,e,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==kD?n.slice(2):n;let i=kt(t);if(Array.isArray(t))i=t.map(kt).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):kt(a)))}i=`{${o.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${n.replace(AD,`
  `)}`}var zc=n_(Qy("Optional"),8);var Dh=n_(Qy("SkipSelf"),4);function Mi(n,t){let e=n.hasOwnProperty(pc);return e?n[pc]:null}function xh(n,t){n.forEach(e=>Array.isArray(e)?xh(e,t):t(e))}function r_(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function mc(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function LD(n,t){let e=[];for(let r=0;r<n;r++)e.push(t);return e}function VD(n,t,e,r){let i=n.length;if(i==t)n.push(e,r);else if(i===1)n.push(r,n[0]),n[0]=e;else{for(i--,n.push(n[i-1],n[i]);i>t;){let o=i-2;n[i]=n[o],i--}n[t]=e,n[t+1]=r}}function Ih(n,t,e){let r=oa(n,t);return r>=0?n[r|1]=e:(r=~r,VD(n,r,t,e)),r}function dp(n,t){let e=oa(n,t);if(e>=0)return n[e|1]}function oa(n,t){return jD(n,t,1)}function jD(n,t,e){let r=0,i=n.length>>e;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<e];if(t===s)return o<<e;s>t?i=o:r=o+1}return~(i<<e)}var Lo={},$t=[],Vo=new $(""),i_=new $("",-1),o_=new $(""),gc=class{get(t,e=Ks){if(e===Ks){let r=new Error(`NullInjectorError: No provider for ${kt(t)}!`);throw r.name="NullInjectorError",r}return e}};function s_(n,t){let e=n[DD]||null;if(!e&&t===!0)throw new Error(`Type ${kt(n)} does not have '\u0275mod' property.`);return e}function Ai(n){return n[CD]||null}function a_(n){return n[ED]||null}function l_(n){return n[SD]||null}function c_(n){let t=Ai(n)||a_(n)||l_(n);return t!==null&&t.standalone}function Go(n){return{\u0275providers:n}}function UD(...n){return{\u0275providers:u_(!0,n),\u0275fromNgModule:!0}}function u_(n,...t){let e=[],r=new Set,i,o=s=>{e.push(s)};return xh(t,s=>{let a=s;Ip(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&d_(i,o),e}function d_(n,t){for(let e=0;e<n.length;e++){let{ngModule:r,providers:i}=n[e];Th(i,o=>{t(o,r)})}}function Ip(n,t,e,r){if(n=At(n),!n)return!1;let i=null,o=sy(n),s=!o&&Ai(n);if(!o&&!s){let l=n.ngModule;if(o=sy(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let d of l)Ip(d,t,e,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let d;try{xh(o.imports,p=>{Ip(p,t,e,r)&&(d||=[],d.push(p))})}finally{}d!==void 0&&d_(d,t)}if(!a){let d=Mi(i)||(()=>new i);t({provide:i,useFactory:d,deps:$t},i),t({provide:o_,useValue:i,multi:!0},i),t({provide:Vo,useValue:()=>F(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let d=n;Th(l,p=>{t(p,d)})}}else return!1;return i!==n&&n.providers!==void 0}function Th(n,t){for(let e of n)Xy(e)&&(e=e.\u0275providers),Array.isArray(e)?Th(e,t):t(e)}var BD=Me({provide:String,useValue:Me});function f_(n){return n!==null&&typeof n=="object"&&BD in n}function $D(n){return!!(n&&n.useExisting)}function HD(n){return!!(n&&n.useFactory)}function jo(n){return typeof n=="function"}function zD(n){return!!n.useClass}var qc=new $(""),ac={},qD={},fp;function Mh(){return fp===void 0&&(fp=new gc),fp}var Ht=class{},Ys=class extends Ht{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,e,r,i){super(),this.parent=e,this.source=r,this.scopes=i,Mp(t,s=>this.processProvider(s)),this.records.set(i_,ko(void 0,this)),i.has("environment")&&this.records.set(Ht,ko(void 0,this));let o=this.records.get(qc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(o_,$t,ae.Self))}destroy(){Gs(this),this._destroyed=!0;let t=ve(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of e)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ve(t)}}onDestroy(t){return Gs(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Gs(this);let e=Jr(this),r=Bt(void 0),i;try{return t()}finally{Jr(e),Bt(r)}}get(t,e=Ks,r=ae.Default){if(Gs(this),t.hasOwnProperty(ly))return t[ly](this);r=Hc(r);let i,o=Jr(this),s=Bt(void 0);try{if(!(r&ae.SkipSelf)){let l=this.records.get(t);if(l===void 0){let d=YD(t)&&$c(t);d&&this.injectableDefInScope(d)?l=ko(Tp(t),ac):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l)}let a=r&ae.Self?Mh():this.parent;return e=r&ae.Optional&&e===Ks?null:e,a.get(t,e)}catch(a){if(a.name==="NullInjectorError"){if((a[hc]=a[hc]||[]).unshift(kt(t)),o)throw a;return RD(a,t,"R3InjectorError",this.source)}else throw a}finally{Bt(s),Jr(o)}}resolveInjectorInitializers(){let t=ve(null),e=Jr(this),r=Bt(void 0),i;try{let o=this.get(Vo,$t,ae.Self);for(let s of o)s()}finally{Jr(e),Bt(r),ve(t)}}toString(){let t=[],e=this.records;for(let r of e.keys())t.push(kt(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=At(t);let e=jo(t)?t:At(t&&t.provide),r=WD(t);if(!jo(t)&&t.multi===!0){let i=this.records.get(e);i||(i=ko(void 0,ac,!0),i.factory=()=>xp(i.multi),this.records.set(e,i)),e=t,i.multi.push(t)}this.records.set(e,r)}hydrate(t,e){let r=ve(null);try{return e.value===ac&&(e.value=qD,e.value=e.factory()),typeof e.value=="object"&&e.value&&KD(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{ve(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;let e=At(t.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){let e=this._onDestroyHooks.indexOf(t);e!==-1&&this._onDestroyHooks.splice(e,1)}};function Tp(n){let t=$c(n),e=t!==null?t.factory:Mi(n);if(e!==null)return e;if(n instanceof $)throw new k(204,!1);if(n instanceof Function)return GD(n);throw new k(204,!1)}function GD(n){if(n.length>0)throw new k(204,!1);let e=bD(n);return e!==null?()=>e.factory(n):()=>new n}function WD(n){if(f_(n))return ko(void 0,n.useValue);{let t=p_(n);return ko(t,ac)}}function p_(n,t,e){let r;if(jo(n)){let i=At(n);return Mi(i)||Tp(i)}else if(f_(n))r=()=>At(n.useValue);else if(HD(n))r=()=>n.useFactory(...xp(n.deps||[]));else if($D(n))r=()=>F(At(n.useExisting));else{let i=At(n&&(n.useClass||n.provide));if(QD(n))r=()=>new i(...xp(n.deps));else return Mi(i)||Tp(i)}return r}function Gs(n){if(n.destroyed)throw new k(205,!1)}function ko(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function QD(n){return!!n.deps}function KD(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function YD(n){return typeof n=="function"||typeof n=="object"&&n instanceof $}function Mp(n,t){for(let e of n)Array.isArray(e)?Mp(e,t):e&&Xy(e)?Mp(e.\u0275providers,t):t(e)}function ln(n,t){n instanceof Ys&&Gs(n);let e,r=Jr(n),i=Bt(void 0);try{return t()}finally{Jr(r),Bt(i)}}function h_(){return e_()!==void 0||ND()!=null}function Ah(n){if(!h_())throw new k(-203,!1)}function ZD(n){return typeof n=="function"}var Ir=0,ye=1,ee=2,Nt=3,Ln=4,qt=5,Zs=6,vc=7,En=8,Js=9,Cr=10,Ze=11,Xs=12,uy=13,Wo=14,Sn=15,Uo=16,No=17,Bo=18,Gc=19,m_=20,Xr=21,lc=22,ki=23,an=24,Pt=25,g_=1;var Ni=7,yc=8,_c=9,Cn=10;function ei(n){return Array.isArray(n)&&typeof n[g_]=="object"}function Tr(n){return Array.isArray(n)&&n[g_]===!0}function kh(n){return(n.flags&4)!==0}function Vi(n){return n.componentOffset>-1}function Wc(n){return(n.flags&1)===1}function Er(n){return!!n.template}function bc(n){return(n[ee]&512)!==0}function sa(n){return(n[ee]&256)===256}var Ap=class{previousValue;currentValue;firstChange;constructor(t,e,r){this.previousValue=t,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}};function v_(n,t,e,r){t!==null?t.applyValueToInputSignal(t,r):n[e]=r}var Vn=(()=>{let n=()=>y_;return n.ngInherit=!0,n})();function y_(n){return n.type.prototype.ngOnChanges&&(n.setInput=XD),JD}function JD(){let n=b_(this),t=n?.current;if(t){let e=n.previous;if(e===Lo)n.previous=t;else for(let r in t)e[r]=t[r];n.current=null,this.ngOnChanges(t)}}function XD(n,t,e,r,i){let o=this.declaredInputs[r],s=b_(n)||ex(n,{previous:Lo,current:null}),a=s.current||(s.current={}),l=s.previous,d=l[o];a[o]=new Ap(d&&d.currentValue,e,l===Lo),v_(n,t,i,e)}var __="__ngSimpleChanges__";function b_(n){return n[__]||null}function ex(n,t){return n[__]=t}var dy=null;var wn=function(n,t,e){dy?.(n,t,e)},tx="svg",nx="math";function Jn(n){for(;Array.isArray(n);)n=n[Ir];return n}function w_(n,t){return Jn(t[n])}function jn(n,t){return Jn(t[n.index])}function C_(n,t){return n.data[t]}function E_(n,t){return n[t]}function Xn(n,t){let e=t[n];return ei(e)?e:e[Ir]}function Nh(n){return(n[ee]&128)===128}function rx(n){return Tr(n[Nt])}function $o(n,t){return t==null?null:n[t]}function S_(n){n[No]=0}function Ph(n){n[ee]&1024||(n[ee]|=1024,Nh(n)&&aa(n))}function ix(n,t){for(;n>0;)t=t[Wo],n--;return t}function Qc(n){return!!(n[ee]&9216||n[an]?.dirty)}function kp(n){n[Cr].changeDetectionScheduler?.notify(9),n[ee]&64&&(n[ee]|=1024),Qc(n)&&aa(n)}function aa(n){n[Cr].changeDetectionScheduler?.notify(0);let t=Pi(n);for(;t!==null&&!(t[ee]&8192||(t[ee]|=8192,!Nh(t)));)t=Pi(t)}function D_(n,t){if(sa(n))throw new k(911,!1);n[Xr]===null&&(n[Xr]=[]),n[Xr].push(t)}function ox(n,t){if(n[Xr]===null)return;let e=n[Xr].indexOf(t);e!==-1&&n[Xr].splice(e,1)}function Pi(n){let t=n[Nt];return Tr(t)?t[Nt]:t}function sx(n){return n[vc]??=[]}function ax(n){return n.cleanup??=[]}var le={lFrame:O_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Np=!1;function lx(){return le.lFrame.elementDepthCount}function cx(){le.lFrame.elementDepthCount++}function ux(){le.lFrame.elementDepthCount--}function x_(){return le.bindingsEnabled}function I_(){return le.skipHydrationRootTNode!==null}function dx(n){return le.skipHydrationRootTNode===n}function fx(){le.skipHydrationRootTNode=null}function he(){return le.lFrame.lView}function ct(){return le.lFrame.tView}function I(n){return le.lFrame.contextLView=n,n[En]}function T(n){return le.lFrame.contextLView=null,n}function Ot(){let n=T_();for(;n!==null&&n.type===64;)n=n.parent;return n}function T_(){return le.lFrame.currentTNode}function px(){let n=le.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}function ji(n,t){let e=le.lFrame;e.currentTNode=n,e.isParent=t}function Oh(){return le.lFrame.isParent}function Rh(){le.lFrame.isParent=!1}function hx(){return le.lFrame.contextLView}function M_(){return Np}function wc(n){let t=Np;return Np=n,t}function Kc(){let n=le.lFrame,t=n.bindingRootIndex;return t===-1&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function A_(){return le.lFrame.bindingIndex}function mx(n){return le.lFrame.bindingIndex=n}function Yc(){return le.lFrame.bindingIndex++}function Zc(n){let t=le.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function gx(){return le.lFrame.inI18n}function vx(n,t){let e=le.lFrame;e.bindingIndex=e.bindingRootIndex=n,Pp(t)}function yx(){return le.lFrame.currentDirectiveIndex}function Pp(n){le.lFrame.currentDirectiveIndex=n}function _x(n){let t=le.lFrame.currentDirectiveIndex;return t===-1?null:n[t]}function k_(n){le.lFrame.currentQueryIndex=n}function bx(n){let t=n[ye];return t.type===2?t.declTNode:t.type===1?n[qt]:null}function N_(n,t,e){if(e&ae.SkipSelf){let i=t,o=n;for(;i=i.parent,i===null&&!(e&ae.Host);)if(i=bx(o),i===null||(o=o[Wo],i.type&10))break;if(i===null)return!1;t=i,n=o}let r=le.lFrame=P_();return r.currentTNode=t,r.lView=n,!0}function Fh(n){let t=P_(),e=n[ye];le.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function P_(){let n=le.lFrame,t=n===null?null:n.child;return t===null?O_(n):t}function O_(n){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=t),t}function R_(){let n=le.lFrame;return le.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var F_=R_;function Lh(){let n=R_();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function wx(n){return(le.lFrame.contextLView=ix(n,le.lFrame.contextLView))[En]}function Mr(){return le.lFrame.selectedIndex}function Oi(n){le.lFrame.selectedIndex=n}function Vh(){let n=le.lFrame;return C_(n.tView,n.selectedIndex)}function Cx(){return le.lFrame.currentNamespace}var L_=!0;function Jc(){return L_}function Xc(n){L_=n}function Ex(n,t,e){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=y_(t);(e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s)}i&&(e.preOrderHooks??=[]).push(0-n,i),o&&((e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o))}function eu(n,t){for(let e=t.directiveStart,r=t.directiveEnd;e<r;e++){let o=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:d,ngOnDestroy:p}=o;s&&(n.contentHooks??=[]).push(-e,s),a&&((n.contentHooks??=[]).push(e,a),(n.contentCheckHooks??=[]).push(e,a)),l&&(n.viewHooks??=[]).push(-e,l),d&&((n.viewHooks??=[]).push(e,d),(n.viewCheckHooks??=[]).push(e,d)),p!=null&&(n.destroyHooks??=[]).push(e,p)}}function cc(n,t,e){V_(n,t,3,e)}function uc(n,t,e,r){(n[ee]&3)===e&&V_(n,t,e,r)}function pp(n,t){let e=n[ee];(e&3)===t&&(e&=16383,e+=1,n[ee]=e)}function V_(n,t,e,r){let i=r!==void 0?n[No]&65535:0,o=r??-1,s=t.length-1,a=0;for(let l=i;l<s;l++)if(typeof t[l+1]=="number"){if(a=t[l],r!=null&&a>=r)break}else t[l]<0&&(n[No]+=65536),(a<o||o==-1)&&(Sx(n,e,t,l),n[No]=(n[No]&4294901760)+l+2),l++}function fy(n,t){wn(4,n,t);let e=ve(null);try{t.call(n)}finally{ve(e),wn(5,n,t)}}function Sx(n,t,e,r){let i=e[r]<0,o=e[r+1],s=i?-e[r]:e[r],a=n[s];i?n[ee]>>14<n[No]>>16&&(n[ee]&3)===t&&(n[ee]+=16384,fy(a,o)):fy(a,o)}var Fo=-1,Ri=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,e,r){this.factory=t,this.canSeeViewProviders=e,this.injectImpl=r}};function Dx(n){return n instanceof Ri}function xx(n){return(n.flags&8)!==0}function Ix(n){return(n.flags&16)!==0}function Tx(n,t,e){let r=0;for(;r<e.length;){let i=e[r];if(typeof i=="number"){if(i!==0)break;r++;let o=e[r++],s=e[r++],a=e[r++];n.setAttribute(t,s,a,o)}else{let o=i,s=e[++r];Mx(o)?n.setProperty(t,o,s):n.setAttribute(t,o,s),r++}}return r}function j_(n){return n===3||n===4||n===6}function Mx(n){return n.charCodeAt(0)===64}function Ho(n,t){if(!(t===null||t.length===0))if(n===null||n.length===0)n=t.slice();else{let e=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?e=i:e===0||(e===-1||e===2?py(n,e,i,null,t[++r]):py(n,e,i,null,null))}}return n}function py(n,t,e,r,i){let o=0,s=n.length;if(t===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===e){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,t),o=s+1),n.splice(o++,0,e),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}var hp={},Op=class{injector;parentInjector;constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,r){r=Hc(r);let i=this.injector.get(t,hp,r);return i!==hp||e===hp?i:this.parentInjector.get(t,e,r)}};function U_(n){return n!==Fo}function Cc(n){return n&32767}function Ax(n){return n>>16}function Ec(n,t){let e=Ax(n),r=t;for(;e>0;)r=r[Wo],e--;return r}var Rp=!0;function Sc(n){let t=Rp;return Rp=n,t}var kx=256,B_=kx-1,$_=5,Nx=0,Zn={};function Px(n,t,e){let r;typeof e=="string"?r=e.charCodeAt(0)||0:e.hasOwnProperty(Qs)&&(r=e[Qs]),r==null&&(r=e[Qs]=Nx++);let i=r&B_,o=1<<i;t.data[n+(i>>$_)]|=o}function Dc(n,t){let e=H_(n,t);if(e!==-1)return e;let r=t[ye];r.firstCreatePass&&(n.injectorIndex=t.length,mp(r.data,n),mp(t,null),mp(r.blueprint,null));let i=jh(n,t),o=n.injectorIndex;if(U_(i)){let s=Cc(i),a=Ec(i,t),l=a[ye].data;for(let d=0;d<8;d++)t[o+d]=a[s+d]|l[s+d]}return t[o+8]=i,o}function mp(n,t){n.push(0,0,0,0,0,0,0,0,t)}function H_(n,t){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||t[n.injectorIndex+8]===null?-1:n.injectorIndex}function jh(n,t){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let e=0,r=null,i=t;for(;i!==null;){if(r=Q_(i),r===null)return Fo;if(e++,i=i[Wo],r.injectorIndex!==-1)return r.injectorIndex|e<<16}return Fo}function Fp(n,t,e){Px(n,t,e)}function Ox(n,t){if(t==="class")return n.classes;if(t==="style")return n.styles;let e=n.attrs;if(e){let r=e.length,i=0;for(;i<r;){let o=e[i];if(j_(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof e[i]=="string";)i++;else{if(o===t)return e[i+1];i=i+2}}}return null}function z_(n,t,e){if(e&ae.Optional||n!==void 0)return n;Sh(t,"NodeInjector")}function q_(n,t,e,r){if(e&ae.Optional&&r===void 0&&(r=null),!(e&(ae.Self|ae.Host))){let i=n[Js],o=Bt(void 0);try{return i?i.get(t,r,e&ae.Optional):t_(t,r,e&ae.Optional)}finally{Bt(o)}}return z_(r,t,e)}function G_(n,t,e,r=ae.Default,i){if(n!==null){if(t[ee]&2048&&!(r&ae.Self)){let s=jx(n,t,e,r,Zn);if(s!==Zn)return s}let o=W_(n,t,e,r,Zn);if(o!==Zn)return o}return q_(t,e,r,i)}function W_(n,t,e,r,i){let o=Lx(e);if(typeof o=="function"){if(!N_(t,n,r))return r&ae.Host?z_(i,e,r):q_(t,e,r,i);try{let s;if(s=o(r),s==null&&!(r&ae.Optional))Sh(e);else return s}finally{F_()}}else if(typeof o=="number"){let s=null,a=H_(n,t),l=Fo,d=r&ae.Host?t[Sn][qt]:null;for((a===-1||r&ae.SkipSelf)&&(l=a===-1?jh(n,t):t[a+8],l===Fo||!my(r,!1)?a=-1:(s=t[ye],a=Cc(l),t=Ec(l,t)));a!==-1;){let p=t[ye];if(hy(o,a,p.data)){let m=Rx(a,t,e,s,r,d);if(m!==Zn)return m}l=t[a+8],l!==Fo&&my(r,t[ye].data[a+8]===d)&&hy(o,a,t)?(s=p,a=Cc(l),t=Ec(l,t)):a=-1}}return i}function Rx(n,t,e,r,i,o){let s=t[ye],a=s.data[n+8],l=r==null?Vi(a)&&Rp:r!=s&&(a.type&3)!==0,d=i&ae.Host&&o===a,p=Fx(a,s,e,l,d);return p!==null?xc(t,s,p,a):Zn}function Fx(n,t,e,r,i){let o=n.providerIndexes,s=t.data,a=o&1048575,l=n.directiveStart,d=n.directiveEnd,p=o>>20,m=r?a:a+p,y=i?a+p:d;for(let v=m;v<y;v++){let w=s[v];if(v<l&&e===w||v>=l&&w.type===e)return v}if(i){let v=s[l];if(v&&Er(v)&&v.type===e)return l}return null}function xc(n,t,e,r){let i=n[e],o=t.data;if(Dx(i)){let s=i;s.resolving&&ID(xD(o[e]));let a=Sc(s.canSeeViewProviders);s.resolving=!0;let l,d=s.injectImpl?Bt(s.injectImpl):null,p=N_(n,r,ae.Default);try{i=n[e]=s.factory(void 0,o,n,r),t.firstCreatePass&&e>=r.directiveStart&&Ex(e,o[e],t)}finally{d!==null&&Bt(d),Sc(a),s.resolving=!1,F_()}}return i}function Lx(n){if(typeof n=="string")return n.charCodeAt(0)||0;let t=n.hasOwnProperty(Qs)?n[Qs]:void 0;return typeof t=="number"?t>=0?t&B_:Vx:t}function hy(n,t,e){let r=1<<n;return!!(e[t+(n>>$_)]&r)}function my(n,t){return!(n&ae.Self)&&!(n&ae.Host&&t)}var Ti=class{_tNode;_lView;constructor(t,e){this._tNode=t,this._lView=e}get(t,e,r){return G_(this._tNode,this._lView,t,Hc(r),e)}};function Vx(){return new Ti(Ot(),he())}function Dn(n){return ia(()=>{let t=n.prototype.constructor,e=t[pc]||Lp(t),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[pc]||Lp(i);if(o&&o!==e)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Lp(n){return Ky(n)?()=>{let t=Lp(At(n));return t&&t()}:Mi(n)}function jx(n,t,e,r,i){let o=n,s=t;for(;o!==null&&s!==null&&s[ee]&2048&&!bc(s);){let a=W_(o,s,e,r|ae.Self,Zn);if(a!==Zn)return a;let l=o.parent;if(!l){let d=s[m_];if(d){let p=d.get(e,Zn,r);if(p!==Zn)return p}l=Q_(s),s=s[Wo]}o=l}return i}function Q_(n){let t=n[ye],e=t.type;return e===2?t.declTNode:e===1?n[qt]:null}function tu(n){return Ox(Ot(),n)}function gy(n,t=null,e=null,r){let i=K_(n,t,e,r);return i.resolveInjectorInitializers(),i}function K_(n,t=null,e=null,r,i=new Set){let o=[e||$t,UD(n)];return r=r||(typeof n=="object"?void 0:kt(n)),new Ys(o,t||Mh(),r||null,i)}var ht=class n{static THROW_IF_NOT_FOUND=Ks;static NULL=new gc;static create(t,e){if(Array.isArray(t))return gy({name:""},e,t,"");{let r=t.name??"";return gy({name:r},t.parent,t.providers,r)}}static \u0275prov=P({token:n,providedIn:"any",factory:()=>F(i_)});static __NG_ELEMENT_ID__=-1};var Ic=class{attributeName;constructor(t){this.attributeName=t}__NG_ELEMENT_ID__=()=>tu(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},Ux=new $("");Ux.__NG_ELEMENT_ID__=n=>{let t=Ot();if(t===null)throw new k(204,!1);if(t.type&2)return t.value;if(n&ae.Optional)return null;throw new k(204,!1)};var Y_=!1,Ui=(()=>{class n{static __NG_ELEMENT_ID__=Bx;static __NG_ENV_ID__=e=>e}return n})(),Tc=class extends Ui{_lView;constructor(t){super(),this._lView=t}onDestroy(t){return D_(this._lView,t),()=>ox(this._lView,t)}};function Bx(){return new Tc(he())}var ti=class{},nu=new $("",{providedIn:"root",factory:()=>!1});var Z_=new $(""),Uh=new $(""),Ar=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new pt(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=P({token:n,providedIn:"root",factory:()=>new n})}return n})();var Vp=class extends We{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,h_()&&(this.destroyRef=M(Ui,{optional:!0})??void 0,this.pendingTasks=M(Ar,{optional:!0})??void 0)}emit(t){let e=ve(null);try{super.next(t)}finally{ve(e)}}subscribe(t,e,r){let i=t,o=e||(()=>null),s=r;if(t&&typeof t=="object"){let l=t;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof Ue&&t.add(a),a}wrapInTimeout(t){return e=>{let r=this.pendingTasks?.add();setTimeout(()=>{t(e),r!==void 0&&this.pendingTasks?.remove(r)})}}},ne=Vp;function ea(...n){}function J_(n){let t,e;function r(){n=ea;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{n(),r()})),()=>r()}function vy(n){return queueMicrotask(()=>n()),()=>{n=ea}}var Bh="isAngularZone",Mc=Bh+"_ID",$x=0,Te=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ne(!1);onMicrotaskEmpty=new ne(!1);onStable=new ne(!1);onError=new ne(!1);constructor(t){let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Y_}=t;if(typeof Zone>"u")throw new k(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,qx(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Bh)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new k(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new k(909,!1)}run(t,e,r){return this._inner.run(t,e,r)}runTask(t,e,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,Hx,ea,ea);try{return o.runTask(s,e,r)}finally{o.cancelTask(s)}}runGuarded(t,e,r){return this._inner.runGuarded(t,e,r)}runOutsideAngular(t){return this._outer.run(t)}},Hx={};function $h(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function zx(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function t(){J_(()=>{n.callbackScheduled=!1,jp(n),n.isCheckStableRunning=!0,$h(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{t()}):n._outer.run(()=>{t()}),jp(n)}function qx(n){let t=()=>{zx(n)},e=$x++;n._inner=n._inner.fork({name:"angular",properties:{[Bh]:!0,[Mc]:e,[Mc+e]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(Gx(l))return r.invokeTask(o,s,a,l);try{return yy(n),r.invokeTask(o,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&t(),_y(n)}},onInvoke:(r,i,o,s,a,l,d)=>{try{return yy(n),r.invoke(o,s,a,l,d)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!Wx(l)&&t(),_y(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,jp(n),$h(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function jp(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function yy(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function _y(n){n._nesting--,$h(n)}var Ac=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ne;onMicrotaskEmpty=new ne;onStable=new ne;onError=new ne;run(t,e,r){return t.apply(e,r)}runGuarded(t,e,r){return t.apply(e,r)}runOutsideAngular(t){return t()}runTask(t,e,r,i){return t.apply(e,r)}};function Gx(n){return X_(n,"__ignore_ng_zone__")}function Wx(n){return X_(n,"__scheduler_tick__")}function X_(n,t){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[t]===!0}var zt=class{_console=console;handleError(t){this._console.error("ERROR",t)}},Qx=new $("",{providedIn:"root",factory:()=>{let n=M(Te),t=M(zt);return e=>n.runOutsideAngular(()=>t.handleError(e))}});function by(n,t){return Wy(n,t)}function Kx(n){return Wy(Gy,n)}var eb=(by.required=Kx,by);function Yx(){return ru(Ot(),he())}function ru(n,t){return new mt(jn(n,t))}var mt=(()=>{class n{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=Yx}return n})();var wy=new Set;function Un(n){wy.has(n)||(wy.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function Hh(n){return typeof n=="function"&&n[Vt]!==void 0}function ut(n,t){Un("NgSignals");let e=kv(n),r=e[Vt];return t?.equal&&(r.equal=t.equal),e.set=i=>Tl(r,i),e.update=i=>Nv(r,i),e.asReadonly=Zx.bind(e),e}function Zx(){let n=this[Vt];if(n.readonlyFn===void 0){let t=()=>this();t[Vt]=n,n.readonlyFn=t}return n.readonlyFn}function tb(n){return Hh(n)&&typeof n.set=="function"}function nb(n){return(n.flags&128)===128}var rb=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(rb||{}),ib=new Map,Jx=0;function Xx(){return Jx++}function eI(n){ib.set(n[Gc],n)}function Up(n){ib.delete(n[Gc])}var Cy="__ngContext__";function Bi(n,t){ei(t)?(n[Cy]=t[Gc],eI(t)):n[Cy]=t}function ob(n){return ab(n[Xs])}function sb(n){return ab(n[Ln])}function ab(n){for(;n!==null&&!Tr(n);)n=n[Ln];return n}var Bp;function lb(n){Bp=n}function tI(){if(Bp!==void 0)return Bp;if(typeof document<"u")return document;throw new k(210,!1)}var iu=new $("",{providedIn:"root",factory:()=>nI}),nI="ng",zh=new $(""),Ct=new $("",{providedIn:"platform",factory:()=>"unknown"});var ou=new $(""),la=new $("",{providedIn:"root",factory:()=>tI().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var rI="h",iI="b";var cb=!1,oI=new $("",{providedIn:"root",factory:()=>cb});var qh=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(qh||{}),Qo=new $("");var Po=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Po||{}),ub=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=P({token:n,providedIn:"root",factory:()=>new n})}return n})(),sI=[Po.EarlyRead,Po.Write,Po.MixedReadWrite,Po.Read],aI=(()=>{class n{ngZone=M(Te);scheduler=M(ti);errorHandler=M(zt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){M(Qo,{optional:!0})}execute(){this.executing=!0;for(let e of sI)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[e]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>r.hooks[e](r.pipelinedValue),r.snapshot))}catch(i){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(8),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(7))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}maybeTrace(e,r){return r?r.run(qh.AFTER_NEXT_RENDER,e):e()}static \u0275prov=P({token:n,providedIn:"root",factory:()=>new n})}return n})(),$p=class{impl;hooks;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,e,r,i,o=null){this.impl=t,this.hooks=e,this.once=r,this.snapshot=o,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function Gh(n,t){!t?.injector&&Ah(Gh);let e=t?.injector??M(ht);return Un("NgAfterRender"),cI(n,e,t,!1)}function lI(n,t){if(n instanceof Function){let e=[void 0,void 0,void 0,void 0];return e[t]=n,e}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function cI(n,t,e,r){let i=t.get(ub);i.impl??=t.get(aI);let o=t.get(Qo,null,{optional:!0}),s=e?.phase??Po.MixedReadWrite,a=e?.manualCleanup!==!0?t.get(Ui):null,l=new $p(i.impl,lI(n,s),r,a,o?.snapshot(null));return i.impl.register(l),l}var uI=()=>null;function db(n,t,e=!1){return uI(n,t,e)}function fb(n,t){let e=n.contentQueries;if(e!==null){let r=ve(null);try{for(let i=0;i<e.length;i+=2){let o=e[i],s=e[i+1];if(s!==-1){let a=n.data[s];k_(o),a.contentQueries(2,t[s],s)}}}finally{ve(r)}}}function Hp(n,t,e){k_(0);let r=ve(null);try{t(n,e)}finally{ve(r)}}function Wh(n,t,e){if(kh(t)){let r=ve(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let l=e[s];a.contentQueries(1,l,s)}}}finally{ve(r)}}}var er=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(er||{}),nc;function dI(){if(nc===void 0&&(nc=null,br.trustedTypes))try{nc=br.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return nc}function su(n){return dI()?.createHTML(n)||n}var rc;function fI(){if(rc===void 0&&(rc=null,br.trustedTypes))try{rc=br.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return rc}function Ey(n){return fI()?.createScriptURL(n)||n}var Sr=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${qy})`}},zp=class extends Sr{getTypeName(){return"HTML"}},qp=class extends Sr{getTypeName(){return"Style"}},Gp=class extends Sr{getTypeName(){return"Script"}},Wp=class extends Sr{getTypeName(){return"URL"}},Qp=class extends Sr{getTypeName(){return"ResourceURL"}};function Bn(n){return n instanceof Sr?n.changingThisBreaksApplicationSecurity:n}function oi(n,t){let e=pI(n);if(e!=null&&e!==t){if(e==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${qy})`)}return e===t}function pI(n){return n instanceof Sr&&n.getTypeName()||null}function pb(n){return new zp(n)}function hb(n){return new qp(n)}function mb(n){return new Gp(n)}function gb(n){return new Wp(n)}function vb(n){return new Qp(n)}function hI(n){let t=new Yp(n);return mI()?new Kp(t):t}var Kp=class{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{let e=new window.DOMParser().parseFromString(su(t),"text/html").body;return e===null?this.inertDocumentHelper.getInertBodyElement(t):(e.firstChild?.remove(),e)}catch{return null}}},Yp=class{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){let e=this.inertDocument.createElement("template");return e.innerHTML=su(t),e}};function mI(){try{return!!new window.DOMParser().parseFromString(su(""),"text/html")}catch{return!1}}var gI=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function au(n){return n=String(n),n.match(gI)?n:"unsafe:"+n}function kr(n){let t={};for(let e of n.split(","))t[e]=!0;return t}function ca(...n){let t={};for(let e of n)for(let r in e)e.hasOwnProperty(r)&&(t[r]=!0);return t}var yb=kr("area,br,col,hr,img,wbr"),_b=kr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),bb=kr("rp,rt"),vI=ca(bb,_b),yI=ca(_b,kr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),_I=ca(bb,kr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Sy=ca(yb,yI,_I,vI),wb=kr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),bI=kr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),wI=kr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),CI=ca(wb,bI,wI),EI=kr("script,style,template"),Zp=class{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let e=t.firstChild,r=!0,i=[];for(;e;){if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild){i.push(e),e=xI(e);continue}for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let o=DI(e);if(o){e=o;break}e=i.pop()}}return this.buf.join("")}startElement(t){let e=Dy(t).toLowerCase();if(!Sy.hasOwnProperty(e))return this.sanitizedSomething=!0,!EI.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);let r=t.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!CI.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;wb[a]&&(l=au(l)),this.buf.push(" ",s,'="',xy(l),'"')}return this.buf.push(">"),!0}endElement(t){let e=Dy(t).toLowerCase();Sy.hasOwnProperty(e)&&!yb.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(xy(t))}};function SI(n,t){return(n.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function DI(n){let t=n.nextSibling;if(t&&n!==t.previousSibling)throw Cb(t);return t}function xI(n){let t=n.firstChild;if(t&&SI(n,t))throw Cb(t);return t}function Dy(n){let t=n.nodeName;return typeof t=="string"?t:"FORM"}function Cb(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var II=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,TI=/([^\#-~ |!])/g;function xy(n){return n.replace(/&/g,"&amp;").replace(II,function(t){let e=t.charCodeAt(0),r=t.charCodeAt(1);return"&#"+((e-55296)*1024+(r-56320)+65536)+";"}).replace(TI,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var ic;function Eb(n,t){let e=null;try{ic=ic||hI(n);let r=t?String(t):"";e=ic.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=e.innerHTML,e=ic.getInertBodyElement(r)}while(r!==o);let a=new Zp().sanitizeChildren(Iy(e)||e);return su(a)}finally{if(e){let r=Iy(e)||e;for(;r.firstChild;)r.firstChild.remove()}}}function Iy(n){return"content"in n&&MI(n)?n.content:null}function MI(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var Et=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Et||{});function xn(n){let t=Db();return t?t.sanitize(Et.URL,n)||"":oi(n,"URL")?Bn(n):au(wr(n))}function Qh(n){let t=Db();if(t)return Ey(t.sanitize(Et.RESOURCE_URL,n)||"");if(oi(n,"ResourceURL"))return Ey(Bn(n));throw new k(904,!1)}function AI(n,t){return t==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||t==="href"&&(n==="base"||n==="link")?Qh:xn}function Sb(n,t,e){return AI(t,e)(n)}function Db(){let n=he();return n&&n[Cr].sanitizer}var kI=/^>|^->|<!--|-->|--!>|<!-$/g,NI=/(<|>)/g,PI="\u200B$1\u200B";function OI(n){return n.replace(kI,t=>t.replace(NI,PI))}function xb(n){return n.ownerDocument}function Ib(n){return n instanceof Function?n():n}var ni=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(ni||{});function RI(n,t,e){let r=n.length;for(;;){let i=n.indexOf(t,e);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}e=i+1}}var Tb="ng-template";function FI(n,t,e,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&RI(t[i+1].toLowerCase(),e,0)!==-1)return!0}else if(Kh(n))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===e)return!0}return!1}function Kh(n){return n.type===4&&n.value!==Tb}function LI(n,t,e){let r=n.type===4&&!e?Tb:n.value;return t===r}function VI(n,t,e){let r=4,i=n.attrs,o=i!==null?BI(i):0,s=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!s&&!Rn(r)&&!Rn(l))return!1;if(s&&Rn(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!LI(n,l,e)||l===""&&t.length===1){if(Rn(r))return!1;s=!0}}else if(r&8){if(i===null||!FI(n,i,l,e)){if(Rn(r))return!1;s=!0}}else{let d=t[++a],p=jI(l,i,Kh(n),e);if(p===-1){if(Rn(r))return!1;s=!0;continue}if(d!==""){let m;if(p>o?m="":m=i[p+1].toLowerCase(),r&2&&d!==m){if(Rn(r))return!1;s=!0}}}}return Rn(r)||s}function Rn(n){return(n&1)===0}function jI(n,t,e,r){if(t===null)return-1;let i=0;if(r||!e){let o=!1;for(;i<t.length;){let s=t[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return $I(t,n)}function Mb(n,t,e=!1){for(let r=0;r<t.length;r++)if(VI(n,t[r],e))return!0;return!1}function UI(n){let t=n.attrs;if(t!=null){let e=t.indexOf(5);if(!(e&1))return t[e+1]}return null}function BI(n){for(let t=0;t<n.length;t++){let e=n[t];if(j_(e))return t}return n.length}function $I(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){let r=n[e];if(typeof r=="number")return-1;if(r===t)return e;e++}return-1}function HI(n,t){e:for(let e=0;e<t.length;e++){let r=t[e];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function Ty(n,t){return n?":not("+t.trim()+")":t}function zI(n){let t=n[0],e=1,r=2,i="",o=!1;for(;e<n.length;){let s=n[e];if(typeof s=="string")if(r&2){let a=n[++e];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Rn(s)&&(t+=Ty(o,i),i=""),r=s,o=o||!Rn(r);e++}return i!==""&&(t+=Ty(o,i)),t}function qI(n){return n.map(zI).join(",")}function GI(n){let t=[],e=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&t.push(o,n[++r]):i===8&&e.push(o);else{if(!Rn(i))break;i=o}r++}return e.length&&t.push(1,...e),t}var Gt={};function WI(n,t){return n.createText(t)}function QI(n,t,e){n.setValue(t,e)}function KI(n,t){return n.createComment(OI(t))}function Ab(n,t,e){return n.createElement(t,e)}function kc(n,t,e,r,i){n.insertBefore(t,e,r,i)}function kb(n,t,e){n.appendChild(t,e)}function My(n,t,e,r,i){r!==null?kc(n,t,e,r,i):kb(n,t,e)}function YI(n,t,e){n.removeChild(null,t,e)}function ZI(n,t,e){n.setAttribute(t,"style",e)}function JI(n,t,e){e===""?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function Nb(n,t,e){let{mergedAttrs:r,classes:i,styles:o}=e;r!==null&&Tx(n,t,r),i!==null&&JI(n,t,i),o!==null&&ZI(n,t,o)}function h(n=1){Pb(ct(),he(),Mr()+n,!1)}function Pb(n,t,e,r){if(!r)if((t[ee]&3)===3){let o=n.preOrderCheckHooks;o!==null&&cc(t,o,e)}else{let o=n.preOrderHooks;o!==null&&uc(t,o,0,e)}Oi(e)}function D(n,t=ae.Default){let e=he();if(e===null)return F(n,t);let r=Ot();return G_(r,e,At(n),t)}function Ob(n,t,e,r,i,o){let s=ve(null);try{let a=null;i&ni.SignalBased&&(a=t[r][Vt]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&ni.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(t,o)),n.setInput!==null?n.setInput(t,a,o,e,r):v_(t,a,r,o)}finally{ve(s)}}function Yh(n,t,e,r,i,o,s,a,l,d,p){let m=t.blueprint.slice();return m[Ir]=i,m[ee]=r|4|128|8|64|1024,(d!==null||n&&n[ee]&2048)&&(m[ee]|=2048),S_(m),m[Nt]=m[Wo]=n,m[En]=e,m[Cr]=s||n&&n[Cr],m[Ze]=a||n&&n[Ze],m[Js]=l||n&&n[Js]||null,m[qt]=o,m[Gc]=Xx(),m[Zs]=p,m[m_]=d,m[Sn]=t.type==2?n[Sn]:m,m}function Rb(n,t,e,r){if(e===0)return-1;let i=t.length;for(let o=0;o<e;o++)t.push(r),n.blueprint.push(r),n.data.push(null);return i}function Fb(n,t,e,r,i){let o=Mr(),s=r&2;try{Oi(-1),s&&t.length>Pt&&Pb(n,t,Pt,!1),wn(s?2:0,i),e(r,i)}finally{Oi(o),wn(s?3:1,i)}}function Zh(n,t,e){x_()&&(Bi(jn(e,t),t),Lb(n,t,e))}function Lb(n,t,e){cT(n,t,e),(e.flags&64)===64&&uT(n,t,e)}function Jh(n,t,e=jn){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?e(t,n):n[s];n[i++]=a}}}function XI(n){let t=n.tView;return t===null||t.incompleteFirstPass?n.tView=Xh(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function Xh(n,t,e,r,i,o,s,a,l,d,p){let m=Pt+r,y=m+i,v=eT(m,y),w=typeof d=="function"?d():d;return v[ye]={type:n,blueprint:v,template:e,queries:null,viewQuery:a,declTNode:t,data:v.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:w,incompleteFirstPass:!1,ssrId:p}}function eT(n,t){let e=[];for(let r=0;r<t;r++)e.push(r<n?null:Gt);return e}function tT(n,t,e,r){let o=r.get(oI,cb)||e===er.ShadowDom,s=n.selectRootElement(t,o);return nT(s),s}function nT(n){rT(n)}var rT=()=>null;function Ay(n,t,e,r,i){for(let o in t){if(!t.hasOwnProperty(o))continue;let s=t[o];if(s===void 0)continue;r??={};let a,l=ni.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let d=o;if(i!==null){if(!i.hasOwnProperty(o))continue;d=i[o]}n===0?ky(r,e,d,a,l):ky(r,e,d,a)}return r}function ky(n,t,e,r,i){let o;n.hasOwnProperty(e)?(o=n[e]).push(t,r):o=n[e]=[t,r],i!==void 0&&o.push(i)}function iT(n,t,e){let r=t.directiveStart,i=t.directiveEnd,o=n.data,s=t.attrs,a=[],l=null,d=null;for(let p=r;p<i;p++){let m=o[p],y=e?e.get(m):null,v=y?y.inputs:null,w=y?y.outputs:null;l=Ay(0,m.inputs,p,l,v),d=Ay(1,m.outputs,p,d,w);let C=l!==null&&s!==null&&!Kh(t)?ET(l,p,s):null;a.push(C)}l!==null&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=d}function oT(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Vb(n,t,e,r,i,o,s,a){let l=jn(t,e),d=t.inputs,p;!a&&d!=null&&(p=d[r])?(nm(n,e,p,r,i),Vi(t)&&sT(e,t.index)):t.type&3?(r=oT(r),i=s!=null?s(i,t.value||"",r):i,o.setProperty(l,r,i)):t.type&12}function sT(n,t){let e=Xn(t,n);e[ee]&16||(e[ee]|=64)}function em(n,t,e,r){if(x_()){let i=r===null?null:{"":-1},o=fT(n,e);if(o!==null){let[s,a]=Ub(n,e,o);jb(n,t,e,s,i,a)}i&&hT(e,r,i)}e.mergedAttrs=Ho(e.mergedAttrs,e.attrs)}function jb(n,t,e,r,i,o){for(let d=0;d<r.length;d++)Fp(Dc(e,t),n,r[d].type);gT(e,n.data.length,r.length);for(let d=0;d<r.length;d++){let p=r[d];p.providersResolver&&p.providersResolver(p)}let s=!1,a=!1,l=Rb(n,t,r.length,null);for(let d=0;d<r.length;d++){let p=r[d];e.mergedAttrs=Ho(e.mergedAttrs,p.hostAttrs),vT(n,e,t,l,p),mT(l,p,i),p.contentQueries!==null&&(e.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(e.flags|=64);let m=p.type.prototype;!s&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),s=!0),!a&&(m.ngOnChanges||m.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),a=!0),l++}iT(n,e,o)}function aT(n,t,e,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~t.index;lT(s)!=a&&s.push(a),s.push(e,r,o)}}function lT(n){let t=n.length;for(;t>0;){let e=n[--t];if(typeof e=="number"&&e<0)return e}return 0}function cT(n,t,e){let r=e.directiveStart,i=e.directiveEnd;Vi(e)&&_T(t,e,n.data[r+e.componentOffset]),n.firstCreatePass||Dc(e,t);let o=e.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],l=xc(t,n,s,e);if(Bi(l,t),o!==null&&CT(t,s-r,l,a,e,o),Er(a)){let d=Xn(e.index,t);d[En]=xc(t,n,s,e)}}}function uT(n,t,e){let r=e.directiveStart,i=e.directiveEnd,o=e.index,s=yx();try{Oi(o);for(let a=r;a<i;a++){let l=n.data[a],d=t[a];Pp(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&dT(l,d)}}finally{Oi(-1),Pp(s)}}function dT(n,t){n.hostBindings!==null&&n.hostBindings(1,t)}function fT(n,t){let e=n.directiveRegistry,r=null;if(e)for(let i=0;i<e.length;i++){let o=e[i];Mb(t,o.selectors,!1)&&(r??=[],Er(o)?r.unshift(o):r.push(o))}return r}function Ub(n,t,e){let r=[],i=null;for(let o of e)o.findHostDirectiveDefs!==null&&(i??=new Map,o.findHostDirectiveDefs(o,r,i)),Er(o)&&(r.push(o),pT(n,t,r.length-1));return Vi(t)?r.push(...e.slice(1)):r.push(...e),[r,i]}function pT(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function hT(n,t,e){if(t){let r=n.localNames=[];for(let i=0;i<t.length;i+=2){let o=e[t[i+1]];if(o==null)throw new k(-301,!1);r.push(t[i],o)}}}function mT(n,t,e){if(e){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)e[t.exportAs[r]]=n;Er(t)&&(e[""]=n)}}function gT(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function vT(n,t,e,r,i){n.data[r]=i;let o=i.factory||(i.factory=Mi(i.type,!0)),s=new Ri(o,Er(i),D);n.blueprint[r]=s,e[r]=s,aT(n,t,r,Rb(n,e,i.hostVars,Gt),i)}function yT(n){let t=16;return n.signals?t=4096:n.onPush&&(t=64),t}function _T(n,t,e){let r=jn(t,n),i=XI(e),o=n[Cr].rendererFactory,s=tm(n,Yh(n,i,null,yT(e),r,t,null,o.createRenderer(r,e),null,null,null));return n[t.index]=s}function bT(n,t,e,r,i,o){let s=jn(n,t);wT(t[Ze],s,o,n.value,e,r,i)}function wT(n,t,e,r,i,o,s){if(o==null)n.removeAttribute(t,i,e);else{let a=s==null?wr(o):s(o,r||"",i);n.setAttribute(t,i,a,e)}}function CT(n,t,e,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],d=s[a++],p=s[a++],m=s[a++];Ob(r,e,l,d,p,m)}}function ET(n,t,e){let r=null,i=0;for(;i<e.length;){let o=e[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===t){r.push(o,s[a+1],s[a+2],e[i+1]);break}}i+=2}return r}function Bb(n,t,e,r){return[n,!0,0,t,null,r,null,e,null,null]}function tm(n,t){return n[Xs]?n[uy][Ln]=t:n[Xs]=t,n[uy]=t,t}function $b(n,t){let e=n[Js],r=e?e.get(zt,null):null;r&&r.handleError(t)}function nm(n,t,e,r,i){for(let o=0;o<e.length;){let s=e[o++],a=e[o++],l=e[o++],d=t[s],p=n.data[s];Ob(p,d,r,a,l,i)}}function ST(n,t){let e=Xn(t,n),r=e[ye];DT(r,e);let i=e[Ir];i!==null&&e[Zs]===null&&(e[Zs]=db(i,e[Js])),rm(r,e,e[En])}function DT(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}function rm(n,t,e){Fh(t);try{let r=n.viewQuery;r!==null&&Hp(1,r,e);let i=n.template;i!==null&&Fb(n,t,i,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),t[Bo]?.finishViewCreation(n),n.staticContentQueries&&fb(n,t),n.staticViewQueries&&Hp(2,n.viewQuery,e);let o=n.components;o!==null&&xT(t,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{t[ee]&=-5,Lh()}}function xT(n,t){for(let e=0;e<t.length;e++)ST(n,t[e])}var tr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(tr||{}),IT;function im(n,t){return IT(n,t)}function om(n){return(n.flags&32)===32}function Oo(n,t,e,r,i){if(r!=null){let o,s=!1;Tr(r)?o=r:ei(r)&&(s=!0,r=r[Ir]);let a=Jn(r);n===0&&e!==null?i==null?kb(t,e,a):kc(t,e,a,i||null,!0):n===1&&e!==null?kc(t,e,a,i||null,!0):n===2?YI(t,a,s):n===3&&t.destroyNode(a),o!=null&&VT(t,n,o,e,i)}}function TT(n,t){Hb(n,t),t[Ir]=null,t[qt]=null}function MT(n,t,e,r,i,o){r[Ir]=i,r[qt]=t,cu(n,r,e,1,i,o)}function Hb(n,t){t[Cr].changeDetectionScheduler?.notify(10),cu(n,t,t[Ze],2,null,null)}function AT(n){let t=n[Xs];if(!t)return gp(n[ye],n);for(;t;){let e=null;if(ei(t))e=t[Xs];else{let r=t[Cn];r&&(e=r)}if(!e){for(;t&&!t[Ln]&&t!==n;)ei(t)&&gp(t[ye],t),t=t[Nt];t===null&&(t=n),ei(t)&&gp(t[ye],t),e=t&&t[Ln]}t=e}}function kT(n,t,e,r){let i=Cn+r,o=e.length;r>0&&(e[i-1][Ln]=t),r<o-Cn?(t[Ln]=e[i],r_(e,Cn+r,t)):(e.push(t),t[Ln]=null),t[Nt]=e;let s=t[Uo];s!==null&&e!==s&&zb(s,t);let a=t[Bo];a!==null&&a.insertView(n),kp(t),t[ee]|=128}function zb(n,t){let e=n[_c],r=t[Nt];if(ei(r))n[ee]|=2;else{let i=r[Nt][Sn];t[Sn]!==i&&(n[ee]|=2)}e===null?n[_c]=[t]:e.push(t)}function sm(n,t){let e=n[_c],r=e.indexOf(t);e.splice(r,1)}function Jp(n,t){if(n.length<=Cn)return;let e=Cn+t,r=n[e];if(r){let i=r[Uo];i!==null&&i!==n&&sm(i,r),t>0&&(n[e-1][Ln]=r[Ln]);let o=mc(n,Cn+t);TT(r[ye],r);let s=o[Bo];s!==null&&s.detachView(o[ye]),r[Nt]=null,r[Ln]=null,r[ee]&=-129}return r}function qb(n,t){if(sa(t))return;let e=t[Ze];e.destroyNode&&cu(n,t,e,3,null,null),AT(t)}function gp(n,t){if(sa(t))return;let e=ve(null);try{t[ee]&=-129,t[ee]|=256,t[an]&&wo(t[an]),PT(n,t),NT(n,t),t[ye].type===1&&t[Ze].destroy();let r=t[Uo];if(r!==null&&Tr(t[Nt])){r!==t[Nt]&&sm(r,t);let i=t[Bo];i!==null&&i.detachView(n)}Up(t)}finally{ve(e)}}function NT(n,t){let e=n.cleanup,r=t[vc];if(e!==null)for(let s=0;s<e.length-1;s+=2)if(typeof e[s]=="string"){let a=e[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[e[s+1]];e[s].call(a)}r!==null&&(t[vc]=null);let i=t[Xr];if(i!==null){t[Xr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=t[ki];if(o!==null){t[ki]=null;for(let s of o)s.destroy()}}function PT(n,t){let e;if(n!=null&&(e=n.destroyHooks)!=null)for(let r=0;r<e.length;r+=2){let i=t[e[r]];if(!(i instanceof Ri)){let o=e[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];wn(4,a,l);try{l.call(a)}finally{wn(5,a,l)}}else{wn(4,i,o);try{o.call(i)}finally{wn(5,i,o)}}}}}function Gb(n,t,e){return OT(n,t.parent,e)}function OT(n,t,e){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return e[Ir];if(Vi(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===er.None||i===er.Emulated)return null}return jn(r,e)}function Wb(n,t,e){return FT(n,t,e)}function RT(n,t,e){return n.type&40?jn(n,e):null}var FT=RT,Ny;function lu(n,t,e,r){let i=Gb(n,r,t),o=t[Ze],s=r.parent||t[qt],a=Wb(s,r,t);if(i!=null)if(Array.isArray(e))for(let l=0;l<e.length;l++)My(o,i,e[l],a,!1);else My(o,i,e,a,!1);Ny!==void 0&&Ny(o,r,t,e,i)}function Ws(n,t){if(t!==null){let e=t.type;if(e&3)return jn(t,n);if(e&4)return Xp(-1,n[t.index]);if(e&8){let r=t.child;if(r!==null)return Ws(n,r);{let i=n[t.index];return Tr(i)?Xp(-1,i):Jn(i)}}else{if(e&128)return Ws(n,t.next);if(e&32)return im(t,n)()||Jn(n[t.index]);{let r=Qb(n,t);if(r!==null){if(Array.isArray(r))return r[0];let i=Pi(n[Sn]);return Ws(i,r)}else return Ws(n,t.next)}}}return null}function Qb(n,t){if(t!==null){let r=n[Sn][qt],i=t.projection;return r.projection[i]}return null}function Xp(n,t){let e=Cn+n+1;if(e<t.length){let r=t[e],i=r[ye].firstChild;if(i!==null)return Ws(r,i)}return t[Ni]}function am(n,t,e,r,i,o,s){for(;e!=null;){if(e.type===128){e=e.next;continue}let a=r[e.index],l=e.type;if(s&&t===0&&(a&&Bi(Jn(a),r),e.flags|=2),!om(e))if(l&8)am(n,t,e.child,r,i,o,!1),Oo(t,n,i,a,o);else if(l&32){let d=im(e,r),p;for(;p=d();)Oo(t,n,i,p,o);Oo(t,n,i,a,o)}else l&16?Kb(n,t,r,e,i,o):Oo(t,n,i,a,o);e=s?e.projectionNext:e.next}}function cu(n,t,e,r,i,o){am(e,r,n.firstChild,t,i,o,!1)}function LT(n,t,e){let r=t[Ze],i=Gb(n,e,t),o=e.parent||t[qt],s=Wb(o,e,t);Kb(r,0,t,e,i,s)}function Kb(n,t,e,r,i,o){let s=e[Sn],l=s[qt].projection[r.projection];if(Array.isArray(l))for(let d=0;d<l.length;d++){let p=l[d];Oo(t,n,i,p,o)}else{let d=l,p=s[Nt];nb(r)&&(d.flags|=128),am(n,t,d,p,i,o,!0)}}function VT(n,t,e,r,i){let o=e[Ni],s=Jn(e);o!==s&&Oo(t,n,r,o,i);for(let a=Cn;a<e.length;a++){let l=e[a];cu(l[ye],l,n,t,r,o)}}function jT(n,t,e,r,i){if(t)i?n.addClass(e,r):n.removeClass(e,r);else{let o=r.indexOf("-")===-1?void 0:tr.DashCase;i==null?n.removeStyle(e,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=tr.Important),n.setStyle(e,r,i,o))}}function Yb(n,t,e,r){let i=ve(null);try{let o=t.tView,a=n[ee]&4096?4096:16,l=Yh(n,o,e,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=n[t.index];l[Uo]=d;let p=n[Bo];return p!==null&&(l[Bo]=p.createEmbeddedView(o)),rm(o,l,e),l}finally{ve(i)}}function eh(n,t){return!t||t.firstChild===null||nb(n)}function Zb(n,t,e,r=!0){let i=t[ye];if(kT(i,t,n,e),r){let s=Xp(e,n),a=t[Ze],l=a.parentNode(n[Ni]);l!==null&&MT(i,n[qt],a,t,l,s)}let o=t[Zs];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Nc(n,t,e,r,i=!1){for(;e!==null;){if(e.type===128){e=i?e.projectionNext:e.next;continue}let o=t[e.index];o!==null&&r.push(Jn(o)),Tr(o)&&UT(o,r);let s=e.type;if(s&8)Nc(n,t,e.child,r);else if(s&32){let a=im(e,t),l;for(;l=a();)r.push(l)}else if(s&16){let a=Qb(t,e);if(Array.isArray(a))r.push(...a);else{let l=Pi(t[Sn]);Nc(l[ye],l,a,r,!0)}}e=i?e.projectionNext:e.next}return r}function UT(n,t){for(let e=Cn;e<n.length;e++){let r=n[e],i=r[ye].firstChild;i!==null&&Nc(r[ye],r,i,t)}n[Ni]!==n[Ir]&&t.push(n[Ni])}var Jb=[];function BT(n){return n[an]??$T(n)}function $T(n){let t=Jb.pop()??Object.create(zT);return t.lView=n,t}function HT(n){n.lView[an]!==n&&(n.lView=null,Jb.push(n))}var zT=G(N({},Ci),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{aa(n.lView)},consumerOnSignalRead(){this.lView[an]=this}});function qT(n){let t=n[an]??Object.create(GT);return t.lView=n,t}var GT=G(N({},Ci),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let t=Pi(n.lView);for(;t&&!Xb(t[ye]);)t=Pi(t);t&&Ph(t)},consumerOnSignalRead(){this.lView[an]=this}});function Xb(n){return n.type!==2}function ew(n){if(n[ki]===null)return;let t=!0;for(;t;){let e=!1;for(let r of n[ki])r.dirty&&(e=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=e&&!!(n[ee]&8192)}}var WT=100;function tw(n,t=!0,e=0){let i=n[Cr].rendererFactory,o=!1;o||i.begin?.();try{QT(n,e)}catch(s){throw t&&$b(n,s),s}finally{o||i.end?.()}}function QT(n,t){let e=M_();try{wc(!0),th(n,t);let r=0;for(;Qc(n);){if(r===WT)throw new k(103,!1);r++,th(n,1)}}finally{wc(e)}}function KT(n,t,e,r){if(sa(t))return;let i=t[ee],o=!1,s=!1;Fh(t);let a=!0,l=null,d=null;o||(Xb(n)?(d=BT(t),l=bo(d)):_v()===null?(a=!1,d=qT(t),l=bo(d)):t[an]&&(wo(t[an]),t[an]=null));try{S_(t),mx(n.bindingStartIndex),e!==null&&Fb(n,t,e,2,r);let p=(i&3)===3;if(!o)if(p){let v=n.preOrderCheckHooks;v!==null&&cc(t,v,null)}else{let v=n.preOrderHooks;v!==null&&uc(t,v,0,null),pp(t,0)}if(s||YT(t),ew(t),nw(t,0),n.contentQueries!==null&&fb(n,t),!o)if(p){let v=n.contentCheckHooks;v!==null&&cc(t,v)}else{let v=n.contentHooks;v!==null&&uc(t,v,1),pp(t,1)}JT(n,t);let m=n.components;m!==null&&iw(t,m,0);let y=n.viewQuery;if(y!==null&&Hp(2,y,r),!o)if(p){let v=n.viewCheckHooks;v!==null&&cc(t,v)}else{let v=n.viewHooks;v!==null&&uc(t,v,2),pp(t,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),t[lc]){for(let v of t[lc])v();t[lc]=null}o||(t[ee]&=-73)}catch(p){throw o||aa(t),p}finally{d!==null&&(Vs(d,l),a&&HT(d)),Lh()}}function nw(n,t){for(let e=ob(n);e!==null;e=sb(e))for(let r=Cn;r<e.length;r++){let i=e[r];rw(i,t)}}function YT(n){for(let t=ob(n);t!==null;t=sb(t)){if(!(t[ee]&2))continue;let e=t[_c];for(let r=0;r<e.length;r++){let i=e[r];Ph(i)}}}function ZT(n,t,e){let r=Xn(t,n);rw(r,e)}function rw(n,t){Nh(n)&&th(n,t)}function th(n,t){let r=n[ye],i=n[ee],o=n[an],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&js(o)),s||=!1,o&&(o.dirty=!1),n[ee]&=-9217,s)KT(r,n,r.template,n[En]);else if(i&8192){ew(n),nw(n,1);let a=r.components;a!==null&&iw(n,a,1)}}function iw(n,t,e){for(let r=0;r<t.length;r++)ZT(n,t[r],e)}function JT(n,t){let e=n.hostBindingOpCodes;if(e!==null)try{for(let r=0;r<e.length;r++){let i=e[r];if(i<0)Oi(~i);else{let o=i,s=e[++r],a=e[++r];vx(s,o);let l=t[o];wn(24,l),a(2,l),wn(25,l)}}}finally{Oi(-1)}}function lm(n,t){let e=M_()?64:1088;for(n[Cr].changeDetectionScheduler?.notify(t);n;){n[ee]|=e;let r=Pi(n);if(bc(n)&&!r)return n;n=r}return null}var Fi=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let t=this._lView,e=t[ye];return Nc(e,t,e.firstChild,[])}constructor(t,e,r=!0){this._lView=t,this._cdRefInjectingView=e,this.notifyErrorHandler=r}get context(){return this._lView[En]}get dirty(){return!!(this._lView[ee]&9280)||!!this._lView[an]?.dirty}set context(t){this._lView[En]=t}get destroyed(){return sa(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Nt];if(Tr(t)){let e=t[yc],r=e?e.indexOf(this):-1;r>-1&&(Jp(t,r),mc(e,r))}this._attachedToViewContainer=!1}qb(this._lView[ye],this._lView)}onDestroy(t){D_(this._lView,t)}markForCheck(){lm(this._cdRefInjectingView||this._lView,4)}markForRefresh(){Ph(this._cdRefInjectingView||this._lView)}detach(){this._lView[ee]&=-129}reattach(){kp(this._lView),this._lView[ee]|=128}detectChanges(){this._lView[ee]|=1024,tw(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new k(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=bc(this._lView),e=this._lView[Uo];e!==null&&!t&&sm(e,this._lView),Hb(this._lView[ye],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new k(902,!1);this._appRef=t;let e=bc(this._lView),r=this._lView[Uo];r!==null&&!e&&zb(r,this._lView),kp(this._lView)}},ua=(()=>{class n{static __NG_ELEMENT_ID__=tM}return n})(),XT=ua,eM=class extends XT{_declarationLView;_declarationTContainer;elementRef;constructor(t,e,r){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,r){let i=Yb(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:e,dehydratedView:r});return new Fi(i)}};function tM(){return ow(Ot(),he())}function ow(n,t){return n.type&4?new eM(t,n,ru(n,t)):null}function Ko(n,t,e,r,i){let o=n.data[t];if(o===null)o=nM(n,t,e,r,i),gx()&&(o.flags|=32);else if(o.type&64){o.type=e,o.value=r,o.attrs=i;let s=px();o.injectorIndex=s===null?-1:s.injectorIndex}return ji(o,!0),o}function nM(n,t,e,r,i){let o=T_(),s=Oh(),a=s?o:o&&o.parent,l=n.data[t]=iM(n,a,e,t,r,i);return rM(n,l,o,s),l}function rM(n,t,e,r){n.firstChild===null&&(n.firstChild=t),e!==null&&(r?e.child==null&&t.parent!==null&&(e.child=t):e.next===null&&(e.next=t,t.prev=e))}function iM(n,t,e,r,i,o){let s=t?t.injectorIndex:-1,a=0;return I_()&&(a|=128),{type:e,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var a6=new RegExp(`^(\\d+)*(${iI}|${rI})*(.*)`);var oM=()=>null;function nh(n,t){return oM(n,t)}var rh=class{},Pc=class{},ih=class{resolveComponentFactory(t){throw Error(`No component factory found for ${kt(t)}.`)}},zo=class{static NULL=new ih},ri=class{},In=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>sM()}return n})();function sM(){let n=he(),t=Ot(),e=Xn(t.index,n);return(ei(e)?e:n)[Ze]}var aM=(()=>{class n{static \u0275prov=P({token:n,providedIn:"root",factory:()=>null})}return n})();function Oc(n,t,e){let r=e?n.styles:null,i=e?n.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=Ep(i,a);else if(o==2){let l=a,d=t[++s];r=Ep(r,l+": "+d+";")}}e?n.styles=r:n.stylesWithoutHost=r,e?n.classes=i:n.classesWithoutHost=i}var Rc=class extends zo{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let e=Ai(t);return new ta(e,this.ngModule)}};function Py(n,t){let e=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:ni.None;t?e.push({propName:s,templateName:r,isSignal:(a&ni.SignalBased)!==0}):e.push({propName:s,templateName:r})}return e}function lM(n){let t=n.toLowerCase();return t==="svg"?tx:t==="math"?nx:null}var ta=class extends Pc{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){let t=this.componentDef,e=t.inputTransforms,r=Py(t.inputs,!0);if(e!==null)for(let i of r)e.hasOwnProperty(i.propName)&&(i.transform=e[i.propName]);return r}get outputs(){return Py(this.componentDef.outputs,!1)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=qI(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!e}create(t,e,r,i){let o=ve(null);try{i=i||this.ngModule;let s=i instanceof Ht?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Op(t,s):t,l=a.get(ri,null);if(l===null)throw new k(407,!1);let d=a.get(aM,null),p=a.get(ti,null),m={rendererFactory:l,sanitizer:d,changeDetectionScheduler:p},y=l.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",w=r?tT(y,r,this.componentDef.encapsulation,a):Ab(y,v,lM(v)),C=512;this.componentDef.signals?C|=4096:this.componentDef.onPush||(C|=16);let x=null;w!==null&&(x=db(w,a,!0));let A=Xh(0,null,null,1,0,null,null,null,null,null,null),j=Yh(null,A,null,C,null,null,m,y,a,null,x);j[Pt]=w,Fh(j);let U=null;try{let q=r?["ng-version","19.1.4"]:GI(this.componentDef.selectors[0]),K=Ko(A,Pt,2,"#host",q),[De,Ie]=Ub(A,K,[this.componentDef]);jb(A,j,K,De,{},Ie);for(let qe of De)K.mergedAttrs=Ho(K.mergedAttrs,qe.hostAttrs);K.mergedAttrs=Ho(K.mergedAttrs,q),Oc(K,K.mergedAttrs,!0),w&&(Nb(y,w,K),Bi(w,j)),e!==void 0&&cM(K,this.ngContentSelectors,e),Lb(A,j,K),Wh(A,K,j),eu(A,K),U=Xn(K.index,j),j[En]=U[En],rm(A,j,null)}catch(q){throw U!==null&&Up(U),Up(j),q}finally{Lh()}return new oh(this.componentType,j)}finally{ve(o)}}},oh=class extends rh{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,e){super(),this._rootLView=e,this._tNode=C_(e[ye],Pt),this.location=ru(this._tNode,e),this.instance=Xn(this._tNode.index,e)[En],this.hostView=this.changeDetectorRef=new Fi(e,void 0,!1),this.componentType=t}setInput(t,e){let r=this._tNode.inputs,i;if(r!==null&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;let o=this._rootLView;nm(o[ye],o,i,t,e),this.previousInputValues.set(t,e);let s=Xn(this._tNode.index,o);lm(s,1)}}get injector(){return new Ti(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function cM(n,t,e){let r=n.projection=[];for(let i=0;i<t.length;i++){let o=e[i];r.push(o!=null&&o.length?Array.from(o):null)}}var $i=(()=>{class n{static __NG_ELEMENT_ID__=uM}return n})();function uM(){let n=Ot();return fM(n,he())}var dM=$i,sw=class extends dM{_lContainer;_hostTNode;_hostLView;constructor(t,e,r){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=r}get element(){return ru(this._hostTNode,this._hostLView)}get injector(){return new Ti(this._hostTNode,this._hostLView)}get parentInjector(){let t=jh(this._hostTNode,this._hostLView);if(U_(t)){let e=Ec(t,this._hostLView),r=Cc(t),i=e[ye].data[r+8];return new Ti(i,e)}else return new Ti(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let e=Oy(this._lContainer);return e!==null&&e[t]||null}get length(){return this._lContainer.length-Cn}createEmbeddedView(t,e,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=nh(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(e||{},o,s);return this.insertImpl(a,i,eh(this._hostTNode,s)),a}createComponent(t,e,r,i,o){let s=t&&!ZD(t),a;if(s)a=e;else{let w=e||{};a=w.index,r=w.injector,i=w.projectableNodes,o=w.environmentInjector||w.ngModuleRef}let l=s?t:new ta(Ai(t)),d=r||this.parentInjector;if(!o&&l.ngModule==null){let C=(s?d:this.parentInjector).get(Ht,null);C&&(o=C)}let p=Ai(l.componentType??{}),m=nh(this._lContainer,p?.id??null),y=m?.firstChild??null,v=l.create(d,i,y,o);return this.insertImpl(v.hostView,a,eh(this._hostTNode,m)),v}insert(t,e){return this.insertImpl(t,e,!0)}insertImpl(t,e,r){let i=t._lView;if(rx(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=i[Nt],d=new sw(l,l[qt],l[Nt]);d.detach(d.indexOf(t))}}let o=this._adjustIndex(e),s=this._lContainer;return Zb(s,i,o,r),t.attachToViewContainerRef(),r_(vp(s),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){let e=Oy(this._lContainer);return e!==null?e.indexOf(t):-1}remove(t){let e=this._adjustIndex(t,-1),r=Jp(this._lContainer,e);r&&(mc(vp(this._lContainer),e),qb(r[ye],r))}detach(t){let e=this._adjustIndex(t,-1),r=Jp(this._lContainer,e);return r&&mc(vp(this._lContainer),e)!=null?new Fi(r):null}_adjustIndex(t,e=0){return t??this.length+e}};function Oy(n){return n[yc]}function vp(n){return n[yc]||(n[yc]=[])}function fM(n,t){let e,r=t[n.index];return Tr(r)?e=r:(e=Bb(r,t,null,n),t[n.index]=e,tm(t,e)),hM(e,t,n,r),new sw(e,n,t)}function pM(n,t){let e=n[Ze],r=e.createComment(""),i=jn(t,n),o=e.parentNode(i);return kc(e,o,r,e.nextSibling(i),!1),r}var hM=vM,mM=()=>!1;function gM(n,t,e){return mM(n,t,e)}function vM(n,t,e,r){if(n[Ni])return;let i;e.type&8?i=Jn(r):i=pM(t,e),n[Ni]=i}var ii=class{},na=class{};var sh=class extends ii{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Rc(this);constructor(t,e,r,i=!0){super(),this.ngModuleType=t,this._parent=e;let o=s_(t);this._bootstrapComponents=Ib(o.bootstrap),this._r3Injector=K_(t,e,[{provide:ii,useValue:this},{provide:zo,useValue:this.componentFactoryResolver},...r],kt(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},ah=class extends na{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new sh(this.moduleType,t,[])}};var Fc=class extends ii{injector;componentFactoryResolver=new Rc(this);instance=null;constructor(t){super();let e=new Ys([...t.providers,{provide:ii,useValue:this},{provide:zo,useValue:this.componentFactoryResolver}],t.parent||Mh(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function cm(n,t,e=null){return new Fc({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}var yM=(()=>{class n{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let r=u_(!1,e.type),i=r.length>0?cm([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,i)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=P({token:n,providedIn:"environment",factory:()=>new n(F(Ht))})}return n})();function V(n){return ia(()=>{let t=aw(n),e=G(N({},t),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===rb.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(yM).getOrCreateStandaloneInjector(e):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||er.Emulated,styles:n.styles||$t,_:null,schemas:n.schemas||null,tView:null,id:""});t.standalone&&Un("NgStandalone"),lw(e);let r=n.dependencies;return e.directiveDefs=Fy(r,!1),e.pipeDefs=Fy(r,!0),e.id=wM(e),e})}function _M(n){return Ai(n)||a_(n)}function bM(n){return n!==null}function ot(n){return ia(()=>({type:n.type,bootstrap:n.bootstrap||$t,declarations:n.declarations||$t,imports:n.imports||$t,exports:n.exports||$t,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Ry(n,t){if(n==null)return Lo;let e={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=ni.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),t?(e[o]=a!==ni.None?[r,a]:r,t[o]=s):e[o]=r}return e}function ge(n){return ia(()=>{let t=aw(n);return lw(t),t})}function um(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function aw(n){let t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:n.inputs||Lo,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||$t,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ry(n.inputs,t),outputs:Ry(n.outputs),debugInfo:null}}function lw(n){n.features?.forEach(t=>t(n))}function Fy(n,t){if(!n)return null;let e=t?l_:_M;return()=>(typeof n=="function"?n():n).map(r=>e(r)).filter(bM)}function wM(n){let t=0,e=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,e,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function CM(n){return Object.getPrototypeOf(n.prototype).constructor}function dt(n){let t=CM(n.type),e=!0,r=[n];for(;t;){let i;if(Er(n))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new k(903,!1);i=t.\u0275dir}if(i){if(e){r.push(i);let s=n;s.inputs=oc(n.inputs),s.inputTransforms=oc(n.inputTransforms),s.declaredInputs=oc(n.declaredInputs),s.outputs=oc(n.outputs);let a=i.hostBindings;a&&IM(n,a);let l=i.viewQuery,d=i.contentQueries;if(l&&DM(n,l),d&&xM(n,d),EM(n,i),yD(n.outputs,i.outputs),Er(i)&&i.data.animation){let p=n.data;p.animation=(p.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===dt&&(e=!1)}}t=Object.getPrototypeOf(t)}SM(r)}function EM(n,t){for(let e in t.inputs){if(!t.inputs.hasOwnProperty(e)||n.inputs.hasOwnProperty(e))continue;let r=t.inputs[e];if(r!==void 0&&(n.inputs[e]=r,n.declaredInputs[e]=t.declaredInputs[e],t.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!t.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=t.inputTransforms[i]}}}function SM(n){let t=0,e=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Ho(i.hostAttrs,e=Ho(e,i.hostAttrs))}}function oc(n){return n===Lo?{}:n===$t?[]:n}function DM(n,t){let e=n.viewQuery;e?n.viewQuery=(r,i)=>{t(r,i),e(r,i)}:n.viewQuery=t}function xM(n,t){let e=n.contentQueries;e?n.contentQueries=(r,i,o)=>{t(r,i,o),e(r,i,o)}:n.contentQueries=t}function IM(n,t){let e=n.hostBindings;e?n.hostBindings=(r,i)=>{t(r,i),e(r,i)}:n.hostBindings=t}function Hi(n){let t=n.inputConfig,e={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r];Array.isArray(i)&&i[3]&&(e[r]=i[3])}n.inputTransforms=e}function cw(n){return dm(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function TM(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{let e=n[Symbol.iterator](),r;for(;!(r=e.next()).done;)t(r.value)}}function dm(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function fm(n,t,e){return n[t]=e}function MM(n,t){return n[t]}function Dr(n,t,e){let r=n[t];return Object.is(r,e)?!1:(n[t]=e,!0)}function pm(n,t,e,r){let i=Dr(n,t,e);return Dr(n,t+1,r)||i}function uw(n,t,e,r,i){let o=pm(n,t,e,r);return Dr(n,t+2,i)||o}function AM(n,t,e,r,i,o,s,a,l){let d=t.consts,p=Ko(t,n,4,s||null,a||null);em(t,e,p,$o(d,l)),eu(t,p);let m=p.tView=Xh(2,p,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,d,null);return t.queries!==null&&(t.queries.template(t,p),m.queries=t.queries.embeddedTView(p)),p}function dw(n,t,e,r,i,o,s,a,l,d){let p=e+Pt,m=t.firstCreatePass?AM(p,t,n,r,i,o,s,a,l):t.data[p];ji(m,!1);let y=kM(t,n,m,e);Jc()&&lu(t,n,y,m),Bi(y,n);let v=Bb(y,n,y,m);return n[p]=v,tm(n,v),gM(v,m,n),Wc(m)&&Zh(t,n,m),l!=null&&Jh(n,m,d),m}function E(n,t,e,r,i,o,s,a){let l=he(),d=ct(),p=$o(d.consts,o);return dw(l,d,n,t,e,r,i,p,s,a),E}var kM=NM;function NM(n,t,e,r){return Xc(!0),t[Ze].createComment("")}var hm=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var fw=new $("");function zi(n){return!!n&&typeof n.then=="function"}function pw(n){return!!n&&typeof n.subscribe=="function"}var hw=new $("");var mw=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,r)=>{this.resolve=e,this.reject=r});appInits=M(hw,{optional:!0})??[];injector=M(ht);constructor(){}runInitializers(){if(this.initialized)return;let e=[];for(let i of this.appInits){let o=ln(this.injector,i);if(zi(o))e.push(o);else if(pw(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),e.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),gw=(()=>{class n{static \u0275prov=P({token:n,providedIn:"root",factory:()=>new Lc})}return n})(),Lc=class{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){let e=t.zone,r=this.queues.get(e);r.has(t)&&(r.delete(t),this.queuedEffectCount--)}enqueue(t){let e=t.zone;this.queues.has(e)||this.queues.set(e,new Set);let r=this.queues.get(e);r.has(t)||(this.queuedEffectCount++,r.add(t))}flush(){for(;this.queuedEffectCount>0;)for(let[t,e]of this.queues)t===null?this.flushQueue(e):t.run(()=>this.flushQueue(e))}flushQueue(t){for(let e of t)t.delete(e),this.queuedEffectCount--,e.run()}},uu=new $("");function PM(){Av(()=>{throw new k(600,!1)})}function OM(n){return n.isBoundToModule}var RM=10;function FM(n,t,e){try{let r=e();return zi(r)?r.catch(i=>{throw t.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>n.handleError(r)),r}}var xr=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=M(Qx);afterRenderManager=M(ub);zonelessEnabled=M(nu);rootEffectScheduler=M(gw);dirtyFlags=0;deferredDirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new We;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=M(Ar).hasPendingTasks.pipe(J(e=>!e));constructor(){M(Qo,{optional:!0})}whenStable(){let e;return new Promise(r=>{e=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{e.unsubscribe()})}_injector=M(Ht);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,r){let i=e instanceof Pc;if(!this._injector.get(mw).done){let y=!i&&c_(e),v=!1;throw new k(405,v)}let s;i?s=e:s=this._injector.get(zo).resolveComponentFactory(e),this.componentTypes.push(s.componentType);let a=OM(s)?void 0:this._injector.get(ii),l=r||s.selector,d=s.create(ht.NULL,[],l,a),p=d.location.nativeElement,m=d.injector.get(fw,null);return m?.registerApplication(p),d.onDestroy(()=>{this.detachView(d.hostView),dc(this.components,d),m?.unregisterApplication(p)}),this._loadComponent(d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick=()=>{if(this.tracingSnapshot!==null){let r=this.tracingSnapshot;this.tracingSnapshot=null,r.run(qh.CHANGE_DETECTION,this._tick),r.dispose();return}if(this._runningTick)throw new k(101,!1);let e=ve(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,ve(e),this.afterTick.next()}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(ri,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let e=0;for(;this.dirtyFlags!==0&&e++<RM;)this.synchronizeOnce()}synchronizeOnce(){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let e=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)LM(r,i,e,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>Qc(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){let r=e;dc(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(uu,[]).forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>dc(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new k(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function dc(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function LM(n,t,e,r){if(!e&&!Qc(n))return;tw(n,t,e&&!r?0:1)}function nr(n,t,e,r){let i=he(),o=Yc();if(Dr(i,o,t)){let s=ct(),a=Vh();bT(a,i,n,t,e,r)}return nr}function VM(n,t,e,r){return Dr(n,Yc(),e)?t+wr(e)+r:Gt}function jM(n,t,e,r,i,o){let s=A_(),a=pm(n,s,e,i);return Zc(2),a?t+wr(e)+r+wr(i)+o:Gt}function UM(n,t,e,r,i,o,s,a){let l=A_(),d=uw(n,l,e,i,s);return Zc(3),d?t+wr(e)+r+wr(i)+o+wr(s)+a:Gt}function sc(n,t){return n<<17|t<<2}function Li(n){return n>>17&32767}function BM(n){return(n&2)==2}function $M(n,t){return n&131071|t<<17}function lh(n){return n|2}function qo(n){return(n&131068)>>2}function yp(n,t){return n&-131069|t<<2}function HM(n){return(n&1)===1}function ch(n){return n|1}function zM(n,t,e,r,i,o){let s=o?t.classBindings:t.styleBindings,a=Li(s),l=qo(s);n[r]=e;let d=!1,p;if(Array.isArray(e)){let m=e;p=m[1],(p===null||oa(m,p)>0)&&(d=!0)}else p=e;if(i)if(l!==0){let y=Li(n[a+1]);n[r+1]=sc(y,a),y!==0&&(n[y+1]=yp(n[y+1],r)),n[a+1]=$M(n[a+1],r)}else n[r+1]=sc(a,0),a!==0&&(n[a+1]=yp(n[a+1],r)),a=r;else n[r+1]=sc(l,0),a===0?a=r:n[l+1]=yp(n[l+1],r),l=r;d&&(n[r+1]=lh(n[r+1])),Ly(n,p,r,!0),Ly(n,p,r,!1),qM(t,p,n,r,o),s=sc(a,l),o?t.classBindings=s:t.styleBindings=s}function qM(n,t,e,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof t=="string"&&oa(o,t)>=0&&(e[r+1]=ch(e[r+1]))}function Ly(n,t,e,r){let i=n[e+1],o=t===null,s=r?Li(i):qo(i),a=!1;for(;s!==0&&(a===!1||o);){let l=n[s],d=n[s+1];GM(l,t)&&(a=!0,n[s+1]=r?ch(d):lh(d)),s=r?Li(d):qo(d)}a&&(n[e+1]=r?lh(i):ch(i))}function GM(n,t){return n===null||t==null||(Array.isArray(n)?n[1]:n)===t?!0:Array.isArray(n)&&typeof t=="string"?oa(n,t)>=0:!1}var Fn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function WM(n){return n.substring(Fn.key,Fn.keyEnd)}function QM(n){return KM(n),vw(n,yw(n,0,Fn.textEnd))}function vw(n,t){let e=Fn.textEnd;return e===t?-1:(t=Fn.keyEnd=YM(n,Fn.key=t,e),yw(n,t,e))}function KM(n){Fn.key=0,Fn.keyEnd=0,Fn.value=0,Fn.valueEnd=0,Fn.textEnd=n.length}function yw(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function YM(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}function g(n,t,e){let r=he(),i=Yc();if(Dr(r,i,t)){let o=ct(),s=Vh();Vb(o,s,r,n,t,r[Ze],e,!1)}return g}function uh(n,t,e,r,i){let o=t.inputs,s=i?"class":"style";nm(n,e,o[s],s,r)}function Rt(n,t,e){return _w(n,t,e,!1),Rt}function xe(n,t){return _w(n,t,null,!0),xe}function du(n){JM(iA,ZM,n,!0)}function ZM(n,t){for(let e=QM(t);e>=0;e=vw(t,e))Ih(n,WM(t),!0)}function _w(n,t,e,r){let i=he(),o=ct(),s=Zc(2);if(o.firstUpdatePass&&ww(o,n,s,r),t!==Gt&&Dr(i,s,t)){let a=o.data[Mr()];Cw(o,a,i,i[Ze],n,i[s+1]=sA(t,e),r,s)}}function JM(n,t,e,r){let i=ct(),o=Zc(2);i.firstUpdatePass&&ww(i,null,o,r);let s=he();if(e!==Gt&&Dr(s,o,e)){let a=i.data[Mr()];if(Ew(a,r)&&!bw(i,o)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(e=Ep(l,e||"")),uh(i,a,s,e,r)}else oA(i,a,s,s[Ze],s[o+1],s[o+1]=rA(n,t,e),r,o)}}function bw(n,t){return t>=n.expandoStartIndex}function ww(n,t,e,r){let i=n.data;if(i[e+1]===null){let o=i[Mr()],s=bw(n,e);Ew(o,r)&&t===null&&!s&&(t=!1),t=XM(i,o,t,r),zM(i,o,t,e,s,r)}}function XM(n,t,e,r){let i=_x(n),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(e=_p(null,n,t,e,r),e=ra(e,t.attrs,r),o=null);else{let s=t.directiveStylingLast;if(s===-1||n[s]!==i)if(e=_p(i,n,t,e,r),o===null){let l=eA(n,t,r);l!==void 0&&Array.isArray(l)&&(l=_p(null,n,t,l[1],r),l=ra(l,t.attrs,r),tA(n,t,r,l))}else o=nA(n,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),e}function eA(n,t,e){let r=e?t.classBindings:t.styleBindings;if(qo(r)!==0)return n[Li(r)]}function tA(n,t,e,r){let i=e?t.classBindings:t.styleBindings;n[Li(i)]=r}function nA(n,t,e){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=ra(r,s,e)}return ra(r,t.attrs,e)}function _p(n,t,e,r,i){let o=null,s=e.directiveEnd,a=e.directiveStylingLast;for(a===-1?a=e.directiveStart:a++;a<s&&(o=t[a],r=ra(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(e.directiveStylingLast=a),r}function ra(n,t,e){let r=e?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Ih(n,s,e?!0:t[++o]))}return n===void 0?null:n}function rA(n,t,e){if(e==null||e==="")return $t;let r=[],i=Bn(e);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&t(r,i);return r}function iA(n,t,e){let r=String(t);r!==""&&!r.includes(" ")&&Ih(n,r,e)}function oA(n,t,e,r,i,o,s,a){i===Gt&&(i=$t);let l=0,d=0,p=0<i.length?i[0]:null,m=0<o.length?o[0]:null;for(;p!==null||m!==null;){let y=l<i.length?i[l+1]:void 0,v=d<o.length?o[d+1]:void 0,w=null,C;p===m?(l+=2,d+=2,y!==v&&(w=m,C=v)):m===null||p!==null&&p<m?(l+=2,w=p):(d+=2,w=m,C=v),w!==null&&Cw(n,t,e,r,w,C,s,a),p=l<i.length?i[l]:null,m=d<o.length?o[d]:null}}function Cw(n,t,e,r,i,o,s,a){if(!(t.type&3))return;let l=n.data,d=l[a+1],p=HM(d)?Vy(l,t,e,i,qo(d),s):void 0;if(!Vc(p)){Vc(o)||BM(d)&&(o=Vy(l,null,e,i,a,s));let m=w_(Mr(),e);jT(r,s,m,i,o)}}function Vy(n,t,e,r,i,o){let s=t===null,a;for(;i>0;){let l=n[i],d=Array.isArray(l),p=d?l[1]:l,m=p===null,y=e[i+1];y===Gt&&(y=m?$t:void 0);let v=m?dp(y,r):p===r?y:void 0;if(d&&!Vc(v)&&(v=dp(l,r)),Vc(v)&&(a=v,s))return a;let w=n[i+1];i=s?Li(w):qo(w)}if(t!==null){let l=o?t.residualClasses:t.residualStyles;l!=null&&(a=dp(l,r))}return a}function Vc(n){return n!==void 0}function sA(n,t){return n==null||n===""||(typeof t=="string"?n=n+t:typeof n=="object"&&(n=kt(Bn(n)))),n}function Ew(n,t){return(n.flags&(t?8:16))!==0}function aA(n,t,e,r,i,o){let s=t.consts,a=$o(s,i),l=Ko(t,n,2,r,a);return em(t,e,l,$o(s,o)),l.attrs!==null&&Oc(l,l.attrs,!1),l.mergedAttrs!==null&&Oc(l,l.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,l),l}function u(n,t,e,r){let i=he(),o=ct(),s=Pt+n,a=i[Ze],l=o.firstCreatePass?aA(s,o,i,t,e,r):o.data[s],d=lA(o,i,l,a,t,n);i[s]=d;let p=Wc(l);return ji(l,!0),Nb(a,d,l),!om(l)&&Jc()&&lu(o,i,d,l),lx()===0&&Bi(d,i),cx(),p&&(Zh(o,i,l),Wh(o,l,i)),r!==null&&Jh(i,l),u}function c(){let n=Ot();Oh()?Rh():(n=n.parent,ji(n,!1));let t=n;dx(t)&&fx(),ux();let e=ct();return e.firstCreatePass&&(eu(e,n),kh(n)&&e.queries.elementEnd(n)),t.classesWithoutHost!=null&&xx(t)&&uh(e,t,he(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&Ix(t)&&uh(e,t,he(),t.stylesWithoutHost,!1),c}function _(n,t,e,r){return u(n,t,e,r),c(),_}var lA=(n,t,e,r,i,o)=>(Xc(!0),Ab(r,i,Cx()));function cA(n,t,e,r,i){let o=t.consts,s=$o(o,r),a=Ko(t,n,8,"ng-container",s);s!==null&&Oc(a,s,!0);let l=$o(o,i);return em(t,e,a,l),t.queries!==null&&t.queries.elementStart(t,a),a}function st(n,t,e){let r=he(),i=ct(),o=n+Pt,s=i.firstCreatePass?cA(o,i,r,t,e):i.data[o];ji(s,!0);let a=uA(i,r,s,n);return r[o]=a,Jc()&&lu(i,r,a,s),Bi(a,r),Wc(s)&&(Zh(i,r,s),Wh(i,s,r)),e!=null&&Jh(r,s),st}function at(){let n=Ot(),t=ct();return Oh()?Rh():(n=n.parent,ji(n,!1)),t.firstCreatePass&&(eu(t,n),kh(n)&&t.queries.elementEnd(n)),at}var uA=(n,t,e,r)=>(Xc(!0),KI(t[Ze],""));function Q(){return he()}var Ii=void 0;function dA(n){let t=n,e=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&r===0?1:5}var fA=["en",[["a","p"],["AM","PM"],Ii],[["AM","PM"],Ii,Ii],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ii,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ii,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ii,"{1} 'at' {0}",Ii],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",dA],bp={};function cn(n){let t=pA(n),e=jy(t);if(e)return e;let r=t.split("-")[0];if(e=jy(r),e)return e;if(r==="en")return fA;throw new k(701,!1)}function jy(n){return n in bp||(bp[n]=br.ng&&br.ng.common&&br.ng.common.locales&&br.ng.common.locales[n]),bp[n]}var Je=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Je||{});function pA(n){return n.toLowerCase().replace(/_/g,"-")}var jc="en-US";var hA=jc;function mA(n){typeof n=="string"&&(hA=n.toLowerCase().replace(/_/g,"-"))}var gA=(n,t,e)=>{};function S(n,t,e,r){let i=he(),o=ct(),s=Ot();return Sw(o,i,i[Ze],s,n,t,r),S}function vA(n,t,e,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===e&&i[o+1]===r){let a=t[vc],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function Sw(n,t,e,r,i,o,s){let a=Wc(r),d=n.firstCreatePass&&ax(n),p=t[En],m=sx(t),y=!0;if(r.type&3||s){let C=jn(r,t),x=s?s(C):C,A=m.length,j=s?q=>s(Jn(q[r.index])):r.index,U=null;if(!s&&a&&(U=vA(n,t,i,r.index)),U!==null){let q=U.__ngLastListenerFn__||U;q.__ngNextListenerFn__=o,U.__ngLastListenerFn__=o,y=!1}else{o=By(r,t,p,o),gA(C,i,o);let q=e.listen(x,i,o);m.push(o,q),d&&d.push(i,j,A,A+1)}}else o=By(r,t,p,o);let v=r.outputs,w;if(y&&v!==null&&(w=v[i])){let C=w.length;if(C)for(let x=0;x<C;x+=2){let A=w[x],j=w[x+1],K=t[A][j].subscribe(o),De=m.length;m.push(o,K),d&&d.push(i,r.index,De,-(De+1))}}}function Uy(n,t,e,r){let i=ve(null);try{return wn(6,t,e),e(r)!==!1}catch(o){return $b(n,o),!1}finally{wn(7,t,e),ve(i)}}function By(n,t,e,r){return function i(o){if(o===Function)return r;let s=Vi(n)?Xn(n.index,t):t;lm(s,5);let a=Uy(t,e,r,o),l=i.__ngNextListenerFn__;for(;l;)a=Uy(t,e,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function b(n=1){return wx(n)}function yA(n,t){let e=null,r=UI(n);for(let i=0;i<t.length;i++){let o=t[i];if(o==="*"){e=i;continue}if(r===null?Mb(n,o,!0):HI(r,o))return i}return e}function mm(n){let t=he()[Sn][qt];if(!t.projection){let e=n?n.length:1,r=t.projection=LD(e,null),i=r.slice(),o=t.child;for(;o!==null;){if(o.type!==128){let s=n?yA(o,n):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function gm(n,t=0,e,r,i,o){let s=he(),a=ct(),l=r?n+1:null;l!==null&&dw(s,a,l,r,i,o,null,e);let d=Ko(a,Pt+n,16,null,e||null);d.projection===null&&(d.projection=t),Rh();let m=!s[Zs]||I_();s[Sn][qt].projection[d.projection]===null&&l!==null?_A(s,a,l):m&&!om(d)&&LT(a,s,d)}function _A(n,t,e){let r=Pt+e,i=t.data[r],o=n[r],s=nh(o,i.tView.ssrId),a=Yb(n,i,void 0,{dehydratedView:s});Zb(o,a,0,eh(i,s))}function bA(n,t,e,r){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=r}function rr(n){let t=hx();return E_(t,Pt+n)}function f(n,t=""){let e=he(),r=ct(),i=n+Pt,o=r.firstCreatePass?Ko(r,i,1,t,null):r.data[i],s=wA(r,e,o,t,n);e[i]=s,Jc()&&lu(r,e,s,o),ji(o,!1)}var wA=(n,t,e,r,i)=>(Xc(!0),WI(t[Ze],r));function L(n){return O("",n,""),L}function O(n,t,e){let r=he(),i=VM(r,n,t,e);return i!==Gt&&ym(r,Mr(),i),O}function da(n,t,e,r,i){let o=he(),s=jM(o,n,t,e,r,i);return s!==Gt&&ym(o,Mr(),s),da}function vm(n,t,e,r,i,o,s){let a=he(),l=UM(a,n,t,e,r,i,o,s);return l!==Gt&&ym(a,Mr(),l),vm}function ym(n,t,e){let r=w_(t,n);QI(n[Ze],r,e)}function Oe(n,t,e){tb(t)&&(t=t());let r=he(),i=Yc();if(Dr(r,i,t)){let o=ct(),s=Vh();Vb(o,s,r,n,t,r[Ze],e,!1)}return Oe}function Be(n,t){let e=tb(n);return e&&n.set(t),e}function Re(n,t){let e=he(),r=ct(),i=Ot();return Sw(r,e,e[Ze],i,n,t),Re}function CA(n,t,e){let r=ct();if(r.firstCreatePass){let i=Er(n);dh(e,r.data,r.blueprint,i,!0),dh(t,r.data,r.blueprint,i,!1)}}function dh(n,t,e,r,i){if(n=At(n),Array.isArray(n))for(let o=0;o<n.length;o++)dh(n[o],t,e,r,i);else{let o=ct(),s=he(),a=Ot(),l=jo(n)?n:At(n.provide),d=p_(n),p=a.providerIndexes&1048575,m=a.directiveStart,y=a.providerIndexes>>20;if(jo(n)||!n.multi){let v=new Ri(d,i,D),w=Cp(l,t,i?p:p+y,m);w===-1?(Fp(Dc(a,s),o,l),wp(o,n,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),e.push(v),s.push(v)):(e[w]=v,s[w]=v)}else{let v=Cp(l,t,p+y,m),w=Cp(l,t,p,p+y),C=v>=0&&e[v],x=w>=0&&e[w];if(i&&!x||!i&&!C){Fp(Dc(a,s),o,l);let A=DA(i?SA:EA,e.length,i,r,d);!i&&x&&(e[w].providerFactory=A),wp(o,n,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),e.push(A),s.push(A)}else{let A=Dw(e[i?w:v],d,!i&&r);wp(o,n,v>-1?v:w,A)}!i&&r&&x&&e[w].componentProviders++}}}function wp(n,t,e,r){let i=jo(t),o=zD(t);if(i||o){let l=(o?At(t.useClass):t).prototype.ngOnDestroy;if(l){let d=n.destroyHooks||(n.destroyHooks=[]);if(!i&&t.multi){let p=d.indexOf(e);p===-1?d.push(e,[r,l]):d[p+1].push(r,l)}else d.push(e,l)}}}function Dw(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function Cp(n,t,e,r){for(let i=e;i<r;i++)if(t[i]===n)return i;return-1}function EA(n,t,e,r){return fh(this.multi,[])}function SA(n,t,e,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=xc(e,e[ye],this.providerFactory.index,r);o=a.slice(0,s),fh(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],fh(i,o);return o}function fh(n,t){for(let e=0;e<n.length;e++){let r=n[e];t.push(r())}return t}function DA(n,t,e,r,i){let o=new Ri(n,e,D);return o.multi=[],o.index=t,o.componentProviders=0,Dw(o,i,r&&!e),o}function St(n,t=[]){return e=>{e.providersResolver=(r,i)=>CA(r,i?i(n):n,t)}}function fu(n,t,e){let r=Kc()+n,i=he();return i[r]===Gt?fm(i,r,e?t.call(e):t()):MM(i,r)}function Dt(n,t,e,r,i){return Iw(he(),Kc(),n,t,e,r,i)}function qi(n,t,e,r,i,o){return xA(he(),Kc(),n,t,e,r,i,o)}function xw(n,t){let e=n[t];return e===Gt?void 0:e}function Iw(n,t,e,r,i,o,s){let a=t+e;return pm(n,a,i,o)?fm(n,a+2,s?r.call(s,i,o):r(i,o)):xw(n,a+2)}function xA(n,t,e,r,i,o,s,a){let l=t+e;return uw(n,l,i,o,s)?fm(n,l+3,a?r.call(a,i,o,s):r(i,o,s)):xw(n,l+3)}function Fe(n,t){let e=ct(),r,i=n+Pt;e.firstCreatePass?(r=IA(t,e.pipeRegistry),e.data[i]=r,r.onDestroy&&(e.destroyHooks??=[]).push(i,r.onDestroy)):r=e.data[i];let o=r.factory||(r.factory=Mi(r.type,!0)),s,a=Bt(D);try{let l=Sc(!1),d=o();return Sc(l),bA(e,he(),i,d),d}finally{Bt(a)}}function IA(n,t){if(t)for(let e=t.length-1;e>=0;e--){let r=t[e];if(n===r.name)return r}}function Le(n,t,e,r){let i=n+Pt,o=he(),s=E_(o,i);return TA(o,i)?Iw(o,Kc(),t,s.transform,e,r,s):s.transform(e,r)}function TA(n,t){return n[ye].data[t].pure}function Yo(n,t){return ow(n,t)}var ph=class{ngModuleFactory;componentFactories;constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}},_m=(()=>{class n{compileModuleSync(e){return new ah(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let r=this.compileModuleSync(e),i=s_(e),o=Ib(i.declarations).reduce((s,a)=>{let l=Ai(a);return l&&s.push(new ta(l)),s},[]);return new ph(r,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var MA=(()=>{class n{zone=M(Te);changeDetectionScheduler=M(ti);applicationRef=M(xr);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function AA({ngZoneFactory:n,ignoreChangesOutsideZone:t,scheduleInRootZone:e}){return n??=()=>new Te(G(N({},kA()),{scheduleInRootZone:e})),[{provide:Te,useFactory:n},{provide:Vo,multi:!0,useFactory:()=>{let r=M(MA,{optional:!0});return()=>r.initialize()}},{provide:Vo,multi:!0,useFactory:()=>{let r=M(NA);return()=>{r.initialize()}}},t===!0?{provide:Z_,useValue:!0}:[],{provide:Uh,useValue:e??Y_}]}function kA(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var NA=(()=>{class n{subscription=new Ue;initialized=!1;zone=M(Te);pendingTasks=M(Ar);initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Te.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Te.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Tw=(()=>{class n{appRef=M(xr);taskService=M(Ar);ngZone=M(Te);zonelessEnabled=M(nu);tracing=M(Qo,{optional:!0});disableScheduling=M(Z_,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ue;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Mc):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(M(Uh,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Ac||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;let r=!1;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 8:{this.appRef.deferredDirtyFlags|=8;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 13:{this.appRef.dirtyFlags|=16,r=!0;break}case 14:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{r=!0;break}case 10:case 9:case 7:case 11:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?vy:J_;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(e){return!(this.disableScheduling&&!e||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Mc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(e),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,vy(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Mw(){return Un("NgZoneless"),Go([{provide:ti,useExisting:Tw},{provide:Te,useClass:Ac},{provide:nu,useValue:!0},{provide:Uh,useValue:!1},[]])}function PA(){return typeof $localize<"u"&&$localize.locale||jc}var Zo=new $("",{providedIn:"root",factory:()=>M(Zo,ae.Optional|ae.SkipSelf)||PA()});var hh=new $(""),OA=new $("");function qs(n){return!n.moduleRef}function RA(n){let t=qs(n)?n.r3Injector:n.moduleRef.injector,e=t.get(Te);return e.run(()=>{qs(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=t.get(zt,null),i;if(e.runOutsideAngular(()=>{i=e.onError.subscribe({next:o=>{r.handleError(o)}})}),qs(n)){let o=()=>t.destroy(),s=n.platformInjector.get(hh);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(hh);s.add(o),n.moduleRef.onDestroy(()=>{dc(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return FM(r,e,()=>{let o=t.get(mw);return o.runInitializers(),o.donePromise.then(()=>{let s=t.get(Zo,jc);if(mA(s||jc),!t.get(OA,!0))return qs(n)?t.get(xr):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(qs(n)){let l=t.get(xr);return n.rootComponent!==void 0&&l.bootstrap(n.rootComponent),l}else return FA(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function FA(n,t){let e=n.injector.get(xr);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>e.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(e);else throw new k(-403,!1);t.push(n)}var fc=null;function LA(n=[],t){return ht.create({name:t,providers:[{provide:qc,useValue:"platform"},{provide:hh,useValue:new Set([()=>fc=null])},...n]})}function VA(n=[]){if(fc)return fc;let t=LA(n);return fc=t,PM(),jA(t),t}function jA(n){let t=n.get(zh,null);ln(n,()=>{t?.forEach(e=>e())})}var ie=(()=>{class n{static __NG_ELEMENT_ID__=UA}return n})();function UA(n){return BA(Ot(),he(),(n&16)===16)}function BA(n,t,e){if(Vi(n)&&!e){let r=Xn(n.index,t);return new Fi(r,r)}else if(n.type&175){let r=t[Sn];return new Fi(r,t)}return null}var mh=class{constructor(){}supports(t){return cw(t)}create(t){return new gh(t)}},$A=(n,t)=>t,gh=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||$A}forEachItem(t){let e;for(e=this._itHead;e!==null;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,r=this._removalsHead,i=0,o=null;for(;e||r;){let s=!r||e&&e.currentIndex<$y(r,i,o)?e:r,a=$y(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(e=e._next,s.previousIndex==null)i++;else{o||(o=[]);let d=a-i,p=l-i;if(d!=p){for(let y=0;y<d;y++){let v=y<o.length?o[y]:o[y]=0,w=v+y;p<=w&&w<d&&(o[y]=v+1)}let m=s.previousIndex;o[m]=p-d}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)t(e)}diff(t){if(t==null&&(t=[]),!cw(t))throw new k(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._itHead,r=!1,i,o,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,o,s,a),r=!0):(r&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)),e=e._next}else i=0,TM(t,a=>{s=this._trackByFn(i,a),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,a,s,i),r=!0):(r&&(e=this._verifyReinsertion(e,a,s,i)),Object.is(e.item,a)||this._addIdentityChange(e,a)),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,r,i){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,i)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,i),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,i)):t=this._addAfter(new vh(e,r),o,i)),t}_verifyReinsertion(t,e,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;t!==null;){let e=t._next;this._addToRemovals(this._unlink(t)),t=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let i=t._prevRemoved,o=t._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,e,r),this._addToMoves(t,r),t}_moveAfter(t,e,r){return this._unlink(t),this._insertAfter(t,e,r),this._addToMoves(t,r),t}_addAfter(t,e,r){return this._insertAfter(t,e,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,e,r){let i=e===null?this._itHead:e._next;return t._next=i,t._prev=e,i===null?this._itTail=t:i._prev=t,e===null?this._itHead=t:e._next=t,this._linkedRecords===null&&(this._linkedRecords=new Uc),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let e=t._prev,r=t._next;return e===null?this._itHead=r:e._next=r,r===null?this._itTail=e:r._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Uc),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},vh=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,e){this.item=t,this.trackById=e}},yh=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let r;for(r=this._head;r!==null;r=r._nextDup)if((e===null||e<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let e=t._prevDup,r=t._nextDup;return e===null?this._head=r:e._nextDup=r,r===null?this._tail=e:r._prevDup=e,this._head===null}},Uc=class{map=new Map;put(t){let e=t.trackById,r=this.map.get(e);r||(r=new yh,this.map.set(e,r)),r.add(t)}get(t,e){let r=t,i=this.map.get(r);return i?i.get(t,e):null}remove(t){let e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function $y(n,t,e){let r=n.previousIndex;if(r===null)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+t+i}var _h=class{constructor(){}supports(t){return t instanceof Map||dm(t)}create(){return new bh}},bh=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(t){let e;for(e=this._mapHead;e!==null;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;e!==null;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;e!==null;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)t(e)}diff(t){if(!t)t=new Map;else if(!(t instanceof Map||dm(t)))throw new k(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(e&&e.key===i)this._maybeAddToChanges(e,r),this._appendAfter=e,e=e._next;else{let o=this._getOrCreateRecordForKey(i,r);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let r=e;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){let r=t._prev;return e._next=t,e._prev=r,t._prev=e,r&&(r._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){let i=this._records.get(t);this._maybeAddToChanges(i,e);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new wh(t);return this._records.set(t,r),r.currentValue=e,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;t!==null;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;t!=null;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){this._additionsHead===null?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){this._changesHead===null?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(r=>e(t[r],r))}},wh=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(t){this.key=t}};function Hy(){return new bm([new mh])}var bm=(()=>{class n{factories;static \u0275prov=P({token:n,providedIn:"root",factory:Hy});constructor(e){this.factories=e}static create(e,r){if(r!=null){let i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||Hy()),deps:[[n,new Dh,new zc]]}}find(e){let r=this.factories.find(i=>i.supports(e));if(r!=null)return r;throw new k(901,!1)}}return n})();function zy(){return new wm([new _h])}var wm=(()=>{class n{static \u0275prov=P({token:n,providedIn:"root",factory:zy});factories;constructor(e){this.factories=e}static create(e,r){if(r){let i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||zy()),deps:[[n,new Dh,new zc]]}}find(e){let r=this.factories.find(i=>i.supports(e));if(r)return r;throw new k(901,!1)}}return n})();function Aw(n){try{let{rootComponent:t,appProviders:e,platformProviders:r}=n,i=VA(r),o=[AA({}),{provide:ti,useExisting:Tw},...e||[]],s=new Fc({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return RA({r3Injector:s.injector,platformInjector:i,rootComponent:t})}catch(t){return Promise.reject(t)}}function $n(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Hn(n,t){Un("NgSignals");let e=Iv(n);return t?.equal&&(e[Vt].equal=t.equal),e}function Nr(n){let t=ve(null);try{return n()}finally{ve(t)}}var kw=(()=>{class n{view;node;constructor(e,r){this.view=e,this.node=r}static __NG_ELEMENT_ID__=HA}return n})();function HA(){return new kw(he(),Ot())}var zA=!1,qA=(()=>{class n extends Lc{pendingTasks=M(Ar);taskId=null;schedule(e){super.schedule(e),this.taskId===null&&(this.taskId=this.pendingTasks.add(),queueMicrotask(()=>this.flush()))}flush(){try{super.flush()}finally{this.taskId!==null&&(this.pendingTasks.remove(this.taskId),this.taskId=null)}}static \u0275prov=P({token:n,providedIn:"root",factory:()=>new n})}return n})(),Ch=class{scheduler;effectFn;zone;injector;unregisterOnDestroy;watcher;constructor(t,e,r,i,o,s){this.scheduler=t,this.effectFn=e,this.zone=r,this.injector=o,this.watcher=Pv(a=>this.runEffect(a),()=>this.schedule(),s),this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}runEffect(t){try{this.effectFn(t)}catch(e){this.injector.get(zt,null,{optional:!0})?.handleError(e)}}run(){this.watcher.run()}schedule(){this.scheduler.schedule(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function GA(){}function WA(n,t){Un("NgSignals"),!t?.injector&&Ah(GA);let e=t?.injector??M(ht),r=t?.manualCleanup!==!0?e.get(Ui):null,i=new Ch(e.get(qA),n,typeof Zone>"u"?null:Zone.current,r,e,t?.allowSignalWrites??!1),o=e.get(ie,null,{optional:!0});return!o||!(o._lView[ee]&8)?i.watcher.notify():(o._lView[lc]??=[]).push(i.watcher.notify),i}var QA=zA;var Eh=class{[Vt];constructor(t){this[Vt]=t}destroy(){this[Vt].destroy()}};function Jo(n,t){if(QA)return WA(n,t);Un("NgSignals"),!t?.injector&&Ah(Jo);let e=t?.injector??M(ht),r=t?.manualCleanup!==!0?e.get(Ui):null,i,o=e.get(kw,null,{optional:!0}),s=e.get(ti);return o!==null&&!t?.forceRoot?(i=ZA(o.view,s,n),r instanceof Tc&&r._lView===o.view&&(r=null)):i=JA(n,e.get(gw),s),i.injector=e,r!==null&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new Eh(i)}var Nw=G(N({},Ci),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:ea,run(){if(this.dirty=!1,this.hasRun&&!js(this))return;this.hasRun=!0;let n=r=>(this.cleanupFns??=[]).push(r),t=bo(this),e=wc(!1);try{this.maybeCleanup(),this.fn(n)}finally{wc(e),Vs(this,t)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}}),KA=G(N({},Nw),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(13)},destroy(){wo(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),YA=G(N({},Nw),{consumerMarkedDirty(){this.view[ee]|=8192,aa(this.view),this.notifier.notify(14)},destroy(){wo(this),this.onDestroyFn(),this.maybeCleanup(),this.view[ki]?.delete(this)}});function ZA(n,t,e){let r=Object.create(YA);return r.view=n,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=t,r.fn=e,n[ki]??=new Set,n[ki].add(r),r.consumerMarkedDirty(r),r}function JA(n,t,e){let r=Object.create(KA);return r.fn=n,r.scheduler=t,r.notifier=e,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.schedule(r),r.notifier.notify(13),r}var Uw=null;function Fr(){return Uw}function Bw(n){Uw??=n}var wu=class{};var $e=new $(""),km=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:()=>M(XA),providedIn:"platform"})}return n})();var XA=(()=>{class n extends km{_location;_history;_doc=M($e);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Fr().getBaseHref(this._doc)}onPopState(e){let r=Fr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){let r=Fr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){this._history.pushState(e,r,i)}replaceState(e,r,i){this._history.replaceState(e,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Nm(n,t){return n?t?n.endsWith("/")?t.startsWith("/")?n+t.slice(1):n+t:t.startsWith("/")?n+t:`${n}/${t}`:n:t}function Pw(n){let t=n.match(/#|\?|$/),e=t&&t.index||n.length,r=e-(n[e-1]==="/"?1:0);return n.slice(0,r)+n.slice(e)}function Or(n){return n&&n[0]!=="?"?"?"+n:n}var si=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:()=>M(Hw),providedIn:"root"})}return n})(),$w=new $(""),Hw=(()=>{class n extends si{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??M($e).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Nm(this._baseHref,e)}path(e=!1){let r=this._platformLocation.pathname+Or(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,o){let s=this.prepareExternalUrl(i+Or(o));this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){let s=this.prepareExternalUrl(i+Or(o));this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||n)(F(km),F($w,8))};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zw=(()=>{class n extends si{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(e){let r=Nm(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,o){let s=this.prepareExternalUrl(i+Or(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){let s=this.prepareExternalUrl(i+Or(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||n)(F(km),F($w,8))};static \u0275prov=P({token:n,factory:n.\u0275fac})}return n})(),pa=(()=>{class n{_subject=new We;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let r=this._locationStrategy.getBaseHref();this._basePath=nk(Pw(Ow(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Or(r))}normalize(e){return n.stripTrailingSlash(tk(this._basePath,Ow(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Or(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Or(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Or;static joinWithSlash=Nm;static stripTrailingSlash=Pw;static \u0275fac=function(r){return new(r||n)(F(si))};static \u0275prov=P({token:n,factory:()=>ek(),providedIn:"root"})}return n})();function ek(){return new pa(F(si))}function tk(n,t){if(!n||!t.startsWith(n))return t;let e=t.substring(n.length);return e===""||["/",";","?","#"].includes(e[0])?e:t}function Ow(n){return n.replace(/\/index.html$/,"")}function nk(n){if(new RegExp("^(https?:)?//").test(n)){let[,e]=n.split(/\/\/[^\/]+/);return e}return n}var qw=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(qw||{});var Ft=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Ft||{}),Ae=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Ae||{}),un=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(un||{}),dn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function rk(n){return cn(n)[Je.LocaleId]}function ik(n,t,e){let r=cn(n),i=[r[Je.DayPeriodsFormat],r[Je.DayPeriodsStandalone]],o=Tn(i,t);return Tn(o,e)}function ok(n,t,e){let r=cn(n),i=[r[Je.DaysFormat],r[Je.DaysStandalone]],o=Tn(i,t);return Tn(o,e)}function sk(n,t,e){let r=cn(n),i=[r[Je.MonthsFormat],r[Je.MonthsStandalone]],o=Tn(i,t);return Tn(o,e)}function ak(n,t){let r=cn(n)[Je.Eras];return Tn(r,t)}function pu(n,t){let e=cn(n);return Tn(e[Je.DateFormat],t)}function hu(n,t){let e=cn(n);return Tn(e[Je.TimeFormat],t)}function mu(n,t){let r=cn(n)[Je.DateTimeFormat];return Tn(r,t)}function Rr(n,t){let e=cn(n),r=e[Je.NumberSymbols][t];if(typeof r>"u"){if(t===dn.CurrencyDecimal)return e[Je.NumberSymbols][dn.Decimal];if(t===dn.CurrencyGroup)return e[Je.NumberSymbols][dn.Group]}return r}function lk(n,t){return cn(n)[Je.NumberFormats][t]}function Gw(n){if(!n[Je.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Je.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ck(n){let t=cn(n);return Gw(t),(t[Je.ExtraData][2]||[]).map(r=>typeof r=="string"?Cm(r):[Cm(r[0]),Cm(r[1])])}function uk(n,t,e){let r=cn(n);Gw(r);let i=[r[Je.ExtraData][0],r[Je.ExtraData][1]],o=Tn(i,t)||[];return Tn(o,e)||[]}function Tn(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function Cm(n){let[t,e]=n.split(":");return{hours:+t,minutes:+e}}var dk=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,gu={},fk=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function pk(n,t,e,r){let i=Ck(n);t=Pr(e,t)||t;let s=[],a;for(;t;)if(a=fk.exec(t),a){s=s.concat(a.slice(1));let p=s.pop();if(!p)break;t=p}else{s.push(t);break}let l=i.getTimezoneOffset();r&&(l=Qw(r,l),i=wk(i,r,!0));let d="";return s.forEach(p=>{let m=_k(p);d+=m?m(i,e,l):p==="''"?"'":p.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),d}function Cu(n,t,e){let r=new Date(0);return r.setFullYear(n,t,e),r.setHours(0,0,0),r}function Pr(n,t){let e=rk(n);if(gu[e]??={},gu[e][t])return gu[e][t];let r="";switch(t){case"shortDate":r=pu(n,un.Short);break;case"mediumDate":r=pu(n,un.Medium);break;case"longDate":r=pu(n,un.Long);break;case"fullDate":r=pu(n,un.Full);break;case"shortTime":r=hu(n,un.Short);break;case"mediumTime":r=hu(n,un.Medium);break;case"longTime":r=hu(n,un.Long);break;case"fullTime":r=hu(n,un.Full);break;case"short":let i=Pr(n,"shortTime"),o=Pr(n,"shortDate");r=vu(mu(n,un.Short),[i,o]);break;case"medium":let s=Pr(n,"mediumTime"),a=Pr(n,"mediumDate");r=vu(mu(n,un.Medium),[s,a]);break;case"long":let l=Pr(n,"longTime"),d=Pr(n,"longDate");r=vu(mu(n,un.Long),[l,d]);break;case"full":let p=Pr(n,"fullTime"),m=Pr(n,"fullDate");r=vu(mu(n,un.Full),[p,m]);break}return r&&(gu[e][t]=r),r}function vu(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,r){return t!=null&&r in t?t[r]:e})),n}function zn(n,t,e="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=e));let s=String(n);for(;s.length<t;)s="0"+s;return r&&(s=s.slice(s.length-t)),o+s}function hk(n,t){return zn(n,3).substring(0,t)}function et(n,t,e=0,r=!1,i=!1){return function(o,s){let a=mk(n,o);if((e>0||a>-e)&&(a+=e),n===3)a===0&&e===-12&&(a=12);else if(n===6)return hk(a,t);let l=Rr(s,dn.MinusSign);return zn(a,t,l,r,i)}}function mk(n,t){switch(n){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate();case 3:return t.getHours();case 4:return t.getMinutes();case 5:return t.getSeconds();case 6:return t.getMilliseconds();case 7:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function Ne(n,t,e=Ft.Format,r=!1){return function(i,o){return gk(i,o,n,t,e,r)}}function gk(n,t,e,r,i,o){switch(e){case 2:return sk(t,i,r)[n.getMonth()];case 1:return ok(t,i,r)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let d=ck(t),p=uk(t,i,r),m=d.findIndex(y=>{if(Array.isArray(y)){let[v,w]=y,C=s>=v.hours&&a>=v.minutes,x=s<w.hours||s===w.hours&&a<w.minutes;if(v.hours<w.hours){if(C&&x)return!0}else if(C||x)return!0}else if(y.hours===s&&y.minutes===a)return!0;return!1});if(m!==-1)return p[m]}return ik(t,i,r)[s<12?0:1];case 3:return ak(t,r)[n.getFullYear()<=0?0:1];default:let l=e;throw new Error(`unexpected translation type ${l}`)}}function yu(n){return function(t,e,r){let i=-1*r,o=Rr(e,dn.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+zn(s,2,o)+zn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+zn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+zn(s,2,o)+":"+zn(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+zn(s,2,o)+":"+zn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}var vk=0,bu=4;function yk(n){let t=Cu(n,vk,1).getDay();return Cu(n,0,1+(t<=bu?bu:bu+7)-t)}function Ww(n){let t=n.getDay(),e=t===0?-3:bu-t;return Cu(n.getFullYear(),n.getMonth(),n.getDate()+e)}function Em(n,t=!1){return function(e,r){let i;if(t){let o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();i=1+Math.floor((s+o)/7)}else{let o=Ww(e),s=yk(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return zn(i,n,Rr(r,dn.MinusSign))}}function _u(n,t=!1){return function(e,r){let o=Ww(e).getFullYear();return zn(o,n,Rr(r,dn.MinusSign),t)}}var Sm={};function _k(n){if(Sm[n])return Sm[n];let t;switch(n){case"G":case"GG":case"GGG":t=Ne(3,Ae.Abbreviated);break;case"GGGG":t=Ne(3,Ae.Wide);break;case"GGGGG":t=Ne(3,Ae.Narrow);break;case"y":t=et(0,1,0,!1,!0);break;case"yy":t=et(0,2,0,!0,!0);break;case"yyy":t=et(0,3,0,!1,!0);break;case"yyyy":t=et(0,4,0,!1,!0);break;case"Y":t=_u(1);break;case"YY":t=_u(2,!0);break;case"YYY":t=_u(3);break;case"YYYY":t=_u(4);break;case"M":case"L":t=et(1,1,1);break;case"MM":case"LL":t=et(1,2,1);break;case"MMM":t=Ne(2,Ae.Abbreviated);break;case"MMMM":t=Ne(2,Ae.Wide);break;case"MMMMM":t=Ne(2,Ae.Narrow);break;case"LLL":t=Ne(2,Ae.Abbreviated,Ft.Standalone);break;case"LLLL":t=Ne(2,Ae.Wide,Ft.Standalone);break;case"LLLLL":t=Ne(2,Ae.Narrow,Ft.Standalone);break;case"w":t=Em(1);break;case"ww":t=Em(2);break;case"W":t=Em(1,!0);break;case"d":t=et(2,1);break;case"dd":t=et(2,2);break;case"c":case"cc":t=et(7,1);break;case"ccc":t=Ne(1,Ae.Abbreviated,Ft.Standalone);break;case"cccc":t=Ne(1,Ae.Wide,Ft.Standalone);break;case"ccccc":t=Ne(1,Ae.Narrow,Ft.Standalone);break;case"cccccc":t=Ne(1,Ae.Short,Ft.Standalone);break;case"E":case"EE":case"EEE":t=Ne(1,Ae.Abbreviated);break;case"EEEE":t=Ne(1,Ae.Wide);break;case"EEEEE":t=Ne(1,Ae.Narrow);break;case"EEEEEE":t=Ne(1,Ae.Short);break;case"a":case"aa":case"aaa":t=Ne(0,Ae.Abbreviated);break;case"aaaa":t=Ne(0,Ae.Wide);break;case"aaaaa":t=Ne(0,Ae.Narrow);break;case"b":case"bb":case"bbb":t=Ne(0,Ae.Abbreviated,Ft.Standalone,!0);break;case"bbbb":t=Ne(0,Ae.Wide,Ft.Standalone,!0);break;case"bbbbb":t=Ne(0,Ae.Narrow,Ft.Standalone,!0);break;case"B":case"BB":case"BBB":t=Ne(0,Ae.Abbreviated,Ft.Format,!0);break;case"BBBB":t=Ne(0,Ae.Wide,Ft.Format,!0);break;case"BBBBB":t=Ne(0,Ae.Narrow,Ft.Format,!0);break;case"h":t=et(3,1,-12);break;case"hh":t=et(3,2,-12);break;case"H":t=et(3,1);break;case"HH":t=et(3,2);break;case"m":t=et(4,1);break;case"mm":t=et(4,2);break;case"s":t=et(5,1);break;case"ss":t=et(5,2);break;case"S":t=et(6,1);break;case"SS":t=et(6,2);break;case"SSS":t=et(6,3);break;case"Z":case"ZZ":case"ZZZ":t=yu(0);break;case"ZZZZZ":t=yu(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=yu(1);break;case"OOOO":case"ZZZZ":case"zzzz":t=yu(2);break;default:return null}return Sm[n]=t,t}function Qw(n,t){n=n.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function bk(n,t){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+t),n}function wk(n,t,e){let r=e?-1:1,i=n.getTimezoneOffset(),o=Qw(t,i);return bk(n,r*(o-i))}function Ck(n){if(Rw(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return Cu(i,o-1,s)}let e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let r;if(r=n.match(dk))return Ek(r)}let t=new Date(n);if(!Rw(t))throw new Error(`Unable to convert "${n}" into a date`);return t}function Ek(n){let t=new Date(0),e=0,r=0,i=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-e,a=Number(n[5]||0)-r,l=Number(n[6]||0),d=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(t,s,a,l,d),t}function Rw(n){return n instanceof Date&&!isNaN(n.valueOf())}var Sk=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Fw=22,Eu=".",fa="0",Dk=";",xk=",",Dm="#";function Ik(n,t,e,r,i,o,s=!1){let a="",l=!1;if(!isFinite(n))a=Rr(e,dn.Infinity);else{let d=kk(n);s&&(d=Ak(d));let p=t.minInt,m=t.minFrac,y=t.maxFrac;if(o){let j=o.match(Sk);if(j===null)throw new Error(`${o} is not a valid digit info`);let U=j[1],q=j[3],K=j[5];U!=null&&(p=xm(U)),q!=null&&(m=xm(q)),K!=null?y=xm(K):q!=null&&m>y&&(y=m)}Nk(d,m,y);let v=d.digits,w=d.integerLen,C=d.exponent,x=[];for(l=v.every(j=>!j);w<p;w++)v.unshift(0);for(;w<0;w++)v.unshift(0);w>0?x=v.splice(w,v.length):(x=v,v=[0]);let A=[];for(v.length>=t.lgSize&&A.unshift(v.splice(-t.lgSize,v.length).join(""));v.length>t.gSize;)A.unshift(v.splice(-t.gSize,v.length).join(""));v.length&&A.unshift(v.join("")),a=A.join(Rr(e,r)),x.length&&(a+=Rr(e,i)+x.join("")),C&&(a+=Rr(e,dn.Exponential)+"+"+C)}return n<0&&!l?a=t.negPre+a+t.negSuf:a=t.posPre+a+t.posSuf,a}function Tk(n,t,e){let r=lk(t,qw.Decimal),i=Mk(r,Rr(t,dn.MinusSign));return Ik(n,i,t,dn.Group,dn.Decimal,e)}function Mk(n,t="-"){let e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(Dk),i=r[0],o=r[1],s=i.indexOf(Eu)!==-1?i.split(Eu):[i.substring(0,i.lastIndexOf(fa)+1),i.substring(i.lastIndexOf(fa)+1)],a=s[0],l=s[1]||"";e.posPre=a.substring(0,a.indexOf(Dm));for(let p=0;p<l.length;p++){let m=l.charAt(p);m===fa?e.minFrac=e.maxFrac=p+1:m===Dm?e.maxFrac=p+1:e.posSuf+=m}let d=a.split(xk);if(e.gSize=d[1]?d[1].length:0,e.lgSize=d[2]||d[1]?(d[2]||d[1]).length:0,o){let p=i.length-e.posPre.length-e.posSuf.length,m=o.indexOf(Dm);e.negPre=o.substring(0,m).replace(/'/g,""),e.negSuf=o.slice(m+p).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}function Ak(n){if(n.digits[0]===0)return n;let t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(t===0?n.digits.push(0,0):t===1&&n.digits.push(0),n.integerLen+=2),n}function kk(n){let t=Math.abs(n)+"",e=0,r,i,o,s,a;for((i=t.indexOf(Eu))>-1&&(t=t.replace(Eu,"")),(o=t.search(/e/i))>0?(i<0&&(i=o),i+=+t.slice(o+1),t=t.substring(0,o)):i<0&&(i=t.length),o=0;t.charAt(o)===fa;o++);if(o===(a=t.length))r=[0],i=1;else{for(a--;t.charAt(a)===fa;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(t.charAt(o))}return i>Fw&&(r=r.splice(0,Fw-1),e=i-1,i=1),{digits:r,exponent:e,integerLen:i}}function Nk(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let r=n.digits,i=r.length-n.integerLen,o=Math.min(Math.max(t,i),e),s=o+n.integerLen,a=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let m=s;m<r.length;m++)r[m]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let m=1;m<s;m++)r[m]=0}if(a>=5)if(s-1<0){for(let m=0;m>s;m--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let l=o!==0,d=t+n.integerLen,p=r.reduceRight(function(m,y,v,w){return y=y+m,w[v]=y<10?y:y-10,l&&(w[v]===0&&v>=d?w.pop():l=!1),y>=10?1:0},0);p&&(r.unshift(p),n.integerLen++)}function xm(n){let t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}function Du(n,t){t=encodeURIComponent(t);for(let e of n.split(";")){let r=e.indexOf("="),[i,o]=r==-1?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var Im=/\s+/,Lw=[],xt=(()=>{class n{_ngEl;_renderer;initialClasses=Lw;rawClass;stateMap=new Map;constructor(e,r){this._ngEl=e,this._renderer=r}set klass(e){this.initialClasses=e!=null?e.trim().split(Im):Lw}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(Im):e}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let r of e)this._updateState(r,!0);else if(e!=null)for(let r of Object.keys(e))this._updateState(r,!!e[r]);this._applyStateDiff()}_updateState(e,r){let i=this.stateMap.get(e);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let r=e[0],i=e[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(e,r){e=e.trim(),e.length>0&&e.split(Im).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(D(mt),D(In))};static \u0275dir=ge({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var Tm=class{$implicit;ngForOf;index;count;constructor(t,e,r,i){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},He=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let r=this._viewContainer;e.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Tm(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),Vw(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);Vw(o,i)})}static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||n)(D($i),D(ua),D(bm))};static \u0275dir=ge({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function Vw(n,t){n.context.$implicit=t.item}var Y=(()=>{class n{_viewContainer;_context=new Mm;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,r){this._viewContainer=e,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){jw("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){jw("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||n)(D($i),D(ua))};static \u0275dir=ge({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Mm=class{$implicit=null;ngIf=null};function jw(n,t){if(!!!(!t||t.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${kt(t)}'.`)}var Am=class{_viewContainerRef;_templateRef;_created=!1;constructor(t,e){this._viewContainerRef=t,this._templateRef=e}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}},Pm=(()=>{class n{_defaultViews=[];_defaultUsed=!1;_caseCount=0;_lastCaseCheckIndex=0;_lastCasesMatched=!1;_ngSwitch;set ngSwitch(e){this._ngSwitch=e,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){let r=e===this._ngSwitch;return this._lastCasesMatched||=r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(let r of this._defaultViews)r.enforceState(e)}}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ge({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}})}return n})(),Kw=(()=>{class n{ngSwitch;_view;ngSwitchCase;constructor(e,r,i){this.ngSwitch=i,i._addCase(),this._view=new Am(e,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static \u0275fac=function(r){return new(r||n)(D($i),D(ua),D(Pm,9))};static \u0275dir=ge({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}})}return n})();var Yw=(()=>{class n{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(e,r,i){this._ngEl=e,this._differs=r,this._renderer=i}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){let e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,r){let[i,o]=e.split("."),s=i.indexOf("-")===-1?void 0:tr.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(e){e.forEachRemovedItem(r=>this._setStyle(r.key,null)),e.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),e.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||n)(D(mt),D(wm),D(In))};static \u0275dir=ge({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return n})();function Zw(n,t){return new k(2100,!1)}var Pk="mediumDate",Ok=new $(""),Rk=new $(""),ir=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(e,r,i){this.locale=e,this.defaultTimezone=r,this.defaultOptions=i}transform(e,r,i,o){if(e==null||e===""||e!==e)return null;try{let s=r??this.defaultOptions?.dateFormat??Pk,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return pk(e,s,o||this.locale,a)}catch(s){throw Zw(n,s.message)}}static \u0275fac=function(r){return new(r||n)(D(Zo,16),D(Ok,24),D(Rk,24))};static \u0275pipe=um({name:"date",type:n,pure:!0})}return n})();var es=(()=>{class n{_locale;constructor(e){this._locale=e}transform(e,r,i){if(!Fk(e))return null;i||=this._locale;try{let o=Lk(e);return Tk(o,i,r)}catch(o){throw Zw(n,o.message)}}static \u0275fac=function(r){return new(r||n)(D(Zo,16))};static \u0275pipe=um({name:"number",type:n,pure:!0})}return n})();function Fk(n){return!(n==null||n===""||n!==n)}function Lk(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new Error(`${n} is not a number`);return n}var B=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ot({type:n});static \u0275inj=it({})}return n})(),Om="browser",Vk="server";function Mn(n){return n===Om}function Rm(n){return n===Vk}var Xo=class{};var ga=class{},va=class{},Lr=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let r=e.indexOf(":");if(r>0){let i=e.slice(0,r),o=e.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,r)=>{this.addHeaderEntry(r,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,r])=>{this.setHeaderEntries(e,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new n;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,e);let i=(t.op==="a"?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":let o=t.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let s=this.headers.get(e);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}break}}addHeaderEntry(t,e){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(e):this.headers.set(r,[e])}setHeaderEntries(t,e){let r=(Array.isArray(e)?e:[e]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var Vm=class{encodeKey(t){return Jw(t)}encodeValue(t){return Jw(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function Uk(n,t){let e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}var Bk=/%(\d[a-f0-9])/gi,$k={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Jw(n){return encodeURIComponent(n).replace(Bk,(t,e)=>$k[e]??t)}function xu(n){return`${n}`}var li=class n{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new Vm,t.fromString){if(t.fromObject)throw new k(2805,!1);this.map=Uk(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let r=t.fromObject[e],i=Array.isArray(r)?r.map(xu):[xu(r)];this.map.set(e,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(r=>{let i=t[r];Array.isArray(i)?i.forEach(o=>{e.push({param:r,value:o,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new n({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(xu(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],i=r.indexOf(xu(t.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var jm=class{map=new Map;set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function Hk(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Xw(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function eC(n){return typeof Blob<"u"&&n instanceof Blob}function tC(n){return typeof FormData<"u"&&n instanceof FormData}function zk(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var ha="Content-Type",Iu="Accept",$m="X-Request-URL",oC="text/plain",sC="application/json",aC=`${sC}, ${oC}, */*`,ma=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,e,r,i){this.url=e,this.method=t.toUpperCase();let o;if(Hk(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Lr,this.context??=new jm,!this.params)this.params=new li,this.urlWithParams=e;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=e;else{let a=e.indexOf("?"),l=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Xw(this.body)||eC(this.body)||tC(this.body)||zk(this.body)?this.body:this.body instanceof li?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||tC(this.body)?null:eC(this.body)?this.body.type||null:Xw(this.body)?null:typeof this.body=="string"?oC:this.body instanceof li?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?sC:null}clone(t={}){let e=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=t.transferCache??this.transferCache,s=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,d=t.headers||this.headers,p=t.params||this.params,m=t.context??this.context;return t.setHeaders!==void 0&&(d=Object.keys(t.setHeaders).reduce((y,v)=>y.set(v,t.setHeaders[v]),d)),t.setParams&&(p=Object.keys(t.setParams).reduce((y,v)=>y.set(v,t.setParams[v]),p)),new n(e,r,s,{params:p,headers:d,context:m,reportProgress:l,responseType:i,withCredentials:a,transferCache:o})}},ci=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(ci||{}),ya=class{headers;status;statusText;url;ok;type;constructor(t,e=200,r="OK"){this.headers=t.headers||new Lr,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},Tu=class n extends ya{constructor(t={}){super(t)}type=ci.ResponseHeader;clone(t={}){return new n({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},_a=class n extends ya{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=ci.Response;clone(t={}){return new n({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},ai=class extends ya{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},lC=200,qk=204;function Fm(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var Hm=(()=>{class n{handler;constructor(e){this.handler=e}request(e,r,i={}){let o;if(e instanceof ma)o=e;else{let l;i.headers instanceof Lr?l=i.headers:l=new Lr(i.headers);let d;i.params&&(i.params instanceof li?d=i.params:d=new li({fromObject:i.params})),o=new ma(e,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:d,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=Z(o).pipe(Yr(l=>this.handler.handle(l)));if(e instanceof ma||i.observe==="events")return s;let a=s.pipe(Mt(l=>l instanceof _a));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(J(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new k(2806,!1);return l.body}));case"blob":return a.pipe(J(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new k(2807,!1);return l.body}));case"text":return a.pipe(J(l=>{if(l.body!==null&&typeof l.body!="string")throw new k(2808,!1);return l.body}));case"json":default:return a.pipe(J(l=>l.body))}case"response":return a;default:throw new k(2809,!1)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:new li().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,Fm(i,r))}post(e,r,i={}){return this.request("POST",e,Fm(i,r))}put(e,r,i={}){return this.request("PUT",e,Fm(i,r))}static \u0275fac=function(r){return new(r||n)(F(ga))};static \u0275prov=P({token:n,factory:n.\u0275fac})}return n})(),Gk=/^\)\]\}',?\n/;function nC(n){if(n.url)return n.url;let t=$m.toLocaleLowerCase();return n.headers.get(t)}var cC=new $(""),Lm=(()=>{class n{fetchImpl=M(Um,{optional:!0})?.fetch??((...e)=>globalThis.fetch(...e));ngZone=M(Te);handle(e){return new pe(r=>{let i=new AbortController;return this.doRequest(e,i.signal,r).then(Bm,o=>r.error(new ai({error:o}))),()=>i.abort()})}async doRequest(e,r,i){let o=this.createRequestInit(e),s;try{let v=this.ngZone.runOutsideAngular(()=>this.fetchImpl(e.urlWithParams,N({signal:r},o)));Wk(v),i.next({type:ci.Sent}),s=await v}catch(v){i.error(new ai({error:v,status:v.status??0,statusText:v.statusText,url:e.urlWithParams,headers:v.headers}));return}let a=new Lr(s.headers),l=s.statusText,d=nC(s)??e.urlWithParams,p=s.status,m=null;if(e.reportProgress&&i.next(new Tu({headers:a,status:p,statusText:l,url:d})),s.body){let v=s.headers.get("content-length"),w=[],C=s.body.getReader(),x=0,A,j,U=typeof Zone<"u"&&Zone.current;await this.ngZone.runOutsideAngular(async()=>{for(;;){let{done:K,value:De}=await C.read();if(K)break;if(w.push(De),x+=De.length,e.reportProgress){j=e.responseType==="text"?(j??"")+(A??=new TextDecoder).decode(De,{stream:!0}):void 0;let Ie=()=>i.next({type:ci.DownloadProgress,total:v?+v:void 0,loaded:x,partialText:j});U?U.run(Ie):Ie()}}});let q=this.concatChunks(w,x);try{let K=s.headers.get(ha)??"";m=this.parseBody(e,q,K)}catch(K){i.error(new ai({error:K,headers:new Lr(s.headers),status:s.status,statusText:s.statusText,url:nC(s)??e.urlWithParams}));return}}p===0&&(p=m?lC:0),p>=200&&p<300?(i.next(new _a({body:m,headers:a,status:p,statusText:l,url:d})),i.complete()):i.error(new ai({error:m,headers:a,status:p,statusText:l,url:d}))}parseBody(e,r,i){switch(e.responseType){case"json":let o=new TextDecoder().decode(r).replace(Gk,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(e){let r={},i=e.withCredentials?"include":void 0;if(e.headers.forEach((o,s)=>r[o]=s.join(",")),e.headers.has(Iu)||(r[Iu]=aC),!e.headers.has(ha)){let o=e.detectContentTypeHeader();o!==null&&(r[ha]=o)}return{body:e.serializeBody(),method:e.method,headers:r,credentials:i}}concatChunks(e,r){let i=new Uint8Array(r),o=0;for(let s of e)i.set(s,o),o+=s.length;return i}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac})}return n})(),Um=class{};function Bm(){}function Wk(n){n.then(Bm,Bm)}function Qk(n,t){return t(n)}function Kk(n,t,e){return(r,i)=>ln(e,()=>t(r,o=>n(o,i)))}var uC=new $(""),Yk=new $(""),Zk=new $("",{providedIn:"root",factory:()=>!0});var rC=(()=>{class n extends ga{backend;injector;chain=null;pendingTasks=M(Ar);contributeToStability=M(Zk);constructor(e,r){super(),this.backend=e,this.injector=r}handle(e){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(uC),...this.injector.get(Yk,[])]));this.chain=r.reduceRight((i,o)=>Kk(i,o,this.injector),Qk)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(e,i=>this.backend.handle(i)).pipe(yr(()=>this.pendingTasks.remove(r)))}else return this.chain(e,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(F(va),F(Ht))};static \u0275prov=P({token:n,factory:n.\u0275fac})}return n})();var Jk=/^\)\]\}',?\n/,Xk=RegExp(`^${$m}:`,"m");function eN(n){return"responseURL"in n&&n.responseURL?n.responseURL:Xk.test(n.getAllResponseHeaders())?n.getResponseHeader($m):null}var iC=(()=>{class n{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new k(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Ke(r.\u0275loadImpl()):Z(null)).pipe(sn(()=>new pe(o=>{let s=r.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((C,x)=>s.setRequestHeader(C,x.join(","))),e.headers.has(Iu)||s.setRequestHeader(Iu,aC),!e.headers.has(ha)){let C=e.detectContentTypeHeader();C!==null&&s.setRequestHeader(ha,C)}if(e.responseType){let C=e.responseType.toLowerCase();s.responseType=C!=="json"?C:"text"}let a=e.serializeBody(),l=null,d=()=>{if(l!==null)return l;let C=s.statusText||"OK",x=new Lr(s.getAllResponseHeaders()),A=eN(s)||e.url;return l=new Tu({headers:x,status:s.status,statusText:C,url:A}),l},p=()=>{let{headers:C,status:x,statusText:A,url:j}=d(),U=null;x!==qk&&(U=typeof s.response>"u"?s.responseText:s.response),x===0&&(x=U?lC:0);let q=x>=200&&x<300;if(e.responseType==="json"&&typeof U=="string"){let K=U;U=U.replace(Jk,"");try{U=U!==""?JSON.parse(U):null}catch(De){U=K,q&&(q=!1,U={error:De,text:U})}}q?(o.next(new _a({body:U,headers:C,status:x,statusText:A,url:j||void 0})),o.complete()):o.error(new ai({error:U,headers:C,status:x,statusText:A,url:j||void 0}))},m=C=>{let{url:x}=d(),A=new ai({error:C,status:s.status||0,statusText:s.statusText||"Unknown Error",url:x||void 0});o.error(A)},y=!1,v=C=>{y||(o.next(d()),y=!0);let x={type:ci.DownloadProgress,loaded:C.loaded};C.lengthComputable&&(x.total=C.total),e.responseType==="text"&&s.responseText&&(x.partialText=s.responseText),o.next(x)},w=C=>{let x={type:ci.UploadProgress,loaded:C.loaded};C.lengthComputable&&(x.total=C.total),o.next(x)};return s.addEventListener("load",p),s.addEventListener("error",m),s.addEventListener("timeout",m),s.addEventListener("abort",m),e.reportProgress&&(s.addEventListener("progress",v),a!==null&&s.upload&&s.upload.addEventListener("progress",w)),s.send(a),o.next({type:ci.Sent}),()=>{s.removeEventListener("error",m),s.removeEventListener("abort",m),s.removeEventListener("load",p),s.removeEventListener("timeout",m),e.reportProgress&&(s.removeEventListener("progress",v),a!==null&&s.upload&&s.upload.removeEventListener("progress",w)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(F(Xo))};static \u0275prov=P({token:n,factory:n.\u0275fac})}return n})(),dC=new $(""),tN="XSRF-TOKEN",nN=new $("",{providedIn:"root",factory:()=>tN}),rN="X-XSRF-TOKEN",iN=new $("",{providedIn:"root",factory:()=>rN}),Mu=class{},oN=(()=>{class n{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,r,i){this.doc=e,this.platform=r,this.cookieName=i}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Du(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(r){return new(r||n)(F($e),F(Ct),F(nN))};static \u0275prov=P({token:n,factory:n.\u0275fac})}return n})();function sN(n,t){let e=n.url.toLowerCase();if(!M(dC)||n.method==="GET"||n.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return t(n);let r=M(Mu).getToken(),i=M(iN);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),t(n)}var fC=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(fC||{});function aN(n,t){return{\u0275kind:n,\u0275providers:t}}function pC(...n){let t=[Hm,iC,rC,{provide:ga,useExisting:rC},{provide:va,useFactory:()=>M(cC,{optional:!0})??M(iC)},{provide:uC,useValue:sN,multi:!0},{provide:dC,useValue:!0},{provide:Mu,useClass:oN}];for(let e of n)t.push(...e.\u0275providers);return Go(t)}function hC(){return aN(fC.Fetch,[Lm,{provide:cC,useExisting:Lm},{provide:va,useExisting:Lm}])}var qm=class extends wu{supportsDOMEvents=!0},Gm=class n extends qm{static makeCurrent(){Bw(new n)}onAndCancel(t,e,r,i){return t.addEventListener(e,r,i),()=>{t.removeEventListener(e,r,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=cN();return e==null?null:uN(e)}resetBaseElement(){ba=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Du(document.cookie,t)}},ba=null;function cN(){return ba=ba||document.querySelector("base"),ba?ba.getAttribute("href"):null}function uN(n){return new URL(n,document.baseURI).pathname}var dN=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac})}return n})(),Wm=new $(""),_C=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,r){this._zone=r,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,i,o){return this._findPluginFor(r).addEventListener(e,r,i,o)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(o=>o.supports(e)),!r)throw new k(5101,!1);return this._eventNameToPlugin.set(e,r),r}static \u0275fac=function(r){return new(r||n)(F(Wm),F(Te))};static \u0275prov=P({token:n,factory:n.\u0275fac})}return n})(),ku=class{_doc;constructor(t){this._doc=t}manager},Au="ng-app-id";function mC(n){for(let t of n)t.remove()}function gC(n,t){let e=t.createElement("style");return e.textContent=n,e}function fN(n,t,e,r){let i=n.head?.querySelectorAll(`style[${Au}="${t}"],link[${Au}="${t}"]`);if(i)for(let o of i)o.removeAttribute(Au),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&e.set(o.textContent,{usage:0,elements:[o]})}function Qm(n,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",n),e}var bC=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,r,i,o={}){this.doc=e,this.appId=r,this.nonce=i,this.isServer=Rm(o),fN(e,r,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,r){for(let i of e)this.addUsage(i,this.inline,gC);r?.forEach(i=>this.addUsage(i,this.external,Qm))}removeStyles(e,r){for(let i of e)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(e,r,i){let o=r.get(e);o?o.usage++:r.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(e,this.doc)))})}removeUsage(e,r){let i=r.get(e);i&&(i.usage--,i.usage<=0&&(mC(i.elements),r.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])mC(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(e,gC(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(e,Qm(r,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Au,this.appId),e.appendChild(r)}static \u0275fac=function(r){return new(r||n)(F($e),F(iu),F(la,8),F(Ct))};static \u0275prov=P({token:n,factory:n.\u0275fac})}return n})(),zm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ym=/%COMP%/g;var wC="%COMP%",pN=`_nghost-${wC}`,hN=`_ngcontent-${wC}`,mN=!0,gN=new $("",{providedIn:"root",factory:()=>mN});function vN(n){return hN.replace(Ym,n)}function yN(n){return pN.replace(Ym,n)}function CC(n,t){return t.map(e=>e.replace(Ym,n))}var Nu=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,r,i,o,s,a,l,d=null,p=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=d,this.tracingService=p,this.platformIsServer=Rm(a),this.defaultRenderer=new wa(e,s,l,this.platformIsServer,this.tracingService)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===er.ShadowDom&&(r=G(N({},r),{encapsulation:er.Emulated}));let i=this.getOrCreateRenderer(e,r);return i instanceof Pu?i.applyToHost(e):i instanceof Ca&&i.applyStyles(),i}getOrCreateRenderer(e,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,d=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer,y=this.tracingService;switch(r.encapsulation){case er.Emulated:o=new Pu(l,d,r,this.appId,p,s,a,m,y);break;case er.ShadowDom:return new Km(l,d,e,r,s,a,this.nonce,m,y);default:o=new Ca(l,d,r,p,s,a,m,y);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(r){return new(r||n)(F(_C),F(bC),F(iu),F(gN),F($e),F(Ct),F(Te),F(la),F(Qo,8))};static \u0275prov=P({token:n,factory:n.\u0275fac})}return n})(),wa=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,r,i,o){this.eventManager=t,this.doc=e,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(zm[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(vC(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(vC(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){e.remove()}selectRootElement(t,e){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new k(-5104,!1);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;let o=zm[i];o?t.setAttributeNS(o,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){let i=zm[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(tr.DashCase|tr.Important)?t.style.setProperty(e,r,i&tr.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&tr.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t!=null&&(t[e]=r)}setValue(t,e){t.nodeValue=e}listen(t,e,r,i){if(typeof t=="string"&&(t=Fr().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${e}`);let o=this.decoratePreventDefault(r);return this.tracingService!==null&&this.tracingService.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,e,o)),this.eventManager.addEventListener(t,e,o,i)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function vC(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Km=class extends wa{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,r,i,o,s,a,l,d){super(t,o,s,l,d),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let p=i.styles;p=CC(i.id,p);for(let y of p){let v=document.createElement("style");a&&v.setAttribute("nonce",a),v.textContent=y,this.shadowRoot.appendChild(v)}let m=i.getExternalStyles?.();if(m)for(let y of m){let v=Qm(y,o);a&&v.setAttribute("nonce",a),this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ca=class extends wa{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,r,i,o,s,a,l,d){super(t,o,s,a,l),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i;let p=r.styles;this.styles=d?CC(d,p):p,this.styleUrls=r.getExternalStyles?.(d)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Pu=class extends Ca{contentAttr;hostAttr;constructor(t,e,r,i,o,s,a,l,d){let p=i+"-"+r.id;super(t,e,r,o,s,a,l,d,p),this.contentAttr=vN(p),this.hostAttr=yN(p)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}},_N=(()=>{class n extends ku{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i,o){return e.addEventListener(r,i,o),()=>this.removeEventListener(e,r,i,o)}removeEventListener(e,r,i,o){return e.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(F($e))};static \u0275prov=P({token:n,factory:n.\u0275fac})}return n})(),yC=["alt","control","meta","shift"],bN={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},wN={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},CN=(()=>{class n extends ku{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Fr().onAndCancel(e,s.domEventName,a,o))}static parseEventName(e){let r=e.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),yC.forEach(d=>{let p=r.indexOf(d);p>-1&&(r.splice(p,1),s+=d+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(e,r){let i=bN[e.key]||e.key,o="";return r.indexOf("code.")>-1&&(i=e.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),yC.forEach(s=>{if(s!==i){let a=wN[s];a(e)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(e,r,i){return o=>{n.matchEventFullKeyCode(o,e)&&i.runGuarded(()=>r(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(r){return new(r||n)(F($e))};static \u0275prov=P({token:n,factory:n.\u0275fac})}return n})();function EC(n,t){return Aw(N({rootComponent:n},EN(t)))}function EN(n){return{appProviders:[...TN,...n?.providers??[]],platformProviders:IN}}function SN(){Gm.makeCurrent()}function DN(){return new zt}function xN(){return lb(document),document}var IN=[{provide:Ct,useValue:Om},{provide:zh,useValue:SN,multi:!0},{provide:$e,useFactory:xN,deps:[]}];var TN=[{provide:qc,useValue:"root"},{provide:zt,useFactory:DN,deps:[]},{provide:Wm,useClass:_N,multi:!0,deps:[$e,Te,Ct]},{provide:Wm,useClass:CN,multi:!0,deps:[$e]},Nu,bC,_C,{provide:ri,useExisting:Nu},{provide:Xo,useClass:dN,deps:[]},[]];var SC=(()=>{class n{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(r){return new(r||n)(F($e))};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ea=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=F(MN),i},providedIn:"root"})}return n})(),MN=(()=>{class n extends Ea{_doc;constructor(e){super(),this._doc=e}sanitize(e,r){if(r==null)return null;switch(e){case Et.NONE:return r;case Et.HTML:return oi(r,"HTML")?Bn(r):Eb(this._doc,String(r)).toString();case Et.STYLE:return oi(r,"Style")?Bn(r):r;case Et.SCRIPT:if(oi(r,"Script"))return Bn(r);throw new k(5200,!1);case Et.URL:return oi(r,"URL")?Bn(r):au(String(r));case Et.RESOURCE_URL:if(oi(r,"ResourceURL"))return Bn(r);throw new k(5201,!1);default:throw new k(5202,!1)}}bypassSecurityTrustHtml(e){return pb(e)}bypassSecurityTrustStyle(e){return hb(e)}bypassSecurityTrustScript(e){return mb(e)}bypassSecurityTrustUrl(e){return gb(e)}bypassSecurityTrustResourceUrl(e){return vb(e)}static \u0275fac=function(r){return new(r||n)(F($e))};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var oe="primary",Va=Symbol("RouteTitle"),ng=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function ss(n){return new ng(n)}function PN(n,t,e){let r=e.path.split("/");if(r.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function ON(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!or(n[e],t[e]))return!1;return!0}function or(n,t){let e=n?rg(n):void 0,r=t?rg(t):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let o=0;o<e.length;o++)if(i=e[o],!NC(n[i],t[i]))return!1;return!0}function rg(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function NC(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),r=[...t].sort();return e.every((i,o)=>r[o]===i)}else return n===t}function PC(n){return n.length>0?n[n.length-1]:null}function di(n){return rp(n)?n:zi(n)?Ke(Promise.resolve(n)):Z(n)}var RN={exact:RC,subset:FC},OC={exact:FN,subset:LN,ignored:()=>!0};function DC(n,t,e){return RN[e.paths](n.root,t.root,e.matrixParams)&&OC[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function FN(n,t){return or(n,t)}function RC(n,t,e){if(!Wi(n.segments,t.segments)||!Fu(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!n.children[r]||!RC(n.children[r],t.children[r],e))return!1;return!0}function LN(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>NC(n[e],t[e]))}function FC(n,t,e){return LC(n,t,t.segments,e)}function LC(n,t,e,r){if(n.segments.length>e.length){let i=n.segments.slice(0,e.length);return!(!Wi(i,e)||t.hasChildren()||!Fu(i,e,r))}else if(n.segments.length===e.length){if(!Wi(n.segments,e)||!Fu(n.segments,e,r))return!1;for(let i in t.children)if(!n.children[i]||!FC(n.children[i],t.children[i],r))return!1;return!0}else{let i=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!Wi(n.segments,i)||!Fu(n.segments,i,r)||!n.children[oe]?!1:LC(n.children[oe],t,o,r)}}function Fu(n,t,e){return t.every((r,i)=>OC[e](n[i].parameters,r.parameters))}var jr=class{root;queryParams;fragment;_queryParamMap;constructor(t=new Ee([],{}),e={},r=null){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ss(this.queryParams),this._queryParamMap}toString(){return UN.serialize(this)}},Ee=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Lu(this)}},Gi=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=ss(this.parameters),this._parameterMap}toString(){return jC(this)}};function VN(n,t){return Wi(n,t)&&n.every((e,r)=>or(e.parameters,t[r].parameters))}function Wi(n,t){return n.length!==t.length?!1:n.every((e,r)=>e.path===t[r].path)}function jN(n,t){let e=[];return Object.entries(n.children).forEach(([r,i])=>{r===oe&&(e=e.concat(t(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==oe&&(e=e.concat(t(i,r)))}),e}var Mg=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:()=>new Ma,providedIn:"root"})}return n})(),Ma=class{parse(t){let e=new og(t);return new jr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${Sa(t.root,!0)}`,r=HN(t.queryParams),i=typeof t.fragment=="string"?`#${BN(t.fragment)}`:"";return`${e}${r}${i}`}},UN=new Ma;function Lu(n){return n.segments.map(t=>jC(t)).join("/")}function Sa(n,t){if(!n.hasChildren())return Lu(n);if(t){let e=n.children[oe]?Sa(n.children[oe],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==oe&&r.push(`${i}:${Sa(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}else{let e=jN(n,(r,i)=>i===oe?[Sa(n.children[oe],!1)]:[`${i}:${Sa(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[oe]!=null?`${Lu(n)}/${e[0]}`:`${Lu(n)}/(${e.join("//")})`}}function VC(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ou(n){return VC(n).replace(/%3B/gi,";")}function BN(n){return encodeURI(n)}function ig(n){return VC(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Vu(n){return decodeURIComponent(n)}function xC(n){return Vu(n.replace(/\+/g,"%20"))}function jC(n){return`${ig(n.path)}${$N(n.parameters)}`}function $N(n){return Object.entries(n).map(([t,e])=>`;${ig(t)}=${ig(e)}`).join("")}function HN(n){let t=Object.entries(n).map(([e,r])=>Array.isArray(r)?r.map(i=>`${Ou(e)}=${Ou(i)}`).join("&"):`${Ou(e)}=${Ou(r)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var zN=/^[^\/()?;#]+/;function Jm(n){let t=n.match(zN);return t?t[0]:""}var qN=/^[^\/()?;=#]+/;function GN(n){let t=n.match(qN);return t?t[0]:""}var WN=/^[^=?&#]+/;function QN(n){let t=n.match(WN);return t?t[0]:""}var KN=/^[^&#]+/;function YN(n){let t=n.match(KN);return t?t[0]:""}var og=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ee([],{}):new Ee([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[oe]=new Ee(t,e)),r}parseSegment(){let t=Jm(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new k(4009,!1);return this.capture(t),new Gi(Vu(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=GN(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let i=Jm(this.remaining);i&&(r=i,this.capture(r))}t[Vu(e)]=Vu(r)}parseQueryParam(t){let e=QN(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let s=YN(this.remaining);s&&(r=s,this.capture(r))}let i=xC(e),o=xC(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Jm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new k(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=oe);let s=this.parseChildren();e[o]=Object.keys(s).length===1?s[oe]:new Ee([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new k(4011,!1)}};function UC(n){return n.segments.length>0?new Ee([],{[oe]:n}):n}function BC(n){let t={};for(let[r,i]of Object.entries(n.children)){let o=BC(i);if(r===oe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let e=new Ee(n.segments,t);return ZN(e)}function ZN(n){if(n.numberOfChildren===1&&n.children[oe]){let t=n.children[oe];return new Ee(n.segments.concat(t.segments),t.children)}return n}function Qi(n){return n instanceof jr}function JN(n,t,e=null,r=null){let i=$C(n);return HC(i,t,e,r)}function $C(n){let t;function e(o){let s={};for(let l of o.children){let d=e(l);s[l.outlet]=d}let a=new Ee(o.url,s);return o===n&&(t=a),a}let r=e(n.root),i=UC(r);return t??i}function HC(n,t,e,r){let i=n;for(;i.parent;)i=i.parent;if(t.length===0)return Xm(i,i,i,e,r);let o=XN(t);if(o.toRoot())return Xm(i,i,new Ee([],{}),e,r);let s=eP(o,i,n),a=s.processChildren?xa(s.segmentGroup,s.index,o.commands):qC(s.segmentGroup,s.index,o.commands);return Xm(i,s.segmentGroup,a,e,r)}function ju(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Aa(n){return typeof n=="object"&&n!=null&&n.outlets}function Xm(n,t,e,r,i){let o={};r&&Object.entries(r).forEach(([l,d])=>{o[l]=Array.isArray(d)?d.map(p=>`${p}`):`${d}`});let s;n===t?s=e:s=zC(n,t,e);let a=UC(BC(s));return new jr(a,o,i)}function zC(n,t,e){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===t?r[i]=e:r[i]=zC(o,t,e)}),new Ee(n.segments,r)}var Uu=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&ju(r[0]))throw new k(4003,!1);let i=r.find(Aa);if(i&&i!==PC(r))throw new k(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function XN(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Uu(!0,0,n);let t=0,e=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,d])=>{a[l]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?e=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Uu(e,t,r)}var rs=class{segmentGroup;processChildren;index;constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}};function eP(n,t,e){if(n.isAbsolute)return new rs(t,!0,0);if(!e)return new rs(t,!1,NaN);if(e.parent===null)return new rs(e,!0,0);let r=ju(n.commands[0])?0:1,i=e.segments.length-1+r;return tP(e,i,n.numberOfDoubleDots)}function tP(n,t,e){let r=n,i=t,o=e;for(;o>i;){if(o-=i,r=r.parent,!r)throw new k(4005,!1);i=r.segments.length}return new rs(r,!1,i-o)}function nP(n){return Aa(n[0])?n[0].outlets:{[oe]:n}}function qC(n,t,e){if(n??=new Ee([],{}),n.segments.length===0&&n.hasChildren())return xa(n,t,e);let r=rP(n,t,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Ee(n.segments.slice(0,r.pathIndex),{});return o.children[oe]=new Ee(n.segments.slice(r.pathIndex),n.children),xa(o,0,i)}else return r.match&&i.length===0?new Ee(n.segments,{}):r.match&&!n.hasChildren()?sg(n,t,e):r.match?xa(n,0,i):sg(n,t,e)}function xa(n,t,e){if(e.length===0)return new Ee(n.segments,{});{let r=nP(e),i={};if(Object.keys(r).some(o=>o!==oe)&&n.children[oe]&&n.numberOfChildren===1&&n.children[oe].segments.length===0){let o=xa(n.children[oe],t,e);return new Ee(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=qC(n.children[o],t,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ee(n.segments,i)}}function rP(n,t,e){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=e.length)return o;let s=n.segments[i],a=e[r];if(Aa(a))break;let l=`${a}`,d=r<e.length-1?e[r+1]:null;if(i>0&&l===void 0)break;if(l&&d&&typeof d=="object"&&d.outlets===void 0){if(!TC(l,d,s))return o;r+=2}else{if(!TC(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function sg(n,t,e){let r=n.segments.slice(0,t),i=0;for(;i<e.length;){let o=e[i];if(Aa(o)){let l=iP(o.outlets);return new Ee(r,l)}if(i===0&&ju(e[0])){let l=n.segments[t];r.push(new Gi(l.path,IC(e[0]))),i++;continue}let s=Aa(o)?o.outlets[oe]:`${o}`,a=i<e.length-1?e[i+1]:null;s&&a&&ju(a)?(r.push(new Gi(s,IC(a))),i+=2):(r.push(new Gi(s,{})),i++)}return new Ee(r,{})}function iP(n){let t={};return Object.entries(n).forEach(([e,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[e]=sg(new Ee([],{}),0,r))}),t}function IC(n){let t={};return Object.entries(n).forEach(([e,r])=>t[e]=`${r}`),t}function TC(n,t,e){return n==e.path&&or(t,e.parameters)}var Ia="imperative",gt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(gt||{}),An=class{id;url;constructor(t,e){this.id=t,this.url=e}},ka=class extends An{type=gt.NavigationStart;navigationTrigger;restoredState;constructor(t,e,r="imperative",i=null){super(t,e),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ui=class extends An{urlAfterRedirects;type=gt.NavigationEnd;constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},pn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(pn||{}),ag=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(ag||{}),Vr=class extends An{reason;code;type=gt.NavigationCancel;constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ki=class extends An{reason;code;type=gt.NavigationSkipped;constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i}},Na=class extends An{error;target;type=gt.NavigationError;constructor(t,e,r,i){super(t,e),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Bu=class extends An{urlAfterRedirects;state;type=gt.RoutesRecognized;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lg=class extends An{urlAfterRedirects;state;type=gt.GuardsCheckStart;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cg=class extends An{urlAfterRedirects;state;shouldActivate;type=gt.GuardsCheckEnd;constructor(t,e,r,i,o){super(t,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ug=class extends An{urlAfterRedirects;state;type=gt.ResolveStart;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},dg=class extends An{urlAfterRedirects;state;type=gt.ResolveEnd;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fg=class{route;type=gt.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},pg=class{route;type=gt.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},hg=class{snapshot;type=gt.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},mg=class{snapshot;type=gt.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gg=class{snapshot;type=gt.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vg=class{snapshot;type=gt.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Pa=class{},as=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function oP(n,t){return n.providers&&!n._injector&&(n._injector=cm(n.providers,t,`Route: ${n.path}`)),n._injector??t}function qn(n){return n.outlet||oe}function sP(n,t){let e=n.filter(r=>qn(r)===t);return e.push(...n.filter(r=>qn(r)!==t)),e}function ja(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var yg=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ja(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Qu(this.rootInjector)}},Qu=(()=>{class n{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,r){let i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){let r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new yg(this.rootInjector),this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(r){return new(r||n)(F(Ht))};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$u=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=_g(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){let e=_g(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=bg(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return bg(t,this._root).map(e=>e.value)}};function _g(n,t){if(n===t.value)return t;for(let e of t.children){let r=_g(n,e);if(r)return r}return null}function bg(n,t){if(n===t.value)return[t];for(let e of t.children){let r=bg(n,e);if(r.length)return r.unshift(t),r}return[]}var fn=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function ns(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var Hu=class extends $u{snapshot;constructor(t,e){super(t),this.snapshot=e,Ag(this,t)}toString(){return this.snapshot.toString()}};function GC(n){let t=aP(n),e=new pt([new Gi("",{})]),r=new pt({}),i=new pt({}),o=new pt({}),s=new pt(""),a=new hn(e,r,o,s,i,oe,n,t.root);return a.snapshot=t.root,new Hu(new fn(a,[]),t)}function aP(n){let t={},e={},r={},i="",o=new is([],t,r,i,e,oe,n,null,{});return new qu("",new fn(o,[]))}var hn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,r,i,o,s,a,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(J(d=>d[Va]))??Z(void 0),this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(J(t=>ss(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(J(t=>ss(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function zu(n,t,e="emptyOnly"){let r,{routeConfig:i}=n;return t!==null&&(e==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:N(N({},t.params),n.params),data:N(N({},t.data),n.data),resolve:N(N(N(N({},n.data),t.data),i?.data),n._resolvedData)}:r={params:N({},n.params),data:N({},n.data),resolve:N(N({},n.data),n._resolvedData??{})},i&&QC(i)&&(r.resolve[Va]=i.title),r}var is=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Va]}constructor(t,e,r,i,o,s,a,l,d){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ss(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ss(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},qu=class extends $u{url;constructor(t,e){super(e),this.url=t,Ag(this,e)}toString(){return WC(this._root)}};function Ag(n,t){t.value._routerState=n,t.children.forEach(e=>Ag(n,e))}function WC(n){let t=n.children.length>0?` { ${n.children.map(WC).join(", ")} } `:"";return`${n.value}${t}`}function eg(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,or(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),or(t.params,e.params)||n.paramsSubject.next(e.params),ON(t.url,e.url)||n.urlSubject.next(e.url),or(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function wg(n,t){let e=or(n.params,t.params)&&VN(n.url,t.url),r=!n.parent!=!t.parent;return e&&!r&&(!n.parent||wg(n.parent,t.parent))}function QC(n){return typeof n.title=="string"||n.title===null}var lP=new $(""),kg=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=oe;activateEvents=new ne;deactivateEvents=new ne;attachEvents=new ne;detachEvents=new ne;routerOutletData=eb(void 0);parentContexts=M(Qu);location=M($i);changeDetector=M(ie);inputBinder=M(Ng,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new k(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new k(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new k(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new k(4013,!1);this._activatedRoute=e;let i=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Cg(e,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ge({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Vn]})}return n})(),Cg=class n{route;childContexts;parent;outletData;__ngOutletInjector(t){return new n(this.route,this.childContexts,t,this.outletData)}constructor(t,e,r,i){this.route=t,this.childContexts=e,this.parent=r,this.outletData=i}get(t,e){return t===hn?this.route:t===Qu?this.childContexts:t===lP?this.outletData:this.parent.get(t,e)}},Ng=new $("");function cP(n,t,e){let r=Oa(n,t._root,e?e._root:void 0);return new Hu(r,t)}function Oa(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let r=e.value;r._futureSnapshot=t.value;let i=uP(n,t,e);return new fn(r,i)}else{if(n.shouldAttach(t.value)){let o=n.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Oa(n,a)),s}}let r=dP(t.value),i=t.children.map(o=>Oa(n,o));return new fn(r,i)}}function uP(n,t,e){return t.children.map(r=>{for(let i of e.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Oa(n,r,i);return Oa(n,r)})}function dP(n){return new hn(new pt(n.url),new pt(n.params),new pt(n.queryParams),new pt(n.fragment),new pt(n.data),n.outlet,n.component,n)}var Ra=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},KC="ngNavigationCancelingError";function Gu(n,t){let{redirectTo:e,navigationBehaviorOptions:r}=Qi(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=YC(!1,pn.Redirect);return i.url=e,i.navigationBehaviorOptions=r,i}function YC(n,t){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[KC]=!0,e.cancellationCode=t,e}function fP(n){return ZC(n)&&Qi(n.url)}function ZC(n){return!!n&&n[KC]}var pP=(n,t,e,r)=>J(i=>(new Eg(t,i.targetRouterState,i.currentRouterState,e,r).activate(n),i)),Eg=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,r,i,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),eg(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){let i=ns(e);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,e,r){let i=t.value,o=e?e.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,r);else o&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=ns(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){let r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=ns(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,e,r){let i=ns(e);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new vg(o.value.snapshot))}),t.children.length&&this.forwardEvent(new mg(t.value.snapshot))}activateRoutes(t,e,r){let i=t.value,o=e?e.value:null;if(eg(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),eg(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},Wu=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},os=class{component;route;constructor(t,e){this.component=t,this.route=e}};function hP(n,t,e){let r=n._root,i=t?t._root:null;return Da(r,i,e,[r.value])}function mP(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function cs(n,t){let e=Symbol(),r=t.get(n,e);return r===e?typeof n=="function"&&!Yy(n)?n:t.get(n):r}function Da(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ns(t);return n.children.forEach(s=>{gP(s,o[s.value.outlet],e,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ta(a,e.getContext(s),i)),i}function gP(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=vP(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Wu(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Da(n,t,a?a.children:null,r,i):Da(n,t,e,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new os(a.outlet.component,s))}else s&&Ta(t,a,i),i.canActivateChecks.push(new Wu(r)),o.component?Da(n,null,a?a.children:null,r,i):Da(n,null,e,r,i);return i}function vP(n,t,e){if(typeof e=="function")return e(n,t);switch(e){case"pathParamsChange":return!Wi(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Wi(n.url,t.url)||!or(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wg(n,t)||!or(n.queryParams,t.queryParams);case"paramsChange":default:return!wg(n,t)}}function Ta(n,t,e){let r=ns(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?t?Ta(s,t.children.getContext(o),e):Ta(s,null,e):Ta(s,t,e)}),i.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new os(t.outlet.component,i)):e.canDeactivateChecks.push(new os(null,i)):e.canDeactivateChecks.push(new os(null,i))}function Ua(n){return typeof n=="function"}function yP(n){return typeof n=="boolean"}function _P(n){return n&&Ua(n.canLoad)}function bP(n){return n&&Ua(n.canActivate)}function wP(n){return n&&Ua(n.canActivateChild)}function CP(n){return n&&Ua(n.canDeactivate)}function EP(n){return n&&Ua(n.canMatch)}function JC(n){return n instanceof vr||n?.name==="EmptyError"}var Ru=Symbol("INITIAL_VALUE");function ls(){return sn(n=>Mo(n.map(t=>t.pipe(on(1),Hs(Ru)))).pipe(J(t=>{for(let e of t)if(e!==!0){if(e===Ru)return Ru;if(e===!1||SP(e))return e}return!0}),Mt(t=>t!==Ru),on(1)))}function SP(n){return Qi(n)||n instanceof Ra}function DP(n,t){return rt(e=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return s.length===0&&o.length===0?Z(G(N({},e),{guardsResult:!0})):xP(s,r,i,n).pipe(rt(a=>a&&yP(a)?IP(r,o,n,t):Z(a)),J(a=>G(N({},e),{guardsResult:a})))})}function xP(n,t,e,r){return Ke(n).pipe(rt(i=>NP(i.component,i.route,e,t,r)),_r(i=>i!==!0,!0))}function IP(n,t,e,r){return Ke(t).pipe(Yr(i=>Kr(MP(i.route.parent,r),TP(i.route,r),kP(n,i.path,e),AP(n,i.route,e))),_r(i=>i!==!0,!0))}function TP(n,t){return n!==null&&t&&t(new gg(n)),Z(!0)}function MP(n,t){return n!==null&&t&&t(new hg(n)),Z(!0)}function AP(n,t,e){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return Z(!0);let i=r.map(o=>Xl(()=>{let s=ja(t)??e,a=cs(o,s),l=bP(a)?a.canActivate(t,n):ln(s,()=>a(t,n));return di(l).pipe(_r())}));return Z(i).pipe(ls())}function kP(n,t,e){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>mP(s)).filter(s=>s!==null).map(s=>Xl(()=>{let a=s.guards.map(l=>{let d=ja(s.node)??e,p=cs(l,d),m=wP(p)?p.canActivateChild(r,n):ln(d,()=>p(r,n));return di(m).pipe(_r())});return Z(a).pipe(ls())}));return Z(o).pipe(ls())}function NP(n,t,e,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return Z(!0);let s=o.map(a=>{let l=ja(t)??i,d=cs(a,l),p=CP(d)?d.canDeactivate(n,t,e,r):ln(l,()=>d(n,t,e,r));return di(p).pipe(_r())});return Z(s).pipe(ls())}function PP(n,t,e,r){let i=t.canLoad;if(i===void 0||i.length===0)return Z(!0);let o=i.map(s=>{let a=cs(s,n),l=_P(a)?a.canLoad(t,e):ln(n,()=>a(t,e));return di(l)});return Z(o).pipe(ls(),XC(r))}function XC(n){return Jf(Ye(t=>{if(typeof t!="boolean")throw Gu(n,t)}),J(t=>t===!0))}function OP(n,t,e,r){let i=t.canMatch;if(!i||i.length===0)return Z(!0);let o=i.map(s=>{let a=cs(s,n),l=EP(a)?a.canMatch(t,e):ln(n,()=>a(t,e));return di(l)});return Z(o).pipe(ls(),XC(r))}var Fa=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},La=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function ts(n){return Qr(new Fa(n))}function RP(n){return Qr(new k(4e3,!1))}function FP(n){return Qr(YC(!1,pn.GuardRejected))}var Sg=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Z(r);if(i.numberOfChildren>1||!i.children[oe])return RP(`${t.redirectTo}`);i=i.children[oe]}}applyRedirectCommands(t,e,r,i,o){if(typeof e!="string"){let a=e,{queryParams:l,fragment:d,routeConfig:p,url:m,outlet:y,params:v,data:w,title:C}=i,x=ln(o,()=>a({params:v,data:w,queryParams:l,fragment:d,routeConfig:p,url:m,outlet:y,title:C}));if(x instanceof jr)throw new La(x);e=x}let s=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,r);if(e[0]==="/")throw new La(s);return s}applyRedirectCreateUrlTree(t,e,r,i){let o=this.createSegmentGroup(t,e.root,r,i);return new jr(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=e[a]}else r[i]=o}),r}createSegmentGroup(t,e,r,i){let o=this.createSegments(t,e.segments,r,i),s={};return Object.entries(e.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,r,i)}),new Ee(o,s)}createSegments(t,e,r,i){return e.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,e,r){let i=r[e.path.substring(1)];if(!i)throw new k(4001,!1);return i}findOrReturn(t,e){let r=0;for(let i of e){if(i.path===t.path)return e.splice(r),i;r++}return t}},Dg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function LP(n,t,e,r,i){let o=eE(n,t,e);return o.matched?(r=oP(t,r),OP(r,t,e,i).pipe(J(s=>s===!0?o:N({},Dg)))):Z(o)}function eE(n,t,e){if(t.path==="**")return VP(e);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?N({},Dg):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let i=(t.matcher||PN)(e,n,t);if(!i)return N({},Dg);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?N(N({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function VP(n){return{matched:!0,parameters:n.length>0?PC(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function MC(n,t,e,r){return e.length>0&&BP(n,e,r)?{segmentGroup:new Ee(t,UP(r,new Ee(e,n.children))),slicedSegments:[]}:e.length===0&&$P(n,e,r)?{segmentGroup:new Ee(n.segments,jP(n,e,r,n.children)),slicedSegments:e}:{segmentGroup:new Ee(n.segments,n.children),slicedSegments:e}}function jP(n,t,e,r){let i={};for(let o of e)if(Ku(n,t,o)&&!r[qn(o)]){let s=new Ee([],{});i[qn(o)]=s}return N(N({},r),i)}function UP(n,t){let e={};e[oe]=t;for(let r of n)if(r.path===""&&qn(r)!==oe){let i=new Ee([],{});e[qn(r)]=i}return e}function BP(n,t,e){return e.some(r=>Ku(n,t,r)&&qn(r)!==oe)}function $P(n,t,e){return e.some(r=>Ku(n,t,r))}function Ku(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function HP(n,t,e){return t.length===0&&!n.children[e]}var xg=class{};function zP(n,t,e,r,i,o,s="emptyOnly"){return new Ig(n,t,e,r,i,s,o).recognize()}var qP=31,Ig=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,r,i,o,s,a){this.injector=t,this.configLoader=e,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Sg(this.urlSerializer,this.urlTree)}noMatchError(t){return new k(4002,`'${t.segmentGroup}'`)}recognize(){let t=MC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(J(({children:e,rootSnapshot:r})=>{let i=new fn(r,e),o=new qu("",i),s=JN(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let e=new is([],Object.freeze({}),Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),oe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,oe,e).pipe(J(r=>({children:r,rootSnapshot:e})),Yn(r=>{if(r instanceof La)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Fa?this.noMatchError(r):r}))}processSegmentGroup(t,e,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,e,r,o):this.processSegment(t,e,r,r.segments,i,!0,o).pipe(J(s=>s instanceof fn?[s]:[]))}processChildren(t,e,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ke(o).pipe(Yr(s=>{let a=r.children[s],l=sP(e,s);return this.processSegmentGroup(t,l,a,s,i)}),ap((s,a)=>(s.push(...a),s)),Zr(null),sp(),rt(s=>{if(s===null)return ts(r);let a=tE(s);return GP(a),Z(a)}))}processSegment(t,e,r,i,o,s,a){return Ke(e).pipe(Yr(l=>this.processSegmentAgainstRoute(l._injector??t,e,l,r,i,o,s,a).pipe(Yn(d=>{if(d instanceof Fa)return Z(null);throw d}))),_r(l=>!!l),Yn(l=>{if(JC(l))return HP(r,i,o)?Z(new xg):ts(r);throw l}))}processSegmentAgainstRoute(t,e,r,i,o,s,a,l){return qn(r)!==s&&(s===oe||!Ku(i,o,r))?ts(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,e,r,o,s,l):ts(i)}expandSegmentAgainstRouteUsingRedirect(t,e,r,i,o,s,a){let{matched:l,parameters:d,consumedSegments:p,positionalParamSegments:m,remainingSegments:y}=eE(e,i,o);if(!l)return ts(e);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>qP&&(this.allowRedirects=!1));let v=new is(o,d,Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,AC(i),qn(i),i.component??i._loadedComponent??null,i,kC(i)),w=zu(v,a,this.paramsInheritanceStrategy);v.params=Object.freeze(w.params),v.data=Object.freeze(w.data);let C=this.applyRedirects.applyRedirectCommands(p,i.redirectTo,m,v,t);return this.applyRedirects.lineralizeSegments(i,C).pipe(rt(x=>this.processSegment(t,r,e,x.concat(y),s,!1,a)))}matchSegmentAgainstRoute(t,e,r,i,o,s){let a=LP(e,r,i,t,this.urlSerializer);return r.path==="**"&&(e.children={}),a.pipe(sn(l=>l.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(sn(({routes:d})=>{let p=r._loadedInjector??t,{parameters:m,consumedSegments:y,remainingSegments:v}=l,w=new is(y,m,Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,AC(r),qn(r),r.component??r._loadedComponent??null,r,kC(r)),C=zu(w,s,this.paramsInheritanceStrategy);w.params=Object.freeze(C.params),w.data=Object.freeze(C.data);let{segmentGroup:x,slicedSegments:A}=MC(e,y,v,d);if(A.length===0&&x.hasChildren())return this.processChildren(p,d,x,w).pipe(J(U=>new fn(w,U)));if(d.length===0&&A.length===0)return Z(new fn(w,[]));let j=qn(r)===o;return this.processSegment(p,d,x,A,j?oe:o,!0,w).pipe(J(U=>new fn(w,U instanceof fn?[U]:[])))}))):ts(e)))}getChildConfig(t,e,r){return e.children?Z({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?Z({routes:e._loadedRoutes,injector:e._loadedInjector}):PP(t,e,r,this.urlSerializer).pipe(rt(i=>i?this.configLoader.loadChildren(t,e).pipe(Ye(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):FP(e))):Z({routes:[],injector:t})}};function GP(n){n.sort((t,e)=>t.value.outlet===oe?-1:e.value.outlet===oe?1:t.value.outlet.localeCompare(e.value.outlet))}function WP(n){let t=n.value.routeConfig;return t&&t.path===""}function tE(n){let t=[],e=new Set;for(let r of n){if(!WP(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),e.add(i)):t.push(r)}for(let r of e){let i=tE(r.children);t.push(new fn(r.value,i))}return t.filter(r=>!e.has(r))}function AC(n){return n.data||{}}function kC(n){return n.resolve||{}}function QP(n,t,e,r,i,o){return rt(s=>zP(n,t,e,r,s.extractedUrl,i,o).pipe(J(({state:a,tree:l})=>G(N({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function KP(n,t){return rt(e=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return Z(e);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let d of nE(l))s.add(d);let a=0;return Ke(s).pipe(Yr(l=>o.has(l)?YP(l,r,n,t):(l.data=zu(l,l.parent,n).resolve,Z(void 0))),Ye(()=>a++),Ao(1),rt(l=>a===s.size?Z(e):jt))})}function nE(n){let t=n.children.map(e=>nE(e)).flat();return[n,...t]}function YP(n,t,e,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!QC(i)&&(o[Va]=i.title),ZP(o,n,t,r).pipe(J(s=>(n._resolvedData=s,n.data=zu(n,n.parent,e).resolve,null)))}function ZP(n,t,e,r){let i=rg(n);if(i.length===0)return Z({});let o={};return Ke(i).pipe(rt(s=>JP(n[s],t,e,r).pipe(_r(),Ye(a=>{if(a instanceof Ra)throw Gu(new Ma,a);o[s]=a}))),Ao(1),J(()=>o),Yn(s=>JC(s)?jt:Qr(s)))}function JP(n,t,e,r){let i=ja(t)??r,o=cs(n,i),s=o.resolve?o.resolve(t,e):ln(i,()=>o(t,e));return di(s)}function tg(n){return sn(t=>{let e=n(t);return e?Ke(e).pipe(J(()=>t)):Z(t)})}var rE=(()=>{class n{buildTitle(e){let r,i=e.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===oe);return r}getResolvedTitleForRoute(e){return e.data[Va]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:()=>M(XP),providedIn:"root"})}return n})(),XP=(()=>{class n extends rE{title;constructor(e){super(),this.title=e}updateTitle(e){let r=this.buildTitle(e);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(F(SC))};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Pg=new $("",{providedIn:"root",factory:()=>({})}),eO=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=V({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&_(0,"router-outlet")},dependencies:[kg],encapsulation:2})}return n})();function Og(n){let t=n.children&&n.children.map(Og),e=t?G(N({},n),{children:t}):N({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==oe&&(e.component=eO),e}var Rg=new $(""),tO=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=M(_m);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Z(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let r=di(e.loadComponent()).pipe(J(iE),Ye(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),yr(()=>{this.componentLoaders.delete(e)})),i=new Io(r,()=>new We).pipe(xo());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Z({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=nO(r,this.compiler,e,this.onLoadEndListener).pipe(yr(()=>{this.childrenLoaders.delete(r)})),s=new Io(o,()=>new We).pipe(xo());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function nO(n,t,e,r){return di(n.loadChildren()).pipe(J(iE),rt(i=>i instanceof na||Array.isArray(i)?Z(i):Ke(t.compileModuleAsync(i))),J(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(e).injector,s=o.get(Rg,[],{optional:!0,self:!0}).flat()),{routes:s.map(Og),injector:o}}))}function rO(n){return n&&typeof n=="object"&&"default"in n}function iE(n){return rO(n)?n.default:n}var Fg=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:()=>M(iO),providedIn:"root"})}return n})(),iO=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),oO=new $("");var sO=new $(""),aO=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new We;transitionAbortSubject=new We;configLoader=M(tO);environmentInjector=M(Ht);destroyRef=M(Ui);urlSerializer=M(Mg);rootContexts=M(Qu);location=M(pa);inputBindingEnabled=M(Ng,{optional:!0})!==null;titleStrategy=M(rE);options=M(Pg,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=M(Fg);createViewTransition=M(oO,{optional:!0});navigationErrorHandler=M(sO,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Z(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=i=>this.events.next(new fg(i)),r=i=>this.events.next(new pg(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let r=++this.navigationId;this.transitions?.next(G(N(N({},this.transitions.value),e),{id:r}))}setupNavigations(e,r,i){return this.transitions=new pt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Ia,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Mt(o=>o.id!==0),J(o=>G(N({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),sn(o=>{let s=!1,a=!1;return Z(o).pipe(sn(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",pn.SupersededByNewNavigation),jt;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?G(N({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!d&&p!=="reload"){let m="";return this.events.next(new Ki(l.id,this.urlSerializer.serialize(l.rawUrl),m,ag.IgnoredSameUrlNavigation)),l.resolve(!1),jt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Z(l).pipe(sn(m=>{let y=this.transitions?.getValue();return this.events.next(new ka(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),y!==this.transitions?.getValue()?jt:Promise.resolve(m)}),QP(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),Ye(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=G(N({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let y=new Bu(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(y)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:y,source:v,restoredState:w,extras:C}=l,x=new ka(m,this.urlSerializer.serialize(y),v,w);this.events.next(x);let A=GC(this.rootComponentType).snapshot;return this.currentTransition=o=G(N({},l),{targetSnapshot:A,urlAfterRedirects:y,extras:G(N({},C),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,Z(o)}else{let m="";return this.events.next(new Ki(l.id,this.urlSerializer.serialize(l.extractedUrl),m,ag.IgnoredByUrlHandlingStrategy)),l.resolve(!1),jt}}),Ye(l=>{let d=new lg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),J(l=>(this.currentTransition=o=G(N({},l),{guards:hP(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),DP(this.environmentInjector,l=>this.events.next(l)),Ye(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Gu(this.urlSerializer,l.guardsResult);let d=new cg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(d)}),Mt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",pn.GuardRejected),!1)),tg(l=>{if(l.guards.canActivateChecks.length)return Z(l).pipe(Ye(d=>{let p=new ug(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}),sn(d=>{let p=!1;return Z(d).pipe(KP(this.paramsInheritanceStrategy,this.environmentInjector),Ye({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(d,"",pn.NoDataFromResolver)}}))}),Ye(d=>{let p=new dg(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}))}),tg(l=>{let d=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(Ye(y=>{p.component=y}),J(()=>{})));for(let y of p.children)m.push(...d(y));return m};return Mo(d(l.targetSnapshot.root)).pipe(Zr(null),on(1))}),tg(()=>this.afterPreactivation()),sn(()=>{let{currentSnapshot:l,targetSnapshot:d}=o,p=this.createViewTransition?.(this.environmentInjector,l.root,d.root);return p?Ke(p).pipe(J(()=>o)):Z(o)}),J(l=>{let d=cP(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=G(N({},l),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),Ye(()=>{this.events.next(new Pa)}),pP(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),on(1),Ye({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ui(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),zs(this.transitionAbortSubject.pipe(Ye(l=>{throw l}))),yr(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",pn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Yn(l=>{if(this.destroyed)return o.resolve(!1),jt;if(a=!0,ZC(l))this.events.next(new Vr(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),fP(l)?this.events.next(new as(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let d=new Na(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let p=ln(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(p instanceof Ra){let{message:m,cancellationCode:y}=Gu(this.urlSerializer,p);this.events.next(new Vr(o.id,this.urlSerializer.serialize(o.extractedUrl),m,y)),this.events.next(new as(p.redirectTo,p.navigationBehaviorOptions))}else throw this.events.next(d),l}catch(p){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(p)}}return jt}))}))}cancelNavigationTransition(e,r,i){let o=new Vr(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function lO(n){return n!==Ia}var cO=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:()=>M(uO),providedIn:"root"})}return n})(),Tg=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},uO=(()=>{class n extends Tg{static \u0275fac=(()=>{let e;return function(i){return(e||(e=Dn(n)))(i||n)}})();static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),oE=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:()=>M(dO),providedIn:"root"})}return n})(),dO=(()=>{class n extends oE{location=M(pa);urlSerializer=M(Mg);options=M(Pg,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=M(Fg);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new jr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=GC(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{r.type==="popstate"&&e(r.url,r.state)})}handleRouterEvent(e,r){if(e instanceof ka)this.stateMemento=this.createStateMemento();else if(e instanceof Ki)this.rawUrlTree=r.initialUrl;else if(e instanceof Bu){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else e instanceof Pa?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):e instanceof Vr&&(e.code===pn.GuardRejected||e.code===pn.NoDataFromResolver)?this.restoreHistory(r):e instanceof Na?this.restoreHistory(r,!0):e instanceof ui&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,r){let i=e instanceof jr?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=N(N({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=N(N({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(e,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===e.finalUrl&&o===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Dn(n)))(i||n)}})();static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function fO(n,t){n.events.pipe(Mt(e=>e instanceof ui||e instanceof Vr||e instanceof Na||e instanceof Ki),J(e=>e instanceof ui||e instanceof Ki?0:(e instanceof Vr?e.code===pn.Redirect||e.code===pn.SupersededByNewNavigation:!1)?2:1),Mt(e=>e!==2),on(1)).subscribe(()=>{t()})}var pO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},hO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},vt=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=M(hm);stateManager=M(oE);options=M(Pg,{optional:!0})||{};pendingTasks=M(Ar);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=M(aO);urlSerializer=M(Mg);location=M(pa);urlHandlingStrategy=M(Fg);_events=new We;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=M(cO);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=M(Rg,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!M(Ng,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ue;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Vr&&r.code!==pn.Redirect&&r.code!==pn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ui)this.navigated=!0;else if(r instanceof as){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=N({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||lO(i.source)},s);this.scheduleNavigation(a,Ia,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}gO(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ia,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",r)},0)})}navigateToSyncWithBrowser(e,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=N({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(e);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Og),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,d=l?this.currentUrlTree.fragment:s,p=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":p=N(N({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let y=i?i.snapshot:this.routerState.snapshot.root;m=$C(y)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),m=this.currentUrlTree.root}return HC(m,e,p,d??null)}navigateByUrl(e,r={skipLocationChange:!1}){let i=Qi(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ia,null,r)}navigate(e,r={skipLocationChange:!1}){return mO(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,r){let i;if(r===!0?i=N({},pO):r===!1?i=N({},hO):i=r,Qi(e))return DC(this.currentUrlTree,e,i);let o=this.parseUrl(e);return DC(this.currentUrlTree,o,i)}removeEmptyProps(e){return Object.entries(e).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(e,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,d;s?(a=s.resolve,l=s.reject,d=s.promise):d=new Promise((m,y)=>{a=m,l=y});let p=this.pendingTasks.add();return fO(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:a,reject:l,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(m=>Promise.reject(m))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function mO(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new k(4008,!1)}function gO(n){return!(n instanceof Pa)&&!(n instanceof as)}var ze=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new We;constructor(e,r,i,o,s,a){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=e.events.subscribe(d=>{d instanceof ui&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Qi(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let r=this.href===null?null:Sb(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(e,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,e,r):i.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:Qi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(D(vt),D(hn),tu("tabindex"),D(In),D(mt),D(si))};static \u0275dir=ge({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&S("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&nr("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",$n],skipLocationChange:[2,"skipLocationChange","skipLocationChange",$n],replaceUrl:[2,"replaceUrl","replaceUrl",$n],routerLink:"routerLink"},features:[Hi,Vn]})}return n})();var vO=new $("");function sE(n,...t){return Go([{provide:Rg,multi:!0,useValue:n},[],{provide:hn,useFactory:yO,deps:[vt]},{provide:uu,multi:!0,useFactory:bO},t.map(e=>e.\u0275providers)])}function yO(n){return n.routerState.root}function _O(n,t){return{\u0275kind:n,\u0275providers:t}}function bO(){let n=M(ht);return t=>{let e=n.get(xr);if(t!==e.components[0])return;let r=n.get(vt),i=n.get(wO);n.get(CO)===1&&r.initialNavigation(),n.get(EO,null,ae.Optional)?.setUpPreloading(),n.get(vO,null,ae.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var wO=new $("",{factory:()=>new We}),CO=new $("",{providedIn:"root",factory:()=>1});var EO=new $("");function aE(){return _O(6,[{provide:si,useClass:zw}])}var Lg;try{Lg=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Lg=!1}var Yu=(()=>{class n{_platformId=M(Ct);isBrowser=this._platformId?Mn(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||Lg)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Vg(n){return Array.isArray(n)?n:[n]}var lE=new Set,Zi,SO=(()=>{class n{_platform=M(Yu);_nonce=M(la,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):xO}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&DO(e,this._nonce),this._matchMedia(e)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function DO(n,t){if(!lE.has(n))try{Zi||(Zi=document.createElement("style"),t&&Zi.setAttribute("nonce",t),Zi.setAttribute("type","text/css"),document.head.appendChild(Zi)),Zi.sheet&&(Zi.sheet.insertRule(`@media ${n} {body{ }}`,0),lE.add(n))}catch(e){console.error(e)}}function xO(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var uE=(()=>{class n{_mediaMatcher=M(SO);_zone=M(Te);_queries=new Map;_destroySubject=new We;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return cE(Vg(e)).some(i=>this._registerQuery(i).mql.matches)}observe(e){let i=cE(Vg(e)).map(s=>this._registerQuery(s).observable),o=Mo(i);return o=Kr(o.pipe(on(1)),o.pipe(up(1),op(0))),o.pipe(J(s=>{let a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:d})=>{a.matches=a.matches||l,a.breakpoints[d]=l}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let r=this._mediaMatcher.matchMedia(e),o={observable:new pe(s=>{let a=l=>this._zone.run(()=>s.next(l));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(Hs(r),J(({matches:s})=>({query:e,matches:s})),zs(this._destroySubject)),mql:r};return this._queries.set(e,o),o}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function cE(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}var Ji=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(Ji||{}),dE="cdk-high-contrast-black-on-white",fE="cdk-high-contrast-white-on-black",jg="cdk-high-contrast-active",pE=(()=>{class n{_platform=M(Yu);_hasCheckedHighContrastMode;_document=M($e);_breakpointSubscription;constructor(){this._breakpointSubscription=M(uE).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Ji.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(e):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Ji.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Ji.BLACK_ON_WHITE}return Ji.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(jg,dE,fE),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===Ji.BLACK_ON_WHITE?e.add(jg,dE):r===Ji.WHITE_ON_BLACK&&e.add(jg,fE)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ug=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ot({type:n});static \u0275inj=it({})}return n})();var Bg=(()=>{class n{constructor(){M(pE)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(r){return new(r||n)};static \u0275mod=ot({type:n});static \u0275inj=it({imports:[Ug,Ug]})}return n})();var IO=["*"],Zu;function TO(){if(Zu===void 0&&(Zu=null,typeof window<"u")){let n=window;n.trustedTypes!==void 0&&(Zu=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return Zu}function Ba(n){return TO()?.createHTML(n)||n}function hE(n){return Error(`Unable to find icon with the name "${n}"`)}function MO(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function mE(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function gE(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}var Ur=class{url;svgText;options;svgElement;constructor(t,e,r){this.url=t,this.svgText=e,this.options=r}},AO=(()=>{class n{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(e,r,i,o){this._httpClient=e,this._sanitizer=r,this._errorHandler=o,this._document=i}addSvgIcon(e,r,i){return this.addSvgIconInNamespace("",e,r,i)}addSvgIconLiteral(e,r,i){return this.addSvgIconLiteralInNamespace("",e,r,i)}addSvgIconInNamespace(e,r,i,o){return this._addSvgIconConfig(e,r,new Ur(i,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,r,i,o){let s=this._sanitizer.sanitize(Et.HTML,i);if(!s)throw gE(i);let a=Ba(s);return this._addSvgIconConfig(e,r,new Ur("",a,o))}addSvgIconSet(e,r){return this.addSvgIconSetInNamespace("",e,r)}addSvgIconSetLiteral(e,r){return this.addSvgIconSetLiteralInNamespace("",e,r)}addSvgIconSetInNamespace(e,r,i){return this._addSvgIconSetConfig(e,new Ur(r,null,i))}addSvgIconSetLiteralInNamespace(e,r,i){let o=this._sanitizer.sanitize(Et.HTML,r);if(!o)throw gE(r);let s=Ba(o);return this._addSvgIconSetConfig(e,new Ur("",s,i))}registerFontClassAlias(e,r=e){return this._fontCssClassesByAlias.set(e,r),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){let r=this._sanitizer.sanitize(Et.RESOURCE_URL,e);if(!r)throw mE(e);let i=this._cachedIconsByUrl.get(r);return i?Z(Ju(i)):this._loadSvgIconFromConfig(new Ur(e,null)).pipe(Ye(o=>this._cachedIconsByUrl.set(r,o)),J(o=>Ju(o)))}getNamedSvgIcon(e,r=""){let i=vE(r,e),o=this._svgIconConfigs.get(i);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(r,e),o)return this._svgIconConfigs.set(i,o),this._getSvgFromConfig(o);let s=this._iconSetConfigs.get(r);return s?this._getSvgFromIconSetConfigs(e,s):Qr(hE(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Z(Ju(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(J(r=>Ju(r)))}_getSvgFromIconSetConfigs(e,r){let i=this._extractIconWithNameFromAnySet(e,r);if(i)return Z(i);let o=r.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(Yn(a=>{let d=`Loading icon set URL: ${this._sanitizer.sanitize(Et.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(d)),Z(null)})));return $s(o).pipe(J(()=>{let s=this._extractIconWithNameFromAnySet(e,r);if(!s)throw hE(e);return s}))}_extractIconWithNameFromAnySet(e,r){for(let i=r.length-1;i>=0;i--){let o=r[i];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){let s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,e,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Ye(r=>e.svgText=r),J(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Z(null):this._fetchIcon(e).pipe(Ye(r=>e.svgText=r))}_extractSvgIconFromSet(e,r,i){let o=e.querySelector(`[id="${r}"]`);if(!o)return null;let s=o.cloneNode(!0);if(s.removeAttribute("id"),s.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(s,i);if(s.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(s),i);let a=this._svgElementFromString(Ba("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,i)}_svgElementFromString(e){let r=this._document.createElement("DIV");r.innerHTML=e;let i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(e){let r=this._svgElementFromString(Ba("<svg></svg>")),i=e.attributes;for(let o=0;o<i.length;o++){let{name:s,value:a}=i[o];s!=="id"&&r.setAttribute(s,a)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&r.appendChild(e.childNodes[o].cloneNode(!0));return r}_setSvgAttributes(e,r){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),r&&r.viewBox&&e.setAttribute("viewBox",r.viewBox),e}_fetchIcon(e){let{url:r,options:i}=e,o=i?.withCredentials??!1;if(!this._httpClient)throw MO();if(r==null)throw Error(`Cannot fetch icon from URL "${r}".`);let s=this._sanitizer.sanitize(Et.RESOURCE_URL,r);if(!s)throw mE(r);let a=this._inProgressUrlFetches.get(s);if(a)return a;let l=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(J(d=>Ba(d)),yr(()=>this._inProgressUrlFetches.delete(s)),cp());return this._inProgressUrlFetches.set(s,l),l}_addSvgIconConfig(e,r,i){return this._svgIconConfigs.set(vE(e,r),i),this}_addSvgIconSetConfig(e,r){let i=this._iconSetConfigs.get(e);return i?i.push(r):this._iconSetConfigs.set(e,[r]),this}_svgElementFromConfig(e){if(!e.svgElement){let r=this._svgElementFromString(e.svgText);this._setSvgAttributes(r,e.options),e.svgElement=r}return e.svgElement}_getIconConfigFromResolvers(e,r){for(let i=0;i<this._resolvers.length;i++){let o=this._resolvers[i](r,e);if(o)return kO(o)?new Ur(o.url,null,o.options):new Ur(o,null)}}static \u0275fac=function(r){return new(r||n)(F(Hm,8),F(Ea),F($e,8),F(zt))};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ju(n){return n.cloneNode(!0)}function vE(n,t){return n+":"+t}function kO(n){return!!(n.url&&n.options)}var NO=new $("MAT_ICON_DEFAULT_OPTIONS"),PO=new $("mat-icon-location",{providedIn:"root",factory:OO});function OO(){let n=M($e),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}var yE=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],RO=yE.map(n=>`[${n}]`).join(", "),FO=/^url\(['"]?#(.*?)['"]?\)$/,kn=(()=>{class n{_elementRef=M(mt);_iconRegistry=M(AO);_location=M(PO);_errorHandler=M(zt);_defaultColor;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(e){let r=this._cleanupFontValue(e);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(e){let r=this._cleanupFontValue(e);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=Ue.EMPTY;constructor(){let e=M(new Ic("aria-hidden"),{optional:!0}),r=M(NO,{optional:!0});r&&(r.color&&(this.color=this._defaultColor=r.color),r.fontSet&&(this.fontSet=r.fontSet)),e||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];let r=e.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let e=this._elementsWithExternalReferences;if(e&&e.size){let r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();let r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){let e=this._elementRef.nativeElement,r=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){let i=e.childNodes[r];(i.nodeType!==1||i.nodeName.toLowerCase()==="svg")&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let e=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>e.classList.remove(i)),r.forEach(i=>e.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return typeof e=="string"?e.trim().split(" ")[0]:e}_prependPathToReferences(e){let r=this._elementsWithExternalReferences;r&&r.forEach((i,o)=>{i.forEach(s=>{o.setAttribute(s.name,`url('${e}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(e){let r=e.querySelectorAll(RO),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<r.length;o++)yE.forEach(s=>{let a=r[o],l=a.getAttribute(s),d=l?l.match(FO):null;if(d){let p=i.get(a);p||(p=[],i.set(a,p)),p.push({name:s,value:d[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){let[r,i]=this._splitIconName(e);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(on(1)).subscribe(o=>this._setSvgElement(o),o=>{let s=`Error retrieving icon ${r}:${i}! ${o.message}`;this._errorHandler.handleError(new Error(s))})}}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=V({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(r,i){r&2&&(nr("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),du(i.color?"mat-"+i.color:""),xe("mat-icon-inline",i.inline)("mat-icon-no-color",i.color!=="primary"&&i.color!=="accent"&&i.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",$n],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Hi],ngContentSelectors:IO,decls:1,vars:0,template:function(r,i){r&1&&(mm(),gm(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return n})(),Xu=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ot({type:n});static \u0275inj=it({imports:[Bg,Bg]})}return n})();var bE=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>import("./chunk-MAQGHWLI.js").then(({default:r})=>r(...e)):t=fetch,(...e)=>t(...e)};var $a=class extends Error{constructor(t,e="FunctionsError",r){super(t),this.name=e,this.context=r}},ed=class extends $a{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},td=class extends $a{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},nd=class extends $a{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}},$g=function(n){return n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2",n}($g||{});var LO=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(p){try{d(r.next(p))}catch(m){s(m)}}function l(p){try{d(r.throw(p))}catch(m){s(m)}}function d(p){p.done?o(p.value):i(p.value).then(a,l)}d((r=r.apply(n,t||[])).next())})},Ha=class{constructor(t,{headers:e={},customFetch:r,region:i=$g.Any}={}){this.url=t,this.headers=e,this.region=i,this.fetch=bE(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,e={}){var r;return LO(this,void 0,void 0,function*(){try{let{headers:i,method:o,body:s}=e,a={},{region:l}=e;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let d;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",d=s):typeof s=="string"?(a["Content-Type"]="text/plain",d=s):typeof FormData<"u"&&s instanceof FormData?d=s:(a["Content-Type"]="application/json",d=JSON.stringify(s)));let p=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:d}).catch(w=>{throw new ed(w)}),m=p.headers.get("x-relay-error");if(m&&m==="true")throw new td(p);if(!p.ok)throw new nd(p);let y=((r=p.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),v;return y==="application/json"?v=yield p.json():y==="application/octet-stream"?v=yield p.blob():y==="text/event-stream"?v=p:y==="multipart/form-data"?v=yield p.formData():v=yield p.text(),{data:v,error:null}}catch(i){return{data:null,error:i}}})}};var PE=j1(NE(),1),{PostgrestClient:OE,PostgrestQueryBuilder:oq,PostgrestFilterBuilder:sq,PostgrestTransformBuilder:aq,PostgrestBuilder:lq,PostgrestError:KO}=PE.default;var RE="2.11.2";var FE={"X-Client-Info":`realtime-js/${RE}`},LE="1.0.0",sd=1e4,VE=1e3,ds=function(n){return n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed",n}(ds||{}),mn=function(n){return n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving",n}(mn||{}),Nn=function(n){return n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token",n}(Nn||{}),e0=function(n){return n.websocket="websocket",n}(e0||{}),Xi=function(n){return n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed",n}(Xi||{});var ad=class{constructor(){this.HEADER_LENGTH=1}decode(t,e){return t.constructor===ArrayBuffer?e(this._binaryDecode(t)):e(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){let e=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,e,r)}_decodeBroadcast(t,e,r){let i=e.getUint8(1),o=e.getUint8(2),s=this.HEADER_LENGTH+2,a=r.decode(t.slice(s,s+i));s=s+i;let l=r.decode(t.slice(s,s+o));s=s+o;let d=JSON.parse(r.decode(t.slice(s,t.byteLength)));return{ref:null,topic:a,event:l,payload:d}}};var fs=class{constructor(t,e){this.callback=t,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Ve=function(n){return n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange",n}(Ve||{}),n0=(n,t,e={})=>{var r;let i=(r=e.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((o,s)=>(o[s]=YO(s,n,t,i),o),{})},YO=(n,t,e,r)=>{let i=t.find(a=>a.name===n),o=i?.type,s=e[n];return o&&!r.includes(o)?jE(o,s):t0(s)},jE=(n,t)=>{if(n.charAt(0)==="_"){let e=n.slice(1,n.length);return eR(t,e)}switch(n){case Ve.bool:return ZO(t);case Ve.float4:case Ve.float8:case Ve.int2:case Ve.int4:case Ve.int8:case Ve.numeric:case Ve.oid:return JO(t);case Ve.json:case Ve.jsonb:return XO(t);case Ve.timestamp:return tR(t);case Ve.abstime:case Ve.date:case Ve.daterange:case Ve.int4range:case Ve.int8range:case Ve.money:case Ve.reltime:case Ve.text:case Ve.time:case Ve.timestamptz:case Ve.timetz:case Ve.tsrange:case Ve.tstzrange:return t0(t);default:return t0(t)}},t0=n=>n,ZO=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},JO=n=>{if(typeof n=="string"){let t=parseFloat(n);if(!Number.isNaN(t))return t}return n},XO=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(t){return console.log(`JSON parse error: ${t}`),n}return n},eR=(n,t)=>{if(typeof n!="string")return n;let e=n.length-1,r=n[e];if(n[0]==="{"&&r==="}"){let o,s=n.slice(1,e);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>jE(t,a))}return n},tR=n=>typeof n=="string"?n.replace(" ","T"):n,ld=n=>{let t=n;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};var ps=class{constructor(t,e,r={},i=sd){this.channel=t,this.event=e,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,e){var r;return this._hasReceived(t)&&e((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:e}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let t=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:e}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(e))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}};var Ya=class n{constructor(t,e){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=e?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=n.syncState(this.state,i,o,s),this.pendingDiffs.forEach(l=>{this.state=n.syncDiff(this.state,l,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=n.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,e,r,i){let o=this.cloneDeep(t),s=this.transformState(e),a={},l={};return this.map(o,(d,p)=>{s[d]||(l[d]=p)}),this.map(s,(d,p)=>{let m=o[d];if(m){let y=p.map(x=>x.presence_ref),v=m.map(x=>x.presence_ref),w=p.filter(x=>v.indexOf(x.presence_ref)<0),C=m.filter(x=>y.indexOf(x.presence_ref)<0);w.length>0&&(a[d]=w),C.length>0&&(l[d]=C)}else a[d]=p}),this.syncDiff(o,{joins:a,leaves:l},r,i)}static syncDiff(t,e,r,i){let{joins:o,leaves:s}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,l)=>{var d;let p=(d=t[a])!==null&&d!==void 0?d:[];if(t[a]=this.cloneDeep(l),p.length>0){let m=t[a].map(v=>v.presence_ref),y=p.filter(v=>m.indexOf(v.presence_ref)<0);t[a].unshift(...y)}r(a,p,l)}),this.map(s,(a,l)=>{let d=t[a];if(!d)return;let p=l.map(m=>m.presence_ref);d=d.filter(m=>p.indexOf(m.presence_ref)<0),t[a]=d,i(a,d,l),d.length===0&&delete t[a]}),t}static map(t,e){return Object.getOwnPropertyNames(t).map(r=>e(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((e,r)=>{let i=t[r];return"metas"in i?e[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):e[r]=i,e},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Br=function(n){return n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR",n}(Br||{});var Za=class n{constructor(t,e={config:{}},r){this.topic=t,this.params=e,this.socket=r,this.bindings={},this.state=mn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},e.config),this.timeout=this.socket.timeout,this.joinPush=new ps(this,Nn.join,this.params,this.timeout),this.rejoinTimer=new fs(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=mn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=mn.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=mn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=mn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Nn.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new Ya(this),this.broadcastEndpointURL=ld(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,e=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:o,presence:s,private:a}}=this.params;this._onError(p=>t?.(Br.CHANNEL_ERROR,p)),this._onClose(()=>t?.(Br.CLOSED));let l={},d={broadcast:o,presence:s,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},l)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",async({postgres_changes:p})=>{var m;if(this.socket.setAuth(),p===void 0){t?.(Br.SUBSCRIBED);return}else{let y=this.bindings.postgres_changes,v=(m=y?.length)!==null&&m!==void 0?m:0,w=[];for(let C=0;C<v;C++){let x=y[C],{filter:{event:A,schema:j,table:U,filter:q}}=x,K=p&&p[C];if(K&&K.event===A&&K.schema===j&&K.table===U&&K.filter===q)w.push(Object.assign(Object.assign({},x),{id:K.id}));else{this.unsubscribe(),t?.(Br.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(Br.SUBSCRIBED);return}}).receive("error",p=>{t?.(Br.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t?.(Br.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,e={}){return await this.send({type:"presence",event:"track",payload:t},e.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,e,r){return this._on(t,e,r)}async send(t,e={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){let{event:o,payload:s}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:s,private:this.private}]})};try{let d=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=e.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var s,a,l;let d=this._push(t.type,t,e.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(s=this.params)===null||s===void 0?void 0:s.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),d.receive("ok",()=>o("ok")),d.receive("error",()=>o("error")),d.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=mn.leaving;let e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Nn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{let i=new ps(this,Nn.leave,{},t);i.receive("ok",()=>{e(),r("ok")}).receive("timeout",()=>{e(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(t,e,r){let i=new AbortController,o=setTimeout(()=>i.abort(),r),s=await this.socket.fetch(t,Object.assign(Object.assign({},e),{signal:i.signal}));return clearTimeout(o),s}_push(t,e,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new ps(this,t,e,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,e,r){return e}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,e,r){var i,o;let s=t.toLocaleLowerCase(),{close:a,error:l,leave:d,join:p}=Nn;if(r&&[a,l,d,p].indexOf(s)>=0&&r!==this._joinRef())return;let y=this._onMessage(s,e,r);if(e&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(v=>{var w,C,x;return((w=v.filter)===null||w===void 0?void 0:w.event)==="*"||((x=(C=v.filter)===null||C===void 0?void 0:C.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===s}).map(v=>v.callback(y,r)):(o=this.bindings[s])===null||o===void 0||o.filter(v=>{var w,C,x,A,j,U;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in v){let q=v.id,K=(w=v.filter)===null||w===void 0?void 0:w.event;return q&&((C=e.ids)===null||C===void 0?void 0:C.includes(q))&&(K==="*"||K?.toLocaleLowerCase()===((x=e.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{let q=(j=(A=v?.filter)===null||A===void 0?void 0:A.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return q==="*"||q===((U=e?.event)===null||U===void 0?void 0:U.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===s}).map(v=>{if(typeof y=="object"&&"ids"in y){let w=y.data,{schema:C,table:x,commit_timestamp:A,type:j,errors:U}=w;y=Object.assign(Object.assign({},{schema:C,table:x,commit_timestamp:A,eventType:j,new:{},old:{},errors:U}),this._getPayloadRecords(w))}v.callback(y,r)})}_isClosed(){return this.state===mn.closed}_isJoined(){return this.state===mn.joined}_isJoining(){return this.state===mn.joining}_isLeaving(){return this.state===mn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,e,r){let i=t.toLocaleLowerCase(),o={type:i,filter:e,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,e){let r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&n.isEqual(i.filter,e))}),this}static isEqual(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(let r in t)if(t[r]!==e[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Nn.close,{},t)}_onError(t){this._on(Nn.error,{},e=>t(e))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=mn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){let e={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(e.new=n0(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(e.old=n0(t.columns,t.old_record)),e}};var rR=()=>{},iR=typeof WebSocket<"u",oR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Ja=class{constructor(t,e){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=FE,this.params={},this.timeout=sd,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=rR,this.conn=null,this.sendBuffer=[],this.serializer=new ad,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...a)=>import("./chunk-MAQGHWLI.js").then(({default:l})=>l(...a)):s=fetch,(...a)=>s(...a)},this.endPoint=`${t}/${e0.websocket}`,this.httpEndpoint=ld(t),e?.transport?this.transport=e.transport:this.transport=null,e?.params&&(this.params=e.params),e?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),e.headers)),e?.timeout&&(this.timeout=e.timeout),e?.logger&&(this.logger=e.logger),e?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=e.heartbeatIntervalMs);let i=(r=e?.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=e?.reconnectAfterMs?e.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=e?.encode?e.encode:(o,s)=>s(JSON.stringify(o)),this.decode=e?.decode?e.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new fs(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(e?.fetch),e?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=e?.worker||!1,this.workerUrl=e?.workerUrl}this.accessToken=e?.accessToken||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(iR){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new r0(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),import("./chunk-KYSFV2V4.js").then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:LE}))}disconnect(t,e){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,e??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){let e=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),e}async removeAllChannels(){let t=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.disconnect(),t}log(t,e,r){this.logger(t,e,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ds.connecting:return Xi.Connecting;case ds.open:return Xi.Open;case ds.closing:return Xi.Closing;default:return Xi.Closed}}isConnected(){return this.connectionState()===Xi.Open}channel(t,e={config:{}}){let r=new Za(`realtime:${t}`,e,this);return this.channels.push(r),r}push(t){let{topic:e,event:r,payload:i,ref:o}=t,s=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${e} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){let e=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(e){let r=null;try{r=JSON.parse(atob(e.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=e,this.channels.forEach(i=>{e&&i.updateJoinPayload({access_token:e}),i.joinedOnce&&i._isJoined()&&i._push(Nn.access_token,{access_token:e})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(VE,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let e=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));e&&(this.log("transport",`leaving duplicate topic "${t}"`),e.unsubscribe())}_remove(t){this.channels=this.channels.filter(e=>e._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,e=>{let{topic:r,event:i,payload:o,ref:s}=e;s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${i} ${s&&"("+s+")"||""}`,o),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,o,s)),this.stateChangeCallbacks.message.forEach(a=>a(e))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{e.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(e=>e(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(e=>e(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Nn.error))}_appendParams(t,e){if(Object.keys(e).length===0)return t;let r=t.match(/\?/)?"&":"?",i=new URLSearchParams(e);return`${t}${r}${i}`}_workerObjectUrl(t){let e;if(t)e=t;else{let r=new Blob([oR],{type:"application/javascript"});e=URL.createObjectURL(r)}return e}};var r0=class{constructor(t,e,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ds.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}};var hs=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function tt(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var cd=class extends hs{constructor(t,e){super(t),this.name="StorageApiError",this.status=e}toJSON(){return{name:this.name,message:this.message,status:this.status}}},eo=class extends hs{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};var sR=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(p){try{d(r.next(p))}catch(m){s(m)}}function l(p){try{d(r.throw(p))}catch(m){s(m)}}function d(p){p.done?o(p.value):i(p.value).then(a,l)}d((r=r.apply(n,t||[])).next())})},dd=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>import("./chunk-MAQGHWLI.js").then(({default:r})=>r(...e)):t=fetch,(...e)=>t(...e)},UE=()=>sR(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-MAQGHWLI.js")).Response:Response}),ud=n=>{if(Array.isArray(n))return n.map(e=>ud(e));if(typeof n=="function"||n!==Object(n))return n;let t={};return Object.entries(n).forEach(([e,r])=>{let i=e.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=ud(r)}),t};var to=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(p){try{d(r.next(p))}catch(m){s(m)}}function l(p){try{d(r.throw(p))}catch(m){s(m)}}function d(p){p.done?o(p.value):i(p.value).then(a,l)}d((r=r.apply(n,t||[])).next())})},i0=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),aR=(n,t,e)=>to(void 0,void 0,void 0,function*(){let r=yield UE();n instanceof r&&!e?.noResolveJson?n.json().then(i=>{t(new cd(i0(i),n.status||500))}).catch(i=>{t(new eo(i0(i),i))}):t(new eo(i0(n),n))}),lR=(n,t,e,r)=>{let i={method:n,headers:t?.headers||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),e))};function Xa(n,t,e,r,i,o){return to(this,void 0,void 0,function*(){return new Promise((s,a)=>{n(e,lR(t,r,i,o)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>aR(l,a,r))})})}function ms(n,t,e,r){return to(this,void 0,void 0,function*(){return Xa(n,"GET",t,e,r)})}function sr(n,t,e,r,i){return to(this,void 0,void 0,function*(){return Xa(n,"POST",t,r,i,e)})}function BE(n,t,e,r,i){return to(this,void 0,void 0,function*(){return Xa(n,"PUT",t,r,i,e)})}function $E(n,t,e,r){return to(this,void 0,void 0,function*(){return Xa(n,"HEAD",t,Object.assign(Object.assign({},e),{noResolveJson:!0}),r)})}function fd(n,t,e,r,i){return to(this,void 0,void 0,function*(){return Xa(n,"DELETE",t,r,i,e)})}var Wt=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(p){try{d(r.next(p))}catch(m){s(m)}}function l(p){try{d(r.throw(p))}catch(m){s(m)}}function d(p){p.done?o(p.value):i(p.value).then(a,l)}d((r=r.apply(n,t||[])).next())})},cR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},HE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},pd=class{constructor(t,e={},r,i){this.url=t,this.headers=e,this.bucketId=r,this.fetch=dd(i)}uploadOrUpdate(t,e,r,i){return Wt(this,void 0,void 0,function*(){try{let o,s=Object.assign(Object.assign({},HE),i),a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)}),l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));let d=this._removeEmptyFolders(e),p=this._getFinalPath(d),m=yield this.fetch(`${this.url}/object/${p}`,Object.assign({method:t,body:o,headers:a},s?.duplex?{duplex:s.duplex}:{})),y=yield m.json();return m.ok?{data:{path:d,id:y.Id,fullPath:y.Key},error:null}:{data:null,error:y}}catch(o){if(tt(o))return{data:null,error:o};throw o}})}upload(t,e,r){return Wt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,e,r)})}uploadToSignedUrl(t,e,r,i){return Wt(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(t),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",e);try{let l,d=Object.assign({upsert:HE.upsert},i),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",d.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",d.cacheControl)):(l=r,p["cache-control"]=`max-age=${d.cacheControl}`,p["content-type"]=d.contentType);let m=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:p}),y=yield m.json();return m.ok?{data:{path:o,fullPath:y.Key},error:null}:{data:null,error:y}}catch(l){if(tt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,e){return Wt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),i=Object.assign({},this.headers);e?.upsert&&(i["x-upsert"]="true");let o=yield sr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new hs("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:a},error:null}}catch(r){if(tt(r))return{data:null,error:r};throw r}})}update(t,e,r){return Wt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,e,r)})}move(t,e,r){return Wt(this,void 0,void 0,function*(){try{return{data:yield sr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(tt(i))return{data:null,error:i};throw i}})}copy(t,e,r){return Wt(this,void 0,void 0,function*(){try{return{data:{path:(yield sr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(tt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,e,r){return Wt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),o=yield sr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(tt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,e,r){return Wt(this,void 0,void 0,function*(){try{let i=yield sr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:t},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(tt(i))return{data:null,error:i};throw i}})}download(t,e){return Wt(this,void 0,void 0,function*(){let i=typeof e?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(e?.transform||{}),s=o?`?${o}`:"";try{let a=this._getFinalPath(t);return{data:yield(yield ms(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(tt(a))return{data:null,error:a};throw a}})}info(t){return Wt(this,void 0,void 0,function*(){let e=this._getFinalPath(t);try{let r=yield ms(this.fetch,`${this.url}/object/info/${e}`,{headers:this.headers});return{data:ud(r),error:null}}catch(r){if(tt(r))return{data:null,error:r};throw r}})}exists(t){return Wt(this,void 0,void 0,function*(){let e=this._getFinalPath(t);try{return yield $E(this.fetch,`${this.url}/object/${e}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(tt(r)&&r instanceof eo){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,e){let r=this._getFinalPath(t),i=[],o=e?.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&i.push(o);let a=typeof e?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(e?.transform||{});l!==""&&i.push(l);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${d}`)}}}remove(t){return Wt(this,void 0,void 0,function*(){try{return{data:yield fd(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(e){if(tt(e))return{data:null,error:e};throw e}})}list(t,e,r){return Wt(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},cR),e),{prefix:t||""});return{data:yield sr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(tt(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){let e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};var zE="2.7.1";var qE={"X-Client-Info":`storage-js/${zE}`};var gs=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(p){try{d(r.next(p))}catch(m){s(m)}}function l(p){try{d(r.throw(p))}catch(m){s(m)}}function d(p){p.done?o(p.value):i(p.value).then(a,l)}d((r=r.apply(n,t||[])).next())})},hd=class{constructor(t,e={},r){this.url=t,this.headers=Object.assign(Object.assign({},qE),e),this.fetch=dd(r)}listBuckets(){return gs(this,void 0,void 0,function*(){try{return{data:yield ms(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(tt(t))return{data:null,error:t};throw t}})}getBucket(t){return gs(this,void 0,void 0,function*(){try{return{data:yield ms(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(e){if(tt(e))return{data:null,error:e};throw e}})}createBucket(t,e={public:!1}){return gs(this,void 0,void 0,function*(){try{return{data:yield sr(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(tt(r))return{data:null,error:r};throw r}})}updateBucket(t,e){return gs(this,void 0,void 0,function*(){try{return{data:yield BE(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(tt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return gs(this,void 0,void 0,function*(){try{return{data:yield sr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(tt(e))return{data:null,error:e};throw e}})}deleteBucket(t){return gs(this,void 0,void 0,function*(){try{return{data:yield fd(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(e){if(tt(e))return{data:null,error:e};throw e}})}};var el=class extends hd{constructor(t,e={},r){super(t,e,r)}from(t){return new pd(this.url,this.headers,t,this.fetch)}};var GE="2.48.1";var tl="";typeof Deno<"u"?tl="deno":typeof document<"u"?tl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?tl="react-native":tl="node";var uR={"X-Client-Info":`supabase-js-${tl}/${GE}`},WE={headers:uR},QE={schema:"public"},KE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},YE={};gv();var dR=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(p){try{d(r.next(p))}catch(m){s(m)}}function l(p){try{d(r.throw(p))}catch(m){s(m)}}function d(p){p.done?o(p.value):i(p.value).then(a,l)}d((r=r.apply(n,t||[])).next())})},fR=n=>{let t;return n?t=n:typeof fetch>"u"?t=hv:t=fetch,(...e)=>t(...e)},pR=()=>typeof Headers>"u"?mv:Headers,ZE=(n,t,e)=>{let r=fR(e),i=pR();return(o,s)=>dR(void 0,void 0,void 0,function*(){var a;let l=(a=yield t())!==null&&a!==void 0?a:n,d=new i(s?.headers);return d.has("apikey")||d.set("apikey",n),d.has("Authorization")||d.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},s),{headers:d}))})};var hR=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(p){try{d(r.next(p))}catch(m){s(m)}}function l(p){try{d(r.throw(p))}catch(m){s(m)}}function d(p){p.done?o(p.value):i(p.value).then(a,l)}d((r=r.apply(n,t||[])).next())})};function JE(n){return n.replace(/\/$/,"")}function XE(n,t){let{db:e,auth:r,realtime:i,global:o}=n,{db:s,auth:a,realtime:l,global:d}=t,p={db:Object.assign(Object.assign({},s),e),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},d),o),accessToken:()=>hR(this,void 0,void 0,function*(){return""})};return n.accessToken?p.accessToken=n.accessToken:delete p.accessToken,p}function eS(n){return Math.round(Date.now()/1e3)+n}function tS(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){let t=Math.random()*16|0;return(n=="x"?t:t&3|8).toString(16)})}var Gn=()=>typeof document<"u",no={tested:!1,writable:!1},fi=()=>{if(!Gn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(no.tested)return no.writable;let n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),no.tested=!0,no.writable=!0}catch{no.tested=!0,no.writable=!1}return no.writable};function md(n){let t={},e=new URL(n);if(e.hash&&e.hash[0]==="#")try{new URLSearchParams(e.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return e.searchParams.forEach((r,i)=>{t[i]=r}),t}var gd=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>import("./chunk-MAQGHWLI.js").then(({default:r})=>r(...e)):t=fetch,(...e)=>t(...e)},nS=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",pi=async(n,t,e)=>{await n.setItem(t,JSON.stringify(e))},rl=async(n,t)=>{let e=await n.getItem(t);if(!e)return null;try{return JSON.parse(e)}catch{return e}},vd=async(n,t)=>{await n.removeItem(t)};function mR(n){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e="",r,i,o,s,a,l,d,p=0;for(n=n.replace("-","+").replace("_","/");p<n.length;)s=t.indexOf(n.charAt(p++)),a=t.indexOf(n.charAt(p++)),l=t.indexOf(n.charAt(p++)),d=t.indexOf(n.charAt(p++)),r=s<<2|a>>4,i=(a&15)<<4|l>>2,o=(l&3)<<6|d,e=e+String.fromCharCode(r),l!=64&&i!=0&&(e=e+String.fromCharCode(i)),d!=64&&o!=0&&(e=e+String.fromCharCode(o));return e}var nl=class n{constructor(){this.promise=new n.promiseConstructor((t,e)=>{this.resolve=t,this.reject=e})}};nl.promiseConstructor=Promise;function o0(n){let t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,e=n.split(".");if(e.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(e[1]))throw new Error("JWT is not valid: payload is not in base64url format");let r=e[1];return JSON.parse(mR(r))}async function rS(n){return await new Promise(t=>{setTimeout(()=>t(null),n)})}function iS(n,t){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{let s=await n(o);if(!t(o,null,s)){r(s);return}}catch(s){if(!t(o,s)){i(s);return}}})()})}function gR(n){return("0"+n.toString(16)).substr(-2)}function ro(){let t=new Uint32Array(56);if(typeof crypto>"u"){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=e.length,i="";for(let o=0;o<56;o++)i+=e.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,gR).join("")}async function vR(n){let e=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",e),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}function yR(n){return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function io(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;let e=await vR(n);return yR(e)}var il=class extends Error{constructor(t,e){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=e}};function de(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}var yd=class extends il{constructor(t,e){super(t,e),this.name="AuthApiError",this.status=e}toJSON(){return{name:this.name,message:this.message,status:this.status}}};function oS(n){return de(n)&&n.name==="AuthApiError"}var vs=class extends il{constructor(t,e){super(t),this.name="AuthUnknownError",this.originalError=e}},$r=class extends il{constructor(t,e,r){super(t),this.name=e,this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}},Hr=class extends $r{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}},ys=class extends $r{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}},oo=class extends $r{constructor(t){super(t,"AuthInvalidCredentialsError",400)}},so=class extends $r{constructor(t,e=null){super(t,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},ol=class extends $r{constructor(t,e=null){super(t,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},_s=class extends $r{constructor(t,e){super(t,"AuthRetryableFetchError",e)}};function bd(n){return de(n)&&n.name==="AuthRetryableFetchError"}var _d=class extends $r{constructor(t,e,r){super(t,"AuthWeakPasswordError",e),this.reasons=r}};var _R=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},bs=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),bR=[502,503,504];async function sS(n){if(!nS(n))throw new _s(bs(n),0);if(bR.includes(n.status))throw new _s(bs(n),n.status);let t;try{t=await n.json()}catch(e){throw new vs(bs(e),e)}throw typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((e,r)=>e&&typeof r=="string",!0)?new _d(bs(t),n.status,t.weak_password.reasons):new yd(bs(t),n.status||500)}var wR=(n,t,e,r)=>{let i={method:n,headers:t?.headers||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),e))};async function me(n,t,e,r){var i;let o=Object.assign({},r?.headers);r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await CR(n,t,e+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}}async function CR(n,t,e,r,i,o){let s=wR(t,r,i,o),a;try{a=await n(e,s)}catch(l){throw console.error(l),new _s(bs(l),0)}if(a.ok||await sS(a),r?.noResolveJson)return a;try{return await a.json()}catch(l){await sS(l)}}function hi(n){var t;let e=null;ER(n)&&(e=Object.assign({},n),n.expires_at||(e.expires_at=eS(n.expires_in)));let r=(t=n.user)!==null&&t!==void 0?t:n;return{data:{session:e,user:r},error:null}}function s0(n){let t=hi(n);return!t.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((e,r)=>e&&typeof r=="string",!0)&&(t.data.weak_password=n.weak_password),t}function ar(n){var t;return{data:{user:(t=n.user)!==null&&t!==void 0?t:n},error:null}}function aS(n){return{data:n,error:null}}function lS(n){let{action_link:t,email_otp:e,hashed_token:r,redirect_to:i,verification_type:o}=n,s=_R(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:e,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function cS(n){return n}function ER(n){return n.access_token&&n.refresh_token&&n.expires_in}var SR=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},ws=class{constructor({url:t="",headers:e={},fetch:r}){this.url=t,this.headers=e,this.fetch=gd(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,e="global"){try{return await me(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,e={}){try{return await me(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:ar})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{let{options:e}=t,r=SR(t,["options"]),i=Object.assign(Object.assign({},r),e);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await me(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:lS,redirectTo:e?.redirectTo})}catch(e){if(de(e))return{data:{properties:null,user:null},error:e};throw e}}async createUser(t){try{return await me(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ar})}catch(e){if(de(e))return{data:{user:null},error:e};throw e}}async listUsers(t){var e,r,i,o,s,a,l;try{let d={nextPage:null,lastPage:0,total:0},p=await me(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(e=t?.page)===null||e===void 0?void 0:e.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:cS});if(p.error)throw p.error;let m=await p.json(),y=(s=p.headers.get("x-total-count"))!==null&&s!==void 0?s:0,v=(l=(a=p.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(w=>{let C=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(w.split(";")[1].split("=")[1]);d[`${x}Page`]=C}),d.total=parseInt(y)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(de(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){try{return await me(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ar})}catch(e){if(de(e))return{data:{user:null},error:e};throw e}}async updateUserById(t,e){try{return await me(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:e,headers:this.headers,xform:ar})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,e=!1){try{return await me(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:e},xform:ar})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{let{data:e,error:r}=await me(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:e,error:r}}catch(e){if(de(e))return{data:null,error:e};throw e}}async _deleteFactor(t){try{return{data:await me(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(e){if(de(e))return{data:null,error:e};throw e}}};var wd="2.61.0";var uS="http://localhost:9999",dS="supabase.auth.token";var fS={"X-Client-Info":`gotrue-js/${wd}`},a0=10;var pS={getItem:n=>fi()?globalThis.localStorage.getItem(n):null,setItem:(n,t)=>{fi()&&globalThis.localStorage.setItem(n,t)},removeItem:n=>{fi()&&globalThis.localStorage.removeItem(n)}};function l0(n={}){return{getItem:t=>n[t]||null,setItem:(t,e)=>{n[t]=e},removeItem:t=>{delete n[t]}}}function hS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var DR={debug:!!(globalThis&&fi()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Cd=class extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}};hS();var xR={url:uS,storageKey:dS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:fS,flowType:"implicit",debug:!1},sl=30*1e3,mS=3;async function IR(n,t,e){return await e()}var c0=(()=>{class n{constructor(e){var r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=n.nextInstanceID,n.nextInstanceID+=1,this.instanceID>0&&Gn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let i=Object.assign(Object.assign({},xR),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new ws({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=gd(i.fetch),this.lock=i.lock||IR,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:fi()?this.storage=pS:(this.memoryStorage={},this.storage=l0(this.memoryStorage)):(this.memoryStorage={},this.storage=l0(this.memoryStorage)),Gn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${wd}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{let e=Gn()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){let{data:r,error:i}=await this._getSessionFromURL(e);if(i)return this._debug("#_initialize()","error detecting session from URL",i),i?.message==="Identity is already linked"||i?.message==="Identity is already linked to another user"?{error:i}:(await this._removeSession(),{error:i});let{session:o,redirectType:s}=r;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return de(e)?{error:e}:{error:new vs("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signUp(e){var r,i,o;try{await this._removeSession();let s;if("email"in e){let{email:m,password:y,options:v}=e,w=null,C=null;if(this.flowType==="pkce"){let x=ro();await pi(this.storage,`${this.storageKey}-code-verifier`,x),w=await io(x),C=x===w?"plain":"s256"}s=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:m,password:y,data:(r=v?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:w,code_challenge_method:C},xform:hi})}else if("phone"in e){let{phone:m,password:y,options:v}=e;s=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:y,data:(i=v?.data)!==null&&i!==void 0?i:{},channel:(o=v?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:hi})}else throw new oo("You must provide either an email or phone number and a password");let{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};let d=a.session,p=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:p,session:d},error:null}}catch(s){if(de(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{await this._removeSession();let r;if("email"in e){let{email:s,password:a,options:l}=e;r=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:s0})}else if("phone"in e){let{phone:s,password:a,options:l}=e;r=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:s0})}else throw new oo("You must provide either an email or phone number and a password");let{data:i,error:o}=r;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new ys}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(de(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,i,o,s;return await this._removeSession(),await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){let r=await rl(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/"),{data:s,error:a}=await me(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:hi});return await vd(this.storage,`${this.storageKey}-code-verifier`),a?{data:{user:null,session:null,redirectType:null},error:a}:!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new ys}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})}async signInWithIdToken(e){await this._removeSession();try{let{options:r,provider:i,token:o,access_token:s,nonce:a}=e,l=await me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:hi}),{data:d,error:p}=l;return p?{data:{user:null,session:null},error:p}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new ys}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:p})}catch(r){if(de(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,i,o,s,a;try{if(await this._removeSession(),"email"in e){let{email:l,options:d}=e,p=null,m=null;if(this.flowType==="pkce"){let v=ro();await pi(this.storage,`${this.storageKey}-code-verifier`,v),p=await io(v),m=v===p?"plain":"s256"}let{error:y}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=d?.data)!==null&&r!==void 0?r:{},create_user:(i=d?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:p,code_challenge_method:m},redirectTo:d?.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in e){let{phone:l,options:d}=e,{data:p,error:m}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(o=d?.data)!==null&&o!==void 0?o:{},create_user:(s=d?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(a=d?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:p?.message_id},error:m}}throw new oo("You must provide either an email or phone number.")}catch(l){if(de(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,i;try{e.type!=="email_change"&&e.type!=="phone_change"&&await this._removeSession();let o,s;"options"in e&&(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(i=e.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:l}=await me(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:hi});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");let d=a.session,p=a.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:p,session:d},error:null}}catch(o){if(de(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var r,i,o;try{await this._removeSession();let s=null,a=null;if(this.flowType==="pkce"){let l=ro();await pi(this.storage,`${this.storageKey}-code-verifier`,l),s=await io(l),a=l===s?"plain":"s256"}return await me(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:aS})}catch(s){if(de(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{let{data:{session:r},error:i}=e;if(i)throw i;if(!r)throw new Hr;let{error:o}=await me(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(de(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{e.type!="email_change"&&e.type!="phone_change"&&await this._removeSession();let r=`${this.url}/resend`;if("email"in e){let{email:i,type:o,options:s}=e,{error:a}=await me(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){let{phone:i,type:o,options:s}=e,{data:a,error:l}=await me(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:l}}throw new oo("You must provide either an email or phone number and a type")}catch(r){if(de(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){let o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{let r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null,r=await rl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};let i=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i)return{data:{session:e},error:null};let{session:o,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ar}):await this._useSession(async r=>{var i,o;let{data:s,error:a}=r;if(a)throw a;return await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:ar})})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async i=>{let{data:o,error:s}=i;if(s)throw s;if(!o.session)throw new Hr;let a=o.session,l=null,d=null;if(this.flowType==="pkce"&&e.email!=null){let y=ro();await pi(this.storage,`${this.storageKey}-code-verifier`,y),l=await io(y),d=y===l?"plain":"s256"}let{data:p,error:m}=await me(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:d}),jwt:a.access_token,xform:ar});if(m)throw m;return a.user=p.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(i){if(de(i))return{data:{user:null},error:i};throw i}}_decodeJWT(e){return o0(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Hr;let r=Date.now()/1e3,i=r,o=!0,s=null,a=o0(e.access_token);if(a.exp&&(i=a.exp,o=i<=r),o){let{session:l,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!l)return{data:{user:null,session:null},error:null};s=l}else{let{data:l,error:d}=await this._getUser(e.access_token);if(d)throw d;s={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(de(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var i;if(!e){let{data:a,error:l}=r;if(l)throw l;e=(i=a.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new Hr;let{session:o,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(de(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e){try{if(!Gn())throw new so("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new so("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new ol("Not a valid PKCE flow url.");let r=md(window.location.href);if(e){if(!r.code)throw new ol("No code detected.");let{data:U,error:q}=await this._exchangeCodeForSession(r.code);if(q)throw q;let K=new URL(window.location.href);return K.searchParams.delete("code"),window.history.replaceState(window.history.state,"",K.toString()),{data:{session:U.session,redirectType:null},error:null}}if(r.error||r.error_description||r.error_code)throw new so(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});let{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:l,expires_at:d,token_type:p}=r;if(!s||!l||!a||!p)throw new so("No session defined in URL");let m=Math.round(Date.now()/1e3),y=parseInt(l),v=m+y;d&&(v=parseInt(d));let w=v-m;w*1e3<=sl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${y}s`);let C=v-y;m-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,v,m):m-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",C,v,m);let{data:x,error:A}=await this._getUser(s);if(A)throw A;let j={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:y,expires_at:v,refresh_token:a,token_type:p,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:j,redirectType:r.type},error:null}}catch(r){if(de(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantFlow(){let e=md(window.location.href);return!!(Gn()&&(e.access_token||e.error_description))}async _isPKCEFlow(){let e=md(window.location.href),r=await rl(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var i;let{data:o,error:s}=r;if(s)return{error:s};let a=(i=o.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:l}=await this.admin.signOut(a,e);if(l&&!(oS(l)&&(l.status===404||l.status===401)))return{error:l}}return e!=="others"&&(await this._removeSession(),await vd(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(e){let r=tS(),i={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async r=>{var i,o;try{let{data:{session:s},error:a}=r;if(a)throw a;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let i=null,o=null;if(this.flowType==="pkce"){let s=ro();await pi(this.storage,`${this.storageKey}-code-verifier`,`${s}/PASSWORD_RECOVERY`),i=await io(s),o=s===i?"plain":"s256"}try{return await me(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(de(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{let{data:r,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{let{data:i,error:o}=await this._useSession(async s=>{var a,l,d,p,m;let{data:y,error:v}=s;if(v)throw v;let w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await me(this.fetch,"GET",w,{headers:this.headers,jwt:(m=(p=y.session)===null||p===void 0?void 0:p.access_token)!==null&&m!==void 0?m:void 0})});if(o)throw o;return Gn()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:e.provider,url:i?.url},error:null}}catch(i){if(de(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var i,o;let{data:s,error:a}=r;if(a)throw a;return await me(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){let r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return await iS(async o=>(await rS(o*200),this._debug(r,"refreshing attempt",o),await me(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:hi})),(o,s,a)=>a&&a.error&&bd(a.error)&&Date.now()+(o+1)*200-i<sl)}catch(i){if(this._debug(r,"error",i),de(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){let i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",i),Gn()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e;let r="#_recoverAndRefresh()";this._debug(r,"begin");try{let i=await rl(this.storage,this.storageKey);if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}let o=Math.round(Date.now()/1e3),s=((e=i.expires_at)!==null&&e!==void 0?e:1/0)<o+a0;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${a0}s`),s){if(this.autoRefreshToken&&i.refresh_token){let{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),bd(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,i;if(!e)throw new Hr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new nl;let{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new Hr;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(o,"error",s),de(s)){let a={session:null,error:s};return bd(s)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,r,i=!0){let o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(d){s.push(d)}});if(await Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),await pi(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await vd(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Gn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let e=setInterval(()=>this._autoRefreshTokenTick(),sl);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let e=Date.now();try{return await this._useSession(async r=>{let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-e)/sl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${sl}ms, refresh threshold is ${mS} ticks`),o<=mS&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Cd)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Gn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){let r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,i){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let s=ro();await pi(this.storage,`${this.storageKey}-code-verifier`,s);let a=await io(s),l=s===a?"plain":"s256";this._debug("PKCE","code verifier",`${s.substring(0,5)}...`,"code challenge",a,"method",l);let d=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});o.push(d.toString())}if(i?.queryParams){let s=new URLSearchParams(i.queryParams);o.push(s.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var i;let{data:o,error:s}=r;return s?{data:null,error:s}:await me(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var i,o;let{data:s,error:a}=r;if(a)return{data:null,error:a};let{data:l,error:d}=await me(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:e.friendlyName,factor_type:e.factorType,issuer:e.issuer},headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return d?{data:null,error:d}:(!((o=l?.totp)===null||o===void 0)&&o.qr_code&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;let{data:o,error:s}=r;if(s)return{data:null,error:s};let{data:a,error:l}=await me(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(r){if(de(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;let{data:o,error:s}=r;return s?{data:null,error:s}:await me(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(de(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){let{data:r,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){let{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};let i=e?.factors||[],o=i.filter(s=>s.factor_type==="totp"&&s.status==="verified");return{data:{all:i,totp:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,i;let{data:{session:o},error:s}=e;if(s)return{data:null,error:s};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let a=this._decodeJWT(o.access_token),l=null;a.aal&&(l=a.aal);let d=l;((i=(r=o.user.factors)===null||r===void 0?void 0:r.filter(y=>y.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(d="aal2");let m=a.amr||[];return{data:{currentLevel:l,nextLevel:d,currentAuthenticationMethods:m},error:null}}))}}return n.nextInstanceID=0,n})();var TR=c0,u0=TR;var Ed=class extends u0{constructor(t){super(t)}};var MR=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(p){try{d(r.next(p))}catch(m){s(m)}}function l(p){try{d(r.throw(p))}catch(m){s(m)}}function d(p){p.done?o(p.value):i(p.value).then(a,l)}d((r=r.apply(n,t||[])).next())})},Sd=class{constructor(t,e,r){var i,o,s;if(this.supabaseUrl=t,this.supabaseKey=e,!t)throw new Error("supabaseUrl is required.");if(!e)throw new Error("supabaseKey is required.");let a=JE(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;let l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,d={db:QE,realtime:YE,auth:Object.assign(Object.assign({},KE),{storageKey:l}),global:WE},p=XE(r??{},d);this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=p.global.headers)!==null&&o!==void 0?o:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(m,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=p.auth)!==null&&s!==void 0?s:{},this.headers,p.global.fetch),this.fetch=ZE(e,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new OE(`${a}/rest/v1`,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),p.accessToken||this._listenForAuthEvents()}get functions(){return new Ha(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new el(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,e;return MR(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(e=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:i,storageKey:o,flowType:s,lock:a,debug:l},d,p){let m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ed({url:this.authUrl,headers:Object.assign(Object.assign({},m),d),storageKey:o,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:i,flowType:s,lock:a,debug:l,fetch:p,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Ja(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,r)=>{this._handleTokenChanged(e,"CLIENT",r?.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var gS=(n,t,e)=>new Sd(n,t,e);var d0={API_URL:"https://jsgltiaidlacvchyjjha.supabase.co",anon_key:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpzZ2x0aWFpZGxhY3ZjaHlqamhhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzk2NjIzNDIsImV4cCI6MjA1NTIzODM0Mn0.bPtRMhXapLzUgPEIf6GoW9r52umh0F1YZhG1bfLyb0s",supabase_LocalStorage_key:"sb-jsgltiaidlacvchyjjha-auth-token"};var Se=class n{constructor(t){this.platformId=t;this.supabase=gS(d0.API_URL,d0.anon_key,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),this.setupAuthStateSignalSync()}supabase;USER_PROFILE_KEY="userProfile";user=ut(null);currentUsername=ut(null);loginStatus=ut(null);GetClient(){return this.supabase}setupAuthStateSignalSync(){Mn(this.platformId)&&(this.supabase.auth.getSession().then(({data:t})=>{this.updateSignalsFromSession(t.session)}),this.supabase.auth.onAuthStateChange((t,e)=>{this.updateSignalsFromSession(e)}))}updateSignalsFromSession(t){if(t&&t.user){this.user.set(t.user);let e=t.user?.identities?.[0]?.identity_data?.firstname||null;this.currentUsername.set(e),this.loginStatus.set(!0)}else this.user.set(null),this.currentUsername.set(null),this.loginStatus.set(!1)}supaScream(){return"SupaScream"}static \u0275fac=function(e){return new(e||n)(F(Ct))};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})};var Dd=class n{constructor(t){this.supabaseService=t;this.userFirstName=this.supabaseService.currentUsername()}userFirstName;static \u0275fac=function(e){return new(e||n)(D(Se))};static \u0275cmp=V({type:n,selectors:[["app-landing-page"]],decls:66,vars:4,consts:[[1,"container","mt-4"],[1,"mb-4","text-center"],[1,"row","g-4","mb-5"],[1,"col-md-6"],[1,"card","h-100","shadow-sm"],[1,"card-body","d-flex","align-items-center"],[1,"ms-4","me-4","step-icon",2,"--step-color","#2563eb"],[1,"flex-grow-1"],[1,"text-uppercase","fw-bold","text-secondary",2,"letter-spacing","2px"],[1,"fw-semibold","mb-1"],[1,"mb-3","text-secondary"],[1,"btn","btn-lg","fw-bold","w-100",2,"background","#2563eb","color","#fff",3,"routerLink"],[1,"ms-4","me-4","step-icon",2,"--step-color","#15803d"],[1,"btn","btn-lg","fw-bold","w-100",2,"background","#15803d","color","#fff",3,"routerLink"],[1,"ms-4","me-4","step-icon",2,"--step-color","#b45309"],[1,"btn","btn-lg","fw-bold","w-100",2,"background","#b45309","color","#fff",3,"routerLink"],[1,"ms-4","me-4","step-icon",2,"--step-color","#6d28d9"],[1,"btn","btn-lg","fw-bold","w-100",2,"background","#6d28d9","color","#fff",3,"routerLink"]],template:function(e,r){e&1&&(u(0,"div",0)(1,"h2",1),f(2,"Begin Your Trading Transformation"),c(),u(3,"h2",1),f(4,"Your Professional Workflow"),c(),u(5,"div",2)(6,"div",3)(7,"div",4)(8,"div",5)(9,"div",6)(10,"mat-icon"),f(11,"check_circle"),c()(),u(12,"div",7)(13,"div",8),f(14,"Step 1 "),c(),u(15,"h4",9),f(16,"Daily Emotional Check-in"),c(),u(17,"p",10),f(18,"Understand your emotional state before making trading decisions."),c(),u(19,"a",11),f(20,"Begin Assessment"),c()()()()(),u(21,"div",3)(22,"div",4)(23,"div",5)(24,"div",12)(25,"mat-icon"),f(26,"trending_up"),c()(),u(27,"div",7)(28,"div",8),f(29,"Step 2 "),c(),u(30,"h4",9),f(31,"Plan Your Trades"),c(),u(32,"p",10),f(33,"Document your trading plan before executing any trades."),c(),u(34,"a",13),f(35,"Create Trading Plan"),c()()()()(),u(36,"div",3)(37,"div",4)(38,"div",5)(39,"div",14)(40,"mat-icon"),f(41,"candlestick_chart"),c()(),u(42,"div",7)(43,"div",8),f(44,"Step 3 "),c(),u(45,"h4",9),f(46,"Update your Trades"),c(),u(47,"p",10),f(48,"Record results and analyze your trading performance."),c(),u(49,"a",15),f(50,"Manage Positions"),c()()()()(),u(51,"div",3)(52,"div",4)(53,"div",5)(54,"div",16)(55,"mat-icon"),f(56,"psychology"),c()(),u(57,"div",7)(58,"div",8),f(59,"Step 4 "),c(),u(60,"h4",9),f(61,"Reflection & Meditation"),c(),u(62,"p",10),f(63,"Clear your mind with mindfulness practices."),c(),u(64,"a",17),f(65,"Begin Session"),c()()()()()()()),e&2&&(h(19),g("routerLink","/emotions"),h(15),g("routerLink","/tradejournal"),h(15),g("routerLink","/tradejournal"),h(15),g("routerLink","/meditationhub"))},dependencies:[ze,B,Xu,kn],styles:[".card[_ngcontent-%COMP%]{border:none;border-radius:8px}.card-body[_ngcontent-%COMP%]{padding-left:0}.card-body[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:600;margin-bottom:.75rem}.card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1rem}.btn-custom[_ngcontent-%COMP%]{border-radius:20px;font-weight:600}.step-icon[_ngcontent-%COMP%]{width:64px;height:64px;background:var(--step-color, --primary-btn-color);border-radius:16px;display:flex;align-items:center;justify-content:center;flex-shrink:0;box-shadow:0 2px 8px #0000000a}.step-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff;font-size:36px;width:36px;height:36px;line-height:36px;display:flex;align-items:center;justify-content:center}.card-body.d-flex.align-items-center[_ngcontent-%COMP%]{gap:1.5rem}@media (max-width: 576px){.card-body[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.1rem}.card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.btn-custom[_ngcontent-%COMP%]{padding:.5rem 1rem}}"]})};var ft=class n{constructor(t,e){this.supabaseService=t;this.router=e}canActivate(t,e){return this.supabaseService.loginStatus()?!0:this.router.createUrlTree([""],{queryParams:{returnUrl:e.url}})}static \u0275fac=function(e){return new(e||n)(F(Se),F(vt))};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})};var al=class n{constructor(t,e){this.supabaseService=t;this.router=e}canActivate(t,e){return this.supabaseService.loginStatus()?this.router.createUrlTree(["/home"]):!0}static \u0275fac=function(e){return new(e||n)(F(Se),F(vt))};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})};var DS=(()=>{class n{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,r){this._renderer=e,this._elementRef=r}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(r){return new(r||n)(D(In),D(mt))};static \u0275dir=ge({type:n})}return n})(),lo=(()=>{class n extends DS{static \u0275fac=(()=>{let e;return function(i){return(e||(e=Dn(n)))(i||n)}})();static \u0275dir=ge({type:n,features:[dt]})}return n})(),cr=new $(""),AR={provide:cr,useExisting:wt(()=>zr),multi:!0},zr=(()=>{class n extends lo{writeValue(e){this.setProperty("checked",e)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Dn(n)))(i||n)}})();static \u0275dir=ge({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&S("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[St([AR]),dt]})}return n})(),kR={provide:cr,useExisting:wt(()=>se),multi:!0};function NR(){let n=Fr()?Fr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var PR=new $(""),se=(()=>{class n extends DS{_compositionMode;_composing=!1;constructor(e,r,i){super(e,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!NR())}writeValue(e){let r=e??"";this.setProperty("value",r)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(r){return new(r||n)(D(In),D(mt),D(PR,8))};static \u0275dir=ge({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&S("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[St([kR]),dt]})}return n})();function mi(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function xS(n){return n!=null&&typeof n.length=="number"}var xs=new $(""),Fd=new $(""),OR=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,R=class{static min(t){return IS(t)}static max(t){return TS(t)}static required(t){return RR(t)}static requiredTrue(t){return FR(t)}static email(t){return LR(t)}static minLength(t){return VR(t)}static maxLength(t){return jR(t)}static pattern(t){return UR(t)}static nullValidator(t){return Id(t)}static compose(t){return OS(t)}static composeAsync(t){return FS(t)}};function IS(n){return t=>{if(mi(t.value)||mi(n))return null;let e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function TS(n){return t=>{if(mi(t.value)||mi(n))return null;let e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function RR(n){return mi(n.value)?{required:!0}:null}function FR(n){return n.value===!0?null:{required:!0}}function LR(n){return mi(n.value)||OR.test(n.value)?null:{email:!0}}function VR(n){return t=>mi(t.value)||!xS(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}function jR(n){return t=>xS(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}function UR(n){if(!n)return Id;let t,e;return typeof n=="string"?(e="",n.charAt(0)!=="^"&&(e+="^"),e+=n,n.charAt(n.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),r=>{if(mi(r.value))return null;let i=r.value;return t.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}function Id(n){return null}function MS(n){return n!=null}function AS(n){return zi(n)?Ke(n):n}function kS(n){let t={};return n.forEach(e=>{t=e!=null?N(N({},t),e):t}),Object.keys(t).length===0?null:t}function NS(n,t){return t.map(e=>e(n))}function BR(n){return!n.validate}function PS(n){return n.map(t=>BR(t)?t:e=>t.validate(e))}function OS(n){if(!n)return null;let t=n.filter(MS);return t.length==0?null:function(e){return kS(NS(e,t))}}function RS(n){return n!=null?OS(PS(n)):null}function FS(n){if(!n)return null;let t=n.filter(MS);return t.length==0?null:function(e){let r=NS(e,t).map(AS);return $s(r).pipe(J(kS))}}function LS(n){return n!=null?FS(PS(n)):null}function vS(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function VS(n){return n._rawValidators}function jS(n){return n._rawAsyncValidators}function f0(n){return n?Array.isArray(n)?n:[n]:[]}function Td(n,t){return Array.isArray(n)?n.includes(t):n===t}function yS(n,t){let e=f0(t);return f0(n).forEach(i=>{Td(e,i)||e.push(i)}),e}function _S(n,t){return f0(t).filter(e=>!Td(n,e))}var Md=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=RS(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=LS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},ao=class extends Md{name;get formDirective(){return null}get path(){return null}},lr=class extends Md{_parent=null;name=null;valueAccessor=null},Ad=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},$R={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},XG=G(N({},$R),{"[class.ng-submitted]":"isSubmitted"}),fe=(()=>{class n extends Ad{constructor(e){super(e)}static \u0275fac=function(r){return new(r||n)(D(lr,2))};static \u0275dir=ge({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&xe("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[dt]})}return n})(),Pe=(()=>{class n extends Ad{constructor(e){super(e)}static \u0275fac=function(r){return new(r||n)(D(ao,10))};static \u0275dir=ge({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&xe("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[dt]})}return n})();var ll="VALID",xd="INVALID",Cs="PENDING",cl="DISABLED",gi=class{},kd=class extends gi{value;source;constructor(t,e){super(),this.value=t,this.source=e}},ul=class extends gi{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},dl=class extends gi{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},Es=class extends gi{status;source;constructor(t,e){super(),this.status=t,this.source=e}},p0=class extends gi{source;constructor(t){super(),this.source=t}},h0=class extends gi{source;constructor(t){super(),this.source=t}};function v0(n){return(Ld(n)?n.validators:n)||null}function HR(n){return Array.isArray(n)?RS(n):n||null}function y0(n,t){return(Ld(t)?t.asyncValidators:n)||null}function zR(n){return Array.isArray(n)?LS(n):n||null}function Ld(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function US(n,t,e){let r=n.controls;if(!(t?Object.keys(r):r).length)throw new k(1e3,"");if(!r[e])throw new k(1001,"")}function BS(n,t,e){n._forEachChild((r,i)=>{if(e[i]===void 0)throw new k(1002,"")})}var Ss=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Nr(this.statusReactive)}set status(t){Nr(()=>this.statusReactive.set(t))}_status=Hn(()=>this.statusReactive());statusReactive=ut(void 0);get valid(){return this.status===ll}get invalid(){return this.status===xd}get pending(){return this.status==Cs}get disabled(){return this.status===cl}get enabled(){return this.status!==cl}errors;get pristine(){return Nr(this.pristineReactive)}set pristine(t){Nr(()=>this.pristineReactive.set(t))}_pristine=Hn(()=>this.pristineReactive());pristineReactive=ut(!0);get dirty(){return!this.pristine}get touched(){return Nr(this.touchedReactive)}set touched(t){Nr(()=>this.touchedReactive.set(t))}_touched=Hn(()=>this.touchedReactive());touchedReactive=ut(!1);get untouched(){return!this.touched}_events=new We;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(yS(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(yS(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(_S(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(_S(t,this._rawAsyncValidators))}hasValidator(t){return Td(this._rawValidators,t)}hasAsyncValidator(t){return Td(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(G(N({},t),{sourceControl:r})),e&&t.emitEvent!==!1&&this._events.next(new dl(!0,r))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),e&&t.emitEvent!==!1&&this._events.next(new dl(!1,r))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(G(N({},t),{sourceControl:r})),e&&t.emitEvent!==!1&&this._events.next(new ul(!1,r))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),e&&t.emitEvent!==!1&&this._events.next(new ul(!0,r))}markAsPending(t={}){this.status=Cs;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Es(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(G(N({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=cl,this.errors=null,this._forEachChild(i=>{i.disable(G(N({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new kd(this.value,r)),this._events.next(new Es(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(G(N({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=ll,this._forEachChild(r=>{r.enable(G(N({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(G(N({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ll||this.status===Cs)&&this._runAsyncValidator(r,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new kd(this.value,e)),this._events.next(new Es(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(G(N({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?cl:ll}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=Cs,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let r=AS(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(t,e){let r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new Es(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,r)}_initObservables(){this.valueChanges=new ne,this.statusChanges=new ne}_calculateStatus(){return this._allControlsDisabled()?cl:this.errors?xd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Cs)?Cs:this._anyControlsHaveStatus(xd)?xd:ll}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),i&&this._events.next(new ul(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new dl(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Ld(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=HR(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=zR(this._rawAsyncValidators)}},Ds=class extends Ss{constructor(t,e,r){super(v0(e),y0(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){BS(this,!0,t),Object.keys(t).forEach(r=>{US(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(r=>{let i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>r._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,r]of Object.entries(this.controls))if(this.contains(e)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(t,e){let r=t;return this._forEachChild((i,o)=>{r=e(r,i,o)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var m0=class extends Ds{};var Is=new $("",{providedIn:"root",factory:()=>pl}),pl="always";function $S(n,t){return[...t.path,n]}function Nd(n,t,e=pl){_0(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),GR(n,t),QR(n,t),WR(n,t),qR(n,t)}function Pd(n,t,e=!0){let r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),Rd(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Od(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function qR(n,t){if(t.valueAccessor.setDisabledState){let e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function _0(n,t){let e=VS(n);t.validator!==null?n.setValidators(vS(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let r=jS(n);t.asyncValidator!==null?n.setAsyncValidators(vS(r,t.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Od(t._rawValidators,i),Od(t._rawAsyncValidators,i)}function Rd(n,t){let e=!1;if(n!==null){if(t.validator!==null){let i=VS(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==t.validator);o.length!==i.length&&(e=!0,n.setValidators(o))}}if(t.asyncValidator!==null){let i=jS(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==t.asyncValidator);o.length!==i.length&&(e=!0,n.setAsyncValidators(o))}}}let r=()=>{};return Od(t._rawValidators,r),Od(t._rawAsyncValidators,r),e}function GR(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&HS(n,t)})}function WR(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&HS(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function HS(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function QR(n,t){let e=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function KR(n,t){n==null,_0(n,t)}function YR(n,t){return Rd(n,t)}function b0(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function ZR(n){return Object.getPrototypeOf(n.constructor)===lo}function JR(n,t){n._syncPendingControls(),t.forEach(e=>{let r=e.control;r.updateOn==="submit"&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function w0(n,t){if(!t)return null;Array.isArray(t);let e,r,i;return t.forEach(o=>{o.constructor===se?e=o:ZR(o)?r=o:i=o}),i||r||e||null}function XR(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function bS(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function wS(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var fl=class extends Ss{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,r){super(v0(e),y0(r,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ld(e)&&(e.nonNullable||e.initialValueIsDefault)&&(wS(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){bS(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){bS(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){wS(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var eF=n=>n instanceof fl;var tF={provide:lr,useExisting:wt(()=>gn)},CS=Promise.resolve(),gn=(()=>{class n extends lr{_changeDetectorRef;callSetDisabledState;control=new fl;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new ne;constructor(e,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=w0(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),b0(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Nd(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){CS.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let r=e.isDisabled.currentValue,i=r!==0&&$n(r);CS.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?$S(e,this._parent):[e]}static \u0275fac=function(r){return new(r||n)(D(ao,9),D(xs,10),D(Fd,10),D(cr,10),D(ie,8),D(Is,8))};static \u0275dir=ge({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[St([tF]),dt,Vn]})}return n})(),Kt=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=ge({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),nF={provide:cr,useExisting:wt(()=>Wn),multi:!0},Wn=(()=>{class n extends lo{writeValue(e){let r=e??"";this.setProperty("value",r)}registerOnChange(e){this.onChange=r=>{e(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Dn(n)))(i||n)}})();static \u0275dir=ge({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&S("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[St([nF]),dt]})}return n})(),rF={provide:cr,useExisting:wt(()=>vn),multi:!0};var iF=(()=>{class n{_accessors=[];add(e,r){this._accessors.push([e,r])}remove(e){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===e){this._accessors.splice(r,1);return}}select(e){this._accessors.forEach(r=>{this._isSameGroup(r,e)&&r[1]!==e&&r[1].fireUncheck(e.value)})}_isSameGroup(e,r){return e[0].control?e[0]._parent===r._control._parent&&e[1].name===r.name:!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vn=(()=>{class n extends lo{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=M(Is,{optional:!0})??pl;constructor(e,r,i,o){super(e,r),this._registry=i,this._injector=o}ngOnInit(){this._control=this._injector.get(lr),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}setDisabledState(e){(this.setDisabledStateFired||e||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",e),this.setDisabledStateFired=!0}fireUncheck(e){this.writeValue(e)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(r){return new(r||n)(D(In),D(mt),D(iF),D(ht))};static \u0275dir=ge({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,i){r&1&&S("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[St([rF]),dt]})}return n})(),oF={provide:cr,useExisting:wt(()=>C0),multi:!0},C0=(()=>{class n extends lo{writeValue(e){this.setProperty("value",parseFloat(e))}registerOnChange(e){this.onChange=r=>{e(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Dn(n)))(i||n)}})();static \u0275dir=ge({type:n,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(r,i){r&1&&S("change",function(s){return i.onChange(s.target.value)})("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[St([oF]),dt]})}return n})(),E0=new $(""),sF={provide:lr,useExisting:wt(()=>S0)},S0=(()=>{class n extends lr{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(e){}model;update=new ne;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,r,i,o,s){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=s,this._setValidators(e),this._setAsyncValidators(r),this.valueAccessor=w0(this,i)}ngOnChanges(e){if(this._isControlChanged(e)){let r=e.form.previousValue;r&&Pd(r,this,!1),Nd(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}b0(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Pd(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}static \u0275fac=function(r){return new(r||n)(D(xs,10),D(Fd,10),D(cr,10),D(E0,8),D(Is,8))};static \u0275dir=ge({type:n,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[St([sF]),dt,Vn]})}return n})(),aF={provide:ao,useExisting:wt(()=>ke)},ke=(()=>{class n extends ao{callSetDisabledState;get submitted(){return Nr(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=Hn(()=>this._submittedReactive());_submittedReactive=ut(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new ne;constructor(e,r,i){super(),this.callSetDisabledState=i,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Rd(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let r=this.form.get(e.path);return Nd(r,e,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){Pd(e.control||null,e,!1),XR(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this._submittedReactive.set(!0),JR(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new p0(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new h0(this.form))}_updateDomValue(){this.directives.forEach(e=>{let r=e.control,i=this.form.get(e.path);r!==i&&(Pd(r||null,e),eF(i)&&(Nd(i,e,this.callSetDisabledState),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let r=this.form.get(e.path);KR(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let r=this.form.get(e.path);r&&YR(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){_0(this.form,this),this._oldForm&&Rd(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(r){return new(r||n)(D(xs,10),D(Fd,10),D(Is,8))};static \u0275dir=ge({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&S("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[St([aF]),dt,Vn]})}return n})();var lF={provide:lr,useExisting:wt(()=>je)},je=(()=>{class n extends lr{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new ne;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=w0(this,o)}ngOnChanges(e){this._added||this._setUpControl(),b0(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return $S(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(D(ao,13),D(xs,10),D(Fd,10),D(cr,10),D(E0,8))};static \u0275dir=ge({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[St([lF]),dt,Vn]})}return n})(),cF={provide:cr,useExisting:wt(()=>Yt),multi:!0};function zS(n,t){return n==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function uF(n){return n.split(":")[0]}var Yt=(()=>{class n extends lo{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let r=this._getOptionId(e),i=zS(r,e);this.setProperty("value",i)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){let r=uF(e);return this._optionMap.has(r)?this._optionMap.get(r):e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Dn(n)))(i||n)}})();static \u0275dir=ge({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&S("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[St([cF]),dt]})}return n})(),Zt=(()=>{class n{_element;_renderer;_select;id;constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(zS(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(D(mt),D(In),D(Yt,9))};static \u0275dir=ge({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),dF={provide:cr,useExisting:wt(()=>qS),multi:!0};function ES(n,t){return n==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function fF(n){return n.split(":")[0]}var qS=(()=>{class n extends lo{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let r;if(Array.isArray(e)){let i=e.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],d=this._getOptionValue(l.value);i.push(d)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let d=this._getOptionValue(l.value);i.push(d)}}}this.value=i,e(i)}}_registerOption(e){let r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){let r=fF(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Dn(n)))(i||n)}})();static \u0275dir=ge({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&S("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[St([dF]),dt]})}return n})(),Jt=(()=>{class n{_element;_renderer;_select;id;_value;constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(ES(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(ES(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(D(mt),D(In),D(qS,9))};static \u0275dir=ge({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function GS(n){return typeof n=="number"?n:parseFloat(n)}var WS=(()=>{class n{_validator=Id;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){let r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Id,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ge({type:n,features:[Vn]})}return n})(),pF={provide:xs,useExisting:wt(()=>D0),multi:!0},D0=(()=>{class n extends WS{max;inputName="max";normalizeInput=e=>GS(e);createValidator=e=>TS(e);static \u0275fac=(()=>{let e;return function(i){return(e||(e=Dn(n)))(i||n)}})();static \u0275dir=ge({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&nr("max",i._enabled?i.max:null)},inputs:{max:"max"},standalone:!1,features:[St([pF]),dt]})}return n})(),hF={provide:xs,useExisting:wt(()=>hl),multi:!0},hl=(()=>{class n extends WS{min;inputName="min";normalizeInput=e=>GS(e);createValidator=e=>IS(e);static \u0275fac=(()=>{let e;return function(i){return(e||(e=Dn(n)))(i||n)}})();static \u0275dir=ge({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&nr("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[St([hF]),dt]})}return n})();var QS=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ot({type:n});static \u0275inj=it({})}return n})(),g0=class extends Ss{constructor(t,e,r){super(v0(e),y0(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),e&&(this.controls.splice(i,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){BS(this,!1,t),t.forEach((r,i)=>{US(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,r)=>r._syncPendingControls()?!0:e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function SS(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var It=(()=>{class n{useNonNullable=!1;get nonNullable(){let e=new n;return e.useNonNullable=!0,e}group(e,r=null){let i=this._reduceControls(e),o={};return SS(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Ds(i,o)}record(e,r=null){let i=this._reduceControls(e);return new m0(i,r)}control(e,r,i){let o={};return this.useNonNullable?(SS(r)?o=r:(o.validators=r,o.asyncValidators=i),new fl(e,G(N({},o),{nonNullable:!0}))):new fl(e,r,i)}array(e,r,i){let o=e.map(s=>this._createControl(s));return new g0(o,r,i)}_reduceControls(e){let r={};return Object.keys(e).forEach(i=>{r[i]=this._createControl(e[i])}),r}_createControl(e){if(e instanceof fl)return e;if(e instanceof Ss)return e;if(Array.isArray(e)){let r=e[0],i=e.length>1?e[1]:null,o=e.length>2?e[2]:null;return this.control(r,i,o)}else return this.control(e)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Xt=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Is,useValue:e.callSetDisabledState??pl}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=ot({type:n});static \u0275inj=it({imports:[QS]})}return n})(),Ce=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:E0,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Is,useValue:e.callSetDisabledState??pl}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=ot({type:n});static \u0275inj=it({imports:[QS]})}return n})();var _t=[];for(let n=0;n<256;++n)_t.push((n+256).toString(16).slice(1));function KS(n,t=0){return(_t[n[t+0]]+_t[n[t+1]]+_t[n[t+2]]+_t[n[t+3]]+"-"+_t[n[t+4]]+_t[n[t+5]]+"-"+_t[n[t+6]]+_t[n[t+7]]+"-"+_t[n[t+8]]+_t[n[t+9]]+"-"+_t[n[t+10]]+_t[n[t+11]]+_t[n[t+12]]+_t[n[t+13]]+_t[n[t+14]]+_t[n[t+15]]).toLowerCase()}var x0,mF=new Uint8Array(16);function I0(){if(!x0){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");x0=crypto.getRandomValues.bind(crypto)}return x0(mF)}var gF=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),T0={randomUUID:gF};function vF(n,t,e){if(T0.randomUUID&&!t&&!n)return T0.randomUUID();n=n||{};let r=n.random??n.rng?.()??I0();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){if(e=e||0,e<0||e+16>t.length)throw new RangeError(`UUID byte range ${e}:${e+15} is out of buffer bounds`);for(let i=0;i<16;++i)t[e+i]=r[i];return t}return KS(r)}var co=vF;var Tt=class n{constructor(t){this.supabaseService=t;this.supabase=this.supabaseService.GetClient()}supabase;ngOnInit(){}async addTradeLog(t,e){let r=this.supabaseService.user();if(!r)throw new Error("User not authenticated");t.userid=r.id;let{data:i,error:o}=await this.supabase.from(e).insert([t]);if(o)throw console.error("Error inserting trade log: ",o),o;return typeof window<"u"&&sessionStorage.setItem(`${e}_refresh`,"yes"),i}async getTradeLogs(t){let e=this.supabaseService.user();if(!e)throw new Error("User not authenticated");let r=!1,i=null;if(typeof window<"u"){r=sessionStorage.getItem(`${t}_refresh`)==="yes";let a=sessionStorage.getItem(t);if(a)try{i=JSON.parse(a)}catch(l){console.error("Error parsing cached trade logs:",l),i=null}}if(!r&&i)return i;let{data:o,error:s}=await this.supabase.from(t).select("*").eq("userid",e.id);if(s)throw console.error("Error fetching trade logs:",s),s;return typeof window<"u"&&(sessionStorage.setItem(t,JSON.stringify(o)),sessionStorage.removeItem(`${t}_refresh`)),o}async getTradeLogsOfSelectedAccount(t,e){let r=this.supabaseService.user();if(!r)throw new Error("User not authenticated");let i=`${t}_${e}`,o=`${i}_refresh`,s=!1,a=null;if(typeof window<"u"){s=sessionStorage.getItem(o)==="yes";let p=sessionStorage.getItem(i);if(p)try{a=JSON.parse(p)}catch(m){console.error("Error parsing cached trade logs:",m),a=null}}if(!s&&a)return a;let{data:l,error:d}=await this.supabase.from(t).select("*").eq("userid",r.id).eq("trade_account_id",e);if(d)throw console.error("Error fetching trade logs:",d),d;return typeof window<"u"&&(sessionStorage.setItem(i,JSON.stringify(l)),sessionStorage.removeItem(o)),l}async addTradeLogOfSelectedAccount(t,e,r){let i=this.supabaseService.user();if(!i)throw new Error("User not authenticated");t.userid=i.id;let{data:o,error:s}=await this.supabase.from(e).insert([t]);if(s)throw console.error("Error inserting trade log: ",s),s;return typeof window<"u"&&sessionStorage.setItem(`${e}_${r}_refresh`,"yes"),o}async updateTradeLogOfSelectedAccount(t,e,r){if(!this.supabaseService.user())throw new Error("User not authenticated");let{data:o,error:s}=await this.supabase.from(e).update(t).eq("tradeid",t.tradeid);if(s)throw console.error("Error updating trade log: ",s),s;return typeof window<"u"&&sessionStorage.setItem(`${e}_${r}_refresh`,"yes"),o}async deleteTradeLogOfSelectedAccount(t,e,r){if(!this.supabaseService.user())throw new Error("User not authenticated");let{data:o,error:s}=await this.supabase.from(e).delete().eq("tradeid",t);if(s)throw console.error("Error deleting trade log: ",s),s;return typeof window<"u"&&sessionStorage.setItem(`${e}_${r}_refresh`,"yes"),o}async updateTradeLog(t,e){if(!this.supabaseService.user())throw new Error("User not authenticated");let{data:i,error:o}=await this.supabase.from(e).update(t).eq("tradeid",t.tradeid);if(o)throw console.error("Error updating trade log: ",o),o;return typeof window<"u"&&sessionStorage.setItem(`${e}_refresh`,"yes"),i}async deleteTradeLog(t,e){if(!this.supabaseService.user())throw new Error("User not authenticated");let{data:i,error:o}=await this.supabase.from(e).delete().eq("tradeid",t);if(o)throw console.error("Error deleting trade log: ",o),o;return typeof window<"u"&&sessionStorage.setItem(`${e}_refresh`,"yes"),i}async canLogTrade(){let t=this.supabaseService.user()?.id;if(t===null)throw new Error("User not authenticated");let{data:e,error:r}=await this.supabase.rpc("can_log_trade",{user_id:t});return!r&&e===!0}static \u0275fac=function(e){return new(e||n)(F(Se))};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})};var yF=(n,t)=>({"text-success":n,"text-danger":t});function _F(n,t){if(n&1&&(u(0,"div",138),_(1,"div",139),c()),n&2){let e=b();h(),Rt("width",e.calculateFormProgress()+"%")}}function bF(n,t){if(n&1&&(u(0,"span",140),f(1),c()),n&2){let e=b();h(),O("",e.calculateFormProgress(),"% Complete")}}function wF(n,t){n&1&&(u(0,"div",141),f(1," Account name is required "),c())}function CF(n,t){n&1&&(u(0,"div",141),f(1," Please select an instrument type "),c())}function EF(n,t){n&1&&(u(0,"div",141),f(1," Trade symbol is required "),c())}function SF(n,t){n&1&&(u(0,"div",141),f(1," Please select trade direction "),c())}function DF(n,t){n&1&&(u(0,"div",141),f(1," Time frame selection is required "),c())}function xF(n,t){n&1&&(u(0,"div",141),f(1," Please select an analysis type "),c())}function IF(n,t){n&1&&(u(0,"div",141),f(1," Strategy name is required "),c())}function TF(n,t){n&1&&(u(0,"div",141),f(1," Order type is required "),c())}function MF(n,t){n&1&&(u(0,"div",141),f(1," Entry criteria is required (min 10 characters) "),c())}function AF(n,t){n&1&&(u(0,"div",141),f(1," Exit strategy is required (min 10 characters) "),c())}function kF(n,t){n&1&&(u(0,"div",141),f(1," Valid account balance is required "),c())}function NF(n,t){n&1&&(u(0,"div",141),f(1," Position size is required "),c())}function PF(n,t){n&1&&(u(0,"div",141),f(1," Valid entry price is required "),c())}function OF(n,t){n&1&&(u(0,"div",141),f(1," Entry date/time is required "),c())}function RF(n,t){n&1&&(u(0,"div",141),f(1," Stop loss price is required "),c())}function FF(n,t){n&1&&(u(0,"div",141),f(1," Take profit price is required "),c())}function LF(n,t){n&1&&(u(0,"div",141),f(1," Risk percentage is required "),c())}function VF(n,t){n&1&&(u(0,"div",142),_(1,"i",143),f(2," Risk exceeds recommended 2% "),c())}function jF(n,t){n&1&&(u(0,"div",141),f(1," Estimated reward is required "),c())}function UF(n,t){n&1&&(u(0,"div",141),f(1," Please select your emotional state "),c())}function BF(n,t){n&1&&(u(0,"div",142),_(1,"i",143),f(2," Consider if this emotional state might negatively impact your decision making "),c())}function $F(n,t){n&1&&(u(0,"div",144),f(1," Please rate your confidence "),c())}function HF(n,t){n&1&&(u(0,"div",141),f(1," Please identify potential biases (min 5 characters) "),c())}function zF(n,t){n&1&&(u(0,"li"),f(1,"Complete all required fields in Trade Setup"),c())}function qF(n,t){n&1&&(u(0,"li"),f(1,"Complete all required fields in Strategy Details"),c())}function GF(n,t){n&1&&(u(0,"li"),f(1,"Complete all required fields in Risk Management"),c())}function WF(n,t){n&1&&(u(0,"li"),f(1,"Complete all required fields in Psychological Analysis"),c())}function QF(n,t){if(n&1&&(u(0,"div",145),_(1,"i",146),u(2,"strong"),f(3,"Please fix the errors highlighted above before submitting."),c(),u(4,"ul",147),E(5,zF,2,0,"li",148)(6,qF,2,0,"li",148)(7,GF,2,0,"li",148)(8,WF,2,0,"li",148),c()()),n&2){let e=b();h(5),g("ngIf",e.hasErrors("tradeSetup")),h(),g("ngIf",e.hasErrors("strategyDetails")),h(),g("ngIf",e.hasErrors("riskManagement")),h(),g("ngIf",e.hasErrors("psychologicalAnalysis"))}}function KF(n,t){if(n&1){let e=Q();u(0,"button",149),S("click",function(){I(e);let i=b();return T(i.onCancel())}),_(1,"i",150),f(2,"Cancel "),c()}}function YF(n,t){if(n&1&&(u(0,"div",151),_(1,"i",152),f(2),c()),n&2){let e=b();h(2),O("",e.message," ")}}function ZF(n,t){if(n&1&&(u(0,"div",153),_(1,"i",146),f(2),c()),n&2){let e=b();h(2),O("",e.errorMessage," ")}}var Ts=class n{constructor(t,e,r){this.fb=t;this.supabaseTradeTableService=e;this.cdr=r}tradeLogData=null;formSubmitted=new ne;cancel=new ne;preTradeTableName="pretrade";postTradeTableName="posttrade";preTradeForm;postTradeForm;showEmotionalSection=!1;message="";errorMessage="";formSubmitMarker=!1;ngOnInit(){this.formSubmitMarker=!1,this.createForm()}createForm(){var t=co();this.preTradeForm=this.fb.group({tradeid:[this.tradeLogData?.tradeid??t],userid:[this.tradeLogData?.userid??"the-db-is-likely-hacked-1234-abcd-5678-efgh"],createdtime:[this.tradeLogData?.createdtime??new Date().toISOString()],accountname:[this.tradeLogData?.accountname??"",R.required],instrumenttype:[this.tradeLogData?.instrumenttype??"",R.required],analysistype:[this.tradeLogData?.analysistype??"",R.required],tradesymbol:[this.tradeLogData?.tradesymbol??"",R.required],tradetype:[this.tradeLogData?.tradetype??"Long",R.required],timeframe:[this.tradeLogData?.timeframe??"Day",R.required],strategyname:[this.tradeLogData?.strategyname??""],typeoforder:[this.tradeLogData?.typeoforder??"",R.required],entrycriteria:[this.tradeLogData?.entrycriteria??""],exitstrategy:[this.tradeLogData?.exitstrategy??""],entrydatetime:[this.tradeLogData?.entrydatetime??""],entryprice:[this.tradeLogData?.entryprice??""],accountbalance:[this.tradeLogData?.accountbalance??null,[R.required,R.min(0)]],positionsize:[this.tradeLogData?.positionsize??"",R.required],estimatedrisk:[this.tradeLogData?.estimatedrisk??null,R.required],estimatedpnl:[this.tradeLogData?.estimatedpnl??null,R.required],estimatedstoploss:[this.tradeLogData?.estimatedstoploss??null,R.required],estimatedtakeprofit:[this.tradeLogData?.estimatedtakeprofit??null,R.required],setupscreenshot:[this.tradeLogData?.setupscreenshot??""],tradeconfidence:[this.tradeLogData?.tradeconfidence??"1"],isopen:!0,emotionalstatebefore:[this.tradeLogData?.emotionalstatebefore??"",R.required],potentialbiases:[this.tradeLogData?.potentialbiases??"",R.required],notes:[this.tradeLogData?.notes??""],updatedtime:[new Date().toISOString()]})}toggleEmotionalSection(){this.showEmotionalSection=!this.showEmotionalSection}onFileSelected(t){let e=t.target;if(!e.files||e.files.length===0)return;let r=e.files[0],i=new FileReader;i.onload=o=>{this.preTradeForm.patchValue({setupscreenshot:o.target.result})},i.readAsDataURL(r)}async onSubmit(){if(this.formSubmitMarker=!0,this.preTradeForm.invalid){this.preTradeForm.markAllAsTouched();return}let t=this.preTradeForm.value;try{this.tradeLogData?await this.supabaseTradeTableService.updateTradeLog(t,this.preTradeTableName):await this.supabaseTradeTableService.addTradeLog(t,this.preTradeTableName),this.message="Trade log updated successfully. Resetting in 5 seconds.",setTimeout(()=>{this.cdr.markForCheck()},0),this.formSubmitted.emit(),this.formSubmitMarker=!1,this.cdr.markForCheck(),setTimeout(()=>{this.preTradeForm.reset(),this.preTradeForm.markAsPristine(),this.message="Form has been reset",this.cdr.markForCheck()},5e3),setTimeout(()=>{this.message="",this.cdr.markForCheck()},3e3)}catch(e){console.error("Error processing trade log:",e),this.errorMessage="Something went wrong.",this.cdr.markForCheck()}}async onDelete(){if(this.tradeLogData)try{await this.supabaseTradeTableService.deleteTradeLog(this.tradeLogData.tradeid,this.preTradeTableName),this.message="Trade log deleted successfully.",this.formSubmitted.emit()}catch(t){console.error("Error deleting trade log:",t),this.errorMessage="Something went wrong while deleting."}finally{this.cdr.markForCheck()}}onCancel(){this.cancel.emit()}calculateFormProgress(){let e=0;return this.preTradeForm.get("accountname")?.valid&&e++,this.preTradeForm.get("instrumenttype")?.valid&&e++,this.preTradeForm.get("tradesymbol")?.valid&&e++,this.preTradeForm.get("tradetype")?.valid&&e++,this.preTradeForm.get("timeframe")?.valid&&e++,this.preTradeForm.get("analysistype")?.valid&&e++,this.preTradeForm.get("strategyname")?.valid&&e++,this.preTradeForm.get("typeoforder")?.valid&&e++,this.preTradeForm.get("entrycriteria")?.valid&&e++,this.preTradeForm.get("exitstrategy")?.valid&&e++,this.preTradeForm.get("accountbalance")?.valid&&e++,this.preTradeForm.get("positionsize")?.valid&&e++,this.preTradeForm.get("entryprice")?.valid&&e++,this.preTradeForm.get("entrydatetime")?.valid&&e++,this.preTradeForm.get("estimatedstoploss")?.valid&&e++,this.preTradeForm.get("estimatedtakeprofit")?.valid&&e++,this.preTradeForm.get("estimatedrisk")?.valid&&e++,this.preTradeForm.get("estimatedpnl")?.valid&&e++,this.preTradeForm.get("emotionalstatebefore")?.valid&&e++,this.preTradeForm.get("tradeConfidence")?.valid&&e++,this.preTradeForm.get("potentialbiases")?.valid&&e++,Math.round(e/18*100)}calculateRiskRewardRatio(){let t=parseFloat(this.preTradeForm.get("estimatedrisk")?.value||"0"),e=parseFloat(this.preTradeForm.get("estimatedpnl")?.value||"0");return t<=0||e<=0?"N/A":`1:${(e/t).toFixed(2)}`}isGoodRiskReward(){let t=parseFloat(this.preTradeForm.get("estimatedrisk")?.value||"0"),e=parseFloat(this.preTradeForm.get("estimatedpnl")?.value||"0");return t<=0||e<=0?!1:e/t>=2}isNegativeEmotionalState(){let t=this.preTradeForm.get("emotionalstatebefore")?.value;return["Anxious","Frustrated","Fearful","Overconfident"].includes(t)}hasErrors(t){switch(t){case"tradeSetup":return this.preTradeForm.get("accountname")?.invalid||this.preTradeForm.get("instrumenttype")?.invalid||this.preTradeForm.get("tradesymbol")?.invalid||this.preTradeForm.get("tradetype")?.invalid||this.preTradeForm.get("timeframe")?.invalid||this.preTradeForm.get("analysistype")?.invalid||!1;case"strategyDetails":return this.preTradeForm.get("strategyname")?.invalid||this.preTradeForm.get("typeoforder")?.invalid||this.preTradeForm.get("entrycriteria")?.invalid||this.preTradeForm.get("exitstrategy")?.invalid||!1;case"riskManagement":return this.preTradeForm.get("accountbalance")?.invalid||this.preTradeForm.get("positionsize")?.invalid||this.preTradeForm.get("entryprice")?.invalid||this.preTradeForm.get("entrydatetime")?.invalid||this.preTradeForm.get("estimatedstoploss")?.invalid||this.preTradeForm.get("estimatedtakeprofit")?.invalid||this.preTradeForm.get("estimatedrisk")?.invalid||this.preTradeForm.get("estimatedpnl")?.invalid||!1;case"psychologicalAnalysis":return this.preTradeForm.get("emotionalstatebefore")?.invalid||this.preTradeForm.get("tradeConfidence")?.invalid||this.preTradeForm.get("potentialbiases")?.invalid||!1;default:return!1}}static \u0275fac=function(e){return new(e||n)(D(It),D(Tt),D(ie))};static \u0275cmp=V({type:n,selectors:[["app-pre-trade-log"]],inputs:{tradeLogData:"tradeLogData"},outputs:{formSubmitted:"formSubmitted",cancel:"cancel"},decls:332,vars:40,consts:[[1,"container","my-4"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item","text-decoration-none"],["routerLink","/home"],[3,"click"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row","mb-4"],[1,"col-lg-8"],[1,"mb-2"],[1,"text-muted"],[1,"col-lg-4","text-lg-end","d-flex","align-items-center","justify-content-lg-end","mt-3","mt-lg-0"],["class","progress w-100","style","height: 8px;",4,"ngIf"],["class","ms-2 small text-muted",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"card","mb-4","shadow-sm"],[1,"card-header","bg-light","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"bi","bi-1-circle","me-2"],[1,"badge","bg-primary"],[1,"card-body"],[1,"row","g-3"],[1,"col-md-6"],["for","accountname",1,"form-label"],[1,"input-group"],[1,"input-group-text"],[1,"bi","bi-person"],["type","text","id","accountname","formControlName","accountname","placeholder","Enter your account name",1,"form-control"],["class","text-danger mt-1 small",4,"ngIf"],["for","instrumenttype",1,"form-label"],["id","instrumenttype","formControlName","instrumenttype",1,"form-select"],["value","","selected","","disabled",""],["value","Forex"],["value","Stocks"],["value","Futures"],["value","Crypto"],["value","Options"],["value","ETF"],["value","Other"],["for","tradesymbol",1,"form-label"],[1,"bi","bi-tag"],["type","text","id","tradesymbol","formControlName","tradesymbol","placeholder","Enter ticker symbol",1,"form-control"],["for","tradetype",1,"form-label"],["role","group","aria-label","Trade type",1,"btn-group","w-100"],["type","radio","name","tradetype","id","tradetype_long","value","Long","formControlName","tradetype",1,"btn-check"],["for","tradetype_long",1,"btn","btn-outline-success"],["type","radio","name","tradetype","id","tradetype_short","value","Short","formControlName","tradetype",1,"btn-check"],["for","tradetype_short",1,"btn","btn-outline-danger"],["for","timeframe",1,"form-label"],["id","timeframe","formControlName","timeframe",1,"form-select"],["value","Scalp"],["value","Day"],["value","Swing"],["value","Position"],["value","LongTerm"],["for","analysistype",1,"form-label"],["id","analysistype","formControlName","analysistype",1,"form-select"],["value","Technical"],["value","Fundamental"],["value","Both"],["value","Sentiment"],[1,"bi","bi-2-circle","me-2"],["for","strategyname",1,"form-label"],["type","text","id","strategyname","formControlName","strategyname","placeholder","e.g., Breakout, Reversal, Trend Following",1,"form-control"],["for","typeoforder",1,"form-label"],["id","typeoforder","formControlName","typeoforder",1,"form-select"],["value","Market"],["value","Limit"],["value","Stop"],["value","StopLimit"],["value","TrailingStop"],[1,"col-12"],["for","entrycriteria",1,"form-label"],["id","entrycriteria","formControlName","entrycriteria","placeholder","Describe your specific entry conditions (e.g., technical indicators, patterns, fundamental factors)","rows","3",1,"form-control"],[1,"form-text"],["for","exitstrategy",1,"form-label"],["id","exitstrategy","formControlName","exitstrategy","placeholder","Define your profit targets and stop loss levels","rows","3",1,"form-control"],[1,"bi","bi-3-circle","me-2"],["for","accountbalance",1,"form-label"],["type","number","step","0.01","min","0","id","accountbalance","formControlName","accountbalance","placeholder","Current account value",1,"form-control"],["for","positionsize",1,"form-label"],["type","text","id","positionsize","formControlName","positionsize","placeholder","Units/Contracts/Shares",1,"form-control"],["type","button","data-bs-toggle","tooltip","title","Calculate based on risk",1,"btn","btn-outline-secondary"],["for","entryprice",1,"form-label"],["type","number","id","entryprice","formControlName","entryprice","step","0.01","min","0","placeholder","Planned entry price",1,"form-control"],["for","entrydatetime",1,"form-label"],["type","datetime-local","id","entrydatetime","formControlName","entrydatetime",1,"form-control"],["for","estimatedstoploss",1,"form-label"],["type","number","step","0.01","min","0","id","estimatedstoploss","formControlName","estimatedstoploss","placeholder","Stop loss price level",1,"form-control"],["for","estimatedtakeprofit",1,"form-label"],["type","number","step","0.01","min","0","id","estimatedtakeprofit","formControlName","estimatedtakeprofit","placeholder","Target price level",1,"form-control"],[1,"mb-3"],[1,"col-md-4"],["for","estimatedrisk",1,"form-label"],["type","number","step","0.01","min","0","max","100","id","estimatedrisk","formControlName","estimatedrisk","placeholder","1-2% recommended",1,"form-control"],["class","text-warning mt-1 small",4,"ngIf"],["for","estimatedpnl",1,"form-label"],["type","number","step","0.01","min","0","id","estimatedpnl","formControlName","estimatedpnl","placeholder","Expected % gain",1,"form-control"],[1,"form-label"],["type","text","readonly","",1,"form-control","bg-light",3,"value"],[1,"form-text",3,"ngClass"],[1,"bi","bi-5-circle","me-2"],["for","emotionalstatebefore",1,"form-label"],["id","emotionalstatebefore","formControlName","emotionalstatebefore",1,"form-select"],["value","Calm"],["value","Excited"],["value","Anxious"],["value","Frustrated"],["value","Overconfident"],["value","Fearful"],["value","Neutral"],[1,"form-label","d-block"],["role","group",1,"btn-group","w-100"],["type","radio","formControlName","tradeconfidence","id","confidence1","value","1",1,"btn-check"],["for","confidence1",1,"btn","btn-outline-danger"],["type","radio","formControlName","tradeconfidence","id","confidence2","value","2",1,"btn-check"],["for","confidence2",1,"btn","btn-outline-warning"],["type","radio","formControlName","tradeconfidence","id","confidence3","value","3",1,"btn-check"],["for","confidence3",1,"btn","btn-outline-secondary"],["type","radio","formControlName","tradeconfidence","id","confidence4","value","4",1,"btn-check"],["for","confidence4",1,"btn","btn-outline-primary"],["type","radio","formControlName","tradeconfidence","id","confidence5","value","5",1,"btn-check"],["for","confidence5",1,"btn","btn-outline-success"],[1,"form-text","text-center","mt-1"],["class","text-danger mt-1 small text-center",4,"ngIf"],["for","potentialbiases",1,"form-label"],["id","potentialbiases","formControlName","potentialbiases","placeholder","What biases might affect your decision? (e.g., revenge trading, FOMO, overconfidence)","rows","3",1,"form-control"],[1,"bi","bi-6-circle","me-2"],[1,"badge","bg-secondary"],["for","notes",1,"form-label"],["id","notes","formControlName","notes","placeholder","Any additional information or context for this trade","rows","3",1,"form-control"],["class","alert alert-danger mb-3",4,"ngIf"],[1,"d-flex","justify-content-between","align-items-center","mt-4"],["type","button","class","btn btn-outline-secondary",3,"click",4,"ngIf"],["type","submit",1,"btn","btn-success"],[1,"bi","bi-check-circle","me-1"],["class","alert alert-success mt-3",4,"ngIf"],["class","alert alert-danger mt-3",4,"ngIf"],[1,"progress","w-100",2,"height","8px"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-success"],[1,"ms-2","small","text-muted"],[1,"text-danger","mt-1","small"],[1,"text-warning","mt-1","small"],[1,"bi","bi-exclamation-triangle"],[1,"text-danger","mt-1","small","text-center"],[1,"alert","alert-danger","mb-3"],[1,"bi","bi-exclamation-triangle-fill","me-2"],[1,"mb-0","mt-2"],[4,"ngIf"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"bi","bi-x-circle","me-1"],[1,"alert","alert-success","mt-3"],[1,"bi","bi-check-circle-fill","me-2"],[1,"alert","alert-danger","mt-3"]],template:function(e,r){if(e&1&&(u(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),f(5,"Dashboard"),c()(),u(6,"li",3)(7,"a",5),S("click",function(){return r.onCancel()}),f(8,"Pre-Trade Logs"),c()(),u(9,"li",6),f(10,"Pre-Trading Journal"),c()()(),u(11,"div",7)(12,"div",8)(13,"h2",9),f(14),c(),u(15,"p",10),f(16,"Document your strategy before entering positions to maintain discipline and clarity"),c()(),u(17,"div",11),E(18,_F,2,2,"div",12)(19,bF,2,1,"span",13),c()(),u(20,"form",14),S("ngSubmit",function(){return r.onSubmit()}),u(21,"div",15)(22,"div",16)(23,"h5",17),_(24,"i",18),f(25,"Trade Setup "),c(),u(26,"span",19),f(27,"Required"),c()(),u(28,"div",20)(29,"div",21)(30,"div",22)(31,"label",23),f(32,"Account Name"),c(),u(33,"div",24)(34,"span",25),_(35,"i",26),c(),_(36,"input",27),c(),E(37,wF,2,0,"div",28),c(),u(38,"div",22)(39,"label",29),f(40,"Instrument Type"),c(),u(41,"select",30)(42,"option",31),f(43,"Choose instrument type"),c(),u(44,"option",32),f(45,"Forex"),c(),u(46,"option",33),f(47,"Stocks"),c(),u(48,"option",34),f(49,"Futures"),c(),u(50,"option",35),f(51,"Crypto"),c(),u(52,"option",36),f(53,"Options"),c(),u(54,"option",37),f(55,"ETF"),c(),u(56,"option",38),f(57,"Other"),c()(),E(58,CF,2,0,"div",28),c(),u(59,"div",22)(60,"label",39),f(61,"Trade Symbol"),c(),u(62,"div",24)(63,"span",25),_(64,"i",40),c(),_(65,"input",41),c(),E(66,EF,2,0,"div",28),c(),u(67,"div",22)(68,"label",42),f(69,"Trade Direction"),c(),u(70,"div",43),_(71,"input",44),u(72,"label",45),f(73,"Long"),c(),_(74,"input",46),u(75,"label",47),f(76,"Short"),c()(),E(77,SF,2,0,"div",28),c(),u(78,"div",22)(79,"label",48),f(80,"Time Frame"),c(),u(81,"select",49)(82,"option",31),f(83,"Select time frame"),c(),u(84,"option",50),f(85,"Scalp (minutes)"),c(),u(86,"option",51),f(87,"Day Trade (hours)"),c(),u(88,"option",52),f(89,"Swing (days-weeks)"),c(),u(90,"option",53),f(91,"Position (weeks-months)"),c(),u(92,"option",54),f(93,"Long Term (months+)"),c()(),E(94,DF,2,0,"div",28),c(),u(95,"div",22)(96,"label",55),f(97,"Analysis Type"),c(),u(98,"select",56)(99,"option",31),f(100,"Choose analysis method"),c(),u(101,"option",57),f(102,"Technical"),c(),u(103,"option",58),f(104,"Fundamental"),c(),u(105,"option",59),f(106,"Both"),c(),u(107,"option",60),f(108,"Sentiment"),c(),u(109,"option",38),f(110,"Other"),c()(),E(111,xF,2,0,"div",28),c()()()(),u(112,"div",15)(113,"div",16)(114,"h5",17),_(115,"i",61),f(116,"Strategy Details "),c(),u(117,"span",19),f(118,"Required"),c()(),u(119,"div",20)(120,"div",21)(121,"div",22)(122,"label",62),f(123,"Strategy Name"),c(),_(124,"input",63),E(125,IF,2,0,"div",28),c(),u(126,"div",22)(127,"label",64),f(128,"Type of Order"),c(),u(129,"select",65)(130,"option",31),f(131,"Choose order type"),c(),u(132,"option",66),f(133,"Market"),c(),u(134,"option",67),f(135,"Limit"),c(),u(136,"option",68),f(137,"Stop"),c(),u(138,"option",69),f(139,"Stop Limit"),c(),u(140,"option",70),f(141,"Trailing Stop"),c()(),E(142,TF,2,0,"div",28),c(),u(143,"div",71)(144,"label",72),f(145,"Entry Criteria "),u(146,"span",10),f(147,"(Why are you taking this trade?)"),c()(),_(148,"textarea",73),u(149,"div",74),f(150,"Be specific about what signals or conditions must be met for entry."),c(),E(151,MF,2,0,"div",28),c(),u(152,"div",71)(153,"label",75),f(154,"Exit Strategy "),u(155,"span",10),f(156,"(How will you close this position?)"),c()(),_(157,"textarea",76),u(158,"div",74),f(159,"Include both profit-taking and loss-cutting criteria."),c(),E(160,AF,2,0,"div",28),c()()()(),u(161,"div",15)(162,"div",16)(163,"h5",17),_(164,"i",77),f(165,"Risk Management "),c(),u(166,"span",19),f(167,"Required"),c()(),u(168,"div",20)(169,"div",21)(170,"div",22)(171,"label",78),f(172,"Account Balance"),c(),u(173,"div",24)(174,"span",25),f(175,"$"),c(),_(176,"input",79),c(),E(177,kF,2,0,"div",28),c(),u(178,"div",22)(179,"label",80),f(180,"Position Size"),c(),u(181,"div",24),_(182,"input",81),u(183,"button",82),f(184,"Calculate"),c()(),E(185,NF,2,0,"div",28),c(),u(186,"div",22)(187,"label",83),f(188,"Entry Price"),c(),u(189,"div",24)(190,"span",25),f(191,"$"),c(),_(192,"input",84),c(),E(193,PF,2,0,"div",28),c(),u(194,"div",22)(195,"label",85),f(196,"Entry Date/Time"),c(),_(197,"input",86),E(198,OF,2,0,"div",28),c(),u(199,"div",22)(200,"label",87),f(201,"Stop Loss Price"),c(),u(202,"div",24)(203,"span",25),f(204,"$"),c(),_(205,"input",88),c(),E(206,RF,2,0,"div",28),c(),u(207,"div",22)(208,"label",89),f(209,"Take Profit Price"),c(),u(210,"div",24)(211,"span",25),f(212,"$"),c(),_(213,"input",90),c(),E(214,FF,2,0,"div",28),c(),u(215,"div",71),_(216,"hr"),u(217,"h6",91),f(218,"Risk/Reward Analysis"),c()(),u(219,"div",92)(220,"label",93),f(221,"Risk Per Trade"),c(),u(222,"div",24),_(223,"input",94),u(224,"span",25),f(225,"%"),c()(),u(226,"div",74),f(227,"Percentage of account at risk"),c(),E(228,LF,2,0,"div",28)(229,VF,3,0,"div",95),c(),u(230,"div",92)(231,"label",96),f(232,"Estimated Reward"),c(),u(233,"div",24),_(234,"input",97),u(235,"span",25),f(236,"%"),c()(),E(237,jF,2,0,"div",28),c(),u(238,"div",92)(239,"label",98),f(240,"Risk/Reward Ratio"),c(),u(241,"div",24),_(242,"input",99),u(243,"span",25),f(244,"R:R"),c()(),u(245,"div",100),_(246,"i"),f(247),c()()()()(),u(248,"div",15)(249,"div",16)(250,"h5",17),_(251,"i",101),f(252,"Psychological Analysis "),c(),u(253,"span",19),f(254,"Required"),c()(),u(255,"div",20)(256,"div",21)(257,"div",22)(258,"label",102),f(259,"Current Emotional State"),c(),u(260,"select",103)(261,"option",31),f(262,"How are you feeling?"),c(),u(263,"option",104),f(264,"Calm & Focused"),c(),u(265,"option",105),f(266,"Excited"),c(),u(267,"option",106),f(268,"Anxious"),c(),u(269,"option",107),f(270,"Frustrated"),c(),u(271,"option",108),f(272,"Overconfident"),c(),u(273,"option",109),f(274,"Fearful"),c(),u(275,"option",110),f(276,"Neutral"),c(),u(277,"option",38),f(278,"Other"),c()(),E(279,UF,2,0,"div",28)(280,BF,3,0,"div",95),c(),u(281,"div",22)(282,"label",111),f(283,"Trading Confidence"),c(),u(284,"div",112),_(285,"input",113),u(286,"label",114),f(287,"1"),c(),_(288,"input",115),u(289,"label",116),f(290,"2"),c(),_(291,"input",117),u(292,"label",118),f(293,"3"),c(),_(294,"input",119),u(295,"label",120),f(296,"4"),c(),_(297,"input",121),u(298,"label",122),f(299,"5"),c()(),u(300,"div",123),f(301,"Low (1) to High (5)"),c(),E(302,$F,2,0,"div",124),c(),u(303,"div",71)(304,"label",125),f(305,"Potential Biases"),c(),_(306,"textarea",126),u(307,"div",74),f(308,"Identifying biases helps improve future decision making"),c(),E(309,HF,2,0,"div",28),c()()()(),u(310,"div",15)(311,"div",16)(312,"h5",17),_(313,"i",127),f(314,"Additional Notes "),c(),u(315,"span",128),f(316,"Optional"),c()(),u(317,"div",20)(318,"div",21)(319,"div",71)(320,"label",129),f(321,"Notes"),c(),_(322,"textarea",130),c()()()(),E(323,QF,9,4,"div",131),u(324,"div",132),E(325,KF,3,0,"button",133),u(326,"div")(327,"button",134),_(328,"i",135),f(329),c()()(),E(330,YF,3,1,"div",136)(331,ZF,3,1,"div",137),c()()),e&2){let i,o,s,a,l,d,p,m,y,v,w,C,x,A,j,U,q,K,De,Ie,qe,Lt;h(14),L(r.tradeLogData?"Edit Pre-Trading Journal":"Create Pre-Trading Journal"),h(4),g("ngIf",!r.tradeLogData),h(),g("ngIf",!r.tradeLogData),h(),g("formGroup",r.preTradeForm),h(17),g("ngIf",((i=r.preTradeForm.get("accountname"))==null?null:i.invalid)&&(((i=r.preTradeForm.get("accountname"))==null?null:i.dirty)||((i=r.preTradeForm.get("accountname"))==null?null:i.touched)||r.formSubmitMarker)),h(21),g("ngIf",((o=r.preTradeForm.get("instrumenttype"))==null?null:o.invalid)&&(((o=r.preTradeForm.get("instrumenttype"))==null?null:o.dirty)||((o=r.preTradeForm.get("instrumenttype"))==null?null:o.touched)||r.formSubmitMarker)),h(8),g("ngIf",((s=r.preTradeForm.get("tradesymbol"))==null?null:s.invalid)&&(((s=r.preTradeForm.get("tradesymbol"))==null?null:s.dirty)||((s=r.preTradeForm.get("tradesymbol"))==null?null:s.touched)||r.formSubmitMarker)),h(11),g("ngIf",((a=r.preTradeForm.get("tradetype"))==null?null:a.invalid)&&(((a=r.preTradeForm.get("tradetype"))==null?null:a.dirty)||((a=r.preTradeForm.get("tradetype"))==null?null:a.touched)||r.formSubmitMarker)),h(17),g("ngIf",((l=r.preTradeForm.get("timeframe"))==null?null:l.invalid)&&(((l=r.preTradeForm.get("timeframe"))==null?null:l.dirty)||((l=r.preTradeForm.get("timeframe"))==null?null:l.touched)||r.formSubmitMarker)),h(17),g("ngIf",((d=r.preTradeForm.get("analysistype"))==null?null:d.invalid)&&(((d=r.preTradeForm.get("analysistype"))==null?null:d.dirty)||((d=r.preTradeForm.get("analysistype"))==null?null:d.touched)||r.formSubmitMarker)),h(14),g("ngIf",((p=r.preTradeForm.get("strategyname"))==null?null:p.invalid)&&(((p=r.preTradeForm.get("strategyname"))==null?null:p.dirty)||((p=r.preTradeForm.get("strategyname"))==null?null:p.touched)||r.formSubmitMarker)),h(17),g("ngIf",((m=r.preTradeForm.get("typeoforder"))==null?null:m.invalid)&&(((m=r.preTradeForm.get("typeoforder"))==null?null:m.dirty)||((m=r.preTradeForm.get("typeoforder"))==null?null:m.touched)||r.formSubmitMarker)),h(9),g("ngIf",((y=r.preTradeForm.get("entrycriteria"))==null?null:y.invalid)&&(((y=r.preTradeForm.get("entrycriteria"))==null?null:y.dirty)||((y=r.preTradeForm.get("entrycriteria"))==null?null:y.touched)||r.formSubmitMarker)),h(9),g("ngIf",((v=r.preTradeForm.get("exitstrategy"))==null?null:v.invalid)&&(((v=r.preTradeForm.get("exitstrategy"))==null?null:v.dirty)||((v=r.preTradeForm.get("exitstrategy"))==null?null:v.touched)||r.formSubmitMarker)),h(17),g("ngIf",((w=r.preTradeForm.get("accountbalance"))==null?null:w.invalid)&&(((w=r.preTradeForm.get("accountbalance"))==null?null:w.dirty)||((w=r.preTradeForm.get("accountbalance"))==null?null:w.touched)||r.formSubmitMarker)),h(8),g("ngIf",((C=r.preTradeForm.get("positionsize"))==null?null:C.invalid)&&(((C=r.preTradeForm.get("positionsize"))==null?null:C.dirty)||((C=r.preTradeForm.get("positionsize"))==null?null:C.touched)||r.formSubmitMarker)),h(8),g("ngIf",((x=r.preTradeForm.get("entryprice"))==null?null:x.invalid)&&(((x=r.preTradeForm.get("entryprice"))==null?null:x.dirty)||((x=r.preTradeForm.get("entryprice"))==null?null:x.touched)||r.formSubmitMarker)),h(5),g("ngIf",((A=r.preTradeForm.get("entrydatetime"))==null?null:A.invalid)&&(((A=r.preTradeForm.get("entrydatetime"))==null?null:A.dirty)||((A=r.preTradeForm.get("entrydatetime"))==null?null:A.touched)||r.formSubmitMarker)),h(8),g("ngIf",((j=r.preTradeForm.get("estimatedstoploss"))==null?null:j.invalid)&&(((j=r.preTradeForm.get("estimatedstoploss"))==null?null:j.dirty)||((j=r.preTradeForm.get("estimatedstoploss"))==null?null:j.touched)||r.formSubmitMarker)),h(8),g("ngIf",((U=r.preTradeForm.get("estimatedtakeprofit"))==null?null:U.invalid)&&(((U=r.preTradeForm.get("estimatedtakeprofit"))==null?null:U.dirty)||((U=r.preTradeForm.get("estimatedtakeprofit"))==null?null:U.touched)||r.formSubmitMarker)),h(14),g("ngIf",((q=r.preTradeForm.get("estimatedrisk"))==null?null:q.invalid)&&(((q=r.preTradeForm.get("estimatedrisk"))==null?null:q.dirty)||((q=r.preTradeForm.get("estimatedrisk"))==null?null:q.touched)||r.formSubmitMarker)),h(),g("ngIf",((K=r.preTradeForm.get("estimatedrisk"))==null?null:K.value)>2),h(8),g("ngIf",((De=r.preTradeForm.get("estimatedpnl"))==null?null:De.invalid)&&(((De=r.preTradeForm.get("estimatedpnl"))==null?null:De.dirty)||((De=r.preTradeForm.get("estimatedpnl"))==null?null:De.touched)||r.formSubmitMarker)),h(5),g("value",r.calculateRiskRewardRatio()),h(3),g("ngClass",Dt(37,yF,r.isGoodRiskReward(),!r.isGoodRiskReward())),h(),du(r.isGoodRiskReward()?"bi bi-check-circle":"bi bi-x-circle"),h(),O(" ",r.isGoodRiskReward()?"Good risk/reward ratio":"Risk/reward should be at least 1:2"," "),h(32),g("ngIf",((Ie=r.preTradeForm.get("emotionalstatebefore"))==null?null:Ie.invalid)&&(((Ie=r.preTradeForm.get("emotionalstatebefore"))==null?null:Ie.dirty)||((Ie=r.preTradeForm.get("emotionalstatebefore"))==null?null:Ie.touched)||r.formSubmitMarker)),h(),g("ngIf",r.isNegativeEmotionalState()),h(22),g("ngIf",((qe=r.preTradeForm.get("tradeconfidence"))==null?null:qe.invalid)&&(((qe=r.preTradeForm.get("tradeconfidence"))==null?null:qe.dirty)||((qe=r.preTradeForm.get("tradeconfidence"))==null?null:qe.touched)||r.formSubmitMarker)),h(7),g("ngIf",((Lt=r.preTradeForm.get("potentialbiases"))==null?null:Lt.invalid)&&(((Lt=r.preTradeForm.get("potentialbiases"))==null?null:Lt.dirty)||((Lt=r.preTradeForm.get("potentialbiases"))==null?null:Lt.touched)||r.formSubmitMarker)),h(14),g("ngIf",r.formSubmitMarker&&r.preTradeForm.invalid),h(2),g("ngIf",r.tradeLogData),h(4),O("",r.tradeLogData?"Update":"Submit"," "),h(),g("ngIf",r.message),h(),g("ngIf",r.errorMessage)}},dependencies:[B,xt,Y,Ce,Kt,Zt,Jt,se,Wn,Yt,vn,fe,Pe,hl,D0,ke,je,ze],styles:[".card[_ngcontent-%COMP%]{border-radius:8px;box-shadow:0 2px 5px #0000000d;border:1px solid rgba(0,0,0,.1);color:#000}.card-header[_ngcontent-%COMP%]{background-color:#f8f9fa;border-bottom:1px solid rgba(0,0,0,.1);padding:12px 16px}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{border-radius:6px;padding:10px 12px;background-color:#f9f9f9;border:1px solid #ced4da}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{background-color:#fff;border-color:#80bdff;box-shadow:0 0 0 .25rem #0d6efd40}textarea.form-control[_ngcontent-%COMP%]{resize:vertical}.btn[_ngcontent-%COMP%]{padding:8px 16px;border-radius:6px;font-weight:500}.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#dc3545}"]})};function JF(n,t){n&1&&(u(0,"div",12),f(1,"Loading trade logs..."),c())}function XF(n,t){if(n&1&&(u(0,"div",13),f(1),c()),n&2){let e=b();h(),L(e.errorMessage)}}function e2(n,t){if(n&1){let e=Q();u(0,"div",16)(1,"div",17),S("click",function(){let i=I(e).$implicit,o=b(2);return T(o.openEditModal(i))}),u(2,"div",18),_(3,"i",19),f(4," Planned "),c(),u(5,"div",20),S("click",function(i){let o=I(e).$implicit,s=b(2);return T(s.onDeleteTradeLog(o,i))}),_(6,"i",21),c(),u(7,"div",22)(8,"h4",23),f(9),c(),u(10,"h5",24),f(11),c(),u(12,"div",25)(13,"div",26)(14,"div",27)(15,"strong"),f(16,"Analysis:"),c(),f(17),c(),u(18,"div",27)(19,"strong"),f(20,"Order:"),c(),f(21),c()(),u(22,"div",26)(23,"div",27)(24,"strong"),f(25,"Stop Loss:"),c(),f(26),c(),u(27,"div",27)(28,"strong"),f(29,"Take Profit:"),c(),f(30),c()(),u(31,"div",26)(32,"div",27)(33,"strong"),f(34,"Risk:"),c(),f(35),c(),u(36,"div",27)(37,"strong"),f(38,"Est. PnL:"),c(),f(39),c()(),u(40,"div",28)(41,"div",29)(42,"strong"),f(43,"Account:"),c(),f(44),c()()(),u(45,"div",30)(46,"small",31),f(47),Fe(48,"date"),c()()()()()}if(n&2){let e=t.$implicit;h(9),L(e.tradesymbol),h(2),da(" ",e.tradetype," | ",e.instrumenttype," "),h(6),O(" ",e.analysistype," "),h(4),O(" ",e.typeoforder," "),h(5),O(" ",e.estimatedstoploss," "),h(4),O(" ",e.estimatedtakeprofit," "),h(5),O(" ",e.estimatedrisk," "),h(4),O(" ",e.estimatedpnl," "),h(5),O(" ",e.accountname," "),h(3),L(Le(48,11,e.createdtime,"medium"))}}function t2(n,t){if(n&1&&(u(0,"div",14),E(1,e2,49,14,"div",15),c()),n&2){let e=b();h(),g("ngForOf",e.tradeLogs)}}function n2(n,t){n&1&&(u(0,"div",32),f(1," No trade logs found. "),c())}function r2(n,t){if(n&1){let e=Q();u(0,"div",33),S("click",function(i){I(e);let o=b();return T(o.closeModalOnOverlayClick(i))}),u(1,"div",34),S("click",function(i){return I(e),T(i.stopPropagation())}),u(2,"app-pre-trade-log",35),S("formSubmitted",function(){I(e);let i=b();return T(i.onFormSubmitted())})("cancel",function(){I(e);let i=b();return T(i.closeModal())}),c()()()}if(n&2){let e=b();h(2),g("tradeLogData",e.selectedTradeLog)}}var Vd=class n{constructor(t,e){this.supabaseTradeTableService=t;this.cdr=e}tableName="pretrade";tradeLogs=[];loading=!1;errorMessage="";showModal=!1;selectedTradeLog=null;async ngOnInit(){this.loading=!0,await this.fetchTradeLogs(),this.loading=!1,this.cdr.markForCheck()}async fetchTradeLogs(){try{this.tradeLogs=await this.supabaseTradeTableService.getTradeLogs(this.tableName)}catch(t){console.error("Error fetching trade logs:",t),this.errorMessage="Error fetching trade logs."}}openEditModal(t){this.selectedTradeLog=t,this.showModal=!0}onFormSubmitted(){this.fetchTradeLogs(),this.closeModal()}closeModal(){this.showModal=!1,this.selectedTradeLog=null,this.cdr.markForCheck()}closeModalOnOverlayClick(t){this.closeModal(),this.cdr.markForCheck()}async onDeleteTradeLog(t,e){e.stopPropagation();try{await this.supabaseTradeTableService.deleteTradeLog(t.tradeid,this.tableName),await this.fetchTradeLogs(),this.cdr.markForCheck()}catch(r){console.error("Error deleting trade log:",r),this.errorMessage="Error deleting trade log."}}static \u0275fac=function(e){return new(e||n)(D(Tt),D(ie))};static \u0275cmp=V({type:n,selectors:[["app-pre-trade-table"]],decls:18,vars:5,consts:[[1,"container","mt-3"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item","text-decoration-none"],["routerLink","/home"],["aria-current","page",1,"breadcrumb-item","active"],["routerLink","/pretradelog"],["class","alert alert-info",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["class","row mt-5",4,"ngIf"],["class","alert alert-warning",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"alert","alert-info"],[1,"alert","alert-danger"],[1,"row","mt-5"],["class","col-md-4 col-12 mb-4",4,"ngFor","ngForOf"],[1,"col-md-4","col-12","mb-4"],[1,"card","h-100","position-relative","shadow",2,"cursor","pointer",3,"click"],[1,"trade-status-indicator","status-planned"],[1,"bi","bi-clipboard-check"],[1,"delete-icon",3,"click"],[1,"bi","bi-trash"],[1,"card-body"],[1,"card-title","mt-5"],[1,"card-subtitle","mb-3","text-muted","fw-bold"],[1,"card-text"],[1,"row","mb-2"],[1,"col-6"],[1,"row"],[1,"col-12"],[1,"mt-3"],[1,"text-muted"],[1,"alert","alert-warning"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[3,"formSubmitted","cancel","tradeLogData"]],template:function(e,r){e&1&&(u(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),f(5,"Dashboard"),c()(),u(6,"li",5),f(7,"Pre-Trade Logs"),c(),u(8,"li",3)(9,"a",6),f(10,"Pre-Trading Journal"),c()()()(),u(11,"h2"),f(12,"Pre Trade Logs"),c(),E(13,JF,2,0,"div",7)(14,XF,2,1,"div",8)(15,t2,2,1,"div",9)(16,n2,2,0,"div",10),c(),E(17,r2,3,1,"div",11)),e&2&&(h(13),g("ngIf",r.loading),h(),g("ngIf",r.errorMessage),h(),g("ngIf",r.tradeLogs&&r.tradeLogs.length),h(),g("ngIf",!r.loading&&(!r.tradeLogs||r.tradeLogs.length===0)),h(),g("ngIf",r.showModal))},dependencies:[ze,B,He,Y,ir,Ts],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;max-width:90%;max-height:90%;overflow:auto;position:relative}.card[_ngcontent-%COMP%]{position:relative;border:none;transition:all .2s ease;border-left:4px solid #6c757d!important}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 20px #0000001a!important}.delete-icon[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;display:none;color:#dc3545;background:#fffc;border-radius:50%;padding:5px;z-index:10}.card[_ngcontent-%COMP%]:hover   .delete-icon[_ngcontent-%COMP%]{display:block}.delete-icon[_ngcontent-%COMP%]:hover{cursor:pointer}.trade-status-indicator[_ngcontent-%COMP%]{position:absolute;top:8px;left:8px;padding:5px 10px;border-radius:12px;font-size:.8rem;font-weight:700;z-index:10;color:#fff}.status-planned[_ngcontent-%COMP%]{background-color:#6c757d}.trade-status-indicator[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:3px}"],changeDetection:0})};function i2(n,t){if(n&1&&(u(0,"div",131),_(1,"div",132),c()),n&2){let e=b();h(),Rt("width",e.calculateFormProgress()+"%")}}function o2(n,t){if(n&1&&(u(0,"span",133),f(1),c()),n&2){let e=b();h(),O("",e.calculateFormProgress(),"% Complete")}}function s2(n,t){n&1&&(u(0,"div",134),f(1," Account name is required "),c())}function a2(n,t){n&1&&(u(0,"div",134),f(1," Please select an instrument type "),c())}function l2(n,t){n&1&&(u(0,"div",134),f(1," Please select an analysis type "),c())}function c2(n,t){n&1&&(u(0,"div",134),f(1," Trade symbol is required "),c())}function u2(n,t){n&1&&(u(0,"div",134),f(1," Please select trade direction "),c())}function d2(n,t){n&1&&(u(0,"div",134),f(1," Time frame selection is required "),c())}function f2(n,t){n&1&&(u(0,"div",134),f(1," Strategy name is required "),c())}function p2(n,t){n&1&&(u(0,"div",134),f(1," Order type is required "),c())}function h2(n,t){n&1&&(u(0,"div",134),f(1," Entry date/time is required "),c())}function m2(n,t){n&1&&(u(0,"div",134),f(1," Exit date/time is required "),c())}function g2(n,t){n&1&&(u(0,"div",134),f(1," Valid entry price is required "),c())}function v2(n,t){n&1&&(u(0,"div",134),f(1," Valid exit price is required "),c())}function y2(n,t){n&1&&(u(0,"div",134),f(1," Position size is required "),c())}function _2(n,t){n&1&&(u(0,"div",134),f(1," Please select trade outcome "),c())}function b2(n,t){n&1&&(u(0,"li"),f(1,"Complete all required fields in Trade Details"),c())}function w2(n,t){n&1&&(u(0,"li"),f(1,"Complete all required fields in Strategy Information"),c())}function C2(n,t){n&1&&(u(0,"li"),f(1,"Complete all required fields in Trade Execution"),c())}function E2(n,t){n&1&&(u(0,"li"),f(1,"Complete all required fields in Trade Outcome"),c())}function S2(n,t){n&1&&(u(0,"li"),f(1,"Complete all required fields in Post-Trade Analysis"),c())}function D2(n,t){if(n&1&&(u(0,"div",135),_(1,"i",136),u(2,"strong"),f(3,"Please fix the errors highlighted above before submitting."),c(),u(4,"ul",137),E(5,b2,2,0,"li",138)(6,w2,2,0,"li",138)(7,C2,2,0,"li",138)(8,E2,2,0,"li",138)(9,S2,2,0,"li",138),c()()),n&2){let e=b();h(5),g("ngIf",e.hasErrors("tradeDetails")),h(),g("ngIf",e.hasErrors("strategyInformation")),h(),g("ngIf",e.hasErrors("tradeExecution")),h(),g("ngIf",e.hasErrors("tradeOutcome")),h(),g("ngIf",e.hasErrors("postTradeAnalysis"))}}function x2(n,t){if(n&1){let e=Q();u(0,"button",139),S("click",function(){I(e);let i=b();return T(i.onCancel())}),_(1,"i",140),f(2,"Cancel "),c()}}function I2(n,t){if(n&1&&(u(0,"div",141),_(1,"i",142),f(2),c()),n&2){let e=b();h(2),O("",e.message," ")}}function T2(n,t){if(n&1&&(u(0,"div",143),_(1,"i",136),f(2),c()),n&2){let e=b();h(2),O("",e.errorMessage," ")}}var Ms=class n{constructor(t,e,r){this.fb=t;this.cdr=e;this.supabaseTradeTableService=r}tradeLogData=null;formSubmitted=new ne;cancel=new ne;tableName="posttrade";postTradeForm;message="";errorMessage="";formSubmitMarker=!1;tradeOutcomes=["Win","Loss","Breakeven"];tradeDirections=["Long","Short"];ngOnInit(){this.formSubmitMarker=!1,this.createForm()}createForm(){var t=co();this.postTradeForm=this.fb.group({tradeid:[this.tradeLogData?.tradeid??t],userid:[this.tradeLogData?.userid??"the-db-is-likely-hacked-1234-abcd-5678-efgh"],createdtime:[new Date().toISOString(),R.required],accountname:[this.tradeLogData?.accountname,[R.required,R.maxLength(255)]],accountbalance:[this.tradeLogData?.accountbalance??""],instrumenttype:[this.tradeLogData?.instrumenttype??"",[R.required,R.maxLength(50)]],analysistype:[this.tradeLogData?.analysistype??"",[R.required,R.maxLength(100)]],tradesymbol:[this.tradeLogData?.tradesymbol??"",[R.required,R.maxLength(50)]],tradetype:[this.tradeLogData?.tradetype??"",[R.required,R.maxLength(50)]],timeframe:[this.tradeLogData?.timeframe??"",[R.required,R.maxLength(50)]],entrydatetime:[this.tradeLogData?.entrydatetime??"",R.required],strategyname:[this.tradeLogData?.strategyname??"",[R.required,R.maxLength(255)]],typeoforder:[this.tradeLogData?.typeoforder??"",[R.required,R.maxLength(50)]],exitstrategy:[this.tradeLogData?.exitstrategy??""],entryprice:[this.tradeLogData?.entryprice??"",[R.required,R.min(0)]],exitprice:[this.tradeLogData?.exitprice??"",[R.required,R.min(0)]],positionsize:[this.tradeLogData?.positionsize??"",[R.required,R.maxLength(50)]],exitdatetime:[this.tradeLogData?.exitdatetime??"",R.required],tradeoutcome:[this.tradeLogData?.tradeoutcome??"",R.required],profitlossamount:[this.tradeLogData?.profitlossamount??""],setupscreenshot:[this.tradeLogData?.setupscreenshot??""],emotionalstateafter:[this.tradeLogData?.emotionalstateafter??""],emotionalimpactondecision:[this.tradeLogData?.emotionalimpactondecision??""],whatwentwell:[this.tradeLogData?.whatwentwell??""],whatcouldimprove:[this.tradeLogData?.whatcouldimprove??""],notes:[this.tradeLogData?.notes??""],isopen:[this.tradeLogData?.isopen??!0,R.required],updatedtime:[new Date().toDateString(),R.required]})}onFileSelected(t){let e=t.target;if(!e.files||e.files.length===0)return;let r=e.files[0],i=new FileReader;i.onload=o=>{this.postTradeForm.patchValue({setupScreenshot:o.target.result})},i.readAsDataURL(r)}async onSubmit(){if(this.formSubmitMarker=!0,this.postTradeForm.invalid){this.postTradeForm.markAllAsTouched();return}let t=this.postTradeForm.value;try{this.tradeLogData?await this.supabaseTradeTableService.updateTradeLog(t,this.tableName):await this.supabaseTradeTableService.addTradeLog(t,this.tableName),this.message="Trade log updated successfully. Resetting in 5 seconds.",setTimeout(()=>{this.cdr.markForCheck()},0),this.formSubmitted.emit(),this.formSubmitMarker=!1,this.cdr.markForCheck()}catch(e){console.error("Error processing trade log:",e),this.errorMessage="Something went wrong.",this.cdr.markForCheck()}}async onDelete(){if(this.tradeLogData)try{await this.supabaseTradeTableService.deleteTradeLog(this.tradeLogData.tradeid,this.tableName),this.message="Trade log deleted successfully.",this.formSubmitted.emit()}catch(t){console.error("Error deleting trade log:",t),this.errorMessage="Something went wrong while deleting."}finally{this.cdr.markForCheck()}}onCancel(){this.cancel.emit()}calculateProfitLoss(){let t=this.postTradeForm.get("entryprice")?.value,e=this.postTradeForm.get("exitprice")?.value,r=parseFloat(this.postTradeForm.get("positionsize")?.value),i=this.postTradeForm.get("tradetype")?.value;if(t&&e&&r&&i){let o=0;i==="Long"?o=(e-t)*r:i==="Short"&&(o=(t-e)*r),this.postTradeForm.get("profitlossamount")?.setValue(o.toFixed(2)),o>0?this.postTradeForm.get("tradeoutcome")?.setValue("Win"):o<0?this.postTradeForm.get("tradeoutcome")?.setValue("Loss"):this.postTradeForm.get("tradeoutcome")?.setValue("Breakeven")}}calculateFormProgress(){let t=Object.keys(this.postTradeForm.controls).filter(r=>this.postTradeForm.get(r)?.validator!==null),e=t.filter(r=>this.postTradeForm.get(r)?.valid);return Math.round(e.length/t.length*100)}hasErrors(t){let e=!1,r={tradeDetails:["accountname","instrumenttype","analysistype","tradesymbol","tradetype","timeframe"],strategyInformation:["strategyname","typeoforder"],tradeExecution:["entrydatetime","exitdatetime","entryprice","exitprice","positionsize"],tradeOutcome:["tradeoutcome"],postTradeAnalysis:["emotionalstateafter","whatwentwell","whatcouldimprove"]};return r[t]&&r[t].forEach(i=>{this.postTradeForm.get(i)?.invalid&&(e=!0)}),e}static \u0275fac=function(e){return new(e||n)(D(It),D(ie),D(Tt))};static \u0275cmp=V({type:n,selectors:[["app-post-trade-log"]],inputs:{tradeLogData:"tradeLogData"},outputs:{formSubmitted:"formSubmitted",cancel:"cancel"},decls:299,vars:23,consts:[[1,"container","my-4"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item","text-decoration-none"],["routerLink","/home"],["routerLink","/posttrades"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row","mb-4"],[1,"col-lg-8"],[1,"mb-2"],[1,"text-muted"],[1,"col-lg-4","text-lg-end","d-flex","align-items-center","justify-content-lg-end","mt-3","mt-lg-0"],["class","progress w-100","style","height: 8px;",4,"ngIf"],["class","ms-2 small text-muted",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"card","mb-4","shadow-sm"],[1,"card-header","bg-light","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"bi","bi-1-circle","me-2"],[1,"badge","bg-primary"],[1,"card-body"],[1,"row","g-3"],[1,"col-md-6"],["for","accountname",1,"form-label"],[1,"input-group"],[1,"input-group-text"],[1,"bi","bi-person"],["type","text","id","accountname","formControlName","accountname","placeholder","Enter your account name",1,"form-control"],["class","text-danger mt-1 small",4,"ngIf"],["for","accountbalance",1,"form-label"],["type","number","step","0.01","min","0","id","accountbalance","formControlName","accountbalance","placeholder","Current account value",1,"form-control"],["for","instrumenttype",1,"form-label"],["id","instrumenttype","formControlName","instrumenttype",1,"form-select"],["value","","selected","","disabled",""],["value","Forex"],["value","Stocks"],["value","Futures"],["value","Crypto"],["value","Options"],["value","ETF"],["value","Other"],["for","analysistype",1,"form-label"],["id","analysistype","formControlName","analysistype",1,"form-select"],["value","Technical"],["value","Fundamental"],["value","Both"],["value","Sentiment"],["for","tradesymbol",1,"form-label"],[1,"bi","bi-tag"],["type","text","id","tradesymbol","formControlName","tradesymbol","placeholder","Enter ticker symbol",1,"form-control"],["for","tradetype",1,"form-label"],["role","group","aria-label","Trade type",1,"btn-group","w-100"],["type","radio","name","tradetype","id","tradetype_long","value","Long","formControlName","tradetype",1,"btn-check"],["for","tradetype_long",1,"btn","btn-outline-success"],["type","radio","name","tradetype","id","tradetype_short","value","Short","formControlName","tradetype",1,"btn-check"],["for","tradetype_short",1,"btn","btn-outline-danger"],["for","timeframe",1,"form-label"],["id","timeframe","formControlName","timeframe",1,"form-select"],["value","Scalp"],["value","Day"],["value","Swing"],["value","Position"],["value","LongTerm"],[1,"bi","bi-2-circle","me-2"],["for","strategyname",1,"form-label"],["type","text","id","strategyname","formControlName","strategyname","placeholder","e.g., Breakout, Reversal, Trend Following",1,"form-control"],["for","typeoforder",1,"form-label"],["id","typeoforder","formControlName","typeoforder",1,"form-select"],["value","Market"],["value","Limit"],["value","Stop"],["value","StopLimit"],["value","TrailingStop"],[1,"col-12"],["for","exitstrategy",1,"form-label"],["id","exitstrategy","formControlName","exitstrategy","placeholder","Describe the exit strategy you implemented","rows","3",1,"form-control"],[1,"bi","bi-3-circle","me-2"],["for","entrydatetime",1,"form-label"],["type","datetime-local","id","entrydatetime","formControlName","entrydatetime",1,"form-control"],["for","exitdatetime",1,"form-label"],["type","datetime-local","id","exitdatetime","formControlName","exitdatetime",1,"form-control"],[1,"col-md-4"],["for","entryprice",1,"form-label"],["type","number","id","entryprice","formControlName","entryprice","step","0.01","min","0","placeholder","Actual entry price",1,"form-control"],["for","exitprice",1,"form-label"],["type","number","id","exitprice","formControlName","exitprice","step","0.01","min","0","placeholder","Actual exit price",1,"form-control"],["for","positionsize",1,"form-label"],["type","text","id","positionsize","formControlName","positionsize","placeholder","Units/Contracts/Shares",1,"form-control"],[1,"bi","bi-4-circle","me-2"],["for","tradeoutcome",1,"form-label"],["role","group","aria-label","Trade outcome",1,"btn-group","w-100"],["type","radio","name","tradeoutcome","id","tradeoutcome_win","value","Win","formControlName","tradeoutcome",1,"btn-check"],["for","tradeoutcome_win",1,"btn","btn-outline-success"],["type","radio","name","tradeoutcome","id","tradeoutcome_loss","value","Loss","formControlName","tradeoutcome",1,"btn-check"],["for","tradeoutcome_loss",1,"btn","btn-outline-danger"],["type","radio","name","tradeoutcome","id","tradeoutcome_breakeven","value","Breakeven","formControlName","tradeoutcome",1,"btn-check"],["for","tradeoutcome_breakeven",1,"btn","btn-outline-warning"],["for","profitlossamount",1,"form-label"],["type","number","step","0.01","id","profitlossamount","formControlName","profitlossamount","placeholder","e.g. 50.25 or -30.50",1,"form-control"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"bi","bi-6-circle","me-2"],["for","emotionalstateafter",1,"form-label"],["id","emotionalstateafter","formControlName","emotionalstateafter",1,"form-select"],["value","Satisfied"],["value","Excited"],["value","Relieved"],["value","Disappointed"],["value","Frustrated"],["value","Neutral"],["value","Angry"],["for","emotionalimpactondecision",1,"form-label"],["id","emotionalimpactondecision","formControlName","emotionalimpactondecision","placeholder","How did your emotions affect your trading decisions?","rows","3",1,"form-control"],["for","whatwentwell",1,"form-label"],["id","whatwentwell","formControlName","whatwentwell","placeholder","What aspects of this trade did you execute correctly?","rows","3",1,"form-control"],["for","whatcouldimprove",1,"form-label"],["id","whatcouldimprove","formControlName","whatcouldimprove","placeholder","What could you have done better in this trade?","rows","3",1,"form-control"],["for","isopen",1,"form-label"],[1,"form-check","form-switch"],["type","checkbox","id","isopen","formControlName","isopen",1,"form-check-input"],["for","isopen",1,"form-check-label"],[1,"bi","bi-7-circle","me-2"],[1,"badge","bg-secondary"],["for","notes",1,"form-label"],["id","notes","formControlName","notes","placeholder","Any additional information or context for this trade","rows","3",1,"form-control"],["class","alert alert-danger mb-3",4,"ngIf"],[1,"d-flex","justify-content-between","align-items-center","mt-4"],["type","button","class","btn btn-tr-secondary",3,"click",4,"ngIf"],["type","submit",1,"btn","btn-success"],[1,"bi","bi-check-circle","me-1"],["class","alert alert-success mt-3",4,"ngIf"],["class","alert alert-danger mt-3",4,"ngIf"],[1,"progress","w-100",2,"height","8px"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-success"],[1,"ms-2","small","text-muted"],[1,"text-danger","mt-1","small"],[1,"alert","alert-danger","mb-3"],[1,"bi","bi-exclamation-triangle-fill","me-2"],[1,"mb-0","mt-2"],[4,"ngIf"],["type","button",1,"btn","btn-tr-secondary",3,"click"],[1,"bi","bi-x-circle","me-1"],[1,"alert","alert-success","mt-3"],[1,"bi","bi-check-circle-fill","me-2"],[1,"alert","alert-danger","mt-3"]],template:function(e,r){if(e&1&&(u(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),f(5,"Dashboard"),c()(),u(6,"li",3)(7,"a",5),f(8,"Trade Logs"),c()(),u(9,"li",6),f(10,"Post-Trading Journal"),c()()(),u(11,"div",7)(12,"div",8)(13,"h2",9),f(14),c(),u(15,"p",10),f(16,"Document your completed trades to analyze performance and improve your strategy"),c()(),u(17,"div",11),E(18,i2,2,2,"div",12)(19,o2,2,1,"span",13),c()(),u(20,"form",14),S("ngSubmit",function(){return r.onSubmit()}),u(21,"div",15)(22,"div",16)(23,"h5",17),_(24,"i",18),f(25,"Trade Details "),c(),u(26,"span",19),f(27,"Required"),c()(),u(28,"div",20)(29,"div",21)(30,"div",22)(31,"label",23),f(32,"Account Name"),c(),u(33,"div",24)(34,"span",25),_(35,"i",26),c(),_(36,"input",27),c(),E(37,s2,2,0,"div",28),c(),u(38,"div",22)(39,"label",29),f(40,"Account Balance"),c(),u(41,"div",24)(42,"span",25),f(43,"$"),c(),_(44,"input",30),c()(),u(45,"div",22)(46,"label",31),f(47,"Instrument Type"),c(),u(48,"select",32)(49,"option",33),f(50,"Choose instrument type"),c(),u(51,"option",34),f(52,"Forex"),c(),u(53,"option",35),f(54,"Stocks"),c(),u(55,"option",36),f(56,"Futures"),c(),u(57,"option",37),f(58,"Crypto"),c(),u(59,"option",38),f(60,"Options"),c(),u(61,"option",39),f(62,"ETF"),c(),u(63,"option",40),f(64,"Other"),c()(),E(65,a2,2,0,"div",28),c(),u(66,"div",22)(67,"label",41),f(68,"Analysis Type"),c(),u(69,"select",42)(70,"option",33),f(71,"Choose analysis method"),c(),u(72,"option",43),f(73,"Technical"),c(),u(74,"option",44),f(75,"Fundamental"),c(),u(76,"option",45),f(77,"Both"),c(),u(78,"option",46),f(79,"Sentiment"),c(),u(80,"option",40),f(81,"Other"),c()(),E(82,l2,2,0,"div",28),c(),u(83,"div",22)(84,"label",47),f(85,"Trade Symbol"),c(),u(86,"div",24)(87,"span",25),_(88,"i",48),c(),_(89,"input",49),c(),E(90,c2,2,0,"div",28),c(),u(91,"div",22)(92,"label",50),f(93,"Trade Direction"),c(),u(94,"div",51),_(95,"input",52),u(96,"label",53),f(97,"Long"),c(),_(98,"input",54),u(99,"label",55),f(100,"Short"),c()(),E(101,u2,2,0,"div",28),c(),u(102,"div",22)(103,"label",56),f(104,"Time Frame"),c(),u(105,"select",57)(106,"option",33),f(107,"Select time frame"),c(),u(108,"option",58),f(109,"Scalp (minutes)"),c(),u(110,"option",59),f(111,"Day Trade (hours)"),c(),u(112,"option",60),f(113,"Swing (days-weeks)"),c(),u(114,"option",61),f(115,"Position (weeks-months)"),c(),u(116,"option",62),f(117,"Long Term (months+)"),c()(),E(118,d2,2,0,"div",28),c()()()(),u(119,"div",15)(120,"div",16)(121,"h5",17),_(122,"i",63),f(123,"Strategy Information "),c(),u(124,"span",19),f(125,"Required"),c()(),u(126,"div",20)(127,"div",21)(128,"div",22)(129,"label",64),f(130,"Strategy Name"),c(),_(131,"input",65),E(132,f2,2,0,"div",28),c(),u(133,"div",22)(134,"label",66),f(135,"Type of Order"),c(),u(136,"select",67)(137,"option",33),f(138,"Choose order type"),c(),u(139,"option",68),f(140,"Market"),c(),u(141,"option",69),f(142,"Limit"),c(),u(143,"option",70),f(144,"Stop"),c(),u(145,"option",71),f(146,"Stop Limit"),c(),u(147,"option",72),f(148,"Trailing Stop"),c()(),E(149,p2,2,0,"div",28),c(),u(150,"div",73)(151,"label",74),f(152,"Exit Strategy Used"),c(),_(153,"textarea",75),c()()()(),u(154,"div",15)(155,"div",16)(156,"h5",17),_(157,"i",76),f(158,"Trade Execution "),c(),u(159,"span",19),f(160,"Required"),c()(),u(161,"div",20)(162,"div",21)(163,"div",22)(164,"label",77),f(165,"Entry Date/Time"),c(),_(166,"input",78),E(167,h2,2,0,"div",28),c(),u(168,"div",22)(169,"label",79),f(170,"Exit Date/Time"),c(),_(171,"input",80),E(172,m2,2,0,"div",28),c(),u(173,"div",81)(174,"label",82),f(175,"Entry Price"),c(),u(176,"div",24)(177,"span",25),f(178,"$"),c(),_(179,"input",83),c(),E(180,g2,2,0,"div",28),c(),u(181,"div",81)(182,"label",84),f(183,"Exit Price"),c(),u(184,"div",24)(185,"span",25),f(186,"$"),c(),_(187,"input",85),c(),E(188,v2,2,0,"div",28),c(),u(189,"div",81)(190,"label",86),f(191,"Position Size"),c(),u(192,"div",24),_(193,"input",87),c(),E(194,y2,2,0,"div",28),c()()()(),u(195,"div",15)(196,"div",16)(197,"h5",17),_(198,"i",88),f(199,"Trade Outcome "),c(),u(200,"span",19),f(201,"Required"),c()(),u(202,"div",20)(203,"div",21)(204,"div",22)(205,"label",89),f(206,"Trade Result"),c(),u(207,"div",90),_(208,"input",91),u(209,"label",92),f(210,"Win"),c(),_(211,"input",93),u(212,"label",94),f(213,"Loss"),c(),_(214,"input",95),u(215,"label",96),f(216,"Breakeven"),c()(),E(217,_2,2,0,"div",28),c(),u(218,"div",22)(219,"label",97),f(220,"Profit/Loss Amount"),c(),u(221,"div",24)(222,"span",25),f(223,"$"),c(),_(224,"input",98),u(225,"button",99),S("click",function(){return r.calculateProfitLoss()}),f(226," Calculate "),c()()()()()(),u(227,"div",15)(228,"div",16)(229,"h5",17),_(230,"i",100),f(231,"Post-Trade Analysis "),c(),u(232,"span",19),f(233,"Required"),c()(),u(234,"div",20)(235,"div",21)(236,"div",22)(237,"label",101),f(238,"Emotional State After Trade"),c(),u(239,"select",102)(240,"option",33),f(241,"How do you feel now?"),c(),u(242,"option",103),f(243,"Satisfied"),c(),u(244,"option",104),f(245,"Excited"),c(),u(246,"option",105),f(247,"Relieved"),c(),u(248,"option",106),f(249,"Disappointed"),c(),u(250,"option",107),f(251,"Frustrated"),c(),u(252,"option",108),f(253,"Neutral"),c(),u(254,"option",109),f(255,"Angry"),c(),u(256,"option",40),f(257,"Other"),c()()(),u(258,"div",73)(259,"label",110),f(260,"Emotional Impact on Decisions"),c(),_(261,"textarea",111),c(),u(262,"div",73)(263,"label",112),f(264,"What Went Well"),c(),_(265,"textarea",113),c(),u(266,"div",73)(267,"label",114),f(268,"Areas for Improvement"),c(),_(269,"textarea",115),c(),u(270,"div",22)(271,"label",116),f(272,"Trade Status"),c(),u(273,"div",117),_(274,"input",118),u(275,"label",119),f(276,"This position is still open"),c()()()()()(),u(277,"div",15)(278,"div",16)(279,"h5",17),_(280,"i",120),f(281,"Additional Notes "),c(),u(282,"span",121),f(283,"Optional"),c()(),u(284,"div",20)(285,"div",21)(286,"div",73)(287,"label",122),f(288,"Notes"),c(),_(289,"textarea",123),c()()()(),E(290,D2,10,5,"div",124),u(291,"div",125),E(292,x2,3,0,"button",126),u(293,"div")(294,"button",127),_(295,"i",128),f(296),c()()(),E(297,I2,3,1,"div",129)(298,T2,3,1,"div",130),c()()),e&2){let i,o,s,a,l,d,p,m,y,v,w,C,x,A;h(14),L(r.tradeLogData?"Edit Post-Trading Journal":"Create Post-Trading Journal"),h(4),g("ngIf",!r.tradeLogData),h(),g("ngIf",!r.tradeLogData),h(),g("formGroup",r.postTradeForm),h(17),g("ngIf",((i=r.postTradeForm.get("accountname"))==null?null:i.invalid)&&(((i=r.postTradeForm.get("accountname"))==null?null:i.dirty)||((i=r.postTradeForm.get("accountname"))==null?null:i.touched)||r.formSubmitMarker)),h(28),g("ngIf",((o=r.postTradeForm.get("instrumenttype"))==null?null:o.invalid)&&(((o=r.postTradeForm.get("instrumenttype"))==null?null:o.dirty)||((o=r.postTradeForm.get("instrumenttype"))==null?null:o.touched)||r.formSubmitMarker)),h(17),g("ngIf",((s=r.postTradeForm.get("analysistype"))==null?null:s.invalid)&&(((s=r.postTradeForm.get("analysistype"))==null?null:s.dirty)||((s=r.postTradeForm.get("analysistype"))==null?null:s.touched)||r.formSubmitMarker)),h(8),g("ngIf",((a=r.postTradeForm.get("tradesymbol"))==null?null:a.invalid)&&(((a=r.postTradeForm.get("tradesymbol"))==null?null:a.dirty)||((a=r.postTradeForm.get("tradesymbol"))==null?null:a.touched)||r.formSubmitMarker)),h(11),g("ngIf",((l=r.postTradeForm.get("tradetype"))==null?null:l.invalid)&&(((l=r.postTradeForm.get("tradetype"))==null?null:l.dirty)||((l=r.postTradeForm.get("tradetype"))==null?null:l.touched)||r.formSubmitMarker)),h(17),g("ngIf",((d=r.postTradeForm.get("timeframe"))==null?null:d.invalid)&&(((d=r.postTradeForm.get("timeframe"))==null?null:d.dirty)||((d=r.postTradeForm.get("timeframe"))==null?null:d.touched)||r.formSubmitMarker)),h(14),g("ngIf",((p=r.postTradeForm.get("strategyname"))==null?null:p.invalid)&&(((p=r.postTradeForm.get("strategyname"))==null?null:p.dirty)||((p=r.postTradeForm.get("strategyname"))==null?null:p.touched)||r.formSubmitMarker)),h(17),g("ngIf",((m=r.postTradeForm.get("typeoforder"))==null?null:m.invalid)&&(((m=r.postTradeForm.get("typeoforder"))==null?null:m.dirty)||((m=r.postTradeForm.get("typeoforder"))==null?null:m.touched)||r.formSubmitMarker)),h(18),g("ngIf",((y=r.postTradeForm.get("entrydatetime"))==null?null:y.invalid)&&(((y=r.postTradeForm.get("entrydatetime"))==null?null:y.dirty)||((y=r.postTradeForm.get("entrydatetime"))==null?null:y.touched)||r.formSubmitMarker)),h(5),g("ngIf",((v=r.postTradeForm.get("exitdatetime"))==null?null:v.invalid)&&(((v=r.postTradeForm.get("exitdatetime"))==null?null:v.dirty)||((v=r.postTradeForm.get("exitdatetime"))==null?null:v.touched)||r.formSubmitMarker)),h(8),g("ngIf",((w=r.postTradeForm.get("entryprice"))==null?null:w.invalid)&&(((w=r.postTradeForm.get("entryprice"))==null?null:w.dirty)||((w=r.postTradeForm.get("entryprice"))==null?null:w.touched)||r.formSubmitMarker)),h(8),g("ngIf",((C=r.postTradeForm.get("exitprice"))==null?null:C.invalid)&&(((C=r.postTradeForm.get("exitprice"))==null?null:C.dirty)||((C=r.postTradeForm.get("exitprice"))==null?null:C.touched)||r.formSubmitMarker)),h(6),g("ngIf",((x=r.postTradeForm.get("positionsize"))==null?null:x.invalid)&&(((x=r.postTradeForm.get("positionsize"))==null?null:x.dirty)||((x=r.postTradeForm.get("positionsize"))==null?null:x.touched)||r.formSubmitMarker)),h(23),g("ngIf",((A=r.postTradeForm.get("tradeoutcome"))==null?null:A.invalid)&&(((A=r.postTradeForm.get("tradeoutcome"))==null?null:A.dirty)||((A=r.postTradeForm.get("tradeoutcome"))==null?null:A.touched)||r.formSubmitMarker)),h(73),g("ngIf",r.formSubmitMarker&&r.postTradeForm.invalid),h(2),g("ngIf",r.tradeLogData),h(4),O("",r.tradeLogData?"Update":"Submit"," "),h(),g("ngIf",r.message),h(),g("ngIf",r.errorMessage)}},dependencies:[B,Y,Ce,Kt,Zt,Jt,se,Wn,zr,Yt,vn,fe,Pe,hl,ke,je,ze],styles:[".card[_ngcontent-%COMP%]{border-radius:8px;box-shadow:0 2px 5px #0000000d;border:1px solid rgba(0,0,0,.1);color:#000}.card-header[_ngcontent-%COMP%]{background-color:#f8f9fa;border-bottom:1px solid rgba(0,0,0,.1);padding:12px 16px}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{border-radius:6px;padding:10px 12px;background-color:#f9f9f9;border:1px solid #ced4da}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{background-color:#fff;border-color:#80bdff;box-shadow:0 0 0 .25rem #0d6efd40}textarea.form-control[_ngcontent-%COMP%]{resize:vertical}.btn[_ngcontent-%COMP%]{padding:8px 16px;border-radius:6px;font-weight:500}.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#dc3545}"]})};var M2=(n,t,e)=>({"open-trade":n,"win-trade":t,"loss-trade":e}),A2=(n,t,e)=>({"status-open":n,"status-win":t,"status-loss":e}),k2=(n,t,e)=>({"bi-clock-history":n,"bi-check-circle":t,"bi-x-circle":e}),N2=(n,t,e)=>({"text-success":n,"text-danger":t,"text-secondary":e});function P2(n,t){n&1&&(u(0,"div",12),f(1,"Loading trade logs..."),c())}function O2(n,t){if(n&1&&(u(0,"div",13),f(1),c()),n&2){let e=b();h(),L(e.errorMessage)}}function R2(n,t){if(n&1){let e=Q();u(0,"div",16)(1,"div",17),S("click",function(){let i=I(e).$implicit,o=b(2);return T(o.openEditModal(i))}),u(2,"div",18),_(3,"i",19),f(4),c(),u(5,"div",20),S("click",function(i){let o=I(e).$implicit,s=b(2);return T(s.onDeleteTradeLog(o,i))}),_(6,"i",21),c(),u(7,"div",22)(8,"h4",23),f(9),c(),u(10,"h5",24),f(11),c(),u(12,"div",25)(13,"div",26)(14,"div",27)(15,"strong"),f(16,"Strategy:"),c(),f(17),c(),u(18,"div",27)(19,"strong"),f(20,"Analysis:"),c(),f(21),c()(),u(22,"div",26)(23,"div",27)(24,"strong"),f(25,"Entry:"),c(),f(26),c(),u(27,"div",27)(28,"strong"),f(29,"Exit:"),c(),f(30),c()(),u(31,"div",26)(32,"div",27)(33,"strong"),f(34,"Date:"),c(),f(35),Fe(36,"date"),c(),u(37,"div",27)(38,"strong"),f(39,"Account:"),c(),f(40),c()(),u(41,"div",28)(42,"div",29)(43,"strong"),f(44,"P/L:"),c(),u(45,"span",30),f(46),c()()()(),u(47,"div",31)(48,"small",32),f(49),Fe(50,"date"),c()()()()()}if(n&2){let e=t.$implicit;h(),g("ngClass",qi(23,M2,e.isopen,!e.isopen&&e.tradeoutcome==="Win",!e.isopen&&e.tradeoutcome==="Loss")),h(),g("ngClass",qi(27,A2,e.isopen,!e.isopen&&e.tradeoutcome==="Win",!e.isopen&&e.tradeoutcome==="Loss")),h(),g("ngClass",qi(31,k2,e.isopen,!e.isopen&&e.tradeoutcome==="Win",!e.isopen&&e.tradeoutcome==="Loss")),h(),O(" ",e.isopen?"In Progress":e.tradeoutcome," "),h(5),L(e.tradesymbol),h(2),vm(" ",e.tradetype," | ",e.instrumenttype," | ",e.timeframe," "),h(6),O(" ",e.strategyname," "),h(4),O(" ",e.analysistype," "),h(5),O(" ",e.entryprice," "),h(4),O(" ",e.isopen?"Pending":e.exitprice," "),h(5),O(" ",Le(36,17,e.entrydatetime,"shortDate")," "),h(5),O(" ",e.accountname," "),h(5),g("ngClass",qi(35,N2,!e.isopen&&e.tradeoutcome==="Win",!e.isopen&&e.tradeoutcome==="Loss",e.isopen)),h(),O(" ",e.isopen?"Trade in progress":e.profitlossamount," "),h(3),L(Le(50,20,e.createdtime,"medium"))}}function F2(n,t){if(n&1&&(u(0,"div",14),E(1,R2,51,39,"div",15),c()),n&2){let e=b();h(),g("ngForOf",e.tradeLogs)}}function L2(n,t){n&1&&(u(0,"div",33),f(1," No trade logs found. "),c())}function V2(n,t){if(n&1){let e=Q();u(0,"div",34),S("click",function(i){I(e);let o=b();return T(o.closeModalOnOverlayClick(i))}),u(1,"div",35),S("click",function(i){return I(e),T(i.stopPropagation())}),u(2,"app-post-trade-log",36),S("formSubmitted",function(){I(e);let i=b();return T(i.onFormSubmitted())})("cancel",function(){I(e);let i=b();return T(i.closeModal())}),c()()()}if(n&2){let e=b();h(2),g("tradeLogData",e.selectedTradeLog)}}var jd=class n{constructor(t,e){this.supabaseTradeTableService=t;this.cdr=e}tableName="posttrade";tradeLogs=[];loading=!1;errorMessage="";showModal=!1;selectedTradeLog=null;async ngOnInit(){this.loading=!0,await this.fetchTradeLogs(),this.loading=!1,this.cdr.detectChanges()}async fetchTradeLogs(){try{this.tradeLogs=await this.supabaseTradeTableService.getTradeLogs(this.tableName),this.cdr.markForCheck()}catch(t){console.error("Error fetching trade logs",t),this.errorMessage="Error fetching trade logs."}}openEditModal(t){this.selectedTradeLog=t,this.showModal=!0}onFormSubmitted(){this.fetchTradeLogs(),this.closeModal()}closeModal(){this.showModal=!1,this.selectedTradeLog=null}closeModalOnOverlayClick(t){this.closeModal(),this.cdr.markForCheck()}async onDeleteTradeLog(t,e){e.stopPropagation();try{await this.supabaseTradeTableService.deleteTradeLog(t.tradeid,this.tableName),await this.fetchTradeLogs()}catch(r){console.error("Error deleting trade log:",r),this.errorMessage="Error deleting trade log."}}static \u0275fac=function(e){return new(e||n)(D(Tt),D(ie))};static \u0275cmp=V({type:n,selectors:[["app-post-trade-table"]],decls:18,vars:5,consts:[[1,"container","mt-3"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item","text-decoration-none"],["routerLink","/home"],["aria-current","page",1,"breadcrumb-item","active"],["routerLink","/posttradelog"],["class","alert alert-info",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["class","row mt-5",4,"ngIf"],["class","alert alert-warning",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"alert","alert-info"],[1,"alert","alert-danger"],[1,"row","mt-5"],["class","col-md-4 col-12 mb-4",4,"ngFor","ngForOf"],[1,"col-md-4","col-12","mb-4"],[1,"card","h-100","position-relative","shadow",2,"cursor","pointer",3,"click","ngClass"],[1,"trade-status-indicator",3,"ngClass"],[1,"bi",3,"ngClass"],[1,"delete-icon",3,"click"],[1,"bi","bi-trash"],[1,"card-body"],[1,"card-title","mt-5"],[1,"card-subtitle","mb-3","text-muted","fw-bold"],[1,"card-text"],[1,"row","mb-2"],[1,"col-6"],[1,"row"],[1,"col-12"],[3,"ngClass"],[1,"mt-3"],[1,"text-muted"],[1,"alert","alert-warning"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[3,"formSubmitted","cancel","tradeLogData"]],template:function(e,r){e&1&&(u(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),f(5,"Dashboard"),c()(),u(6,"li",5),f(7,"Post-Trade Logs"),c(),u(8,"li",3)(9,"a",6),f(10,"Post-Trading Journal"),c()()()(),u(11,"h2"),f(12,"Post Trade Logs"),c(),E(13,P2,2,0,"div",7)(14,O2,2,1,"div",8)(15,F2,2,1,"div",9)(16,L2,2,0,"div",10),c(),E(17,V2,3,1,"div",11)),e&2&&(h(13),g("ngIf",r.loading),h(),g("ngIf",r.errorMessage),h(),g("ngIf",r.tradeLogs&&r.tradeLogs.length),h(),g("ngIf",!r.loading&&(!r.tradeLogs||r.tradeLogs.length===0)),h(),g("ngIf",r.showModal))},dependencies:[ze,B,xt,He,Y,ir,Ms],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;max-width:90%;max-height:90%;overflow:auto;position:relative}.card[_ngcontent-%COMP%]{position:relative;border:none;transition:all .2s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 20px #0000001a!important}.delete-icon[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;display:none;color:#dc3545;background:#fffc;border-radius:50%;padding:5px;z-index:10}.card[_ngcontent-%COMP%]:hover   .delete-icon[_ngcontent-%COMP%]{display:block}.delete-icon[_ngcontent-%COMP%]:hover{cursor:pointer}.open-trade[_ngcontent-%COMP%]{border-left:4px solid #17a2b8!important}.win-trade[_ngcontent-%COMP%]{border-left:4px solid #28a745!important}.loss-trade[_ngcontent-%COMP%]{border-left:4px solid #dc3545!important}.trade-status-indicator[_ngcontent-%COMP%]{position:absolute;top:8px;left:8px;padding:5px 10px;border-radius:12px;font-size:.8rem;font-weight:700;z-index:10;color:#fff}.status-open[_ngcontent-%COMP%]{background-color:#17a2b8}.status-win[_ngcontent-%COMP%]{background-color:#28a745}.status-loss[_ngcontent-%COMP%]{background-color:#dc3545}.trade-status-indicator[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:3px}"]})};var As=class n{constructor(t){this.supabaseService=t;this.supabase=this.supabaseService.GetClient()}supabase;ngOnInit(){}async loadQuestions(){let{data:t,error:e}=await this.supabase.rpc("get_random_activequestions");if(e)throw console.error("Error loading questions: ",e),e;return t}async adminLoadQuestions(){let{data:t,error:e}=await this.supabase.from("adminquestions").select("*");if(e)throw console.error("Error loading questions: ",e),e;return t}async adminSaveQuestions(t){let e=null;for(let r of t.filter(i=>i.isModified))if(r.question_id){let{data:i,error:o}=await this.supabase.from("adminquestions").update({question_data:r.question_data,active:r.active}).eq("question_id",r.question_id).select().single();if(o){console.error("Error updating question:",o),e=o;break}else r.updated_at=i.updated_at,r.isModified=!1}else{let{data:i,error:o}=await this.supabase.from("adminquestions").insert([{question_data:r.question_data,active:r.active}]).select().single();if(o){console.error("Error inserting question:",o),e=o;break}else r.question_id=i.question_id,r.created_at=i.created_at,r.updated_at=i.updated_at,r.isModified=!1}return{error:e}}async deleteQuestion(t){let{error:e}=await this.supabase.from("adminquestions").delete().eq("question_id",t.question_id);return{error:e}}async getActiveQuestions(){let{data:t,error:e}=await this.supabase.from("activequestions").select("*");return{data:t,error:e}}async submitUserAnswers(t){let{error:e}=await this.supabase.from("answers").insert(t);return{error:e}}async getLastEmotionCheckInResult(){let t=(await this.supabase.auth.getUser()).data.user?.id,{data:e,error:r}=await this.supabase.from("answers").select("analysis").eq("user_id",t).order("created_at",{ascending:!1}).limit(1);return{data:e,error:r}}async submitUserCheckIn(t){let e=(await this.supabase.auth.getUser()).data.user?.id,{error:r}=await this.supabase.rpc("perform_checkin",{in_user_id:e,in_answers:t.answers,in_analysis:t.analysis});return{error:r}}async canLoadCheckInQuestions(){let t=this.supabaseService.user()?.id;if(t===null)throw new Error("User not authenticated");let{data:e,error:r}=await this.supabase.rpc("can_checkin",{user_id:t});return!r&&e===!0}static \u0275fac=function(e){return new(e||n)(F(Se))};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})};var j2=(n,t)=>({"alert-success":n,"alert-danger":t});function U2(n,t){if(n&1&&(u(0,"div",18),f(1),c()),n&2){let e=b();g("ngClass",Dt(2,j2,e.messageType==="success",e.messageType==="error")),h(),O(" ",e.message," ")}}function B2(n,t){if(n&1){let e=Q();st(0),u(1,"input",27),Re("ngModelChange",function(i){I(e);let o=b().$implicit;return Be(o.choicesInput,i)||(o.choicesInput=i),T(i)}),S("change",function(){I(e);let i=b().$implicit,o=b();return T(o.updateChoices(i))}),c(),u(2,"div",28),f(3,'e.g., "Option A, Option B, Option C"'),c(),at()}if(n&2){let e=b().$implicit;h(),Oe("ngModel",e.choicesInput)}}function $2(n,t){if(n&1){let e=Q();u(0,"tr")(1,"td")(2,"select",19),Re("ngModelChange",function(i){let o=I(e).$implicit;return Be(o.question_data.question_type,i)||(o.question_data.question_type=i),T(i)}),S("change",function(){let i=I(e).$implicit,o=b();return T(o.onQuestionChange(i))}),u(3,"option",9),f(4,"Fill"),c(),u(5,"option",10),f(6,"Multiple"),c(),u(7,"option",11),f(8,"Select One"),c()()(),u(9,"td")(10,"input",20),Re("ngModelChange",function(i){let o=I(e).$implicit;return Be(o.question_data.question_icon,i)||(o.question_data.question_icon=i),T(i)}),S("change",function(){let i=I(e).$implicit,o=b();return T(o.onQuestionChange(i))}),c()(),u(11,"td")(12,"input",21),Re("ngModelChange",function(i){let o=I(e).$implicit;return Be(o.question_data.question_title,i)||(o.question_data.question_title=i),T(i)}),S("change",function(){let i=I(e).$implicit,o=b();return T(o.onQuestionChange(i))}),c()(),u(13,"td")(14,"textarea",22),Re("ngModelChange",function(i){let o=I(e).$implicit;return Be(o.question_data.question,i)||(o.question_data.question=i),T(i)}),S("change",function(){let i=I(e).$implicit,o=b();return T(o.onQuestionChange(i))}),c()(),u(15,"td"),E(16,B2,4,1,"ng-container",23),c(),u(17,"td")(18,"input",24),Re("ngModelChange",function(i){let o=I(e).$implicit;return Be(o.question_data.placeholder,i)||(o.question_data.placeholder=i),T(i)}),S("change",function(){let i=I(e).$implicit,o=b();return T(o.onQuestionChange(i))}),c()(),u(19,"td")(20,"div",25)(21,"input",26),Re("ngModelChange",function(i){let o=I(e).$implicit;return Be(o.active,i)||(o.active=i),T(i)}),S("change",function(){let i=I(e).$implicit,o=b();return T(o.onQuestionChange(i))}),c()()(),u(22,"td"),f(23),Fe(24,"date"),c()()}if(n&2){let e=t.$implicit;h(2),Oe("ngModel",e.question_data.question_type),h(8),Oe("ngModel",e.question_data.question_icon),h(2),Oe("ngModel",e.question_data.question_title),h(2),Oe("ngModel",e.question_data.question),h(2),g("ngIf",e.question_data.question_type!=="fill"),h(2),Oe("ngModel",e.question_data.placeholder),h(3),Oe("ngModel",e.active),h(2),L(Le(24,8,e.updated_at,"short"))}}function H2(n,t){if(n&1){let e=Q();u(0,"div",29)(1,"input",30),Re("ngModelChange",function(i){I(e);let o=b();return Be(o.newQuestionChoices,i)||(o.newQuestionChoices=i),T(i)}),c()()}if(n&2){let e=b();h(),Oe("ngModel",e.newQuestionChoices)}}var Ud=class n{constructor(t,e){this.cdr=t;this.supabaseService=e}questions=[];newQuestionText="";newQuestionType="fill";newQuestionChoices="";message="";messageType="success";async ngOnInit(){let t=await this.supabaseService.adminLoadQuestions();this.questions=t.map(e=>G(N({},e),{choicesInput:e.question_data.choices?.join(", ")||""})),this.cdr.markForCheck()}onQuestionChange(t){t.isModified=!0}updateChoices(t){let e=t.choicesInput??"";t.question_data.choices=e.split(",").map(r=>r.trim()).filter(r=>r),t.isModified=!0}addQuestion(){if(!this.newQuestionText.trim())return;let t={question_type:this.newQuestionType,question:this.newQuestionText.trim(),placeholder:this.newQuestionText.trim()};if(this.newQuestionType!=="fill"){let e=this.newQuestionChoices.split(",").map(r=>r.trim()).filter(r=>r);t.choices=e}this.questions.push({question_data:t,choicesInput:this.newQuestionChoices,active:!0,isModified:!0}),this.newQuestionText="",this.newQuestionChoices="",this.newQuestionType="fill",this.cdr.detectChanges()}async saveChanges(){let{error:t}=await this.supabaseService.adminSaveQuestions(this.questions);t?this.showMessage("Error saving questions","error"):this.showMessage("Questions saved successfully","success"),this.cdr.detectChanges()}async deleteQuestion(t){if(!t.question_id){this.questions=this.questions.filter(r=>r!==t),this.showMessage("Question removed locally","success"),this.cdr.markForCheck();return}let{error:e}=await this.supabaseService.deleteQuestion(t);e?this.showMessage("Error deleting question","error"):(this.questions=this.questions.filter(r=>r.question_id!==t.question_id),this.showMessage("Question deleted successfully","success")),this.cdr.markForCheck()}showMessage(t,e){this.message=t,this.messageType=e,this.cdr.markForCheck(),setTimeout(()=>{this.message="",this.cdr.markForCheck()},4e3)}hasChanges(){return this.questions.some(t=>t.isModified)}static \u0275fac=function(e){return new(e||n)(D(ie),D(As))};static \u0275cmp=V({type:n,selectors:[["app-admin-emotion-dashboard"]],decls:53,vars:6,consts:[[1,"container-fluid","mt-4","p-5"],["class","alert",3,"ngClass",4,"ngIf"],[1,"table","mt-5"],[4,"ngFor","ngForOf"],["href","https://fonts.google.com/icons","target","_blank"],[1,"mt-4"],[1,"row","g-3","align-items-center","mb-3"],[1,"col-md-3"],[1,"form-select",3,"ngModelChange","ngModel"],["value","fill"],["value","multiple"],["value","select-one"],[1,"col-md-5"],["type","text","placeholder","Enter question text",1,"form-control",3,"ngModelChange","ngModel"],["class","col-md-4",4,"ngIf"],[1,"d-flex","justify-content-between"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-success",3,"click","disabled"],[1,"alert",3,"ngClass"],[1,"form-select",3,"ngModelChange","change","ngModel"],["type","text","placeholder","Enter icon URL or name",1,"form-control",3,"ngModelChange","change","ngModel"],["type","text","placeholder","Enter question title",1,"form-control",3,"ngModelChange","change","ngModel"],["type","text",1,"form-control",3,"ngModelChange","change","ngModel"],[4,"ngIf"],["type","text","placeholder","Enter placeholder text",1,"form-control",3,"ngModelChange","change","ngModel"],[1,"form-check","form-switch"],["type","checkbox",1,"form-check-input",3,"ngModelChange","change","ngModel"],["type","text","placeholder","Comma-separated choices",1,"form-control","mb-1",3,"ngModelChange","change","ngModel"],[1,"text-muted","small"],[1,"col-md-4"],["type","text","placeholder","Comma-separated choices",1,"form-control",3,"ngModelChange","ngModel"]],template:function(e,r){e&1&&(u(0,"div",0),E(1,U2,2,5,"div",1),u(2,"h1"),f(3,"Admin Emotion Question Dashboard"),c(),u(4,"table",2)(5,"thead")(6,"tr")(7,"th"),f(8,"Type"),c(),u(9,"th"),f(10,"Question Icon"),c(),u(11,"th"),f(12,"Question Title"),c(),u(13,"th"),f(14,"Question Text"),c(),u(15,"th"),f(16,"Choices"),c(),u(17,"th"),f(18,"Placeholder"),c(),u(19,"th"),f(20,"Active"),c(),u(21,"th"),f(22,"Last Updated"),c()()(),u(23,"tbody"),E(24,$2,25,11,"tr",3),c()(),u(25,"label"),f(26,"For icons, go to this website: "),u(27,"a",4),f(28,"https://fonts.google.com/icons"),c(),f(29,". "),_(30,"br"),f(31,"Search for favourite icon. When you click your icon, you will look for the name of the icon and "),_(32,"br"),f(33," put it into the space"),c(),u(34,"h4",5),f(35,"Add New Question"),c(),u(36,"div",6)(37,"div",7)(38,"select",8),Re("ngModelChange",function(o){return Be(r.newQuestionType,o)||(r.newQuestionType=o),o}),u(39,"option",9),f(40,"Fill"),c(),u(41,"option",10),f(42,"Multiple"),c(),u(43,"option",11),f(44,"Select One"),c()()(),u(45,"div",12)(46,"input",13),Re("ngModelChange",function(o){return Be(r.newQuestionText,o)||(r.newQuestionText=o),o}),c()(),E(47,H2,2,1,"div",14),c(),u(48,"div",15)(49,"button",16),S("click",function(){return r.addQuestion()}),f(50,"Add Question"),c(),u(51,"button",17),S("click",function(){return r.saveChanges()}),f(52,"Save Changes"),c()()()),e&2&&(h(),g("ngIf",r.message),h(23),g("ngForOf",r.questions),h(14),Oe("ngModel",r.newQuestionType),h(8),Oe("ngModel",r.newQuestionText),h(),g("ngIf",r.newQuestionType!=="fill"),h(4),g("disabled",!r.hasChanges()))},dependencies:[Xt,Zt,Jt,se,zr,Yt,fe,gn,B,xt,He,Y,ir],styles:[".container[_ngcontent-%COMP%]{max-width:800px;margin:auto}.question-row[_ngcontent-%COMP%]{position:relative}.delete-button[_ngcontent-%COMP%]{display:none;position:absolute;right:10px;top:50%;transform:translateY(-50%)}.question-row[_ngcontent-%COMP%]:hover   .delete-button[_ngcontent-%COMP%]{display:block}.alert[_ngcontent-%COMP%]{padding:10px 20px;margin-bottom:15px;border-radius:4px;text-align:center}.table[_ngcontent-%COMP%]{--bs-table-bg: transparent}"]})};var k0=(n,t)=>t.some(e=>n instanceof e),ZS,JS;function z2(){return ZS||(ZS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function q2(){return JS||(JS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var N0=new WeakMap,M0=new WeakMap,Bd=new WeakMap;function G2(n){let t=new Promise((e,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{e(fo(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return Bd.set(t,n),t}function W2(n){if(N0.has(n))return;let t=new Promise((e,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{e(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});N0.set(n,t)}var P0={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return N0.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return fo(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function n1(n){P0=n(P0)}function Q2(n){return q2().includes(n)?function(...t){return n.apply(O0(this),t),fo(this.request)}:function(...t){return fo(n.apply(O0(this),t))}}function K2(n){return typeof n=="function"?Q2(n):(n instanceof IDBTransaction&&W2(n),k0(n,z2())?new Proxy(n,P0):n)}function fo(n){if(n instanceof IDBRequest)return G2(n);if(M0.has(n))return M0.get(n);let t=K2(n);return t!==n&&(M0.set(n,t),Bd.set(t,n)),t}var O0=n=>Bd.get(n);function ml(n,t,{blocked:e,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,t),a=fo(s);return r&&s.addEventListener("upgradeneeded",l=>{r(fo(s.result),l.oldVersion,l.newVersion,fo(s.transaction),l)}),e&&s.addEventListener("blocked",l=>e(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}var Y2=["get","getKey","getAll","getAllKeys","count"],Z2=["put","add","delete","clear"],A0=new Map;function XS(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(A0.get(t))return A0.get(t);let e=t.replace(/FromIndex$/,""),r=t!==e,i=Z2.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Y2.includes(e)))return;let o=async function(s,...a){let l=this.transaction(s,i?"readwrite":"readonly"),d=l.store;return r&&(d=d.index(a.shift())),(await Promise.all([d[e](...a),i&&l.done]))[0]};return A0.set(t,o),o}n1(n=>G(N({},n),{get:(t,e,r)=>XS(t,e)||n.get(t,e,r),has:(t,e)=>!!XS(t,e)||n.has(t,e)}));var J2=["continue","continuePrimaryKey","advance"],e1={},R0=new WeakMap,r1=new WeakMap,X2={get(n,t){if(!J2.includes(t))return n[t];let e=e1[t];return e||(e=e1[t]=function(...r){R0.set(this,r1.get(this)[t](...r))}),e}};async function*eL(...n){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...n)),!t)return;t=t;let e=new Proxy(t,X2);for(r1.set(e,t),Bd.set(e,O0(t));t;)yield e,t=await(R0.get(e)||t.continue()),R0.delete(e)}function t1(n,t){return t===Symbol.asyncIterator&&k0(n,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&k0(n,[IDBIndex,IDBObjectStore])}n1(n=>G(N({},n),{get(t,e,r){return t1(t,e)?eL:n.get(t,e,r)},has(t,e){return t1(t,e)||n.has(t,e)}}));var en=class n{constructor(t,e){this.supabaseService=t;this.platformId=e;this.supabase=this.supabaseService.GetClient()}supabase;ngOnInit(){}async getUserTradeAccounts(){let t=this.supabaseService.user();if(!t)throw new Error("User not authenticated");let e="tradeaccount",r=!1,i=null;if(typeof window<"u"){r=sessionStorage.getItem(`${e}_refresh`)==="yes";let a=sessionStorage.getItem(e);if(a)try{i=JSON.parse(a)}catch(l){console.error("Error parsing cached trade accounts:",l),i=null}}if(!r&&i)return i;let{data:o,error:s}=await this.supabase.from(e).select("*").eq("user_id",t.id);if(s)throw console.error("Error fetching trade accounts:",s),s;return typeof window<"u"&&(sessionStorage.setItem(e,JSON.stringify(o)),sessionStorage.removeItem(`${e}_refresh`)),o||[]}async addTradeAccount(t){let e=this.supabaseService.user();if(!e)throw new Error("User not authenticated");let d=t,{track_pl:r,include_in_analytics:i,trading_instruments:o}=d,s=_o(d,["track_pl","include_in_analytics","trading_instruments"]),a={track_pl:r,include_in_analytics:i,trading_instruments:o},{error:l}=await this.supabase.from("tradeaccount").insert([G(N({},s),{user_id:e.id,metadata:a})]);return l?(console.error("Failed to add trade account:",l),!1):(sessionStorage.setItem("tradeaccount_refresh","yes"),!0)}async editTradeAccount(t,e){let r=this.supabaseService.user();if(!r)throw new Error("User not authenticated");let p=e,{track_pl:i,include_in_analytics:o,trading_instruments:s}=p,a=_o(p,["track_pl","include_in_analytics","trading_instruments"]),l={track_pl:i,include_in_analytics:o,trading_instruments:s},{error:d}=await this.supabase.from("tradeaccount").update(G(N({},a),{metadata:l})).eq("account_id",t).eq("user_id",r.id);return d?(console.error("Failed to update trade account:",d),!1):(sessionStorage.setItem("tradeaccount_refresh","yes"),!0)}async removeTradeAccount(t){let e=this.supabaseService.user();if(!e)throw new Error("User not authenticated");let{error:r}=await this.supabase.from("tradejournal").delete().eq("trade_account_id",t).eq("userid",e.id);if(r)return console.error("Failed to delete associated trade logs:",r),!1;let{error:i}=await this.supabase.from("tradeaccount").delete().eq("account_id",t).eq("user_id",e.id);return i?(console.error("Failed to remove trade account:",i),!1):(typeof window<"u"&&(sessionStorage.setItem("tradeaccount_refresh","yes"),sessionStorage.setItem(`tradejournal_${t}_refresh`,"yes")),!0)}async getProfile(){console.log("getting profile picture");let t=this.supabaseService.user();if(!t)throw new Error("User not authenticated");return this.supabase.from("usersaccount").select("*").eq("user_id",t.id).single()}async createProfile(t){if(!this.supabaseService.user())throw new Error("User not authenticated");return this.supabase.from("usersaccount").insert(t)}async updateProfile(t){let e=this.supabaseService.user();if(!e)throw new Error("User not authenticated");return this.supabase.from("usersaccount").update(t).eq("user_id",e.id)}async uploadProfilePicture(t){let e=this.supabaseService.user();if(!e)throw new Error("User not authenticated");let r=t.name.split(".").pop(),i=`${e.id}/profile.${r}`;await(await ml("profile-cache",1,{upgrade(a){a.createObjectStore("pictures")}})).delete("pictures",i);let{error:s}=await this.supabase.storage.from("user-profile-pictures").upload(i,t,{upsert:!0});return s?null:i}async cacheProfilePictureBlob(t,e){await(await ml("profile-cache",1,{upgrade(i){i.createObjectStore("pictures")}})).put("pictures",e,t)}async getCachedProfilePictureBlobUrl(t){if(!t)return null;let e=await ml("profile-cache",1,{upgrade(a){a.createObjectStore("pictures")}}),r=await e.get("pictures",t);if(r)return URL.createObjectURL(r);let i=await this.getPublicUrl(t);if(!i)return null;let o=await fetch(i);if(!o.ok)return null;let s=await o.blob();return await e.put("pictures",s,t),URL.createObjectURL(s)}clearCachedProfilePictureBlobUrl(){if(Mn(this.platformId)){let t=sessionStorage.getItem("profile_picture_blob_url");t&&(URL.revokeObjectURL(t),sessionStorage.removeItem("profile_picture_blob_url"))}}async deleteProfilePicture(){let{data:{user:t}}=await this.supabase.auth.getUser();if(!t)return;let e=`${t.id}/profile.png`,r=`${t.id}/profile.jpg`,i=`${t.id}/profile.jpeg`,o=`${t.id}/profile.webp`;await this.supabase.storage.from("user-profile-pictures").remove([e,r,i,o]);let s=await ml("profile-cache",1,{upgrade(a){a.createObjectStore("pictures")}});await s.delete("pictures",e),await s.delete("pictures",r),await s.delete("pictures",i),await s.delete("pictures",o)}async getPublicUrl(t){let{data:e}=await this.supabase.storage.from("user-profile-pictures").createSignedUrl(t,60);return e?.signedUrl??null}static \u0275fac=function(e){return new(e||n)(F(Se),F(Ct))};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})};var ur=class n{constructor(t,e,r,i){this.supabaseService=t;this.supabaseAccountService=e;this.router=r;this.document=i;this.supabase=this.supabaseService.GetClient(),this.rootDomainName="https://app.tradingrehab.io/auth/update-password"}supabase;rootDomainName;async signIn(t,e){try{let{error:r}=await this.supabase.auth.signInWithPassword({email:t,password:e});if(r)throw r;return{success:!0}}catch(r){return console.error("Sign in error:",r),{success:!1,error:r}}}async logout(t=!0){try{await this.supabase.auth.signOut()}catch(e){console.error("Sign out error:",e)}this.supabaseService.updateSignalsFromSession(null),this.supabaseAccountService.clearCachedProfilePictureBlobUrl(),Mn(this.supabaseService.platformId)&&(sessionStorage.clear(),localStorage.clear()),t&&this.router.navigate(["/"])}async signUp(t,e,r,i){let{error:o}=await this.supabase.auth.signUp({email:t,password:e,options:{data:{firstname:r,lastname:i}}});return o?{success:!1,error:o}:{success:!0}}async requestPasswordReset(t){let{error:e}=await this.supabase.auth.resetPasswordForEmail(t,{redirectTo:"https://app.tradingrehab.io/#/?returnUrl=%2Fauth%2Fupdate-password"});return e?{success:!1,error:e}:{success:!0}}async updatePassword(t){let{error:e}=await this.supabase.auth.updateUser({password:t});return e?{success:!1,error:e}:{success:!0}}static \u0275fac=function(e){return new(e||n)(F(Se),F(en),F(vt),F($e))};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})};function tL(n,t){if(n&1&&(u(0,"div",13),f(1),c()),n&2){let e=b();h(),O(" ",e.errorMessage," ")}}function nL(n,t){n&1&&(u(0,"div",28),f(1," A valid email is required. "),c())}function rL(n,t){n&1&&(u(0,"div",28),f(1," Password must be at least 6 characters. "),c())}function iL(n,t){if(n&1){let e=Q();u(0,"form",14),S("ngSubmit",function(){I(e);let i=b();return T(i.onSubmit())}),u(1,"div",15)(2,"label",16),f(3,"Email"),c(),_(4,"input",17),E(5,nL,2,0,"div",18),c(),u(6,"div",15)(7,"label",19),f(8,"Password"),c(),_(9,"input",20),E(10,rL,2,0,"div",18),u(11,"div",21)(12,"a",22),f(13,"Forgot password?"),c()()(),u(14,"div",23)(15,"button",24),f(16,"Continue"),c()(),u(17,"div",25)(18,"p",26),f(19,"Don't have an account? "),u(20,"a",27),S("click",function(){I(e);let i=b();return T(i.setActiveTab("signup"))}),f(21,"Sign up"),c()()()()}if(n&2){let e,r,i=b();g("formGroup",i.signinForm),h(5),g("ngIf",((e=i.signinForm.get("email"))==null?null:e.invalid)&&((e=i.signinForm.get("email"))==null?null:e.touched)),h(5),g("ngIf",((r=i.signinForm.get("password"))==null?null:r.invalid)&&((r=i.signinForm.get("password"))==null?null:r.touched)),h(5),g("disabled",i.signinForm.invalid)}}function oL(n,t){n&1&&(u(0,"small",43),f(1," First name is required "),c())}function sL(n,t){n&1&&(u(0,"small",43),f(1," Last name is required "),c())}function aL(n,t){n&1&&(u(0,"small",43),f(1," Valid email is required "),c())}function lL(n,t){n&1&&(u(0,"small",43),f(1," Password must be at least 6 characters "),c())}function cL(n,t){n&1&&(u(0,"small",43),f(1," Passwords do not match "),c())}function uL(n,t){if(n&1){let e=Q();u(0,"form",14),S("ngSubmit",function(){I(e);let i=b();return T(i.onSignupSubmit())}),u(1,"div",29)(2,"div",30)(3,"label",31),f(4,"First Name"),c(),_(5,"input",32),E(6,oL,2,0,"small",33),c(),u(7,"div",30)(8,"label",34),f(9,"Last Name"),c(),_(10,"input",35),E(11,sL,2,0,"small",33),c()(),u(12,"div",15)(13,"label",36),f(14,"Email"),c(),_(15,"input",37),E(16,aL,2,0,"small",33),c(),u(17,"div",15)(18,"label",38),f(19,"Password"),c(),_(20,"input",39),E(21,lL,2,0,"small",33),c(),u(22,"div",15)(23,"label",40),f(24,"Confirm Password"),c(),_(25,"input",41),E(26,cL,2,0,"small",33),c(),u(27,"div",21)(28,"a",22),f(29,"Forgot password?"),c()(),u(30,"div",23)(31,"button",24),f(32,"Create Account"),c()(),u(33,"div",25)(34,"p",26),f(35,"Already have an account? "),u(36,"a",42),S("click",function(){I(e);let i=b();return T(i.setActiveTab("login"))}),f(37,"Login"),c()()()()}if(n&2){let e,r,i,o,s,a=b();g("formGroup",a.signupForm),h(6),g("ngIf",((e=a.signupForm.get("firstname"))==null?null:e.invalid)&&((e=a.signupForm.get("firstname"))==null?null:e.touched)),h(5),g("ngIf",((r=a.signupForm.get("lastname"))==null?null:r.invalid)&&((r=a.signupForm.get("lastname"))==null?null:r.touched)),h(5),g("ngIf",((i=a.signupForm.get("email"))==null?null:i.invalid)&&((i=a.signupForm.get("email"))==null?null:i.touched)),h(5),g("ngIf",((o=a.signupForm.get("password"))==null?null:o.invalid)&&((o=a.signupForm.get("password"))==null?null:o.touched)),h(5),g("ngIf",a.signupForm.hasError("mismatch")&&((s=a.signupForm.get("confirmPassword"))==null?null:s.touched)),h(5),g("disabled",a.signupForm.invalid)}}var Hd=class n{constructor(t,e,r,i,o,s,a){this.fb=t;this.router=e;this.route=r;this.cdr=i;this.supabaseService=o;this.supabaseAuthService=s;this.supabaseAccountService=a;this.signinForm=this.fb.group({email:["",[R.required,R.email]],password:["",[R.required,R.minLength(6)]]}),this.signupForm=this.fb.group({firstname:["",R.required],lastname:["",R.required],email:["",[R.required,R.email]],password:["",[R.required,R.minLength(6)]],confirmPassword:["",R.required]},{validators:this.passwordMatchValidator})}activeTab="login";signinForm;signupForm;errorMessage=null;ngOnInit(){this.route.queryParams.subscribe(t=>{t.mode==="signup"&&(this.activeTab="signup")})}passwordMatchValidator(t){let e=t.get("password")?.value,r=t.get("confirmPassword")?.value;return e===r?null:{mismatch:!0}}setActiveTab(t){this.activeTab=t,this.errorMessage=null}async onSubmit(){if(this.signinForm.invalid){this.signinForm.markAllAsTouched();return}let{email:t,password:e}=this.signinForm.getRawValue();try{if(await this.supabaseAuthService.signIn(t,e),!this.supabaseService.currentUsername()){this.errorMessage="Login failed. Please try again.",this.cdr.markForCheck();return}this.signinForm.reset();let r=this.route.snapshot.queryParams.returnUrl||"/home";this.router.navigateByUrl(r),this.cdr.markForCheck()}catch(r){this.errorMessage=r.message||"An unexpected error occurred.",this.cdr.markForCheck()}}async onSignupSubmit(){if(this.signupForm.invalid){this.errorMessage="Please fill them correctly.",this.signupForm.markAllAsTouched(),this.cdr.markForCheck();return}let{email:t,password:e,firstname:r,lastname:i}=this.signupForm.getRawValue();try{let{success:o,error:s}=await this.supabaseAuthService.signUp(t,e,r,i);if(!o){this.errorMessage=s?.message||"Signup failed.",this.cdr.markForCheck();return}let a=this.supabaseService.user();if(!a){this.errorMessage="User not found after signup.",this.cdr.markForCheck();return}await this.supabaseAccountService.createProfile({user_id:a.id,firstname:r,lastname:i,email:t,phone:null,profile_picture_url:null,updated_at:new Date().toISOString(),preferences:{},metadata:{}}),this.signupForm.reset(),this.router.navigateByUrl("/home"),this.cdr.markForCheck()}catch(o){this.errorMessage=o.message||"An unexpected error occurred.",this.cdr.markForCheck()}}static \u0275fac=function(e){return new(e||n)(D(It),D(vt),D(hn),D(ie),D(Se),D(ur),D(en))};static \u0275cmp=V({type:n,selectors:[["app-login-signup"]],decls:20,vars:7,consts:[[1,"auth-container"],[1,"auth-card"],[1,"text-center","mb-4"],[1,"logo-circle","mx-auto"],["src","/tr_logo.svg","alt","Logo",1,"img-fluid"],[1,"brand-name","mt-3"],[1,"brand-tagline"],[1,"auth-tabs","d-flex","justify-content-center","mb-4"],[1,"tabs-container"],[1,"tab",3,"click"],[1,"mx-2","tab-separator"],["class","alert alert-danger mb-3",4,"ngIf"],["class","auth-form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"alert","alert-danger","mb-3"],[1,"auth-form",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","placeholder","Enter your email",1,"form-control"],["class","text-danger small mt-1",4,"ngIf"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password","placeholder","Enter your password",1,"form-control"],[1,"d-flex","justify-content-end","mt-2"],["routerLink","/auth/forgot-password",1,"forgot-link"],[1,"d-grid","gap-2","mt-4"],["type","submit",1,"btn","btn-tr","btn-primary","btn-md",3,"disabled"],[1,"text-center","mt-4"],[1,"mb-0"],["href","javascript:void(0)",1,"signup-link",3,"click"],[1,"text-danger","small","mt-1"],[1,"row"],[1,"col-md-6","mb-3"],["for","firstname",1,"form-label"],["type","text","id","firstname","formControlName","firstname","placeholder","First name",1,"form-control"],["class","text-danger",4,"ngIf"],["for","lastname",1,"form-label"],["type","text","id","lastname","formControlName","lastname","placeholder","Last name",1,"form-control"],["for","signup-email",1,"form-label"],["type","email","id","signup-email","formControlName","email","placeholder","Enter your email",1,"form-control"],["for","signup-password",1,"form-label"],["type","password","id","signup-password","formControlName","password","placeholder","Create a password",1,"form-control"],["for","confirmPassword",1,"form-label"],["type","password","id","confirmPassword","formControlName","confirmPassword","placeholder","Confirm your password",1,"form-control"],["href","javascript:void(0)",1,"login-link",3,"click"],[1,"text-danger"]],template:function(e,r){e&1&&(u(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),_(4,"img",4),c(),u(5,"h2",5),f(6,"TRADING REHAB"),c(),u(7,"p",6),f(8,"Where Disciplined Trading Begins"),c()(),u(9,"div",7)(10,"div",8)(11,"span",9),S("click",function(){return r.setActiveTab("login")}),f(12,"Login"),c(),u(13,"span",10),f(14,"\u2022"),c(),u(15,"span",9),S("click",function(){return r.setActiveTab("signup")}),f(16,"Sign Up"),c()()(),E(17,tL,2,1,"div",11)(18,iL,22,4,"form",12)(19,uL,38,7,"form",12),c()()),e&2&&(h(11),xe("active",r.activeTab==="login"),h(4),xe("active",r.activeTab==="signup"),h(2),g("ngIf",r.errorMessage),h(),g("ngIf",r.activeTab==="login"),h(),g("ngIf",r.activeTab==="signup"))},dependencies:[B,Y,Ce,Kt,se,fe,Pe,ke,je,ze],styles:['.auth-container[_ngcontent-%COMP%]{min-height:100dvh;display:flex;align-items:center;justify-content:center}.auth-card[_ngcontent-%COMP%]{background-color:transparent;border-radius:12px;width:100%;max-width:450px;padding:30px}.logo-circle[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;background-color:transparent;position:relative;display:flex;align-items:center;justify-content:center;margin:0 auto}.dots-circle[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;position:relative;background-image:radial-gradient(circle,#5046e5 3px,transparent 3px);background-size:15px 15px;transform:rotate(45deg)}.brand-name[_ngcontent-%COMP%]{font-weight:700;font-size:24px;margin-bottom:5px;letter-spacing:.5px}.brand-tagline[_ngcontent-%COMP%]{color:#666;font-size:14px;margin:0}.tabs-container[_ngcontent-%COMP%]{display:inline-flex;align-items:center;border-bottom:1px solid #eee;padding-bottom:5px}.tab[_ngcontent-%COMP%]{padding:8px 15px;cursor:pointer;color:#888;font-weight:500;font-size:16px;transition:color .2s}.tab.active[_ngcontent-%COMP%]{color:#5046e5;border-bottom:2px solid #5046e5}.tab-separator[_ngcontent-%COMP%]{color:#ccc}.auth-form[_ngcontent-%COMP%]{margin-top:10px}.form-control[_ngcontent-%COMP%]{height:auto;padding:12px 15px;border-radius:8px;border:1px solid #ddd;transition:border-color .2s,box-shadow .2s}.form-control[_ngcontent-%COMP%]:focus{border-color:#5046e5;box-shadow:0 0 0 .2rem #5046e526}.form-label[_ngcontent-%COMP%]{font-weight:500;color:#555;margin-bottom:8px}.forgot-link[_ngcontent-%COMP%]{font-size:14px;color:#5046e5;text-decoration:none}.forgot-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.signup-link[_ngcontent-%COMP%], .login-link[_ngcontent-%COMP%]{color:#5046e5;font-weight:500;text-decoration:none}.signup-link[_ngcontent-%COMP%]:hover, .login-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.btn-primary[_ngcontent-%COMP%]{background-color:#5046e5;border-color:#5046e5;padding:12px;font-weight:500}.btn-primary[_ngcontent-%COMP%]:hover, .btn-primary[_ngcontent-%COMP%]:focus{background-color:#4238d0;border-color:#4238d0}.btn-primary[_ngcontent-%COMP%]:disabled{background-color:#a8a4e0;border-color:#a8a4e0}.separator[_ngcontent-%COMP%]{display:flex;align-items:center;text-align:center;color:#888;font-size:14px}.separator[_ngcontent-%COMP%]:before, .separator[_ngcontent-%COMP%]:after{content:"";flex:1;border-bottom:1px solid #ddd}.separator[_ngcontent-%COMP%]:before{margin-right:1em}.separator[_ngcontent-%COMP%]:after{margin-left:1em}.google-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#fff;border:1px solid #ddd;color:#333;padding:12px;font-weight:500}.google-btn[_ngcontent-%COMP%]:hover{background-color:#f8f8f8;color:#333}@media (max-width: 576px){.auth-card[_ngcontent-%COMP%]{padding:20px 15px}.brand-name[_ngcontent-%COMP%]{font-size:20px}.form-control[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]{padding:10px}}']})};var zd=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=V({type:n,selectors:[["app-welcome-message"]],decls:5,vars:0,consts:[[1,"text-center","p-3","bg-light","rounded-3","shadow-sm","mb-4"],[1,"fs-2","fw-bold","text-dark"],[1,"text-secondary","mb-0"]],template:function(e,r){e&1&&(u(0,"div",0)(1,"h1",1),f(2,"Welcome to Your Meditation Hub!"),c(),u(3,"p",2),f(4,"Find your calm, track your journey."),c()())},encapsulation:2})};var dL=(n,t)=>({"btn-danger":n,"btn-success":t}),qd=class n{meditationDuration=ut(10);timeLeft=ut(10*60);isRunning=!1;timerInterval;timerCompleted=new ne;ngOnInit(){this.resetTimer()}ngOnDestroy(){this.clearTimerInterval()}formatTime(){let t=this.timeLeft(),e=Math.floor(t/60),r=t%60;return`${e.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`}onDurationChange(t){this.meditationDuration.set(t),this.resetTimer()}toggleTimer(){this.isRunning=!this.isRunning,this.isRunning?this.startTimer():this.clearTimerInterval()}resetTimer(){this.isRunning=!1,this.clearTimerInterval(),this.timeLeft.set(this.meditationDuration()*60)}startTimer(){this.clearTimerInterval(),this.timerInterval=setInterval(()=>{this.timeLeft.update(t=>t-1),this.timeLeft()<=0&&(this.resetTimer(),this.timerCompleted.emit())},1e3)}clearTimerInterval(){this.timerInterval&&clearInterval(this.timerInterval)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=V({type:n,selectors:[["app-meditation-timer"]],outputs:{timerCompleted:"timerCompleted"},decls:22,vars:10,consts:[[1,"card","p-4","rounded-3","h-100","d-flex","flex-column","text-center"],[1,"fs-3","fw-bold","text-dark","mb-4"],[1,"display-4","fw-light","text-success","mb-4","p-3","bg-light","rounded-3","shadow-inset","mx-auto",2,"min-width","180px"],[1,"mb-4","w-100"],["for","duration",1,"form-label","text-dark","fs-6","fw-semibold","mb-2"],["type","range","id","duration","min","1","max","60",1,"form-range",3,"ngModelChange","ngModel"],[1,"d-flex","justify-content-center","gap-3"],[1,"btn","btn-lg","rounded-pill","text-white","fw-bold","shadow-sm","d-flex","align-items-center",3,"click","ngClass"],[1,"ms-2"],[1,"btn","btn-lg","btn-secondary","rounded-pill","text-white","fw-bold","shadow-sm","d-flex","align-items-center",3,"click"],[1,"mt-3","text-secondary","mb-0"]],template:function(e,r){e&1&&(u(0,"div",0)(1,"h2",1),f(2,"Meditation Timer"),c(),u(3,"div",2),f(4),c(),u(5,"div",3)(6,"label",4),f(7),c(),u(8,"input",5),S("ngModelChange",function(o){return r.onDurationChange(o)}),c()(),u(9,"div",6)(10,"button",7),S("click",function(){return r.toggleTimer()}),u(11,"mat-icon"),f(12),c(),u(13,"span",8),f(14),c()(),u(15,"button",9),S("click",function(){return r.resetTimer()}),u(16,"mat-icon"),f(17,"restart_alt"),c(),u(18,"span",8),f(19,"Reset"),c()()(),u(20,"p",10),f(21),c()()),e&2&&(h(4),O(" ",r.formatTime()," "),h(3),O(" Duration (",r.meditationDuration()," min): "),h(),g("ngModel",r.meditationDuration()),h(2),g("ngClass",Dt(7,dL,r.isRunning,!r.isRunning)),h(2),L(r.isRunning?"pause":"play_arrow"),h(2),L(r.isRunning?"Pause":"Start"),h(7),O(" ",r.isRunning?"Focus on your breath...":"Ready to begin?"," "))},dependencies:[B,xt,Xt,se,C0,fe,gn,kn],styles:[".shadow-inset[_ngcontent-%COMP%]{box-shadow:inset 0 2px 4px #0000000f}"]})};function fL(n,t){if(n&1){let e=Q();u(0,"div",4)(1,"div",5),S("click",function(){let i=I(e).$implicit,o=b();return T(o.selectMedia(i))}),u(2,"img",6),S("error",function(i){let o=I(e).$implicit,s=b();return T(s.onImageError(i,o.type))}),c(),u(3,"div",7)(4,"h3",8),f(5),c(),u(6,"p",9),f(7),c()()()()}if(n&2){let e=t.$implicit;h(2),g("src",e.thumbnail,xn)("alt",e.title),h(3),L(e.title),h(2),L(e.type)}}var Gd=class n{mediaLibrary=[];mediaSelected=new ne;selectMedia(t){this.mediaSelected.emit(t)}onImageError(t,e){let r=t.target;r.src=`https://placehold.co/300x180/E0F2F1/004D40?text=${e==="video"?"Video":"Audio"}`}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=V({type:n,selectors:[["app-media-catalog"]],inputs:{mediaLibrary:"mediaLibrary"},outputs:{mediaSelected:"mediaSelected"},decls:5,vars:1,consts:[[1,"card","bg-white","bg-opacity-90","p-4","rounded-3","shadow-sm","h-100","d-flex","flex-column"],[1,"fs-3","fw-bold","text-dark","mb-4","text-center"],[1,"row","row-cols-1","row-cols-sm-2","g-3","overflow-auto","flex-grow-1","pe-2"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"card","bg-light","bg-opacity-75","rounded-3","shadow-sm","overflow-hidden","cursor-pointer","hover-shadow-lg",3,"click"],[1,"card-img-top","object-fit-cover",2,"height","120px",3,"error","src","alt"],[1,"card-body","p-3"],[1,"card-title","fs-6","fw-semibold","text-dark","text-truncate","mb-1"],[1,"card-text","text-secondary","text-capitalize","small","mb-0"]],template:function(e,r){e&1&&(u(0,"div",0)(1,"h2",1),f(2,"Video & Audio Catalog"),c(),u(3,"div",2),E(4,fL,8,4,"div",3),c()()),e&2&&(h(4),g("ngForOf",r.mediaLibrary))},dependencies:[B,He],styles:[".cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.hover-shadow-lg[_ngcontent-%COMP%]:hover{box-shadow:0 .5rem 1rem #00000026!important;transition:box-shadow .2s}"]})};function pL(n,t){if(n&1){let e=Q();u(0,"div",3)(1,"h3",4),f(2),c(),u(3,"div",5),_(4,"iframe",6),c(),u(5,"div",7)(6,"button",8),S("click",function(){I(e);let i=b();return T(i.stop())}),u(7,"mat-icon"),f(8,"stop"),c(),u(9,"span",9),f(10,"Stop Playing"),c()()()()}if(n&2){let e=b();h(2),O("Now Playing: ",e.media.title,""),h(2),g("src",e.safeUrl,Qh)("title",e.media.title)}}function hL(n,t){n&1&&(u(0,"p",10),f(1,"Select a video or audio from the catalog to play."),c())}var Wd=class n{constructor(t){this.sanitizer=t}_media=null;safeUrl=null;set media(t){this._media=t,this.safeUrl=t?this.sanitizer.bypassSecurityTrustResourceUrl(t.url):null}get media(){return this._media}playbackStopped=new ne;stop(){this.playbackStopped.emit()}static \u0275fac=function(e){return new(e||n)(D(Ea))};static \u0275cmp=V({type:n,selectors:[["app-media-player"]],inputs:{media:"media"},outputs:{playbackStopped:"playbackStopped"},decls:4,vars:2,consts:[["noMediaSelected",""],[1,"card","bg-white","bg-opacity-90","p-4","rounded-3","shadow-sm","min-h-150px","d-flex","align-items-center","justify-content-center"],["class","w-100 h-100",4,"ngIf","ngIfElse"],[1,"w-100","h-100"],[1,"fs-4","fw-semibold","text-dark","mb-3","text-center"],[1,"ratio","ratio-16x9","rounded-3","overflow-hidden","mb-3"],["frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture","allowfullscreen","",3,"src","title"],[1,"text-center"],[1,"btn","btn-danger","rounded-pill","d-inline-flex","align-items-center",3,"click"],[1,"ms-2"],[1,"text-secondary","fs-5"]],template:function(e,r){if(e&1&&(u(0,"div",1),E(1,pL,11,3,"div",2)(2,hL,2,0,"ng-template",null,0,Yo),c()),e&2){let i=rr(3);h(),g("ngIf",r.media)("ngIfElse",i)}},dependencies:[B,Y,kn],styles:[".min-h-150px[_ngcontent-%COMP%]{min-height:250px}"],changeDetection:0})};var Qd=class n{entrySaved=new ne;journalEntry="";save(){let t=this.journalEntry.trim();t&&(this.entrySaved.emit(t),this.journalEntry="")}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=V({type:n,selectors:[["app-journal-writer"]],outputs:{entrySaved:"entrySaved"},decls:9,vars:1,consts:[[1,"card","bg-white","bg-opacity-90","p-4","rounded-3","shadow-sm","h-100","d-flex","flex-column"],[1,"fs-3","fw-bold","text-dark","mb-4","text-center"],["placeholder","Write about your meditation experience...","rows","5",1,"form-control","p-3","rounded-3","border","border-secondary","flex-grow-1","mb-3",3,"ngModelChange","ngModel"],[1,"btn","btn-success","rounded-pill","fw-bold","shadow-sm","d-inline-flex","align-items-center","justify-content-center",3,"click"],[1,"ms-2"]],template:function(e,r){e&1&&(u(0,"div",0)(1,"h2",1),f(2,"Meditation Journal"),c(),u(3,"textarea",2),Re("ngModelChange",function(o){return Be(r.journalEntry,o)||(r.journalEntry=o),o}),c(),u(4,"button",3),S("click",function(){return r.save()}),u(5,"mat-icon"),f(6,"save"),c(),u(7,"span",4),f(8,"Save Entry"),c()()()),e&2&&(h(3),Oe("ngModel",r.journalEntry))},dependencies:[B,Xt,se,fe,gn,kn],encapsulation:2})};function mL(n,t){if(n&1&&(u(0,"div",6)(1,"p",7),f(2),c(),u(3,"p",8),f(4),c()()),n&2){let e=t.$implicit;h(2),L(e.date),h(2),L(e.content)}}function gL(n,t){if(n&1&&(u(0,"div",4),E(1,mL,5,2,"div",5),c()),n&2){let e=b();h(),g("ngForOf",e.entries)}}function vL(n,t){n&1&&(u(0,"div",9)(1,"p"),f(2,"No journal entries yet."),c()())}var Kd=class n{entries=[];static \u0275fac=function(e){return new(e||n)};static \u0275cmp=V({type:n,selectors:[["app-journal-history"]],inputs:{entries:"entries"},decls:6,vars:2,consts:[["noEntries",""],[1,"card","bg-white","bg-opacity-90","p-4","rounded-3","shadow-sm","h-100","d-flex","flex-column"],[1,"fs-3","fw-bold","text-dark","mb-4","text-center"],["class","overflow-auto flex-grow-1 pe-2",4,"ngIf","ngIfElse"],[1,"overflow-auto","flex-grow-1","pe-2"],["class","card bg-light bg-opacity-75 p-3 rounded shadow-sm mb-3",4,"ngFor","ngForOf"],[1,"card","bg-light","bg-opacity-75","p-3","rounded","shadow-sm","mb-3"],[1,"text-secondary","small","mb-1"],[1,"text-dark","small","mb-0",2,"white-space","pre-wrap"],[1,"text-secondary","text-center","flex-grow-1","d-flex","align-items-center","justify-content-center","mb-0"]],template:function(e,r){if(e&1&&(u(0,"div",1)(1,"h2",2),f(2,"Journal History"),c(),E(3,gL,2,1,"div",3)(4,vL,3,0,"ng-template",null,0,Yo),c()),e&2){let i=rr(5);h(3),g("ngIf",r.entries.length>0)("ngIfElse",i)}},dependencies:[B,He,Y],encapsulation:2,changeDetection:0})};var i1=(n,t)=>({"btn-success":n,"btn-light":t});function yL(n,t){if(n&1){let e=Q();u(0,"div",16)(1,"label",17),f(2,"Choose a color:"),c(),u(3,"input",18),Re("ngModelChange",function(i){I(e);let o=b(2);return Be(o.color,i)||(o.color=i),T(i)}),S("change",function(){I(e);let i=b(2);return T(i.updateBackground())}),c()()}if(n&2){let e=b(2);h(3),Oe("ngModel",e.color)}}function _L(n,t){if(n&1&&(u(0,"div",23),_(1,"img",24),c()),n&2){let e=b(3);h(),g("src",e.image,xn)}}function bL(n,t){if(n&1){let e=Q();u(0,"div",16)(1,"input",19,0),S("change",function(i){I(e);let o=b(2);return T(o.handleImageUpload(i))}),c(),u(3,"button",20),S("click",function(){I(e);let i=rr(2);return T(i.click())}),u(4,"mat-icon"),f(5,"upload"),c(),u(6,"span",21),f(7,"Select Image"),c()(),E(8,_L,2,1,"div",22),c()}if(n&2){let e=b(2);h(8),g("ngIf",e.image)}}function wL(n,t){if(n&1){let e=Q();u(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"button",8),S("click",function(){I(e);let i=b();return T(i.showModal=!1)}),c()(),u(5,"div",9)(6,"h2",10),f(7,"Customize Background"),c(),u(8,"div",11)(9,"button",12),S("click",function(){I(e);let i=b();return T(i.backgroundType="color")}),f(10,"Solid Color"),c(),u(11,"button",12),S("click",function(){I(e);let i=b();return T(i.backgroundType="image")}),f(12,"Image"),c()(),E(13,yL,4,1,"div",13)(14,bL,9,1,"div",13),u(15,"div",14)(16,"button",15),S("click",function(){I(e);let i=b();return T(i.showModal=!1)}),f(17,"Done"),c()()()()()()}if(n&2){let e=b();h(9),g("ngClass",Dt(4,i1,e.backgroundType==="color",e.backgroundType!=="color")),h(2),g("ngClass",Dt(7,i1,e.backgroundType==="image",e.backgroundType!=="image")),h(2),g("ngIf",e.backgroundType==="color"),h(),g("ngIf",e.backgroundType==="image")}}function CL(n,t){n&1&&_(0,"div",25)}var Yd=class n{backgroundChanged=new ne;showModal=!1;backgroundType="color";color="#ffffff";image=null;handleImageUpload(t){let e=t.target;if(e.files?.[0]){let r=new FileReader;r.onload=()=>{this.image=r.result,this.backgroundType="image",this.updateBackground()},r.readAsDataURL(e.files[0])}}updateBackground(){let t=this.backgroundType==="color"?{"background-color":this.color}:{"background-image":`url(${this.image})`,"background-size":"cover","background-position":"center"};this.backgroundChanged.emit(t)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=V({type:n,selectors:[["app-settings"]],outputs:{backgroundChanged:"backgroundChanged"},decls:5,vars:2,consts:[["fileInput",""],["title","Customize Background",1,"btn","btn-lg","bg-light","rounded-circle","shadow-lg","hover-rotate-45","d-flex","align-items-center","justify-content-center",2,"width","58px","height","58px",3,"click"],["class","modal d-block","tabindex","-1",4,"ngIf"],["class","modal-backdrop fade show",4,"ngIf"],["tabindex","-1",1,"modal","d-block"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content","rounded-3","shadow-lg"],[1,"modal-header","border-0","pb-0"],["type","button",1,"btn-close",3,"click"],[1,"modal-body","p-4","pt-0","text-center"],[1,"fs-2","fw-bold","text-dark","mb-4"],[1,"d-flex","justify-content-center","gap-3","mb-4"],[1,"btn","rounded-pill","fw-semibold",3,"click","ngClass"],["class","text-center",4,"ngIf"],[1,"mt-4","text-center"],[1,"btn","btn-success","rounded-pill","fw-bold",3,"click"],[1,"text-center"],["for","colorPicker",1,"form-label","fs-5","fw-semibold","mb-3"],["type","color","id","colorPicker",1,"form-control","form-control-color","mx-auto",2,"width","96px","height","96px",3,"ngModelChange","change","ngModel"],["type","file","accept","image/*",1,"d-none",3,"change"],[1,"btn","btn-primary","rounded-pill","fw-bold","d-inline-flex","align-items-center",3,"click"],[1,"ms-2"],["class","mt-4",4,"ngIf"],[1,"mt-4"],["alt","Preview",1,"img-fluid","rounded-3","shadow-sm","mx-auto",2,"max-height","192px","object-fit","cover",3,"src"],[1,"modal-backdrop","fade","show"]],template:function(e,r){e&1&&(u(0,"button",1),S("click",function(){return r.showModal=!0}),u(1,"mat-icon"),f(2,"settings"),c()(),E(3,wL,18,10,"div",2)(4,CL,1,0,"div",3)),e&2&&(h(3),g("ngIf",r.showModal),h(),g("ngIf",r.showModal))},dependencies:[B,xt,Y,Xt,se,fe,gn,kn],styles:[".modal.d-block[_ngcontent-%COMP%]{display:block}.hover-rotate-45[_ngcontent-%COMP%]:hover{transform:rotate(45deg);transition:transform .3s ease-in-out}"]})};function EL(n,t){if(n&1&&(u(0,"div",13),f(1),c()),n&2){let e=b();h(),O(" ",e.message," ")}}var Zd=class n{selectedMedia=null;savedEntries=[];backgroundStyle={"background-color":"#f8f9fa"};message="";mediaLibrary=[{id:1,type:"video",title:"Calm Forest Walk",thumbnail:"https://placehold.co/300x180/E0F2F1/004D40?text=Forest+Walk",url:"https://www.youtube.com/embed/dQw4w9WgXcQ"},{id:2,type:"audio",title:"Ocean Waves",thumbnail:"https://placehold.co/300x180/E0F2F1/004D40?text=Ocean+Waves",url:"https://www.youtube.com/embed/V-_O7nl0Ii0"},{id:3,type:"video",title:"Zen Garden",thumbnail:"https://placehold.co/300x180/E0F2F1/004D40?text=Zen+Garden",url:"https://www.youtube.com/embed/z63o1jJ4h_4"},{id:4,type:"audio",title:"Gentle Rain",thumbnail:"https://placehold.co/300x180/E0F2F1/004D40?text=Gentle+Rain",url:"https://www.youtube.com/embed/q76bMs-mupk"}];onMediaSelected(t){this.selectedMedia=t,this.setMessage(`Now playing: ${t.title}`)}onPlaybackStopped(){this.selectedMedia=null}onMeditationComplete(){this.setMessage("Meditation complete! \u{1F64F}")}onJournalEntrySaved(t){let e={id:Date.now(),date:new Date().toLocaleString(),content:t};this.savedEntries=[e,...this.savedEntries],this.setMessage("Journal entry saved!")}onBackgroundChanged(t){this.backgroundStyle=t,this.setMessage("Background updated!")}setMessage(t){this.message=t,setTimeout(()=>{this.message=""},3e3)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=V({type:n,selectors:[["app-meditation-hub"]],decls:18,vars:5,consts:[[1,"d-flex","flex-column","align-items-center","justify-content-center","p-3","font-inter","min-vh-100",3,"ngStyle"],["class","position-absolute top-0 mt-5 bg-white bg-opacity-90 text-dark px-4 py-2 rounded shadow-lg z-index-1000 animate-fade-in-down",4,"ngIf"],[1,"p-4","w-100"],[1,"row","g-4"],[1,"col-12"],[1,"col-12","col-lg-6"],[3,"timerCompleted"],[3,"mediaSelected","mediaLibrary"],[3,"playbackStopped","media"],[3,"entrySaved"],[3,"entries"],[1,"col-12","text-center","py-3"],[3,"backgroundChanged"],[1,"position-absolute","top-0","mt-5","bg-white","bg-opacity-90","text-dark","px-4","py-2","rounded","shadow-lg","z-index-1000","animate-fade-in-down"]],template:function(e,r){e&1&&(u(0,"div",0),E(1,EL,2,1,"div",1),u(2,"div",2)(3,"div",3)(4,"div",4),_(5,"app-welcome-message"),c(),u(6,"section",5)(7,"app-meditation-timer",6),S("timerCompleted",function(){return r.onMeditationComplete()}),c()(),u(8,"section",5)(9,"app-media-catalog",7),S("mediaSelected",function(o){return r.onMediaSelected(o)}),c()(),u(10,"section",4)(11,"app-media-player",8),S("playbackStopped",function(){return r.onPlaybackStopped()}),c()(),u(12,"section",5)(13,"app-journal-writer",9),S("entrySaved",function(o){return r.onJournalEntrySaved(o)}),c()(),u(14,"section",5),_(15,"app-journal-history",10),c(),u(16,"div",11)(17,"app-settings",12),S("backgroundChanged",function(o){return r.onBackgroundChanged(o)}),c()()()()()),e&2&&(g("ngStyle",r.backgroundStyle),h(),g("ngIf",r.message),h(8),g("mediaLibrary",r.mediaLibrary),h(2),g("media",r.selectedMedia),h(4),g("entries",r.savedEntries))},dependencies:[B,Y,Yw,zd,qd,Gd,Wd,Qd,Kd,Yd],styles:["[_nghost-%COMP%]{--animate-duration: .5s}.font-inter[_ngcontent-%COMP%]{font-family:Inter,sans-serif}.z-index-1000[_ngcontent-%COMP%]{z-index:1000}.animate-fade-in-down[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInDown var(--animate-duration) ease-out forwards}@keyframes _ngcontent-%COMP%_fadeInDown{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}"]})};function SL(n,t){if(n&1&&(u(0,"div",1)(1,"div",2)(2,"h5",3),_(3,"i",4),f(4,"Planned Trade "),c(),u(5,"span",5),f(6,"Required"),c()(),u(7,"div",6)(8,"div",7)(9,"div",8)(10,"label",9),f(11,"Direction"),c(),u(12,"div",10),_(13,"input",11),u(14,"label",12),f(15,"Long"),c(),_(16,"input",13),u(17,"label",14),f(18,"Short"),c()()(),u(19,"div",8)(20,"label",9),f(21,"Entry Price"),c(),_(22,"input",15),c(),u(23,"div",8)(24,"label",9),f(25,"Lot Size"),c(),_(26,"input",16),c(),u(27,"div",8)(28,"label",9),f(29,"Stop Loss"),c(),_(30,"input",17),c(),u(31,"div",8)(32,"label",9),f(33,"Take Profit"),c(),_(34,"input",18),c()()()()),n&2){let e=b();h(7),g("formGroup",e.formGroup)}}var Jd=class n{formGroup;static \u0275fac=function(e){return new(e||n)};static \u0275cmp=V({type:n,selectors:[["app-planned-trade"]],inputs:{formGroup:"formGroup"},decls:1,vars:1,consts:[["class","card mb-4 shadow-sm",4,"ngIf"],[1,"card","mb-4","shadow-sm"],[1,"card-header","bg-light","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"bi","me-2"],[1,"badge","bg-primary"],[1,"card-body",3,"formGroup"],[1,"row","g-3"],[1,"col-md-2"],[1,"form-label"],["role","group",1,"btn-group","w-100"],["type","radio","id","planned_long","value","Long","formControlName","trade_direction",1,"btn-check"],["for","planned_long",1,"btn","btn-outline-success"],["type","radio","id","planned_short","value","Short","formControlName","trade_direction",1,"btn-check"],["for","planned_short",1,"btn","btn-outline-danger"],["type","number","step","0.00001","formControlName","entry_price",1,"form-control"],["type","number","step","0.01","formControlName","lot_size",1,"form-control"],["type","number","step","0.00001","formControlName","stop_loss_price",1,"form-control"],["type","number","step","0.00001","formControlName","take_profit_price",1,"form-control"]],template:function(e,r){e&1&&E(0,SL,35,1,"div",0),e&2&&g("ngIf",r.formGroup)},dependencies:[B,Y,Ce,se,Wn,vn,fe,Pe,ke,je],encapsulation:2})};function DL(n,t){if(n&1&&(u(0,"div",1)(1,"div",2)(2,"h5",3),_(3,"i",4),f(4,"Executing Trade "),c(),u(5,"span",5),f(6,"Required"),c()(),u(7,"div",6)(8,"div",7)(9,"div",8)(10,"label",9),f(11,"Direction"),c(),u(12,"div",10),_(13,"input",11),u(14,"label",12),f(15,"Long"),c(),_(16,"input",13),u(17,"label",14),f(18,"Short"),c()()(),u(19,"div",8)(20,"label",9),f(21,"Entry Price"),c(),_(22,"input",15),c(),u(23,"div",8)(24,"label",9),f(25,"Lot Size"),c(),_(26,"input",16),c(),u(27,"div",8)(28,"label",9),f(29,"Stop Loss"),c(),_(30,"input",17),c(),u(31,"div",8)(32,"label",9),f(33,"Take Profit"),c(),_(34,"input",18),c(),u(35,"div",8)(36,"label",9),f(37,"Exit Price"),c(),_(38,"input",19),c(),u(39,"div",20)(40,"label",9),f(41,"Entry Time"),c(),_(42,"input",21),c(),u(43,"div",20)(44,"label",9),f(45,"Exit Time"),c(),_(46,"input",22),c(),u(47,"div",20)(48,"label",9),f(49,"Exit Type"),c(),u(50,"select",23)(51,"option",24),f(52,"Select exit type"),c(),u(53,"option",25),f(54,"Target"),c(),u(55,"option",26),f(56,"Stop Loss"),c(),u(57,"option",27),f(58,"Manual"),c()()()()()()),n&2){let e=b();h(7),g("formGroup",e.formGroup)}}var Xd=class n{formGroup;static \u0275fac=function(e){return new(e||n)};static \u0275cmp=V({type:n,selectors:[["app-executing-trade"]],inputs:{formGroup:"formGroup"},decls:1,vars:1,consts:[["class","card mb-4 shadow-sm",4,"ngIf"],[1,"card","mb-4","shadow-sm"],[1,"card-header","bg-light","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"bi","me-2"],[1,"badge","bg-primary"],[1,"card-body",3,"formGroup"],[1,"row","g-3"],[1,"col-md-2"],[1,"form-label"],["role","group",1,"btn-group","w-100"],["type","radio","id","exec_long","value","Long","formControlName","trade_direction",1,"btn-check"],["for","exec_long",1,"btn","btn-outline-success"],["type","radio","id","exec_short","value","Short","formControlName","trade_direction",1,"btn-check"],["for","exec_short",1,"btn","btn-outline-danger"],["type","number","formControlName","entry_price",1,"form-control"],["type","number","formControlName","lot_size",1,"form-control"],["type","number","formControlName","stop_loss_price",1,"form-control"],["type","number","formControlName","take_profit_price",1,"form-control"],["type","number","formControlName","exit_price",1,"form-control"],[1,"col-md-4"],["type","datetime-local","formControlName","entry_time",1,"form-control"],["type","datetime-local","formControlName","exit_time",1,"form-control"],["formControlName","exit",1,"form-select"],["value","","disabled",""],["value","Target"],["value","StopLoss"],["value","Manual"]],template:function(e,r){e&1&&E(0,DL,59,1,"div",0),e&2&&g("ngIf",r.formGroup)},dependencies:[B,Y,Ce,Zt,Jt,se,Wn,Yt,vn,fe,Pe,ke,je],encapsulation:2})};function xL(n,t){if(n&1&&(u(0,"option",32),f(1),c()),n&2){let e=t.$implicit;g("value",e),h(),L(e)}}function IL(n,t){if(n&1&&(st(0),_(1,"app-planned-trade",33),at()),n&2){let e=b();h(),g("formGroup",e.plannedTradeGroup)}}function TL(n,t){if(n&1&&(st(0),_(1,"app-executing-trade",33),at()),n&2){let e=b();h(),g("formGroup",e.executingTradeGroup)}}var ef=class n{formGroup;tradeStatus;plannedTradeGroup;executingTradeGroup;currencyPairs=["EUR/USD","USD/JPY","GBP/USD","USD/CHF","AUD/USD","USD/CAD","NZD/USD","EUR/GBP","EUR/JPY","GBP/JPY","AUD/JPY","CAD/JPY","CHF/JPY","EUR/AUD","EUR/CAD","EUR/CHF","GBP/AUD","GBP/CAD","GBP/CHF","AUD/CAD","AUD/CHF","AUD/NZD","CAD/CHF","NZD/CAD","NZD/CHF","NZD/JPY","XAUUSD","XAGUSD","USOIL","UKOIL","NATGAS","COPPER","PLATINUM","PALLADIUM","WHEAT","CORN","SOYBEANS","SUGAR","COFFEE","COCOA","COTTON","NQ","M-NQ","ES","M-ES"];static \u0275fac=function(e){return new(e||n)};static \u0275cmp=V({type:n,selectors:[["app-trade-setup"]],inputs:{formGroup:"formGroup",tradeStatus:"tradeStatus",plannedTradeGroup:"plannedTradeGroup",executingTradeGroup:"executingTradeGroup"},decls:58,vars:4,consts:[[1,"card","mb-4","shadow-sm",3,"formGroup"],[1,"card-header","bg-light","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"bi","bi-1-circle","me-2"],[1,"badge","bg-primary"],[1,"card-body"],[1,"row","g-3"],[1,"col-md-6"],["for","trade_symbol",1,"form-label"],["id","trade_symbol","formControlName","trade_symbol",1,"form-select"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["for","trade_analysis",1,"form-label"],["id","trade_analysis","formControlName","trade_analysis",1,"form-select"],["value","Technical"],["value","Fundamental"],["value","Both"],["value","Sentiment"],["value","Other"],["for","trade_instrument",1,"form-label"],["type","text","id","trade_instrument","formControlName","trade_instrument",1,"form-control"],["for","type_of_order",1,"form-label"],["id","type_of_order","formControlName","type_of_order",1,"form-select"],["value","Market"],["value","Limit"],["value","Stop"],["value","StopLimit"],["value","TrailingStop"],[1,"col-12"],["for","market_condition",1,"form-label"],["id","market_condition","rows","3","formControlName","market_condition","placeholder","Describe current market conditions and relevant factors",1,"form-control"],[4,"ngIf"],[3,"value"],[3,"formGroup"]],template:function(e,r){e&1&&(u(0,"div",0)(1,"div",1)(2,"h5",2),_(3,"i",3),f(4,"Trade Setup "),c(),u(5,"span",4),f(6,"Required"),c()(),u(7,"div",5)(8,"div",6)(9,"div",7)(10,"label",8),f(11,"Currency Pair/Commodities"),c(),u(12,"select",9)(13,"option",10),f(14,"Select..."),c(),E(15,xL,2,2,"option",11),c()(),u(16,"div",7)(17,"label",12),f(18,"Trade Analysis"),c(),u(19,"select",13)(20,"option",10),f(21,"Choose analysis method"),c(),u(22,"option",14),f(23,"Technical"),c(),u(24,"option",15),f(25,"Fundamental"),c(),u(26,"option",16),f(27,"Both"),c(),u(28,"option",17),f(29,"Sentiment"),c(),u(30,"option",18),f(31,"Other"),c()()(),u(32,"div",7)(33,"label",19),f(34,"Trade Instrument"),c(),_(35,"input",20),c(),u(36,"div",7)(37,"label",21),f(38,"Type of Order"),c(),u(39,"select",22)(40,"option",10),f(41,"Choose order type"),c(),u(42,"option",23),f(43,"Market"),c(),u(44,"option",24),f(45,"Limit"),c(),u(46,"option",25),f(47,"Stop"),c(),u(48,"option",26),f(49,"Stop Limit"),c(),u(50,"option",27),f(51,"Trailing Stop"),c()()(),u(52,"div",28)(53,"label",29),f(54,"Market Condition"),c(),_(55,"textarea",30),c(),E(56,IL,2,1,"ng-container",31)(57,TL,2,1,"ng-container",31),c()()()),e&2&&(g("formGroup",r.formGroup),h(15),g("ngForOf",r.currencyPairs),h(41),g("ngIf",r.tradeStatus==="Planned"),h(),g("ngIf",r.tradeStatus!=="Planned"))},dependencies:[B,He,Y,Ce,Zt,Jt,se,Yt,fe,Pe,ke,je,Jd,Xd],encapsulation:2})};var tf=class n{control;disabled=!1;getIcon(t){switch(t){case"Planned":return"bi bi-hourglass";case"Executing":return"bi bi-play-fill";case"Completed":return"bi bi-check-circle";default:return"bi bi-question-circle"}}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=V({type:n,selectors:[["app-trade-status-selector"]],inputs:{control:"control",disabled:"disabled"},decls:4,vars:2,consts:[["role","group","aria-label","Trade status display",1,"btn-group","w-100","shadow-sm","mb-3"],[1,"btn","btn-tr","w-100"],[1,"me-1",3,"ngClass"]],template:function(e,r){e&1&&(u(0,"div",0)(1,"div",1),_(2,"i",2),f(3),c()()),e&2&&(h(2),g("ngClass",r.getIcon(r.control==null?null:r.control.value)),h(),O(" ",r.control==null?null:r.control.value," "))},dependencies:[B,xt,Ce],encapsulation:2})};var nf=class n{formGroup;get entryWordCount(){let t=this.formGroup?.get("entry_criteria")?.value||"";return t.trim().length===0?0:t.trim().split(/\s+/).length}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=V({type:n,selectors:[["app-trade-strategy"]],inputs:{formGroup:"formGroup"},decls:26,vars:2,consts:[[1,"card","mb-4","shadow-sm",3,"formGroup"],[1,"card-header","bg-light","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"bi","bi-2-circle","me-2"],[1,"badge","bg-primary"],[1,"card-body","col-12"],["for","strategy_name",1,"form-label"],["type","text","id","strategy_name","formControlName","strategy_name","placeholder","e.g., Breakout, Reversal, Trend Following",1,"form-control"],[1,"card-body"],[1,"mb-4"],["for","entry_criteria",1,"form-label","fw-bold"],[1,"text-danger"],["id","entry_criteria","rows","5","formControlName","entry_criteria","placeholder","Explain in detail why you are taking this trade. Include your technical analysis, fundamental reasoning, market conditions, setup confirmation, etc.",1,"form-control"],[1,"form-text","text-muted"],["for","exit_criteria",1,"form-label","fw-bold"],["id","exit_criteria","rows","3","formControlName","exit_criteria","placeholder","Explain your plan to exit the trade. What would make you close the position? Include specific targets, stop-loss thresholds, trailing exits, or indicator-based signals.",1,"form-control"],[1,"form-text"]],template:function(e,r){e&1&&(u(0,"div",0)(1,"div",1)(2,"h5",2),_(3,"i",3),f(4,"Trade Strategy "),c(),u(5,"span",4),f(6,"Required"),c()(),u(7,"div",5)(8,"label",6),f(9,"Strategy Name"),c(),_(10,"input",7),c(),u(11,"div",8)(12,"div",9)(13,"label",10),f(14,"Entry Criteria (Why are you taking this trade?) "),u(15,"span",11),f(16,"*"),c()(),_(17,"textarea",12),u(18,"div",13),f(19),c()(),u(20,"div")(21,"label",14),f(22,"Exit Criteria"),c(),_(23,"textarea",15),u(24,"div",16),f(25," Include both profit-taking and loss-cutting criteria. "),c()()()()),e&2&&(g("formGroup",r.formGroup),h(19),O(" Minimum 100 words recommended. Current: ",r.entryWordCount," words "))},dependencies:[B,Ce,se,fe,Pe,ke,je],encapsulation:2})};var ML=()=>[1,2,3,4,5];function AL(n,t){if(n&1&&(u(0,"option",20),f(1),c()),n&2){let e=t.$implicit;g("value",e),h(),L(e)}}function kL(n,t){if(n&1&&(u(0,"option",20),f(1),c()),n&2){let e=t.$implicit;g("value",e),h(),L(e)}}function NL(n,t){if(n&1&&(u(0,"div",8)(1,"label",9),f(2,"Potential Bias"),c(),u(3,"select",21)(4,"option",11),f(5,"Select potential bias"),c(),E(6,kL,2,2,"option",12),c()()),n&2){let e=b(2);h(6),g("ngForOf",e.biases)}}function PL(n,t){if(n&1&&(st(0),_(1,"input",22),u(2,"label",23),f(3),c(),at()),n&2){let e=t.$implicit;h(),g("id","confidence_"+e)("value",e),h(),g("for","confidence_"+e),h(),L(e)}}function OL(n,t){if(n&1&&(u(0,"div",1)(1,"div",2)(2,"h5",3),_(3,"i",4),f(4),c(),u(5,"span",5),f(6,"Required"),c()(),u(7,"div",6)(8,"div",7)(9,"div",8)(10,"label",9),f(11,"Emotional State"),c(),u(12,"select",10)(13,"option",11),f(14,"How are you feeling?"),c(),E(15,AL,2,2,"option",12),c()(),E(16,NL,7,1,"div",13),u(17,"div",14)(18,"label",9),f(19,"Trade Confidence"),c(),u(20,"div",15),E(21,PL,4,4,"ng-container",16),c(),u(22,"div",17),f(23,"Low (1) to High (5)"),c()(),u(24,"div",18)(25,"label",9),f(26,"Reflection"),c(),_(27,"textarea",19),c()()()()),n&2){let e=b();h(4),O("",e.label," Emotional Analysis "),h(3),g("formGroup",e.formGroup),h(8),g("ngForOf",e.emotionalStates),h(),g("ngIf",e.showBias),h(5),g("ngForOf",fu(5,ML))}}var rf=class n{formGroup;label="Pre-Trade";showBias=!1;emotionalStates=["Calm","Excited","Anxious","Frustrated","Overconfident","Fearful","Neutral","Other","Satisfied","Disappointed"];biases=["None - Clear Mindset","FOMO (Fear of Missing Out)","Recency Bias (Overweighting Recent Events)","Confirmation Bias O","Anchoring Bias","Loss Aversion O","Overconfidence","Revenge Trading"];static \u0275fac=function(e){return new(e||n)};static \u0275cmp=V({type:n,selectors:[["app-emotional-analysis"]],inputs:{formGroup:"formGroup",label:"label",showBias:"showBias"},decls:1,vars:1,consts:[["class","card mb-4 shadow-sm",4,"ngIf"],[1,"card","mb-4","shadow-sm"],[1,"card-header","bg-light","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"bi","bi-3-circle","me-2"],[1,"badge","bg-primary"],[1,"card-body",3,"formGroup"],[1,"row","g-3"],[1,"col-md-6"],[1,"form-label"],["formControlName","emotional_state",1,"form-select"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["class","col-md-6",4,"ngIf"],[1,"col-md-12"],["role","group",1,"btn-group","w-100"],[4,"ngFor","ngForOf"],[1,"form-text","text-center"],[1,"col-12"],["rows","2","formControlName","reflection",1,"form-control"],[3,"value"],["formControlName","potential_bisa",1,"form-select"],["type","radio","formControlName","trade_confidence",1,"btn-check",3,"id","value"],[1,"btn","btn-outline-primary",3,"for"]],template:function(e,r){e&1&&E(0,OL,28,6,"div",0),e&2&&g("ngIf",r.formGroup)},dependencies:[B,He,Y,Ce,Zt,Jt,se,Yt,vn,fe,Pe,ke,je],encapsulation:2})};var of=class n{data;static \u0275fac=function(e){return new(e||n)};static \u0275cmp=V({type:n,selectors:[["app-profit-analysis"]],inputs:{data:"data"},decls:36,vars:12,consts:[[1,"card","mb-4","shadow-sm"],[1,"card-header","bg-light","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"bi","bi-4-circle","me-2"],[1,"badge","bg-primary"],[1,"card-body"],[1,"row","g-3"],[1,"col-md-4"],[1,"form-label"],[1,"input-group"],[1,"input-group-text"],[1,"form-control","bg-light"]],template:function(e,r){e&1&&(u(0,"div",0)(1,"div",1)(2,"h5",2),_(3,"i",3),f(4,"Profit Analysis "),c(),u(5,"span",4),f(6,"Required"),c()(),u(7,"div",5)(8,"div",6)(9,"div",7)(10,"label",8),f(11,"Realized Profit"),c(),u(12,"div",9)(13,"span",10),f(14,"$"),c(),u(15,"span",11),f(16),Fe(17,"number"),c()()(),u(18,"div",7)(19,"label",8),f(20,"Unrealized Profit"),c(),u(21,"div",9)(22,"span",10),f(23,"$"),c(),u(24,"span",11),f(25),Fe(26,"number"),c()()(),u(27,"div",7)(28,"label",8),f(29,"Total Profit"),c(),u(30,"div",9)(31,"span",10),f(32,"$"),c(),u(33,"span",11),f(34),Fe(35,"number"),c()()()()()()),e&2&&(h(16),O(" ",r.data!=null&&r.data.missing?"Data missing":Le(17,3,r.data==null?null:r.data.realized,"1.2-2")," "),h(9),O(" ",r.data!=null&&r.data.missing?"Data missing":Le(26,6,r.data==null?null:r.data.unrealized,"1.2-2")," "),h(9),O(" ",r.data!=null&&r.data.missing?"Data missing":Le(35,9,r.data==null?null:r.data.total,"1.2-2")," "))},dependencies:[B,es],encapsulation:2})};var sf=class n{control;static \u0275fac=function(e){return new(e||n)};static \u0275cmp=V({type:n,selectors:[["app-notes"]],inputs:{control:"control"},decls:10,vars:1,consts:[[1,"card","mb-4","shadow-sm"],[1,"card-header","bg-light","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"bi","bi-4-circle","me-2"],[1,"badge","bg-secondary"],[1,"p-3"],["rows","3","placeholder","Any additional information or context for this trade",1,"form-control",3,"formControl"]],template:function(e,r){e&1&&(u(0,"div",0)(1,"div",1)(2,"h5",2),_(3,"i",3),f(4,"Additional Notes "),c(),u(5,"span",4),f(6,"Optional"),c()(),u(7,"div",5)(8,"textarea",6),f(9,"        "),c()()()),e&2&&(h(8),g("formControl",r.control))},dependencies:[B,Ce,se,fe,S0],encapsulation:2})};var af=class n{calculateRewardRiskRatio(t,e,r){let i=Math.abs(t-e),o=Math.abs(r-t);return i>0?o/i:0}calculateRiskDollar(t,e,r,i=10){return Math.abs(t-e)*i*r}calculateRiskPercent(t,e){return e>0?t/e*100:0}calculateProfit(t,e,r,i,o=10){return(i==="Long"?e-t:t-e)*o*r}aggregateProfit(t){if(!t?.length)return{realized:0,unrealized:0,total:0,missing:!0};let e=0,r=0;for(let i of t){let{entry_price:o,exit_price:s,lot_size:a,trade_direction:l,exit:d}=i,p=this.calculateProfit(o,s,a,l);d?e+=p:r+=p}return{realized:e,unrealized:r,total:e+r,missing:!1}}getPipDifference(t,e){return Math.round(Math.abs(e-t)*1e4)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ns=class n{constructor(t){this.supabase=t}async callEdgeFunction(t,e){let{data:r,error:i}=await this.supabase.GetClient().functions.invoke(t,{body:e});return{data:r,error:i}}static \u0275fac=function(e){return new(e||n)(F(Se))};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})};function RL(n,t){if(n&1&&(u(0,"div",19),f(1),c()),n&2){let e=b();h(),O("Selected File: ",e.fileName,"")}}function FL(n,t){if(n&1&&(u(0,"div",20),_(1,"img",21),c()),n&2){let e=b();h(),g("src",e.imagePreviewUrl,xn)}}function LL(n,t){if(n&1&&(u(0,"div",22),_(1,"i",23),f(2),c()),n&2){let e=b();h(2),O("",e.errorMessage," ")}}function VL(n,t){n&1&&(u(0,"span"),_(1,"i",24),f(2,"Extract Trade Data "),c())}function jL(n,t){n&1&&(u(0,"span"),_(1,"span",25),f(2," Extracting... "),c())}var lf=class n{constructor(t,e){this.supabase=t;this.cdr=e}file=null;fileName="";isLoading=!1;errorMessage=null;imagePreviewUrl=null;MAX_FILE_SIZE_BYTES=10*1024*1024;ALLOWED_FILE_TYPES=["image/png","image/jpeg"];extractTradeData=new ne;onFileSelected(t){this.errorMessage=null,this.file=null,this.fileName="",this.imagePreviewUrl=null;let e=t.target;if(!e.files||e.files.length===0)return;let r=e.files[0];if(!this.ALLOWED_FILE_TYPES.includes(r.type)){this.errorMessage="Invalid file type. Please upload a PNG or JPEG image.",e.value="";return}if(r.size>this.MAX_FILE_SIZE_BYTES){this.errorMessage=`File is too large. Maximum size is ${this.MAX_FILE_SIZE_BYTES/1024/1024}MB.`,e.value="";return}this.file=r,this.fileName=this.file.name;let i=new FileReader;i.onload=()=>{this.imagePreviewUrl=i.result},i.readAsDataURL(r),this.cdr.markForCheck()}async extractTextFromImage(){if(!this.file){this.errorMessage="Please select a file first.";return}this.isLoading=!0,this.errorMessage=null;try{let{base64:t,mimeType:e}=await this.convertToBase64(this.file),{data:r,error:i}=await this.supabase.callEdgeFunction("trade-chart-extract-gemini",{imageData:t,mimeType:e});if(i){this.errorMessage="Failed to extract data from the image. Please try again.";return}this.extractTradeData.emit(JSON.parse(r))}catch{this.errorMessage="An unexpected error occurred while processing the image.",this.cdr.markForCheck()}finally{this.isLoading=!1,this.cdr.markForCheck()}}convertToBase64(t){return new Promise((e,r)=>{let i=new FileReader;i.readAsDataURL(t),i.onload=()=>{let s=i.result.split(",");if(s.length!==2){r(new Error("Invalid Base64 string format"));return}let a=s[1],l=t.type;e({base64:a,mimeType:l})},i.onerror=o=>r(o)})}static \u0275fac=function(e){return new(e||n)(D(Ns),D(ie))};static \u0275cmp=V({type:n,selectors:[["app-chart-upload"]],outputs:{extractTradeData:"extractTradeData"},decls:24,vars:8,consts:[["fileInput",""],[1,"card","mb-4","shadow-sm","border-primary"],[1,"card-header","bg-primary","text-white"],[1,"mb-0"],[1,"bi","bi-image","me-2"],[1,"card-body"],[1,"mb-3","text-muted"],[1,"border","rounded","border-dashed","p-4","text-center","bg-light"],["type","file","accept","image/png, image/jpeg","hidden","",3,"change","disabled"],[1,"mb-2"],[1,"bi","bi-cloud-upload","display-4","text-primary"],[1,"btn","btn-outline-primary",3,"click","disabled"],[1,"text-muted","mt-2"],["class","mt-3 fw-bold",4,"ngIf"],["class","mt-3",4,"ngIf"],["class","alert alert-danger mt-3","role","alert",4,"ngIf"],[1,"text-end","mt-3"],[1,"btn","btn-success",3,"click","disabled"],[4,"ngIf"],[1,"mt-3","fw-bold"],[1,"mt-3"],["alt","Image Preview",1,"img-fluid","rounded","shadow-sm",2,"max-height","700px",3,"src"],["role","alert",1,"alert","alert-danger","mt-3"],[1,"bi","bi-exclamation-triangle-fill","me-2"],[1,"bi","bi-magic","me-2"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-2"]],template:function(e,r){if(e&1){let i=Q();u(0,"div",1)(1,"div",2)(2,"h5",3),_(3,"i",4),f(4,"Chart Image Analysis "),c()(),u(5,"div",5)(6,"div",6),f(7," Upload your analyzed chart image and let AI automatically fill your trade fields "),c(),u(8,"div",7)(9,"input",8,0),S("change",function(s){return I(i),T(r.onFileSelected(s))}),c(),u(11,"div",9),_(12,"i",10),c(),u(13,"button",11),S("click",function(){I(i);let s=rr(10);return T(s.click())}),f(14," Upload Chart Image "),c(),u(15,"div",12),f(16,"Support for PNG, JPG, JPEG files up to 10MB"),c(),E(17,RL,2,1,"div",13)(18,FL,2,1,"div",14),c(),E(19,LL,3,1,"div",15),u(20,"div",16)(21,"button",17),S("click",function(){return I(i),T(r.extractTextFromImage())}),E(22,VL,3,0,"span",18)(23,jL,3,0,"span",18),c()()()()}e&2&&(h(9),g("disabled",r.isLoading),h(4),g("disabled",r.isLoading),h(4),g("ngIf",r.fileName),h(),g("ngIf",r.imagePreviewUrl),h(),g("ngIf",r.errorMessage),h(2),g("disabled",!r.file||r.isLoading),h(),g("ngIf",!r.isLoading),h(),g("ngIf",r.isLoading))},dependencies:[B,Y,Xt],encapsulation:2})};function UL(n,t){if(n&1&&(u(0,"div",1)(1,"div",2)(2,"h5",3),_(3,"i",4),f(4,"Risk Management "),c()(),u(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8),f(9,"Risk % per Trade"),c(),u(10,"div",9),f(11),c()(),u(12,"div",7)(13,"div",8),f(14,"Risk $ per Trade"),c(),u(15,"div",9),f(16),c()(),u(17,"div",7)(18,"div",8),f(19,"Reward:Risk Ratio"),c(),u(20,"div",9),f(21),c()()(),u(22,"div",10),f(23,"Auto-calculated based on your inputs. Not stored to the database."),c()()()),n&2){let e=b();h(11),O("",e.riskPercent.toFixed(2),"%"),h(5),O("$",e.riskDollar.toFixed(2),""),h(5),L(e.rrRatio)}}var cf=class n{entryPrice=0;stopLoss=0;takeProfit=0;lotSize=.01;metrics;get riskDollar(){return Math.abs(this.entryPrice-this.stopLoss)*this.lotSize*1e5}get riskPercent(){return this.entryPrice?Math.abs((this.entryPrice-this.stopLoss)/this.entryPrice)*100:0}get rrRatio(){let t=Math.abs(this.entryPrice-this.stopLoss),e=Math.abs(this.takeProfit-this.entryPrice);return t?`${(e/t).toFixed(2)}:1`:"0:1"}get hasAllInputs(){return this.entryPrice!==0&&this.stopLoss!==0&&this.takeProfit!==0&&this.lotSize!==0}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=V({type:n,selectors:[["app-risk-summary"]],inputs:{entryPrice:"entryPrice",stopLoss:"stopLoss",takeProfit:"takeProfit",lotSize:"lotSize",metrics:"metrics"},decls:1,vars:1,consts:[["class","card shadow-sm mb-4",4,"ngIf"],[1,"card","shadow-sm","mb-4"],[1,"card-header","bg-danger","bg-opacity-10","border-danger"],[1,"mb-0","text-danger"],[1,"bi","bi-exclamation-triangle","me-2"],[1,"card-body"],[1,"row","text-center"],[1,"col-md-4"],[1,"fw-bold","text-muted"],[1,"fs-5"],[1,"text-muted","small","mt-2"]],template:function(e,r){e&1&&E(0,UL,24,3,"div",0),e&2&&g("ngIf",r.hasAllInputs)},dependencies:[B,Y],encapsulation:2})};function BL(n,t){if(n&1&&_(0,"app-profit-analysis",14),n&2){let e=b();g("data",e.aggregatedProfitData())}}function $L(n,t){if(n&1&&_(0,"app-emotional-analysis",15),n&2){let e=b();g("formGroup",e.emotionBeforeGroup)("showBias",!0)}}function HL(n,t){if(n&1&&_(0,"app-emotional-analysis",16),n&2){let e=b();g("formGroup",e.emotionAfterGroup)}}var Ps=class n{constructor(t,e,r){this.supabase=t;this.supabaseTradeService=e;this.cdr=r;Jo(()=>{this.tradeData&&(this.tradeForm().patchValue(G(N({},this.tradeData),{tradeid:this.tradeData.tradeid,planned_trade:this.tradeData.planned_trade?.[0]||{},executing_trade:this.tradeData.executing_trades?.[0]||{}})),this.mode==="complete"&&this.tradeForm().patchValue({trade_status:"Completed"}))})}fb=M(It);tradeFormService=M(af);mode="create";tradeData=null;tradeAccountId=null;formSubmitted=new ne;cancel=new ne;tradeForm=ut(this.createForm());tradeStatus=Hn(()=>this.tradeForm().get("trade_status")?.value);aggregatedProfitData=Hn(()=>{let t=this.tradeForm().get("executing_trade")?.value;return this.tradeFormService.aggregateProfit([t])});riskMetrics=Hn(()=>this.calculateRiskMetrics(this.tradeForm().get("planned_trade")?.value));createForm(){return this.fb.group({tradeid:[""],userid:[""],trade_status:["Planned",R.required],trade_symbol:["",R.required],trade_analysis:["",[R.minLength(1)]],trade_instrument:["",R.required],type_of_order:["",R.required],market_condition:["",R.required],strategy_name:["",R.required],entry_criteria:["",[R.minLength(1)]],exit_criteria:["",[R.minLength(1)]],planned_trade:this.fb.group({trade_direction:["Long"],entry_price:[0],lot_size:[.01],stop_loss_price:[0],take_profit_price:[0]}),executing_trade:this.fb.group({trade_direction:["Long"],entry_price:[0],lot_size:[.01],stop_loss_price:[0],take_profit_price:[0],exit_price:[0],entry_time:[""],exit_time:[""],exit:[""]}),emotion_before:this.fb.group({emotional_state:[""],potential_bisa:[""],trade_confidence:[""],reflection:[""]}),emotion_after:this.fb.group({emotional_state:[""],trade_confidence:[""],reflection:[""]}),notes:[""]})}async onSubmit(){if(this.tradeForm().valid){let t=this.tradeForm(),e=t.get("tradeid")?.value;if(this.mode==="create")(!e||typeof e!="string"||e.trim()==="")&&(e=co(),t.patchValue({tradeid:e}));else if(!e||typeof e!="string"||e.trim()===""){console.error("Missing tradeid for edit/complete mode!");return}let r=this.supabase.user()?.id;t.patchValue({trade_account_id:this.tradeAccountId,updated_time:new Date().toISOString()});let i={tradeid:e,userid:r,trade_account_id:this.tradeAccountId,trade_symbol:t.get("trade_symbol")?.value,trade_analysis:t.get("trade_analysis")?.value,trade_instrument:t.get("trade_instrument")?.value,type_of_order:t.get("type_of_order")?.value,market_condition:t.get("market_condition")?.value,trade_status:t.get("trade_status")?.value,strategy_name:t.get("strategy_name")?.value,entry_criteria:t.get("entry_criteria")?.value,exit_criteria:t.get("exit_criteria")?.value,planned_trade:[t.get("planned_trade")?.value],executing_trades:[t.get("executing_trade")?.value],planned_profit:null,realized_profit:null,unrealized_profit:null,emotion_before:t.get("emotion_before")?.value,emotion_after:t.get("emotion_after")?.value,notes:t.get("notes")?.value,updated_time:new Date().toISOString()};try{this.mode==="create"?(console.log(i),await this.supabaseTradeService.addTradeLogOfSelectedAccount(i,"tradejournal",this.tradeAccountId)):["edit","complete"].includes(this.mode)&&await this.supabaseTradeService.updateTradeLogOfSelectedAccount(i,"tradejournal",this.tradeAccountId),this.formSubmitted.emit(),this.cdr.markForCheck()}catch(o){console.error("Error submitting trade:",o)}}else{let t=this.tradeForm();this.logInvalidControls(t),console.log("Invalid form")}}logInvalidControls(t,e=""){Object.keys(t.controls).forEach(r=>{let i=t.get(r),o=e?`${e}.${r}`:r;i instanceof Ds?this.logInvalidControls(i,o):i&&i.invalid&&console.warn(`Invalid control: ${o}`,i.errors)})}onCancel(){this.cancel.emit()}calculateRiskMetrics(t){let e=t?.entry_price||0,r=t?.stop_loss_price||0,i=t?.lot_size||0,o=Math.abs(e-r),s=o*i,a=e?o/e*100:0;return{riskPerLot:o,totalRisk:s,riskPercent:+a.toFixed(2)}}get tradeStatusControl(){return this.tradeForm().get("trade_status")}get notesControl(){return this.tradeForm().get("notes")}get emotionBeforeGroup(){return this.tradeForm().get("emotion_before")}get emotionAfterGroup(){return this.tradeForm().get("emotion_after")}get plannedTradeGroup(){return this.tradeForm().get("planned_trade")}get executingTradeGroup(){return this.tradeForm().get("executing_trade")}applyExtractedChartData(t){let e={};t.trade_status&&(e.trade_status=t.trade_status),t.trade_symbol&&(e.trade_symbol=t.trade_symbol),t.symbol&&!t.trade_symbol&&(e.trade_symbol=t.symbol),t.trade_analysis&&(e.trade_analysis=t.trade_analysis),t.trade_instrument&&(e.trade_instrument=t.trade_instrument),t.type_of_order&&(e.type_of_order=t.type_of_order),t.market_condition&&(e.market_condition=t.market_condition),t.strategy_name&&(e.strategy_name=t.strategy_name),t.entry_criteria&&(e.entry_criteria=t.entry_criteria),t.exit_criteria&&(e.exit_criteria=t.exit_criteria),t.planned_trade&&(e.planned_trade=t.planned_trade),t.executing_trade&&(e.executing_trade=t.executing_trade),t.emotion_before&&(e.emotion_before=t.emotion_before),t.emotion_after&&(e.emotion_after=t.emotion_after),t.notes&&(e.notes=t.notes),this.tradeForm().patchValue(e)}static \u0275fac=function(e){return new(e||n)(D(Se),D(Tt),D(ie))};static \u0275cmp=V({type:n,selectors:[["app-individual-trade"]],inputs:{mode:"mode",tradeData:"tradeData",tradeAccountId:"tradeAccountId"},outputs:{formSubmitted:"formSubmitted",cancel:"cancel"},decls:17,vars:13,consts:[[1,"container-fluid"],[1,"mb-4"],[3,"control","disabled"],[3,"extractTradeData"],[3,"formGroup","tradeStatus","plannedTradeGroup","executingTradeGroup"],[3,"formGroup"],[3,"metrics"],[3,"data",4,"ngIf"],["label","Pre-Trade",3,"formGroup","showBias",4,"ngIf"],["label","Post-Trade",3,"formGroup",4,"ngIf"],[3,"control"],[1,"d-flex","justify-content-end","mt-4","border-top","pt-3"],["type","button",1,"btn","btn-primary","me-2",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"],[3,"data"],["label","Pre-Trade",3,"formGroup","showBias"],["label","Post-Trade",3,"formGroup"]],template:function(e,r){e&1&&(u(0,"div",0)(1,"h1",1),f(2,"Add Trade"),c(),_(3,"app-trade-status-selector",2),u(4,"app-chart-upload",3),S("extractTradeData",function(o){return r.applyExtractedChartData(o)}),c(),_(5,"app-trade-setup",4)(6,"app-trade-strategy",5)(7,"app-risk-summary",6),E(8,BL,1,1,"app-profit-analysis",7)(9,$L,1,2,"app-emotional-analysis",8)(10,HL,1,1,"app-emotional-analysis",9),_(11,"app-notes",10),u(12,"div",11)(13,"button",12),S("click",function(){return r.onSubmit()}),f(14,"Save"),c(),u(15,"button",13),S("click",function(){return r.onCancel()}),f(16),c()()()),e&2&&(h(3),g("control",r.tradeStatusControl)("disabled",r.mode==="view"),h(2),g("formGroup",r.tradeForm())("tradeStatus",r.tradeStatusControl.value)("plannedTradeGroup",r.plannedTradeGroup)("executingTradeGroup",r.executingTradeGroup),h(),g("formGroup",r.tradeForm()),h(),g("metrics",r.riskMetrics()),h(),g("ngIf",r.tradeStatusControl.value==="Completed"),h(),g("ngIf",r.tradeStatusControl.value==="Planned"),h(),g("ngIf",r.tradeStatusControl.value!=="Planned"),h(),g("control",r.notesControl),h(5),O(" ",r.mode==="view"?"Close":"Cancel"," "))},dependencies:[B,Y,Ce,Pe,ke,ef,tf,nf,rf,of,sf,lf,cf],encapsulation:2})};function zL(n,t){if(n&1&&(u(0,"div",14),f(1),c()),n&2){let e=b();h(),L(e.actionSuccess)}}function qL(n,t){if(n&1&&(u(0,"div",15),f(1),c()),n&2){let e=b();h(),L(e.actionError)}}function GL(n,t){if(n&1){let e=Q();u(0,"li",16)(1,"div",17)(2,"i",18),S("click",function(){let i=I(e).$implicit,o=b();return T(o.onRowClick(i))}),c(),u(3,"div",19),S("click",function(){let i=I(e).$implicit,o=b();return T(o.onRowClick(i))}),u(4,"h5",20),f(5),c(),u(6,"span",21)(7,"span",22),f(8),c(),f(9," | "),u(10,"span",22),f(11),c(),f(12," | "),u(13,"span",22),f(14),Fe(15,"date"),c()()(),u(16,"div",23),S("click",function(){let i=I(e).$implicit,o=b();return T(o.deleteAccount(i.account_id))}),_(17,"i",24),c()()()}if(n&2){let e=t.$implicit;h(5),L(e.account_name),h(3),O("Broker: ",e.broker_name,""),h(3),da("Balance: ",e.balance," ",e.currency,""),h(3),O("Created At: ",Le(15,5,e.created_at,"y, MMMM, d h:mm a"),"")}}function WL(n,t){if(n&1&&(u(0,"div",15),f(1),c()),n&2){let e=b(2);h(),L(e.formError)}}function QL(n,t){if(n&1){let e=Q();u(0,"div",25),S("click",function(i){I(e);let o=b();return T(o.closeFormOnOutside(i))})("keydown.escape",function(){I(e);let i=b();return T(i.toggleForm())}),u(1,"div",26),S("click",function(i){return I(e),T(i.stopPropagation())}),u(2,"nav",27)(3,"ol",28)(4,"li",3)(5,"a",4),f(6,"Dashboard"),c()(),u(7,"li",3)(8,"a",29),S("click",function(i){I(e);let o=b();return T(o.closeFormOnOutside(i))}),f(9,"Trading Accounts"),c()(),u(10,"li",5),f(11,"Create Manual Account"),c()()(),u(12,"h4",30),f(13,"Create Manual Account"),c(),u(14,"p",31),f(15,"Set up a manual trading account to track your trades"),c(),u(16,"form",32),S("ngSubmit",function(){I(e);let i=b();return T(i.submitForm())}),u(17,"div",33)(18,"label",34),f(19,"Account Name"),c(),_(20,"input",35),c(),u(21,"div",33)(22,"label",34),f(23,"Broker Name"),c(),_(24,"input",36),c(),u(25,"div",33)(26,"label",34),f(27,"Account Type"),c(),_(28,"input",37),c(),u(29,"div",33)(30,"label",34),f(31,"Currency"),c(),_(32,"input",38),c(),u(33,"div",33)(34,"label",34),f(35,"Initial Balance"),c(),_(36,"input",39),c(),u(37,"div",33)(38,"label",34),f(39,"Account Notes (Optional)"),c(),_(40,"textarea",40),c(),u(41,"h5",8),f(42,"Trading Preferences"),c(),u(43,"div",41),_(44,"input",42),u(45,"label",43),f(46,"Track P&L"),c(),u(47,"small",44),f(48,"Enable profit and loss tracking for this account"),c()(),u(49,"div",41),_(50,"input",45),u(51,"label",46),f(52,"Include in Analytics"),c(),u(53,"small",44),f(54,"Include this account in overall performance metrics"),c()(),E(55,WL,2,1,"div",10),u(56,"div",47)(57,"button",48),S("click",function(){I(e);let i=b();return T(i.toggleForm())}),f(58,"Cancel"),c(),u(59,"button",49),f(60,"Create Account"),c()()()()()}if(n&2){let e=b();h(16),g("formGroup",e.tradeAccountForm),h(39),g("ngIf",e.formError)}}function KL(n,t){if(n&1){let e=Q();u(0,"div",25),S("click",function(){I(e);let i=b();return T(i.cancelDelete())})("keydown.escape",function(){I(e);let i=b();return T(i.cancelDelete())}),u(1,"div",26),S("click",function(i){return I(e),T(i.stopPropagation())}),u(2,"h5",33),f(3,"Confirm Deletion"),c(),u(4,"p"),f(5,"Are you sure you want to delete this trading account and all its associated data?"),c(),u(6,"div",47)(7,"button",50),S("click",function(){I(e);let i=b();return T(i.cancelDelete())}),f(8,"Cancel"),c(),u(9,"button",7),S("click",function(){I(e);let i=b();return T(i.confirmDelete())}),f(10,"Delete"),c()()()()}}var uf=class n{constructor(t,e,r,i){this.fb=t;this.supabaseService=e;this.supabaseAccountService=r;this.cdr=i;this.tradeAccountForm=this.fb.group({account_name:["",R.required],broker_name:[""],account_type:[""],currency:["USD"],balance:[0,R.min(0)],track_pl:[!1],include_in_analytics:[!1]})}tradeAccounts=[];showForm=!1;tradeAccountForm;formError=null;actionError=null;actionSuccess=null;selectedAccountId=null;showDeleteConfirm=!1;pendingDeleteAccountId=null;funMaterialIcons=["movie","music_note","videogame_asset","theater_comedy","sports_esports","fastfood","local_cafe","restaurant_menu","icecream","emoji_food_beverage","flight_takeoff","directions_car","hiking","beach_access","camping","smartphone","computer","memory","developer_mode","settings","mood","sentiment_satisfied","sentiment_very_dissatisfied","celebration","favorite","auto_awesome","nightlight","stars","magic_wand","castle"];ngOnInit(){this.loadAccounts()}async loadAccounts(){try{this.tradeAccounts=await this.supabaseAccountService.getUserTradeAccounts()}catch{this.actionError="Failed to load accounts. Please try again."}finally{this.cdr.markForCheck()}}async onRowClick(t){this.selectedAccountId=t.account_id,this.tradeAccountForm.patchValue({account_name:t.account_name,broker_name:t.broker_name,account_type:t.account_type,currency:t.currency,balance:t.balance,track_pl:t.metadata?.track_pl||!1,include_in_analytics:t.metadata?.include_in_analytics||!1}),this.showForm=!0}toggleForm(){this.showForm=!this.showForm,this.formError=null,this.actionSuccess=null,this.actionError=null,this.selectedAccountId=null,this.showForm||this.tradeAccountForm.reset({currency:"USD",balance:0})}async submitForm(){if(this.formError="",this.tradeAccountForm.valid){let t=this.tradeAccountForm.value;this.selectedAccountId?await this.supabaseAccountService.editTradeAccount(this.selectedAccountId,t)?(this.actionSuccess="Account updated successfully",this.loadAccounts(),this.toggleForm()):this.formError="Failed to update account":await this.supabaseAccountService.addTradeAccount(t)?(this.actionSuccess="Account added successfully",this.loadAccounts(),this.toggleForm()):this.formError="Failed to add account"}this.cdr.markForCheck()}async deleteAccount(t){this.showDeleteConfirm=!0,this.pendingDeleteAccountId=t}confirmDelete(){this.pendingDeleteAccountId&&this.performAccountDeletion(this.pendingDeleteAccountId),this.showDeleteConfirm=!1,this.pendingDeleteAccountId=null}cancelDelete(){this.showDeleteConfirm=!1,this.pendingDeleteAccountId=null}async performAccountDeletion(t){this.actionError=null,this.actionSuccess=null;try{await this.supabaseAccountService.removeTradeAccount(t)?(this.loadAccounts(),this.actionSuccess="Account deleted successfully."):this.actionError="Failed to delete account."}catch{this.actionError="An unexpected error occurred while deleting."}finally{this.cdr.markForCheck(),setTimeout(()=>{this.actionSuccess="",this.cdr.markForCheck()},5e3)}}handleEscape(t){this.showForm&&this.toggleForm()}closeFormOnOutside(t){t.target===t.currentTarget&&this.toggleForm()}static \u0275fac=function(e){return new(e||n)(D(It),D(Tt),D(en),D(ie))};static \u0275cmp=V({type:n,selectors:[["app-tradeaccountmanage"]],hostBindings:function(e,r){e&1&&S("keydown.escape",function(o){return r.handleEscape(o)},!1,xb)},decls:23,vars:5,consts:[[1,"container","mt-4"],["aria-label","breadcrumb",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/home",1,"text-decoration-none"],["aria-current","page",1,"breadcrumb-item","active"],[1,"d-flex","justify-content-between","align-items-center","mt-4"],[1,"btn","btn-tr",3,"click"],[1,"mt-4"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"list-group"],["class","list-group-item bg-transparent",4,"ngFor","ngForOf"],["class","overlay","tabindex","0",3,"click","keydown.escape",4,"ngIf"],[1,"alert","alert-success"],[1,"alert","alert-danger"],[1,"list-group-item","bg-transparent"],[1,"d-flex","align-items-center"],[1,"logo-circle","bi","bi-star-fill","text-primary",2,"font-size","2rem",3,"click"],[1,"ms-3",3,"click"],[1,"mt-2"],[1,"d-block","row","text-muted"],[1,"col-4"],["title","Delete Account",1,"delete-button","justify-content-end",3,"click"],[1,"bi","bi-trash"],["tabindex","0",1,"overlay",3,"click","keydown.escape"],[1,"modal-card",3,"click"],["aria-label","breadcrumb"],[1,"breadcrumb","small"],[3,"click"],[1,"mb-1"],[1,"text-muted","mb-3"],[3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"form-label"],["type","text","formControlName","account_name","placeholder","e.g., My Futures Account",1,"form-control"],["type","text","formControlName","broker_name","placeholder","e.g., NinjaTrader, TastyWorks",1,"form-control"],["type","text","formControlName","account_type","placeholder","e.g., Margin, Cash",1,"form-control"],["type","text","formControlName","currency","placeholder","USD",1,"form-control"],["type","number","formControlName","balance",1,"form-control"],["rows","3","placeholder","Add any additional information about this account","disabled","",1,"form-control"],[1,"form-check","form-switch","mb-2"],["type","checkbox","formControlName","track_pl","id","track_pl",1,"form-check-input"],["for","track_pl",1,"form-check-label"],[1,"text-muted","d-block","ms-4"],["type","checkbox","formControlName","include_in_analytics","id","include_in_analytics",1,"form-check-input"],["for","include_in_analytics",1,"form-check-label"],[1,"d-flex","justify-content-end","gap-2","mt-3"],["type","button",1,"btn","btn-tr-secondary",3,"click"],["type","submit",1,"btn","btn-tr"],[1,"btn","btn-tr-secondary",3,"click"]],template:function(e,r){e&1&&(u(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),f(5,"Dashboard"),c()(),u(6,"li",5),f(7,"Trading Accounts"),c()()(),u(8,"div",6)(9,"h3"),f(10,"Your Trade Accounts"),c(),u(11,"button",7),S("click",function(){return r.toggleForm()}),f(12,"Add Account"),c()(),u(13,"div",8)(14,"h5"),f(15,"Manage your trading accounts"),c()(),E(16,zL,2,1,"div",9)(17,qL,2,1,"div",10),u(18,"div",0)(19,"ul",11),E(20,GL,18,8,"li",12),c()(),E(21,QL,61,2,"div",13)(22,KL,11,0,"div",13),c()),e&2&&(h(16),g("ngIf",r.actionSuccess),h(),g("ngIf",r.actionError),h(3),g("ngForOf",r.tradeAccounts),h(),g("ngIf",r.showForm),h(),g("ngIf",r.showDeleteConfirm))},dependencies:[Ce,Kt,se,Wn,zr,fe,Pe,ke,je,B,He,Y,ir,ze],styles:[".modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;z-index:1050}.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1050}.modal-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:2rem;width:100%;max-width:600px;max-height:90dvh;overflow-y:auto;box-shadow:0 10px 25px #00000026}.list-group-item[_ngcontent-%COMP%]{cursor:pointer}.delete-button[_ngcontent-%COMP%]{color:red;display:none;margin-left:auto}.list-group-item[_ngcontent-%COMP%]:hover   .delete-button[_ngcontent-%COMP%]{color:red;display:block}"]})};function YL(n,t){if(n&1&&_(0,"img",35),n&2){let e=b();g("src",e.currentImageUrl,xn)}}function ZL(n,t){if(n&1&&_(0,"img",36),n&2){let e=b();g("src",e.previewUrl,xn)}}function JL(n,t){n&1&&(u(0,"div",14),f(1,"No new image selected"),c())}function XL(n,t){if(n&1&&(u(0,"div",23)(1,"div",37),f(2),c()()),n&2){let e=b();h(2),L(e.errorMessage)}}function e3(n,t){if(n&1&&(u(0,"button",38),f(1," Save Changes "),c()),n&2){let e=b();g("disabled",e.profileForm.invalid)}}var df=class n{constructor(t,e,r){this.fb=t;this.supabaseService=e;this.cdr=r;this.profileForm=this.fb.group({firstname:["",R.required],lastname:[""],email:["",[R.required,R.email]],phone:[""]})}profileForm;currentImageUrl=null;previewUrl=null;selectedFile=null;userId="";originalFormValue;formChanged=!1;errorMessage="";async ngOnInit(){await this.loadProfile(),this.trackFormChanges()}async loadProfile(){try{let{data:t,error:e}=await this.supabaseService.getProfile();if(e){this.errorMessage="Failed to load profile: "+e.message,console.error("Supabase profile load error:",e);return}t?(this.profileForm.patchValue({firstname:t.firstname,lastname:t.lastname,email:t.email,phone:t.phone}),this.originalFormValue=this.profileForm.getRawValue(),t.profile_picture_url?(this.currentImageUrl=await this.supabaseService.getCachedProfilePictureBlobUrl(t.profile_picture_url),this.previewUrl=this.currentImageUrl):(this.currentImageUrl=null,this.previewUrl=null)):(this.errorMessage="No profile data found. Please complete your profile.",console.warn("No profile data received from Supabase."))}catch(t){this.errorMessage="An unexpected error occurred while loading profile.",console.error("Error in loadProfile:",t)}finally{this.cdr.markForCheck()}}async removeProfilePicture(){try{this.errorMessage="",await this.supabaseService.deleteProfilePicture(),this.supabaseService.clearCachedProfilePictureBlobUrl(),await this.supabaseService.updateProfile({profile_picture_url:null}),this.currentImageUrl=null,this.previewUrl=null,this.selectedFile=null,this.formChanged=!0}catch(t){this.errorMessage="Failed to remove profile picture: "+(t.message||t.toString()),console.error("Error removing profile picture:",t)}finally{this.cdr.markForCheck()}}trackFormChanges(){this.profileForm.valueChanges.subscribe(()=>{this.formChanged=this.profileForm.dirty||!!this.selectedFile,this.cdr.markForCheck()})}onFileChange(t){this.errorMessage="";let e=t.target,r=e?.files?.[0];if(!r){this.selectedFile=null;return}if(!["image/jpeg","image/png","image/webp"].includes(r.type)){this.errorMessage="Only JPG, PNG, or WEBP images are allowed.",this.selectedFile=null,e.value="";return}if(r.size>1024*1024){this.errorMessage="File size must be less than 1MB.",this.selectedFile=null,e.value="";return}this.selectedFile=r,this.previewUrl&&URL.revokeObjectURL(this.previewUrl),this.previewUrl=URL.createObjectURL(r),this.formChanged=!0,this.cdr.markForCheck()}async saveChanges(){if(this.errorMessage="",!this.formChanged){this.errorMessage="No changes detected.";return}if(this.profileForm.invalid){this.errorMessage="Please correct the highlighted form errors.",this.profileForm.markAllAsTouched(),this.cdr.markForCheck();return}let t=this.originalFormValue.profile_picture_url??null;if(this.selectedFile)try{if(t=await this.supabaseService.uploadProfilePicture(this.selectedFile),!t){this.errorMessage="Failed to upload profile picture. Please try again.",console.error("Supabase uploadProfilePicture returned null filePath");return}}catch(i){this.errorMessage="Error uploading profile picture: "+(i.message||i.toString()),console.error("Error during profile picture upload:",i);return}let e=this.profileForm.getRawValue(),r={firstname:e.firstname,lastname:e.lastname,email:e.email,phone:e.phone,profile_picture_url:t,updated_at:new Date().toISOString(),preferences:{},metadata:{}};try{await this.supabaseService.updateProfile(r),t&&(this.supabaseService.clearCachedProfilePictureBlobUrl(),this.currentImageUrl=await this.supabaseService.getCachedProfilePictureBlobUrl(t),this.previewUrl=this.currentImageUrl),this.formChanged=!1,this.selectedFile=null,this.originalFormValue=this.profileForm.getRawValue(),this.errorMessage=""}catch(i){this.errorMessage="Failed to save changes: "+(i.message||i.toString()),console.error("Error during profile update:",i)}finally{this.cdr.markForCheck()}}static \u0275fac=function(e){return new(e||n)(D(It),D(en),D(ie))};static \u0275cmp=V({type:n,selectors:[["app-user-account-settings"]],decls:58,vars:6,consts:[[1,"container","mb-5"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/home"],["aria-current","page",1,"breadcrumb-item","active"],[1,"mb-2"],[1,"text-muted","mb-4"],[1,"row","g-3","mb-4"],[1,""],[1,"card","border-0","shadow-sm","p-3","h-100"],[1,"d-flex","align-items-center","mb-2"],["alt","Profile","class","rounded-circle me-2","style","width: 40px; height: 40px; object-fit: cover;",3,"src",4,"ngIf"],[1,"mb-0"],[1,"text-muted"],[1,"row","g-4",3,"ngSubmit","formGroup"],[1,"fw-bold"],[1,"col-md-6"],[1,"form-label"],["formControlName","firstname","placeholder","First name",1,"form-control"],["formControlName","lastname","placeholder","Last name",1,"form-control"],["formControlName","email","placeholder","Email","type","email",1,"form-control"],["formControlName","phone","placeholder","+1 (123) 456-7890",1,"form-control"],[1,"col-12"],[1,"fw-bold","mt-3"],[1,"card","p-3","shadow-sm","border-light","bg-light-subtle"],[1,"form-label","d-block"],["alt","Preview","class","img-thumbnail","style","width: 120px;",3,"src",4,"ngIf"],["class","text-muted",4,"ngIf"],["type","file",1,"form-control","mt-2",3,"change"],[1,"mt-2","d-flex","gap-2"],["type","button",1,"btn","btn-outline-secondary","btn-sm",3,"click"],["class","col-12",4,"ngIf"],[1,"col-12","text-end"],["type","submit","class","btn btn-tr",3,"disabled",4,"ngIf"],["alt","Profile",1,"rounded-circle","me-2",2,"width","40px","height","40px","object-fit","cover",3,"src"],["alt","Preview",1,"img-thumbnail",2,"width","120px",3,"src"],[1,"alert","alert-danger"],["type","submit",1,"btn","btn-tr",3,"disabled"]],template:function(e,r){e&1&&(u(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),f(5,"Dashboard"),c()(),u(6,"li",5),f(7,"Account Settings"),c()()(),u(8,"h2",6),f(9,"Account Settings"),c(),u(10,"p",7),f(11,"Manage your profile, subscription, and preferences"),c(),u(12,"div",8)(13,"div",9)(14,"div",10)(15,"div",11),E(16,YL,1,1,"img",12),u(17,"h5",13),f(18,"Profile Information"),c()(),u(19,"small",14),f(20,"Update your personal details and public profile"),c()()()(),u(21,"form",15),S("ngSubmit",function(){return r.saveChanges()}),u(22,"h5",16),f(23,"Personal Information"),c(),u(24,"div",17)(25,"label",18),f(26,"First Name"),c(),_(27,"input",19),c(),u(28,"div",17)(29,"label",18),f(30,"Last Name"),c(),_(31,"input",20),c(),u(32,"div",17)(33,"label",18),f(34,"Email Address"),c(),_(35,"input",21),c(),u(36,"div",17)(37,"label",18),f(38,"Phone"),c(),_(39,"input",22),c(),u(40,"div",23)(41,"h6",24),f(42,"Profile Picture"),c(),u(43,"div",25)(44,"div",6)(45,"label",26),f(46,"Preview New Photo"),c(),E(47,ZL,1,1,"img",27)(48,JL,2,0,"div",28),c(),u(49,"input",29),S("change",function(o){return r.onFileChange(o)}),c(),u(50,"small",14),f(51,"JPG, PNG or GIF. Max 1MB."),c(),u(52,"div",30)(53,"button",31),S("click",function(){return r.removeProfilePicture()}),f(54,"Remove"),c()()()(),E(55,XL,3,1,"div",32),u(56,"div",33),E(57,e3,2,1,"button",34),c()()()),e&2&&(h(16),g("ngIf",r.currentImageUrl),h(5),g("formGroup",r.profileForm),h(26),g("ngIf",r.previewUrl),h(),g("ngIf",!r.previewUrl),h(7),g("ngIf",r.errorMessage),h(2),g("ngIf",r.formChanged))},dependencies:[Ce,Kt,se,fe,Pe,ke,je,B,Y,ze],encapsulation:2})};var ff=class n{constructor(t){this.supabaseService=t;this.supabase=this.supabaseService.GetClient()}supabase;ngOnInit(){}async adminLoadMeditationVideos(){let{data:t,error:e}=await this.supabase.from("adminmeditationvideos").select("*").order("created_at",{ascending:!1});if(e)throw console.error("Error loading meditation videos: ",e),e;return t}async loadActiveMeditationVideos(){let{data:t,error:e}=await this.supabase.from("activemeditationvideos").select("*").order("created_at",{ascending:!1});if(e)throw console.error("Error loading meditation videos: ",e),e;return t}async addMeditationVideo(t){let{error:e}=await this.supabase.from("adminmeditationvideos").insert([{title:t.title,url:t.url,category:t.category,description:t.description,isactive:t.isactive}]);return e&&console.error("Error adding meditation video: ",e),{error:e}}async updateMeditationVideo(t){let{error:e}=await this.supabase.from("adminmeditationvideos").update({title:t.title,url:t.url,category:t.category,description:t.description,isactive:t.isactive,updated_time:t.updated_time}).eq("id",t.id);return e&&console.error("Error updating meditation video: ",e),{error:e}}static \u0275fac=function(e){return new(e||n)(F(Se))};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})};var n3=(n,t)=>({"alert-success":n,"alert-danger":t});function r3(n,t){if(n&1&&(u(0,"div",7),f(1),c()),n&2){let e=b();g("ngClass",Dt(2,n3,e.messageType==="success",e.messageType==="error")),h(),O(" ",e.message," ")}}function i3(n,t){if(n&1){let e=Q();u(0,"tr")(1,"td")(2,"input",8),Re("ngModelChange",function(i){let o=I(e).$implicit;return Be(o.title,i)||(o.title=i),T(i)}),S("ngModelChange",function(){let i=I(e).$implicit,o=b();return T(o.onFieldChange(i))}),c()(),u(3,"td")(4,"input",8),Re("ngModelChange",function(i){let o=I(e).$implicit;return Be(o.url,i)||(o.url=i),T(i)}),S("ngModelChange",function(){let i=I(e).$implicit,o=b();return T(o.onFieldChange(i))}),c()(),u(5,"td")(6,"input",8),Re("ngModelChange",function(i){let o=I(e).$implicit;return Be(o.category,i)||(o.category=i),T(i)}),S("ngModelChange",function(){let i=I(e).$implicit,o=b();return T(o.onFieldChange(i))}),c()(),u(7,"td")(8,"textarea",8),Re("ngModelChange",function(i){let o=I(e).$implicit;return Be(o.description,i)||(o.description=i),T(i)}),S("ngModelChange",function(){let i=I(e).$implicit,o=b();return T(o.onFieldChange(i))}),c()(),u(9,"td")(10,"input",9),Re("ngModelChange",function(i){let o=I(e).$implicit;return Be(o.isactive,i)||(o.isactive=i),T(i)}),S("change",function(){let i=I(e).$implicit,o=b();return T(o.onFieldChange(i))}),c()(),u(11,"td"),f(12),Fe(13,"date"),c()()}if(n&2){let e=t.$implicit;h(2),Oe("ngModel",e.title),h(2),Oe("ngModel",e.url),h(2),Oe("ngModel",e.category),h(2),Oe("ngModel",e.description),h(2),Oe("ngModel",e.isactive),h(2),L(Le(13,6,e.updated_time,"short"))}}var pf=class n{constructor(t,e){this.cdr=t;this.supabaseMeditationTableService=e}videos=[];message="";messageType="success";async ngOnInit(){let t=await this.supabaseMeditationTableService.adminLoadMeditationVideos();this.videos=t.map(e=>G(N({},e),{isModified:!1})),this.cdr.markForCheck()}onFieldChange(t){t.isModified=!0}addVideo(){this.videos.push({title:"",url:"",category:"",description:"",isactive:!0,isModified:!0}),this.cdr.detectChanges()}async saveChanges(){let t=this.videos.filter(e=>e.isModified);for(let e of t){if(e.id){e.updated_time=new Date().toISOString();let{error:r}=await this.supabaseMeditationTableService.updateMeditationVideo(e);if(r)return this.showMessage("Error saving some videos","error")}else{let{error:r}=await this.supabaseMeditationTableService.addMeditationVideo(e);if(r)return this.showMessage("Error adding new video","error")}e.isModified=!1}this.showMessage("Videos saved successfully","success"),this.cdr.detectChanges()}hasChanges(){return this.videos.some(t=>t.isModified)}showMessage(t,e){this.message=t,this.messageType=e,this.cdr.markForCheck(),setTimeout(()=>{this.message="",this.cdr.markForCheck()},4e3)}static \u0275fac=function(e){return new(e||n)(D(ie),D(ff))};static \u0275cmp=V({type:n,selectors:[["app-admin-meditation-dashboard"]],decls:26,vars:3,consts:[[1,"container","mt-4","p-4"],["class","alert",3,"ngClass",4,"ngIf"],[1,"table","mt-4"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","mt-3"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-success",3,"click","disabled"],[1,"alert",3,"ngClass"],["type","text",1,"form-control",3,"ngModelChange","ngModel"],["type","checkbox",1,"form-check-input",3,"ngModelChange","change","ngModel"]],template:function(e,r){e&1&&(u(0,"div",0),E(1,r3,2,5,"div",1),u(2,"h2"),f(3,"Meditation Video Admin Dashboard"),c(),u(4,"table",2)(5,"thead")(6,"tr")(7,"th"),f(8,"Title"),c(),u(9,"th"),f(10,"URL"),c(),u(11,"th"),f(12,"Category"),c(),u(13,"th"),f(14,"Description"),c(),u(15,"th"),f(16,"Active"),c(),u(17,"th"),f(18,"Last Updated"),c()()(),u(19,"tbody"),E(20,i3,14,9,"tr",3),c()(),u(21,"div",4)(22,"button",5),S("click",function(){return r.addVideo()}),f(23,"Add Video"),c(),u(24,"button",6),S("click",function(){return r.saveChanges()}),f(25,"Save Changes"),c()()()),e&2&&(h(),g("ngIf",r.message),h(19),g("ngForOf",r.videos),h(4),g("disabled",!r.hasChanges()))},dependencies:[B,xt,He,Y,ir,Xt,se,zr,fe,gn],encapsulation:2})};var re=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(re||{}),dr="*";function hf(n,t){return{type:re.Trigger,name:n,definitions:t,options:{}}}function fr(n,t=null){return{type:re.Animate,styles:t,timings:n}}function s1(n,t=null){return{type:re.Sequence,steps:n,options:t}}function tn(n){return{type:re.Style,styles:n,offset:null}}function yi(n,t,e){return{type:re.State,name:n,styles:t,options:e}}function pr(n,t,e=null){return{type:re.Transition,expr:n,animation:t,options:e}}var vi=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(t=0,e=0){this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}},gl=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(t){this.players=t;let e=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){let e=t*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(i)})}getPosition(){let t=this.players.reduce((e,r)=>e===null||r.totalTime>e.totalTime?r:e,null);return t!=null?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}},mf="!";function o3(n,t){if(n&1&&(u(0,"div",16),_(1,"div",17),c()),n&2){let e=b(2);h(),Rt("width",e.progressBarWidth)}}function s3(n,t){if(n&1&&(st(0),u(1,"mat-icon"),f(2),c(),at()),n&2){let e=b(3);h(2),L(e.currentQuestion.question_data.question_icon)}}function a3(n,t){if(n&1&&(u(0,"h2"),f(1),c()),n&2){let e=b(3);h(),L(e.currentQuestion.question_data.question_title)}}function l3(n,t){if(n&1){let e=Q();u(0,"div",25)(1,"input",26),Re("ngModelChange",function(i){I(e);let o=b(3);return Be(o.currentQuestion.answer,i)||(o.currentQuestion.answer=i),T(i)}),S("input",function(i){I(e);let o=b(3);return T(o.onAnswerChange(i))})("keydown.enter",function(){I(e);let i=b(3);return T(i.onEnterKey())}),c()()}if(n&2){let e=b(3);h(),Oe("ngModel",e.currentQuestion.answer),g("placeholder",e.currentQuestion.question_data.placeholder||"Your answer here...")}}function c3(n,t){if(n&1){let e=Q();u(0,"div",29)(1,"input",30),Re("ngModelChange",function(i){I(e);let o=b(4);return Be(o.currentQuestion.answer,i)||(o.currentQuestion.answer=i),T(i)}),S("ngModelChange",function(){I(e);let i=b(4);return T(i.onRadioAnswerChange())})("keydown.enter",function(){I(e);let i=b(4);return T(i.onEnterKey())}),c(),u(2,"label",31),f(3),c()()}if(n&2){let e=t.$implicit,r=b(4);h(),g("id",r.currentQuestion.question_id+"-"+e)("name",r.currentQuestion.question_id)("value",e),Oe("ngModel",r.currentQuestion.answer),h(),g("for",r.currentQuestion.question_id+"-"+e),h(),L(e)}}function u3(n,t){if(n&1&&(u(0,"div",27),E(1,c3,4,6,"div",28),c()),n&2){let e=b(3);h(),g("ngForOf",e.currentQuestion.question_data.choices)}}function d3(n,t){if(n&1){let e=Q();u(0,"div",34)(1,"input",35),S("change",function(i){let o=I(e).$implicit,s=b(4);return T(s.onMultipleAnswerChange(o,i))})("keydown.enter",function(){I(e);let i=b(4);return T(i.onEnterKey())}),c(),u(2,"label",31),f(3),c()()}if(n&2){let e=t.$implicit,r=b(4);h(),g("id",r.currentQuestion.question_id+"-"+e)("value",e)("checked",r.currentQuestion.multipleAnswers==null?null:r.currentQuestion.multipleAnswers.includes(e)),h(),g("for",r.currentQuestion.question_id+"-"+e),h(),L(e)}}function f3(n,t){if(n&1&&(u(0,"div",32),E(1,d3,4,5,"div",33),c()),n&2){let e=b(3);h(),g("ngForOf",e.currentQuestion.question_data.choices)}}function p3(n,t){if(n&1&&(st(0),u(1,"div",18),E(2,s3,3,1,"ng-container",10)(3,a3,2,1,"h2",10),c(),u(4,"p",19),f(5),c(),u(6,"div",20),st(7,21),E(8,l3,2,2,"div",22)(9,u3,2,1,"div",23)(10,f3,2,1,"div",24),at(),c(),at()),n&2){let e=b(2);h(2),g("ngIf",e.currentQuestion.question_data.question_icon),h(),g("ngIf",e.currentQuestion.question_data.question_title),h(2),L(e.currentQuestion.question_data.question),h(2),g("ngSwitch",e.currentQuestion.question_data.question_type),h(),g("ngSwitchCase","fill"),h(),g("ngSwitchCase","select-one"),h(),g("ngSwitchCase","multiple")}}function h3(n,t){if(n&1){let e=Q();u(0,"button",36),S("click",function(){I(e);let i=b(2);return T(i.nextQuestion())}),f(1,"Next"),c()}}function m3(n,t){if(n&1){let e=Q();u(0,"button",12),S("click",function(){I(e);let i=b(2);return T(i.submitAnswers())}),f(1),c()}if(n&2){let e=b(2);g("disabled",e.loading),h(),O(" ",e.loading?"Submitting...":"Submit"," ")}}function g3(n,t){if(n&1&&(u(0,"div",37),f(1),c()),n&2){let e=b(2);g("@messageAnimation",void 0),h(),O(" ",e.errorMessage," ")}}function v3(n,t){if(n&1){let e=Q();st(0),E(1,o3,2,2,"div",8),u(2,"div",9),E(3,p3,11,7,"ng-container",10),c(),u(4,"div",11)(5,"button",12),S("click",function(){I(e);let i=b();return T(i.previousQuestion())}),f(6,"Previous"),c(),E(7,h3,2,0,"button",13)(8,m3,2,2,"button",14),c(),E(9,g3,2,2,"div",15),at()}if(n&2){let e=b();h(),g("ngIf",!e.showCompleteScreen),h(),g("@questionAnimation",e.questionAnimationState),h(),g("ngIf",e.currentQuestion),h(2),g("disabled",e.currentQuestionIndex===0),h(2),g("ngIf",e.currentQuestionIndex<e.questions.length-1),h(),g("ngIf",e.currentQuestionIndex===e.questions.length-1),h(),g("ngIf",e.errorMessage)}}function y3(n,t){if(n&1&&(u(0,"div",42),f(1),c()),n&2){let e=b(2);g("@messageAnimation",void 0),h(),O(" ",e.errorMessage," ")}}function _3(n,t){if(n&1&&(u(0,"div",52)(1,"mat-icon"),f(2),c(),u(3,"div",53),f(4),c(),u(5,"div",54),_(6,"div",55),c(),u(7,"div",56),f(8),c()()),n&2){let e=t.$implicit;h(2),L(e.icon),h(2),L(e.emotion),h(2),Rt("width",e.percentage),h(2),L(e.percentage)}}function b3(n,t){if(n&1&&(u(0,"div",48)(1,"div",45)(2,"mat-icon"),f(3),c(),u(4,"h4"),f(5),c()(),u(6,"p"),f(7),c()()),n&2){let e=t.$implicit;h(),Rt("color",e.color),h(2),L(e.icon),h(2),L(e.category),h(2),O("Focus on ",e.category," related improvements.")}}function w3(n,t){if(n&1&&(u(0,"li"),f(1),c()),n&2){let e=t.$implicit;h(),L(e)}}function C3(n,t){if(n&1&&(u(0,"div",43)(1,"div",44)(2,"div",45)(3,"mat-icon"),f(4,"lightbulb"),c(),u(5,"h4"),f(6,"Emotional State Summary"),c()(),u(7,"div",46),E(8,_3,9,5,"div",47),c()(),u(9,"div",48)(10,"div",49)(11,"mat-icon"),f(12,"timer"),c(),u(13,"h4"),f(14,"Trade Readiness"),c()(),u(15,"article"),f(16),c()(),E(17,b3,8,5,"div",50),u(18,"div",48)(19,"div",49)(20,"mat-icon"),f(21,"lightbulb"),c(),u(22,"h4"),f(23,"Recommendations:"),c()(),u(24,"ul"),E(25,w3,2,1,"li",51),c()(),u(26,"div",48)(27,"div",49)(28,"mat-icon"),f(29,"directions_run"),c(),u(30,"h4"),f(31,"Recommened Actionable Item:"),c()(),u(32,"article"),f(33),c()()()),n&2){let e=b(2);h(8),g("ngForOf",e.analysisResult.emotion),h(8),L(e.analysisResult.readiness),h(),g("ngForOf",e.analysisResult.behaviorPattern),h(8),g("ngForOf",e.analysisResult.recommendation),h(8),L(e.analysisResult.actionableitem)}}function E3(n,t){if(n&1&&(u(0,"div",38)(1,"div",39)(2,"mat-icon"),f(3,"check"),c()(),E(4,y3,2,2,"div",40),u(5,"h3"),f(6,"Check-in Complete!"),c(),u(7,"p"),f(8,"Here are your AI insights for today"),c(),E(9,C3,34,5,"div",41),c()),n&2){let e=b();g("@checkInCompleteAnimation",void 0),h(4),g("ngIf",e.errorMessage),h(5),g("ngIf",e.analysisResult)}}var gf=class n{constructor(t,e,r,i){this.supabaseService=t;this.supabaseEmotionService=e;this.supabaseFunctionService=r;this.cdr=i}questions=[];currentQuestionIndex=0;currentQuestion;questionAnimationState="visible";showCompleteScreen=!1;analysisResult=null;loading=!1;errorMessage=null;todayCheckInCompleted=!1;userId="";async ngOnInit(){this.loading=!0;try{await this.supabaseEmotionService.canLoadCheckInQuestions()?(await this.loadQuestions(),this.showCompleteScreen=!1):(this.todayCheckInCompleted=!0,await this.loadLastCheckInResult(),this.showCompleteScreen=!0,this.errorMessage="You have already completed today's check-in.")}catch{this.errorMessage="Failed to initialize check-in. Please try again later."}finally{this.loading=!1,this.cdr.markForCheck()}}onEnterKey(){this.currentQuestionIndex<this.questions.length-1&&this.nextQuestion()}get progressBarWidth(){return this.questions.length===0?"0%":`${this.currentQuestionIndex/this.questions.length*100}%`}shuffleArray(t){let e=[...t];for(let r=e.length-1;r>0;r--){let i=Math.floor(Math.random()*(r+1));[e[r],e[i]]=[e[i],e[r]]}return e}async loadQuestions(){try{this.questions=await this.supabaseEmotionService.loadQuestions(),this.questions.length>0&&(this.currentQuestion=this.questions[this.currentQuestionIndex]),this.cdr.markForCheck()}catch(t){console.error("Error loading questions:",t),this.errorMessage="Failed to load questions. Please try again later.",this.cdr.markForCheck()}}nextQuestion(){this.currentQuestionIndex<this.questions.length-1&&(this.questionAnimationState="hidden-left",setTimeout(()=>{this.currentQuestionIndex++,this.currentQuestion=this.questions[this.currentQuestionIndex],this.questionAnimationState="visible",this.cdr.markForCheck()},300))}previousQuestion(){this.currentQuestionIndex>0&&(this.questionAnimationState="hidden-right",setTimeout(()=>{this.currentQuestionIndex--,this.currentQuestion=this.questions[this.currentQuestionIndex],this.questionAnimationState="visible",this.cdr.markForCheck()},300))}onAnswerChange(t){this.currentQuestion?.question_data.question_type==="fill"&&(this.currentQuestion.answer=t.target.value,this.cdr.markForCheck())}onRadioAnswerChange(){this.cdr.markForCheck()}onMultipleAnswerChange(t,e){if(this.currentQuestion?.question_data.question_type==="multiple"){this.currentQuestion.multipleAnswers||(this.currentQuestion.multipleAnswers=[]);let r=e.target.checked;r&&!this.currentQuestion.multipleAnswers.includes(t)?this.currentQuestion.multipleAnswers.push(t):!r&&this.currentQuestion.multipleAnswers.includes(t)&&(this.currentQuestion.multipleAnswers=this.currentQuestion.multipleAnswers.filter(i=>i!==t)),this.cdr.markForCheck()}}async submitAnswers(){this.loading=!0,this.errorMessage=null;try{let t=this.compileTraderInput(),e=await this.sendToSupabaseEdgeFunction(t);this.analysisResult=e,await this.saveAnswersToTable(e),this.showCompleteScreen=!0}catch(t){console.error("Error during submission:",t),this.errorMessage="An error occurred during submission. Please try again."}finally{this.cdr.markForCheck(),this.loading=!1}}compileTraderInput(){let t="";return this.questions.forEach((e,r)=>{let i="";e.question_data.question_type==="fill"||e.question_data.question_type==="select-one"?i=e.answer||"No answer provided.":e.question_data.question_type==="multiple"&&(i=e.multipleAnswers?.join(", ")||"No answer provided."),t+=`Q: ${e.question_data.question} A:${i}${r<this.questions.length-1?" ":""}`}),t}async sendToSupabaseEdgeFunction(t){let{data:e,error:r}=await this.supabaseFunctionService.callEdgeFunction("emotion-analyst-gemini",{prompt:t});if(r)throw new Error(`Failed to get analysis from Edge Function: ${r.message}`);if(!e||!Array.isArray(e)||e.length===0)throw new Error("Invalid or empty analysis response from Edge Function");let i={emotion:[],behaviorPattern:[],recommendation:[],readiness:"",actionableitem:""};return e.forEach(o=>{o.emotion&&Array.isArray(o.emotion)?i.emotion=o.emotion.map(s=>({emotion:s.emotion,percentage:String(s.percentage),icon:s.icon,color:s.color})):o.behaviorPattern&&Array.isArray(o.behaviorPattern)?i.behaviorPattern=o.behaviorPattern.map(s=>({category:s.category,icon:s.icon,color:s.color})):o.recommendation&&(Array.isArray(o.recommendation)||typeof o.recommendation=="string")?i.recommendation=Array.isArray(o.recommendation)?o.recommendation:[o.recommendation]:o.readiness&&typeof o.readiness=="string"?i.readiness=o.readiness:o.actionableitem&&typeof o.actionableitem=="string"&&(i.actionableitem=o.actionableitem)}),i}async saveAnswersToTable(t){let e=this.questions.map(o=>{let s="";return o.question_data.question_type==="fill"||o.question_data.question_type==="select-one"?s=o.answer||"":o.question_data.question_type==="multiple"&&(s=o.multipleAnswers||[]),{question_id:o.question_id,answer:s}}),r={user_id:this.supabaseService.user()?.id,answers:e,analysis:t},{error:i}=await this.supabaseEmotionService.submitUserAnswers(r);if(i)throw console.error("Error saving answers to database:",i),new Error(`Failed to save answers: ${i.message}`)}async loadLastCheckInResult(){try{let{data:t,error:e}=await this.supabaseEmotionService.getLastEmotionCheckInResult();if(e){this.errorMessage="Failed to load last check-in result.";return}if(Array.isArray(t)&&t.length>0&&t[0].analysis){let r=t[0].analysis;if(typeof r=="string")try{r=JSON.parse(r)}catch{}if(Array.isArray(r)){let i={emotion:[],behaviorPattern:[],recommendation:[],readiness:"",actionableitem:""};r.forEach(o=>{o.emotion&&Array.isArray(o.emotion)?i.emotion=o.emotion.map(s=>({emotion:s.emotion,percentage:String(s.percentage),icon:s.icon,color:s.color})):o.behaviorPattern&&Array.isArray(o.behaviorPattern)?i.behaviorPattern=o.behaviorPattern.map(s=>({category:s.category,icon:s.icon,color:s.color})):o.recommendation&&(Array.isArray(o.recommendation)||typeof o.recommendation=="string")?i.recommendation=Array.isArray(o.recommendation)?o.recommendation:[o.recommendation]:o.readiness&&typeof o.readiness=="string"?i.readiness=o.readiness:o.actionableitem&&typeof o.actionableitem=="string"&&(i.actionableitem=o.actionableitem)}),this.analysisResult=i}else this.analysisResult=r}}catch{this.errorMessage="Failed to load last check-in result."}}static \u0275fac=function(e){return new(e||n)(D(Se),D(As),D(Ns),D(ie))};static \u0275cmp=V({type:n,selectors:[["app-user-emotion-analysis"]],decls:11,vars:2,consts:[["completeScreen",""],[1,"container-fluid"],["aria-label","breadcrumb",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/home",1,"text-decoration-none"],["aria-current","page",1,"breadcrumb-item","active"],[4,"ngIf","ngIfElse"],["class","progress-bar-container",4,"ngIf"],[1,"question-card"],[4,"ngIf"],[1,"navigation-buttons"],[1,"btn-tr",3,"click","disabled"],["class","btn-tr",3,"click",4,"ngIf"],["class","btn-tr",3,"disabled","click",4,"ngIf"],["class","error-message",4,"ngIf"],[1,"progress-bar-container"],[1,"progress-bar"],[1,"question-header"],[1,"question-text"],[1,"answer-area"],[3,"ngSwitch"],["class","fill-input-container",4,"ngSwitchCase"],["class","select-one-options",4,"ngSwitchCase"],["class","multiple-options",4,"ngSwitchCase"],[1,"fill-input-container"],["type","text",3,"ngModelChange","input","keydown.enter","ngModel","placeholder"],[1,"select-one-options"],["class","radio-option",4,"ngFor","ngForOf"],[1,"radio-option"],["type","radio",3,"ngModelChange","keydown.enter","id","name","value","ngModel"],[3,"for"],[1,"multiple-options"],["class","checkbox-option",4,"ngFor","ngForOf"],[1,"checkbox-option"],["type","checkbox",3,"change","keydown.enter","id","value","checked"],[1,"btn-tr",3,"click"],[1,"error-message"],[1,"check-in-complete-screen"],[1,"complete-icon-circle"],["class","complete-message",4,"ngIf"],["class","analysis-results-new",4,"ngIf"],[1,"complete-message"],[1,"analysis-results-new"],[1,"analysis-card","emotional-summary-card"],[1,"analysis-card-header"],[1,"emotion-progress-list"],["class","emotion-item",4,"ngFor","ngForOf"],[1,"analysis-card"],[1,"analysis-card-header",2,"color","var(--primary-color)"],["class","analysis-card",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"emotion-item"],[1,"emotion-label"],[1,"emotion-bar-container"],[1,"emotion-bar"],[1,"emotion-percentage"]],template:function(e,r){if(e&1&&(u(0,"div",1)(1,"nav",2)(2,"ol",3)(3,"li",4)(4,"a",5),f(5,"Dashboard"),c()(),u(6,"li",6),f(7,"Emotion Questions"),c()()(),E(8,v3,10,7,"ng-container",7)(9,E3,10,3,"ng-template",null,0,Yo),c()),e&2){let i=rr(10);h(8),g("ngIf",!r.showCompleteScreen)("ngIfElse",i)}},dependencies:[B,He,Y,Pm,Kw,Xt,se,vn,fe,gn,Xu,kn,ze],styles:[".progress-bar-container[_ngcontent-%COMP%]{width:calc(100% - 40px);height:8px;background-color:#e0e0e0;border-radius:4px;margin-bottom:30px;overflow:hidden}.progress-bar[_ngcontent-%COMP%]{height:100%;background-color:var(--primary-color);border-radius:4px;transition:width .3s ease-in-out}.question-card[_ngcontent-%COMP%]{background-color:#fff;padding:30px;border-radius:10px;box-shadow:0 3px 12px #00000012;width:100%;box-sizing:border-box;text-align:center;position:relative;overflow:hidden}.question-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-bottom:20px}.question-header[_ngcontent-%COMP%]   i.material-icons[_ngcontent-%COMP%]{font-size:40px;color:#3f51b5;margin-right:15px}.question-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#333;font-size:1.8em;margin:0}.question-text[_ngcontent-%COMP%]{font-size:1.2em;color:#555;margin-bottom:25px;line-height:1.5}.answer-area[_ngcontent-%COMP%]{margin-top:20px}.fill-input-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:calc(100% - 20px);padding:12px 10px;border:1px solid #ddd;border-radius:5px;font-size:1em;box-sizing:border-box}.fill-input-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus{outline:none;border-color:#3f51b5;box-shadow:0 0 0 2px #3f51b533}.select-one-options[_ngcontent-%COMP%], .multiple-options[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;width:fit-content;margin:0 auto}.radio-option[_ngcontent-%COMP%], .checkbox-option[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:15px;cursor:pointer}.radio-option[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%], .checkbox-option[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin-right:10px;width:20px;height:20px;accent-color:#3f51b5}.radio-option[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .checkbox-option[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1.1em;color:#444;cursor:pointer}.navigation-buttons[_ngcontent-%COMP%]{margin-top:30px;display:flex;justify-content:space-between;width:100%}.navigation-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:12px 25px;border:none;border-radius:5px;color:#fff;font-size:1em;cursor:pointer;transition:background-color .3s ease,transform .2s ease;min-width:120px}.navigation-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px)}.navigation-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.error-message[_ngcontent-%COMP%]{color:#d32f2f;background-color:#ffebee;border:1px solid #ef9a9a;padding:10px 20px;border-radius:5px;margin-top:20px;text-align:center;font-weight:700}.complete-message[_ngcontent-%COMP%]{background-color:#c5f4d9;border:1px solid #2fd373;padding:10px 20px;border-radius:5px;margin-top:20px;margin-bottom:20px;text-align:center;font-weight:700}.check-in-complete-screen[_ngcontent-%COMP%]{background-color:#fff;padding:40px;border-radius:10px;box-shadow:0 4px 15px #0000001a;text-align:center;color:#333;width:100%;box-sizing:border-box}.complete-icon-circle[_ngcontent-%COMP%]{width:70px;height:70px;border-radius:50%;background-color:#4caf50;display:flex;align-items:center;justify-content:center;margin:0 auto 25px;color:#fff}.complete-icon-circle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{height:40px;width:40px;font-size:40px}.check-in-complete-screen[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#333;font-size:2.2em;margin-bottom:10px}.check-in-complete-screen[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1em;color:#666;margin-bottom:30px}.analysis-results-new[_ngcontent-%COMP%]{margin-top:20px;text-align:left}.analysis-card[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:8px;padding:20px;margin-bottom:15px;box-shadow:0 2px 8px #0000000d}.analysis-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px;color:#3f51b5}.analysis-card-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;margin-right:10px}.analysis-card-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.3em;margin:0;color:inherit}.analysis-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em;color:#555;line-height:1.5;margin-bottom:0}.analysis-results-new[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin-top:15px}.analysis-results-new[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#e3f2fd;padding:12px 18px;margin-bottom:10px;border-radius:8px;border-left:5px solid var(--primary-color);color:#333;line-height:1.4;font-size:.95em;box-shadow:0 1px 4px #0000000a}.emotional-summary-card[_ngcontent-%COMP%]{background-color:#fff;padding:25px;margin-bottom:20px}.emotional-summary-card[_ngcontent-%COMP%]   .analysis-card-header[_ngcontent-%COMP%]{justify-content:flex-start;margin-bottom:25px;color:#333}.emotion-progress-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:18px}.emotion-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.emotion-label[_ngcontent-%COMP%]{flex-basis:120px;min-width:120px;font-size:1em;color:#555;text-align:right}.emotion-bar-container[_ngcontent-%COMP%]{flex-grow:1;height:8px;background-color:#e0e0e0;border-radius:4px;overflow:hidden}.emotion-bar[_ngcontent-%COMP%]{height:100%;background-color:var(--primary-color);border-radius:4px;transition:width .5s ease-out}.emotion-percentage[_ngcontent-%COMP%]{flex-basis:40px;min-width:40px;font-size:.95em;color:#666;font-weight:500;text-align:right}"],data:{animation:[hf("questionAnimation",[yi("visible",tn({opacity:1,transform:"translateX(0)",filter:"blur(0px)"})),yi("hidden-right",tn({opacity:0,transform:"translateX(100%)",filter:"blur(5px)"})),yi("hidden-left",tn({opacity:0,transform:"translateX(-100%)",filter:"blur(5px)"})),pr(":enter",[tn({opacity:0,transform:"translateX(100%)",filter:"blur(5px)"}),fr("500ms ease-out",tn({opacity:1,transform:"translateX(0)",filter:"blur(0px)"}))]),pr(":leave",[fr("500ms ease-out",tn({opacity:0,transform:"translateX(-100%)",filter:"blur(5px)"}))]),pr("visible => hidden-left",fr("300ms ease-out")),pr("hidden-right => visible",fr("300ms ease-in")),pr("visible => hidden-right",fr("300ms ease-out")),pr("hidden-left => visible",fr("300ms ease-in"))]),hf("messageAnimation",[yi("void",tn({opacity:0,transform:"scale(0.8)"})),yi("*",tn({opacity:1,transform:"scale(1)"})),pr("void => *",fr("500ms ease-out")),pr("* => void",fr("500ms ease-in"))]),hf("checkInCompleteAnimation",[yi("void",tn({opacity:0,transform:"translateY(20px)"})),yi("*",tn({opacity:1,transform:"translateY(0)"})),pr("void => *",fr("600ms ease-out"))])]}})};function S3(n,t){if(n&1&&(u(0,"div",19),f(1),c()),n&2){let e=b();h(),O(" ",e.message," ")}}function D3(n,t){if(n&1&&(u(0,"div",20),f(1),c()),n&2){let e=b();h(),O(" ",e.errorMessage," ")}}function x3(n,t){n&1&&(u(0,"div",21),f(1," A valid email is required. "),c())}var vf=class n{constructor(t,e,r,i){this.fb=t;this.router=e;this.cdr=r;this.supabaseAuthService=i;this.forgotPasswordForm=this.fb.group({email:["",[R.required,R.email]]})}forgotPasswordForm;message=null;errorMessage=null;async onSubmit(){if(this.forgotPasswordForm.invalid){this.forgotPasswordForm.markAllAsTouched();return}let{email:t}=this.forgotPasswordForm.getRawValue();this.errorMessage=null,this.message=null;try{let{success:e,error:r}=await this.supabaseAuthService.requestPasswordReset(t);e?this.message="If an account with that email exists, you will receive a password reset link!":this.errorMessage=r?.message||"Failed to send reset link. Please try again.",this.cdr.markForCheck()}catch(e){this.errorMessage=e.message||"An unexpected error occurred.",this.cdr.markForCheck()}}static \u0275fac=function(e){return new(e||n)(D(It),D(vt),D(ie),D(ur))};static \u0275cmp=V({type:n,selectors:[["app-forgot-password"]],decls:26,vars:5,consts:[[1,"auth-container"],[1,"auth-card"],[1,"text-center","mb-4"],[1,"logo-circle","mx-auto"],["src","/tr_logo.png","alt","Logo",1,"img-fluid"],[1,"brand-name","mt-3"],[1,"brand-tagline"],["class","alert alert-info mb-3",4,"ngIf"],["class","alert alert-danger mb-3",4,"ngIf"],[1,"auth-form",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","placeholder","Enter your email",1,"form-control"],["class","text-danger small mt-1",4,"ngIf"],[1,"d-grid","gap-2","mt-4"],["type","submit",1,"btn","btn-tr","btn-primary","btn-md",3,"disabled"],[1,"text-center","mt-4"],[1,"mb-0"],["routerLink","",1,"login-link"],[1,"alert","alert-info","mb-3"],[1,"alert","alert-danger","mb-3"],[1,"text-danger","small","mt-1"]],template:function(e,r){if(e&1&&(u(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),_(4,"img",4),c()(),u(5,"div",2)(6,"h2",5),f(7,"Forgot Password"),c(),u(8,"p",6),f(9,"Enter your email to receive a password reset link."),c()(),E(10,S3,2,1,"div",7)(11,D3,2,1,"div",8),u(12,"form",9),S("ngSubmit",function(){return r.onSubmit()}),u(13,"div",10)(14,"label",11),f(15,"Email"),c(),_(16,"input",12),E(17,x3,2,0,"div",13),c(),u(18,"div",14)(19,"button",15),f(20,"Send Reset Link"),c()(),u(21,"div",16)(22,"p",17),f(23,"Remember your password? "),u(24,"a",18),f(25,"Login"),c()()()()()()),e&2){let i;h(10),g("ngIf",r.message),h(),g("ngIf",r.errorMessage),h(),g("formGroup",r.forgotPasswordForm),h(5),g("ngIf",((i=r.forgotPasswordForm.get("email"))==null?null:i.invalid)&&((i=r.forgotPasswordForm.get("email"))==null?null:i.touched)),h(2),g("disabled",r.forgotPasswordForm.invalid)}},dependencies:[B,Y,Ce,Kt,se,fe,Pe,ke,je,ze],styles:['.auth-container[_ngcontent-%COMP%]{min-height:100dvh;display:flex;align-items:center;justify-content:center}.auth-card[_ngcontent-%COMP%]{background-color:transparent;border-radius:12px;width:100%;max-width:450px;padding:30px}.logo-circle[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;background-color:transparent;position:relative;display:flex;align-items:center;justify-content:center;margin:0 auto}.dots-circle[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;position:relative;background-image:radial-gradient(circle,#5046e5 3px,transparent 3px);background-size:15px 15px;transform:rotate(45deg)}.brand-name[_ngcontent-%COMP%]{font-weight:700;font-size:24px;margin-bottom:5px;letter-spacing:.5px}.brand-tagline[_ngcontent-%COMP%]{color:#666;font-size:14px;margin:0}.tabs-container[_ngcontent-%COMP%]{display:inline-flex;align-items:center;border-bottom:1px solid #eee;padding-bottom:5px}.tab[_ngcontent-%COMP%]{padding:8px 15px;cursor:pointer;color:#888;font-weight:500;font-size:16px;transition:color .2s}.tab.active[_ngcontent-%COMP%]{color:#5046e5;border-bottom:2px solid #5046e5}.tab-separator[_ngcontent-%COMP%]{color:#ccc}.auth-form[_ngcontent-%COMP%]{margin-top:10px}.form-control[_ngcontent-%COMP%]{height:auto;padding:12px 15px;border-radius:8px;border:1px solid #ddd;transition:border-color .2s,box-shadow .2s}.form-control[_ngcontent-%COMP%]:focus{border-color:#5046e5;box-shadow:0 0 0 .2rem #5046e526}.form-label[_ngcontent-%COMP%]{font-weight:500;color:#555;margin-bottom:8px}.forgot-link[_ngcontent-%COMP%]{font-size:14px;color:#5046e5;text-decoration:none}.forgot-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.signup-link[_ngcontent-%COMP%], .login-link[_ngcontent-%COMP%]{color:#5046e5;font-weight:500;text-decoration:none}.signup-link[_ngcontent-%COMP%]:hover, .login-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.btn-primary[_ngcontent-%COMP%]{background-color:#5046e5;border-color:#5046e5;padding:12px;font-weight:500}.btn-primary[_ngcontent-%COMP%]:hover, .btn-primary[_ngcontent-%COMP%]:focus{background-color:#4238d0;border-color:#4238d0}.btn-primary[_ngcontent-%COMP%]:disabled{background-color:#a8a4e0;border-color:#a8a4e0}.separator[_ngcontent-%COMP%]{display:flex;align-items:center;text-align:center;color:#888;font-size:14px}.separator[_ngcontent-%COMP%]:before, .separator[_ngcontent-%COMP%]:after{content:"";flex:1;border-bottom:1px solid #ddd}.separator[_ngcontent-%COMP%]:before{margin-right:1em}.separator[_ngcontent-%COMP%]:after{margin-left:1em}.google-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#fff;border:1px solid #ddd;color:#333;padding:12px;font-weight:500}.google-btn[_ngcontent-%COMP%]:hover{background-color:#f8f8f8;color:#333}@media (max-width: 576px){.auth-card[_ngcontent-%COMP%]{padding:20px 15px}.brand-name[_ngcontent-%COMP%]{font-size:20px}.form-control[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]{padding:10px}}']})};function I3(n,t){if(n&1&&(u(0,"div",22),f(1),c()),n&2){let e=b();h(),O(" ",e.errorMessage," ")}}function T3(n,t){if(n&1&&(u(0,"div",23),f(1),c()),n&2){let e=b();h(),O(" ",e.successMessage," ")}}function M3(n,t){n&1&&(u(0,"div",24),f(1," Password must be at least 6 characters. "),c())}function A3(n,t){n&1&&(u(0,"small",25),f(1," Passwords do not match "),c())}var yf=class n{constructor(t,e,r,i,o){this.fb=t;this.router=e;this.route=r;this.cdr=i;this.supabaseAuthService=o;this.updatePasswordForm=this.fb.group({newPassword:["",[R.required,R.minLength(6)]],confirmNewPassword:["",R.required]},{validators:this.passwordMatchValidator})}updatePasswordForm;errorMessage=null;successMessage=null;ngOnInit(){}passwordMatchValidator(t){let e=t.get("newPassword")?.value,r=t.get("confirmNewPassword")?.value;return e===r?null:{mismatch:!0}}async onSubmit(){if(this.updatePasswordForm.invalid){this.updatePasswordForm.markAllAsTouched();return}let{newPassword:t}=this.updatePasswordForm.getRawValue();this.errorMessage=null,this.successMessage=null;try{let{success:e,error:r}=await this.supabaseAuthService.updatePassword(t);e?(this.successMessage="Your password has been updated successfully! Redirecting to login...",this.updatePasswordForm.reset(),setTimeout(()=>{this.router.navigate(["/auth"])},3e3)):this.errorMessage=r?.message||"Failed to update password. Please try again.",this.cdr.markForCheck()}catch(e){this.errorMessage=e.message||"An unexpected error occurred.",this.cdr.markForCheck()}}static \u0275fac=function(e){return new(e||n)(D(It),D(vt),D(hn),D(ie),D(ur))};static \u0275cmp=V({type:n,selectors:[["app-update-password"]],decls:31,vars:6,consts:[[1,"auth-container"],[1,"auth-card"],[1,"text-center","mb-4"],[1,"logo-circle","mx-auto"],["src","/tr_logo.png","alt","Logo",1,"img-fluid"],[1,"brand-name","mt-3"],[1,"brand-tagline"],["class","alert alert-danger mb-3",4,"ngIf"],["class","alert alert-success mb-3",4,"ngIf"],[1,"auth-form",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","newPassword",1,"form-label"],["type","password","id","newPassword","formControlName","newPassword","placeholder","Enter new password",1,"form-control"],["class","text-danger small mt-1",4,"ngIf"],["for","confirmNewPassword",1,"form-label"],["type","password","id","confirmNewPassword","formControlName","confirmNewPassword","placeholder","Confirm new password",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"d-grid","gap-2","mt-4"],["type","submit",1,"btn","btn-tr","btn-primary","btn-md",3,"disabled"],[1,"text-center","mt-4"],[1,"mb-0"],["routerLink","/auth",1,"login-link"],[1,"alert","alert-danger","mb-3"],[1,"alert","alert-success","mb-3"],[1,"text-danger","small","mt-1"],[1,"text-danger"]],template:function(e,r){if(e&1&&(u(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),_(4,"img",4),c()(),u(5,"div",2)(6,"h2",5),f(7,"Set New Password"),c(),u(8,"p",6),f(9,"Please enter your new password."),c()(),E(10,I3,2,1,"div",7)(11,T3,2,1,"div",8),u(12,"form",9),S("ngSubmit",function(){return r.onSubmit()}),u(13,"div",10)(14,"label",11),f(15,"New Password"),c(),_(16,"input",12),E(17,M3,2,0,"div",13),c(),u(18,"div",10)(19,"label",14),f(20,"Confirm New Password"),c(),_(21,"input",15),E(22,A3,2,0,"small",16),c(),u(23,"div",17)(24,"button",18),f(25,"Update Password"),c()(),u(26,"div",19)(27,"p",20),f(28,"Go back to "),u(29,"a",21),f(30,"Login"),c()()()()()()),e&2){let i,o;h(10),g("ngIf",r.errorMessage),h(),g("ngIf",r.successMessage),h(),g("formGroup",r.updatePasswordForm),h(5),g("ngIf",((i=r.updatePasswordForm.get("newPassword"))==null?null:i.invalid)&&((i=r.updatePasswordForm.get("newPassword"))==null?null:i.touched)),h(5),g("ngIf",r.updatePasswordForm.hasError("mismatch")&&((o=r.updatePasswordForm.get("confirmNewPassword"))==null?null:o.touched)),h(2),g("disabled",r.updatePasswordForm.invalid)}},dependencies:[B,Y,Ce,Kt,se,fe,Pe,ke,je],styles:['.auth-container[_ngcontent-%COMP%]{min-height:100dvh;display:flex;align-items:center;justify-content:center}.auth-card[_ngcontent-%COMP%]{background-color:transparent;border-radius:12px;width:100%;max-width:450px;padding:30px}.logo-circle[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;background-color:transparent;position:relative;display:flex;align-items:center;justify-content:center;margin:0 auto}.dots-circle[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;position:relative;background-image:radial-gradient(circle,#5046e5 3px,transparent 3px);background-size:15px 15px;transform:rotate(45deg)}.brand-name[_ngcontent-%COMP%]{font-weight:700;font-size:24px;margin-bottom:5px;letter-spacing:.5px}.brand-tagline[_ngcontent-%COMP%]{color:#666;font-size:14px;margin:0}.tabs-container[_ngcontent-%COMP%]{display:inline-flex;align-items:center;border-bottom:1px solid #eee;padding-bottom:5px}.tab[_ngcontent-%COMP%]{padding:8px 15px;cursor:pointer;color:#888;font-weight:500;font-size:16px;transition:color .2s}.tab.active[_ngcontent-%COMP%]{color:#5046e5;border-bottom:2px solid #5046e5}.tab-separator[_ngcontent-%COMP%]{color:#ccc}.auth-form[_ngcontent-%COMP%]{margin-top:10px}.form-control[_ngcontent-%COMP%]{height:auto;padding:12px 15px;border-radius:8px;border:1px solid #ddd;transition:border-color .2s,box-shadow .2s}.form-control[_ngcontent-%COMP%]:focus{border-color:#5046e5;box-shadow:0 0 0 .2rem #5046e526}.form-label[_ngcontent-%COMP%]{font-weight:500;color:#555;margin-bottom:8px}.forgot-link[_ngcontent-%COMP%]{font-size:14px;color:#5046e5;text-decoration:none}.forgot-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.signup-link[_ngcontent-%COMP%], .login-link[_ngcontent-%COMP%]{color:#5046e5;font-weight:500;text-decoration:none}.signup-link[_ngcontent-%COMP%]:hover, .login-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.btn-primary[_ngcontent-%COMP%]{background-color:#5046e5;border-color:#5046e5;padding:12px;font-weight:500}.btn-primary[_ngcontent-%COMP%]:hover, .btn-primary[_ngcontent-%COMP%]:focus{background-color:#4238d0;border-color:#4238d0}.btn-primary[_ngcontent-%COMP%]:disabled{background-color:#a8a4e0;border-color:#a8a4e0}.separator[_ngcontent-%COMP%]{display:flex;align-items:center;text-align:center;color:#888;font-size:14px}.separator[_ngcontent-%COMP%]:before, .separator[_ngcontent-%COMP%]:after{content:"";flex:1;border-bottom:1px solid #ddd}.separator[_ngcontent-%COMP%]:before{margin-right:1em}.separator[_ngcontent-%COMP%]:after{margin-left:1em}.google-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#fff;border:1px solid #ddd;color:#333;padding:12px;font-weight:500}.google-btn[_ngcontent-%COMP%]:hover{background-color:#f8f8f8;color:#333}@media (max-width: 576px){.auth-card[_ngcontent-%COMP%]{padding:20px 15px}.brand-name[_ngcontent-%COMP%]{font-size:20px}.form-control[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]{padding:10px}}']})};var k3=()=>["Planned","Executing","Completed"],_f=(n,t)=>({"text-success":n,"text-danger":t}),N3=(n,t,e)=>({"bg-warning text-dark":n,"bg-info text-dark":t,"bg-success":e});function P3(n,t){if(n&1&&(u(0,"option",21),f(1),c()),n&2){let e=t.$implicit,r=b();g("value",e.account_id)("selected",e.account_id===r.tradeAccountId),h(),O(" ",e.account_name," ")}}function O3(n,t){if(n&1){let e=Q();u(0,"li",22)(1,"a",23),S("click",function(){let i=I(e).$implicit,o=b();return T(o.activeTab=i)}),f(2),c()()}if(n&2){let e=t.$implicit,r=b();h(),xe("active",r.activeTab===e),h(),L(e==="Executing"?"Executing Trades":e==="Planned"?"Planned Trades":"Completed Trades")}}function R3(n,t){n&1&&(u(0,"div",24),f(1,"Loading trade logs..."),c())}function F3(n,t){if(n&1&&(u(0,"div",25),f(1),c()),n&2){let e=b();h(),L(e.errorMessage)}}function L3(n,t){n&1&&(u(0,"tr")(1,"th"),f(2,"Symbol"),c(),u(3,"th"),f(4,"Direction"),c(),u(5,"th"),f(6,"Entry Price"),c(),u(7,"th"),f(8,"Strategy"),c(),u(9,"th"),f(10,"Emotional State"),c(),u(11,"th"),f(12,"Date"),c(),u(13,"th"),f(14,"Status"),c(),u(15,"th"),f(16,"Actions"),c()())}function V3(n,t){n&1&&(u(0,"tr")(1,"th"),f(2,"Symbol"),c(),u(3,"th"),f(4,"Direction"),c(),u(5,"th"),f(6,"Entry Price"),c(),u(7,"th"),f(8,"Exit Price"),c(),u(9,"th"),f(10,"P&L"),c(),u(11,"th"),f(12,"Margin %"),c(),u(13,"th"),f(14,"RR Ratio"),c(),u(15,"th"),f(16,"Entry Date"),c(),u(17,"th"),f(18,"Exit Date"),c(),u(19,"th"),f(20,"Actions"),c()())}function j3(n,t){if(n&1){let e=Q();u(0,"button",39),S("click",function(i){I(e);let o=b().$implicit,s=b(3);return T(s.markAsExecuted(o,i))}),f(1,"Trade Executed"),c()}}function U3(n,t){if(n&1){let e=Q();u(0,"button",40),S("click",function(i){I(e);let o=b().$implicit,s=b(3);return T(s.openCompleteModal(o,i))}),f(1,"Complete Trade"),c()}}function B3(n,t){if(n&1){let e=Q();u(0,"tr")(1,"td",32),f(2),c(),u(3,"td",33),f(4),c(),u(5,"td"),f(6),c(),u(7,"td"),f(8),c(),u(9,"td"),f(10),c(),u(11,"td"),f(12),c(),u(13,"td")(14,"span",34),f(15),c()(),u(16,"td")(17,"button",35),S("click",function(){let i=I(e).$implicit,o=b(3);return T(o.openEditModal(i))}),f(18,"Edit"),c(),E(19,j3,2,0,"button",36)(20,U3,2,0,"button",37),u(21,"button",38),S("click",function(i){let o=I(e).$implicit,s=b(3);return T(s.onDeleteTradeLog(o,i))}),f(22,"Delete"),c()()()}if(n&2){let e=t.$implicit,r=b(3);h(2),L(e.trade_symbol),h(),g("ngClass",Dt(11,_f,r.getDirection(e)==="LONG",r.getDirection(e)==="SHORT")),h(),L(r.getDirection(e)),h(2),O("$",r.getEntryPrice(e),""),h(2),L(e.strategy_name),h(2),L(r.getEmotion(e)),h(2),L(r.getTradeDate(e)),h(2),g("ngClass",qi(14,N3,e.trade_status==="Planned",e.trade_status==="Executing",e.trade_status==="Completed")),h(),L(e.trade_status.toLowerCase()),h(4),g("ngIf",e.trade_status==="Planned"),h(),g("ngIf",e.trade_status==="Executing")}}function $3(n,t){if(n&1&&(st(0),E(1,B3,23,18,"tr",31),at()),n&2){let e=b(2);h(),g("ngForOf",e.filteredTrades)}}function H3(n,t){if(n&1){let e=Q();u(0,"tr")(1,"td",32),f(2),c(),u(3,"td",33),f(4),c(),u(5,"td"),f(6),c(),u(7,"td"),f(8),c(),u(9,"td",33),f(10),Fe(11,"number"),c(),u(12,"td",33),f(13),Fe(14,"number"),c(),u(15,"td"),f(16),c(),u(17,"td"),f(18),c(),u(19,"td"),f(20),c(),u(21,"td")(22,"button",41),S("click",function(){let i=I(e).$implicit,o=b(3);return T(o.viewAnalysis(i))}),f(23,"View Analysis"),c()()()}if(n&2){let e=t.$implicit,r=b(3);h(2),L(e.trade_symbol),h(),g("ngClass",Dt(18,_f,r.getDirection(e)==="LONG",r.getDirection(e)==="SHORT")),h(),L(r.getDirection(e)),h(2),O("$",r.getEntryPrice(e),""),h(2),O("$",r.getExitPrice(e),""),h(),g("ngClass",Dt(21,_f,r.getPL(e)>0,r.getPL(e)<0)),h(),O("$",Le(11,12,r.getPL(e),"1.2-2"),""),h(2),g("ngClass",Dt(24,_f,r.getMargin(e)>0,r.getMargin(e)<0)),h(),O("",Le(14,15,r.getMargin(e),"1.2-2"),"%"),h(3),L(r.getRR(e)),h(2),L(r.getEntryDate(e)),h(2),L(r.getExitDate(e))}}function z3(n,t){if(n&1&&(st(0),E(1,H3,24,27,"tr",31),at()),n&2){let e=b(2);h(),g("ngForOf",e.filteredTrades)}}function q3(n,t){if(n&1&&(u(0,"div")(1,"div",26)(2,"div",27)(3,"h4",7),f(4),c(),u(5,"div",8),f(6),c()(),u(7,"div",28)(8,"table",29)(9,"thead"),E(10,L3,17,0,"tr",18)(11,V3,21,0,"tr",18),c(),u(12,"tbody"),E(13,$3,2,1,"ng-container",18)(14,z3,2,1,"ng-container",18),c()()(),u(15,"div",30),f(16),c()()()),n&2){let e=b();h(4),O(" ",e.activeTab==="Completed"?"Your Completed Trades":"Your Trade Plans"," "),h(2),O(" ",e.activeTab==="Completed"?"Review the performance of your completed trades":"Review and manage your "+e.activeTab.toLowerCase()+" trades"," "),h(4),g("ngIf",e.activeTab!=="Completed"),h(),g("ngIf",e.activeTab==="Completed"),h(2),g("ngIf",e.activeTab!=="Completed"),h(),g("ngIf",e.activeTab==="Completed"),h(2),O(" ",e.activeTab==="Completed"?"A list of your completed trades with performance metrics.":"A list of your recent trade plans."," ")}}function G3(n,t){n&1&&(u(0,"div",42),f(1," No trade logs found for this tab. "),c())}function W3(n,t){if(n&1){let e=Q();u(0,"div",43),S("click",function(i){I(e);let o=b();return T(o.closeModalOnOverlayClick(i))}),u(1,"div",44),S("click",function(i){return I(e),T(i.stopPropagation())}),u(2,"app-individual-trade",45),S("formSubmitted",function(){I(e);let i=b();return T(i.onFormSubmitted())})("cancel",function(){I(e);let i=b();return T(i.closeModal())}),c()()()}if(n&2){let e=b();h(2),g("tradeData",e.selectedTradeLog)("mode",e.modalMode)("tradeAccountId",e.tradeAccountId)}}var bf=class n{constructor(t,e,r){this.supabaseTradeTableService=t;this.supabaseAccountService=e;this.cdr=r}tableName="tradejournal";tradeLogs=[];tradeAccounts=[];loading=!1;errorMessage="";tradeAccountId="";activeTab="Planned";get filteredTrades(){return this.tradeLogs.filter(t=>(t.trade_status||"").toLowerCase()===this.activeTab.toLowerCase())}showModal=!1;selectedTradeLog=null;modalMode="create";tradeStatus=[{status:"Planned",title:"Planning Phase"},{status:"Executing",title:"Executing Phase"},{status:"Completed",title:"Completed Phase"}];async ngOnInit(){this.loading=!0;try{await this.fetchTradeAccounts(),await this.fetchTradeLogs(),this.loading=!1,this.cdr.markForCheck()}catch{this.loading=!1,this.cdr.markForCheck()}}async fetchTradeLogs(){try{let t=await this.supabaseTradeTableService.getTradeLogsOfSelectedAccount(this.tableName,this.tradeAccountId);this.tradeLogs=t.sort((e,r)=>new Date(r.updated_time).getTime()-new Date(e.updated_time).getTime()),this.cdr.markForCheck()}catch(t){console.error("Error fetching trade logs:",t),this.errorMessage="Error fetching trade logs."}}getDirection(t){let e="";return t.planned_trade&&Array.isArray(t.planned_trade)&&t.planned_trade[0]?.trade_direction?e=t.planned_trade[0].trade_direction:t.executing_trades&&Array.isArray(t.executing_trades)&&t.executing_trades[0]?.trade_direction?e=t.executing_trades[0].trade_direction:t.trade_direction&&(e=t.trade_direction),e?e.toUpperCase():""}getEntryPrice(t){let e="";return t.planned_trade&&Array.isArray(t.planned_trade)&&t.planned_trade[0]?.entry_price?e=t.planned_trade[0].entry_price:t.executing_trades&&Array.isArray(t.executing_trades)&&t.executing_trades[0]?.entry_price?e=t.executing_trades[0].entry_price:t.entry_price&&(e=t.entry_price),e!==void 0?e:""}getExitPrice(t){return t.executing_trades&&Array.isArray(t.executing_trades)&&t.executing_trades[0]?.exit_price?t.executing_trades[0].exit_price:t.exit_price?t.exit_price:""}getPL(t){let e=parseFloat(this.getEntryPrice(t)),r=parseFloat(this.getExitPrice(t));return!isNaN(e)&&!isNaN(r)?+(r-e).toFixed(2):0}getMargin(t){let e=parseFloat(this.getEntryPrice(t)),r=parseFloat(this.getExitPrice(t));return!isNaN(e)&&e!==0&&!isNaN(r)?+((r-e)/e*100).toFixed(2):0}getRR(t){return t.rr_ratio!==void 0?t.rr_ratio:t.executing_trades&&Array.isArray(t.executing_trades)&&t.executing_trades[0]?.rr_ratio!==void 0?t.executing_trades[0].rr_ratio:""}getEntryDate(t){return t.executing_trades&&Array.isArray(t.executing_trades)&&t.executing_trades[0]?.entry_time?new Date(t.executing_trades[0].entry_time).toLocaleDateString():t.created_at?new Date(t.created_at).toLocaleDateString():""}getExitDate(t){return t.executing_trades&&Array.isArray(t.executing_trades)&&t.executing_trades[0]?.exit_time?new Date(t.executing_trades[0].exit_time).toLocaleDateString():t.updated_time?new Date(t.updated_time).toLocaleDateString():""}getTradeDate(t){return t.created_at?new Date(t.created_at).toLocaleDateString():""}viewAnalysis(t){this.selectedTradeLog=t,this.showModal=!0,this.modalMode="view"}async markAsExecuted(t,e){e.stopPropagation();try{let r=G(N({},t),{trade_status:"Executing"});await this.supabaseTradeTableService.updateTradeLogOfSelectedAccount(r,this.tableName,this.tradeAccountId),await this.fetchTradeLogs(),this.cdr.markForCheck()}catch{this.errorMessage="Error updating trade status."}}async fetchTradeAccounts(){try{if(this.tradeAccounts=await this.supabaseAccountService.getUserTradeAccounts(),this.tradeAccounts.length===0)throw this.errorMessage="No trade accounts found. Create trade account before logging trades.",new Error("No trade accounts found.");!this.tradeAccountId&&this.tradeAccounts.length>0&&(this.tradeAccountId=this.tradeAccounts[0].account_id),this.cdr.markForCheck()}catch{throw this.errorMessage="No trade accounts found. Create trade account before logging trades.",this.cdr.markForCheck(),new Error("No trade accounts found.")}}onAccountChange(t){let e=t.target;this.tradeAccountId=e.value,this.fetchTradeLogs(),this.cdr.markForCheck()}openCompleteModal(t,e){e&&e.stopPropagation(),this.selectedTradeLog=t,this.showModal=!0,this.modalMode="complete"}openEditModal(t){this.selectedTradeLog=t,this.showModal=!0,this.modalMode="edit"}async openAddModal(){await this.supabaseTradeTableService.canLogTrade()?(this.selectedTradeLog=null,this.showModal=!0,this.modalMode="create",this.cdr.markForCheck()):(this.errorMessage="You have reached the limit for today's trades logging",this.cdr.markForCheck())}onFormSubmitted(){this.fetchTradeLogs(),this.closeModal(),this.cdr.markForCheck()}closeModal(){this.showModal=!1,this.selectedTradeLog=null,this.cdr.markForCheck()}closeModalOnOverlayClick(t){this.closeModal(),this.cdr.markForCheck()}getEmotion(t){var e="None";return t.trade_status!=="Completed"?e=t.emotion_before.emotional_state_before:e=t.emotion_after.emotional_state_after,e}async onDeleteTradeLog(t,e){e.stopPropagation();try{await this.supabaseTradeTableService.deleteTradeLogOfSelectedAccount(t.tradeid,this.tableName,this.tradeAccountId),await this.fetchTradeLogs(),this.cdr.markForCheck()}catch(r){console.error("Error deleting trade log:",r),this.errorMessage="Error deleting trade log."}}static \u0275fac=function(e){return new(e||n)(D(Tt),D(en),D(ie))};static \u0275cmp=V({type:n,selectors:[["app-trade-journal"]],decls:29,vars:8,consts:[[1,"container","mt-3"],["aria-label","breadcrumb",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/home",1,"text-decoration-none"],["aria-current","page",1,"breadcrumb-item","active"],[1,"d-flex","justify-content-between","align-items-center"],[1,"fw-bold","mb-0"],[1,"text-muted"],[1,"btn","btn-primary",3,"click"],[1,"form-group","mt-4","mb-3"],["for","accountSelector"],["id","accountSelector",1,"form-control","w-auto","d-inline-block","ms-2","btn","btn-tr",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],[1,"nav","nav-tabs","mt-4","mb-3"],["class","nav-item",4,"ngFor","ngForOf"],["class","alert alert-info",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[4,"ngIf"],["class","alert alert-warning mt-4",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[3,"value","selected"],[1,"nav-item"],[1,"nav-link",3,"click"],[1,"alert","alert-info"],[1,"alert","alert-danger"],[1,"card","p-4"],[1,"mb-2"],[1,"table-responsive"],[1,"table","align-middle"],[1,"text-muted","mt-2",2,"font-size","0.95em"],[4,"ngFor","ngForOf"],[1,"fw-bold"],[3,"ngClass"],[1,"badge",3,"ngClass"],[1,"btn","btn-outline-secondary","btn-sm","me-1",3,"click"],["class","btn btn-outline-warning btn-sm me-1",3,"click",4,"ngIf"],["class","btn btn-outline-success btn-sm me-1",3,"click",4,"ngIf"],[1,"btn","btn-outline-danger","btn-sm",3,"click"],[1,"btn","btn-outline-warning","btn-sm","me-1",3,"click"],[1,"btn","btn-outline-success","btn-sm","me-1",3,"click"],[1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"alert","alert-warning","mt-4"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[3,"formSubmitted","cancel","tradeData","mode","tradeAccountId"]],template:function(e,r){e&1&&(u(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),f(5,"Dashboard"),c()(),u(6,"li",5),f(7,"Trade Journal"),c()()(),u(8,"div",6)(9,"div")(10,"h2",7),f(11,"Trading Dashboard"),c(),u(12,"div",8),f(13,"Manage your trades from planning to completion"),c()(),u(14,"button",9),S("click",function(){return r.openAddModal()}),f(15," New Trade Plan "),c()(),u(16,"div",10)(17,"label",11)(18,"strong"),f(19,"Trading Account:"),c()(),u(20,"select",12),S("change",function(o){return r.onAccountChange(o)}),E(21,P3,2,3,"option",13),c()(),u(22,"ul",14),E(23,O3,3,3,"li",15),c(),E(24,R3,2,0,"div",16)(25,F3,2,1,"div",17)(26,q3,17,7,"div",18)(27,G3,2,0,"div",19),c(),E(28,W3,3,3,"div",20)),e&2&&(h(21),g("ngForOf",r.tradeAccounts),h(2),g("ngForOf",fu(7,k3)),h(),g("ngIf",r.loading),h(),g("ngIf",r.errorMessage),h(),g("ngIf",r.filteredTrades.length>0),h(),g("ngIf",!r.loading&&r.filteredTrades.length===0),h(),g("ngIf",r.showModal))},dependencies:[Ce,Zt,Jt,B,xt,He,Y,es,Ps,ze],styles:[".card[_ngcontent-%COMP%]{transition:transform .2s}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.trade-status-indicator[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px;padding:5px 10px;border-radius:5px;color:#fff;font-size:.7rem}.status-planned[_ngcontent-%COMP%]{background-color:#007bff}.status-executing[_ngcontent-%COMP%]{background-color:#ffc107}.status-completed[_ngcontent-%COMP%]{background-color:#28a745}.status-planned-card[_ngcontent-%COMP%]{border-left:4px solid #007bff!important}.status-executing-card[_ngcontent-%COMP%]{border-left:4px solid #ffc107!important}.status-completed-card[_ngcontent-%COMP%]{border-left:4px solid #28a745!important}.delete-icon[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;display:none;color:red;cursor:pointer}.card[_ngcontent-%COMP%]:hover   .delete-icon[_ngcontent-%COMP%]{display:block}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100dvw;height:100dvh;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1050}.modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:8px;max-width:90vw;position:relative;max-height:98dvh;overflow-y:auto}"]})};var wf=class n{constructor(t){this.supabaseService=t;this.supabase=this.supabaseService.GetClient()}supabase;async getTradeAnalytics(){let t=this.supabaseService.user();if(!t)throw new Error("User not authenticated");let{data:e,error:r}=await this.supabase.rpc("get_user_trade_analytics",{user_id:t.id});if(r)throw console.error("Error fetching trade analytics:",r),r;return e}static \u0275fac=function(e){return new(e||n)(F(Se))};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})};function K3(n,t){if(n&1&&(u(0,"div",18)(1,"div",19)(2,"div",7)(3,"div",20),f(4),c(),u(5,"h6",16),f(6),c(),u(7,"p",21),f(8),Fe(9,"number"),c()()()()),n&2){let e=t.$implicit;h(4),L(e.icon),h(2),L(e.label),h(2),L(e.format?Le(9,3,e.value,e.format):e.value)}}function Y3(n,t){if(n&1&&(u(0,"div",22)(1,"div",19)(2,"div",7)(3,"div",23),f(4),c(),u(5,"h6",16),f(6),c(),u(7,"p",24),f(8),Fe(9,"number"),c()()()()),n&2){let e=t.$implicit;h(4),L(e.icon),h(2),L(e.label),h(2),L(Le(9,3,e.value,e.format))}}function Z3(n,t){if(n&1&&(u(0,"div",1)(1,"h3",2),f(2,"\u{1F4CA} Trade Analytics Overview"),c(),u(3,"div",3),E(4,K3,10,6,"div",4),c(),u(5,"div",3)(6,"div",5)(7,"div",6)(8,"div",7)(9,"h6",8),f(10,"\u{1F3C6} Win Rate"),c(),u(11,"div",9)(12,"div",10),f(13),Fe(14,"number"),c()()()()(),u(15,"div",5)(16,"div",6)(17,"div",7)(18,"h6",8),f(19,"\u{1F4C9} Loss Rate"),c(),u(20,"div",9)(21,"div",11),f(22),Fe(23,"number"),c()()()()()(),u(24,"div",12),E(25,Y3,10,6,"div",13),c(),u(26,"div",14)(27,"div",5)(28,"div",15)(29,"div",7)(30,"h6",16),f(31,"\u23F1\uFE0F Avg Trade Duration (Seconds)"),c(),u(32,"p",17),f(33),Fe(34,"number"),c()()()(),u(35,"div",5)(36,"div",15)(37,"div",7)(38,"h6",16),f(39,"\u{1F3AF} Avg Entry Slippage"),c(),u(40,"p",17),f(41),Fe(42,"number"),c()()()()()()),n&2){let e=b();h(4),g("ngForOf",e.kpiList),h(8),Rt("width",e.analytics.win_rate*100,"%"),h(),O(" ",Le(14,10,e.analytics.win_rate*100,"1.0-0"),"% "),h(8),Rt("width",e.analytics.loss_rate*100,"%"),h(),O(" ",Le(23,13,e.analytics.loss_rate*100,"1.0-0"),"% "),h(3),g("ngForOf",e.extraStats),h(8),L(Le(34,16,e.analytics.average_trade_duration_seconds,"1.0-0")),h(8),L(Le(42,19,e.analytics.average_entry_slippage,"1.2-2"))}}var Cf=class n{constructor(t){this.supabaseAnalytic=t}analytics=null;kpiList=[];extraStats=[];async ngOnInit(){this.analytics=await this.supabaseAnalytic.getTradeAnalytics(),this.analytics&&this.initializeCards(),console.log(this.analytics)}initializeCards(){this.kpiList=[{label:"Discipline Score",value:this.analytics.discipline_score,icon:"\u{1F3AF}",format:"1.1-1"},{label:"Profit Factor",value:this.analytics.profit_factor,icon:"\u{1F4B0}",format:"1.2-2"},{label:"Total P/L ($)",value:this.analytics.total_realized_profit,icon:"\u{1F4B5}",format:"1.2-2"},{label:"Avg P/L ($)",value:this.analytics.average_profit_per_trade,icon:"\u2696\uFE0F",format:"1.2-2"}],this.extraStats=[{label:"Avg. Confidence Drift (During)",value:this.analytics.avg_confidence_drift_before_during,icon:"\u{1F9E0}",format:"1.1-1"},{label:"Avg. Confidence Drift (After)",value:this.analytics.avg_confidence_drift_before_after,icon:"\u{1F9D8}",format:"1.1-1"},{label:"Avg. Risk/Reward Ratio",value:this.analytics.average_risk_reward_ratio,icon:"\u{1F3B2}",format:"1.2-2"}]}static \u0275fac=function(e){return new(e||n)(D(wf))};static \u0275cmp=V({type:n,selectors:[["app-trade-analytic"]],decls:1,vars:1,consts:[["class","container mt-4",4,"ngIf"],[1,"container","mt-4"],[1,"text-center","mb-4","fw-bold"],[1,"row","g-3","mb-4"],["class","col-md-3",4,"ngFor","ngForOf"],[1,"col-md-6"],[1,"card","shadow","border-0"],[1,"card-body"],[1,"mb-2","fw-bold"],[1,"progress",2,"height","20px"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-success"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-danger"],[1,"row","g-3"],["class","col-md-4",4,"ngFor","ngForOf"],[1,"row","g-3","mt-4"],[1,"card","text-center","shadow","border-0"],[1,"text-muted"],[1,"h4","fw-bold","text-info","mt-2"],[1,"col-md-3"],[1,"card","text-center","shadow","border-0","h-100"],[1,"display-6","mb-2"],[1,"h5","fw-bold","mt-2","text-primary"],[1,"col-md-4"],[1,"mb-1"],[1,"h5","fw-bold","mt-2","text-dark"]],template:function(e,r){e&1&&E(0,Z3,43,22,"div",0),e&2&&g("ngIf",r.analytics)},dependencies:[B,He,Y,es],styles:[".card[_ngcontent-%COMP%]{transition:transform .3s ease,box-shadow .3s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 4px 16px #00000026}.progress-bar[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600}"]})};var a1=[{path:"",component:Hd,canActivate:[al]},{path:"home",component:Dd,canActivate:[ft]},{path:"pretrades",component:Vd,canActivate:[ft]},{path:"pretradelog",component:Ts,canActivate:[ft]},{path:"posttrades",component:jd,canActivate:[ft]},{path:"posttradelog",component:Ms,canActivate:[ft]},{path:"emotions",component:gf,canActivate:[ft]},{path:"tradejournal",component:bf,canActivate:[ft]},{path:"individualTrade",component:Ps,canActivate:[ft]},{path:"meditationhub",component:Zd,canActivate:[ft]},{path:"analytics",component:Cf,canActivate:[ft]},{path:"tradeaccounts",component:uf,canActivate:[ft]},{path:"useraccount",component:df,canActivate:[ft]},{path:"admin/emotionquestion",component:Ud,canActivate:[ft]},{path:"admin/meditationvideo",component:pf,canActivate:[ft]},{path:"auth/forgot-password",component:vf,canActivate:[al]},{path:"auth/update-password",component:yf,canActivate:[ft]},{path:"**",redirectTo:""}];function l1(n){return new k(3e3,!1)}function J3(){return new k(3100,!1)}function X3(){return new k(3101,!1)}function eV(n){return new k(3001,!1)}function tV(n){return new k(3003,!1)}function nV(n){return new k(3004,!1)}function rV(n,t){return new k(3005,!1)}function iV(){return new k(3006,!1)}function oV(){return new k(3007,!1)}function sV(n,t){return new k(3008,!1)}function aV(n){return new k(3002,!1)}function lV(n,t,e,r,i){return new k(3010,!1)}function cV(){return new k(3011,!1)}function uV(){return new k(3012,!1)}function dV(){return new k(3200,!1)}function fV(){return new k(3202,!1)}function pV(){return new k(3013,!1)}function hV(n){return new k(3014,!1)}function mV(n){return new k(3015,!1)}function gV(n){return new k(3016,!1)}function vV(n,t){return new k(3404,!1)}function yV(n){return new k(3502,!1)}function _V(n){return new k(3503,!1)}function bV(){return new k(3300,!1)}function wV(n){return new k(3504,!1)}function CV(n){return new k(3301,!1)}function EV(n,t){return new k(3302,!1)}function SV(n){return new k(3303,!1)}function DV(n,t){return new k(3400,!1)}function xV(n){return new k(3401,!1)}function IV(n){return new k(3402,!1)}function TV(n,t){return new k(3505,!1)}function _i(n){switch(n.length){case 0:return new vi;case 1:return n[0];default:return new gl(n)}}function C1(n,t,e=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(t.forEach(l=>{let d=l.get("offset"),p=d==s,m=p&&a||new Map;l.forEach((y,v)=>{let w=v,C=y;if(v!=="offset")switch(w=n.normalizePropertyName(w,i),C){case mf:C=e.get(v);break;case dr:C=r.get(v);break;default:C=n.normalizeStyleValue(v,w,C,i);break}m.set(w,C)}),p||o.push(m),a=m,s=d}),i.length)throw yV(i);return o}function rv(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&F0(e,"start",n)));break;case"done":n.onDone(()=>r(e&&F0(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&F0(e,"destroy",n)));break}}function F0(n,t,e){let r=e.totalTime,i=!!e.disabled,o=iv(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,r??n.totalTime,i),s=n._data;return s!=null&&(o._data=s),o}function iv(n,t,e,r,i="",o=0,s){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function _n(n,t,e){let r=n.get(t);return r||n.set(t,r=e),r}function c1(n){let t=n.indexOf(":"),e=n.substring(1,t),r=n.slice(t+1);return[e,r]}var MV=typeof document>"u"?null:document.documentElement;function ov(n){let t=n.parentNode||n.host||null;return t===MV?null:t}function AV(n){return n.substring(1,6)=="ebkit"}var po=null,u1=!1;function kV(n){po||(po=NV()||{},u1=po.style?"WebkitAppearance"in po.style:!1);let t=!0;return po.style&&!AV(n)&&(t=n in po.style,!t&&u1&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in po.style)),t}function NV(){return typeof document<"u"?document.body:null}function E1(n,t){for(;t;){if(t===n)return!0;t=ov(t)}return!1}function S1(n,t,e){if(e)return Array.from(n.querySelectorAll(t));let r=n.querySelector(t);return r?[r]:[]}var sv=(()=>{class n{validateStyleProperty(e){return kV(e)}containsElement(e,r){return E1(e,r)}getParentElement(e){return ov(e)}query(e,r,i){return S1(e,r,i)}computeStyle(e,r,i){return i||""}animate(e,r,i,o,s,a=[],l){return new vi(i,o)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac})}return n})(),go=class{static NOOP=new sv},vo=class{};var PV=1e3,D1="{{",OV="}}",x1="ng-enter",$0="ng-leave",Ef="ng-trigger",Tf=".ng-trigger",d1="ng-animating",H0=".ng-animating";function qr(n){if(typeof n=="number")return n;let t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:z0(parseFloat(t[1]),t[2])}function z0(n,t){switch(t){case"s":return n*PV;default:return n}}function Mf(n,t,e){return n.hasOwnProperty("duration")?n:RV(n,t,e)}function RV(n,t,e){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof n=="string"){let a=n.match(r);if(a===null)return t.push(l1(n)),{duration:0,delay:0,easing:""};i=z0(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(o=z0(parseFloat(l),a[4]));let d=a[5];d&&(s=d)}else i=n;if(!e){let a=!1,l=t.length;i<0&&(t.push(J3()),a=!0),o<0&&(t.push(X3()),a=!0),a&&t.splice(l,0,l1(n))}return{duration:i,delay:o,easing:s}}function FV(n){return n.length?n[0]instanceof Map?n:n.map(t=>new Map(Object.entries(t))):[]}function hr(n,t,e){t.forEach((r,i)=>{let o=av(i);e&&!e.has(i)&&e.set(i,n.style[o]),n.style[o]=r})}function mo(n,t){t.forEach((e,r)=>{let i=av(r);n.style[i]=""})}function vl(n){return Array.isArray(n)?n.length==1?n[0]:s1(n):n}function LV(n,t,e){let r=t.params||{},i=I1(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||e.push(eV(o))})}var q0=new RegExp(`${D1}\\s*(.+?)\\s*${OV}`,"g");function I1(n){let t=[];if(typeof n=="string"){let e;for(;e=q0.exec(n);)t.push(e[1]);q0.lastIndex=0}return t}function _l(n,t,e){let r=`${n}`,i=r.replace(q0,(o,s)=>{let a=t[s];return a==null&&(e.push(tV(s)),a=""),a.toString()});return i==r?n:i}var VV=/-+([a-z0-9])/g;function av(n){return n.replace(VV,(...t)=>t[1].toUpperCase())}function jV(n,t){return n===0||t===0}function UV(n,t,e){if(e.size&&t.length){let r=t[0],i=[];if(e.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<t.length;o++){let s=t[o];i.forEach(a=>s.set(a,lv(n,a)))}}return t}function yn(n,t,e){switch(t.type){case re.Trigger:return n.visitTrigger(t,e);case re.State:return n.visitState(t,e);case re.Transition:return n.visitTransition(t,e);case re.Sequence:return n.visitSequence(t,e);case re.Group:return n.visitGroup(t,e);case re.Animate:return n.visitAnimate(t,e);case re.Keyframes:return n.visitKeyframes(t,e);case re.Style:return n.visitStyle(t,e);case re.Reference:return n.visitReference(t,e);case re.AnimateChild:return n.visitAnimateChild(t,e);case re.AnimateRef:return n.visitAnimateRef(t,e);case re.Query:return n.visitQuery(t,e);case re.Stagger:return n.visitStagger(t,e);default:throw nV(t.type)}}function lv(n,t){return window.getComputedStyle(n)[t]}var BV=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Af=class extends vo{normalizePropertyName(t,e){return av(t)}normalizeStyleValue(t,e,r,i){let o="",s=r.toString().trim();if(BV.has(e)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(rV(t,r))}return s+o}};var kf="*";function $V(n,t){let e=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>HV(r,e,t)):e.push(n),e}function HV(n,t,e){if(n[0]==":"){let l=zV(n,e);if(typeof l=="function"){t.push(l);return}n=l}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return e.push(mV(n)),t;let i=r[1],o=r[2],s=r[3];t.push(f1(i,s));let a=i==kf&&s==kf;o[0]=="<"&&!a&&t.push(f1(s,i))}function zV(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(gV(n)),"* => *"}}var Sf=new Set(["true","1"]),Df=new Set(["false","0"]);function f1(n,t){let e=Sf.has(n)||Df.has(n),r=Sf.has(t)||Df.has(t);return(i,o)=>{let s=n==kf||n==i,a=t==kf||t==o;return!s&&e&&typeof i=="boolean"&&(s=i?Sf.has(n):Df.has(n)),!a&&r&&typeof o=="boolean"&&(a=o?Sf.has(t):Df.has(t)),s&&a}}var T1=":self",qV=new RegExp(`s*${T1}s*,?`,"g");function M1(n,t,e,r){return new G0(n).build(t,e,r)}var p1="",G0=class{_driver;constructor(t){this._driver=t}build(t,e,r){let i=new W0(e);return this._resetContextStyleTimingState(i),yn(this,vl(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector=p1,t.collectedStyles=new Map,t.collectedStyles.set(p1,new Map),t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,i=e.depCount=0,o=[],s=[];return t.name.charAt(0)=="@"&&e.errors.push(iV()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),a.type==re.State){let l=a,d=l.name;d.toString().split(/\s*,\s*/).forEach(p=>{l.name=p,o.push(this.visitState(l,e))}),l.name=d}else if(a.type==re.Transition){let l=this.visitTransition(a,e);r+=l.queryCount,i+=l.depCount,s.push(l)}else e.errors.push(oV())}),{type:re.Trigger,name:t.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(t,e){let r=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{I1(l).forEach(d=>{s.hasOwnProperty(d)||o.add(d)})})}),o.size&&e.errors.push(sV(t.name,[...o.values()]))}return{type:re.State,name:t.name,style:r,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;let r=yn(this,vl(t.animation),e),i=$V(t.expr,e.errors);return{type:re.Transition,matchers:i,animation:r,queryCount:e.queryCount,depCount:e.depCount,options:ho(t.options)}}visitSequence(t,e){return{type:re.Sequence,steps:t.steps.map(r=>yn(this,r,e)),options:ho(t.options)}}visitGroup(t,e){let r=e.currentTime,i=0,o=t.steps.map(s=>{e.currentTime=r;let a=yn(this,s,e);return i=Math.max(i,e.currentTime),a});return e.currentTime=i,{type:re.Group,steps:o,options:ho(t.options)}}visitAnimate(t,e){let r=KV(t.timings,e.errors);e.currentAnimateTimings=r;let i,o=t.styles?t.styles:tn({});if(o.type==re.Keyframes)i=this.visitKeyframes(o,e);else{let s=t.styles,a=!1;if(!s){a=!0;let d={};r.easing&&(d.easing=r.easing),s=tn(d)}e.currentTime+=r.duration+r.delay;let l=this.visitStyle(s,e);l.isEmptyStep=a,i=l}return e.currentAnimateTimings=null,{type:re.Animate,timings:r,style:i,options:null}}visitStyle(t,e){let r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){let r=[],i=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of i)typeof a=="string"?a===dr?r.push(a):e.errors.push(aV(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let l of a.values())if(l.toString().indexOf(D1)>=0){o=!0;break}}}),{type:re.Style,styles:r,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){let r=e.currentAnimateTimings,i=e.currentTime,o=e.currentTime;r&&o>0&&(o-=r.duration+r.delay),t.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,l)=>{let d=e.collectedStyles.get(e.currentQuerySelector),p=d.get(l),m=!0;p&&(o!=i&&o>=p.startTime&&i<=p.endTime&&(e.errors.push(lV(l,p.startTime,p.endTime,o,i)),m=!1),o=p.startTime),m&&d.set(l,{startTime:o,endTime:i}),e.options&&LV(a,e.options,e.errors)})})}visitKeyframes(t,e){let r={type:re.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(cV()),r;let i=1,o=0,s=[],a=!1,l=!1,d=0,p=t.steps.map(A=>{let j=this._makeStyleAst(A,e),U=j.offset!=null?j.offset:QV(j.styles),q=0;return U!=null&&(o++,q=j.offset=U),l=l||q<0||q>1,a=a||q<d,d=q,s.push(q),j});l&&e.errors.push(uV()),a&&e.errors.push(dV());let m=t.steps.length,y=0;o>0&&o<m?e.errors.push(fV()):o==0&&(y=i/(m-1));let v=m-1,w=e.currentTime,C=e.currentAnimateTimings,x=C.duration;return p.forEach((A,j)=>{let U=y>0?j==v?1:y*j:s[j],q=U*x;e.currentTime=w+C.delay+q,C.duration=q,this._validateStyleAst(A,e),A.offset=U,r.styles.push(A)}),r}visitReference(t,e){return{type:re.Reference,animation:yn(this,vl(t.animation),e),options:ho(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:re.AnimateChild,options:ho(t.options)}}visitAnimateRef(t,e){return{type:re.AnimateRef,animation:this.visitReference(t.animation,e),options:ho(t.options)}}visitQuery(t,e){let r=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;let[o,s]=GV(t.selector);e.currentQuerySelector=r.length?r+" "+o:o,_n(e.collectedStyles,e.currentQuerySelector,new Map);let a=yn(this,vl(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:re.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:ho(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(pV());let r=t.timings==="full"?{duration:0,delay:0,easing:"full"}:Mf(t.timings,e.errors,!0);return{type:re.Stagger,animation:yn(this,vl(t.animation),e),timings:r,options:null}}};function GV(n){let t=!!n.split(/\s*,\s*/).find(e=>e==T1);return t&&(n=n.replace(qV,"")),n=n.replace(/@\*/g,Tf).replace(/@\w+/g,e=>Tf+"-"+e.slice(1)).replace(/:animating/g,H0),[n,t]}function WV(n){return n?N({},n):null}var W0=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(t){this.errors=t}};function QV(n){if(typeof n=="string")return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){let r=e;t=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}function KV(n,t){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=Mf(n,t).duration;return L0(o,0,"")}let e=n;if(e.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=L0(0,0,"");return o.dynamic=!0,o.strValue=e,o}let i=Mf(e,t);return L0(i.duration,i.delay,i.easing)}function ho(n){return n?(n=N({},n),n.params&&(n.params=WV(n.params))):n={},n}function L0(n,t,e){return{duration:n,delay:t,easing:e}}function cv(n,t,e,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var bl=class{_map=new Map;get(t){return this._map.get(t)||[]}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}},YV=1,ZV=":enter",JV=new RegExp(ZV,"g"),XV=":leave",ej=new RegExp(XV,"g");function A1(n,t,e,r,i,o=new Map,s=new Map,a,l,d=[]){return new Q0().buildKeyframes(n,t,e,r,i,o,s,a,l,d)}var Q0=class{buildKeyframes(t,e,r,i,o,s,a,l,d,p=[]){d=d||new bl;let m=new K0(t,e,d,i,o,p,[]);m.options=l;let y=l.delay?qr(l.delay):0;m.currentTimeline.delayNextStep(y),m.currentTimeline.setStyles([s],null,m.errors,l),yn(this,r,m);let v=m.timelines.filter(w=>w.containsAnimation());if(v.length&&a.size){let w;for(let C=v.length-1;C>=0;C--){let x=v[C];if(x.element===e){w=x;break}}w&&!w.allowOnlyTimelineStyles()&&w.setStyles([a],null,m.errors,l)}return v.length?v.map(w=>w.buildKeyframes()):[cv(e,[],[],[],0,y,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){let r=e.subInstructions.get(e.element);if(r){let i=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){let r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,r),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,r){for(let i of t){let o=i?.delay;if(o){let s=typeof o=="number"?o:qr(_l(o,i?.params??{},e.errors));r.delayNextStep(s)}}}_visitSubInstructions(t,e,r){let o=e.currentTimeline.currentTime,s=r.duration!=null?qr(r.duration):null,a=r.delay!=null?qr(r.delay):null;return s!==0&&t.forEach(l=>{let d=e.appendInstructionToTimeline(l,s,a);o=Math.max(o,d.duration+d.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),yn(this,t.animation,e),e.previousNode=t}visitSequence(t,e){let r=e.subContextCount,i=e,o=t.options;if(o&&(o.params||o.delay)&&(i=e.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==re.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Nf);let s=qr(o.delay);i.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>yn(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){let r=[],i=e.currentTimeline.currentTime,o=t.options&&t.options.delay?qr(t.options.delay):0;t.steps.forEach(s=>{let a=e.createSubContext(t.options);o&&a.delayNextStep(o),yn(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){let r=t.strValue,i=e.params?_l(r,e.params,e.errors):r;return Mf(i,e.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){let r=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),i.snapshotCurrentStyles());let o=t.style;o.type==re.Keyframes?this.visitKeyframes(o,e):(e.incrementTime(r.duration),this.visitStyle(o,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){let r=e.currentTimeline,i=e.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(o):r.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){let r=e.currentAnimateTimings,i=e.currentTimeline.duration,o=r.duration,a=e.createSubContext().currentTimeline;a.easing=r.easing,t.styles.forEach(l=>{let d=l.offset||0;a.forwardTime(d*o),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(i+o),e.previousNode=t}visitQuery(t,e){let r=e.currentTimeline.currentTime,i=t.options||{},o=i.delay?qr(i.delay):0;o&&(e.previousNode.type===re.Style||r==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Nf);let s=r,a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((d,p)=>{e.currentQueryIndex=p;let m=e.createSubContext(t.options,d);o&&m.delayNextStep(o),d===e.element&&(l=m.currentTimeline),yn(this,t.animation,m),m.currentTimeline.applyStylesToKeyframe();let y=m.currentTimeline.currentTime;s=Math.max(s,y)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){let r=e.parentContext,i=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1),l=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime;break}let p=e.currentTimeline;l&&p.delayNextStep(l);let m=p.currentTime;yn(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=i.currentTime-m+(i.startTime-r.currentTimeline.startTime)}},Nf={},K0=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Nf;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(t,e,r,i,o,s,a,l){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.currentTimeline=l||new Pf(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;let r=t,i=this.options;r.duration!=null&&(i.duration=qr(r.duration)),r.delay!=null&&(i.delay=qr(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=_l(o[a],s,this.errors))})}}_copyOptions(){let t={};if(this.options){let e=this.options.params;if(e){let r=t.params={};Object.keys(e).forEach(i=>{r[i]=e[i]})}}return t}createSubContext(t=null,e,r){let i=e||this.element,o=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=Nf,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){let i={duration:e??t.duration,delay:this.currentTimeline.currentTime+(r??0)+t.delay,easing:""},o=new Y0(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,i,o,s){let a=[];if(i&&a.push(this.element),t.length>0){t=t.replace(JV,"."+this._enterClassName),t=t.replace(ej,"."+this._leaveClassName);let l=r!=1,d=this._driver.query(this.element,t,l);r!==0&&(d=r<0?d.slice(d.length+r,d.length):d.slice(0,r)),a.push(...d)}return!o&&a.length==0&&s.push(hV(e)),a}},Pf=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(t,e,r,i){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new n(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=YV,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,r]of this._globalTimelineStyles)this._backFill.set(e,r||dr),this._currentKeyframe.set(e,dr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,i){e&&this._previousKeyframe.set("easing",e);let o=i&&i.params||{},s=tj(t,this._globalTimelineStyles);for(let[a,l]of s){let d=_l(l,o,r);this._pendingStyles.set(a,d),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??dr),this._updateStyle(a,d)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,r)=>{let i=this._styleSummary.get(r);(!i||e.time>i.time)&&this._updateStyle(r,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,e=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,l)=>{let d=new Map([...this._backFill,...a]);d.forEach((p,m)=>{p===mf?t.add(m):p===dr&&e.add(m)}),r||d.set("offset",l/this.duration),i.push(d)});let o=[...t.values()],s=[...e.values()];if(r){let a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return cv(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},Y0=class extends Pf{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(t,e,r,i,o,s,a=!1){super(t,e,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){let o=[],s=r+e,a=e/s,l=new Map(t[0]);l.set("offset",0),o.push(l);let d=new Map(t[0]);d.set("offset",h1(a)),o.push(d);let p=t.length-1;for(let m=1;m<=p;m++){let y=new Map(t[m]),v=y.get("offset"),w=e+v*r;y.set("offset",h1(w/s)),o.push(y)}r=s,e=0,i="",t=o}return cv(this.element,t,this.preStyleProps,this.postStyleProps,r,e,i,!0)}};function h1(n,t=3){let e=Math.pow(10,t-1);return Math.round(n*e)/e}function tj(n,t){let e=new Map,r;return n.forEach(i=>{if(i==="*"){r??=t.keys();for(let o of r)e.set(o,dr)}else for(let[o,s]of i)e.set(o,s)}),e}function m1(n,t,e,r,i,o,s,a,l,d,p,m,y){return{type:0,element:n,triggerName:t,isRemovalTransition:i,fromState:e,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:l,preStyleProps:d,postStyleProps:p,totalTime:m,errors:y}}var V0={},Of=class{_triggerName;ast;_stateStyles;constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,i){return nj(this.ast.matchers,t,e,r,i)}buildStyles(t,e,r){let i=this._stateStyles.get("*");return t!==void 0&&(i=this._stateStyles.get(t?.toString())||i),i?i.buildStyles(e,r):new Map}build(t,e,r,i,o,s,a,l,d,p){let m=[],y=this.ast.options&&this.ast.options.params||V0,v=a&&a.params||V0,w=this.buildStyles(r,v,m),C=l&&l.params||V0,x=this.buildStyles(i,C,m),A=new Set,j=new Map,U=new Map,q=i==="void",K={params:k1(C,y),delay:this.ast.options?.delay},De=p?[]:A1(t,e,this.ast.animation,o,s,w,x,K,d,m),Ie=0;return De.forEach(qe=>{Ie=Math.max(qe.duration+qe.delay,Ie)}),m.length?m1(e,this._triggerName,r,i,q,w,x,[],[],j,U,Ie,m):(De.forEach(qe=>{let Lt=qe.element,yo=_n(j,Lt,new Set);qe.preStyleProps.forEach(bi=>yo.add(bi));let uv=_n(U,Lt,new Set);qe.postStyleProps.forEach(bi=>uv.add(bi)),Lt!==e&&A.add(Lt)}),m1(e,this._triggerName,r,i,q,w,x,De,[...A.values()],j,U,Ie))}};function nj(n,t,e,r,i){return n.some(o=>o(t,e,r,i))}function k1(n,t){let e=N({},t);return Object.entries(n).forEach(([r,i])=>{i!=null&&(e[r]=i)}),e}var Z0=class{styles;defaultParams;normalizer;constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){let r=new Map,i=k1(t,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=_l(s,i,e));let l=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,l,s,e),r.set(a,s)})}),r}};function rj(n,t,e){return new J0(n,t,e)}var J0=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,e.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new Z0(i.style,o,r))}),g1(this.states,"true","1"),g1(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new Of(t,i,this.states))}),this.fallbackTransition=ij(t,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,i){return this.transitionFactories.find(s=>s.match(t,e,r,i))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}};function ij(n,t,e){let r=[(s,a)=>!0],i={type:re.Sequence,steps:[],options:null},o={type:re.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new Of(n,o,t)}function g1(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}var oj=new bl,X0=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r}register(t,e){let r=[],i=[],o=M1(this._driver,e,r,i);if(r.length)throw _V(r);this._animations.set(t,o)}_buildPlayer(t,e,r){let i=t.element,o=C1(this._normalizer,t.keyframes,e,r);return this._driver.animate(i,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){let i=[],o=this._animations.get(t),s,a=new Map;if(o?(s=A1(this._driver,e,o,x1,$0,new Map,new Map,r,oj,i),s.forEach(p=>{let m=_n(a,p.element,new Map);p.postStyleProps.forEach(y=>m.set(y,null))})):(i.push(bV()),s=[]),i.length)throw wV(i);a.forEach((p,m)=>{p.forEach((y,v)=>{p.set(v,this._driver.computeStyle(m,v,dr))})});let l=s.map(p=>{let m=a.get(p.element);return this._buildPlayer(p,new Map,m)}),d=_i(l);return this._playersById.set(t,d),d.onDestroy(()=>this.destroy(t)),this.players.push(d),d}destroy(t){let e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);let r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){let e=this._playersById.get(t);if(!e)throw CV(t);return e}listen(t,e,r,i){let o=iv(e,"","","");return rv(this._getPlayer(t),r,o,i),()=>{}}command(t,e,r,i){if(r=="register"){this.register(t,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(t,e,s);return}let o=this._getPlayer(t);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t);break}}},v1="ng-animate-queued",sj=".ng-animate-queued",j0="ng-animate-disabled",aj=".ng-animate-disabled",lj="ng-star-inserted",cj=".ng-star-inserted",uj=[],N1={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},dj={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Qn="__ng_removed",wl=class{namespaceId;value;options;get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;let r=t&&t.hasOwnProperty("value"),i=r?t.value:t;if(this.value=pj(i),r){let o=t,{value:s}=o,a=_o(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let e=t.params;if(e){let r=this.options.params;Object.keys(e).forEach(i=>{r[i]==null&&(r[i]=e[i])})}}},yl="void",U0=new wl(yl),ev=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this._hostClassName="ng-tns-"+t,Pn(e,this._hostClassName)}listen(t,e,r,i){if(!this._triggers.has(e))throw EV(r,e);if(r==null||r.length==0)throw SV(e);if(!hj(r))throw DV(r,e);let o=_n(this._elementListeners,t,[]),s={name:e,phase:r,callback:i};o.push(s);let a=_n(this._engine.statesByElement,t,new Map);return a.has(e)||(Pn(t,Ef),Pn(t,Ef+"-"+e),a.set(e,U0)),()=>{this._engine.afterFlush(()=>{let l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return this._triggers.has(t)?!1:(this._triggers.set(t,e),!0)}_getTrigger(t){let e=this._triggers.get(t);if(!e)throw xV(t);return e}trigger(t,e,r,i=!0){let o=this._getTrigger(e),s=new Cl(this.id,e,t),a=this._engine.statesByElement.get(t);a||(Pn(t,Ef),Pn(t,Ef+"-"+e),this._engine.statesByElement.set(t,a=new Map));let l=a.get(e),d=new wl(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&d.absorbOptions(l.options),a.set(e,d),l||(l=U0),!(d.value===yl)&&l.value===d.value){if(!vj(l.params,d.params)){let C=[],x=o.matchStyles(l.value,l.params,C),A=o.matchStyles(d.value,d.params,C);C.length?this._engine.reportError(C):this._engine.afterFlush(()=>{mo(t,x),hr(t,A)})}return}let y=_n(this._engine.playersByElement,t,[]);y.forEach(C=>{C.namespaceId==this.id&&C.triggerName==e&&C.queued&&C.destroy()});let v=o.matchTransition(l.value,d.value,t,d.params),w=!1;if(!v){if(!i)return;v=o.fallbackTransition,w=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:v,fromState:l,toState:d,player:s,isFallbackTransition:w}),w||(Pn(t,v1),s.onStart(()=>{Os(t,v1)})),s.onDone(()=>{let C=this.players.indexOf(s);C>=0&&this.players.splice(C,1);let x=this._engine.playersByElement.get(t);if(x){let A=x.indexOf(s);A>=0&&x.splice(A,1)}}),this.players.push(s),y.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(i=>i.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){let r=this._engine.driver.query(t,Tf,!0);r.forEach(i=>{if(i[Qn])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(t,e,r,i){let o=this._engine.statesByElement.get(t),s=new Map;if(o){let a=[];if(o.forEach((l,d)=>{if(s.set(d,l.value),this._triggers.has(d)){let p=this.trigger(t,d,yl,i);p&&a.push(p)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),r&&_i(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){let i=new Set;e.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let l=this._triggers.get(s).fallbackTransition,d=r.get(s)||U0,p=new wl(yl),m=new Cl(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:l,fromState:d,toState:p,player:m,isFallbackTransition:!0})})}}removeNode(t,e){let r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else{let s=t;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,e);else{let o=t[Qn];(!o||o===N1)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){Pn(t,this._hostClassName)}drainQueuedTransitions(t){let e=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let l=iv(o,r.triggerName,r.fromState.value,r.toState.value);l._data=t,rv(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(r)}),this._queue=[],e.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},tv=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(t,e)=>{};_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r}get queuedPlayers(){let t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){let r=new ev(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){let l=i.get(a);if(l){let d=r.indexOf(l);r.splice(d+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(t)}else r.push(t);return i.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let i=this._namespaceLookup[t];i&&i.register(e,r)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(t);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let e=new Set,r=this.statesByElement.get(t);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&e.add(o)}}return e}trigger(t,e,r,i){if(xf(e)){let o=this._fetchNamespace(t);if(o)return o.trigger(e,r,i),!0}return!1}insertNode(t,e,r,i){if(!xf(e))return;let o=e[Qn];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){let s=this._fetchNamespace(t);s&&s.insertNode(e,r)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Pn(t,j0)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Os(t,j0))}removeNode(t,e,r){if(xf(e)){let i=t?this._fetchNamespace(t):null;i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r);let o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,r)}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,r,i,o){this.collectedLeaveElements.push(e),e[Qn]={namespaceId:t,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,r,i,o){return xf(e)?this._fetchNamespace(t).listen(e,r,i,o):()=>{}}_buildInstruction(t,e,r,i,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,i,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,Tf,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(t,H0,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){let e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){let e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return _i(this.players).onDone(()=>t());t()})}processLeaveNode(t){let e=t[Qn];if(e&&e.setForRemoval){if(t[Qn]=N1,e.namespaceId){this.destroyInnerAnimations(t);let r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(j0)&&this.markElementAsDisabled(t,!1),this.driver.query(t,aj,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];Pn(i,lj)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{e=this._flushAnimations(r,t)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],e.length?_i(e).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(t){throw IV(t)}_flushAnimations(t,e){let r=new bl,i=[],o=new Map,s=[],a=new Map,l=new Map,d=new Map,p=new Set;this.disabledNodes.forEach(H=>{p.add(H);let W=this.driver.query(H,sj,!0);for(let X=0;X<W.length;X++)p.add(W[X])});let m=this.bodyNode,y=Array.from(this.statesByElement.keys()),v=b1(y,this.collectedEnterElements),w=new Map,C=0;v.forEach((H,W)=>{let X=x1+C++;w.set(W,X),H.forEach(be=>Pn(be,X))});let x=[],A=new Set,j=new Set;for(let H=0;H<this.collectedLeaveElements.length;H++){let W=this.collectedLeaveElements[H],X=W[Qn];X&&X.setForRemoval&&(x.push(W),A.add(W),X.hasAnimation?this.driver.query(W,cj,!0).forEach(be=>A.add(be)):j.add(W))}let U=new Map,q=b1(y,Array.from(A));q.forEach((H,W)=>{let X=$0+C++;U.set(W,X),H.forEach(be=>Pn(be,X))}),t.push(()=>{v.forEach((H,W)=>{let X=w.get(W);H.forEach(be=>Os(be,X))}),q.forEach((H,W)=>{let X=U.get(W);H.forEach(be=>Os(be,X))}),x.forEach(H=>{this.processLeaveNode(H)})});let K=[],De=[];for(let H=this._namespaceList.length-1;H>=0;H--)this._namespaceList[H].drainQueuedTransitions(e).forEach(X=>{let be=X.player,lt=X.element;if(K.push(be),this.collectedEnterElements.length){let bt=lt[Qn];if(bt&&bt.setForMove){if(bt.previousTriggersValues&&bt.previousTriggersValues.has(X.triggerName)){let wi=bt.previousTriggersValues.get(X.triggerName),bn=this.statesByElement.get(X.element);if(bn&&bn.has(X.triggerName)){let El=bn.get(X.triggerName);El.value=wi,bn.set(X.triggerName,El)}}be.destroy();return}}let Kn=!m||!this.driver.containsElement(m,lt),nn=U.get(lt),Gr=w.get(lt),Ge=this._buildInstruction(X,r,Gr,nn,Kn);if(Ge.errors&&Ge.errors.length){De.push(Ge);return}if(Kn){be.onStart(()=>mo(lt,Ge.fromStyles)),be.onDestroy(()=>hr(lt,Ge.toStyles)),i.push(be);return}if(X.isFallbackTransition){be.onStart(()=>mo(lt,Ge.fromStyles)),be.onDestroy(()=>hr(lt,Ge.toStyles)),i.push(be);return}let pv=[];Ge.timelines.forEach(bt=>{bt.stretchStartingKeyframe=!0,this.disabledNodes.has(bt.element)||pv.push(bt)}),Ge.timelines=pv,r.append(lt,Ge.timelines);let V1={instruction:Ge,player:be,element:lt};s.push(V1),Ge.queriedElements.forEach(bt=>_n(a,bt,[]).push(be)),Ge.preStyleProps.forEach((bt,wi)=>{if(bt.size){let bn=l.get(wi);bn||l.set(wi,bn=new Set),bt.forEach((El,Bf)=>bn.add(Bf))}}),Ge.postStyleProps.forEach((bt,wi)=>{let bn=d.get(wi);bn||d.set(wi,bn=new Set),bt.forEach((El,Bf)=>bn.add(Bf))})});if(De.length){let H=[];De.forEach(W=>{H.push(TV(W.triggerName,W.errors))}),K.forEach(W=>W.destroy()),this.reportError(H)}let Ie=new Map,qe=new Map;s.forEach(H=>{let W=H.element;r.has(W)&&(qe.set(W,W),this._beforeAnimationBuild(H.player.namespaceId,H.instruction,Ie))}),i.forEach(H=>{let W=H.element;this._getPreviousPlayers(W,!1,H.namespaceId,H.triggerName,null).forEach(be=>{_n(Ie,W,[]).push(be),be.destroy()})});let Lt=x.filter(H=>w1(H,l,d)),yo=new Map;_1(yo,this.driver,j,d,dr).forEach(H=>{w1(H,l,d)&&Lt.push(H)});let bi=new Map;v.forEach((H,W)=>{_1(bi,this.driver,new Set(H),l,mf)}),Lt.forEach(H=>{let W=yo.get(H),X=bi.get(H);yo.set(H,new Map([...W?.entries()??[],...X?.entries()??[]]))});let Uf=[],dv=[],fv={};s.forEach(H=>{let{element:W,player:X,instruction:be}=H;if(r.has(W)){if(p.has(W)){X.onDestroy(()=>hr(W,be.toStyles)),X.disabled=!0,X.overrideTotalTime(be.totalTime),i.push(X);return}let lt=fv;if(qe.size>1){let nn=W,Gr=[];for(;nn=nn.parentNode;){let Ge=qe.get(nn);if(Ge){lt=Ge;break}Gr.push(nn)}Gr.forEach(Ge=>qe.set(Ge,lt))}let Kn=this._buildAnimation(X.namespaceId,be,Ie,o,bi,yo);if(X.setRealPlayer(Kn),lt===fv)Uf.push(X);else{let nn=this.playersByElement.get(lt);nn&&nn.length&&(X.parentPlayer=_i(nn)),i.push(X)}}else mo(W,be.fromStyles),X.onDestroy(()=>hr(W,be.toStyles)),dv.push(X),p.has(W)&&i.push(X)}),dv.forEach(H=>{let W=o.get(H.element);if(W&&W.length){let X=_i(W);H.setRealPlayer(X)}}),i.forEach(H=>{H.parentPlayer?H.syncPlayerEvents(H.parentPlayer):H.destroy()});for(let H=0;H<x.length;H++){let W=x[H],X=W[Qn];if(Os(W,$0),X&&X.hasAnimation)continue;let be=[];if(a.size){let Kn=a.get(W);Kn&&Kn.length&&be.push(...Kn);let nn=this.driver.query(W,H0,!0);for(let Gr=0;Gr<nn.length;Gr++){let Ge=a.get(nn[Gr]);Ge&&Ge.length&&be.push(...Ge)}}let lt=be.filter(Kn=>!Kn.destroyed);lt.length?mj(this,W,lt):this.processLeaveNode(W)}return x.length=0,Uf.forEach(H=>{this.players.push(H),H.onDone(()=>{H.destroy();let W=this.players.indexOf(H);this.players.splice(W,1)}),H.play()}),Uf}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,i,o){let s=[];if(e){let a=this.playersByQueriedElement.get(t);a&&(s=a)}else{let a=this.playersByElement.get(t);if(a){let l=!o||o==yl;a.forEach(d=>{d.queued||!l&&d.triggerName!=i||s.push(d)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(t,e,r){let i=e.triggerName,o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:i;for(let l of e.timelines){let d=l.element,p=d!==o,m=_n(r,d,[]);this._getPreviousPlayers(d,p,s,a,e.toState).forEach(v=>{let w=v.getRealPlayer();w.beforeDestroy&&w.beforeDestroy(),v.destroy(),m.push(v)})}mo(o,e.fromStyles)}_buildAnimation(t,e,r,i,o,s){let a=e.triggerName,l=e.element,d=[],p=new Set,m=new Set,y=e.timelines.map(w=>{let C=w.element;p.add(C);let x=C[Qn];if(x&&x.removedBeforeQueried)return new vi(w.duration,w.delay);let A=C!==l,j=gj((r.get(C)||uj).map(Ie=>Ie.getRealPlayer())).filter(Ie=>{let qe=Ie;return qe.element?qe.element===C:!1}),U=o.get(C),q=s.get(C),K=C1(this._normalizer,w.keyframes,U,q),De=this._buildPlayer(w,K,j);if(w.subTimeline&&i&&m.add(C),A){let Ie=new Cl(t,a,C);Ie.setRealPlayer(De),d.push(Ie)}return De});d.forEach(w=>{_n(this.playersByQueriedElement,w.element,[]).push(w),w.onDone(()=>fj(this.playersByQueriedElement,w.element,w))}),p.forEach(w=>Pn(w,d1));let v=_i(y);return v.onDestroy(()=>{p.forEach(w=>Os(w,d1)),hr(l,e.toStyles)}),m.forEach(w=>{_n(i,w,[]).push(v)}),v}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new vi(t.duration,t.delay)}},Cl=class{namespaceId;triggerName;element;_player=new vi;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,r)=>{e.forEach(i=>rv(t,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){_n(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let e=this._player;e.triggerCallback&&e.triggerCallback(t)}};function fj(n,t,e){let r=n.get(t);if(r){if(r.length){let i=r.indexOf(e);r.splice(i,1)}r.length==0&&n.delete(t)}return r}function pj(n){return n??null}function xf(n){return n&&n.nodeType===1}function hj(n){return n=="start"||n=="done"}function y1(n,t){let e=n.style.display;return n.style.display=t??"none",e}function _1(n,t,e,r,i){let o=[];e.forEach(l=>o.push(y1(l)));let s=[];r.forEach((l,d)=>{let p=new Map;l.forEach(m=>{let y=t.computeStyle(d,m,i);p.set(m,y),(!y||y.length==0)&&(d[Qn]=dj,s.push(d))}),n.set(d,p)});let a=0;return e.forEach(l=>y1(l,o[a++])),s}function b1(n,t){let e=new Map;if(n.forEach(a=>e.set(a,[])),t.length==0)return e;let r=1,i=new Set(t),o=new Map;function s(a){if(!a)return r;let l=o.get(a);if(l)return l;let d=a.parentNode;return e.has(d)?l=d:i.has(d)?l=r:l=s(d),o.set(a,l),l}return t.forEach(a=>{let l=s(a);l!==r&&e.get(l).push(a)}),e}function Pn(n,t){n.classList?.add(t)}function Os(n,t){n.classList?.remove(t)}function mj(n,t,e){_i(e).onDone(()=>n.processLeaveNode(t))}function gj(n){let t=[];return P1(n,t),t}function P1(n,t){for(let e=0;e<n.length;e++){let r=n[e];r instanceof gl?P1(r.players,t):t.push(r)}}function vj(n,t){let e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let i=0;i<e.length;i++){let o=e[i];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}function w1(n,t,e){let r=e.get(n);if(!r)return!1;let i=t.get(n);return i?r.forEach(o=>i.add(o)):t.set(n,r),e.delete(n),!0}var Rs=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(t,e)=>{};constructor(t,e,r){this._driver=e,this._normalizer=r,this._transitionEngine=new tv(t.body,e,r),this._timelineEngine=new X0(t.body,e,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(t,e,r,i,o){let s=t+"-"+i,a=this._triggerCache[s];if(!a){let l=[],d=[],p=M1(this._driver,o,l,d);if(l.length)throw vV(i,l);a=rj(i,p,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,i,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,i){this._transitionEngine.insertNode(t,e,r,i)}onRemove(t,e,r){this._transitionEngine.removeNode(t,e,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,i){if(r.charAt(0)=="@"){let[o,s]=c1(r),a=i;this._timelineEngine.command(o,e,s,a)}else this._transitionEngine.trigger(t,e,r,i)}listen(t,e,r,i,o){if(r.charAt(0)=="@"){let[s,a]=c1(r);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(t,e,r,i,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function yj(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=B0(t[0]),t.length>1&&(r=B0(t[t.length-1]))):t instanceof Map&&(e=B0(t)),e||r?new _j(n,e,r):null}var _j=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(e,r,i){this._element=e,this._startStyles=r,this._endStyles=i;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&hr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(hr(this._element,this._initialStyles),this._endStyles&&(hr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(mo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(mo(this._element,this._endStyles),this._endStyles=null),hr(this._element,this._initialStyles),this._state=3)}}return n})();function B0(n){let t=null;return n.forEach((e,r)=>{bj(r)&&(t=t||new Map,t.set(r,e))}),t}function bj(n){return n==="display"||n==="position"}var Rf=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(t,e,r,i){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=i,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){let e=[];return t.forEach(r=>{e.push(Object.fromEntries(r))}),e}_triggerWebAnimation(t,e,r){return t.animate(this._convertKeyframesToObject(e),r)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&t.set(i,this._finished?r:lv(this.element,i))}),this.currentSnapshot=t}triggerCallback(t){let e=t==="start"?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}},Ff=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,e){return E1(t,e)}getParentElement(t){return ov(t)}query(t,e,r){return S1(t,e,r)}computeStyle(t,e,r){return lv(t,e)}animate(t,e,r,i,o,s=[]){let a=i==0?"both":"forwards",l={duration:r,delay:i,fill:a};o&&(l.easing=o);let d=new Map,p=s.filter(v=>v instanceof Rf);jV(r,i)&&p.forEach(v=>{v.currentSnapshot.forEach((w,C)=>d.set(C,w))});let m=FV(e).map(v=>new Map(v));m=UV(t,m,d);let y=yj(t,m);return new Rf(t,m,l,y)}};var If="@",O1="@.disabled",Lf=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(t,e,r,i){this.namespaceId=t,this.delegate=e,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,i=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,r){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,i){this.delegate.setAttribute(t,e,r,i)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,i){this.delegate.setStyle(t,e,r,i)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){e.charAt(0)==If&&e==O1?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r,i){return this.delegate.listen(t,e,r,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},nv=class extends Lf{factory;constructor(t,e,r,i,o){super(e,r,i,o),this.factory=t,this.namespaceId=e}setProperty(t,e,r){e.charAt(0)==If?e.charAt(1)=="."&&e==O1?(r=r===void 0?!0:!!r,this.disableAnimations(t,r)):this.engine.process(this.namespaceId,t,e.slice(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r,i){if(e.charAt(0)==If){let o=wj(t),s=e.slice(1),a="";return s.charAt(0)!=If&&([s,a]=Cj(s)),this.engine.listen(this.namespaceId,o,s,a,l=>{let d=l._data||-1;this.factory.scheduleListenerCallback(d,r,l)})}return this.delegate.listen(t,e,r,i)}};function wj(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function Cj(n){let t=n.indexOf("."),e=n.substring(0,t),r=n.slice(t+1);return[e,r]}var Vf=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(t,e,r){this.delegate=t,this.engine=e,this._zone=r,e.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(t,e){let r="",i=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){let d=this._rendererCache,p=d.get(i);if(!p){let m=()=>d.delete(i);p=new Lf(r,i,this.engine,m),d.set(i,p)}return p}let o=e.id,s=e.id+"-"+this._currentId;this._currentId++,this.engine.register(s,t);let a=d=>{Array.isArray(d)?d.forEach(a):this.engine.registerTrigger(o,s,t,d.name,d)};return e.data.animation.forEach(a),new nv(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,r){if(t>=0&&t<this._microtaskId){this._zone.run(()=>e(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([e,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(t){this.engine.flush(),this.delegate.componentReplaced?.(t)}};var Sj=(()=>{class n extends Rs{constructor(e,r,i){super(e,r,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(r){return new(r||n)(F($e),F(go),F(vo))};static \u0275prov=P({token:n,factory:n.\u0275fac})}return n})();function Dj(){return new Af}function xj(n,t,e){return new Vf(n,t,e)}var R1=[{provide:vo,useFactory:Dj},{provide:Rs,useClass:Sj},{provide:ri,useFactory:xj,deps:[Nu,Rs,Te]}],Ij=[{provide:go,useFactory:()=>new Ff},{provide:ou,useValue:"BrowserAnimations"},...R1],zY=[{provide:go,useClass:sv},{provide:ou,useValue:"NoopAnimations"},...R1];function F1(){return Un("NgEagerAnimations"),[...Ij]}var L1={providers:[Mw(),sE(a1,aE()),pC(hC()),F1()]};function Tj(n,t){n&1&&(st(0),u(1,"div",2),_(2,"router-outlet"),c(),at())}function Mj(n,t){n&1&&(u(0,"span"),f(1,"Dashboard"),c())}function Aj(n,t){n&1&&(u(0,"span"),f(1,"Morning Check-In"),c())}function kj(n,t){n&1&&(u(0,"span"),f(1,"Trade Journal"),c())}function Nj(n,t){n&1&&(u(0,"span"),f(1,"Meditation Hub"),c())}function Pj(n,t){n&1&&(u(0,"span"),f(1,"Analytics"),c())}function Oj(n,t){n&1&&(u(0,"span"),f(1,"Trade Accounts"),c())}function Rj(n,t){if(n&1){let e=Q();u(0,"div",21)(1,"a",22),S("click",function(){I(e);let i=b(2);return i.navigateToUrl("/home"),T(i.onNavLinkClick())}),_(2,"i",23),E(3,Mj,2,0,"span",0),c(),u(4,"a",22),S("click",function(){I(e);let i=b(2);return i.navigateToUrl("/emotions"),T(i.onNavLinkClick())}),_(5,"i",24),E(6,Aj,2,0,"span",0),c(),u(7,"a",22),S("click",function(){I(e);let i=b(2);return i.navigateToUrl("/tradejournal"),T(i.onNavLinkClick())}),_(8,"i",25),E(9,kj,2,0,"span",0),c(),u(10,"a",22),S("click",function(){I(e);let i=b(2);return i.navigateToUrl("/meditationhub"),T(i.onNavLinkClick())}),_(11,"i",26),E(12,Nj,2,0,"span",0),c(),u(13,"a",22),S("click",function(){I(e);let i=b(2);return i.navigateToUrl("/analytics"),T(i.onNavLinkClick())}),_(14,"i",27),E(15,Pj,2,0,"span",0),c(),u(16,"a",22),S("click",function(){I(e);let i=b(2);return i.navigateToUrl("/tradeaccounts"),T(i.onNavLinkClick())}),_(17,"i",28),E(18,Oj,2,0,"span",0),c()()}if(n&2){let e=b(2);h(),xe("active",e.isActiveRoute("/home")),g("title",e.sidebarCollapsed()?"Dashboard":""),h(),xe("me-3",!e.sidebarCollapsed()),h(),g("ngIf",!e.sidebarCollapsed()),h(),xe("active",e.isActiveRoute("/emotions")),g("title",e.sidebarCollapsed()?"Morning Check-In":""),h(),xe("me-3",!e.sidebarCollapsed()),h(),g("ngIf",!e.sidebarCollapsed()),h(),xe("active",e.isActiveRoute("/tradejournal")),g("title",e.sidebarCollapsed()?"Trade Journal":""),h(),xe("me-3",!e.sidebarCollapsed()),h(),g("ngIf",!e.sidebarCollapsed()),h(),xe("active",e.isActiveRoute("/meditationhub")),g("title",e.sidebarCollapsed()?"Meditation Hub":""),h(),xe("me-3",!e.sidebarCollapsed()),h(),g("ngIf",!e.sidebarCollapsed()),h(),xe("active",e.isActiveRoute("/analytics")),g("title",e.sidebarCollapsed()?"Analytics":""),h(),xe("me-3",!e.sidebarCollapsed()),h(),g("ngIf",!e.sidebarCollapsed()),h(),xe("active",e.isActiveRoute("/tradeaccounts")),g("title",e.sidebarCollapsed()?"Trade Accounts":""),h(),xe("me-3",!e.sidebarCollapsed()),h(),g("ngIf",!e.sidebarCollapsed())}}function Fj(n,t){if(n&1&&(u(0,"div"),_(1,"img",33),c()),n&2){let e=b(3);h(),xe("me-2",!e.sidebarCollapsed()),g("src",e.profile_image_blob_url,xn)}}function Lj(n,t){n&1&&(u(0,"div"),_(1,"i",34),c())}function Vj(n,t){if(n&1&&(u(0,"div"),f(1," \xA0\xA0 "),u(2,"p",35),f(3),c()()),n&2){let e=b(3);h(3),O("Welcome, ",e.user_firstname,"!")}}function jj(n,t){n&1&&(u(0,"span"),f(1,"Logout\xA0\xA0\xA0"),c())}function Uj(n,t){if(n&1){let e=Q();u(0,"div",29)(1,"div",30),S("click",function(){I(e);let i=b(2);return T(i.onNavLinkClick())}),E(2,Fj,2,3,"div",0)(3,Lj,2,0,"div",0)(4,Vj,4,1,"div",0),c(),u(5,"button",31),S("click",function(){I(e);let i=b(2);return T(i.logOut())}),E(6,jj,2,0,"span",0),_(7,"i",32),c()()}if(n&2){let e=b(2);h(),xe("justify-content-center",e.sidebarCollapsed()),h(),g("ngIf",e.profile_image_blob_url),h(),g("ngIf",!e.profile_image_blob_url),h(),g("ngIf",!e.sidebarCollapsed()),h(),g("title",e.sidebarCollapsed()?"Logout":""),h(),g("ngIf",!e.sidebarCollapsed())}}function Bj(n,t){if(n&1){let e=Q();u(0,"div",36),S("click",function(){I(e);let i=b(2);return T(i.closeSidebar())}),c()}}function $j(n,t){if(n&1){let e=Q();u(0,"button",37),S("click",function(){I(e);let i=b(2);return T(i.navigateToUrl("/home"))}),_(1,"img",38),c()}}function Hj(n,t){if(n&1){let e=Q();st(0),u(1,"div",3)(2,"nav",4)(3,"div",5)(4,"div",6)(5,"button",7),S("click",function(){I(e);let i=b();return i.navigateToUrl("/home"),T(i.onNavLinkClick())}),u(6,"img",8),S("click",function(){I(e);let i=b();return i.navigateToUrl("/home"),T(i.onNavLinkClick())}),c()(),u(7,"button",9),S("click",function(){I(e);let i=b();return T(i.closeSidebar())}),c()(),E(8,Rj,19,36,"div",10),c(),E(9,Uj,8,7,"div",11),c(),E(10,Bj,1,0,"div",12),u(11,"div",13)(12,"nav",14)(13,"div",15)(14,"div",16)(15,"button",17),S("click",function(){I(e);let i=b();return T(i.toggleSidebar())}),_(16,"span",18),c(),E(17,$j,2,0,"button",19),c()()(),u(18,"div",20),_(19,"router-outlet"),c()()(),at()}if(n&2){let e=b();h(2),xe("collapsed",e.sidebarCollapsed()),h(4),Rt("height",e.sidebarCollapsed()?"40px":"90px"),h(2),g("ngIf",e.loginStatus()),h(),g("ngIf",e.loginStatus()),h(),g("ngIf",e.isMobile()&&!e.sidebarCollapsed()),h(),xe("expanded",e.sidebarCollapsed()),h(6),g("ngIf",e.sidebarCollapsed())}}var jf=class n{constructor(t,e,r,i,o,s,a){this.cdr=t;this.supabaseService=e;this.supabaseAuthService=r;this.supabaseAccountService=i;this.router=o;this.route=s;this.platformId=a;this.loginStatus=Hn(()=>e.loginStatus()),Jo(()=>{this.loginStatus()&&(this.route.queryParams.subscribe(l=>{let d=l.returnUrl;d?this.router.navigate([d]):(this.router.url==="/"||this.router.url==="/login")&&this.router.navigate(["/home"])}),this.loginStatus()&&!this.userProfileLoaded&&(this.userProfileLoaded=!0,this.loadUserProfile()))}),Gh(()=>{})}title="TR-prototype";profile_image_blob_url="";loginStatus;sidebarCollapsed=ut(!1);isMobile=ut(!1);user_firstname="";resizeObserver;userProfileLoaded=!1;async ngOnInit(){this.checkScreenSize(),Mn(this.platformId)&&(this.sidebarCollapsed.set(this.isMobile()),this.resizeObserver=new ResizeObserver(()=>{this.checkScreenSize(),this.cdr.detectChanges()}),this.resizeObserver.observe(document.body))}ngOnDestroy(){Mn(this.platformId)&&this.resizeObserver&&this.resizeObserver.disconnect()}async loadUserProfile(){let{data:t}=await this.supabaseAccountService.getProfile();t&&(this.user_firstname=t.firstname,t.profile_picture_url&&(this.profile_image_blob_url=await this.supabaseAccountService.getCachedProfilePictureBlobUrl(t.profile_picture_url)),this.cdr.markForCheck())}async logOut(){await this.supabaseAuthService.logout(),this.router.navigateByUrl("/")}toggleSidebar(){this.sidebarCollapsed.update(t=>!t),this.cdr.detectChanges()}navigateToUrl(t){this.router.navigateByUrl(t)}closeSidebar(){this.sidebarCollapsed.set(!0),this.cdr.detectChanges()}onNavLinkClick(){this.isMobile()&&this.closeSidebar()}isActiveRoute(t){return this.router.url===t||this.router.url.startsWith(t+"/")}checkScreenSize(){Mn(this.platformId)&&this.isMobile.set(window.innerWidth<768)}static \u0275fac=function(e){return new(e||n)(D(ie),D(Se),D(ur),D(en),D(vt),D(hn),D(Ct))};static \u0275cmp=V({type:n,selectors:[["app-root"]],decls:4,vars:2,consts:[[4,"ngIf"],["align","center",1,"m-5"],[1,"container-fluid","p-0"],[1,"sidebar-container"],["id","sidebar",1,"d-flex","flex-column","h-100"],[1,"p-3","flex-grow-1"],[1,"mb-3","d-flex","align-items-center"],[1,"text-decoration-none","me-auto","btn","btn-link","p-0","me-3",3,"click"],["src","/tr_logo.svg",1,"img-fluid",3,"click"],["type","button",1,"btn-close","d-md-none",3,"click"],["class","nav flex-column",4,"ngIf"],["class","p-3 border-top mt-auto",4,"ngIf"],["class","sidebar-overlay",3,"click",4,"ngIf"],[1,"content"],[1,"navbar","navbar-expand-lg"],[1,"container-fluid"],[1,"d-flex","align-items-center"],[1,"btn","me-2",3,"click"],[1,"navbar-toggler-icon"],["class","btn navbar-branding text-decoration-none me-auto",3,"click",4,"ngIf"],[1,"container-fluid","ps-3"],[1,"nav","flex-column"],[1,"nav-link",3,"click","title"],[1,"bi","bi-columns-gap"],[1,"bi","bi-brightness-high"],[1,"bi","bi-bookmark-check"],[1,"bi","bi-person-arms-up"],[1,"bi","bi-clipboard-data"],[1,"bi","bi-journals"],[1,"p-3","border-top","mt-auto"],["routerLink","/useraccount",1,"d-flex","align-items-center","mb-2",2,"cursor","pointer",3,"click"],[1,"btn","btn-outline-secondary","btn-tr","w-100",3,"click","title"],[1,"bi","bi-box-arrow-right"],["alt","Profile",1,"rounded-circle",2,"width","40px","height","40px","object-fit","cover",3,"src"],[1,"bi","bi-person-circle","text-black",2,"font-size","30px"],[1,"text-black","mb-0"],[1,"sidebar-overlay",3,"click"],[1,"btn","navbar-branding","text-decoration-none","me-auto",3,"click"],["src","/tr_logo.svg","width","50px",1,"img-fluid"]],template:function(e,r){e&1&&(E(0,Tj,3,0,"ng-container",0)(1,Hj,20,10,"ng-container",0),u(2,"footer",1),f(3,"\xA9 2025 Trading Rehab AI. All rights reserved."),c()),e&2&&(g("ngIf",!r.supabaseService.loginStatus()),h(),g("ngIf",r.supabaseService.loginStatus()))},dependencies:[B,Y,kg,ze],styles:[".sidebar-container[_ngcontent-%COMP%]{display:flex;position:relative}#sidebar[_ngcontent-%COMP%]{width:250px;position:fixed;top:0;left:0;height:100dvh;z-index:999;background:#f8f9facc;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);transition:all .3s ease-in-out;box-shadow:0 0 15px #0000001a;border-right:1px solid rgba(0,0,0,.05)}#sidebar.collapsed[_ngcontent-%COMP%]{width:88px}.content[_ngcontent-%COMP%]{width:calc(100% - 250px);margin-left:250px;transition:all .3s ease-in-out;min-height:100dvh;background-color:transparent}.content.expanded[_ngcontent-%COMP%]{width:calc(100% - 88px);margin-left:88px}@media (max-width: 768px){#sidebar[_ngcontent-%COMP%]{margin-left:-250px}#sidebar[_ngcontent-%COMP%]:not(.collapsed){margin-left:0}#sidebar.collapsed[_ngcontent-%COMP%]{margin-left:-250px}.content[_ngcontent-%COMP%], .content.expanded[_ngcontent-%COMP%]{width:100%;margin-left:0}}.nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 20px;color:#343a40;cursor:pointer;text-decoration:none;border-radius:12px;margin:4px 12px;font-weight:500;transition:background-color .2s ease,color .2s ease;position:relative}.nav-link[_ngcontent-%COMP%]:hover{background-color:#e9ecef;color:#000}.nav-link.active[_ngcontent-%COMP%]{background:linear-gradient(90deg,#634aff,#9932ff);color:#fff!important;font-weight:600;box-shadow:0 4px 12px #634aff4d}.nav-link.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff!important}.nav-link.active[_ngcontent-%COMP%]:after{display:none}#sidebar.collapsed[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{justify-content:center;padding:0;margin:8px auto;width:52px;height:52px;border-radius:14px}#sidebar.collapsed[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}#sidebar.collapsed[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0!important;font-size:1.4em}#sidebar.collapsed[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background:background: linear-gradient(90deg,#634aff,#9932ff);color:#fff;box-shadow:0 2px 8px #0003}#sidebar.collapsed[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background-color:#dee2e6}#sidebar.collapsed[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:hover{background:#495057}#sidebar.collapsed[_ngcontent-%COMP%]   .p-3[_ngcontent-%COMP%], #sidebar.collapsed[_ngcontent-%COMP%]   .border-top[_ngcontent-%COMP%]{padding:1rem .5rem!important}.navbar[_ngcontent-%COMP%]{padding:15px 10px}.sidebar-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:998}.btn-tr[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}"]})};EC(jf,L1).catch(n=>console.error(n));
