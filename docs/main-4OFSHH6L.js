import{b as py,c as hy,f as zD,g as my}from"./chunk-65CJINC2.js";import{a as N,b as z,c as mo,e as ar,g as $D,h as HD}from"./chunk-VOSPIT4N.js";var Gg=ar(zg=>{"use strict";Object.defineProperty(zg,"__esModule",{value:!0});var Hg=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};zg.default=Hg});var Wg=ar(Va=>{"use strict";var DE=Va&&Va.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Va,"__esModule",{value:!0});var JO=DE((my(),HD(zD))),XO=DE(Gg()),qg=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=JO.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=Object.assign({},this.headers),this.headers[t]=e,this}then(t,e){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var s,a,l;let c=null,p=null,h=null,v=o.status,g=o.statusText;if(o.ok){if(this.method!=="HEAD"){let O=await o.text();O===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?p=O:p=JSON.parse(O))}let w=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),T=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");w&&T&&T.length>1&&(h=parseInt(T[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(c={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,h=null,v=406,g="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{let w=await o.text();try{c=JSON.parse(w),Array.isArray(c)&&o.status===404&&(p=[],c=null,v=200,g="OK")}catch{o.status===404&&w===""?(v=204,g="No Content"):c={message:w}}if(c&&this.isMaybeSingle&&(!((l=c?.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,v=200,g="OK"),c&&this.shouldThrowOnError)throw new XO.default(c)}return{error:c,data:p,count:h,status:v,statusText:g}});return this.shouldThrowOnError||(i=i.catch(o=>{var s,a,l;return{error:{message:`${(s=o?.name)!==null&&s!==void 0?s:"FetchError"}: ${o?.message}`,details:`${(a=o?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=o?.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}};Va.default=qg});var Kg=ar(ja=>{"use strict";var eR=ja&&ja.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ja,"__esModule",{value:!0});var tR=eR(Wg()),Qg=class extends tR.default{select(t){let e=!1,r=(t??"*").split("").map(i=>/\s/.test(i)&&!e?"":(i==='"'&&(e=!e),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){let s=o?`${o}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){let i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:i=r}={}){let o=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(s,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){var a;let l=[t?"analyze":null,e?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`,s==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ja.default=Qg});var Qu=ar(Ua=>{"use strict";var nR=Ua&&Ua.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ua,"__esModule",{value:!0});var rR=nR(Kg()),Zg=class extends rR.default{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}in(t,e){let r=Array.from(new Set(e)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${s}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){let i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}};Ua.default=Zg});var Jg=ar($a=>{"use strict";var iR=$a&&$a.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty($a,"__esModule",{value:!0});var Ba=iR(Qu()),Yg=class{constructor(t,{headers:e={},schema:r,fetch:i}){this.url=t,this.headers=e,this.schema=r,this.fetch=i}select(t,{head:e=!1,count:r}={}){let i=e?"HEAD":"GET",o=!1,s=(t??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new Ba.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:e,defaultToNull:r=!0}={}){let i="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),e&&o.push(`count=${e}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){let s=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(s.length>0){let a=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Ba.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){let s="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(e!==void 0&&this.url.searchParams.set("on_conflict",e),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){let l=t.reduce((c,p)=>c.concat(Object.keys(p)),[]);if(l.length>0){let c=[...new Set(l)].map(p=>`"${p}"`);this.url.searchParams.set("columns",c.join(","))}}return new Ba.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:e}={}){let r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),e&&i.push(`count=${e}`),this.headers.Prefer=i.join(","),new Ba.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){let e="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Ba.default({method:e,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};$a.default=Yg});var IE=ar(Ku=>{"use strict";Object.defineProperty(Ku,"__esModule",{value:!0});Ku.version=void 0;Ku.version="0.0.0-automated"});var xE=ar(Zu=>{"use strict";Object.defineProperty(Zu,"__esModule",{value:!0});Zu.DEFAULT_HEADERS=void 0;var oR=IE();Zu.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${oR.version}`}});var ME=ar(Ha=>{"use strict";var TE=Ha&&Ha.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ha,"__esModule",{value:!0});var sR=TE(Jg()),aR=TE(Qu()),lR=xE(),Xg=class n{constructor(t,{headers:e={},schema:r,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},lR.DEFAULT_HEADERS),e),this.schemaName=r,this.fetch=i}from(t){let e=new URL(`${this.url}/${t}`);return new sR.default(e,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new n(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,e={},{head:r=!1,get:i=!1,count:o}={}){let s,a=new URL(`${this.url}/rpc/${t}`),l;r||i?(s=r?"HEAD":"GET",Object.entries(e).filter(([p,h])=>h!==void 0).map(([p,h])=>[p,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([p,h])=>{a.searchParams.append(p,h)})):(s="POST",l=e);let c=Object.assign({},this.headers);return o&&(c.Prefer=`count=${o}`),new aR.default({method:s,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Ha.default=Xg});var FE=ar(ht=>{"use strict";var ls=ht&&ht.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ht,"__esModule",{value:!0});ht.PostgrestError=ht.PostgrestBuilder=ht.PostgrestTransformBuilder=ht.PostgrestFilterBuilder=ht.PostgrestQueryBuilder=ht.PostgrestClient=void 0;var AE=ls(ME());ht.PostgrestClient=AE.default;var kE=ls(Jg());ht.PostgrestQueryBuilder=kE.default;var NE=ls(Qu());ht.PostgrestFilterBuilder=NE.default;var PE=ls(Kg());ht.PostgrestTransformBuilder=PE.default;var OE=ls(Wg());ht.PostgrestBuilder=OE.default;var RE=ls(Gg());ht.PostgrestError=RE.default;ht.default={PostgrestClient:AE.default,PostgrestQueryBuilder:kE.default,PostgrestFilterBuilder:NE.default,PostgrestTransformBuilder:PE.default,PostgrestBuilder:OE.default,PostgrestError:RE.default}});function vy(n,t){return Object.is(n,t)}var rt=null,ks=!1,Lf=1,Nt=Symbol("SIGNAL");function we(n){let t=rt;return rt=n,t}function yy(){return rt}function GD(){return ks}var yi={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function _l(n){if(ks)throw new Error("");if(rt===null)return;rt.consumerOnSignalRead(n);let t=rt.nextProducerIndex++;if(wl(rt),t<rt.producerNode.length&&rt.producerNode[t]!==n&&Ns(rt)){let e=rt.producerNode[t];bl(e,rt.producerIndexOfThis[t])}rt.producerNode[t]!==n&&(rt.producerNode[t]=n,rt.producerIndexOfThis[t]=Ns(rt)?Ey(n,rt,t):0),rt.producerLastReadVersion[t]=n.version}function qD(){Lf++}function _y(n){if(!(Ns(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Lf)){if(!n.producerMustRecompute(n)&&!Os(n)){gy(n);return}n.producerRecomputeValue(n),gy(n)}}function by(n){if(n.liveConsumerNode===void 0)return;let t=ks;ks=!0;try{for(let e of n.liveConsumerNode)e.dirty||Cy(e)}finally{ks=t}}function wy(){return rt?.consumerAllowSignalWrites!==!1}function Cy(n){n.dirty=!0,by(n),n.consumerMarkedDirty?.(n)}function gy(n){n.dirty=!1,n.lastCleanEpoch=Lf}function go(n){return n&&(n.nextProducerIndex=0),we(n)}function Ps(n,t){if(we(t),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Ns(n))for(let e=n.nextProducerIndex;e<n.producerNode.length;e++)bl(n.producerNode[e],n.producerIndexOfThis[e]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Os(n){wl(n);for(let t=0;t<n.producerNode.length;t++){let e=n.producerNode[t],r=n.producerLastReadVersion[t];if(r!==e.version||(_y(e),r!==e.version))return!0}return!1}function vo(n){if(wl(n),Ns(n))for(let t=0;t<n.producerNode.length;t++)bl(n.producerNode[t],n.producerIndexOfThis[t]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Ey(n,t,e){if(Sy(n),n.liveConsumerNode.length===0&&Dy(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=Ey(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(e),n.liveConsumerNode.push(t)-1}function bl(n,t){if(Sy(n),n.liveConsumerNode.length===1&&Dy(n))for(let r=0;r<n.producerNode.length;r++)bl(n.producerNode[r],n.producerIndexOfThis[r]);let e=n.liveConsumerNode.length-1;if(n.liveConsumerNode[t]=n.liveConsumerNode[e],n.liveConsumerIndexOfThis[t]=n.liveConsumerIndexOfThis[e],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,t<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[t],i=n.liveConsumerNode[t];wl(i),i.producerIndexOfThis[r]=t}}function Ns(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function wl(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function Sy(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function Dy(n){return n.producerNode!==void 0}function Iy(n){let t=Object.create(WD);t.computation=n;let e=()=>{if(_y(t),_l(t),t.value===yl)throw t.error;return t.value};return e[Nt]=t,e}var Of=Symbol("UNSET"),Rf=Symbol("COMPUTING"),yl=Symbol("ERRORED"),WD=z(N({},yi),{value:Of,dirty:!0,error:null,equal:vy,kind:"computed",producerMustRecompute(n){return n.value===Of||n.value===Rf},producerRecomputeValue(n){if(n.value===Rf)throw new Error("Detected cycle in computations.");let t=n.value;n.value=Rf;let e=go(n),r,i=!1;try{r=n.computation(),we(null),i=t!==Of&&t!==yl&&r!==yl&&n.equal(t,r)}catch(o){r=yl,n.error=o}finally{Ps(n,e)}if(i){n.value=t;return}n.value=r,n.version++}});function QD(){throw new Error}var xy=QD;function Ty(){xy()}function My(n){xy=n}var KD=null;function Ay(n){let t=Object.create(Vf);t.value=n;let e=()=>(_l(t),t.value);return e[Nt]=t,e}function Cl(n,t){wy()||Ty(),n.equal(n.value,t)||(n.value=t,ZD(n))}function ky(n,t){wy()||Ty(),Cl(n,t(n.value))}var Vf=z(N({},yi),{equal:vy,value:void 0,kind:"signal"});function ZD(n){n.version++,qD(),by(n),KD?.()}function Ny(n,t,e){let r=Object.create(YD);e&&(r.consumerAllowSignalWrites=!0),r.fn=n,r.schedule=t;let i=l=>{r.cleanupFn=l};function o(l){return l.fn===null&&l.schedule===null}function s(l){o(l)||(vo(l),l.cleanupFn(),l.fn=null,l.schedule=null,l.cleanupFn=Ff)}let a=()=>{if(r.fn===null)return;if(GD())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!Os(r))return;r.hasRun=!0;let l=go(r);try{r.cleanupFn(),r.cleanupFn=Ff,r.fn(i)}finally{Ps(r,l)}};return r.ref={notify:()=>Cy(r),run:a,cleanup:()=>r.cleanupFn(),destroy:()=>s(r),[Nt]:r},r.ref}var Ff=()=>{},YD=z(N({},yi),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule!==null&&n.schedule(n.ref)},hasRun:!1,cleanupFn:Ff});function ie(n){return typeof n=="function"}function yo(n){let e=n(r=>{Error.call(r),r.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var El=yo(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function _i(n,t){if(n){let e=n.indexOf(t);0<=e&&n.splice(e,1)}}var Re=class n{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let o of e)o.remove(this);else e.remove(this);let{initialTeardown:r}=this;if(ie(r))try{r()}catch(o){t=o instanceof El?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Py(o)}catch(s){t=t??[],s instanceof El?t=[...t,...s.errors]:t.push(s)}}if(t)throw new El(t)}}add(t){var e;if(t&&t!==this)if(this.closed)Py(t);else{if(t instanceof n){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(t)}}_hasParent(t){let{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){let{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&_i(e,t)}remove(t){let{_finalizers:e}=this;e&&_i(e,t),t instanceof n&&t._removeParent(this)}};Re.EMPTY=(()=>{let n=new Re;return n.closed=!0,n})();var jf=Re.EMPTY;function Sl(n){return n instanceof Re||n&&"closed"in n&&ie(n.remove)&&ie(n.add)&&ie(n.unsubscribe)}function Py(n){ie(n)?n():n.unsubscribe()}var xn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var _o={setTimeout(n,t,...e){let{delegate:r}=_o;return r?.setTimeout?r.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){let{delegate:t}=_o;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Dl(n){_o.setTimeout(()=>{let{onUnhandledError:t}=xn;if(t)t(n);else throw n})}function Rs(){}var Oy=Uf("C",void 0,void 0);function Ry(n){return Uf("E",void 0,n)}function Fy(n){return Uf("N",n,void 0)}function Uf(n,t,e){return{kind:n,value:t,error:e}}var bi=null;function bo(n){if(xn.useDeprecatedSynchronousErrorHandling){let t=!bi;if(t&&(bi={errorThrown:!1,error:null}),n(),t){let{errorThrown:e,error:r}=bi;if(bi=null,e)throw r}}else n()}function Ly(n){xn.useDeprecatedSynchronousErrorHandling&&bi&&(bi.errorThrown=!0,bi.error=n)}var wi=class extends Re{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Sl(t)&&t.add(this)):this.destination=eI}static create(t,e,r){return new lr(t,e,r)}next(t){this.isStopped?$f(Fy(t),this):this._next(t)}error(t){this.isStopped?$f(Ry(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?$f(Oy,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},JD=Function.prototype.bind;function Bf(n,t){return JD.call(n,t)}var Hf=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(r){Il(r)}}error(t){let{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(r){Il(r)}else Il(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){Il(e)}}},lr=class extends wi{constructor(t,e,r){super();let i;if(ie(t)||!t)i={next:t??void 0,error:e??void 0,complete:r??void 0};else{let o;this&&xn.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Bf(t.next,o),error:t.error&&Bf(t.error,o),complete:t.complete&&Bf(t.complete,o)}):i=t}this.destination=new Hf(i)}};function Il(n){xn.useDeprecatedSynchronousErrorHandling?Ly(n):Dl(n)}function XD(n){throw n}function $f(n,t){let{onStoppedNotification:e}=xn;e&&_o.setTimeout(()=>e(n,t))}var eI={closed:!0,next:Rs,error:XD,complete:Rs};var wo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Gt(n){return n}function zf(...n){return Gf(n)}function Gf(n){return n.length===0?Gt:n.length===1?n[0]:function(e){return n.reduce((r,i)=>i(r),e)}}var _e=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){let r=new n;return r.source=this,r.operator=e,r}subscribe(e,r,i){let o=nI(e)?e:new lr(e,r,i);return bo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return r=Vy(r),new r((i,o)=>{let s=new lr({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)}[wo](){return this}pipe(...e){return Gf(e)(this)}toPromise(e){return e=Vy(e),new e((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=t=>new n(t),n})();function Vy(n){var t;return(t=n??xn.Promise)!==null&&t!==void 0?t:Promise}function tI(n){return n&&ie(n.next)&&ie(n.error)&&ie(n.complete)}function nI(n){return n&&n instanceof wi||tI(n)&&Sl(n)}function qf(n){return ie(n?.lift)}function ue(n){return t=>{if(qf(t))return t.lift(function(e){try{return n(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function de(n,t,e,r,i){return new Wf(n,t,e,r,i)}var Wf=class extends wi{constructor(t,e,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Co(){return ue((n,t)=>{let e=null;n._refCount++;let r=de(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){e=null;return}let i=n._connection,o=e;e=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}var Eo=class extends _e{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,qf(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Re;let e=this.getSubject();t.add(this.source.subscribe(de(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Re.EMPTY)}return t}refCount(){return Co()(this)}};var jy=yo(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Fe=(()=>{class n extends _e{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let r=new xl(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new jy}next(e){bo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(e)}})}error(e){bo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){bo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:r,isStopped:i,observers:o}=this;return r||i?jf:(this.currentObservers=null,o.push(e),new Re(()=>{this.currentObservers=null,_i(o,e)}))}_checkFinalizedStatuses(e){let{hasError:r,thrownError:i,isStopped:o}=this;r?e.error(i):o&&e.complete()}asObservable(){let e=new _e;return e.source=this,e}}return n.create=(t,e)=>new xl(t,e),n})(),xl=class extends Fe{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.next)===null||r===void 0||r.call(e,t)}error(t){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.error)===null||r===void 0||r.call(e,t)}complete(){var t,e;(e=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||e===void 0||e.call(t)}_subscribe(t){var e,r;return(r=(e=this.source)===null||e===void 0?void 0:e.subscribe(t))!==null&&r!==void 0?r:jf}};var dt=class extends Fe{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){let{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var Qf={now(){return(Qf.delegate||Date).now()},delegate:void 0};var Tl=class extends Re{constructor(t,e){super()}schedule(t,e=0){return this}};var Fs={setInterval(n,t,...e){let{delegate:r}=Fs;return r?.setInterval?r.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){let{delegate:t}=Fs;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};var Ml=class extends Tl{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var r;if(this.closed)return this;this.state=t;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,e)),this.pending=!0,this.delay=e,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,e),this}requestAsyncId(t,e,r=0){return Fs.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,e,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return e;e!=null&&Fs.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(t,e);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r=!1,i;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:t,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,_i(r,this),t!=null&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}};var So=class n{constructor(t,e=n.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,r){return new this.schedulerActionCtor(this,t).schedule(r,e)}};So.now=Qf.now;var Al=class extends So{constructor(t,e=So.now){super(t,e),this.actions=[],this._active=!1}flush(t){let{actions:e}=this;if(this._active){e.push(t);return}let r;this._active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=e.shift());if(this._active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}};var Uy=new Al(Ml);var Pt=new _e(n=>n.complete());function By(n){return n&&ie(n.schedule)}function $y(n){return n[n.length-1]}function kl(n){return ie($y(n))?n.pop():void 0}function Vr(n){return By($y(n))?n.pop():void 0}function zy(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(p){try{c(r.next(p))}catch(h){s(h)}}function l(p){try{c(r.throw(p))}catch(h){s(h)}}function c(p){p.done?o(p.value):i(p.value).then(a,l)}c((r=r.apply(n,t||[])).next())})}function Hy(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ci(n){return this instanceof Ci?(this.v=n,this):new Ci(n)}function Gy(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(n,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(b){return Promise.resolve(b).then(g,h)}}function a(g,b){r[g]&&(i[g]=function(w){return new Promise(function(T,O){o.push([g,w,T,O])>1||l(g,w)})},b&&(i[g]=b(i[g])))}function l(g,b){try{c(r[g](b))}catch(w){v(o[0][3],w)}}function c(g){g.value instanceof Ci?Promise.resolve(g.value.v).then(p,h):v(o[0][2],g)}function p(g){l("next",g)}function h(g){l("throw",g)}function v(g,b){g(b),o.shift(),o.length&&l(o[0][0],o[0][1])}}function qy(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],e;return t?t.call(n):(n=typeof Hy=="function"?Hy(n):n[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(o){e[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var Nl=n=>n&&typeof n.length=="number"&&typeof n!="function";function Pl(n){return ie(n?.then)}function Ol(n){return ie(n[wo])}function Rl(n){return Symbol.asyncIterator&&ie(n?.[Symbol.asyncIterator])}function Fl(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function rI(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ll=rI();function Vl(n){return ie(n?.[Ll])}function jl(n){return Gy(this,arguments,function*(){let e=n.getReader();try{for(;;){let{value:r,done:i}=yield Ci(e.read());if(i)return yield Ci(void 0);yield yield Ci(r)}}finally{e.releaseLock()}})}function Ul(n){return ie(n?.getReader)}function Ue(n){if(n instanceof _e)return n;if(n!=null){if(Ol(n))return iI(n);if(Nl(n))return oI(n);if(Pl(n))return sI(n);if(Rl(n))return Wy(n);if(Vl(n))return aI(n);if(Ul(n))return lI(n)}throw Fl(n)}function iI(n){return new _e(t=>{let e=n[wo]();if(ie(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function oI(n){return new _e(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}function sI(n){return new _e(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Dl)})}function aI(n){return new _e(t=>{for(let e of n)if(t.next(e),t.closed)return;t.complete()})}function Wy(n){return new _e(t=>{cI(n,t).catch(e=>t.error(e))})}function lI(n){return Wy(jl(n))}function cI(n,t){var e,r,i,o;return zy(this,void 0,void 0,function*(){try{for(e=qy(n);r=yield e.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=e.return)&&(yield o.call(e))}finally{if(i)throw i.error}}t.complete()})}function Ot(n,t,e,r=0,i=!1){let o=t.schedule(function(){e(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Bl(n,t=0){return ue((e,r)=>{e.subscribe(de(r,i=>Ot(r,n,()=>r.next(i),t),()=>Ot(r,n,()=>r.complete(),t),i=>Ot(r,n,()=>r.error(i),t)))})}function $l(n,t=0){return ue((e,r)=>{r.add(n.schedule(()=>e.subscribe(r),t))})}function Qy(n,t){return Ue(n).pipe($l(t),Bl(t))}function Ky(n,t){return Ue(n).pipe($l(t),Bl(t))}function Zy(n,t){return new _e(e=>{let r=0;return t.schedule(function(){r===n.length?e.complete():(e.next(n[r++]),e.closed||this.schedule())})})}function Yy(n,t){return new _e(e=>{let r;return Ot(e,t,()=>{r=n[Ll](),Ot(e,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){e.error(s);return}o?e.complete():e.next(i)},0,!0)}),()=>ie(r?.return)&&r.return()})}function Hl(n,t){if(!n)throw new Error("Iterable cannot be null");return new _e(e=>{Ot(e,t,()=>{let r=n[Symbol.asyncIterator]();Ot(e,t,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function Jy(n,t){return Hl(jl(n),t)}function Xy(n,t){if(n!=null){if(Ol(n))return Qy(n,t);if(Nl(n))return Zy(n,t);if(Pl(n))return Ky(n,t);if(Rl(n))return Hl(n,t);if(Vl(n))return Yy(n,t);if(Ul(n))return Jy(n,t)}throw Fl(n)}function Be(n,t){return t?Xy(n,t):Ue(n)}function W(...n){let t=Vr(n);return Be(n,t)}function jr(n,t){let e=ie(n)?n:()=>n,r=i=>i.error(e());return new _e(t?i=>t.schedule(r,0,i):r)}function Kf(n){return!!n&&(n instanceof _e||ie(n.lift)&&ie(n.subscribe))}var cr=yo(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function K(n,t){return ue((e,r)=>{let i=0;e.subscribe(de(r,o=>{r.next(n.call(t,o,i++))}))})}var{isArray:uI}=Array;function dI(n,t){return uI(t)?n(...t):n(t)}function zl(n){return K(t=>dI(n,t))}var{isArray:fI}=Array,{getPrototypeOf:pI,prototype:hI,keys:mI}=Object;function Gl(n){if(n.length===1){let t=n[0];if(fI(t))return{args:t,keys:null};if(gI(t)){let e=mI(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}function gI(n){return n&&typeof n=="object"&&pI(n)===hI}function ql(n,t){return n.reduce((e,r,i)=>(e[r]=t[i],e),{})}function Do(...n){let t=Vr(n),e=kl(n),{args:r,keys:i}=Gl(n);if(r.length===0)return Be([],t);let o=new _e(vI(r,t,i?s=>ql(i,s):Gt));return e?o.pipe(zl(e)):o}function vI(n,t,e=Gt){return r=>{e_(t,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)e_(t,()=>{let c=Be(n[l],t),p=!1;c.subscribe(de(r,h=>{o[l]=h,p||(p=!0,a--),a||r.next(e(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function e_(n,t,e){n?Ot(e,n,t):t()}function t_(n,t,e,r,i,o,s,a){let l=[],c=0,p=0,h=!1,v=()=>{h&&!l.length&&!c&&t.complete()},g=w=>c<r?b(w):l.push(w),b=w=>{o&&t.next(w),c++;let T=!1;Ue(e(w,p++)).subscribe(de(t,O=>{i?.(O),o?g(O):t.next(O)},()=>{T=!0},void 0,()=>{if(T)try{for(c--;l.length&&c<r;){let O=l.shift();s?Ot(t,s,()=>b(O)):b(O)}v()}catch(O){t.error(O)}}))};return n.subscribe(de(t,g,()=>{h=!0,v()})),()=>{a?.()}}function it(n,t,e=1/0){return ie(t)?it((r,i)=>K((o,s)=>t(r,o,i,s))(Ue(n(r,i))),e):(typeof t=="number"&&(e=t),ue((r,i)=>t_(r,i,n,e)))}function Zf(n=1/0){return it(Gt,n)}function n_(){return Zf(1)}function Ur(...n){return n_()(Be(n,Vr(n)))}function Wl(n){return new _e(t=>{Ue(n()).subscribe(t)})}function Ls(...n){let t=kl(n),{args:e,keys:r}=Gl(n),i=new _e(o=>{let{length:s}=e;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let p=0;p<s;p++){let h=!1;Ue(e[p]).subscribe(de(o,v=>{h||(h=!0,c--),a[p]=v},()=>l--,void 0,()=>{(!l||!h)&&(c||o.next(r?ql(r,a):a),o.complete())}))}});return t?i.pipe(zl(t)):i}function St(n,t){return ue((e,r)=>{let i=0;e.subscribe(de(r,o=>n.call(t,o,i++)&&r.next(o)))})}function $n(n){return ue((t,e)=>{let r=null,i=!1,o;r=t.subscribe(de(e,void 0,void 0,s=>{o=Ue(n(s,$n(n)(t))),r?(r.unsubscribe(),r=null,o.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(e))})}function r_(n,t,e,r,i){return(o,s)=>{let a=e,l=t,c=0;o.subscribe(de(s,p=>{let h=c++;l=a?n(l,p,h):(a=!0,p),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function Br(n,t){return ie(t)?it(n,t,1):it(n,1)}function Yf(n,t=Uy){return ue((e,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let c=o;o=null,r.next(c)}};function l(){let c=s+n,p=t.now();if(p<c){i=this.schedule(void 0,c-p),r.add(i);return}a()}e.subscribe(de(r,c=>{o=c,s=t.now(),i||(i=t.schedule(l,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function $r(n){return ue((t,e)=>{let r=!1;t.subscribe(de(e,i=>{r=!0,e.next(i)},()=>{r||e.next(n),e.complete()}))})}function qt(n){return n<=0?()=>Pt:ue((t,e)=>{let r=0;t.subscribe(de(e,i=>{++r<=n&&(e.next(i),n<=r&&e.complete())}))})}function Ql(n=yI){return ue((t,e)=>{let r=!1;t.subscribe(de(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(n())))})}function yI(){return new cr}function ur(n){return ue((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function dr(n,t){let e=arguments.length>=2;return r=>r.pipe(n?St((i,o)=>n(i,o,r)):Gt,qt(1),e?$r(t):Ql(()=>new cr))}function Io(n){return n<=0?()=>Pt:ue((t,e)=>{let r=[];t.subscribe(de(e,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function Jf(n,t){let e=arguments.length>=2;return r=>r.pipe(n?St((i,o)=>n(i,o,r)):Gt,Io(1),e?$r(t):Ql(()=>new cr))}function Xf(n,t){return ue(r_(n,t,arguments.length>=2,!0))}function tp(n={}){let{connector:t=()=>new Fe,resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,l,c=0,p=!1,h=!1,v=()=>{a?.unsubscribe(),a=void 0},g=()=>{v(),s=l=void 0,p=h=!1},b=()=>{let w=s;g(),w?.unsubscribe()};return ue((w,T)=>{c++,!h&&!p&&v();let O=l=l??t();T.add(()=>{c--,c===0&&!h&&!p&&(a=ep(b,i))}),O.subscribe(T),!s&&c>0&&(s=new lr({next:L=>O.next(L),error:L=>{h=!0,v(),a=ep(g,e,L),O.error(L)},complete:()=>{p=!0,v(),a=ep(g,r),O.complete()}}),Ue(w).subscribe(s))})(o)}}function ep(n,t,...e){if(t===!0){n();return}if(t===!1)return;let r=new lr({next:()=>{r.unsubscribe(),n()}});return Ue(t(...e)).subscribe(r)}function np(n){return St((t,e)=>n<=e)}function Vs(...n){let t=Vr(n);return ue((e,r)=>{(t?Ur(n,e,t):Ur(n,e)).subscribe(r)})}function Wt(n,t){return ue((e,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();e.subscribe(de(r,l=>{i?.unsubscribe();let c=0,p=o++;Ue(n(l,p)).subscribe(i=de(r,h=>r.next(t?t(l,h,p,c++):h),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function js(n){return ue((t,e)=>{Ue(n).subscribe(de(e,()=>e.complete(),Rs)),!e.closed&&t.subscribe(e)})}function ze(n,t,e){let r=ie(n)||t||e?{next:n,error:t,complete:e}:n;return r?ue((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(de(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):Gt}var z_="https://g.co/ng/security#xss",k=class extends Error{code;constructor(t,e){super(Rc(t,e)),this.code=t}};function Rc(n,t){return`${`NG0${Math.abs(n)}`}${t?": "+t:""}`}var G_=Symbol("InputSignalNode#UNSET"),_I=z(N({},Vf),{transformFn:void 0,applyValueToInputSignal(n,t){Cl(n,t)}});function q_(n,t){let e=Object.create(_I);e.value=n,e.transformFn=t?.transform;function r(){if(_l(e),e.value===G_)throw new k(-950,!1);return e.value}return r[Nt]=e,r}function ea(n){return{toString:n}.toString()}var Kl="__parameters__";function bI(n){return function(...e){if(n){let r=n(...e);for(let i in r)this[i]=r[i]}}}function W_(n,t,e){return ea(()=>{let r=bI(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,c,p){let h=l.hasOwnProperty(Kl)?l[Kl]:Object.defineProperty(l,Kl,{value:[]})[Kl];for(;h.length<=p;)h.push(null);return(h[p]=h[p]||[]).push(s),l}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var fr=globalThis;function ke(n){for(let t in n)if(n[t]===ke)return t;throw Error("Could not find renamed property on target object.")}function wI(n,t){for(let e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function It(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(It).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let t=n.toString();if(t==null)return""+t;let e=t.indexOf(`
`);return e===-1?t:t.substring(0,e)}function mp(n,t){return n==null||n===""?t===null?"":t:t==null||t===""?n:n+" "+t}var CI=ke({__forward_ref__:ke});function jt(n){return n.__forward_ref__=jt,n.toString=function(){return It(this())},n}function Dt(n){return Q_(n)?n():n}function Q_(n){return typeof n=="function"&&n.hasOwnProperty(CI)&&n.__forward_ref__===jt}function A(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ot(n){return{providers:n.providers||[],imports:n.imports||[]}}function Fc(n){return i_(n,Z_)||i_(n,Y_)}function K_(n){return Fc(n)!==null}function i_(n,t){return n.hasOwnProperty(t)?n[t]:null}function EI(n){let t=n&&(n[Z_]||n[Y_]);return t||null}function o_(n){return n&&(n.hasOwnProperty(s_)||n.hasOwnProperty(SI))?n[s_]:null}var Z_=ke({\u0275prov:ke}),s_=ke({\u0275inj:ke}),Y_=ke({ngInjectableDef:ke}),SI=ke({ngInjectorDef:ke}),V=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,e){this._desc=t,this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=A({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function J_(n){return n&&!!n.\u0275providers}var DI=ke({\u0275cmp:ke}),II=ke({\u0275dir:ke}),xI=ke({\u0275pipe:ke}),TI=ke({\u0275mod:ke}),lc=ke({\u0275fac:ke}),Hs=ke({__NG_ELEMENT_ID__:ke}),a_=ke({__NG_ENV_ID__:ke});function Po(n){return typeof n=="string"?n:n==null?"":String(n)}function MI(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Po(n)}function AI(n,t){let e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new k(-200,n)}function Ch(n,t){throw new k(-201,!1)}var ce=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ce||{}),gp;function X_(){return gp}function Rt(n){let t=gp;return gp=n,t}function e0(n,t,e){let r=Fc(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(e&ce.Optional)return null;if(t!==void 0)return t;Ch(n,"Injector")}var kI={},zs=kI,vp="__NG_DI_FLAG__",cc="ngTempTokenPath",NI="ngTokenPath",PI=/\n/gm,OI="\u0275",l_="__source",ko;function RI(){return ko}function Hr(n){let t=ko;return ko=n,t}function FI(n,t=ce.Default){if(ko===void 0)throw new k(-203,!1);return ko===null?e0(n,void 0,t):ko.get(n,t&ce.Optional?null:void 0,t)}function R(n,t=ce.Default){return(X_()||FI)(Dt(n),t)}function S(n,t=ce.Default){return R(n,Lc(t))}function Lc(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function yp(n){let t=[];for(let e=0;e<n.length;e++){let r=Dt(n[e]);if(Array.isArray(r)){if(r.length===0)throw new k(900,!1);let i,o=ce.Default;for(let s=0;s<r.length;s++){let a=r[s],l=LI(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}t.push(R(i,o))}else t.push(R(r))}return t}function t0(n,t){return n[vp]=t,n.prototype[vp]=t,n}function LI(n){return n[vp]}function VI(n,t,e,r){let i=n[cc];throw t[l_]&&i.unshift(t[l_]),n.message=jI(`
`+n.message,i,e,r),n[NI]=i,n[cc]=null,n}function jI(n,t,e,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==OI?n.slice(2):n;let i=It(t);if(Array.isArray(t))i=t.map(It).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):It(a)))}i=`{${o.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${n.replace(PI,`
  `)}`}var Vc=t0(W_("Optional"),8);var Eh=t0(W_("SkipSelf"),4);function Di(n,t){let e=n.hasOwnProperty(lc);return e?n[lc]:null}function UI(n,t,e){if(n.length!==t.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=t[r];if(e&&(i=e(i),o=e(o)),o!==i)return!1}return!0}function BI(n){return n.flat(Number.POSITIVE_INFINITY)}function Sh(n,t){n.forEach(e=>Array.isArray(e)?Sh(e,t):t(e))}function n0(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function uc(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function $I(n,t){let e=[];for(let r=0;r<n;r++)e.push(t);return e}function HI(n,t,e,r){let i=n.length;if(i==t)n.push(e,r);else if(i===1)n.push(r,n[0]),n[0]=e;else{for(i--,n.push(n[i-1],n[i]);i>t;){let o=i-2;n[i]=n[o],i--}n[t]=e,n[t+1]=r}}function Dh(n,t,e){let r=ta(n,t);return r>=0?n[r|1]=e:(r=~r,HI(n,r,t,e)),r}function rp(n,t){let e=ta(n,t);if(e>=0)return n[e|1]}function ta(n,t){return zI(n,t,1)}function zI(n,t,e){let r=0,i=n.length>>e;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<e];if(t===s)return o<<e;s>t?i=o:r=o+1}return~(i<<e)}var Oo={},Ft=[],Ro=new V(""),r0=new V("",-1),i0=new V(""),dc=class{get(t,e=zs){if(e===zs){let r=new Error(`NullInjectorError: No provider for ${It(t)}!`);throw r.name="NullInjectorError",r}return e}};function o0(n,t){let e=n[TI]||null;if(!e&&t===!0)throw new Error(`Type ${It(n)} does not have '\u0275mod' property.`);return e}function Ii(n){return n[DI]||null}function s0(n){return n[II]||null}function a0(n){return n[xI]||null}function l0(n){let t=Ii(n)||s0(n)||a0(n);return t!==null&&t.standalone}function $o(n){return{\u0275providers:n}}function GI(...n){return{\u0275providers:c0(!0,n),\u0275fromNgModule:!0}}function c0(n,...t){let e=[],r=new Set,i,o=s=>{e.push(s)};return Sh(t,s=>{let a=s;_p(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&u0(i,o),e}function u0(n,t){for(let e=0;e<n.length;e++){let{ngModule:r,providers:i}=n[e];Ih(i,o=>{t(o,r)})}}function _p(n,t,e,r){if(n=Dt(n),!n)return!1;let i=null,o=o_(n),s=!o&&Ii(n);if(!o&&!s){let l=n.ngModule;if(o=o_(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)_p(c,t,e,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{Sh(o.imports,p=>{_p(p,t,e,r)&&(c||=[],c.push(p))})}finally{}c!==void 0&&u0(c,t)}if(!a){let c=Di(i)||(()=>new i);t({provide:i,useFactory:c,deps:Ft},i),t({provide:i0,useValue:i,multi:!0},i),t({provide:Ro,useValue:()=>R(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=n;Ih(l,p=>{t(p,c)})}}else return!1;return i!==n&&n.providers!==void 0}function Ih(n,t){for(let e of n)J_(e)&&(e=e.\u0275providers),Array.isArray(e)?Ih(e,t):t(e)}var qI=ke({provide:String,useValue:ke});function d0(n){return n!==null&&typeof n=="object"&&qI in n}function WI(n){return!!(n&&n.useExisting)}function QI(n){return!!(n&&n.useFactory)}function Fo(n){return typeof n=="function"}function KI(n){return!!n.useClass}var jc=new V(""),tc={},ZI={},ip;function xh(){return ip===void 0&&(ip=new dc),ip}var Lt=class{},Gs=class extends Lt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,e,r,i){super(),this.parent=e,this.source=r,this.scopes=i,wp(t,s=>this.processProvider(s)),this.records.set(r0,xo(void 0,this)),i.has("environment")&&this.records.set(Lt,xo(void 0,this));let o=this.records.get(jc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(i0,Ft,ce.Self))}destroy(){Bs(this),this._destroyed=!0;let t=we(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of e)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),we(t)}}onDestroy(t){return Bs(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Bs(this);let e=Hr(this),r=Rt(void 0),i;try{return t()}finally{Hr(e),Rt(r)}}get(t,e=zs,r=ce.Default){if(Bs(this),t.hasOwnProperty(a_))return t[a_](this);r=Lc(r);let i,o=Hr(this),s=Rt(void 0);try{if(!(r&ce.SkipSelf)){let l=this.records.get(t);if(l===void 0){let c=tx(t)&&Fc(t);c&&this.injectableDefInScope(c)?l=xo(bp(t),tc):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l)}let a=r&ce.Self?xh():this.parent;return e=r&ce.Optional&&e===zs?null:e,a.get(t,e)}catch(a){if(a.name==="NullInjectorError"){if((a[cc]=a[cc]||[]).unshift(It(t)),o)throw a;return VI(a,t,"R3InjectorError",this.source)}else throw a}finally{Rt(s),Hr(o)}}resolveInjectorInitializers(){let t=we(null),e=Hr(this),r=Rt(void 0),i;try{let o=this.get(Ro,Ft,ce.Self);for(let s of o)s()}finally{Hr(e),Rt(r),we(t)}}toString(){let t=[],e=this.records;for(let r of e.keys())t.push(It(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=Dt(t);let e=Fo(t)?t:Dt(t&&t.provide),r=JI(t);if(!Fo(t)&&t.multi===!0){let i=this.records.get(e);i||(i=xo(void 0,tc,!0),i.factory=()=>yp(i.multi),this.records.set(e,i)),e=t,i.multi.push(t)}this.records.set(e,r)}hydrate(t,e){let r=we(null);try{return e.value===tc&&(e.value=ZI,e.value=e.factory()),typeof e.value=="object"&&e.value&&ex(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{we(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;let e=Dt(t.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){let e=this._onDestroyHooks.indexOf(t);e!==-1&&this._onDestroyHooks.splice(e,1)}};function bp(n){let t=Fc(n),e=t!==null?t.factory:Di(n);if(e!==null)return e;if(n instanceof V)throw new k(204,!1);if(n instanceof Function)return YI(n);throw new k(204,!1)}function YI(n){if(n.length>0)throw new k(204,!1);let e=EI(n);return e!==null?()=>e.factory(n):()=>new n}function JI(n){if(d0(n))return xo(void 0,n.useValue);{let t=f0(n);return xo(t,tc)}}function f0(n,t,e){let r;if(Fo(n)){let i=Dt(n);return Di(i)||bp(i)}else if(d0(n))r=()=>Dt(n.useValue);else if(QI(n))r=()=>n.useFactory(...yp(n.deps||[]));else if(WI(n))r=()=>R(Dt(n.useExisting));else{let i=Dt(n&&(n.useClass||n.provide));if(XI(n))r=()=>new i(...yp(n.deps));else return Di(i)||bp(i)}return r}function Bs(n){if(n.destroyed)throw new k(205,!1)}function xo(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function XI(n){return!!n.deps}function ex(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function tx(n){return typeof n=="function"||typeof n=="object"&&n instanceof V}function wp(n,t){for(let e of n)Array.isArray(e)?wp(e,t):e&&J_(e)?wp(e.\u0275providers,t):t(e)}function Zt(n,t){n instanceof Gs&&Bs(n);let e,r=Hr(n),i=Rt(void 0);try{return t()}finally{Hr(r),Rt(i)}}function p0(){return X_()!==void 0||RI()!=null}function Th(n){if(!p0())throw new k(-203,!1)}function nx(n){return typeof n=="function"}var yr=0,fe=1,ne=2,_t=3,An=4,Ut=5,qs=6,fc=7,dn=8,Ws=9,pr=10,Ge=11,Qs=12,c_=13,Ho=14,fn=15,xi=16,To=17,hr=18,Uc=19,h0=20,zr=21,nc=22,Ti=23,Qt=24,xt=25,m0=1;var Mi=7,pc=8,Lo=9,Kt=10;function Gr(n){return Array.isArray(n)&&typeof n[m0]=="object"}function _r(n){return Array.isArray(n)&&n[m0]===!0}function Mh(n){return(n.flags&4)!==0}function Ri(n){return n.componentOffset>-1}function Bc(n){return(n.flags&1)===1}function mr(n){return!!n.template}function hc(n){return(n[ne]&512)!==0}function na(n){return(n[ne]&256)===256}var Cp=class{previousValue;currentValue;firstChange;constructor(t,e,r){this.previousValue=t,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}};function g0(n,t,e,r){t!==null?t.applyValueToInputSignal(t,r):n[e]=r}var Qn=(()=>{let n=()=>v0;return n.ngInherit=!0,n})();function v0(n){return n.type.prototype.ngOnChanges&&(n.setInput=ix),rx}function rx(){let n=_0(this),t=n?.current;if(t){let e=n.previous;if(e===Oo)n.previous=t;else for(let r in t)e[r]=t[r];n.current=null,this.ngOnChanges(t)}}function ix(n,t,e,r,i){let o=this.declaredInputs[r],s=_0(n)||ox(n,{previous:Oo,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new Cp(c&&c.currentValue,e,l===Oo),g0(n,t,i,e)}var y0="__ngSimpleChanges__";function _0(n){return n[y0]||null}function ox(n,t){return n[y0]=t}var u_=null;var un=function(n,t,e){u_?.(n,t,e)},sx="svg",ax="math";function zn(n){for(;Array.isArray(n);)n=n[yr];return n}function b0(n,t){return zn(t[n])}function kn(n,t){return zn(t[n.index])}function w0(n,t){return n.data[t]}function C0(n,t){return n[t]}function Gn(n,t){let e=t[n];return Gr(e)?e:e[yr]}function lx(n){return(n[ne]&4)===4}function Ah(n){return(n[ne]&128)===128}function cx(n){return _r(n[_t])}function Vo(n,t){return t==null?null:n[t]}function E0(n){n[To]=0}function kh(n){n[ne]&1024||(n[ne]|=1024,Ah(n)&&ra(n))}function ux(n,t){for(;n>0;)t=t[Ho],n--;return t}function $c(n){return!!(n[ne]&9216||n[Qt]?.dirty)}function Ep(n){n[pr].changeDetectionScheduler?.notify(9),n[ne]&64&&(n[ne]|=1024),$c(n)&&ra(n)}function ra(n){n[pr].changeDetectionScheduler?.notify(0);let t=Ai(n);for(;t!==null&&!(t[ne]&8192||(t[ne]|=8192,!Ah(t)));)t=Ai(t)}function S0(n,t){if(na(n))throw new k(911,!1);n[zr]===null&&(n[zr]=[]),n[zr].push(t)}function dx(n,t){if(n[zr]===null)return;let e=n[zr].indexOf(t);e!==-1&&n[zr].splice(e,1)}function Ai(n){let t=n[_t];return _r(t)?t[_t]:t}function D0(n){return n[fc]??=[]}function I0(n){return n.cleanup??=[]}function fx(n,t,e,r){let i=D0(t);i.push(e),n.firstCreatePass&&I0(n).push(r,i.length-1)}var ae={lFrame:O0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Sp=!1;function px(){return ae.lFrame.elementDepthCount}function hx(){ae.lFrame.elementDepthCount++}function mx(){ae.lFrame.elementDepthCount--}function x0(){return ae.bindingsEnabled}function T0(){return ae.skipHydrationRootTNode!==null}function gx(n){return ae.skipHydrationRootTNode===n}function vx(){ae.skipHydrationRootTNode=null}function ye(){return ae.lFrame.lView}function Je(){return ae.lFrame.tView}function D(n){return ae.lFrame.contextLView=n,n[dn]}function I(n){return ae.lFrame.contextLView=null,n}function Tt(){let n=M0();for(;n!==null&&n.type===64;)n=n.parent;return n}function M0(){return ae.lFrame.currentTNode}function yx(){let n=ae.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}function Fi(n,t){let e=ae.lFrame;e.currentTNode=n,e.isParent=t}function Nh(){return ae.lFrame.isParent}function Ph(){ae.lFrame.isParent=!1}function _x(){return ae.lFrame.contextLView}function A0(){return Sp}function mc(n){let t=Sp;return Sp=n,t}function Oh(){let n=ae.lFrame,t=n.bindingRootIndex;return t===-1&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function bx(){return ae.lFrame.bindingIndex}function wx(n){return ae.lFrame.bindingIndex=n}function Hc(){return ae.lFrame.bindingIndex++}function Rh(n){let t=ae.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function Cx(){return ae.lFrame.inI18n}function Ex(n,t){let e=ae.lFrame;e.bindingIndex=e.bindingRootIndex=n,Dp(t)}function Sx(){return ae.lFrame.currentDirectiveIndex}function Dp(n){ae.lFrame.currentDirectiveIndex=n}function Dx(n){let t=ae.lFrame.currentDirectiveIndex;return t===-1?null:n[t]}function k0(){return ae.lFrame.currentQueryIndex}function Fh(n){ae.lFrame.currentQueryIndex=n}function Ix(n){let t=n[fe];return t.type===2?t.declTNode:t.type===1?n[Ut]:null}function N0(n,t,e){if(e&ce.SkipSelf){let i=t,o=n;for(;i=i.parent,i===null&&!(e&ce.Host);)if(i=Ix(o),i===null||(o=o[Ho],i.type&10))break;if(i===null)return!1;t=i,n=o}let r=ae.lFrame=P0();return r.currentTNode=t,r.lView=n,!0}function Lh(n){let t=P0(),e=n[fe];ae.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function P0(){let n=ae.lFrame,t=n===null?null:n.child;return t===null?O0(n):t}function O0(n){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=t),t}function R0(){let n=ae.lFrame;return ae.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var F0=R0;function Vh(){let n=R0();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function xx(n){return(ae.lFrame.contextLView=ux(n,ae.lFrame.contextLView))[dn]}function Jr(){return ae.lFrame.selectedIndex}function ki(n){ae.lFrame.selectedIndex=n}function jh(){let n=ae.lFrame;return w0(n.tView,n.selectedIndex)}function Tx(){return ae.lFrame.currentNamespace}var L0=!0;function zc(){return L0}function Gc(n){L0=n}function Mx(n,t,e){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=v0(t);(e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s)}i&&(e.preOrderHooks??=[]).push(0-n,i),o&&((e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o))}function qc(n,t){for(let e=t.directiveStart,r=t.directiveEnd;e<r;e++){let o=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:p}=o;s&&(n.contentHooks??=[]).push(-e,s),a&&((n.contentHooks??=[]).push(e,a),(n.contentCheckHooks??=[]).push(e,a)),l&&(n.viewHooks??=[]).push(-e,l),c&&((n.viewHooks??=[]).push(e,c),(n.viewCheckHooks??=[]).push(e,c)),p!=null&&(n.destroyHooks??=[]).push(e,p)}}function rc(n,t,e){V0(n,t,3,e)}function ic(n,t,e,r){(n[ne]&3)===e&&V0(n,t,e,r)}function op(n,t){let e=n[ne];(e&3)===t&&(e&=16383,e+=1,n[ne]=e)}function V0(n,t,e,r){let i=r!==void 0?n[To]&65535:0,o=r??-1,s=t.length-1,a=0;for(let l=i;l<s;l++)if(typeof t[l+1]=="number"){if(a=t[l],r!=null&&a>=r)break}else t[l]<0&&(n[To]+=65536),(a<o||o==-1)&&(Ax(n,e,t,l),n[To]=(n[To]&4294901760)+l+2),l++}function d_(n,t){un(4,n,t);let e=we(null);try{t.call(n)}finally{we(e),un(5,n,t)}}function Ax(n,t,e,r){let i=e[r]<0,o=e[r+1],s=i?-e[r]:e[r],a=n[s];i?n[ne]>>14<n[To]>>16&&(n[ne]&3)===t&&(n[ne]+=16384,d_(a,o)):d_(a,o)}var No=-1,Ni=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,e,r){this.factory=t,this.canSeeViewProviders=e,this.injectImpl=r}};function kx(n){return n instanceof Ni}function Nx(n){return(n.flags&8)!==0}function Px(n){return(n.flags&16)!==0}function Ox(n,t,e){let r=0;for(;r<e.length;){let i=e[r];if(typeof i=="number"){if(i!==0)break;r++;let o=e[r++],s=e[r++],a=e[r++];n.setAttribute(t,s,a,o)}else{let o=i,s=e[++r];Rx(o)?n.setProperty(t,o,s):n.setAttribute(t,o,s),r++}}return r}function j0(n){return n===3||n===4||n===6}function Rx(n){return n.charCodeAt(0)===64}function jo(n,t){if(!(t===null||t.length===0))if(n===null||n.length===0)n=t.slice();else{let e=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?e=i:e===0||(e===-1||e===2?f_(n,e,i,null,t[++r]):f_(n,e,i,null,null))}}return n}function f_(n,t,e,r,i){let o=0,s=n.length;if(t===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===e){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,t),o=s+1),n.splice(o++,0,e),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}var sp={},Ip=class{injector;parentInjector;constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,r){r=Lc(r);let i=this.injector.get(t,sp,r);return i!==sp||e===sp?i:this.parentInjector.get(t,e,r)}};function U0(n){return n!==No}function gc(n){return n&32767}function Fx(n){return n>>16}function vc(n,t){let e=Fx(n),r=t;for(;e>0;)r=r[Ho],e--;return r}var xp=!0;function yc(n){let t=xp;return xp=n,t}var Lx=256,B0=Lx-1,$0=5,Vx=0,Hn={};function jx(n,t,e){let r;typeof e=="string"?r=e.charCodeAt(0)||0:e.hasOwnProperty(Hs)&&(r=e[Hs]),r==null&&(r=e[Hs]=Vx++);let i=r&B0,o=1<<i;t.data[n+(i>>$0)]|=o}function _c(n,t){let e=H0(n,t);if(e!==-1)return e;let r=t[fe];r.firstCreatePass&&(n.injectorIndex=t.length,ap(r.data,n),ap(t,null),ap(r.blueprint,null));let i=Uh(n,t),o=n.injectorIndex;if(U0(i)){let s=gc(i),a=vc(i,t),l=a[fe].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=i,o}function ap(n,t){n.push(0,0,0,0,0,0,0,0,t)}function H0(n,t){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||t[n.injectorIndex+8]===null?-1:n.injectorIndex}function Uh(n,t){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let e=0,r=null,i=t;for(;i!==null;){if(r=Q0(i),r===null)return No;if(e++,i=i[Ho],r.injectorIndex!==-1)return r.injectorIndex|e<<16}return No}function Tp(n,t,e){jx(n,t,e)}function Ux(n,t){if(t==="class")return n.classes;if(t==="style")return n.styles;let e=n.attrs;if(e){let r=e.length,i=0;for(;i<r;){let o=e[i];if(j0(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof e[i]=="string";)i++;else{if(o===t)return e[i+1];i=i+2}}}return null}function z0(n,t,e){if(e&ce.Optional||n!==void 0)return n;Ch(t,"NodeInjector")}function G0(n,t,e,r){if(e&ce.Optional&&r===void 0&&(r=null),!(e&(ce.Self|ce.Host))){let i=n[Ws],o=Rt(void 0);try{return i?i.get(t,r,e&ce.Optional):e0(t,r,e&ce.Optional)}finally{Rt(o)}}return z0(r,t,e)}function q0(n,t,e,r=ce.Default,i){if(n!==null){if(t[ne]&2048&&!(r&ce.Self)){let s=zx(n,t,e,r,Hn);if(s!==Hn)return s}let o=W0(n,t,e,r,Hn);if(o!==Hn)return o}return G0(t,e,r,i)}function W0(n,t,e,r,i){let o=$x(e);if(typeof o=="function"){if(!N0(t,n,r))return r&ce.Host?z0(i,e,r):G0(t,e,r,i);try{let s;if(s=o(r),s==null&&!(r&ce.Optional))Ch(e);else return s}finally{F0()}}else if(typeof o=="number"){let s=null,a=H0(n,t),l=No,c=r&ce.Host?t[fn][Ut]:null;for((a===-1||r&ce.SkipSelf)&&(l=a===-1?Uh(n,t):t[a+8],l===No||!h_(r,!1)?a=-1:(s=t[fe],a=gc(l),t=vc(l,t)));a!==-1;){let p=t[fe];if(p_(o,a,p.data)){let h=Bx(a,t,e,s,r,c);if(h!==Hn)return h}l=t[a+8],l!==No&&h_(r,t[fe].data[a+8]===c)&&p_(o,a,t)?(s=p,a=gc(l),t=vc(l,t)):a=-1}}return i}function Bx(n,t,e,r,i,o){let s=t[fe],a=s.data[n+8],l=r==null?Ri(a)&&xp:r!=s&&(a.type&3)!==0,c=i&ce.Host&&o===a,p=oc(a,s,e,l,c);return p!==null?Ks(t,s,p,a):Hn}function oc(n,t,e,r,i){let o=n.providerIndexes,s=t.data,a=o&1048575,l=n.directiveStart,c=n.directiveEnd,p=o>>20,h=r?a:a+p,v=i?a+p:c;for(let g=h;g<v;g++){let b=s[g];if(g<l&&e===b||g>=l&&b.type===e)return g}if(i){let g=s[l];if(g&&mr(g)&&g.type===e)return l}return null}function Ks(n,t,e,r){let i=n[e],o=t.data;if(kx(i)){let s=i;s.resolving&&AI(MI(o[e]));let a=yc(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?Rt(s.injectImpl):null,p=N0(n,r,ce.Default);try{i=n[e]=s.factory(void 0,o,n,r),t.firstCreatePass&&e>=r.directiveStart&&Mx(e,o[e],t)}finally{c!==null&&Rt(c),yc(a),s.resolving=!1,F0()}}return i}function $x(n){if(typeof n=="string")return n.charCodeAt(0)||0;let t=n.hasOwnProperty(Hs)?n[Hs]:void 0;return typeof t=="number"?t>=0?t&B0:Hx:t}function p_(n,t,e){let r=1<<n;return!!(e[t+(n>>$0)]&r)}function h_(n,t){return!(n&ce.Self)&&!(n&ce.Host&&t)}var Si=class{_tNode;_lView;constructor(t,e){this._tNode=t,this._lView=e}get(t,e,r){return q0(this._tNode,this._lView,t,Lc(r),e)}};function Hx(){return new Si(Tt(),ye())}function Kn(n){return ea(()=>{let t=n.prototype.constructor,e=t[lc]||Mp(t),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[lc]||Mp(i);if(o&&o!==e)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Mp(n){return Q_(n)?()=>{let t=Mp(Dt(n));return t&&t()}:Di(n)}function zx(n,t,e,r,i){let o=n,s=t;for(;o!==null&&s!==null&&s[ne]&2048&&!hc(s);){let a=W0(o,s,e,r|ce.Self,Hn);if(a!==Hn)return a;let l=o.parent;if(!l){let c=s[h0];if(c){let p=c.get(e,Hn,r);if(p!==Hn)return p}l=Q0(s),s=s[Ho]}o=l}return i}function Q0(n){let t=n[fe],e=t.type;return e===2?t.declTNode:e===1?n[Ut]:null}function Wc(n){return Ux(Tt(),n)}function m_(n,t=null,e=null,r){let i=K0(n,t,e,r);return i.resolveInjectorInitializers(),i}function K0(n,t=null,e=null,r,i=new Set){let o=[e||Ft,GI(n)];return r=r||(typeof n=="object"?void 0:It(n)),new Gs(o,t||xh(),r||null,i)}var ft=class n{static THROW_IF_NOT_FOUND=zs;static NULL=new dc;static create(t,e){if(Array.isArray(t))return m_({name:""},e,t,"");{let r=t.name??"";return m_({name:r},t.parent,t.providers,r)}}static \u0275prov=A({token:n,providedIn:"any",factory:()=>R(r0)});static __NG_ELEMENT_ID__=-1};var bc=class{attributeName;constructor(t){this.attributeName=t}__NG_ELEMENT_ID__=()=>Wc(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},Gx=new V("");Gx.__NG_ELEMENT_ID__=n=>{let t=Tt();if(t===null)throw new k(204,!1);if(t.type&2)return t.value;if(n&ce.Optional)return null;throw new k(204,!1)};var Z0=!1,Li=(()=>{class n{static __NG_ELEMENT_ID__=qx;static __NG_ENV_ID__=e=>e}return n})(),wc=class extends Li{_lView;constructor(t){super(),this._lView=t}onDestroy(t){return S0(this._lView,t),()=>dx(this._lView,t)}};function qx(){return new wc(ye())}var qr=class{},Qc=new V("",{providedIn:"root",factory:()=>!1});var Y0=new V(""),Bh=new V(""),br=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new dt(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=A({token:n,providedIn:"root",factory:()=>new n})}return n})();var Ap=class extends Fe{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,p0()&&(this.destroyRef=S(Li,{optional:!0})??void 0,this.pendingTasks=S(br,{optional:!0})??void 0)}emit(t){let e=we(null);try{super.next(t)}finally{we(e)}}subscribe(t,e,r){let i=t,o=e||(()=>null),s=r;if(t&&typeof t=="object"){let l=t;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof Re&&t.add(a),a}wrapInTimeout(t){return e=>{let r=this.pendingTasks?.add();setTimeout(()=>{t(e),r!==void 0&&this.pendingTasks?.remove(r)})}}},ve=Ap;function Zs(...n){}function J0(n){let t,e;function r(){n=Zs;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{n(),r()})),()=>r()}function g_(n){return queueMicrotask(()=>n()),()=>{n=Zs}}var $h="isAngularZone",Cc=$h+"_ID",Wx=0,Ae=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ve(!1);onMicrotaskEmpty=new ve(!1);onStable=new ve(!1);onError=new ve(!1);constructor(t){let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Z0}=t;if(typeof Zone>"u")throw new k(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Zx(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get($h)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new k(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new k(909,!1)}run(t,e,r){return this._inner.run(t,e,r)}runTask(t,e,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,Qx,Zs,Zs);try{return o.runTask(s,e,r)}finally{o.cancelTask(s)}}runGuarded(t,e,r){return this._inner.runGuarded(t,e,r)}runOutsideAngular(t){return this._outer.run(t)}},Qx={};function Hh(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Kx(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function t(){J0(()=>{n.callbackScheduled=!1,kp(n),n.isCheckStableRunning=!0,Hh(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{t()}):n._outer.run(()=>{t()}),kp(n)}function Zx(n){let t=()=>{Kx(n)},e=Wx++;n._inner=n._inner.fork({name:"angular",properties:{[$h]:!0,[Cc]:e,[Cc+e]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(Yx(l))return r.invokeTask(o,s,a,l);try{return v_(n),r.invokeTask(o,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&t(),y_(n)}},onInvoke:(r,i,o,s,a,l,c)=>{try{return v_(n),r.invoke(o,s,a,l,c)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!Jx(l)&&t(),y_(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,kp(n),Hh(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function kp(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function v_(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function y_(n){n._nesting--,Hh(n)}var Ec=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ve;onMicrotaskEmpty=new ve;onStable=new ve;onError=new ve;run(t,e,r){return t.apply(e,r)}runGuarded(t,e,r){return t.apply(e,r)}runOutsideAngular(t){return t()}runTask(t,e,r,i){return t.apply(e,r)}};function Yx(n){return X0(n,"__ignore_ng_zone__")}function Jx(n){return X0(n,"__scheduler_tick__")}function X0(n,t){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[t]===!0}var Vt=class{_console=console;handleError(t){this._console.error("ERROR",t)}},Xx=new V("",{providedIn:"root",factory:()=>{let n=S(Ae),t=S(Vt);return e=>n.runOutsideAngular(()=>t.handleError(e))}});function __(n,t){return q_(n,t)}function eT(n){return q_(G_,n)}var eb=(__.required=eT,__);function tT(){return zo(Tt(),ye())}function zo(n,t){return new Xe(kn(n,t))}var Xe=(()=>{class n{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=tT}return n})();function nT(n){return n instanceof Xe?n.nativeElement:n}var b_=new Set;function Nn(n){b_.has(n)||(b_.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function zh(n){return typeof n=="function"&&n[Nt]!==void 0}function Q(n,t){Nn("NgSignals");let e=Ay(n),r=e[Nt];return t?.equal&&(r.equal=t.equal),e.set=i=>Cl(r,i),e.update=i=>ky(r,i),e.asReadonly=rT.bind(e),e}function rT(){let n=this[Nt];if(n.readonlyFn===void 0){let t=()=>this();t[Nt]=n,n.readonlyFn=t}return n.readonlyFn}function tb(n){return zh(n)&&typeof n.set=="function"}function iT(){return this._results[Symbol.iterator]()}var Sc=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Fe}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;let r=BI(t);(this._changesDetected=!UI(this._results,r,e))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=iT};function nb(n){return(n.flags&128)===128}var rb=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(rb||{}),ib=new Map,oT=0;function sT(){return oT++}function aT(n){ib.set(n[Uc],n)}function Np(n){ib.delete(n[Uc])}var w_="__ngContext__";function Vi(n,t){Gr(t)?(n[w_]=t[Uc],aT(t)):n[w_]=t}function ob(n){return ab(n[Qs])}function sb(n){return ab(n[An])}function ab(n){for(;n!==null&&!_r(n);)n=n[An];return n}var Pp;function lb(n){Pp=n}function lT(){if(Pp!==void 0)return Pp;if(typeof document<"u")return document;throw new k(210,!1)}var Kc=new V("",{providedIn:"root",factory:()=>cT}),cT="ng",Gh=new V(""),bt=new V("",{providedIn:"platform",factory:()=>"unknown"});var Zc=new V(""),ia=new V("",{providedIn:"root",factory:()=>lT().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var uT="h",dT="b";var cb=!1,fT=new V("",{providedIn:"root",factory:()=>cb});var qh=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(qh||{}),Go=new V("");var Mo=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Mo||{}),ub=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=A({token:n,providedIn:"root",factory:()=>new n})}return n})(),pT=[Mo.EarlyRead,Mo.Write,Mo.MixedReadWrite,Mo.Read],hT=(()=>{class n{ngZone=S(Ae);scheduler=S(qr);errorHandler=S(Vt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){S(Go,{optional:!0})}execute(){this.executing=!0;for(let e of pT)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[e]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>r.hooks[e](r.pipelinedValue),r.snapshot))}catch(i){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(8),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(7))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}maybeTrace(e,r){return r?r.run(qh.AFTER_NEXT_RENDER,e):e()}static \u0275prov=A({token:n,providedIn:"root",factory:()=>new n})}return n})(),Op=class{impl;hooks;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,e,r,i,o=null){this.impl=t,this.hooks=e,this.once=r,this.snapshot=o,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function Wh(n,t){!t?.injector&&Th(Wh);let e=t?.injector??S(ft);return Nn("NgAfterRender"),gT(n,e,t,!1)}function mT(n,t){if(n instanceof Function){let e=[void 0,void 0,void 0,void 0];return e[t]=n,e}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function gT(n,t,e,r){let i=t.get(ub);i.impl??=t.get(hT);let o=t.get(Go,null,{optional:!0}),s=e?.phase??Mo.MixedReadWrite,a=e?.manualCleanup!==!0?t.get(Li):null,l=new Op(i.impl,mT(n,s),r,a,o?.snapshot(null));return i.impl.register(l),l}var vT=()=>null;function db(n,t,e=!1){return vT(n,t,e)}function fb(n,t){let e=n.contentQueries;if(e!==null){let r=we(null);try{for(let i=0;i<e.length;i+=2){let o=e[i],s=e[i+1];if(s!==-1){let a=n.data[s];Fh(o),a.contentQueries(2,t[s],s)}}}finally{we(r)}}}function Rp(n,t,e){Fh(0);let r=we(null);try{t(n,e)}finally{we(r)}}function Qh(n,t,e){if(Mh(t)){let r=we(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let l=e[s];a.contentQueries(1,l,s)}}}finally{we(r)}}}var qn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(qn||{}),Zl;function yT(){if(Zl===void 0&&(Zl=null,fr.trustedTypes))try{Zl=fr.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Zl}function Yc(n){return yT()?.createHTML(n)||n}var Yl;function _T(){if(Yl===void 0&&(Yl=null,fr.trustedTypes))try{Yl=fr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Yl}function C_(n){return _T()?.createScriptURL(n)||n}var gr=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${z_})`}},Fp=class extends gr{getTypeName(){return"HTML"}},Lp=class extends gr{getTypeName(){return"Style"}},Vp=class extends gr{getTypeName(){return"Script"}},jp=class extends gr{getTypeName(){return"URL"}},Up=class extends gr{getTypeName(){return"ResourceURL"}};function Pn(n){return n instanceof gr?n.changingThisBreaksApplicationSecurity:n}function Xr(n,t){let e=bT(n);if(e!=null&&e!==t){if(e==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${z_})`)}return e===t}function bT(n){return n instanceof gr&&n.getTypeName()||null}function pb(n){return new Fp(n)}function hb(n){return new Lp(n)}function mb(n){return new Vp(n)}function gb(n){return new jp(n)}function vb(n){return new Up(n)}function wT(n){let t=new $p(n);return CT()?new Bp(t):t}var Bp=class{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{let e=new window.DOMParser().parseFromString(Yc(t),"text/html").body;return e===null?this.inertDocumentHelper.getInertBodyElement(t):(e.firstChild?.remove(),e)}catch{return null}}},$p=class{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){let e=this.inertDocument.createElement("template");return e.innerHTML=Yc(t),e}};function CT(){try{return!!new window.DOMParser().parseFromString(Yc(""),"text/html")}catch{return!1}}var ET=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Jc(n){return n=String(n),n.match(ET)?n:"unsafe:"+n}function wr(n){let t={};for(let e of n.split(","))t[e]=!0;return t}function oa(...n){let t={};for(let e of n)for(let r in e)e.hasOwnProperty(r)&&(t[r]=!0);return t}var yb=wr("area,br,col,hr,img,wbr"),_b=wr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),bb=wr("rp,rt"),ST=oa(bb,_b),DT=oa(_b,wr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),IT=oa(bb,wr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),E_=oa(yb,DT,IT,ST),wb=wr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),xT=wr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),TT=wr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),MT=oa(wb,xT,TT),AT=wr("script,style,template"),Hp=class{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let e=t.firstChild,r=!0,i=[];for(;e;){if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild){i.push(e),e=PT(e);continue}for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let o=NT(e);if(o){e=o;break}e=i.pop()}}return this.buf.join("")}startElement(t){let e=S_(t).toLowerCase();if(!E_.hasOwnProperty(e))return this.sanitizedSomething=!0,!AT.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);let r=t.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!MT.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;wb[a]&&(l=Jc(l)),this.buf.push(" ",s,'="',D_(l),'"')}return this.buf.push(">"),!0}endElement(t){let e=S_(t).toLowerCase();E_.hasOwnProperty(e)&&!yb.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(D_(t))}};function kT(n,t){return(n.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function NT(n){let t=n.nextSibling;if(t&&n!==t.previousSibling)throw Cb(t);return t}function PT(n){let t=n.firstChild;if(t&&kT(n,t))throw Cb(t);return t}function S_(n){let t=n.nodeName;return typeof t=="string"?t:"FORM"}function Cb(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var OT=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,RT=/([^\#-~ |!])/g;function D_(n){return n.replace(/&/g,"&amp;").replace(OT,function(t){let e=t.charCodeAt(0),r=t.charCodeAt(1);return"&#"+((e-55296)*1024+(r-56320)+65536)+";"}).replace(RT,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Jl;function Eb(n,t){let e=null;try{Jl=Jl||wT(n);let r=t?String(t):"";e=Jl.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=e.innerHTML,e=Jl.getInertBodyElement(r)}while(r!==o);let a=new Hp().sanitizeChildren(I_(e)||e);return Yc(a)}finally{if(e){let r=I_(e)||e;for(;r.firstChild;)r.firstChild.remove()}}}function I_(n){return"content"in n&&FT(n)?n.content:null}function FT(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var wt=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(wt||{});function pn(n){let t=Db();return t?t.sanitize(wt.URL,n)||"":Xr(n,"URL")?Pn(n):Jc(Po(n))}function Kh(n){let t=Db();if(t)return C_(t.sanitize(wt.RESOURCE_URL,n)||"");if(Xr(n,"ResourceURL"))return C_(Pn(n));throw new k(904,!1)}function LT(n,t){return t==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||t==="href"&&(n==="base"||n==="link")?Kh:pn}function Sb(n,t,e){return LT(t,e)(n)}function Db(){let n=ye();return n&&n[pr].sanitizer}var VT=/^>|^->|<!--|-->|--!>|<!-$/g,jT=/(<|>)/g,UT="\u200B$1\u200B";function BT(n){return n.replace(VT,t=>t.replace(jT,UT))}function Ib(n){return n.ownerDocument}function xb(n){return n instanceof Function?n():n}var Wr=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Wr||{});function $T(n,t,e){let r=n.length;for(;;){let i=n.indexOf(t,e);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}e=i+1}}var Tb="ng-template";function HT(n,t,e,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&$T(t[i+1].toLowerCase(),e,0)!==-1)return!0}else if(Zh(n))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===e)return!0}return!1}function Zh(n){return n.type===4&&n.value!==Tb}function zT(n,t,e){let r=n.type===4&&!e?Tb:n.value;return t===r}function GT(n,t,e){let r=4,i=n.attrs,o=i!==null?QT(i):0,s=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!s&&!Tn(r)&&!Tn(l))return!1;if(s&&Tn(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!zT(n,l,e)||l===""&&t.length===1){if(Tn(r))return!1;s=!0}}else if(r&8){if(i===null||!HT(n,i,l,e)){if(Tn(r))return!1;s=!0}}else{let c=t[++a],p=qT(l,i,Zh(n),e);if(p===-1){if(Tn(r))return!1;s=!0;continue}if(c!==""){let h;if(p>o?h="":h=i[p+1].toLowerCase(),r&2&&c!==h){if(Tn(r))return!1;s=!0}}}}return Tn(r)||s}function Tn(n){return(n&1)===0}function qT(n,t,e,r){if(t===null)return-1;let i=0;if(r||!e){let o=!1;for(;i<t.length;){let s=t[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return KT(t,n)}function Mb(n,t,e=!1){for(let r=0;r<t.length;r++)if(GT(n,t[r],e))return!0;return!1}function WT(n){let t=n.attrs;if(t!=null){let e=t.indexOf(5);if(!(e&1))return t[e+1]}return null}function QT(n){for(let t=0;t<n.length;t++){let e=n[t];if(j0(e))return t}return n.length}function KT(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){let r=n[e];if(typeof r=="number")return-1;if(r===t)return e;e++}return-1}function ZT(n,t){e:for(let e=0;e<t.length;e++){let r=t[e];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function x_(n,t){return n?":not("+t.trim()+")":t}function YT(n){let t=n[0],e=1,r=2,i="",o=!1;for(;e<n.length;){let s=n[e];if(typeof s=="string")if(r&2){let a=n[++e];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Tn(s)&&(t+=x_(o,i),i=""),r=s,o=o||!Tn(r);e++}return i!==""&&(t+=x_(o,i)),t}function JT(n){return n.map(YT).join(",")}function XT(n){let t=[],e=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&t.push(o,n[++r]):i===8&&e.push(o);else{if(!Tn(i))break;i=o}r++}return e.length&&t.push(1,...e),t}var hn={};function e1(n,t){return n.createText(t)}function t1(n,t,e){n.setValue(t,e)}function n1(n,t){return n.createComment(BT(t))}function Ab(n,t,e){return n.createElement(t,e)}function Dc(n,t,e,r,i){n.insertBefore(t,e,r,i)}function kb(n,t,e){n.appendChild(t,e)}function T_(n,t,e,r,i){r!==null?Dc(n,t,e,r,i):kb(n,t,e)}function r1(n,t,e){n.removeChild(null,t,e)}function i1(n,t,e){n.setAttribute(t,"style",e)}function o1(n,t,e){e===""?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function Nb(n,t,e){let{mergedAttrs:r,classes:i,styles:o}=e;r!==null&&Ox(n,t,r),i!==null&&o1(n,t,i),o!==null&&i1(n,t,o)}function m(n=1){Pb(Je(),ye(),Jr()+n,!1)}function Pb(n,t,e,r){if(!r)if((t[ne]&3)===3){let o=n.preOrderCheckHooks;o!==null&&rc(t,o,e)}else{let o=n.preOrderHooks;o!==null&&ic(t,o,0,e)}ki(e)}function E(n,t=ce.Default){let e=ye();if(e===null)return R(n,t);let r=Tt();return q0(r,e,Dt(n),t)}function Ob(n,t,e,r,i,o){let s=we(null);try{let a=null;i&Wr.SignalBased&&(a=t[r][Nt]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Wr.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(t,o)),n.setInput!==null?n.setInput(t,a,o,e,r):g0(t,a,r,o)}finally{we(s)}}function Yh(n,t,e,r,i,o,s,a,l,c,p){let h=t.blueprint.slice();return h[yr]=i,h[ne]=r|4|128|8|64|1024,(c!==null||n&&n[ne]&2048)&&(h[ne]|=2048),E0(h),h[_t]=h[Ho]=n,h[dn]=e,h[pr]=s||n&&n[pr],h[Ge]=a||n&&n[Ge],h[Ws]=l||n&&n[Ws]||null,h[Ut]=o,h[Uc]=sT(),h[qs]=p,h[h0]=c,h[fn]=t.type==2?n[fn]:h,h}function Rb(n,t,e,r){if(e===0)return-1;let i=t.length;for(let o=0;o<e;o++)t.push(r),n.blueprint.push(r),n.data.push(null);return i}function Fb(n,t,e,r,i){let o=Jr(),s=r&2;try{ki(-1),s&&t.length>xt&&Pb(n,t,xt,!1),un(s?2:0,i),e(r,i)}finally{ki(o),un(s?3:1,i)}}function Jh(n,t,e){x0()&&(Vi(kn(e,t),t),Lb(n,t,e))}function Lb(n,t,e){g1(n,t,e),(e.flags&64)===64&&v1(n,t,e)}function Xh(n,t,e=kn){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?e(t,n):n[s];n[i++]=a}}}function s1(n){let t=n.tView;return t===null||t.incompleteFirstPass?n.tView=em(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function em(n,t,e,r,i,o,s,a,l,c,p){let h=xt+r,v=h+i,g=a1(h,v),b=typeof c=="function"?c():c;return g[fe]={type:n,blueprint:g,template:e,queries:null,viewQuery:a,declTNode:t,data:g.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:b,incompleteFirstPass:!1,ssrId:p}}function a1(n,t){let e=[];for(let r=0;r<t;r++)e.push(r<n?null:hn);return e}function l1(n,t,e,r){let o=r.get(fT,cb)||e===qn.ShadowDom,s=n.selectRootElement(t,o);return c1(s),s}function c1(n){u1(n)}var u1=()=>null;function M_(n,t,e,r,i){for(let o in t){if(!t.hasOwnProperty(o))continue;let s=t[o];if(s===void 0)continue;r??={};let a,l=Wr.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let c=o;if(i!==null){if(!i.hasOwnProperty(o))continue;c=i[o]}n===0?A_(r,e,c,a,l):A_(r,e,c,a)}return r}function A_(n,t,e,r,i){let o;n.hasOwnProperty(e)?(o=n[e]).push(t,r):o=n[e]=[t,r],i!==void 0&&o.push(i)}function d1(n,t,e){let r=t.directiveStart,i=t.directiveEnd,o=n.data,s=t.attrs,a=[],l=null,c=null;for(let p=r;p<i;p++){let h=o[p],v=e?e.get(h):null,g=v?v.inputs:null,b=v?v.outputs:null;l=M_(0,h.inputs,p,l,g),c=M_(1,h.outputs,p,c,b);let w=l!==null&&s!==null&&!Zh(t)?A1(l,p,s):null;a.push(w)}l!==null&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}function f1(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Vb(n,t,e,r,i,o,s,a){let l=kn(t,e),c=t.inputs,p;!a&&c!=null&&(p=c[r])?(rm(n,e,p,r,i),Ri(t)&&p1(e,t.index)):t.type&3?(r=f1(r),i=s!=null?s(i,t.value||"",r):i,o.setProperty(l,r,i)):t.type&12}function p1(n,t){let e=Gn(t,n);e[ne]&16||(e[ne]|=64)}function tm(n,t,e,r){if(x0()){let i=r===null?null:{"":-1},o=_1(n,e);if(o!==null){let[s,a]=Ub(n,e,o);jb(n,t,e,s,i,a)}i&&w1(e,r,i)}e.mergedAttrs=jo(e.mergedAttrs,e.attrs)}function jb(n,t,e,r,i,o){for(let c=0;c<r.length;c++)Tp(_c(e,t),n,r[c].type);E1(e,n.data.length,r.length);for(let c=0;c<r.length;c++){let p=r[c];p.providersResolver&&p.providersResolver(p)}let s=!1,a=!1,l=Rb(n,t,r.length,null);for(let c=0;c<r.length;c++){let p=r[c];e.mergedAttrs=jo(e.mergedAttrs,p.hostAttrs),S1(n,e,t,l,p),C1(l,p,i),p.contentQueries!==null&&(e.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(e.flags|=64);let h=p.type.prototype;!s&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),s=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),a=!0),l++}d1(n,e,o)}function h1(n,t,e,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~t.index;m1(s)!=a&&s.push(a),s.push(e,r,o)}}function m1(n){let t=n.length;for(;t>0;){let e=n[--t];if(typeof e=="number"&&e<0)return e}return 0}function g1(n,t,e){let r=e.directiveStart,i=e.directiveEnd;Ri(e)&&I1(t,e,n.data[r+e.componentOffset]),n.firstCreatePass||_c(e,t);let o=e.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],l=Ks(t,n,s,e);if(Vi(l,t),o!==null&&M1(t,s-r,l,a,e,o),mr(a)){let c=Gn(e.index,t);c[dn]=Ks(t,n,s,e)}}}function v1(n,t,e){let r=e.directiveStart,i=e.directiveEnd,o=e.index,s=Sx();try{ki(o);for(let a=r;a<i;a++){let l=n.data[a],c=t[a];Dp(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&y1(l,c)}}finally{ki(-1),Dp(s)}}function y1(n,t){n.hostBindings!==null&&n.hostBindings(1,t)}function _1(n,t){let e=n.directiveRegistry,r=null;if(e)for(let i=0;i<e.length;i++){let o=e[i];Mb(t,o.selectors,!1)&&(r??=[],mr(o)?r.unshift(o):r.push(o))}return r}function Ub(n,t,e){let r=[],i=null;for(let o of e)o.findHostDirectiveDefs!==null&&(i??=new Map,o.findHostDirectiveDefs(o,r,i)),mr(o)&&(r.push(o),b1(n,t,r.length-1));return Ri(t)?r.push(...e.slice(1)):r.push(...e),[r,i]}function b1(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function w1(n,t,e){if(t){let r=n.localNames=[];for(let i=0;i<t.length;i+=2){let o=e[t[i+1]];if(o==null)throw new k(-301,!1);r.push(t[i],o)}}}function C1(n,t,e){if(e){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)e[t.exportAs[r]]=n;mr(t)&&(e[""]=n)}}function E1(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function S1(n,t,e,r,i){n.data[r]=i;let o=i.factory||(i.factory=Di(i.type,!0)),s=new Ni(o,mr(i),E);n.blueprint[r]=s,e[r]=s,h1(n,t,r,Rb(n,e,i.hostVars,hn),i)}function D1(n){let t=16;return n.signals?t=4096:n.onPush&&(t=64),t}function I1(n,t,e){let r=kn(t,n),i=s1(e),o=n[pr].rendererFactory,s=nm(n,Yh(n,i,null,D1(e),r,t,null,o.createRenderer(r,e),null,null,null));return n[t.index]=s}function x1(n,t,e,r,i,o){let s=kn(n,t);T1(t[Ge],s,o,n.value,e,r,i)}function T1(n,t,e,r,i,o,s){if(o==null)n.removeAttribute(t,i,e);else{let a=s==null?Po(o):s(o,r||"",i);n.setAttribute(t,i,a,e)}}function M1(n,t,e,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],c=s[a++],p=s[a++],h=s[a++];Ob(r,e,l,c,p,h)}}function A1(n,t,e){let r=null,i=0;for(;i<e.length;){let o=e[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===t){r.push(o,s[a+1],s[a+2],e[i+1]);break}}i+=2}return r}function Bb(n,t,e,r){return[n,!0,0,t,null,r,null,e,null,null]}function nm(n,t){return n[Qs]?n[c_][An]=t:n[Qs]=t,n[c_]=t,t}function $b(n,t){let e=n[Ws],r=e?e.get(Vt,null):null;r&&r.handleError(t)}function rm(n,t,e,r,i){for(let o=0;o<e.length;){let s=e[o++],a=e[o++],l=e[o++],c=t[s],p=n.data[s];Ob(p,c,r,a,l,i)}}function k1(n,t){let e=Gn(t,n),r=e[fe];N1(r,e);let i=e[yr];i!==null&&e[qs]===null&&(e[qs]=db(i,e[Ws])),im(r,e,e[dn])}function N1(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}function im(n,t,e){Lh(t);try{let r=n.viewQuery;r!==null&&Rp(1,r,e);let i=n.template;i!==null&&Fb(n,t,i,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),t[hr]?.finishViewCreation(n),n.staticContentQueries&&fb(n,t),n.staticViewQueries&&Rp(2,n.viewQuery,e);let o=n.components;o!==null&&P1(t,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{t[ne]&=-5,Vh()}}function P1(n,t){for(let e=0;e<t.length;e++)k1(n,t[e])}var Wn=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Wn||{}),O1;function om(n,t){return O1(n,t)}function sm(n){return(n.flags&32)===32}function Ao(n,t,e,r,i){if(r!=null){let o,s=!1;_r(r)?o=r:Gr(r)&&(s=!0,r=r[yr]);let a=zn(r);n===0&&e!==null?i==null?kb(t,e,a):Dc(t,e,a,i||null,!0):n===1&&e!==null?Dc(t,e,a,i||null,!0):n===2?r1(t,a,s):n===3&&t.destroyNode(a),o!=null&&G1(t,n,o,e,i)}}function R1(n,t){Hb(n,t),t[yr]=null,t[Ut]=null}function F1(n,t,e,r,i,o){r[yr]=i,r[Ut]=t,eu(n,r,e,1,i,o)}function Hb(n,t){t[pr].changeDetectionScheduler?.notify(10),eu(n,t,t[Ge],2,null,null)}function L1(n){let t=n[Qs];if(!t)return lp(n[fe],n);for(;t;){let e=null;if(Gr(t))e=t[Qs];else{let r=t[Kt];r&&(e=r)}if(!e){for(;t&&!t[An]&&t!==n;)Gr(t)&&lp(t[fe],t),t=t[_t];t===null&&(t=n),Gr(t)&&lp(t[fe],t),e=t&&t[An]}t=e}}function V1(n,t,e,r){let i=Kt+r,o=e.length;r>0&&(e[i-1][An]=t),r<o-Kt?(t[An]=e[i],n0(e,Kt+r,t)):(e.push(t),t[An]=null),t[_t]=e;let s=t[xi];s!==null&&e!==s&&zb(s,t);let a=t[hr];a!==null&&a.insertView(n),Ep(t),t[ne]|=128}function zb(n,t){let e=n[Lo],r=t[_t];if(Gr(r))n[ne]|=2;else{let i=r[_t][fn];t[fn]!==i&&(n[ne]|=2)}e===null?n[Lo]=[t]:e.push(t)}function am(n,t){let e=n[Lo],r=e.indexOf(t);e.splice(r,1)}function zp(n,t){if(n.length<=Kt)return;let e=Kt+t,r=n[e];if(r){let i=r[xi];i!==null&&i!==n&&am(i,r),t>0&&(n[e-1][An]=r[An]);let o=uc(n,Kt+t);R1(r[fe],r);let s=o[hr];s!==null&&s.detachView(o[fe]),r[_t]=null,r[An]=null,r[ne]&=-129}return r}function Gb(n,t){if(na(t))return;let e=t[Ge];e.destroyNode&&eu(n,t,e,3,null,null),L1(t)}function lp(n,t){if(na(t))return;let e=we(null);try{t[ne]&=-129,t[ne]|=256,t[Qt]&&vo(t[Qt]),U1(n,t),j1(n,t),t[fe].type===1&&t[Ge].destroy();let r=t[xi];if(r!==null&&_r(t[_t])){r!==t[_t]&&am(r,t);let i=t[hr];i!==null&&i.detachView(n)}Np(t)}finally{we(e)}}function j1(n,t){let e=n.cleanup,r=t[fc];if(e!==null)for(let s=0;s<e.length-1;s+=2)if(typeof e[s]=="string"){let a=e[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[e[s+1]];e[s].call(a)}r!==null&&(t[fc]=null);let i=t[zr];if(i!==null){t[zr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=t[Ti];if(o!==null){t[Ti]=null;for(let s of o)s.destroy()}}function U1(n,t){let e;if(n!=null&&(e=n.destroyHooks)!=null)for(let r=0;r<e.length;r+=2){let i=t[e[r]];if(!(i instanceof Ni)){let o=e[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];un(4,a,l);try{l.call(a)}finally{un(5,a,l)}}else{un(4,i,o);try{o.call(i)}finally{un(5,i,o)}}}}}function qb(n,t,e){return B1(n,t.parent,e)}function B1(n,t,e){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return e[yr];if(Ri(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===qn.None||i===qn.Emulated)return null}return kn(r,e)}function Wb(n,t,e){return H1(n,t,e)}function $1(n,t,e){return n.type&40?kn(n,e):null}var H1=$1,k_;function Xc(n,t,e,r){let i=qb(n,r,t),o=t[Ge],s=r.parent||t[Ut],a=Wb(s,r,t);if(i!=null)if(Array.isArray(e))for(let l=0;l<e.length;l++)T_(o,i,e[l],a,!1);else T_(o,i,e,a,!1);k_!==void 0&&k_(o,r,t,e,i)}function $s(n,t){if(t!==null){let e=t.type;if(e&3)return kn(t,n);if(e&4)return Gp(-1,n[t.index]);if(e&8){let r=t.child;if(r!==null)return $s(n,r);{let i=n[t.index];return _r(i)?Gp(-1,i):zn(i)}}else{if(e&128)return $s(n,t.next);if(e&32)return om(t,n)()||zn(n[t.index]);{let r=Qb(n,t);if(r!==null){if(Array.isArray(r))return r[0];let i=Ai(n[fn]);return $s(i,r)}else return $s(n,t.next)}}}return null}function Qb(n,t){if(t!==null){let r=n[fn][Ut],i=t.projection;return r.projection[i]}return null}function Gp(n,t){let e=Kt+n+1;if(e<t.length){let r=t[e],i=r[fe].firstChild;if(i!==null)return $s(r,i)}return t[Mi]}function lm(n,t,e,r,i,o,s){for(;e!=null;){if(e.type===128){e=e.next;continue}let a=r[e.index],l=e.type;if(s&&t===0&&(a&&Vi(zn(a),r),e.flags|=2),!sm(e))if(l&8)lm(n,t,e.child,r,i,o,!1),Ao(t,n,i,a,o);else if(l&32){let c=om(e,r),p;for(;p=c();)Ao(t,n,i,p,o);Ao(t,n,i,a,o)}else l&16?Kb(n,t,r,e,i,o):Ao(t,n,i,a,o);e=s?e.projectionNext:e.next}}function eu(n,t,e,r,i,o){lm(e,r,n.firstChild,t,i,o,!1)}function z1(n,t,e){let r=t[Ge],i=qb(n,e,t),o=e.parent||t[Ut],s=Wb(o,e,t);Kb(r,0,t,e,i,s)}function Kb(n,t,e,r,i,o){let s=e[fn],l=s[Ut].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let p=l[c];Ao(t,n,i,p,o)}else{let c=l,p=s[_t];nb(r)&&(c.flags|=128),lm(n,t,c,p,i,o,!0)}}function G1(n,t,e,r,i){let o=e[Mi],s=zn(e);o!==s&&Ao(t,n,r,o,i);for(let a=Kt;a<e.length;a++){let l=e[a];eu(l[fe],l,n,t,r,o)}}function q1(n,t,e,r,i){if(t)i?n.addClass(e,r):n.removeClass(e,r);else{let o=r.indexOf("-")===-1?void 0:Wn.DashCase;i==null?n.removeStyle(e,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Wn.Important),n.setStyle(e,r,i,o))}}function Zb(n,t,e,r){let i=we(null);try{let o=t.tView,a=n[ne]&4096?4096:16,l=Yh(n,o,e,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=n[t.index];l[xi]=c;let p=n[hr];return p!==null&&(l[hr]=p.createEmbeddedView(o)),im(o,l,e),l}finally{we(i)}}function qp(n,t){return!t||t.firstChild===null||nb(n)}function Yb(n,t,e,r=!0){let i=t[fe];if(V1(i,t,n,e),r){let s=Gp(e,n),a=t[Ge],l=a.parentNode(n[Mi]);l!==null&&F1(i,n[Ut],a,t,l,s)}let o=t[qs];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Ic(n,t,e,r,i=!1){for(;e!==null;){if(e.type===128){e=i?e.projectionNext:e.next;continue}let o=t[e.index];o!==null&&r.push(zn(o)),_r(o)&&W1(o,r);let s=e.type;if(s&8)Ic(n,t,e.child,r);else if(s&32){let a=om(e,t),l;for(;l=a();)r.push(l)}else if(s&16){let a=Qb(t,e);if(Array.isArray(a))r.push(...a);else{let l=Ai(t[fn]);Ic(l[fe],l,a,r,!0)}}e=i?e.projectionNext:e.next}return r}function W1(n,t){for(let e=Kt;e<n.length;e++){let r=n[e],i=r[fe].firstChild;i!==null&&Ic(r[fe],r,i,t)}n[Mi]!==n[yr]&&t.push(n[Mi])}var Jb=[];function Q1(n){return n[Qt]??K1(n)}function K1(n){let t=Jb.pop()??Object.create(Y1);return t.lView=n,t}function Z1(n){n.lView[Qt]!==n&&(n.lView=null,Jb.push(n))}var Y1=z(N({},yi),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{ra(n.lView)},consumerOnSignalRead(){this.lView[Qt]=this}});function J1(n){let t=n[Qt]??Object.create(X1);return t.lView=n,t}var X1=z(N({},yi),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let t=Ai(n.lView);for(;t&&!Xb(t[fe]);)t=Ai(t);t&&kh(t)},consumerOnSignalRead(){this.lView[Qt]=this}});function Xb(n){return n.type!==2}function ew(n){if(n[Ti]===null)return;let t=!0;for(;t;){let e=!1;for(let r of n[Ti])r.dirty&&(e=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=e&&!!(n[ne]&8192)}}var eM=100;function tw(n,t=!0,e=0){let i=n[pr].rendererFactory,o=!1;o||i.begin?.();try{tM(n,e)}catch(s){throw t&&$b(n,s),s}finally{o||i.end?.()}}function tM(n,t){let e=A0();try{mc(!0),Wp(n,t);let r=0;for(;$c(n);){if(r===eM)throw new k(103,!1);r++,Wp(n,1)}}finally{mc(e)}}function nM(n,t,e,r){if(na(t))return;let i=t[ne],o=!1,s=!1;Lh(t);let a=!0,l=null,c=null;o||(Xb(n)?(c=Q1(t),l=go(c)):yy()===null?(a=!1,c=J1(t),l=go(c)):t[Qt]&&(vo(t[Qt]),t[Qt]=null));try{E0(t),wx(n.bindingStartIndex),e!==null&&Fb(n,t,e,2,r);let p=(i&3)===3;if(!o)if(p){let g=n.preOrderCheckHooks;g!==null&&rc(t,g,null)}else{let g=n.preOrderHooks;g!==null&&ic(t,g,0,null),op(t,0)}if(s||rM(t),ew(t),nw(t,0),n.contentQueries!==null&&fb(n,t),!o)if(p){let g=n.contentCheckHooks;g!==null&&rc(t,g)}else{let g=n.contentHooks;g!==null&&ic(t,g,1),op(t,1)}oM(n,t);let h=n.components;h!==null&&iw(t,h,0);let v=n.viewQuery;if(v!==null&&Rp(2,v,r),!o)if(p){let g=n.viewCheckHooks;g!==null&&rc(t,g)}else{let g=n.viewHooks;g!==null&&ic(t,g,2),op(t,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),t[nc]){for(let g of t[nc])g();t[nc]=null}o||(t[ne]&=-73)}catch(p){throw o||ra(t),p}finally{c!==null&&(Ps(c,l),a&&Z1(c)),Vh()}}function nw(n,t){for(let e=ob(n);e!==null;e=sb(e))for(let r=Kt;r<e.length;r++){let i=e[r];rw(i,t)}}function rM(n){for(let t=ob(n);t!==null;t=sb(t)){if(!(t[ne]&2))continue;let e=t[Lo];for(let r=0;r<e.length;r++){let i=e[r];kh(i)}}}function iM(n,t,e){let r=Gn(t,n);rw(r,e)}function rw(n,t){Ah(n)&&Wp(n,t)}function Wp(n,t){let r=n[fe],i=n[ne],o=n[Qt],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&Os(o)),s||=!1,o&&(o.dirty=!1),n[ne]&=-9217,s)nM(r,n,r.template,n[dn]);else if(i&8192){ew(n),nw(n,1);let a=r.components;a!==null&&iw(n,a,1)}}function iw(n,t,e){for(let r=0;r<t.length;r++)iM(n,t[r],e)}function oM(n,t){let e=n.hostBindingOpCodes;if(e!==null)try{for(let r=0;r<e.length;r++){let i=e[r];if(i<0)ki(~i);else{let o=i,s=e[++r],a=e[++r];Ex(s,o);let l=t[o];un(24,l),a(2,l),un(25,l)}}}finally{ki(-1)}}function cm(n,t){let e=A0()?64:1088;for(n[pr].changeDetectionScheduler?.notify(t);n;){n[ne]|=e;let r=Ai(n);if(hc(n)&&!r)return n;n=r}return null}var Pi=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let t=this._lView,e=t[fe];return Ic(e,t,e.firstChild,[])}constructor(t,e,r=!0){this._lView=t,this._cdRefInjectingView=e,this.notifyErrorHandler=r}get context(){return this._lView[dn]}get dirty(){return!!(this._lView[ne]&9280)||!!this._lView[Qt]?.dirty}set context(t){this._lView[dn]=t}get destroyed(){return na(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[_t];if(_r(t)){let e=t[pc],r=e?e.indexOf(this):-1;r>-1&&(zp(t,r),uc(e,r))}this._attachedToViewContainer=!1}Gb(this._lView[fe],this._lView)}onDestroy(t){S0(this._lView,t)}markForCheck(){cm(this._cdRefInjectingView||this._lView,4)}markForRefresh(){kh(this._cdRefInjectingView||this._lView)}detach(){this._lView[ne]&=-129}reattach(){Ep(this._lView),this._lView[ne]|=128}detectChanges(){this._lView[ne]|=1024,tw(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new k(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=hc(this._lView),e=this._lView[xi];e!==null&&!t&&am(e,this._lView),Hb(this._lView[fe],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new k(902,!1);this._appRef=t;let e=hc(this._lView),r=this._lView[xi];r!==null&&!e&&zb(r,this._lView),Ep(this._lView)}},Qr=(()=>{class n{static __NG_ELEMENT_ID__=lM}return n})(),sM=Qr,aM=class extends sM{_declarationLView;_declarationTContainer;elementRef;constructor(t,e,r){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,r){let i=Zb(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:e,dehydratedView:r});return new Pi(i)}};function lM(){return tu(Tt(),ye())}function tu(n,t){return n.type&4?new aM(t,n,zo(n,t)):null}function qo(n,t,e,r,i){let o=n.data[t];if(o===null)o=cM(n,t,e,r,i),Cx()&&(o.flags|=32);else if(o.type&64){o.type=e,o.value=r,o.attrs=i;let s=yx();o.injectorIndex=s===null?-1:s.injectorIndex}return Fi(o,!0),o}function cM(n,t,e,r,i){let o=M0(),s=Nh(),a=s?o:o&&o.parent,l=n.data[t]=dM(n,a,e,t,r,i);return uM(n,l,o,s),l}function uM(n,t,e,r){n.firstChild===null&&(n.firstChild=t),e!==null&&(r?e.child==null&&t.parent!==null&&(e.child=t):e.next===null&&(e.next=t,t.prev=e))}function dM(n,t,e,r,i,o){let s=t?t.injectorIndex:-1,a=0;return T0()&&(a|=128),{type:e,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var s8=new RegExp(`^(\\d+)*(${dT}|${uT})*(.*)`);var fM=()=>null;function Qp(n,t){return fM(n,t)}var Kp=class{},xc=class{},Zp=class{resolveComponentFactory(t){throw Error(`No component factory found for ${It(t)}.`)}},Uo=class{static NULL=new Zp},Kr=class{},mn=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>pM()}return n})();function pM(){let n=ye(),t=Tt(),e=Gn(t.index,n);return(Gr(e)?e:n)[Ge]}var hM=(()=>{class n{static \u0275prov=A({token:n,providedIn:"root",factory:()=>null})}return n})();function Tc(n,t,e){let r=e?n.styles:null,i=e?n.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=mp(i,a);else if(o==2){let l=a,c=t[++s];r=mp(r,l+": "+c+";")}}e?n.styles=r:n.stylesWithoutHost=r,e?n.classes=i:n.classesWithoutHost=i}var Mc=class extends Uo{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let e=Ii(t);return new Ys(e,this.ngModule)}};function N_(n,t){let e=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:Wr.None;t?e.push({propName:s,templateName:r,isSignal:(a&Wr.SignalBased)!==0}):e.push({propName:s,templateName:r})}return e}function mM(n){let t=n.toLowerCase();return t==="svg"?sx:t==="math"?ax:null}var Ys=class extends xc{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){let t=this.componentDef,e=t.inputTransforms,r=N_(t.inputs,!0);if(e!==null)for(let i of r)e.hasOwnProperty(i.propName)&&(i.transform=e[i.propName]);return r}get outputs(){return N_(this.componentDef.outputs,!1)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=JT(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!e}create(t,e,r,i){let o=we(null);try{i=i||this.ngModule;let s=i instanceof Lt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Ip(t,s):t,l=a.get(Kr,null);if(l===null)throw new k(407,!1);let c=a.get(hM,null),p=a.get(qr,null),h={rendererFactory:l,sanitizer:c,changeDetectionScheduler:p},v=l.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",b=r?l1(v,r,this.componentDef.encapsulation,a):Ab(v,g,mM(g)),w=512;this.componentDef.signals?w|=4096:this.componentDef.onPush||(w|=16);let T=null;b!==null&&(T=db(b,a,!0));let O=em(0,null,null,1,0,null,null,null,null,null,null),L=Yh(null,O,null,w,null,null,h,v,a,null,T);L[xt]=b,Lh(L);let j=null;try{let q=r?["ng-version","19.1.4"]:XT(this.componentDef.selectors[0]),Z=qo(O,xt,2,"#host",q),[He,Ye]=Ub(O,Z,[this.componentDef]);jb(O,L,Z,He,{},Ye);for(let vt of He)Z.mergedAttrs=jo(Z.mergedAttrs,vt.hostAttrs);Z.mergedAttrs=jo(Z.mergedAttrs,q),Tc(Z,Z.mergedAttrs,!0),b&&(Nb(v,b,Z),Vi(b,L)),e!==void 0&&gM(Z,this.ngContentSelectors,e),Lb(O,L,Z),Qh(O,Z,L),qc(O,Z),j=Gn(Z.index,L),L[dn]=j[dn],im(O,L,null)}catch(q){throw j!==null&&Np(j),Np(L),q}finally{Vh()}return new Yp(this.componentType,L)}finally{we(o)}}},Yp=class extends Kp{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,e){super(),this._rootLView=e,this._tNode=w0(e[fe],xt),this.location=zo(this._tNode,e),this.instance=Gn(this._tNode.index,e)[dn],this.hostView=this.changeDetectorRef=new Pi(e,void 0,!1),this.componentType=t}setInput(t,e){let r=this._tNode.inputs,i;if(r!==null&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;let o=this._rootLView;rm(o[fe],o,i,t,e),this.previousInputValues.set(t,e);let s=Gn(this._tNode.index,o);cm(s,1)}}get injector(){return new Si(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function gM(n,t,e){let r=n.projection=[];for(let i=0;i<t.length;i++){let o=e[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Cr=(()=>{class n{static __NG_ELEMENT_ID__=vM}return n})();function vM(){let n=Tt();return sw(n,ye())}var yM=Cr,ow=class extends yM{_lContainer;_hostTNode;_hostLView;constructor(t,e,r){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=r}get element(){return zo(this._hostTNode,this._hostLView)}get injector(){return new Si(this._hostTNode,this._hostLView)}get parentInjector(){let t=Uh(this._hostTNode,this._hostLView);if(U0(t)){let e=vc(t,this._hostLView),r=gc(t),i=e[fe].data[r+8];return new Si(i,e)}else return new Si(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let e=P_(this._lContainer);return e!==null&&e[t]||null}get length(){return this._lContainer.length-Kt}createEmbeddedView(t,e,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Qp(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(e||{},o,s);return this.insertImpl(a,i,qp(this._hostTNode,s)),a}createComponent(t,e,r,i,o){let s=t&&!nx(t),a;if(s)a=e;else{let b=e||{};a=b.index,r=b.injector,i=b.projectableNodes,o=b.environmentInjector||b.ngModuleRef}let l=s?t:new Ys(Ii(t)),c=r||this.parentInjector;if(!o&&l.ngModule==null){let w=(s?c:this.parentInjector).get(Lt,null);w&&(o=w)}let p=Ii(l.componentType??{}),h=Qp(this._lContainer,p?.id??null),v=h?.firstChild??null,g=l.create(c,i,v,o);return this.insertImpl(g.hostView,a,qp(this._hostTNode,h)),g}insert(t,e){return this.insertImpl(t,e,!0)}insertImpl(t,e,r){let i=t._lView;if(cx(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=i[_t],c=new ow(l,l[Ut],l[_t]);c.detach(c.indexOf(t))}}let o=this._adjustIndex(e),s=this._lContainer;return Yb(s,i,o,r),t.attachToViewContainerRef(),n0(cp(s),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){let e=P_(this._lContainer);return e!==null?e.indexOf(t):-1}remove(t){let e=this._adjustIndex(t,-1),r=zp(this._lContainer,e);r&&(uc(cp(this._lContainer),e),Gb(r[fe],r))}detach(t){let e=this._adjustIndex(t,-1),r=zp(this._lContainer,e);return r&&uc(cp(this._lContainer),e)!=null?new Pi(r):null}_adjustIndex(t,e=0){return t??this.length+e}};function P_(n){return n[pc]}function cp(n){return n[pc]||(n[pc]=[])}function sw(n,t){let e,r=t[n.index];return _r(r)?e=r:(e=Bb(r,t,null,n),t[n.index]=e,nm(t,e)),bM(e,t,n,r),new ow(e,n,t)}function _M(n,t){let e=n[Ge],r=e.createComment(""),i=kn(t,n),o=e.parentNode(i);return Dc(e,o,r,e.nextSibling(i),!1),r}var bM=EM,wM=()=>!1;function CM(n,t,e){return wM(n,t,e)}function EM(n,t,e,r){if(n[Mi])return;let i;e.type&8?i=zn(r):i=_M(t,e),n[Mi]=i}var Jp=class n{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Xp=class n{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let e=t.queries;if(e!==null){let r=t.contentQueries!==null?t.contentQueries[0]:e.length,i=[];for(let o=0;o<r;o++){let s=e.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)um(t,e).matches!==null&&this.queries[e].setDirty()}},eh=class{flags;read;predicate;constructor(t,e,r=null){this.flags=e,this.read=r,typeof t=="string"?this.predicate=kM(t):this.predicate=t}},th=class n{queries;constructor(t=[]){this.queries=t}elementStart(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let r=0;r<this.length;r++){let i=e!==null?e.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,e!==null?e.push(o):e=[o])}return e!==null?new n(e):null}template(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},nh=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,e=-1){this.metadata=t,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new n(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,r=t.parent;for(;r!==null&&r.type&8&&r.index!==e;)r=r.parent;return e===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(t,e){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(t,e,SM(e,o)),this.matchTNodeWithReadOption(t,e,oc(e,t,o,!1,!1))}else r===Qr?e.type&4&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,oc(e,t,r,!1,!1))}matchTNodeWithReadOption(t,e,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Xe||i===Cr||i===Qr&&e.type&4)this.addMatch(e.index,-2);else{let o=oc(e,t,i,!1,!1);o!==null&&this.addMatch(e.index,o)}else this.addMatch(e.index,r)}}addMatch(t,e){this.matches===null?this.matches=[t,e]:this.matches.push(t,e)}};function SM(n,t){let e=n.localNames;if(e!==null){for(let r=0;r<e.length;r+=2)if(e[r]===t)return e[r+1]}return null}function DM(n,t){return n.type&11?zo(n,t):n.type&4?tu(n,t):null}function IM(n,t,e,r){return e===-1?DM(t,n):e===-2?xM(n,t,r):Ks(n,n[fe],e,t)}function xM(n,t,e){if(e===Xe)return zo(t,n);if(e===Qr)return tu(t,n);if(e===Cr)return sw(t,n)}function aw(n,t,e,r){let i=t[hr].queries[r];if(i.matches===null){let o=n.data,s=e.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let p=o[c];a.push(IM(t,p,s[l+1],e.metadata.read))}}i.matches=a}return i.matches}function rh(n,t,e,r){let i=n.queries.getByIndex(e),o=i.matches;if(o!==null){let s=aw(n,t,i,e);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)r.push(s[a/2]);else{let c=o[a+1],p=t[-l];for(let h=Kt;h<p.length;h++){let v=p[h];v[xi]===v[_t]&&rh(v[fe],v,c,r)}if(p[Lo]!==null){let h=p[Lo];for(let v=0;v<h.length;v++){let g=h[v];rh(g[fe],g,c,r)}}}}}return r}function TM(n,t){return n[hr].queries[t].queryList}function MM(n,t,e){let r=new Sc((e&4)===4);return fx(n,t,r,r.destroy),(t[hr]??=new Xp).queries.push(new Jp(r))-1}function AM(n,t,e){let r=Je();return r.firstCreatePass&&(NM(r,new eh(n,t,e),-1),(t&2)===2&&(r.staticViewQueries=!0)),MM(r,ye(),t)}function kM(n){return n.split(",").map(t=>t.trim())}function NM(n,t,e){n.queries===null&&(n.queries=new th),n.queries.track(new nh(t,e))}function um(n,t){return n.queries.getByIndex(t)}function PM(n,t){let e=n[fe],r=um(e,t);return r.crossesNgTemplate?rh(e,n,t,[]):aw(e,n,r,t)}var Zr=class{},Js=class{};var ih=class extends Zr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Mc(this);constructor(t,e,r,i=!0){super(),this.ngModuleType=t,this._parent=e;let o=o0(t);this._bootstrapComponents=xb(o.bootstrap),this._r3Injector=K0(t,e,[{provide:Zr,useValue:this},{provide:Uo,useValue:this.componentFactoryResolver},...r],It(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},oh=class extends Js{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new ih(this.moduleType,t,[])}};var Ac=class extends Zr{injector;componentFactoryResolver=new Mc(this);instance=null;constructor(t){super();let e=new Gs([...t.providers,{provide:Zr,useValue:this},{provide:Uo,useValue:this.componentFactoryResolver}],t.parent||xh(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function dm(n,t,e=null){return new Ac({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}var OM=(()=>{class n{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let r=c0(!1,e.type),i=r.length>0?dm([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,i)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=A({token:n,providedIn:"environment",factory:()=>new n(R(Lt))})}return n})();function F(n){return ea(()=>{let t=lw(n),e=z(N({},t),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===rb.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(OM).getOrCreateStandaloneInjector(e):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||qn.Emulated,styles:n.styles||Ft,_:null,schemas:n.schemas||null,tView:null,id:""});t.standalone&&Nn("NgStandalone"),cw(e);let r=n.dependencies;return e.directiveDefs=R_(r,!1),e.pipeDefs=R_(r,!0),e.id=LM(e),e})}function RM(n){return Ii(n)||s0(n)}function FM(n){return n!==null}function st(n){return ea(()=>({type:n.type,bootstrap:n.bootstrap||Ft,declarations:n.declarations||Ft,imports:n.imports||Ft,exports:n.exports||Ft,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function O_(n,t){if(n==null)return Oo;let e={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=Wr.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),t?(e[o]=a!==Wr.None?[r,a]:r,t[o]=s):e[o]=r}return e}function Ee(n){return ea(()=>{let t=lw(n);return cw(t),t})}function fm(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function lw(n){let t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:n.inputs||Oo,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Ft,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:O_(n.inputs,t),outputs:O_(n.outputs),debugInfo:null}}function cw(n){n.features?.forEach(t=>t(n))}function R_(n,t){if(!n)return null;let e=t?a0:RM;return()=>(typeof n=="function"?n():n).map(r=>e(r)).filter(FM)}function LM(n){let t=0,e=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,e,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function VM(n){return Object.getPrototypeOf(n.prototype).constructor}function Ct(n){let t=VM(n.type),e=!0,r=[n];for(;t;){let i;if(mr(n))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new k(903,!1);i=t.\u0275dir}if(i){if(e){r.push(i);let s=n;s.inputs=Xl(n.inputs),s.inputTransforms=Xl(n.inputTransforms),s.declaredInputs=Xl(n.declaredInputs),s.outputs=Xl(n.outputs);let a=i.hostBindings;a&&HM(n,a);let l=i.viewQuery,c=i.contentQueries;if(l&&BM(n,l),c&&$M(n,c),jM(n,i),wI(n.outputs,i.outputs),mr(i)&&i.data.animation){let p=n.data;p.animation=(p.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Ct&&(e=!1)}}t=Object.getPrototypeOf(t)}UM(r)}function jM(n,t){for(let e in t.inputs){if(!t.inputs.hasOwnProperty(e)||n.inputs.hasOwnProperty(e))continue;let r=t.inputs[e];if(r!==void 0&&(n.inputs[e]=r,n.declaredInputs[e]=t.declaredInputs[e],t.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!t.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=t.inputTransforms[i]}}}function UM(n){let t=0,e=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=t+=i.hostVars,i.hostAttrs=jo(i.hostAttrs,e=jo(e,i.hostAttrs))}}function Xl(n){return n===Oo?{}:n===Ft?[]:n}function BM(n,t){let e=n.viewQuery;e?n.viewQuery=(r,i)=>{t(r,i),e(r,i)}:n.viewQuery=t}function $M(n,t){let e=n.contentQueries;e?n.contentQueries=(r,i,o)=>{t(r,i,o),e(r,i,o)}:n.contentQueries=t}function HM(n,t){let e=n.hostBindings;e?n.hostBindings=(r,i)=>{t(r,i),e(r,i)}:n.hostBindings=t}function ji(n){let t=n.inputConfig,e={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r];Array.isArray(i)&&i[3]&&(e[r]=i[3])}n.inputTransforms=e}function uw(n){return pm(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function zM(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{let e=n[Symbol.iterator](),r;for(;!(r=e.next()).done;)t(r.value)}}function pm(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function dw(n,t,e){return n[t]=e}function GM(n,t){return n[t]}function Yr(n,t,e){let r=n[t];return Object.is(r,e)?!1:(n[t]=e,!0)}function fw(n,t,e,r){let i=Yr(n,t,e);return Yr(n,t+1,r)||i}function qM(n,t,e,r,i,o,s,a,l){let c=t.consts,p=qo(t,n,4,s||null,a||null);tm(t,e,p,Vo(c,l)),qc(t,p);let h=p.tView=em(2,p,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return t.queries!==null&&(t.queries.template(t,p),h.queries=t.queries.embeddedTView(p)),p}function pw(n,t,e,r,i,o,s,a,l,c){let p=e+xt,h=t.firstCreatePass?qM(p,t,n,r,i,o,s,a,l):t.data[p];Fi(h,!1);let v=WM(t,n,h,e);zc()&&Xc(t,n,v,h),Vi(v,n);let g=Bb(v,n,v,h);return n[p]=g,nm(n,g),CM(g,h,n),Bc(h)&&Jh(t,n,h),l!=null&&Xh(n,h,c),h}function M(n,t,e,r,i,o,s,a){let l=ye(),c=Je(),p=Vo(c.consts,o);return pw(l,c,n,t,e,r,i,p,s,a),M}var WM=QM;function QM(n,t,e,r){return Gc(!0),t[Ge].createComment("")}var hm=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var hw=new V("");function Ui(n){return!!n&&typeof n.then=="function"}function mw(n){return!!n&&typeof n.subscribe=="function"}var gw=new V("");var vw=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,r)=>{this.resolve=e,this.reject=r});appInits=S(gw,{optional:!0})??[];injector=S(ft);constructor(){}runInitializers(){if(this.initialized)return;let e=[];for(let i of this.appInits){let o=Zt(this.injector,i);if(Ui(o))e.push(o);else if(mw(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),e.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yw=(()=>{class n{static \u0275prov=A({token:n,providedIn:"root",factory:()=>new kc})}return n})(),kc=class{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){let e=t.zone,r=this.queues.get(e);r.has(t)&&(r.delete(t),this.queuedEffectCount--)}enqueue(t){let e=t.zone;this.queues.has(e)||this.queues.set(e,new Set);let r=this.queues.get(e);r.has(t)||(this.queuedEffectCount++,r.add(t))}flush(){for(;this.queuedEffectCount>0;)for(let[t,e]of this.queues)t===null?this.flushQueue(e):t.run(()=>this.flushQueue(e))}flushQueue(t){for(let e of t)t.delete(e),this.queuedEffectCount--,e.run()}},nu=new V("");function KM(){My(()=>{throw new k(600,!1)})}function ZM(n){return n.isBoundToModule}var YM=10;function JM(n,t,e){try{let r=e();return Ui(r)?r.catch(i=>{throw t.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>n.handleError(r)),r}}var vr=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=S(Xx);afterRenderManager=S(ub);zonelessEnabled=S(Qc);rootEffectScheduler=S(yw);dirtyFlags=0;deferredDirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Fe;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=S(br).hasPendingTasks.pipe(K(e=>!e));constructor(){S(Go,{optional:!0})}whenStable(){let e;return new Promise(r=>{e=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{e.unsubscribe()})}_injector=S(Lt);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,r){let i=e instanceof xc;if(!this._injector.get(vw).done){let v=!i&&l0(e),g=!1;throw new k(405,g)}let s;i?s=e:s=this._injector.get(Uo).resolveComponentFactory(e),this.componentTypes.push(s.componentType);let a=ZM(s)?void 0:this._injector.get(Zr),l=r||s.selector,c=s.create(ft.NULL,[],l,a),p=c.location.nativeElement,h=c.injector.get(hw,null);return h?.registerApplication(p),c.onDestroy(()=>{this.detachView(c.hostView),sc(this.components,c),h?.unregisterApplication(p)}),this._loadComponent(c),c}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick=()=>{if(this.tracingSnapshot!==null){let r=this.tracingSnapshot;this.tracingSnapshot=null,r.run(qh.CHANGE_DETECTION,this._tick),r.dispose();return}if(this._runningTick)throw new k(101,!1);let e=we(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,we(e),this.afterTick.next()}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Kr,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let e=0;for(;this.dirtyFlags!==0&&e++<YM;)this.synchronizeOnce()}synchronizeOnce(){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let e=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)XM(r,i,e,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>$c(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){let r=e;sc(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(nu,[]).forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>sc(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new k(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function sc(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function XM(n,t,e,r){if(!e&&!$c(n))return;tw(n,t,e&&!r?0:1)}function ei(n,t,e,r){let i=ye(),o=Hc();if(Yr(i,o,t)){let s=Je(),a=jh();x1(a,i,n,t,e,r)}return ei}function eA(n,t,e,r){return Yr(n,Hc(),e)?t+Po(e)+r:hn}function tA(n,t,e,r,i,o){let s=bx(),a=fw(n,s,e,i);return Rh(2),a?t+Po(e)+r+Po(i)+o:hn}function ec(n,t){return n<<17|t<<2}function Oi(n){return n>>17&32767}function nA(n){return(n&2)==2}function rA(n,t){return n&131071|t<<17}function sh(n){return n|2}function Bo(n){return(n&131068)>>2}function up(n,t){return n&-131069|t<<2}function iA(n){return(n&1)===1}function ah(n){return n|1}function oA(n,t,e,r,i,o){let s=o?t.classBindings:t.styleBindings,a=Oi(s),l=Bo(s);n[r]=e;let c=!1,p;if(Array.isArray(e)){let h=e;p=h[1],(p===null||ta(h,p)>0)&&(c=!0)}else p=e;if(i)if(l!==0){let v=Oi(n[a+1]);n[r+1]=ec(v,a),v!==0&&(n[v+1]=up(n[v+1],r)),n[a+1]=rA(n[a+1],r)}else n[r+1]=ec(a,0),a!==0&&(n[a+1]=up(n[a+1],r)),a=r;else n[r+1]=ec(l,0),a===0?a=r:n[l+1]=up(n[l+1],r),l=r;c&&(n[r+1]=sh(n[r+1])),F_(n,p,r,!0),F_(n,p,r,!1),sA(t,p,n,r,o),s=ec(a,l),o?t.classBindings=s:t.styleBindings=s}function sA(n,t,e,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof t=="string"&&ta(o,t)>=0&&(e[r+1]=ah(e[r+1]))}function F_(n,t,e,r){let i=n[e+1],o=t===null,s=r?Oi(i):Bo(i),a=!1;for(;s!==0&&(a===!1||o);){let l=n[s],c=n[s+1];aA(l,t)&&(a=!0,n[s+1]=r?ah(c):sh(c)),s=r?Oi(c):Bo(c)}a&&(n[e+1]=r?sh(i):ah(i))}function aA(n,t){return n===null||t==null||(Array.isArray(n)?n[1]:n)===t?!0:Array.isArray(n)&&typeof t=="string"?ta(n,t)>=0:!1}var Mn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function lA(n){return n.substring(Mn.key,Mn.keyEnd)}function cA(n){return uA(n),_w(n,bw(n,0,Mn.textEnd))}function _w(n,t){let e=Mn.textEnd;return e===t?-1:(t=Mn.keyEnd=dA(n,Mn.key=t,e),bw(n,t,e))}function uA(n){Mn.key=0,Mn.keyEnd=0,Mn.value=0,Mn.valueEnd=0,Mn.textEnd=n.length}function bw(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function dA(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}function y(n,t,e){let r=ye(),i=Hc();if(Yr(r,i,t)){let o=Je(),s=jh();Vb(o,s,r,n,t,r[Ge],e,!1)}return y}function lh(n,t,e,r,i){let o=t.inputs,s=i?"class":"style";rm(n,e,o[s],s,r)}function Zn(n,t,e){return Cw(n,t,e,!1),Zn}function J(n,t){return Cw(n,t,null,!0),J}function ww(n){pA(_A,fA,n,!0)}function fA(n,t){for(let e=cA(t);e>=0;e=_w(t,e))Dh(n,lA(t),!0)}function Cw(n,t,e,r){let i=ye(),o=Je(),s=Rh(2);if(o.firstUpdatePass&&Sw(o,n,s,r),t!==hn&&Yr(i,s,t)){let a=o.data[Jr()];Dw(o,a,i,i[Ge],n,i[s+1]=wA(t,e),r,s)}}function pA(n,t,e,r){let i=Je(),o=Rh(2);i.firstUpdatePass&&Sw(i,null,o,r);let s=ye();if(e!==hn&&Yr(s,o,e)){let a=i.data[Jr()];if(Iw(a,r)&&!Ew(i,o)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(e=mp(l,e||"")),lh(i,a,s,e,r)}else bA(i,a,s,s[Ge],s[o+1],s[o+1]=yA(n,t,e),r,o)}}function Ew(n,t){return t>=n.expandoStartIndex}function Sw(n,t,e,r){let i=n.data;if(i[e+1]===null){let o=i[Jr()],s=Ew(n,e);Iw(o,r)&&t===null&&!s&&(t=!1),t=hA(i,o,t,r),oA(i,o,t,e,s,r)}}function hA(n,t,e,r){let i=Dx(n),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(e=dp(null,n,t,e,r),e=Xs(e,t.attrs,r),o=null);else{let s=t.directiveStylingLast;if(s===-1||n[s]!==i)if(e=dp(i,n,t,e,r),o===null){let l=mA(n,t,r);l!==void 0&&Array.isArray(l)&&(l=dp(null,n,t,l[1],r),l=Xs(l,t.attrs,r),gA(n,t,r,l))}else o=vA(n,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),e}function mA(n,t,e){let r=e?t.classBindings:t.styleBindings;if(Bo(r)!==0)return n[Oi(r)]}function gA(n,t,e,r){let i=e?t.classBindings:t.styleBindings;n[Oi(i)]=r}function vA(n,t,e){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Xs(r,s,e)}return Xs(r,t.attrs,e)}function dp(n,t,e,r,i){let o=null,s=e.directiveEnd,a=e.directiveStylingLast;for(a===-1?a=e.directiveStart:a++;a<s&&(o=t[a],r=Xs(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(e.directiveStylingLast=a),r}function Xs(n,t,e){let r=e?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Dh(n,s,e?!0:t[++o]))}return n===void 0?null:n}function yA(n,t,e){if(e==null||e==="")return Ft;let r=[],i=Pn(e);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&t(r,i);return r}function _A(n,t,e){let r=String(t);r!==""&&!r.includes(" ")&&Dh(n,r,e)}function bA(n,t,e,r,i,o,s,a){i===hn&&(i=Ft);let l=0,c=0,p=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;p!==null||h!==null;){let v=l<i.length?i[l+1]:void 0,g=c<o.length?o[c+1]:void 0,b=null,w;p===h?(l+=2,c+=2,v!==g&&(b=h,w=g)):h===null||p!==null&&p<h?(l+=2,b=p):(c+=2,b=h,w=g),b!==null&&Dw(n,t,e,r,b,w,s,a),p=l<i.length?i[l]:null,h=c<o.length?o[c]:null}}function Dw(n,t,e,r,i,o,s,a){if(!(t.type&3))return;let l=n.data,c=l[a+1],p=iA(c)?L_(l,t,e,i,Bo(c),s):void 0;if(!Nc(p)){Nc(o)||nA(c)&&(o=L_(l,null,e,i,a,s));let h=b0(Jr(),e);q1(r,s,h,i,o)}}function L_(n,t,e,r,i,o){let s=t===null,a;for(;i>0;){let l=n[i],c=Array.isArray(l),p=c?l[1]:l,h=p===null,v=e[i+1];v===hn&&(v=h?Ft:void 0);let g=h?rp(v,r):p===r?v:void 0;if(c&&!Nc(g)&&(g=rp(l,r)),Nc(g)&&(a=g,s))return a;let b=n[i+1];i=s?Oi(b):Bo(b)}if(t!==null){let l=o?t.residualClasses:t.residualStyles;l!=null&&(a=rp(l,r))}return a}function Nc(n){return n!==void 0}function wA(n,t){return n==null||n===""||(typeof t=="string"?n=n+t:typeof n=="object"&&(n=It(Pn(n)))),n}function Iw(n,t){return(n.flags&(t?8:16))!==0}function CA(n,t,e,r,i,o){let s=t.consts,a=Vo(s,i),l=qo(t,n,2,r,a);return tm(t,e,l,Vo(s,o)),l.attrs!==null&&Tc(l,l.attrs,!1),l.mergedAttrs!==null&&Tc(l,l.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,l),l}function d(n,t,e,r){let i=ye(),o=Je(),s=xt+n,a=i[Ge],l=o.firstCreatePass?CA(s,o,i,t,e,r):o.data[s],c=EA(o,i,l,a,t,n);i[s]=c;let p=Bc(l);return Fi(l,!0),Nb(a,c,l),!sm(l)&&zc()&&Xc(o,i,c,l),px()===0&&Vi(c,i),hx(),p&&(Jh(o,i,l),Qh(o,l,i)),r!==null&&Xh(i,l),d}function u(){let n=Tt();Nh()?Ph():(n=n.parent,Fi(n,!1));let t=n;gx(t)&&vx(),mx();let e=Je();return e.firstCreatePass&&(qc(e,n),Mh(n)&&e.queries.elementEnd(n)),t.classesWithoutHost!=null&&Nx(t)&&lh(e,t,ye(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&Px(t)&&lh(e,t,ye(),t.stylesWithoutHost,!1),u}function x(n,t,e,r){return d(n,t,e,r),u(),x}var EA=(n,t,e,r,i,o)=>(Gc(!0),Ab(r,i,Tx()));function SA(n,t,e,r,i){let o=t.consts,s=Vo(o,r),a=qo(t,n,8,"ng-container",s);s!==null&&Tc(a,s,!0);let l=Vo(o,i);return tm(t,e,a,l),t.queries!==null&&t.queries.elementStart(t,a),a}function Yt(n,t,e){let r=ye(),i=Je(),o=n+xt,s=i.firstCreatePass?SA(o,i,r,t,e):i.data[o];Fi(s,!0);let a=DA(i,r,s,n);return r[o]=a,zc()&&Xc(i,r,a,s),Vi(a,r),Bc(s)&&(Jh(i,r,s),Qh(i,s,r)),e!=null&&Xh(r,s),Yt}function Jt(){let n=Tt(),t=Je();return Nh()?Ph():(n=n.parent,Fi(n,!1)),t.firstCreatePass&&(qc(t,n),Mh(n)&&t.queries.elementEnd(n)),Jt}var DA=(n,t,e,r)=>(Gc(!0),n1(t[Ge],""));function oe(){return ye()}var Ei=void 0;function IA(n){let t=n,e=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&r===0?1:5}var xA=["en",[["a","p"],["AM","PM"],Ei],[["AM","PM"],Ei,Ei],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ei,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ei,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ei,"{1} 'at' {0}",Ei],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",IA],fp={};function Xt(n){let t=TA(n),e=V_(t);if(e)return e;let r=t.split("-")[0];if(e=V_(r),e)return e;if(r==="en")return xA;throw new k(701,!1)}function V_(n){return n in fp||(fp[n]=fr.ng&&fr.ng.common&&fr.ng.common.locales&&fr.ng.common.locales[n]),fp[n]}var qe=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(qe||{});function TA(n){return n.toLowerCase().replace(/_/g,"-")}var Pc="en-US";var MA=Pc;function AA(n){typeof n=="string"&&(MA=n.toLowerCase().replace(/_/g,"-"))}var kA=(n,t,e)=>{};function C(n,t,e,r){let i=ye(),o=Je(),s=Tt();return xw(o,i,i[Ge],s,n,t,r),C}function NA(n,t,e,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===e&&i[o+1]===r){let a=t[fc],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function xw(n,t,e,r,i,o,s){let a=Bc(r),c=n.firstCreatePass&&I0(n),p=t[dn],h=D0(t),v=!0;if(r.type&3||s){let w=kn(r,t),T=s?s(w):w,O=h.length,L=s?q=>s(zn(q[r.index])):r.index,j=null;if(!s&&a&&(j=NA(n,t,i,r.index)),j!==null){let q=j.__ngLastListenerFn__||j;q.__ngNextListenerFn__=o,j.__ngLastListenerFn__=o,v=!1}else{o=U_(r,t,p,o),kA(w,i,o);let q=e.listen(T,i,o);h.push(o,q),c&&c.push(i,L,O,O+1)}}else o=U_(r,t,p,o);let g=r.outputs,b;if(v&&g!==null&&(b=g[i])){let w=b.length;if(w)for(let T=0;T<w;T+=2){let O=b[T],L=b[T+1],Z=t[O][L].subscribe(o),He=h.length;h.push(o,Z),c&&c.push(i,r.index,He,-(He+1))}}}function j_(n,t,e,r){let i=we(null);try{return un(6,t,e),e(r)!==!1}catch(o){return $b(n,o),!1}finally{un(7,t,e),we(i)}}function U_(n,t,e,r){return function i(o){if(o===Function)return r;let s=Ri(n)?Gn(n.index,t):t;cm(s,5);let a=j_(t,e,r,o),l=i.__ngNextListenerFn__;for(;l;)a=j_(t,e,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function _(n=1){return xx(n)}function PA(n,t){let e=null,r=WT(n);for(let i=0;i<t.length;i++){let o=t[i];if(o==="*"){e=i;continue}if(r===null?Mb(n,o,!0):ZT(r,o))return i}return e}function mm(n){let t=ye()[fn][Ut];if(!t.projection){let e=n?n.length:1,r=t.projection=$I(e,null),i=r.slice(),o=t.child;for(;o!==null;){if(o.type!==128){let s=n?PA(o,n):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function gm(n,t=0,e,r,i,o){let s=ye(),a=Je(),l=r?n+1:null;l!==null&&pw(s,a,l,r,i,o,null,e);let c=qo(a,xt+n,16,null,e||null);c.projection===null&&(c.projection=t),Ph();let h=!s[qs]||T0();s[fn][Ut].projection[c.projection]===null&&l!==null?OA(s,a,l):h&&!sm(c)&&z1(a,s,c)}function OA(n,t,e){let r=xt+e,i=t.data[r],o=n[r],s=Qp(o,i.tView.ssrId),a=Zb(n,i,void 0,{dehydratedView:s});Yb(o,a,0,qp(i,s))}function vm(n,t,e){AM(n,t,e)}function ru(n){let t=ye(),e=Je(),r=k0();Fh(r+1);let i=um(e,r);if(n.dirty&&lx(t)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=PM(t,r);n.reset(o,nT),n.notifyOnChanges()}return!0}return!1}function iu(){return TM(ye(),k0())}function RA(n,t,e,r){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=r}function Yn(n){let t=_x();return C0(t,xt+n)}function f(n,t=""){let e=ye(),r=Je(),i=n+xt,o=r.firstCreatePass?qo(r,i,1,t,null):r.data[i],s=FA(r,e,o,t,n);e[i]=s,zc()&&Xc(r,e,s,o),Fi(o,!1)}var FA=(n,t,e,r,i)=>(Gc(!0),e1(t[Ge],r));function P(n){return U("",n,""),P}function U(n,t,e){let r=ye(),i=eA(r,n,t,e);return i!==hn&&Tw(r,Jr(),i),U}function ym(n,t,e,r,i){let o=ye(),s=tA(o,n,t,e,r,i);return s!==hn&&Tw(o,Jr(),s),ym}function Tw(n,t,e){let r=b0(t,n);t1(n[Ge],r,e)}function X(n,t,e){tb(t)&&(t=t());let r=ye(),i=Hc();if(Yr(r,i,t)){let o=Je(),s=jh();Vb(o,s,r,n,t,r[Ge],e,!1)}return X}function te(n,t){let e=tb(n);return e&&n.set(t),e}function ee(n,t){let e=ye(),r=Je(),i=Tt();return xw(r,e,e[Ge],i,n,t),ee}function LA(n,t,e){let r=Je();if(r.firstCreatePass){let i=mr(n);ch(e,r.data,r.blueprint,i,!0),ch(t,r.data,r.blueprint,i,!1)}}function ch(n,t,e,r,i){if(n=Dt(n),Array.isArray(n))for(let o=0;o<n.length;o++)ch(n[o],t,e,r,i);else{let o=Je(),s=ye(),a=Tt(),l=Fo(n)?n:Dt(n.provide),c=f0(n),p=a.providerIndexes&1048575,h=a.directiveStart,v=a.providerIndexes>>20;if(Fo(n)||!n.multi){let g=new Ni(c,i,E),b=hp(l,t,i?p:p+v,h);b===-1?(Tp(_c(a,s),o,l),pp(o,n,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),e.push(g),s.push(g)):(e[b]=g,s[b]=g)}else{let g=hp(l,t,p+v,h),b=hp(l,t,p,p+v),w=g>=0&&e[g],T=b>=0&&e[b];if(i&&!T||!i&&!w){Tp(_c(a,s),o,l);let O=UA(i?jA:VA,e.length,i,r,c);!i&&T&&(e[b].providerFactory=O),pp(o,n,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),e.push(O),s.push(O)}else{let O=Mw(e[i?b:g],c,!i&&r);pp(o,n,g>-1?g:b,O)}!i&&r&&T&&e[b].componentProviders++}}}function pp(n,t,e,r){let i=Fo(t),o=KI(t);if(i||o){let l=(o?Dt(t.useClass):t).prototype.ngOnDestroy;if(l){let c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&t.multi){let p=c.indexOf(e);p===-1?c.push(e,[r,l]):c[p+1].push(r,l)}else c.push(e,l)}}}function Mw(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function hp(n,t,e,r){for(let i=e;i<r;i++)if(t[i]===n)return i;return-1}function VA(n,t,e,r){return uh(this.multi,[])}function jA(n,t,e,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Ks(e,e[fe],this.providerFactory.index,r);o=a.slice(0,s),uh(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],uh(i,o);return o}function uh(n,t){for(let e=0;e<n.length;e++){let r=n[e];t.push(r())}return t}function UA(n,t,e,r,i){let o=new Ni(n,e,E);return o.multi=[],o.index=t,o.componentProviders=0,Mw(o,i,r&&!e),o}function Bt(n,t=[]){return e=>{e.providersResolver=(r,i)=>LA(r,i?i(n):n,t)}}function Aw(n,t,e){let r=Oh()+n,i=ye();return i[r]===hn?dw(i,r,e?t.call(e):t()):GM(i,r)}function On(n,t,e,r,i){return kw(ye(),Oh(),n,t,e,r,i)}function BA(n,t){let e=n[t];return e===hn?void 0:e}function kw(n,t,e,r,i,o,s){let a=t+e;return fw(n,a,i,o)?dw(n,a+2,s?r.call(s,i,o):r(i,o)):BA(n,a+2)}function at(n,t){let e=Je(),r,i=n+xt;e.firstCreatePass?(r=$A(t,e.pipeRegistry),e.data[i]=r,r.onDestroy&&(e.destroyHooks??=[]).push(i,r.onDestroy)):r=e.data[i];let o=r.factory||(r.factory=Di(r.type,!0)),s,a=Rt(E);try{let l=yc(!1),c=o();return yc(l),RA(e,ye(),i,c),c}finally{Rt(a)}}function $A(n,t){if(t)for(let e=t.length-1;e>=0;e--){let r=t[e];if(n===r.name)return r}}function lt(n,t,e,r){let i=n+xt,o=ye(),s=C0(o,i);return HA(o,i)?kw(o,Oh(),t,s.transform,e,r,s):s.transform(e,r)}function HA(n,t){return n[fe].data[t].pure}function Wo(n,t){return tu(n,t)}var dh=class{ngModuleFactory;componentFactories;constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}},_m=(()=>{class n{compileModuleSync(e){return new oh(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let r=this.compileModuleSync(e),i=o0(e),o=xb(i.declarations).reduce((s,a)=>{let l=Ii(a);return l&&s.push(new Ys(l)),s},[]);return new dh(r,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var zA=(()=>{class n{zone=S(Ae);changeDetectionScheduler=S(qr);applicationRef=S(vr);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function GA({ngZoneFactory:n,ignoreChangesOutsideZone:t,scheduleInRootZone:e}){return n??=()=>new Ae(z(N({},qA()),{scheduleInRootZone:e})),[{provide:Ae,useFactory:n},{provide:Ro,multi:!0,useFactory:()=>{let r=S(zA,{optional:!0});return()=>r.initialize()}},{provide:Ro,multi:!0,useFactory:()=>{let r=S(WA);return()=>{r.initialize()}}},t===!0?{provide:Y0,useValue:!0}:[],{provide:Bh,useValue:e??Z0}]}function qA(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var WA=(()=>{class n{subscription=new Re;initialized=!1;zone=S(Ae);pendingTasks=S(br);initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ae.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ae.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Nw=(()=>{class n{appRef=S(vr);taskService=S(br);ngZone=S(Ae);zonelessEnabled=S(Qc);tracing=S(Go,{optional:!0});disableScheduling=S(Y0,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Re;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Cc):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(S(Bh,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Ec||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;let r=!1;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 8:{this.appRef.deferredDirtyFlags|=8;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 13:{this.appRef.dirtyFlags|=16,r=!0;break}case 14:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{r=!0;break}case 10:case 9:case 7:case 11:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?g_:J0;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(e){return!(this.disableScheduling&&!e||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Cc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(e),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,g_(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Pw(){return Nn("NgZoneless"),$o([{provide:qr,useExisting:Nw},{provide:Ae,useClass:Ec},{provide:Qc,useValue:!0},{provide:Bh,useValue:!1},[]])}function QA(){return typeof $localize<"u"&&$localize.locale||Pc}var Qo=new V("",{providedIn:"root",factory:()=>S(Qo,ce.Optional|ce.SkipSelf)||QA()});var fh=new V(""),KA=new V("");function Us(n){return!n.moduleRef}function ZA(n){let t=Us(n)?n.r3Injector:n.moduleRef.injector,e=t.get(Ae);return e.run(()=>{Us(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=t.get(Vt,null),i;if(e.runOutsideAngular(()=>{i=e.onError.subscribe({next:o=>{r.handleError(o)}})}),Us(n)){let o=()=>t.destroy(),s=n.platformInjector.get(fh);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(fh);s.add(o),n.moduleRef.onDestroy(()=>{sc(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return JM(r,e,()=>{let o=t.get(vw);return o.runInitializers(),o.donePromise.then(()=>{let s=t.get(Qo,Pc);if(AA(s||Pc),!t.get(KA,!0))return Us(n)?t.get(vr):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Us(n)){let l=t.get(vr);return n.rootComponent!==void 0&&l.bootstrap(n.rootComponent),l}else return YA(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function YA(n,t){let e=n.injector.get(vr);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>e.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(e);else throw new k(-403,!1);t.push(n)}var ac=null;function JA(n=[],t){return ft.create({name:t,providers:[{provide:jc,useValue:"platform"},{provide:fh,useValue:new Set([()=>ac=null])},...n]})}function XA(n=[]){if(ac)return ac;let t=JA(n);return ac=t,KM(),ek(t),t}function ek(n){let t=n.get(Gh,null);Zt(n,()=>{t?.forEach(e=>e())})}var xe=(()=>{class n{static __NG_ELEMENT_ID__=tk}return n})();function tk(n){return nk(Tt(),ye(),(n&16)===16)}function nk(n,t,e){if(Ri(n)&&!e){let r=Gn(n.index,t);return new Pi(r,r)}else if(n.type&175){let r=t[fn];return new Pi(r,t)}return null}var ph=class{constructor(){}supports(t){return uw(t)}create(t){return new hh(t)}},rk=(n,t)=>t,hh=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||rk}forEachItem(t){let e;for(e=this._itHead;e!==null;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,r=this._removalsHead,i=0,o=null;for(;e||r;){let s=!r||e&&e.currentIndex<B_(r,i,o)?e:r,a=B_(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(e=e._next,s.previousIndex==null)i++;else{o||(o=[]);let c=a-i,p=l-i;if(c!=p){for(let v=0;v<c;v++){let g=v<o.length?o[v]:o[v]=0,b=g+v;p<=b&&b<c&&(o[v]=g+1)}let h=s.previousIndex;o[h]=p-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)t(e)}diff(t){if(t==null&&(t=[]),!uw(t))throw new k(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._itHead,r=!1,i,o,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,o,s,a),r=!0):(r&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)),e=e._next}else i=0,zM(t,a=>{s=this._trackByFn(i,a),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,a,s,i),r=!0):(r&&(e=this._verifyReinsertion(e,a,s,i)),Object.is(e.item,a)||this._addIdentityChange(e,a)),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,r,i){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,i)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,i),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,i)):t=this._addAfter(new mh(e,r),o,i)),t}_verifyReinsertion(t,e,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;t!==null;){let e=t._next;this._addToRemovals(this._unlink(t)),t=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let i=t._prevRemoved,o=t._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,e,r),this._addToMoves(t,r),t}_moveAfter(t,e,r){return this._unlink(t),this._insertAfter(t,e,r),this._addToMoves(t,r),t}_addAfter(t,e,r){return this._insertAfter(t,e,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,e,r){let i=e===null?this._itHead:e._next;return t._next=i,t._prev=e,i===null?this._itTail=t:i._prev=t,e===null?this._itHead=t:e._next=t,this._linkedRecords===null&&(this._linkedRecords=new Oc),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let e=t._prev,r=t._next;return e===null?this._itHead=r:e._next=r,r===null?this._itTail=e:r._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Oc),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},mh=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,e){this.item=t,this.trackById=e}},gh=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let r;for(r=this._head;r!==null;r=r._nextDup)if((e===null||e<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let e=t._prevDup,r=t._nextDup;return e===null?this._head=r:e._nextDup=r,r===null?this._tail=e:r._prevDup=e,this._head===null}},Oc=class{map=new Map;put(t){let e=t.trackById,r=this.map.get(e);r||(r=new gh,this.map.set(e,r)),r.add(t)}get(t,e){let r=t,i=this.map.get(r);return i?i.get(t,e):null}remove(t){let e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function B_(n,t,e){let r=n.previousIndex;if(r===null)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+t+i}var vh=class{constructor(){}supports(t){return t instanceof Map||pm(t)}create(){return new yh}},yh=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(t){let e;for(e=this._mapHead;e!==null;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;e!==null;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;e!==null;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)t(e)}diff(t){if(!t)t=new Map;else if(!(t instanceof Map||pm(t)))throw new k(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(e&&e.key===i)this._maybeAddToChanges(e,r),this._appendAfter=e,e=e._next;else{let o=this._getOrCreateRecordForKey(i,r);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let r=e;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){let r=t._prev;return e._next=t,e._prev=r,t._prev=e,r&&(r._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){let i=this._records.get(t);this._maybeAddToChanges(i,e);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new _h(t);return this._records.set(t,r),r.currentValue=e,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;t!==null;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;t!=null;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){this._additionsHead===null?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){this._changesHead===null?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(r=>e(t[r],r))}},_h=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(t){this.key=t}};function $_(){return new bm([new ph])}var bm=(()=>{class n{factories;static \u0275prov=A({token:n,providedIn:"root",factory:$_});constructor(e){this.factories=e}static create(e,r){if(r!=null){let i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||$_()),deps:[[n,new Eh,new Vc]]}}find(e){let r=this.factories.find(i=>i.supports(e));if(r!=null)return r;throw new k(901,!1)}}return n})();function H_(){return new wm([new vh])}var wm=(()=>{class n{static \u0275prov=A({token:n,providedIn:"root",factory:H_});factories;constructor(e){this.factories=e}static create(e,r){if(r){let i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||H_()),deps:[[n,new Eh,new Vc]]}}find(e){let r=this.factories.find(i=>i.supports(e));if(r)return r;throw new k(901,!1)}}return n})();function Ow(n){try{let{rootComponent:t,appProviders:e,platformProviders:r}=n,i=XA(r),o=[GA({}),{provide:qr,useExisting:Nw},...e||[]],s=new Ac({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return ZA({r3Injector:s.injector,platformInjector:i,rootComponent:t})}catch(t){return Promise.reject(t)}}function Rn(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Le(n,t){Nn("NgSignals");let e=Iy(n);return t?.equal&&(e[Nt].equal=t.equal),e}function Er(n){let t=we(null);try{return n()}finally{we(t)}}var Rw=(()=>{class n{view;node;constructor(e,r){this.view=e,this.node=r}static __NG_ELEMENT_ID__=ik}return n})();function ik(){return new Rw(ye(),Tt())}var ok=!1,sk=(()=>{class n extends kc{pendingTasks=S(br);taskId=null;schedule(e){super.schedule(e),this.taskId===null&&(this.taskId=this.pendingTasks.add(),queueMicrotask(()=>this.flush()))}flush(){try{super.flush()}finally{this.taskId!==null&&(this.pendingTasks.remove(this.taskId),this.taskId=null)}}static \u0275prov=A({token:n,providedIn:"root",factory:()=>new n})}return n})(),bh=class{scheduler;effectFn;zone;injector;unregisterOnDestroy;watcher;constructor(t,e,r,i,o,s){this.scheduler=t,this.effectFn=e,this.zone=r,this.injector=o,this.watcher=Ny(a=>this.runEffect(a),()=>this.schedule(),s),this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}runEffect(t){try{this.effectFn(t)}catch(e){this.injector.get(Vt,null,{optional:!0})?.handleError(e)}}run(){this.watcher.run()}schedule(){this.scheduler.schedule(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function ak(){}function lk(n,t){Nn("NgSignals"),!t?.injector&&Th(ak);let e=t?.injector??S(ft),r=t?.manualCleanup!==!0?e.get(Li):null,i=new bh(e.get(sk),n,typeof Zone>"u"?null:Zone.current,r,e,t?.allowSignalWrites??!1),o=e.get(xe,null,{optional:!0});return!o||!(o._lView[ne]&8)?i.watcher.notify():(o._lView[nc]??=[]).push(i.watcher.notify),i}var ck=ok;var wh=class{[Nt];constructor(t){this[Nt]=t}destroy(){this[Nt].destroy()}};function Ko(n,t){if(ck)return lk(n,t);Nn("NgSignals"),!t?.injector&&Th(Ko);let e=t?.injector??S(ft),r=t?.manualCleanup!==!0?e.get(Li):null,i,o=e.get(Rw,null,{optional:!0}),s=e.get(qr);return o!==null&&!t?.forceRoot?(i=fk(o.view,s,n),r instanceof wc&&r._lView===o.view&&(r=null)):i=pk(n,e.get(yw),s),i.injector=e,r!==null&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new wh(i)}var Fw=z(N({},yi),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:Zs,run(){if(this.dirty=!1,this.hasRun&&!Os(this))return;this.hasRun=!0;let n=r=>(this.cleanupFns??=[]).push(r),t=go(this),e=mc(!1);try{this.maybeCleanup(),this.fn(n)}finally{mc(e),Ps(this,t)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}}),uk=z(N({},Fw),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(13)},destroy(){vo(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),dk=z(N({},Fw),{consumerMarkedDirty(){this.view[ne]|=8192,ra(this.view),this.notifier.notify(14)},destroy(){vo(this),this.onDestroyFn(),this.maybeCleanup(),this.view[Ti]?.delete(this)}});function fk(n,t,e){let r=Object.create(dk);return r.view=n,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=t,r.fn=e,n[Ti]??=new Set,n[Ti].add(r),r.consumerMarkedDirty(r),r}function pk(n,t,e){let r=Object.create(uk);return r.fn=n,r.scheduler=t,r.notifier=e,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.schedule(r),r.notifier.notify(13),r}var zw=null;function xr(){return zw}function Gw(n){zw??=n}var pu=class{};var Ve=new V(""),km=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=A({token:n,factory:()=>S(hk),providedIn:"platform"})}return n})();var hk=(()=>{class n extends km{_location;_history;_doc=S(Ve);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return xr().getBaseHref(this._doc)}onPopState(e){let r=xr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){let r=xr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){this._history.pushState(e,r,i)}replaceState(e,r,i){this._history.replaceState(e,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=A({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Nm(n,t){return n?t?n.endsWith("/")?t.startsWith("/")?n+t.slice(1):n+t:t.startsWith("/")?n+t:`${n}/${t}`:n:t}function Lw(n){let t=n.match(/#|\?|$/),e=t&&t.index||n.length,r=e-(n[e-1]==="/"?1:0);return n.slice(0,r)+n.slice(e)}function Dr(n){return n&&n[0]!=="?"?"?"+n:n}var ti=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=A({token:n,factory:()=>S(Ww),providedIn:"root"})}return n})(),qw=new V(""),Ww=(()=>{class n extends ti{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??S(Ve).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Nm(this._baseHref,e)}path(e=!1){let r=this._platformLocation.pathname+Dr(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,o){let s=this.prepareExternalUrl(i+Dr(o));this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){let s=this.prepareExternalUrl(i+Dr(o));this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||n)(R(km),R(qw,8))};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Qw=(()=>{class n extends ti{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(e){let r=Nm(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,o){let s=this.prepareExternalUrl(i+Dr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){let s=this.prepareExternalUrl(i+Dr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||n)(R(km),R(qw,8))};static \u0275prov=A({token:n,factory:n.\u0275fac})}return n})(),aa=(()=>{class n{_subject=new Fe;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let r=this._locationStrategy.getBaseHref();this._basePath=vk(Lw(Vw(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Dr(r))}normalize(e){return n.stripTrailingSlash(gk(this._basePath,Vw(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Dr(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Dr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Dr;static joinWithSlash=Nm;static stripTrailingSlash=Lw;static \u0275fac=function(r){return new(r||n)(R(ti))};static \u0275prov=A({token:n,factory:()=>mk(),providedIn:"root"})}return n})();function mk(){return new aa(R(ti))}function gk(n,t){if(!n||!t.startsWith(n))return t;let e=t.substring(n.length);return e===""||["/",";","?","#"].includes(e[0])?e:t}function Vw(n){return n.replace(/\/index.html$/,"")}function vk(n){if(new RegExp("^(https?:)?//").test(n)){let[,e]=n.split(/\/\/[^\/]+/);return e}return n}var Kw=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(Kw||{});var Mt=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Mt||{}),Ne=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Ne||{}),en=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(en||{}),tn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function yk(n){return Xt(n)[qe.LocaleId]}function _k(n,t,e){let r=Xt(n),i=[r[qe.DayPeriodsFormat],r[qe.DayPeriodsStandalone]],o=gn(i,t);return gn(o,e)}function bk(n,t,e){let r=Xt(n),i=[r[qe.DaysFormat],r[qe.DaysStandalone]],o=gn(i,t);return gn(o,e)}function wk(n,t,e){let r=Xt(n),i=[r[qe.MonthsFormat],r[qe.MonthsStandalone]],o=gn(i,t);return gn(o,e)}function Ck(n,t){let r=Xt(n)[qe.Eras];return gn(r,t)}function ou(n,t){let e=Xt(n);return gn(e[qe.DateFormat],t)}function su(n,t){let e=Xt(n);return gn(e[qe.TimeFormat],t)}function au(n,t){let r=Xt(n)[qe.DateTimeFormat];return gn(r,t)}function Ir(n,t){let e=Xt(n),r=e[qe.NumberSymbols][t];if(typeof r>"u"){if(t===tn.CurrencyDecimal)return e[qe.NumberSymbols][tn.Decimal];if(t===tn.CurrencyGroup)return e[qe.NumberSymbols][tn.Group]}return r}function Ek(n,t){return Xt(n)[qe.NumberFormats][t]}function Zw(n){if(!n[qe.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[qe.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Sk(n){let t=Xt(n);return Zw(t),(t[qe.ExtraData][2]||[]).map(r=>typeof r=="string"?Cm(r):[Cm(r[0]),Cm(r[1])])}function Dk(n,t,e){let r=Xt(n);Zw(r);let i=[r[qe.ExtraData][0],r[qe.ExtraData][1]],o=gn(i,t)||[];return gn(o,e)||[]}function gn(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function Cm(n){let[t,e]=n.split(":");return{hours:+t,minutes:+e}}var Ik=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,lu={},xk=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function Tk(n,t,e,r){let i=Lk(n);t=Sr(e,t)||t;let s=[],a;for(;t;)if(a=xk.exec(t),a){s=s.concat(a.slice(1));let p=s.pop();if(!p)break;t=p}else{s.push(t);break}let l=i.getTimezoneOffset();r&&(l=Jw(r,l),i=Fk(i,r,!0));let c="";return s.forEach(p=>{let h=Ok(p);c+=h?h(i,e,l):p==="''"?"'":p.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function hu(n,t,e){let r=new Date(0);return r.setFullYear(n,t,e),r.setHours(0,0,0),r}function Sr(n,t){let e=yk(n);if(lu[e]??={},lu[e][t])return lu[e][t];let r="";switch(t){case"shortDate":r=ou(n,en.Short);break;case"mediumDate":r=ou(n,en.Medium);break;case"longDate":r=ou(n,en.Long);break;case"fullDate":r=ou(n,en.Full);break;case"shortTime":r=su(n,en.Short);break;case"mediumTime":r=su(n,en.Medium);break;case"longTime":r=su(n,en.Long);break;case"fullTime":r=su(n,en.Full);break;case"short":let i=Sr(n,"shortTime"),o=Sr(n,"shortDate");r=cu(au(n,en.Short),[i,o]);break;case"medium":let s=Sr(n,"mediumTime"),a=Sr(n,"mediumDate");r=cu(au(n,en.Medium),[s,a]);break;case"long":let l=Sr(n,"longTime"),c=Sr(n,"longDate");r=cu(au(n,en.Long),[l,c]);break;case"full":let p=Sr(n,"fullTime"),h=Sr(n,"fullDate");r=cu(au(n,en.Full),[p,h]);break}return r&&(lu[e][t]=r),r}function cu(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,r){return t!=null&&r in t?t[r]:e})),n}function Fn(n,t,e="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=e));let s=String(n);for(;s.length<t;)s="0"+s;return r&&(s=s.slice(s.length-t)),o+s}function Mk(n,t){return Fn(n,3).substring(0,t)}function et(n,t,e=0,r=!1,i=!1){return function(o,s){let a=Ak(n,o);if((e>0||a>-e)&&(a+=e),n===3)a===0&&e===-12&&(a=12);else if(n===6)return Mk(a,t);let l=Ir(s,tn.MinusSign);return Fn(a,t,l,r,i)}}function Ak(n,t){switch(n){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate();case 3:return t.getHours();case 4:return t.getMinutes();case 5:return t.getSeconds();case 6:return t.getMilliseconds();case 7:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function Pe(n,t,e=Mt.Format,r=!1){return function(i,o){return kk(i,o,n,t,e,r)}}function kk(n,t,e,r,i,o){switch(e){case 2:return wk(t,i,r)[n.getMonth()];case 1:return bk(t,i,r)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let c=Sk(t),p=Dk(t,i,r),h=c.findIndex(v=>{if(Array.isArray(v)){let[g,b]=v,w=s>=g.hours&&a>=g.minutes,T=s<b.hours||s===b.hours&&a<b.minutes;if(g.hours<b.hours){if(w&&T)return!0}else if(w||T)return!0}else if(v.hours===s&&v.minutes===a)return!0;return!1});if(h!==-1)return p[h]}return _k(t,i,r)[s<12?0:1];case 3:return Ck(t,r)[n.getFullYear()<=0?0:1];default:let l=e;throw new Error(`unexpected translation type ${l}`)}}function uu(n){return function(t,e,r){let i=-1*r,o=Ir(e,tn.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+Fn(s,2,o)+Fn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+Fn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+Fn(s,2,o)+":"+Fn(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+Fn(s,2,o)+":"+Fn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}var Nk=0,fu=4;function Pk(n){let t=hu(n,Nk,1).getDay();return hu(n,0,1+(t<=fu?fu:fu+7)-t)}function Yw(n){let t=n.getDay(),e=t===0?-3:fu-t;return hu(n.getFullYear(),n.getMonth(),n.getDate()+e)}function Em(n,t=!1){return function(e,r){let i;if(t){let o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();i=1+Math.floor((s+o)/7)}else{let o=Yw(e),s=Pk(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Fn(i,n,Ir(r,tn.MinusSign))}}function du(n,t=!1){return function(e,r){let o=Yw(e).getFullYear();return Fn(o,n,Ir(r,tn.MinusSign),t)}}var Sm={};function Ok(n){if(Sm[n])return Sm[n];let t;switch(n){case"G":case"GG":case"GGG":t=Pe(3,Ne.Abbreviated);break;case"GGGG":t=Pe(3,Ne.Wide);break;case"GGGGG":t=Pe(3,Ne.Narrow);break;case"y":t=et(0,1,0,!1,!0);break;case"yy":t=et(0,2,0,!0,!0);break;case"yyy":t=et(0,3,0,!1,!0);break;case"yyyy":t=et(0,4,0,!1,!0);break;case"Y":t=du(1);break;case"YY":t=du(2,!0);break;case"YYY":t=du(3);break;case"YYYY":t=du(4);break;case"M":case"L":t=et(1,1,1);break;case"MM":case"LL":t=et(1,2,1);break;case"MMM":t=Pe(2,Ne.Abbreviated);break;case"MMMM":t=Pe(2,Ne.Wide);break;case"MMMMM":t=Pe(2,Ne.Narrow);break;case"LLL":t=Pe(2,Ne.Abbreviated,Mt.Standalone);break;case"LLLL":t=Pe(2,Ne.Wide,Mt.Standalone);break;case"LLLLL":t=Pe(2,Ne.Narrow,Mt.Standalone);break;case"w":t=Em(1);break;case"ww":t=Em(2);break;case"W":t=Em(1,!0);break;case"d":t=et(2,1);break;case"dd":t=et(2,2);break;case"c":case"cc":t=et(7,1);break;case"ccc":t=Pe(1,Ne.Abbreviated,Mt.Standalone);break;case"cccc":t=Pe(1,Ne.Wide,Mt.Standalone);break;case"ccccc":t=Pe(1,Ne.Narrow,Mt.Standalone);break;case"cccccc":t=Pe(1,Ne.Short,Mt.Standalone);break;case"E":case"EE":case"EEE":t=Pe(1,Ne.Abbreviated);break;case"EEEE":t=Pe(1,Ne.Wide);break;case"EEEEE":t=Pe(1,Ne.Narrow);break;case"EEEEEE":t=Pe(1,Ne.Short);break;case"a":case"aa":case"aaa":t=Pe(0,Ne.Abbreviated);break;case"aaaa":t=Pe(0,Ne.Wide);break;case"aaaaa":t=Pe(0,Ne.Narrow);break;case"b":case"bb":case"bbb":t=Pe(0,Ne.Abbreviated,Mt.Standalone,!0);break;case"bbbb":t=Pe(0,Ne.Wide,Mt.Standalone,!0);break;case"bbbbb":t=Pe(0,Ne.Narrow,Mt.Standalone,!0);break;case"B":case"BB":case"BBB":t=Pe(0,Ne.Abbreviated,Mt.Format,!0);break;case"BBBB":t=Pe(0,Ne.Wide,Mt.Format,!0);break;case"BBBBB":t=Pe(0,Ne.Narrow,Mt.Format,!0);break;case"h":t=et(3,1,-12);break;case"hh":t=et(3,2,-12);break;case"H":t=et(3,1);break;case"HH":t=et(3,2);break;case"m":t=et(4,1);break;case"mm":t=et(4,2);break;case"s":t=et(5,1);break;case"ss":t=et(5,2);break;case"S":t=et(6,1);break;case"SS":t=et(6,2);break;case"SSS":t=et(6,3);break;case"Z":case"ZZ":case"ZZZ":t=uu(0);break;case"ZZZZZ":t=uu(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=uu(1);break;case"OOOO":case"ZZZZ":case"zzzz":t=uu(2);break;default:return null}return Sm[n]=t,t}function Jw(n,t){n=n.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function Rk(n,t){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+t),n}function Fk(n,t,e){let r=e?-1:1,i=n.getTimezoneOffset(),o=Jw(t,i);return Rk(n,r*(o-i))}function Lk(n){if(jw(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return hu(i,o-1,s)}let e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let r;if(r=n.match(Ik))return Vk(r)}let t=new Date(n);if(!jw(t))throw new Error(`Unable to convert "${n}" into a date`);return t}function Vk(n){let t=new Date(0),e=0,r=0,i=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-e,a=Number(n[5]||0)-r,l=Number(n[6]||0),c=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(t,s,a,l,c),t}function jw(n){return n instanceof Date&&!isNaN(n.valueOf())}var jk=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Uw=22,mu=".",sa="0",Uk=";",Bk=",",Dm="#";function $k(n,t,e,r,i,o,s=!1){let a="",l=!1;if(!isFinite(n))a=Ir(e,tn.Infinity);else{let c=qk(n);s&&(c=Gk(c));let p=t.minInt,h=t.minFrac,v=t.maxFrac;if(o){let L=o.match(jk);if(L===null)throw new Error(`${o} is not a valid digit info`);let j=L[1],q=L[3],Z=L[5];j!=null&&(p=Im(j)),q!=null&&(h=Im(q)),Z!=null?v=Im(Z):q!=null&&h>v&&(v=h)}Wk(c,h,v);let g=c.digits,b=c.integerLen,w=c.exponent,T=[];for(l=g.every(L=>!L);b<p;b++)g.unshift(0);for(;b<0;b++)g.unshift(0);b>0?T=g.splice(b,g.length):(T=g,g=[0]);let O=[];for(g.length>=t.lgSize&&O.unshift(g.splice(-t.lgSize,g.length).join(""));g.length>t.gSize;)O.unshift(g.splice(-t.gSize,g.length).join(""));g.length&&O.unshift(g.join("")),a=O.join(Ir(e,r)),T.length&&(a+=Ir(e,i)+T.join("")),w&&(a+=Ir(e,tn.Exponential)+"+"+w)}return n<0&&!l?a=t.negPre+a+t.negSuf:a=t.posPre+a+t.posSuf,a}function Hk(n,t,e){let r=Ek(t,Kw.Decimal),i=zk(r,Ir(t,tn.MinusSign));return $k(n,i,t,tn.Group,tn.Decimal,e)}function zk(n,t="-"){let e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(Uk),i=r[0],o=r[1],s=i.indexOf(mu)!==-1?i.split(mu):[i.substring(0,i.lastIndexOf(sa)+1),i.substring(i.lastIndexOf(sa)+1)],a=s[0],l=s[1]||"";e.posPre=a.substring(0,a.indexOf(Dm));for(let p=0;p<l.length;p++){let h=l.charAt(p);h===sa?e.minFrac=e.maxFrac=p+1:h===Dm?e.maxFrac=p+1:e.posSuf+=h}let c=a.split(Bk);if(e.gSize=c[1]?c[1].length:0,e.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){let p=i.length-e.posPre.length-e.posSuf.length,h=o.indexOf(Dm);e.negPre=o.substring(0,h).replace(/'/g,""),e.negSuf=o.slice(h+p).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}function Gk(n){if(n.digits[0]===0)return n;let t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(t===0?n.digits.push(0,0):t===1&&n.digits.push(0),n.integerLen+=2),n}function qk(n){let t=Math.abs(n)+"",e=0,r,i,o,s,a;for((i=t.indexOf(mu))>-1&&(t=t.replace(mu,"")),(o=t.search(/e/i))>0?(i<0&&(i=o),i+=+t.slice(o+1),t=t.substring(0,o)):i<0&&(i=t.length),o=0;t.charAt(o)===sa;o++);if(o===(a=t.length))r=[0],i=1;else{for(a--;t.charAt(a)===sa;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(t.charAt(o))}return i>Uw&&(r=r.splice(0,Uw-1),e=i-1,i=1),{digits:r,exponent:e,integerLen:i}}function Wk(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let r=n.digits,i=r.length-n.integerLen,o=Math.min(Math.max(t,i),e),s=o+n.integerLen,a=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let h=s;h<r.length;h++)r[h]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let h=1;h<s;h++)r[h]=0}if(a>=5)if(s-1<0){for(let h=0;h>s;h--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let l=o!==0,c=t+n.integerLen,p=r.reduceRight(function(h,v,g,b){return v=v+h,b[g]=v<10?v:v-10,l&&(b[g]===0&&g>=c?b.pop():l=!1),v>=10?1:0},0);p&&(r.unshift(p),n.integerLen++)}function Im(n){let t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}function vu(n,t){t=encodeURIComponent(t);for(let e of n.split(";")){let r=e.indexOf("="),[i,o]=r==-1?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var xm=/\s+/,Bw=[],vn=(()=>{class n{_ngEl;_renderer;initialClasses=Bw;rawClass;stateMap=new Map;constructor(e,r){this._ngEl=e,this._renderer=r}set klass(e){this.initialClasses=e!=null?e.trim().split(xm):Bw}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(xm):e}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let r of e)this._updateState(r,!0);else if(e!=null)for(let r of Object.keys(e))this._updateState(r,!!e[r]);this._applyStateDiff()}_updateState(e,r){let i=this.stateMap.get(e);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let r=e[0],i=e[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(e,r){e=e.trim(),e.length>0&&e.split(xm).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(E(Xe),E(mn))};static \u0275dir=Ee({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var Tm=class{$implicit;ngForOf;index;count;constructor(t,e,r,i){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},We=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let r=this._viewContainer;e.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Tm(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),$w(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);$w(o,i)})}static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||n)(E(Cr),E(Qr),E(bm))};static \u0275dir=Ee({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function $w(n,t){n.context.$implicit=t.item}var re=(()=>{class n{_viewContainer;_context=new Mm;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,r){this._viewContainer=e,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Hw("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Hw("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||n)(E(Cr),E(Qr))};static \u0275dir=Ee({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Mm=class{$implicit=null;ngIf=null};function Hw(n,t){if(!!!(!t||t.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${It(t)}'.`)}var Am=class{_viewContainerRef;_templateRef;_created=!1;constructor(t,e){this._viewContainerRef=t,this._templateRef=e}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}},Pm=(()=>{class n{_defaultViews=[];_defaultUsed=!1;_caseCount=0;_lastCaseCheckIndex=0;_lastCasesMatched=!1;_ngSwitch;set ngSwitch(e){this._ngSwitch=e,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){let r=e===this._ngSwitch;return this._lastCasesMatched||=r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(let r of this._defaultViews)r.enforceState(e)}}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ee({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}})}return n})(),Xw=(()=>{class n{ngSwitch;_view;ngSwitchCase;constructor(e,r,i){this.ngSwitch=i,i._addCase(),this._view=new Am(e,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static \u0275fac=function(r){return new(r||n)(E(Cr),E(Qr),E(Pm,9))};static \u0275dir=Ee({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}})}return n})();var eC=(()=>{class n{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(e,r,i){this._ngEl=e,this._differs=r,this._renderer=i}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){let e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,r){let[i,o]=e.split("."),s=i.indexOf("-")===-1?void 0:Wn.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(e){e.forEachRemovedItem(r=>this._setStyle(r.key,null)),e.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),e.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||n)(E(Xe),E(wm),E(mn))};static \u0275dir=Ee({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return n})();function tC(n,t){return new k(2100,!1)}var Qk="mediumDate",Kk=new V(""),Zk=new V(""),Yo=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(e,r,i){this.locale=e,this.defaultTimezone=r,this.defaultOptions=i}transform(e,r,i,o){if(e==null||e===""||e!==e)return null;try{let s=r??this.defaultOptions?.dateFormat??Qk,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Tk(e,s,o||this.locale,a)}catch(s){throw tC(n,s.message)}}static \u0275fac=function(r){return new(r||n)(E(Qo,16),E(Kk,24),E(Zk,24))};static \u0275pipe=fm({name:"date",type:n,pure:!0})}return n})();var Jo=(()=>{class n{_locale;constructor(e){this._locale=e}transform(e,r,i){if(!Yk(e))return null;i||=this._locale;try{let o=Jk(e);return Hk(o,i,r)}catch(o){throw tC(n,o.message)}}static \u0275fac=function(r){return new(r||n)(E(Qo,16))};static \u0275pipe=fm({name:"number",type:n,pure:!0})}return n})();function Yk(n){return!(n==null||n===""||n!==n)}function Jk(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new Error(`${n} is not a number`);return n}var B=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=st({type:n});static \u0275inj=ot({})}return n})(),Om="browser",Xk="server";function yn(n){return n===Om}function Rm(n){return n===Xk}var Zo=class{};var ua=class{},da=class{},Tr=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let r=e.indexOf(":");if(r>0){let i=e.slice(0,r),o=e.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,r)=>{this.addHeaderEntry(r,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,r])=>{this.setHeaderEntries(e,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new n;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,e);let i=(t.op==="a"?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":let o=t.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let s=this.headers.get(e);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}break}}addHeaderEntry(t,e){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(e):this.headers.set(r,[e])}setHeaderEntries(t,e){let r=(Array.isArray(e)?e:[e]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var Vm=class{encodeKey(t){return nC(t)}encodeValue(t){return nC(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function tN(n,t){let e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}var nN=/%(\d[a-f0-9])/gi,rN={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function nC(n){return encodeURIComponent(n).replace(nN,(t,e)=>rN[e]??t)}function yu(n){return`${n}`}var ri=class n{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new Vm,t.fromString){if(t.fromObject)throw new k(2805,!1);this.map=tN(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let r=t.fromObject[e],i=Array.isArray(r)?r.map(yu):[yu(r)];this.map.set(e,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(r=>{let i=t[r];Array.isArray(i)?i.forEach(o=>{e.push({param:r,value:o,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new n({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(yu(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],i=r.indexOf(yu(t.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var jm=class{map=new Map;set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function iN(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function rC(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function iC(n){return typeof Blob<"u"&&n instanceof Blob}function oC(n){return typeof FormData<"u"&&n instanceof FormData}function oN(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var la="Content-Type",_u="Accept",$m="X-Request-URL",cC="text/plain",uC="application/json",dC=`${uC}, ${cC}, */*`,ca=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,e,r,i){this.url=e,this.method=t.toUpperCase();let o;if(iN(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Tr,this.context??=new jm,!this.params)this.params=new ri,this.urlWithParams=e;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=e;else{let a=e.indexOf("?"),l=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||rC(this.body)||iC(this.body)||oC(this.body)||oN(this.body)?this.body:this.body instanceof ri?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||oC(this.body)?null:iC(this.body)?this.body.type||null:rC(this.body)?null:typeof this.body=="string"?cC:this.body instanceof ri?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?uC:null}clone(t={}){let e=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=t.transferCache??this.transferCache,s=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,c=t.headers||this.headers,p=t.params||this.params,h=t.context??this.context;return t.setHeaders!==void 0&&(c=Object.keys(t.setHeaders).reduce((v,g)=>v.set(g,t.setHeaders[g]),c)),t.setParams&&(p=Object.keys(t.setParams).reduce((v,g)=>v.set(g,t.setParams[g]),p)),new n(e,r,s,{params:p,headers:c,context:h,reportProgress:l,responseType:i,withCredentials:a,transferCache:o})}},ii=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(ii||{}),fa=class{headers;status;statusText;url;ok;type;constructor(t,e=200,r="OK"){this.headers=t.headers||new Tr,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},bu=class n extends fa{constructor(t={}){super(t)}type=ii.ResponseHeader;clone(t={}){return new n({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},pa=class n extends fa{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=ii.Response;clone(t={}){return new n({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},ni=class extends fa{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},fC=200,sN=204;function Fm(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var Hm=(()=>{class n{handler;constructor(e){this.handler=e}request(e,r,i={}){let o;if(e instanceof ca)o=e;else{let l;i.headers instanceof Tr?l=i.headers:l=new Tr(i.headers);let c;i.params&&(i.params instanceof ri?c=i.params:c=new ri({fromObject:i.params})),o=new ca(e,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=W(o).pipe(Br(l=>this.handler.handle(l)));if(e instanceof ca||i.observe==="events")return s;let a=s.pipe(St(l=>l instanceof pa));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(K(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new k(2806,!1);return l.body}));case"blob":return a.pipe(K(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new k(2807,!1);return l.body}));case"text":return a.pipe(K(l=>{if(l.body!==null&&typeof l.body!="string")throw new k(2808,!1);return l.body}));case"json":default:return a.pipe(K(l=>l.body))}case"response":return a;default:throw new k(2809,!1)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:new ri().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,Fm(i,r))}post(e,r,i={}){return this.request("POST",e,Fm(i,r))}put(e,r,i={}){return this.request("PUT",e,Fm(i,r))}static \u0275fac=function(r){return new(r||n)(R(ua))};static \u0275prov=A({token:n,factory:n.\u0275fac})}return n})(),aN=/^\)\]\}',?\n/;function sC(n){if(n.url)return n.url;let t=$m.toLocaleLowerCase();return n.headers.get(t)}var pC=new V(""),Lm=(()=>{class n{fetchImpl=S(Um,{optional:!0})?.fetch??((...e)=>globalThis.fetch(...e));ngZone=S(Ae);handle(e){return new _e(r=>{let i=new AbortController;return this.doRequest(e,i.signal,r).then(Bm,o=>r.error(new ni({error:o}))),()=>i.abort()})}async doRequest(e,r,i){let o=this.createRequestInit(e),s;try{let g=this.ngZone.runOutsideAngular(()=>this.fetchImpl(e.urlWithParams,N({signal:r},o)));lN(g),i.next({type:ii.Sent}),s=await g}catch(g){i.error(new ni({error:g,status:g.status??0,statusText:g.statusText,url:e.urlWithParams,headers:g.headers}));return}let a=new Tr(s.headers),l=s.statusText,c=sC(s)??e.urlWithParams,p=s.status,h=null;if(e.reportProgress&&i.next(new bu({headers:a,status:p,statusText:l,url:c})),s.body){let g=s.headers.get("content-length"),b=[],w=s.body.getReader(),T=0,O,L,j=typeof Zone<"u"&&Zone.current;await this.ngZone.runOutsideAngular(async()=>{for(;;){let{done:Z,value:He}=await w.read();if(Z)break;if(b.push(He),T+=He.length,e.reportProgress){L=e.responseType==="text"?(L??"")+(O??=new TextDecoder).decode(He,{stream:!0}):void 0;let Ye=()=>i.next({type:ii.DownloadProgress,total:g?+g:void 0,loaded:T,partialText:L});j?j.run(Ye):Ye()}}});let q=this.concatChunks(b,T);try{let Z=s.headers.get(la)??"";h=this.parseBody(e,q,Z)}catch(Z){i.error(new ni({error:Z,headers:new Tr(s.headers),status:s.status,statusText:s.statusText,url:sC(s)??e.urlWithParams}));return}}p===0&&(p=h?fC:0),p>=200&&p<300?(i.next(new pa({body:h,headers:a,status:p,statusText:l,url:c})),i.complete()):i.error(new ni({error:h,headers:a,status:p,statusText:l,url:c}))}parseBody(e,r,i){switch(e.responseType){case"json":let o=new TextDecoder().decode(r).replace(aN,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(e){let r={},i=e.withCredentials?"include":void 0;if(e.headers.forEach((o,s)=>r[o]=s.join(",")),e.headers.has(_u)||(r[_u]=dC),!e.headers.has(la)){let o=e.detectContentTypeHeader();o!==null&&(r[la]=o)}return{body:e.serializeBody(),method:e.method,headers:r,credentials:i}}concatChunks(e,r){let i=new Uint8Array(r),o=0;for(let s of e)i.set(s,o),o+=s.length;return i}static \u0275fac=function(r){return new(r||n)};static \u0275prov=A({token:n,factory:n.\u0275fac})}return n})(),Um=class{};function Bm(){}function lN(n){n.then(Bm,Bm)}function cN(n,t){return t(n)}function uN(n,t,e){return(r,i)=>Zt(e,()=>t(r,o=>n(o,i)))}var hC=new V(""),dN=new V(""),fN=new V("",{providedIn:"root",factory:()=>!0});var aC=(()=>{class n extends ua{backend;injector;chain=null;pendingTasks=S(br);contributeToStability=S(fN);constructor(e,r){super(),this.backend=e,this.injector=r}handle(e){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(hC),...this.injector.get(dN,[])]));this.chain=r.reduceRight((i,o)=>uN(i,o,this.injector),cN)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(e,i=>this.backend.handle(i)).pipe(ur(()=>this.pendingTasks.remove(r)))}else return this.chain(e,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(R(da),R(Lt))};static \u0275prov=A({token:n,factory:n.\u0275fac})}return n})();var pN=/^\)\]\}',?\n/,hN=RegExp(`^${$m}:`,"m");function mN(n){return"responseURL"in n&&n.responseURL?n.responseURL:hN.test(n.getAllResponseHeaders())?n.getResponseHeader($m):null}var lC=(()=>{class n{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new k(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Be(r.\u0275loadImpl()):W(null)).pipe(Wt(()=>new _e(o=>{let s=r.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((w,T)=>s.setRequestHeader(w,T.join(","))),e.headers.has(_u)||s.setRequestHeader(_u,dC),!e.headers.has(la)){let w=e.detectContentTypeHeader();w!==null&&s.setRequestHeader(la,w)}if(e.responseType){let w=e.responseType.toLowerCase();s.responseType=w!=="json"?w:"text"}let a=e.serializeBody(),l=null,c=()=>{if(l!==null)return l;let w=s.statusText||"OK",T=new Tr(s.getAllResponseHeaders()),O=mN(s)||e.url;return l=new bu({headers:T,status:s.status,statusText:w,url:O}),l},p=()=>{let{headers:w,status:T,statusText:O,url:L}=c(),j=null;T!==sN&&(j=typeof s.response>"u"?s.responseText:s.response),T===0&&(T=j?fC:0);let q=T>=200&&T<300;if(e.responseType==="json"&&typeof j=="string"){let Z=j;j=j.replace(pN,"");try{j=j!==""?JSON.parse(j):null}catch(He){j=Z,q&&(q=!1,j={error:He,text:j})}}q?(o.next(new pa({body:j,headers:w,status:T,statusText:O,url:L||void 0})),o.complete()):o.error(new ni({error:j,headers:w,status:T,statusText:O,url:L||void 0}))},h=w=>{let{url:T}=c(),O=new ni({error:w,status:s.status||0,statusText:s.statusText||"Unknown Error",url:T||void 0});o.error(O)},v=!1,g=w=>{v||(o.next(c()),v=!0);let T={type:ii.DownloadProgress,loaded:w.loaded};w.lengthComputable&&(T.total=w.total),e.responseType==="text"&&s.responseText&&(T.partialText=s.responseText),o.next(T)},b=w=>{let T={type:ii.UploadProgress,loaded:w.loaded};w.lengthComputable&&(T.total=w.total),o.next(T)};return s.addEventListener("load",p),s.addEventListener("error",h),s.addEventListener("timeout",h),s.addEventListener("abort",h),e.reportProgress&&(s.addEventListener("progress",g),a!==null&&s.upload&&s.upload.addEventListener("progress",b)),s.send(a),o.next({type:ii.Sent}),()=>{s.removeEventListener("error",h),s.removeEventListener("abort",h),s.removeEventListener("load",p),s.removeEventListener("timeout",h),e.reportProgress&&(s.removeEventListener("progress",g),a!==null&&s.upload&&s.upload.removeEventListener("progress",b)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(R(Zo))};static \u0275prov=A({token:n,factory:n.\u0275fac})}return n})(),mC=new V(""),gN="XSRF-TOKEN",vN=new V("",{providedIn:"root",factory:()=>gN}),yN="X-XSRF-TOKEN",_N=new V("",{providedIn:"root",factory:()=>yN}),wu=class{},bN=(()=>{class n{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,r,i){this.doc=e,this.platform=r,this.cookieName=i}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=vu(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(r){return new(r||n)(R(Ve),R(bt),R(vN))};static \u0275prov=A({token:n,factory:n.\u0275fac})}return n})();function wN(n,t){let e=n.url.toLowerCase();if(!S(mC)||n.method==="GET"||n.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return t(n);let r=S(wu).getToken(),i=S(_N);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),t(n)}var gC=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(gC||{});function CN(n,t){return{\u0275kind:n,\u0275providers:t}}function vC(...n){let t=[Hm,lC,aC,{provide:ua,useExisting:aC},{provide:da,useFactory:()=>S(pC,{optional:!0})??S(lC)},{provide:hC,useValue:wN,multi:!0},{provide:mC,useValue:!0},{provide:wu,useClass:bN}];for(let e of n)t.push(...e.\u0275providers);return $o(t)}function yC(){return CN(gC.Fetch,[Lm,{provide:pC,useExisting:Lm},{provide:da,useExisting:Lm}])}var Gm=class extends pu{supportsDOMEvents=!0},qm=class n extends Gm{static makeCurrent(){Gw(new n)}onAndCancel(t,e,r,i){return t.addEventListener(e,r,i),()=>{t.removeEventListener(e,r,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=SN();return e==null?null:DN(e)}resetBaseElement(){ha=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return vu(document.cookie,t)}},ha=null;function SN(){return ha=ha||document.querySelector("base"),ha?ha.getAttribute("href"):null}function DN(n){return new URL(n,document.baseURI).pathname}var IN=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=A({token:n,factory:n.\u0275fac})}return n})(),Wm=new V(""),EC=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,r){this._zone=r,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,i,o){return this._findPluginFor(r).addEventListener(e,r,i,o)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(o=>o.supports(e)),!r)throw new k(5101,!1);return this._eventNameToPlugin.set(e,r),r}static \u0275fac=function(r){return new(r||n)(R(Wm),R(Ae))};static \u0275prov=A({token:n,factory:n.\u0275fac})}return n})(),Eu=class{_doc;constructor(t){this._doc=t}manager},Cu="ng-app-id";function _C(n){for(let t of n)t.remove()}function bC(n,t){let e=t.createElement("style");return e.textContent=n,e}function xN(n,t,e,r){let i=n.head?.querySelectorAll(`style[${Cu}="${t}"],link[${Cu}="${t}"]`);if(i)for(let o of i)o.removeAttribute(Cu),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&e.set(o.textContent,{usage:0,elements:[o]})}function Qm(n,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",n),e}var SC=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,r,i,o={}){this.doc=e,this.appId=r,this.nonce=i,this.isServer=Rm(o),xN(e,r,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,r){for(let i of e)this.addUsage(i,this.inline,bC);r?.forEach(i=>this.addUsage(i,this.external,Qm))}removeStyles(e,r){for(let i of e)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(e,r,i){let o=r.get(e);o?o.usage++:r.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(e,this.doc)))})}removeUsage(e,r){let i=r.get(e);i&&(i.usage--,i.usage<=0&&(_C(i.elements),r.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])_C(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(e,bC(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(e,Qm(r,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Cu,this.appId),e.appendChild(r)}static \u0275fac=function(r){return new(r||n)(R(Ve),R(Kc),R(ia,8),R(bt))};static \u0275prov=A({token:n,factory:n.\u0275fac})}return n})(),zm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Zm=/%COMP%/g;var DC="%COMP%",TN=`_nghost-${DC}`,MN=`_ngcontent-${DC}`,AN=!0,kN=new V("",{providedIn:"root",factory:()=>AN});function NN(n){return MN.replace(Zm,n)}function PN(n){return TN.replace(Zm,n)}function IC(n,t){return t.map(e=>e.replace(Zm,n))}var Su=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,r,i,o,s,a,l,c=null,p=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=p,this.platformIsServer=Rm(a),this.defaultRenderer=new ma(e,s,l,this.platformIsServer,this.tracingService)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===qn.ShadowDom&&(r=z(N({},r),{encapsulation:qn.Emulated}));let i=this.getOrCreateRenderer(e,r);return i instanceof Du?i.applyToHost(e):i instanceof ga&&i.applyStyles(),i}getOrCreateRenderer(e,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,h=this.platformIsServer,v=this.tracingService;switch(r.encapsulation){case qn.Emulated:o=new Du(l,c,r,this.appId,p,s,a,h,v);break;case qn.ShadowDom:return new Km(l,c,e,r,s,a,this.nonce,h,v);default:o=new ga(l,c,r,p,s,a,h,v);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(r){return new(r||n)(R(EC),R(SC),R(Kc),R(kN),R(Ve),R(bt),R(Ae),R(ia),R(Go,8))};static \u0275prov=A({token:n,factory:n.\u0275fac})}return n})(),ma=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,r,i,o){this.eventManager=t,this.doc=e,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(zm[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(wC(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(wC(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){e.remove()}selectRootElement(t,e){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new k(-5104,!1);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;let o=zm[i];o?t.setAttributeNS(o,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){let i=zm[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(Wn.DashCase|Wn.Important)?t.style.setProperty(e,r,i&Wn.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&Wn.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t!=null&&(t[e]=r)}setValue(t,e){t.nodeValue=e}listen(t,e,r,i){if(typeof t=="string"&&(t=xr().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${e}`);let o=this.decoratePreventDefault(r);return this.tracingService!==null&&this.tracingService.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,e,o)),this.eventManager.addEventListener(t,e,o,i)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function wC(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Km=class extends ma{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,r,i,o,s,a,l,c){super(t,o,s,l,c),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let p=i.styles;p=IC(i.id,p);for(let v of p){let g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=v,this.shadowRoot.appendChild(g)}let h=i.getExternalStyles?.();if(h)for(let v of h){let g=Qm(v,o);a&&g.setAttribute("nonce",a),this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ga=class extends ma{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,r,i,o,s,a,l,c){super(t,o,s,a,l),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i;let p=r.styles;this.styles=c?IC(c,p):p,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Du=class extends ga{contentAttr;hostAttr;constructor(t,e,r,i,o,s,a,l,c){let p=i+"-"+r.id;super(t,e,r,o,s,a,l,c,p),this.contentAttr=NN(p),this.hostAttr=PN(p)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}},ON=(()=>{class n extends Eu{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i,o){return e.addEventListener(r,i,o),()=>this.removeEventListener(e,r,i,o)}removeEventListener(e,r,i,o){return e.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(R(Ve))};static \u0275prov=A({token:n,factory:n.\u0275fac})}return n})(),CC=["alt","control","meta","shift"],RN={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},FN={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},LN=(()=>{class n extends Eu{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>xr().onAndCancel(e,s.domEventName,a,o))}static parseEventName(e){let r=e.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),CC.forEach(c=>{let p=r.indexOf(c);p>-1&&(r.splice(p,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(e,r){let i=RN[e.key]||e.key,o="";return r.indexOf("code.")>-1&&(i=e.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),CC.forEach(s=>{if(s!==i){let a=FN[s];a(e)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(e,r,i){return o=>{n.matchEventFullKeyCode(o,e)&&i.runGuarded(()=>r(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(r){return new(r||n)(R(Ve))};static \u0275prov=A({token:n,factory:n.\u0275fac})}return n})();function xC(n,t){return Ow(N({rootComponent:n},VN(t)))}function VN(n){return{appProviders:[...HN,...n?.providers??[]],platformProviders:$N}}function jN(){qm.makeCurrent()}function UN(){return new Vt}function BN(){return lb(document),document}var $N=[{provide:bt,useValue:Om},{provide:Gh,useValue:jN,multi:!0},{provide:Ve,useFactory:BN,deps:[]}];var HN=[{provide:jc,useValue:"root"},{provide:Vt,useFactory:UN,deps:[]},{provide:Wm,useClass:ON,multi:!0,deps:[Ve,Ae,bt]},{provide:Wm,useClass:LN,multi:!0,deps:[Ve]},Su,SC,EC,{provide:Kr,useExisting:Su},{provide:Zo,useClass:IN,deps:[]},[]];var TC=(()=>{class n{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(r){return new(r||n)(R(Ve))};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var va=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=A({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=R(zN),i},providedIn:"root"})}return n})(),zN=(()=>{class n extends va{_doc;constructor(e){super(),this._doc=e}sanitize(e,r){if(r==null)return null;switch(e){case wt.NONE:return r;case wt.HTML:return Xr(r,"HTML")?Pn(r):Eb(this._doc,String(r)).toString();case wt.STYLE:return Xr(r,"Style")?Pn(r):r;case wt.SCRIPT:if(Xr(r,"Script"))return Pn(r);throw new k(5200,!1);case wt.URL:return Xr(r,"URL")?Pn(r):Jc(String(r));case wt.RESOURCE_URL:if(Xr(r,"ResourceURL"))return Pn(r);throw new k(5201,!1);default:throw new k(5202,!1)}}bypassSecurityTrustHtml(e){return pb(e)}bypassSecurityTrustStyle(e){return hb(e)}bypassSecurityTrustScript(e){return mb(e)}bypassSecurityTrustUrl(e){return gb(e)}bypassSecurityTrustResourceUrl(e){return vb(e)}static \u0275fac=function(r){return new(r||n)(R(Ve))};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var se="primary",Na=Symbol("RouteTitle"),ng=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function is(n){return new ng(n)}function qN(n,t,e){let r=e.path.split("/");if(r.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function WN(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Jn(n[e],t[e]))return!1;return!0}function Jn(n,t){let e=n?rg(n):void 0,r=t?rg(t):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let o=0;o<e.length;o++)if(i=e[o],!FC(n[i],t[i]))return!1;return!0}function rg(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function FC(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),r=[...t].sort();return e.every((i,o)=>r[o]===i)}else return n===t}function LC(n){return n.length>0?n[n.length-1]:null}function si(n){return Kf(n)?n:Ui(n)?Be(Promise.resolve(n)):W(n)}var QN={exact:jC,subset:UC},VC={exact:KN,subset:ZN,ignored:()=>!0};function MC(n,t,e){return QN[e.paths](n.root,t.root,e.matrixParams)&&VC[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function KN(n,t){return Jn(n,t)}function jC(n,t,e){if(!$i(n.segments,t.segments)||!Tu(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!n.children[r]||!jC(n.children[r],t.children[r],e))return!1;return!0}function ZN(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>FC(n[e],t[e]))}function UC(n,t,e){return BC(n,t,t.segments,e)}function BC(n,t,e,r){if(n.segments.length>e.length){let i=n.segments.slice(0,e.length);return!(!$i(i,e)||t.hasChildren()||!Tu(i,e,r))}else if(n.segments.length===e.length){if(!$i(n.segments,e)||!Tu(n.segments,e,r))return!1;for(let i in t.children)if(!n.children[i]||!UC(n.children[i],t.children[i],r))return!1;return!0}else{let i=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!$i(n.segments,i)||!Tu(n.segments,i,r)||!n.children[se]?!1:BC(n.children[se],t,o,r)}}function Tu(n,t,e){return t.every((r,i)=>VC[e](n[i].parameters,r.parameters))}var Ar=class{root;queryParams;fragment;_queryParamMap;constructor(t=new Ie([],{}),e={},r=null){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap??=is(this.queryParams),this._queryParamMap}toString(){return XN.serialize(this)}},Ie=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Mu(this)}},Bi=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=is(this.parameters),this._parameterMap}toString(){return HC(this)}};function YN(n,t){return $i(n,t)&&n.every((e,r)=>Jn(e.parameters,t[r].parameters))}function $i(n,t){return n.length!==t.length?!1:n.every((e,r)=>e.path===t[r].path)}function JN(n,t){let e=[];return Object.entries(n.children).forEach(([r,i])=>{r===se&&(e=e.concat(t(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==se&&(e=e.concat(t(i,r)))}),e}var Mg=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=A({token:n,factory:()=>new Ea,providedIn:"root"})}return n})(),Ea=class{parse(t){let e=new og(t);return new Ar(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${ya(t.root,!0)}`,r=nP(t.queryParams),i=typeof t.fragment=="string"?`#${eP(t.fragment)}`:"";return`${e}${r}${i}`}},XN=new Ea;function Mu(n){return n.segments.map(t=>HC(t)).join("/")}function ya(n,t){if(!n.hasChildren())return Mu(n);if(t){let e=n.children[se]?ya(n.children[se],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==se&&r.push(`${i}:${ya(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}else{let e=JN(n,(r,i)=>i===se?[ya(n.children[se],!1)]:[`${i}:${ya(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[se]!=null?`${Mu(n)}/${e[0]}`:`${Mu(n)}/(${e.join("//")})`}}function $C(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Iu(n){return $C(n).replace(/%3B/gi,";")}function eP(n){return encodeURI(n)}function ig(n){return $C(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Au(n){return decodeURIComponent(n)}function AC(n){return Au(n.replace(/\+/g,"%20"))}function HC(n){return`${ig(n.path)}${tP(n.parameters)}`}function tP(n){return Object.entries(n).map(([t,e])=>`;${ig(t)}=${ig(e)}`).join("")}function nP(n){let t=Object.entries(n).map(([e,r])=>Array.isArray(r)?r.map(i=>`${Iu(e)}=${Iu(i)}`).join("&"):`${Iu(e)}=${Iu(r)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var rP=/^[^\/()?;#]+/;function Jm(n){let t=n.match(rP);return t?t[0]:""}var iP=/^[^\/()?;=#]+/;function oP(n){let t=n.match(iP);return t?t[0]:""}var sP=/^[^=?&#]+/;function aP(n){let t=n.match(sP);return t?t[0]:""}var lP=/^[^&#]+/;function cP(n){let t=n.match(lP);return t?t[0]:""}var og=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ie([],{}):new Ie([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[se]=new Ie(t,e)),r}parseSegment(){let t=Jm(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new k(4009,!1);return this.capture(t),new Bi(Au(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=oP(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let i=Jm(this.remaining);i&&(r=i,this.capture(r))}t[Au(e)]=Au(r)}parseQueryParam(t){let e=aP(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let s=cP(this.remaining);s&&(r=s,this.capture(r))}let i=AC(e),o=AC(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Jm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new k(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=se);let s=this.parseChildren();e[o]=Object.keys(s).length===1?s[se]:new Ie([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new k(4011,!1)}};function zC(n){return n.segments.length>0?new Ie([],{[se]:n}):n}function GC(n){let t={};for(let[r,i]of Object.entries(n.children)){let o=GC(i);if(r===se&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let e=new Ie(n.segments,t);return uP(e)}function uP(n){if(n.numberOfChildren===1&&n.children[se]){let t=n.children[se];return new Ie(n.segments.concat(t.segments),t.children)}return n}function Hi(n){return n instanceof Ar}function dP(n,t,e=null,r=null){let i=qC(n);return WC(i,t,e,r)}function qC(n){let t;function e(o){let s={};for(let l of o.children){let c=e(l);s[l.outlet]=c}let a=new Ie(o.url,s);return o===n&&(t=a),a}let r=e(n.root),i=zC(r);return t??i}function WC(n,t,e,r){let i=n;for(;i.parent;)i=i.parent;if(t.length===0)return Xm(i,i,i,e,r);let o=fP(t);if(o.toRoot())return Xm(i,i,new Ie([],{}),e,r);let s=pP(o,i,n),a=s.processChildren?ba(s.segmentGroup,s.index,o.commands):KC(s.segmentGroup,s.index,o.commands);return Xm(i,s.segmentGroup,a,e,r)}function ku(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Sa(n){return typeof n=="object"&&n!=null&&n.outlets}function Xm(n,t,e,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(p=>`${p}`):`${c}`});let s;n===t?s=e:s=QC(n,t,e);let a=zC(GC(s));return new Ar(a,o,i)}function QC(n,t,e){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===t?r[i]=e:r[i]=QC(o,t,e)}),new Ie(n.segments,r)}var Nu=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&ku(r[0]))throw new k(4003,!1);let i=r.find(Sa);if(i&&i!==LC(r))throw new k(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function fP(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Nu(!0,0,n);let t=0,e=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?e=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Nu(e,t,r)}var ts=class{segmentGroup;processChildren;index;constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}};function pP(n,t,e){if(n.isAbsolute)return new ts(t,!0,0);if(!e)return new ts(t,!1,NaN);if(e.parent===null)return new ts(e,!0,0);let r=ku(n.commands[0])?0:1,i=e.segments.length-1+r;return hP(e,i,n.numberOfDoubleDots)}function hP(n,t,e){let r=n,i=t,o=e;for(;o>i;){if(o-=i,r=r.parent,!r)throw new k(4005,!1);i=r.segments.length}return new ts(r,!1,i-o)}function mP(n){return Sa(n[0])?n[0].outlets:{[se]:n}}function KC(n,t,e){if(n??=new Ie([],{}),n.segments.length===0&&n.hasChildren())return ba(n,t,e);let r=gP(n,t,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Ie(n.segments.slice(0,r.pathIndex),{});return o.children[se]=new Ie(n.segments.slice(r.pathIndex),n.children),ba(o,0,i)}else return r.match&&i.length===0?new Ie(n.segments,{}):r.match&&!n.hasChildren()?sg(n,t,e):r.match?ba(n,0,i):sg(n,t,e)}function ba(n,t,e){if(e.length===0)return new Ie(n.segments,{});{let r=mP(e),i={};if(Object.keys(r).some(o=>o!==se)&&n.children[se]&&n.numberOfChildren===1&&n.children[se].segments.length===0){let o=ba(n.children[se],t,e);return new Ie(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=KC(n.children[o],t,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ie(n.segments,i)}}function gP(n,t,e){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=e.length)return o;let s=n.segments[i],a=e[r];if(Sa(a))break;let l=`${a}`,c=r<e.length-1?e[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!NC(l,c,s))return o;r+=2}else{if(!NC(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function sg(n,t,e){let r=n.segments.slice(0,t),i=0;for(;i<e.length;){let o=e[i];if(Sa(o)){let l=vP(o.outlets);return new Ie(r,l)}if(i===0&&ku(e[0])){let l=n.segments[t];r.push(new Bi(l.path,kC(e[0]))),i++;continue}let s=Sa(o)?o.outlets[se]:`${o}`,a=i<e.length-1?e[i+1]:null;s&&a&&ku(a)?(r.push(new Bi(s,kC(a))),i+=2):(r.push(new Bi(s,{})),i++)}return new Ie(r,{})}function vP(n){let t={};return Object.entries(n).forEach(([e,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[e]=sg(new Ie([],{}),0,r))}),t}function kC(n){let t={};return Object.entries(n).forEach(([e,r])=>t[e]=`${r}`),t}function NC(n,t,e){return n==e.path&&Jn(t,e.parameters)}var wa="imperative",pt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(pt||{}),_n=class{id;url;constructor(t,e){this.id=t,this.url=e}},Da=class extends _n{type=pt.NavigationStart;navigationTrigger;restoredState;constructor(t,e,r="imperative",i=null){super(t,e),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},oi=class extends _n{urlAfterRedirects;type=pt.NavigationEnd;constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},rn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(rn||{}),ag=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(ag||{}),Mr=class extends _n{reason;code;type=pt.NavigationCancel;constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},zi=class extends _n{reason;code;type=pt.NavigationSkipped;constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i}},Ia=class extends _n{error;target;type=pt.NavigationError;constructor(t,e,r,i){super(t,e),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Pu=class extends _n{urlAfterRedirects;state;type=pt.RoutesRecognized;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lg=class extends _n{urlAfterRedirects;state;type=pt.GuardsCheckStart;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cg=class extends _n{urlAfterRedirects;state;shouldActivate;type=pt.GuardsCheckEnd;constructor(t,e,r,i,o){super(t,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ug=class extends _n{urlAfterRedirects;state;type=pt.ResolveStart;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},dg=class extends _n{urlAfterRedirects;state;type=pt.ResolveEnd;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fg=class{route;type=pt.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},pg=class{route;type=pt.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},hg=class{snapshot;type=pt.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},mg=class{snapshot;type=pt.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gg=class{snapshot;type=pt.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vg=class{snapshot;type=pt.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var xa=class{},os=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function yP(n,t){return n.providers&&!n._injector&&(n._injector=dm(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Ln(n){return n.outlet||se}function _P(n,t){let e=n.filter(r=>Ln(r)===t);return e.push(...n.filter(r=>Ln(r)!==t)),e}function Pa(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var yg=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Pa(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Uu(this.rootInjector)}},Uu=(()=>{class n{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,r){let i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){let r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new yg(this.rootInjector),this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(r){return new(r||n)(R(Lt))};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ou=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=_g(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){let e=_g(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=bg(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return bg(t,this._root).map(e=>e.value)}};function _g(n,t){if(n===t.value)return t;for(let e of t.children){let r=_g(n,e);if(r)return r}return null}function bg(n,t){if(n===t.value)return[t];for(let e of t.children){let r=bg(n,e);if(r.length)return r.unshift(t),r}return[]}var nn=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function es(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var Ru=class extends Ou{snapshot;constructor(t,e){super(t),this.snapshot=e,Ag(this,t)}toString(){return this.snapshot.toString()}};function ZC(n){let t=bP(n),e=new dt([new Bi("",{})]),r=new dt({}),i=new dt({}),o=new dt({}),s=new dt(""),a=new At(e,r,o,s,i,se,n,t.root);return a.snapshot=t.root,new Ru(new nn(a,[]),t)}function bP(n){let t={},e={},r={},i="",o=new ns([],t,r,i,e,se,n,null,{});return new Lu("",new nn(o,[]))}var At=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,r,i,o,s,a,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(K(c=>c[Na]))??W(void 0),this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(K(t=>is(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(K(t=>is(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Fu(n,t,e="emptyOnly"){let r,{routeConfig:i}=n;return t!==null&&(e==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:N(N({},t.params),n.params),data:N(N({},t.data),n.data),resolve:N(N(N(N({},n.data),t.data),i?.data),n._resolvedData)}:r={params:N({},n.params),data:N({},n.data),resolve:N(N({},n.data),n._resolvedData??{})},i&&JC(i)&&(r.resolve[Na]=i.title),r}var ns=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Na]}constructor(t,e,r,i,o,s,a,l,c){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=is(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=is(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},Lu=class extends Ou{url;constructor(t,e){super(e),this.url=t,Ag(this,e)}toString(){return YC(this._root)}};function Ag(n,t){t.value._routerState=n,t.children.forEach(e=>Ag(n,e))}function YC(n){let t=n.children.length>0?` { ${n.children.map(YC).join(", ")} } `:"";return`${n.value}${t}`}function eg(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Jn(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Jn(t.params,e.params)||n.paramsSubject.next(e.params),WN(t.url,e.url)||n.urlSubject.next(e.url),Jn(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function wg(n,t){let e=Jn(n.params,t.params)&&YN(n.url,t.url),r=!n.parent!=!t.parent;return e&&!r&&(!n.parent||wg(n.parent,t.parent))}function JC(n){return typeof n.title=="string"||n.title===null}var wP=new V(""),kg=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=se;activateEvents=new ve;deactivateEvents=new ve;attachEvents=new ve;detachEvents=new ve;routerOutletData=eb(void 0);parentContexts=S(Uu);location=S(Cr);changeDetector=S(xe);inputBinder=S(Ng,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new k(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new k(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new k(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new k(4013,!1);this._activatedRoute=e;let i=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Cg(e,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ee({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Qn]})}return n})(),Cg=class n{route;childContexts;parent;outletData;__ngOutletInjector(t){return new n(this.route,this.childContexts,t,this.outletData)}constructor(t,e,r,i){this.route=t,this.childContexts=e,this.parent=r,this.outletData=i}get(t,e){return t===At?this.route:t===Uu?this.childContexts:t===wP?this.outletData:this.parent.get(t,e)}},Ng=new V("");function CP(n,t,e){let r=Ta(n,t._root,e?e._root:void 0);return new Ru(r,t)}function Ta(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let r=e.value;r._futureSnapshot=t.value;let i=EP(n,t,e);return new nn(r,i)}else{if(n.shouldAttach(t.value)){let o=n.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Ta(n,a)),s}}let r=SP(t.value),i=t.children.map(o=>Ta(n,o));return new nn(r,i)}}function EP(n,t,e){return t.children.map(r=>{for(let i of e.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ta(n,r,i);return Ta(n,r)})}function SP(n){return new At(new dt(n.url),new dt(n.params),new dt(n.queryParams),new dt(n.fragment),new dt(n.data),n.outlet,n.component,n)}var Ma=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},XC="ngNavigationCancelingError";function Vu(n,t){let{redirectTo:e,navigationBehaviorOptions:r}=Hi(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=eE(!1,rn.Redirect);return i.url=e,i.navigationBehaviorOptions=r,i}function eE(n,t){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[XC]=!0,e.cancellationCode=t,e}function DP(n){return tE(n)&&Hi(n.url)}function tE(n){return!!n&&n[XC]}var IP=(n,t,e,r)=>K(i=>(new Eg(t,i.targetRouterState,i.currentRouterState,e,r).activate(n),i)),Eg=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,r,i,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),eg(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){let i=es(e);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,e,r){let i=t.value,o=e?e.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,r);else o&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=es(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){let r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=es(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,e,r){let i=es(e);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new vg(o.value.snapshot))}),t.children.length&&this.forwardEvent(new mg(t.value.snapshot))}activateRoutes(t,e,r){let i=t.value,o=e?e.value:null;if(eg(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),eg(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},ju=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},rs=class{component;route;constructor(t,e){this.component=t,this.route=e}};function xP(n,t,e){let r=n._root,i=t?t._root:null;return _a(r,i,e,[r.value])}function TP(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function as(n,t){let e=Symbol(),r=t.get(n,e);return r===e?typeof n=="function"&&!K_(n)?n:t.get(n):r}function _a(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=es(t);return n.children.forEach(s=>{MP(s,o[s.value.outlet],e,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ca(a,e.getContext(s),i)),i}function MP(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=AP(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new ju(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?_a(n,t,a?a.children:null,r,i):_a(n,t,e,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new rs(a.outlet.component,s))}else s&&Ca(t,a,i),i.canActivateChecks.push(new ju(r)),o.component?_a(n,null,a?a.children:null,r,i):_a(n,null,e,r,i);return i}function AP(n,t,e){if(typeof e=="function")return e(n,t);switch(e){case"pathParamsChange":return!$i(n.url,t.url);case"pathParamsOrQueryParamsChange":return!$i(n.url,t.url)||!Jn(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wg(n,t)||!Jn(n.queryParams,t.queryParams);case"paramsChange":default:return!wg(n,t)}}function Ca(n,t,e){let r=es(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?t?Ca(s,t.children.getContext(o),e):Ca(s,null,e):Ca(s,t,e)}),i.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new rs(t.outlet.component,i)):e.canDeactivateChecks.push(new rs(null,i)):e.canDeactivateChecks.push(new rs(null,i))}function Oa(n){return typeof n=="function"}function kP(n){return typeof n=="boolean"}function NP(n){return n&&Oa(n.canLoad)}function PP(n){return n&&Oa(n.canActivate)}function OP(n){return n&&Oa(n.canActivateChild)}function RP(n){return n&&Oa(n.canDeactivate)}function FP(n){return n&&Oa(n.canMatch)}function nE(n){return n instanceof cr||n?.name==="EmptyError"}var xu=Symbol("INITIAL_VALUE");function ss(){return Wt(n=>Do(n.map(t=>t.pipe(qt(1),Vs(xu)))).pipe(K(t=>{for(let e of t)if(e!==!0){if(e===xu)return xu;if(e===!1||LP(e))return e}return!0}),St(t=>t!==xu),qt(1)))}function LP(n){return Hi(n)||n instanceof Ma}function VP(n,t){return it(e=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return s.length===0&&o.length===0?W(z(N({},e),{guardsResult:!0})):jP(s,r,i,n).pipe(it(a=>a&&kP(a)?UP(r,o,n,t):W(a)),K(a=>z(N({},e),{guardsResult:a})))})}function jP(n,t,e,r){return Be(n).pipe(it(i=>GP(i.component,i.route,e,t,r)),dr(i=>i!==!0,!0))}function UP(n,t,e,r){return Be(t).pipe(Br(i=>Ur($P(i.route.parent,r),BP(i.route,r),zP(n,i.path,e),HP(n,i.route,e))),dr(i=>i!==!0,!0))}function BP(n,t){return n!==null&&t&&t(new gg(n)),W(!0)}function $P(n,t){return n!==null&&t&&t(new hg(n)),W(!0)}function HP(n,t,e){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return W(!0);let i=r.map(o=>Wl(()=>{let s=Pa(t)??e,a=as(o,s),l=PP(a)?a.canActivate(t,n):Zt(s,()=>a(t,n));return si(l).pipe(dr())}));return W(i).pipe(ss())}function zP(n,t,e){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>TP(s)).filter(s=>s!==null).map(s=>Wl(()=>{let a=s.guards.map(l=>{let c=Pa(s.node)??e,p=as(l,c),h=OP(p)?p.canActivateChild(r,n):Zt(c,()=>p(r,n));return si(h).pipe(dr())});return W(a).pipe(ss())}));return W(o).pipe(ss())}function GP(n,t,e,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return W(!0);let s=o.map(a=>{let l=Pa(t)??i,c=as(a,l),p=RP(c)?c.canDeactivate(n,t,e,r):Zt(l,()=>c(n,t,e,r));return si(p).pipe(dr())});return W(s).pipe(ss())}function qP(n,t,e,r){let i=t.canLoad;if(i===void 0||i.length===0)return W(!0);let o=i.map(s=>{let a=as(s,n),l=NP(a)?a.canLoad(t,e):Zt(n,()=>a(t,e));return si(l)});return W(o).pipe(ss(),rE(r))}function rE(n){return zf(ze(t=>{if(typeof t!="boolean")throw Vu(n,t)}),K(t=>t===!0))}function WP(n,t,e,r){let i=t.canMatch;if(!i||i.length===0)return W(!0);let o=i.map(s=>{let a=as(s,n),l=FP(a)?a.canMatch(t,e):Zt(n,()=>a(t,e));return si(l)});return W(o).pipe(ss(),rE(r))}var Aa=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},ka=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function Xo(n){return jr(new Aa(n))}function QP(n){return jr(new k(4e3,!1))}function KP(n){return jr(eE(!1,rn.GuardRejected))}var Sg=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return W(r);if(i.numberOfChildren>1||!i.children[se])return QP(`${t.redirectTo}`);i=i.children[se]}}applyRedirectCommands(t,e,r,i,o){if(typeof e!="string"){let a=e,{queryParams:l,fragment:c,routeConfig:p,url:h,outlet:v,params:g,data:b,title:w}=i,T=Zt(o,()=>a({params:g,data:b,queryParams:l,fragment:c,routeConfig:p,url:h,outlet:v,title:w}));if(T instanceof Ar)throw new ka(T);e=T}let s=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,r);if(e[0]==="/")throw new ka(s);return s}applyRedirectCreateUrlTree(t,e,r,i){let o=this.createSegmentGroup(t,e.root,r,i);return new Ar(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=e[a]}else r[i]=o}),r}createSegmentGroup(t,e,r,i){let o=this.createSegments(t,e.segments,r,i),s={};return Object.entries(e.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,r,i)}),new Ie(o,s)}createSegments(t,e,r,i){return e.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,e,r){let i=r[e.path.substring(1)];if(!i)throw new k(4001,!1);return i}findOrReturn(t,e){let r=0;for(let i of e){if(i.path===t.path)return e.splice(r),i;r++}return t}},Dg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ZP(n,t,e,r,i){let o=iE(n,t,e);return o.matched?(r=yP(t,r),WP(r,t,e,i).pipe(K(s=>s===!0?o:N({},Dg)))):W(o)}function iE(n,t,e){if(t.path==="**")return YP(e);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?N({},Dg):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let i=(t.matcher||qN)(e,n,t);if(!i)return N({},Dg);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?N(N({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function YP(n){return{matched:!0,parameters:n.length>0?LC(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function PC(n,t,e,r){return e.length>0&&eO(n,e,r)?{segmentGroup:new Ie(t,XP(r,new Ie(e,n.children))),slicedSegments:[]}:e.length===0&&tO(n,e,r)?{segmentGroup:new Ie(n.segments,JP(n,e,r,n.children)),slicedSegments:e}:{segmentGroup:new Ie(n.segments,n.children),slicedSegments:e}}function JP(n,t,e,r){let i={};for(let o of e)if(Bu(n,t,o)&&!r[Ln(o)]){let s=new Ie([],{});i[Ln(o)]=s}return N(N({},r),i)}function XP(n,t){let e={};e[se]=t;for(let r of n)if(r.path===""&&Ln(r)!==se){let i=new Ie([],{});e[Ln(r)]=i}return e}function eO(n,t,e){return e.some(r=>Bu(n,t,r)&&Ln(r)!==se)}function tO(n,t,e){return e.some(r=>Bu(n,t,r))}function Bu(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function nO(n,t,e){return t.length===0&&!n.children[e]}var Ig=class{};function rO(n,t,e,r,i,o,s="emptyOnly"){return new xg(n,t,e,r,i,s,o).recognize()}var iO=31,xg=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,r,i,o,s,a){this.injector=t,this.configLoader=e,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Sg(this.urlSerializer,this.urlTree)}noMatchError(t){return new k(4002,`'${t.segmentGroup}'`)}recognize(){let t=PC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(K(({children:e,rootSnapshot:r})=>{let i=new nn(r,e),o=new Lu("",i),s=dP(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let e=new ns([],Object.freeze({}),Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),se,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,se,e).pipe(K(r=>({children:r,rootSnapshot:e})),$n(r=>{if(r instanceof ka)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Aa?this.noMatchError(r):r}))}processSegmentGroup(t,e,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,e,r,o):this.processSegment(t,e,r,r.segments,i,!0,o).pipe(K(s=>s instanceof nn?[s]:[]))}processChildren(t,e,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Be(o).pipe(Br(s=>{let a=r.children[s],l=_P(e,s);return this.processSegmentGroup(t,l,a,s,i)}),Xf((s,a)=>(s.push(...a),s)),$r(null),Jf(),it(s=>{if(s===null)return Xo(r);let a=oE(s);return oO(a),W(a)}))}processSegment(t,e,r,i,o,s,a){return Be(e).pipe(Br(l=>this.processSegmentAgainstRoute(l._injector??t,e,l,r,i,o,s,a).pipe($n(c=>{if(c instanceof Aa)return W(null);throw c}))),dr(l=>!!l),$n(l=>{if(nE(l))return nO(r,i,o)?W(new Ig):Xo(r);throw l}))}processSegmentAgainstRoute(t,e,r,i,o,s,a,l){return Ln(r)!==s&&(s===se||!Bu(i,o,r))?Xo(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,e,r,o,s,l):Xo(i)}expandSegmentAgainstRouteUsingRedirect(t,e,r,i,o,s,a){let{matched:l,parameters:c,consumedSegments:p,positionalParamSegments:h,remainingSegments:v}=iE(e,i,o);if(!l)return Xo(e);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>iO&&(this.allowRedirects=!1));let g=new ns(o,c,Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,OC(i),Ln(i),i.component??i._loadedComponent??null,i,RC(i)),b=Fu(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(b.params),g.data=Object.freeze(b.data);let w=this.applyRedirects.applyRedirectCommands(p,i.redirectTo,h,g,t);return this.applyRedirects.lineralizeSegments(i,w).pipe(it(T=>this.processSegment(t,r,e,T.concat(v),s,!1,a)))}matchSegmentAgainstRoute(t,e,r,i,o,s){let a=ZP(e,r,i,t,this.urlSerializer);return r.path==="**"&&(e.children={}),a.pipe(Wt(l=>l.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(Wt(({routes:c})=>{let p=r._loadedInjector??t,{parameters:h,consumedSegments:v,remainingSegments:g}=l,b=new ns(v,h,Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,OC(r),Ln(r),r.component??r._loadedComponent??null,r,RC(r)),w=Fu(b,s,this.paramsInheritanceStrategy);b.params=Object.freeze(w.params),b.data=Object.freeze(w.data);let{segmentGroup:T,slicedSegments:O}=PC(e,v,g,c);if(O.length===0&&T.hasChildren())return this.processChildren(p,c,T,b).pipe(K(j=>new nn(b,j)));if(c.length===0&&O.length===0)return W(new nn(b,[]));let L=Ln(r)===o;return this.processSegment(p,c,T,O,L?se:o,!0,b).pipe(K(j=>new nn(b,j instanceof nn?[j]:[])))}))):Xo(e)))}getChildConfig(t,e,r){return e.children?W({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?W({routes:e._loadedRoutes,injector:e._loadedInjector}):qP(t,e,r,this.urlSerializer).pipe(it(i=>i?this.configLoader.loadChildren(t,e).pipe(ze(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):KP(e))):W({routes:[],injector:t})}};function oO(n){n.sort((t,e)=>t.value.outlet===se?-1:e.value.outlet===se?1:t.value.outlet.localeCompare(e.value.outlet))}function sO(n){let t=n.value.routeConfig;return t&&t.path===""}function oE(n){let t=[],e=new Set;for(let r of n){if(!sO(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),e.add(i)):t.push(r)}for(let r of e){let i=oE(r.children);t.push(new nn(r.value,i))}return t.filter(r=>!e.has(r))}function OC(n){return n.data||{}}function RC(n){return n.resolve||{}}function aO(n,t,e,r,i,o){return it(s=>rO(n,t,e,r,s.extractedUrl,i,o).pipe(K(({state:a,tree:l})=>z(N({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function lO(n,t){return it(e=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return W(e);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of sE(l))s.add(c);let a=0;return Be(s).pipe(Br(l=>o.has(l)?cO(l,r,n,t):(l.data=Fu(l,l.parent,n).resolve,W(void 0))),ze(()=>a++),Io(1),it(l=>a===s.size?W(e):Pt))})}function sE(n){let t=n.children.map(e=>sE(e)).flat();return[n,...t]}function cO(n,t,e,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!JC(i)&&(o[Na]=i.title),uO(o,n,t,r).pipe(K(s=>(n._resolvedData=s,n.data=Fu(n,n.parent,e).resolve,null)))}function uO(n,t,e,r){let i=rg(n);if(i.length===0)return W({});let o={};return Be(i).pipe(it(s=>dO(n[s],t,e,r).pipe(dr(),ze(a=>{if(a instanceof Ma)throw Vu(new Ea,a);o[s]=a}))),Io(1),K(()=>o),$n(s=>nE(s)?Pt:jr(s)))}function dO(n,t,e,r){let i=Pa(t)??r,o=as(n,i),s=o.resolve?o.resolve(t,e):Zt(i,()=>o(t,e));return si(s)}function tg(n){return Wt(t=>{let e=n(t);return e?Be(e).pipe(K(()=>t)):W(t)})}var aE=(()=>{class n{buildTitle(e){let r,i=e.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===se);return r}getResolvedTitleForRoute(e){return e.data[Na]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=A({token:n,factory:()=>S(fO),providedIn:"root"})}return n})(),fO=(()=>{class n extends aE{title;constructor(e){super(),this.title=e}updateTitle(e){let r=this.buildTitle(e);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(R(TC))};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Pg=new V("",{providedIn:"root",factory:()=>({})}),pO=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=F({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&x(0,"router-outlet")},dependencies:[kg],encapsulation:2})}return n})();function Og(n){let t=n.children&&n.children.map(Og),e=t?z(N({},n),{children:t}):N({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==se&&(e.component=pO),e}var Rg=new V(""),hO=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=S(_m);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return W(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let r=si(e.loadComponent()).pipe(K(lE),ze(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),ur(()=>{this.componentLoaders.delete(e)})),i=new Eo(r,()=>new Fe).pipe(Co());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return W({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=mO(r,this.compiler,e,this.onLoadEndListener).pipe(ur(()=>{this.childrenLoaders.delete(r)})),s=new Eo(o,()=>new Fe).pipe(Co());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function mO(n,t,e,r){return si(n.loadChildren()).pipe(K(lE),it(i=>i instanceof Js||Array.isArray(i)?W(i):Be(t.compileModuleAsync(i))),K(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(e).injector,s=o.get(Rg,[],{optional:!0,self:!0}).flat()),{routes:s.map(Og),injector:o}}))}function gO(n){return n&&typeof n=="object"&&"default"in n}function lE(n){return gO(n)?n.default:n}var Fg=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=A({token:n,factory:()=>S(vO),providedIn:"root"})}return n})(),vO=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static \u0275fac=function(r){return new(r||n)};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yO=new V("");var _O=new V(""),bO=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Fe;transitionAbortSubject=new Fe;configLoader=S(hO);environmentInjector=S(Lt);destroyRef=S(Li);urlSerializer=S(Mg);rootContexts=S(Uu);location=S(aa);inputBindingEnabled=S(Ng,{optional:!0})!==null;titleStrategy=S(aE);options=S(Pg,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=S(Fg);createViewTransition=S(yO,{optional:!0});navigationErrorHandler=S(_O,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>W(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=i=>this.events.next(new fg(i)),r=i=>this.events.next(new pg(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let r=++this.navigationId;this.transitions?.next(z(N(N({},this.transitions.value),e),{id:r}))}setupNavigations(e,r,i){return this.transitions=new dt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:wa,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(St(o=>o.id!==0),K(o=>z(N({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Wt(o=>{let s=!1,a=!1;return W(o).pipe(Wt(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",rn.SupersededByNewNavigation),Pt;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?z(N({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!c&&p!=="reload"){let h="";return this.events.next(new zi(l.id,this.urlSerializer.serialize(l.rawUrl),h,ag.IgnoredSameUrlNavigation)),l.resolve(!1),Pt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return W(l).pipe(Wt(h=>{let v=this.transitions?.getValue();return this.events.next(new Da(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),v!==this.transitions?.getValue()?Pt:Promise.resolve(h)}),aO(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),ze(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=z(N({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let v=new Pu(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(v)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:h,extractedUrl:v,source:g,restoredState:b,extras:w}=l,T=new Da(h,this.urlSerializer.serialize(v),g,b);this.events.next(T);let O=ZC(this.rootComponentType).snapshot;return this.currentTransition=o=z(N({},l),{targetSnapshot:O,urlAfterRedirects:v,extras:z(N({},w),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=v,W(o)}else{let h="";return this.events.next(new zi(l.id,this.urlSerializer.serialize(l.extractedUrl),h,ag.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Pt}}),ze(l=>{let c=new lg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),K(l=>(this.currentTransition=o=z(N({},l),{guards:xP(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),VP(this.environmentInjector,l=>this.events.next(l)),ze(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Vu(this.urlSerializer,l.guardsResult);let c=new cg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),St(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",rn.GuardRejected),!1)),tg(l=>{if(l.guards.canActivateChecks.length)return W(l).pipe(ze(c=>{let p=new ug(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(p)}),Wt(c=>{let p=!1;return W(c).pipe(lO(this.paramsInheritanceStrategy,this.environmentInjector),ze({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(c,"",rn.NoDataFromResolver)}}))}),ze(c=>{let p=new dg(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(p)}))}),tg(l=>{let c=p=>{let h=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(p.routeConfig).pipe(ze(v=>{p.component=v}),K(()=>{})));for(let v of p.children)h.push(...c(v));return h};return Do(c(l.targetSnapshot.root)).pipe($r(null),qt(1))}),tg(()=>this.afterPreactivation()),Wt(()=>{let{currentSnapshot:l,targetSnapshot:c}=o,p=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return p?Be(p).pipe(K(()=>o)):W(o)}),K(l=>{let c=CP(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=z(N({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,o}),ze(()=>{this.events.next(new xa)}),IP(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),qt(1),ze({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new oi(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),js(this.transitionAbortSubject.pipe(ze(l=>{throw l}))),ur(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",rn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),$n(l=>{if(this.destroyed)return o.resolve(!1),Pt;if(a=!0,tE(l))this.events.next(new Mr(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),DP(l)?this.events.next(new os(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let c=new Ia(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let p=Zt(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(p instanceof Ma){let{message:h,cancellationCode:v}=Vu(this.urlSerializer,p);this.events.next(new Mr(o.id,this.urlSerializer.serialize(o.extractedUrl),h,v)),this.events.next(new os(p.redirectTo,p.navigationBehaviorOptions))}else throw this.events.next(c),l}catch(p){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(p)}}return Pt}))}))}cancelNavigationTransition(e,r,i){let o=new Mr(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function wO(n){return n!==wa}var CO=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=A({token:n,factory:()=>S(EO),providedIn:"root"})}return n})(),Tg=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},EO=(()=>{class n extends Tg{static \u0275fac=(()=>{let e;return function(i){return(e||(e=Kn(n)))(i||n)}})();static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),cE=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=A({token:n,factory:()=>S(SO),providedIn:"root"})}return n})(),SO=(()=>{class n extends cE{location=S(aa);urlSerializer=S(Mg);options=S(Pg,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=S(Fg);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Ar;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=ZC(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{r.type==="popstate"&&e(r.url,r.state)})}handleRouterEvent(e,r){if(e instanceof Da)this.stateMemento=this.createStateMemento();else if(e instanceof zi)this.rawUrlTree=r.initialUrl;else if(e instanceof Pu){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else e instanceof xa?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):e instanceof Mr&&(e.code===rn.GuardRejected||e.code===rn.NoDataFromResolver)?this.restoreHistory(r):e instanceof Ia?this.restoreHistory(r,!0):e instanceof oi&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,r){let i=e instanceof Ar?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=N(N({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=N(N({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(e,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===e.finalUrl&&o===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Kn(n)))(i||n)}})();static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function DO(n,t){n.events.pipe(St(e=>e instanceof oi||e instanceof Mr||e instanceof Ia||e instanceof zi),K(e=>e instanceof oi||e instanceof zi?0:(e instanceof Mr?e.code===rn.Redirect||e.code===rn.SupersededByNewNavigation:!1)?2:1),St(e=>e!==2),qt(1)).subscribe(()=>{t()})}var IO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ke=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=S(hm);stateManager=S(cE);options=S(Pg,{optional:!0})||{};pendingTasks=S(br);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=S(bO);urlSerializer=S(Mg);location=S(aa);urlHandlingStrategy=S(Fg);_events=new Fe;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=S(CO);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=S(Rg,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!S(Ng,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Re;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Mr&&r.code!==rn.Redirect&&r.code!==rn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof oi)this.navigated=!0;else if(r instanceof os){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=N({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||wO(i.source)},s);this.scheduleNavigation(a,wa,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}MO(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),wa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",r)},0)})}navigateToSyncWithBrowser(e,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=N({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(e);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Og),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,p=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":p=N(N({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let h;try{let v=i?i.snapshot:this.routerState.snapshot.root;h=qC(v)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),h=this.currentUrlTree.root}return WC(h,e,p,c??null)}navigateByUrl(e,r={skipLocationChange:!1}){let i=Hi(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,wa,null,r)}navigate(e,r={skipLocationChange:!1}){return TO(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,r){let i;if(r===!0?i=N({},IO):r===!1?i=N({},xO):i=r,Hi(e))return MC(this.currentUrlTree,e,i);let o=this.parseUrl(e);return MC(this.currentUrlTree,o,i)}removeEmptyProps(e){return Object.entries(e).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(e,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((h,v)=>{a=h,l=v});let p=this.pendingTasks.add();return DO(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function TO(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new k(4008,!1)}function MO(n){return!(n instanceof xa)&&!(n instanceof os)}var Et=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Fe;constructor(e,r,i,o,s,a){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof oi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Hi(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let r=this.href===null?null:Sb(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(e,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,e,r):i.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:Hi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(E(Ke),E(At),Wc("tabindex"),E(mn),E(Xe),E(ti))};static \u0275dir=Ee({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&C("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&ei("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Rn],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Rn],replaceUrl:[2,"replaceUrl","replaceUrl",Rn],routerLink:"routerLink"},features:[ji,Qn]})}return n})();var AO=new V("");function uE(n,...t){return $o([{provide:Rg,multi:!0,useValue:n},[],{provide:At,useFactory:kO,deps:[Ke]},{provide:nu,multi:!0,useFactory:PO},t.map(e=>e.\u0275providers)])}function kO(n){return n.routerState.root}function NO(n,t){return{\u0275kind:n,\u0275providers:t}}function PO(){let n=S(ft);return t=>{let e=n.get(vr);if(t!==e.components[0])return;let r=n.get(Ke),i=n.get(OO);n.get(RO)===1&&r.initialNavigation(),n.get(FO,null,ce.Optional)?.setUpPreloading(),n.get(AO,null,ce.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var OO=new V("",{factory:()=>new Fe}),RO=new V("",{providedIn:"root",factory:()=>1});var FO=new V("");function dE(){return NO(6,[{provide:ti,useClass:Qw}])}var Lg;try{Lg=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Lg=!1}var $u=(()=>{class n{_platformId=S(bt);isBrowser=this._platformId?yn(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||Lg)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Vg(n){return Array.isArray(n)?n:[n]}var fE=new Set,Gi,LO=(()=>{class n{_platform=S($u);_nonce=S(ia,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):jO}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&VO(e,this._nonce),this._matchMedia(e)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function VO(n,t){if(!fE.has(n))try{Gi||(Gi=document.createElement("style"),t&&Gi.setAttribute("nonce",t),Gi.setAttribute("type","text/css"),document.head.appendChild(Gi)),Gi.sheet&&(Gi.sheet.insertRule(`@media ${n} {body{ }}`,0),fE.add(n))}catch(e){console.error(e)}}function jO(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var hE=(()=>{class n{_mediaMatcher=S(LO);_zone=S(Ae);_queries=new Map;_destroySubject=new Fe;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return pE(Vg(e)).some(i=>this._registerQuery(i).mql.matches)}observe(e){let i=pE(Vg(e)).map(s=>this._registerQuery(s).observable),o=Do(i);return o=Ur(o.pipe(qt(1)),o.pipe(np(1),Yf(0))),o.pipe(K(s=>{let a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let r=this._mediaMatcher.matchMedia(e),o={observable:new _e(s=>{let a=l=>this._zone.run(()=>s.next(l));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(Vs(r),K(({matches:s})=>({query:e,matches:s})),js(this._destroySubject)),mql:r};return this._queries.set(e,o),o}static \u0275fac=function(r){return new(r||n)};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function pE(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}var qi=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(qi||{}),mE="cdk-high-contrast-black-on-white",gE="cdk-high-contrast-white-on-black",jg="cdk-high-contrast-active",vE=(()=>{class n{_platform=S($u);_hasCheckedHighContrastMode;_document=S(Ve);_breakpointSubscription;constructor(){this._breakpointSubscription=S(hE).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return qi.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(e):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return qi.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return qi.BLACK_ON_WHITE}return qi.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(jg,mE,gE),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===qi.BLACK_ON_WHITE?e.add(jg,mE):r===qi.WHITE_ON_BLACK&&e.add(jg,gE)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ug=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=st({type:n});static \u0275inj=ot({})}return n})();var Bg=(()=>{class n{constructor(){S(vE)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(r){return new(r||n)};static \u0275mod=st({type:n});static \u0275inj=ot({imports:[Ug,Ug]})}return n})();var UO=["*"],Hu;function BO(){if(Hu===void 0&&(Hu=null,typeof window<"u")){let n=window;n.trustedTypes!==void 0&&(Hu=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return Hu}function Ra(n){return BO()?.createHTML(n)||n}function yE(n){return Error(`Unable to find icon with the name "${n}"`)}function $O(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function _E(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function bE(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}var Nr=class{url;svgText;options;svgElement;constructor(t,e,r){this.url=t,this.svgText=e,this.options=r}},HO=(()=>{class n{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(e,r,i,o){this._httpClient=e,this._sanitizer=r,this._errorHandler=o,this._document=i}addSvgIcon(e,r,i){return this.addSvgIconInNamespace("",e,r,i)}addSvgIconLiteral(e,r,i){return this.addSvgIconLiteralInNamespace("",e,r,i)}addSvgIconInNamespace(e,r,i,o){return this._addSvgIconConfig(e,r,new Nr(i,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,r,i,o){let s=this._sanitizer.sanitize(wt.HTML,i);if(!s)throw bE(i);let a=Ra(s);return this._addSvgIconConfig(e,r,new Nr("",a,o))}addSvgIconSet(e,r){return this.addSvgIconSetInNamespace("",e,r)}addSvgIconSetLiteral(e,r){return this.addSvgIconSetLiteralInNamespace("",e,r)}addSvgIconSetInNamespace(e,r,i){return this._addSvgIconSetConfig(e,new Nr(r,null,i))}addSvgIconSetLiteralInNamespace(e,r,i){let o=this._sanitizer.sanitize(wt.HTML,r);if(!o)throw bE(r);let s=Ra(o);return this._addSvgIconSetConfig(e,new Nr("",s,i))}registerFontClassAlias(e,r=e){return this._fontCssClassesByAlias.set(e,r),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){let r=this._sanitizer.sanitize(wt.RESOURCE_URL,e);if(!r)throw _E(e);let i=this._cachedIconsByUrl.get(r);return i?W(zu(i)):this._loadSvgIconFromConfig(new Nr(e,null)).pipe(ze(o=>this._cachedIconsByUrl.set(r,o)),K(o=>zu(o)))}getNamedSvgIcon(e,r=""){let i=wE(r,e),o=this._svgIconConfigs.get(i);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(r,e),o)return this._svgIconConfigs.set(i,o),this._getSvgFromConfig(o);let s=this._iconSetConfigs.get(r);return s?this._getSvgFromIconSetConfigs(e,s):jr(yE(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?W(zu(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(K(r=>zu(r)))}_getSvgFromIconSetConfigs(e,r){let i=this._extractIconWithNameFromAnySet(e,r);if(i)return W(i);let o=r.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe($n(a=>{let c=`Loading icon set URL: ${this._sanitizer.sanitize(wt.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),W(null)})));return Ls(o).pipe(K(()=>{let s=this._extractIconWithNameFromAnySet(e,r);if(!s)throw yE(e);return s}))}_extractIconWithNameFromAnySet(e,r){for(let i=r.length-1;i>=0;i--){let o=r[i];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){let s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,e,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(ze(r=>e.svgText=r),K(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?W(null):this._fetchIcon(e).pipe(ze(r=>e.svgText=r))}_extractSvgIconFromSet(e,r,i){let o=e.querySelector(`[id="${r}"]`);if(!o)return null;let s=o.cloneNode(!0);if(s.removeAttribute("id"),s.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(s,i);if(s.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(s),i);let a=this._svgElementFromString(Ra("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,i)}_svgElementFromString(e){let r=this._document.createElement("DIV");r.innerHTML=e;let i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(e){let r=this._svgElementFromString(Ra("<svg></svg>")),i=e.attributes;for(let o=0;o<i.length;o++){let{name:s,value:a}=i[o];s!=="id"&&r.setAttribute(s,a)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&r.appendChild(e.childNodes[o].cloneNode(!0));return r}_setSvgAttributes(e,r){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),r&&r.viewBox&&e.setAttribute("viewBox",r.viewBox),e}_fetchIcon(e){let{url:r,options:i}=e,o=i?.withCredentials??!1;if(!this._httpClient)throw $O();if(r==null)throw Error(`Cannot fetch icon from URL "${r}".`);let s=this._sanitizer.sanitize(wt.RESOURCE_URL,r);if(!s)throw _E(r);let a=this._inProgressUrlFetches.get(s);if(a)return a;let l=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(K(c=>Ra(c)),ur(()=>this._inProgressUrlFetches.delete(s)),tp());return this._inProgressUrlFetches.set(s,l),l}_addSvgIconConfig(e,r,i){return this._svgIconConfigs.set(wE(e,r),i),this}_addSvgIconSetConfig(e,r){let i=this._iconSetConfigs.get(e);return i?i.push(r):this._iconSetConfigs.set(e,[r]),this}_svgElementFromConfig(e){if(!e.svgElement){let r=this._svgElementFromString(e.svgText);this._setSvgAttributes(r,e.options),e.svgElement=r}return e.svgElement}_getIconConfigFromResolvers(e,r){for(let i=0;i<this._resolvers.length;i++){let o=this._resolvers[i](r,e);if(o)return zO(o)?new Nr(o.url,null,o.options):new Nr(o,null)}}static \u0275fac=function(r){return new(r||n)(R(Hm,8),R(va),R(Ve,8),R(Vt))};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function zu(n){return n.cloneNode(!0)}function wE(n,t){return n+":"+t}function zO(n){return!!(n.url&&n.options)}var GO=new V("MAT_ICON_DEFAULT_OPTIONS"),qO=new V("mat-icon-location",{providedIn:"root",factory:WO});function WO(){let n=S(Ve),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}var CE=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],QO=CE.map(n=>`[${n}]`).join(", "),KO=/^url\(['"]?#(.*?)['"]?\)$/,bn=(()=>{class n{_elementRef=S(Xe);_iconRegistry=S(HO);_location=S(qO);_errorHandler=S(Vt);_defaultColor;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(e){let r=this._cleanupFontValue(e);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(e){let r=this._cleanupFontValue(e);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=Re.EMPTY;constructor(){let e=S(new bc("aria-hidden"),{optional:!0}),r=S(GO,{optional:!0});r&&(r.color&&(this.color=this._defaultColor=r.color),r.fontSet&&(this.fontSet=r.fontSet)),e||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];let r=e.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let e=this._elementsWithExternalReferences;if(e&&e.size){let r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();let r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){let e=this._elementRef.nativeElement,r=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){let i=e.childNodes[r];(i.nodeType!==1||i.nodeName.toLowerCase()==="svg")&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let e=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>e.classList.remove(i)),r.forEach(i=>e.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return typeof e=="string"?e.trim().split(" ")[0]:e}_prependPathToReferences(e){let r=this._elementsWithExternalReferences;r&&r.forEach((i,o)=>{i.forEach(s=>{o.setAttribute(s.name,`url('${e}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(e){let r=e.querySelectorAll(QO),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<r.length;o++)CE.forEach(s=>{let a=r[o],l=a.getAttribute(s),c=l?l.match(KO):null;if(c){let p=i.get(a);p||(p=[],i.set(a,p)),p.push({name:s,value:c[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){let[r,i]=this._splitIconName(e);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(qt(1)).subscribe(o=>this._setSvgElement(o),o=>{let s=`Error retrieving icon ${r}:${i}! ${o.message}`;this._errorHandler.handleError(new Error(s))})}}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=F({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(r,i){r&2&&(ei("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),ww(i.color?"mat-"+i.color:""),J("mat-icon-inline",i.inline)("mat-icon-no-color",i.color!=="primary"&&i.color!=="accent"&&i.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",Rn],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[ji],ngContentSelectors:UO,decls:1,vars:0,template:function(r,i){r&1&&(mm(),gm(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return n})(),EE=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=st({type:n});static \u0275inj=ot({imports:[Bg,Bg]})}return n})();var SE=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>import("./chunk-MAQGHWLI.js").then(({default:r})=>r(...e)):t=fetch,(...e)=>t(...e)};var Fa=class extends Error{constructor(t,e="FunctionsError",r){super(t),this.name=e,this.context=r}},Gu=class extends Fa{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},qu=class extends Fa{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},Wu=class extends Fa{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}},$g=function(n){return n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2",n}($g||{});var YO=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(p){try{c(r.next(p))}catch(h){s(h)}}function l(p){try{c(r.throw(p))}catch(h){s(h)}}function c(p){p.done?o(p.value):i(p.value).then(a,l)}c((r=r.apply(n,t||[])).next())})},La=class{constructor(t,{headers:e={},customFetch:r,region:i=$g.Any}={}){this.url=t,this.headers=e,this.region=i,this.fetch=SE(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,e={}){var r;return YO(this,void 0,void 0,function*(){try{let{headers:i,method:o,body:s}=e,a={},{region:l}=e;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=s):typeof s=="string"?(a["Content-Type"]="text/plain",c=s):typeof FormData<"u"&&s instanceof FormData?c=s:(a["Content-Type"]="application/json",c=JSON.stringify(s)));let p=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:c}).catch(b=>{throw new Gu(b)}),h=p.headers.get("x-relay-error");if(h&&h==="true")throw new qu(p);if(!p.ok)throw new Wu(p);let v=((r=p.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return v==="application/json"?g=yield p.json():v==="application/octet-stream"?g=yield p.blob():v==="text/event-stream"?g=p:v==="multipart/form-data"?g=yield p.formData():g=yield p.text(),{data:g,error:null}}catch(i){return{data:null,error:i}}})}};var LE=$D(FE(),1),{PostgrestClient:VE,PostgrestQueryBuilder:nz,PostgrestFilterBuilder:rz,PostgrestTransformBuilder:iz,PostgrestBuilder:oz,PostgrestError:cR}=LE.default;var jE="2.11.2";var UE={"X-Client-Info":`realtime-js/${jE}`},BE="1.0.0",Yu=1e4,$E=1e3,cs=function(n){return n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed",n}(cs||{}),on=function(n){return n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving",n}(on||{}),wn=function(n){return n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token",n}(wn||{}),ev=function(n){return n.websocket="websocket",n}(ev||{}),Wi=function(n){return n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed",n}(Wi||{});var Ju=class{constructor(){this.HEADER_LENGTH=1}decode(t,e){return t.constructor===ArrayBuffer?e(this._binaryDecode(t)):e(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){let e=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,e,r)}_decodeBroadcast(t,e,r){let i=e.getUint8(1),o=e.getUint8(2),s=this.HEADER_LENGTH+2,a=r.decode(t.slice(s,s+i));s=s+i;let l=r.decode(t.slice(s,s+o));s=s+o;let c=JSON.parse(r.decode(t.slice(s,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}};var us=class{constructor(t,e){this.callback=t,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Oe=function(n){return n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange",n}(Oe||{}),nv=(n,t,e={})=>{var r;let i=(r=e.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((o,s)=>(o[s]=uR(s,n,t,i),o),{})},uR=(n,t,e,r)=>{let i=t.find(a=>a.name===n),o=i?.type,s=e[n];return o&&!r.includes(o)?HE(o,s):tv(s)},HE=(n,t)=>{if(n.charAt(0)==="_"){let e=n.slice(1,n.length);return hR(t,e)}switch(n){case Oe.bool:return dR(t);case Oe.float4:case Oe.float8:case Oe.int2:case Oe.int4:case Oe.int8:case Oe.numeric:case Oe.oid:return fR(t);case Oe.json:case Oe.jsonb:return pR(t);case Oe.timestamp:return mR(t);case Oe.abstime:case Oe.date:case Oe.daterange:case Oe.int4range:case Oe.int8range:case Oe.money:case Oe.reltime:case Oe.text:case Oe.time:case Oe.timestamptz:case Oe.timetz:case Oe.tsrange:case Oe.tstzrange:return tv(t);default:return tv(t)}},tv=n=>n,dR=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},fR=n=>{if(typeof n=="string"){let t=parseFloat(n);if(!Number.isNaN(t))return t}return n},pR=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(t){return console.log(`JSON parse error: ${t}`),n}return n},hR=(n,t)=>{if(typeof n!="string")return n;let e=n.length-1,r=n[e];if(n[0]==="{"&&r==="}"){let o,s=n.slice(1,e);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>HE(t,a))}return n},mR=n=>typeof n=="string"?n.replace(" ","T"):n,Xu=n=>{let t=n;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};var ds=class{constructor(t,e,r={},i=Yu){this.channel=t,this.event=e,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,e){var r;return this._hasReceived(t)&&e((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:e}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let t=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:e}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(e))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}};var za=class n{constructor(t,e){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=e?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=n.syncState(this.state,i,o,s),this.pendingDiffs.forEach(l=>{this.state=n.syncDiff(this.state,l,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=n.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,e,r,i){let o=this.cloneDeep(t),s=this.transformState(e),a={},l={};return this.map(o,(c,p)=>{s[c]||(l[c]=p)}),this.map(s,(c,p)=>{let h=o[c];if(h){let v=p.map(T=>T.presence_ref),g=h.map(T=>T.presence_ref),b=p.filter(T=>g.indexOf(T.presence_ref)<0),w=h.filter(T=>v.indexOf(T.presence_ref)<0);b.length>0&&(a[c]=b),w.length>0&&(l[c]=w)}else a[c]=p}),this.syncDiff(o,{joins:a,leaves:l},r,i)}static syncDiff(t,e,r,i){let{joins:o,leaves:s}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,l)=>{var c;let p=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),p.length>0){let h=t[a].map(g=>g.presence_ref),v=p.filter(g=>h.indexOf(g.presence_ref)<0);t[a].unshift(...v)}r(a,p,l)}),this.map(s,(a,l)=>{let c=t[a];if(!c)return;let p=l.map(h=>h.presence_ref);c=c.filter(h=>p.indexOf(h.presence_ref)<0),t[a]=c,i(a,c,l),c.length===0&&delete t[a]}),t}static map(t,e){return Object.getOwnPropertyNames(t).map(r=>e(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((e,r)=>{let i=t[r];return"metas"in i?e[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):e[r]=i,e},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Pr=function(n){return n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR",n}(Pr||{});var Ga=class n{constructor(t,e={config:{}},r){this.topic=t,this.params=e,this.socket=r,this.bindings={},this.state=on.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},e.config),this.timeout=this.socket.timeout,this.joinPush=new ds(this,wn.join,this.params,this.timeout),this.rejoinTimer=new us(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=on.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=on.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=on.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=on.errored,this.rejoinTimer.scheduleTimeout())}),this._on(wn.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new za(this),this.broadcastEndpointURL=Xu(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,e=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:o,presence:s,private:a}}=this.params;this._onError(p=>t?.(Pr.CHANNEL_ERROR,p)),this._onClose(()=>t?.(Pr.CLOSED));let l={},c={broadcast:o,presence:s,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",async({postgres_changes:p})=>{var h;if(this.socket.setAuth(),p===void 0){t?.(Pr.SUBSCRIBED);return}else{let v=this.bindings.postgres_changes,g=(h=v?.length)!==null&&h!==void 0?h:0,b=[];for(let w=0;w<g;w++){let T=v[w],{filter:{event:O,schema:L,table:j,filter:q}}=T,Z=p&&p[w];if(Z&&Z.event===O&&Z.schema===L&&Z.table===j&&Z.filter===q)b.push(Object.assign(Object.assign({},T),{id:Z.id}));else{this.unsubscribe(),t?.(Pr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(Pr.SUBSCRIBED);return}}).receive("error",p=>{t?.(Pr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t?.(Pr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,e={}){return await this.send({type:"presence",event:"track",payload:t},e.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,e,r){return this._on(t,e,r)}async send(t,e={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){let{event:o,payload:s}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:s,private:this.private}]})};try{let c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=e.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var s,a,l;let c=this._push(t.type,t,e.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(s=this.params)===null||s===void 0?void 0:s.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),c.receive("ok",()=>o("ok")),c.receive("error",()=>o("error")),c.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=on.leaving;let e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(wn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{let i=new ds(this,wn.leave,{},t);i.receive("ok",()=>{e(),r("ok")}).receive("timeout",()=>{e(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(t,e,r){let i=new AbortController,o=setTimeout(()=>i.abort(),r),s=await this.socket.fetch(t,Object.assign(Object.assign({},e),{signal:i.signal}));return clearTimeout(o),s}_push(t,e,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new ds(this,t,e,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,e,r){return e}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,e,r){var i,o;let s=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:p}=wn;if(r&&[a,l,c,p].indexOf(s)>=0&&r!==this._joinRef())return;let v=this._onMessage(s,e,r);if(e&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var b,w,T;return((b=g.filter)===null||b===void 0?void 0:b.event)==="*"||((T=(w=g.filter)===null||w===void 0?void 0:w.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===s}).map(g=>g.callback(v,r)):(o=this.bindings[s])===null||o===void 0||o.filter(g=>{var b,w,T,O,L,j;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in g){let q=g.id,Z=(b=g.filter)===null||b===void 0?void 0:b.event;return q&&((w=e.ids)===null||w===void 0?void 0:w.includes(q))&&(Z==="*"||Z?.toLocaleLowerCase()===((T=e.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{let q=(L=(O=g?.filter)===null||O===void 0?void 0:O.event)===null||L===void 0?void 0:L.toLocaleLowerCase();return q==="*"||q===((j=e?.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===s}).map(g=>{if(typeof v=="object"&&"ids"in v){let b=v.data,{schema:w,table:T,commit_timestamp:O,type:L,errors:j}=b;v=Object.assign(Object.assign({},{schema:w,table:T,commit_timestamp:O,eventType:L,new:{},old:{},errors:j}),this._getPayloadRecords(b))}g.callback(v,r)})}_isClosed(){return this.state===on.closed}_isJoined(){return this.state===on.joined}_isJoining(){return this.state===on.joining}_isLeaving(){return this.state===on.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,e,r){let i=t.toLocaleLowerCase(),o={type:i,filter:e,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,e){let r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&n.isEqual(i.filter,e))}),this}static isEqual(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(let r in t)if(t[r]!==e[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(wn.close,{},t)}_onError(t){this._on(wn.error,{},e=>t(e))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=on.joining,this.joinPush.resend(t))}_getPayloadRecords(t){let e={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(e.new=nv(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(e.old=nv(t.columns,t.old_record)),e}};var vR=()=>{},yR=typeof WebSocket<"u",_R=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,qa=class{constructor(t,e){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=UE,this.params={},this.timeout=Yu,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=vR,this.conn=null,this.sendBuffer=[],this.serializer=new Ju,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...a)=>import("./chunk-MAQGHWLI.js").then(({default:l})=>l(...a)):s=fetch,(...a)=>s(...a)},this.endPoint=`${t}/${ev.websocket}`,this.httpEndpoint=Xu(t),e?.transport?this.transport=e.transport:this.transport=null,e?.params&&(this.params=e.params),e?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),e.headers)),e?.timeout&&(this.timeout=e.timeout),e?.logger&&(this.logger=e.logger),e?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=e.heartbeatIntervalMs);let i=(r=e?.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=e?.reconnectAfterMs?e.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=e?.encode?e.encode:(o,s)=>s(JSON.stringify(o)),this.decode=e?.decode?e.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new us(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(e?.fetch),e?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=e?.worker||!1,this.workerUrl=e?.workerUrl}this.accessToken=e?.accessToken||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(yR){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new rv(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),import("./chunk-KYSFV2V4.js").then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:BE}))}disconnect(t,e){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,e??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){let e=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),e}async removeAllChannels(){let t=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.disconnect(),t}log(t,e,r){this.logger(t,e,r)}connectionState(){switch(this.conn&&this.conn.readyState){case cs.connecting:return Wi.Connecting;case cs.open:return Wi.Open;case cs.closing:return Wi.Closing;default:return Wi.Closed}}isConnected(){return this.connectionState()===Wi.Open}channel(t,e={config:{}}){let r=new Ga(`realtime:${t}`,e,this);return this.channels.push(r),r}push(t){let{topic:e,event:r,payload:i,ref:o}=t,s=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${e} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){let e=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(e){let r=null;try{r=JSON.parse(atob(e.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=e,this.channels.forEach(i=>{e&&i.updateJoinPayload({access_token:e}),i.joinedOnce&&i._isJoined()&&i._push(wn.access_token,{access_token:e})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close($E,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let e=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));e&&(this.log("transport",`leaving duplicate topic "${t}"`),e.unsubscribe())}_remove(t){this.channels=this.channels.filter(e=>e._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,e=>{let{topic:r,event:i,payload:o,ref:s}=e;s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${i} ${s&&"("+s+")"||""}`,o),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,o,s)),this.stateChangeCallbacks.message.forEach(a=>a(e))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{e.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(e=>e(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(e=>e(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(wn.error))}_appendParams(t,e){if(Object.keys(e).length===0)return t;let r=t.match(/\?/)?"&":"?",i=new URLSearchParams(e);return`${t}${r}${i}`}_workerObjectUrl(t){let e;if(t)e=t;else{let r=new Blob([_R],{type:"application/javascript"});e=URL.createObjectURL(r)}return e}};var rv=class{constructor(t,e,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=cs.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}};var fs=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function tt(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var ed=class extends fs{constructor(t,e){super(t),this.name="StorageApiError",this.status=e}toJSON(){return{name:this.name,message:this.message,status:this.status}}},Qi=class extends fs{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};var bR=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(p){try{c(r.next(p))}catch(h){s(h)}}function l(p){try{c(r.throw(p))}catch(h){s(h)}}function c(p){p.done?o(p.value):i(p.value).then(a,l)}c((r=r.apply(n,t||[])).next())})},nd=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>import("./chunk-MAQGHWLI.js").then(({default:r})=>r(...e)):t=fetch,(...e)=>t(...e)},zE=()=>bR(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-MAQGHWLI.js")).Response:Response}),td=n=>{if(Array.isArray(n))return n.map(e=>td(e));if(typeof n=="function"||n!==Object(n))return n;let t={};return Object.entries(n).forEach(([e,r])=>{let i=e.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=td(r)}),t};var Ki=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(p){try{c(r.next(p))}catch(h){s(h)}}function l(p){try{c(r.throw(p))}catch(h){s(h)}}function c(p){p.done?o(p.value):i(p.value).then(a,l)}c((r=r.apply(n,t||[])).next())})},iv=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),wR=(n,t,e)=>Ki(void 0,void 0,void 0,function*(){let r=yield zE();n instanceof r&&!e?.noResolveJson?n.json().then(i=>{t(new ed(iv(i),n.status||500))}).catch(i=>{t(new Qi(iv(i),i))}):t(new Qi(iv(n),n))}),CR=(n,t,e,r)=>{let i={method:n,headers:t?.headers||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),e))};function Wa(n,t,e,r,i,o){return Ki(this,void 0,void 0,function*(){return new Promise((s,a)=>{n(e,CR(t,r,i,o)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>wR(l,a,r))})})}function ps(n,t,e,r){return Ki(this,void 0,void 0,function*(){return Wa(n,"GET",t,e,r)})}function Xn(n,t,e,r,i){return Ki(this,void 0,void 0,function*(){return Wa(n,"POST",t,r,i,e)})}function GE(n,t,e,r,i){return Ki(this,void 0,void 0,function*(){return Wa(n,"PUT",t,r,i,e)})}function qE(n,t,e,r){return Ki(this,void 0,void 0,function*(){return Wa(n,"HEAD",t,Object.assign(Object.assign({},e),{noResolveJson:!0}),r)})}function rd(n,t,e,r,i){return Ki(this,void 0,void 0,function*(){return Wa(n,"DELETE",t,r,i,e)})}var $t=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(p){try{c(r.next(p))}catch(h){s(h)}}function l(p){try{c(r.throw(p))}catch(h){s(h)}}function c(p){p.done?o(p.value):i(p.value).then(a,l)}c((r=r.apply(n,t||[])).next())})},ER={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},WE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},id=class{constructor(t,e={},r,i){this.url=t,this.headers=e,this.bucketId=r,this.fetch=nd(i)}uploadOrUpdate(t,e,r,i){return $t(this,void 0,void 0,function*(){try{let o,s=Object.assign(Object.assign({},WE),i),a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)}),l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));let c=this._removeEmptyFolders(e),p=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${p}`,Object.assign({method:t,body:o,headers:a},s?.duplex?{duplex:s.duplex}:{})),v=yield h.json();return h.ok?{data:{path:c,id:v.Id,fullPath:v.Key},error:null}:{data:null,error:v}}catch(o){if(tt(o))return{data:null,error:o};throw o}})}upload(t,e,r){return $t(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,e,r)})}uploadToSignedUrl(t,e,r,i){return $t(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(t),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",e);try{let l,c=Object.assign({upsert:WE.upsert},i),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,p["cache-control"]=`max-age=${c.cacheControl}`,p["content-type"]=c.contentType);let h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:p}),v=yield h.json();return h.ok?{data:{path:o,fullPath:v.Key},error:null}:{data:null,error:v}}catch(l){if(tt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,e){return $t(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),i=Object.assign({},this.headers);e?.upsert&&(i["x-upsert"]="true");let o=yield Xn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new fs("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:a},error:null}}catch(r){if(tt(r))return{data:null,error:r};throw r}})}update(t,e,r){return $t(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,e,r)})}move(t,e,r){return $t(this,void 0,void 0,function*(){try{return{data:yield Xn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(tt(i))return{data:null,error:i};throw i}})}copy(t,e,r){return $t(this,void 0,void 0,function*(){try{return{data:{path:(yield Xn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(tt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,e,r){return $t(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),o=yield Xn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(tt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,e,r){return $t(this,void 0,void 0,function*(){try{let i=yield Xn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:t},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(tt(i))return{data:null,error:i};throw i}})}download(t,e){return $t(this,void 0,void 0,function*(){let i=typeof e?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(e?.transform||{}),s=o?`?${o}`:"";try{let a=this._getFinalPath(t);return{data:yield(yield ps(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(tt(a))return{data:null,error:a};throw a}})}info(t){return $t(this,void 0,void 0,function*(){let e=this._getFinalPath(t);try{let r=yield ps(this.fetch,`${this.url}/object/info/${e}`,{headers:this.headers});return{data:td(r),error:null}}catch(r){if(tt(r))return{data:null,error:r};throw r}})}exists(t){return $t(this,void 0,void 0,function*(){let e=this._getFinalPath(t);try{return yield qE(this.fetch,`${this.url}/object/${e}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(tt(r)&&r instanceof Qi){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,e){let r=this._getFinalPath(t),i=[],o=e?.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&i.push(o);let a=typeof e?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(e?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(t){return $t(this,void 0,void 0,function*(){try{return{data:yield rd(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(e){if(tt(e))return{data:null,error:e};throw e}})}list(t,e,r){return $t(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},ER),e),{prefix:t||""});return{data:yield Xn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(tt(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){let e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};var QE="2.7.1";var KE={"X-Client-Info":`storage-js/${QE}`};var hs=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(p){try{c(r.next(p))}catch(h){s(h)}}function l(p){try{c(r.throw(p))}catch(h){s(h)}}function c(p){p.done?o(p.value):i(p.value).then(a,l)}c((r=r.apply(n,t||[])).next())})},od=class{constructor(t,e={},r){this.url=t,this.headers=Object.assign(Object.assign({},KE),e),this.fetch=nd(r)}listBuckets(){return hs(this,void 0,void 0,function*(){try{return{data:yield ps(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(tt(t))return{data:null,error:t};throw t}})}getBucket(t){return hs(this,void 0,void 0,function*(){try{return{data:yield ps(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(e){if(tt(e))return{data:null,error:e};throw e}})}createBucket(t,e={public:!1}){return hs(this,void 0,void 0,function*(){try{return{data:yield Xn(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(tt(r))return{data:null,error:r};throw r}})}updateBucket(t,e){return hs(this,void 0,void 0,function*(){try{return{data:yield GE(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(tt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return hs(this,void 0,void 0,function*(){try{return{data:yield Xn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(tt(e))return{data:null,error:e};throw e}})}deleteBucket(t){return hs(this,void 0,void 0,function*(){try{return{data:yield rd(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(e){if(tt(e))return{data:null,error:e};throw e}})}};var Qa=class extends od{constructor(t,e={},r){super(t,e,r)}from(t){return new id(this.url,this.headers,t,this.fetch)}};var ZE="2.48.1";var Ka="";typeof Deno<"u"?Ka="deno":typeof document<"u"?Ka="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ka="react-native":Ka="node";var SR={"X-Client-Info":`supabase-js-${Ka}/${ZE}`},YE={headers:SR},JE={schema:"public"},XE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},eS={};my();var DR=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(p){try{c(r.next(p))}catch(h){s(h)}}function l(p){try{c(r.throw(p))}catch(h){s(h)}}function c(p){p.done?o(p.value):i(p.value).then(a,l)}c((r=r.apply(n,t||[])).next())})},IR=n=>{let t;return n?t=n:typeof fetch>"u"?t=py:t=fetch,(...e)=>t(...e)},xR=()=>typeof Headers>"u"?hy:Headers,tS=(n,t,e)=>{let r=IR(e),i=xR();return(o,s)=>DR(void 0,void 0,void 0,function*(){var a;let l=(a=yield t())!==null&&a!==void 0?a:n,c=new i(s?.headers);return c.has("apikey")||c.set("apikey",n),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},s),{headers:c}))})};var TR=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(p){try{c(r.next(p))}catch(h){s(h)}}function l(p){try{c(r.throw(p))}catch(h){s(h)}}function c(p){p.done?o(p.value):i(p.value).then(a,l)}c((r=r.apply(n,t||[])).next())})};function nS(n){return n.replace(/\/$/,"")}function rS(n,t){let{db:e,auth:r,realtime:i,global:o}=n,{db:s,auth:a,realtime:l,global:c}=t,p={db:Object.assign(Object.assign({},s),e),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},c),o),accessToken:()=>TR(this,void 0,void 0,function*(){return""})};return n.accessToken?p.accessToken=n.accessToken:delete p.accessToken,p}function iS(n){return Math.round(Date.now()/1e3)+n}function oS(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){let t=Math.random()*16|0;return(n=="x"?t:t&3|8).toString(16)})}var Vn=()=>typeof document<"u",Zi={tested:!1,writable:!1},ai=()=>{if(!Vn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Zi.tested)return Zi.writable;let n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Zi.tested=!0,Zi.writable=!0}catch{Zi.tested=!0,Zi.writable=!1}return Zi.writable};function sd(n){let t={},e=new URL(n);if(e.hash&&e.hash[0]==="#")try{new URLSearchParams(e.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return e.searchParams.forEach((r,i)=>{t[i]=r}),t}var ad=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>import("./chunk-MAQGHWLI.js").then(({default:r})=>r(...e)):t=fetch,(...e)=>t(...e)},sS=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",li=async(n,t,e)=>{await n.setItem(t,JSON.stringify(e))},Ya=async(n,t)=>{let e=await n.getItem(t);if(!e)return null;try{return JSON.parse(e)}catch{return e}},ld=async(n,t)=>{await n.removeItem(t)};function MR(n){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e="",r,i,o,s,a,l,c,p=0;for(n=n.replace("-","+").replace("_","/");p<n.length;)s=t.indexOf(n.charAt(p++)),a=t.indexOf(n.charAt(p++)),l=t.indexOf(n.charAt(p++)),c=t.indexOf(n.charAt(p++)),r=s<<2|a>>4,i=(a&15)<<4|l>>2,o=(l&3)<<6|c,e=e+String.fromCharCode(r),l!=64&&i!=0&&(e=e+String.fromCharCode(i)),c!=64&&o!=0&&(e=e+String.fromCharCode(o));return e}var Za=class n{constructor(){this.promise=new n.promiseConstructor((t,e)=>{this.resolve=t,this.reject=e})}};Za.promiseConstructor=Promise;function ov(n){let t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,e=n.split(".");if(e.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(e[1]))throw new Error("JWT is not valid: payload is not in base64url format");let r=e[1];return JSON.parse(MR(r))}async function aS(n){return await new Promise(t=>{setTimeout(()=>t(null),n)})}function lS(n,t){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{let s=await n(o);if(!t(o,null,s)){r(s);return}}catch(s){if(!t(o,s)){i(s);return}}})()})}function AR(n){return("0"+n.toString(16)).substr(-2)}function Yi(){let t=new Uint32Array(56);if(typeof crypto>"u"){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=e.length,i="";for(let o=0;o<56;o++)i+=e.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,AR).join("")}async function kR(n){let e=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",e),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}function NR(n){return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ji(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;let e=await kR(n);return NR(e)}var Ja=class extends Error{constructor(t,e){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=e}};function pe(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}var cd=class extends Ja{constructor(t,e){super(t,e),this.name="AuthApiError",this.status=e}toJSON(){return{name:this.name,message:this.message,status:this.status}}};function cS(n){return pe(n)&&n.name==="AuthApiError"}var ms=class extends Ja{constructor(t,e){super(t),this.name="AuthUnknownError",this.originalError=e}},Or=class extends Ja{constructor(t,e,r){super(t),this.name=e,this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}},Rr=class extends Or{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}},gs=class extends Or{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}},Xi=class extends Or{constructor(t){super(t,"AuthInvalidCredentialsError",400)}},eo=class extends Or{constructor(t,e=null){super(t,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Xa=class extends Or{constructor(t,e=null){super(t,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},vs=class extends Or{constructor(t,e){super(t,"AuthRetryableFetchError",e)}};function dd(n){return pe(n)&&n.name==="AuthRetryableFetchError"}var ud=class extends Or{constructor(t,e,r){super(t,"AuthWeakPasswordError",e),this.reasons=r}};var PR=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},ys=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),OR=[502,503,504];async function uS(n){if(!sS(n))throw new vs(ys(n),0);if(OR.includes(n.status))throw new vs(ys(n),n.status);let t;try{t=await n.json()}catch(e){throw new ms(ys(e),e)}throw typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((e,r)=>e&&typeof r=="string",!0)?new ud(ys(t),n.status,t.weak_password.reasons):new cd(ys(t),n.status||500)}var RR=(n,t,e,r)=>{let i={method:n,headers:t?.headers||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),e))};async function be(n,t,e,r){var i;let o=Object.assign({},r?.headers);r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await FR(n,t,e+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}}async function FR(n,t,e,r,i,o){let s=RR(t,r,i,o),a;try{a=await n(e,s)}catch(l){throw console.error(l),new vs(ys(l),0)}if(a.ok||await uS(a),r?.noResolveJson)return a;try{return await a.json()}catch(l){await uS(l)}}function ci(n){var t;let e=null;LR(n)&&(e=Object.assign({},n),n.expires_at||(e.expires_at=iS(n.expires_in)));let r=(t=n.user)!==null&&t!==void 0?t:n;return{data:{session:e,user:r},error:null}}function sv(n){let t=ci(n);return!t.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((e,r)=>e&&typeof r=="string",!0)&&(t.data.weak_password=n.weak_password),t}function er(n){var t;return{data:{user:(t=n.user)!==null&&t!==void 0?t:n},error:null}}function dS(n){return{data:n,error:null}}function fS(n){let{action_link:t,email_otp:e,hashed_token:r,redirect_to:i,verification_type:o}=n,s=PR(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:e,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function pS(n){return n}function LR(n){return n.access_token&&n.refresh_token&&n.expires_in}var VR=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},_s=class{constructor({url:t="",headers:e={},fetch:r}){this.url=t,this.headers=e,this.fetch=ad(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,e="global"){try{return await be(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,e={}){try{return await be(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:er})}catch(r){if(pe(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{let{options:e}=t,r=VR(t,["options"]),i=Object.assign(Object.assign({},r),e);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await be(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:fS,redirectTo:e?.redirectTo})}catch(e){if(pe(e))return{data:{properties:null,user:null},error:e};throw e}}async createUser(t){try{return await be(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:er})}catch(e){if(pe(e))return{data:{user:null},error:e};throw e}}async listUsers(t){var e,r,i,o,s,a,l;try{let c={nextPage:null,lastPage:0,total:0},p=await be(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(e=t?.page)===null||e===void 0?void 0:e.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:pS});if(p.error)throw p.error;let h=await p.json(),v=(s=p.headers.get("x-total-count"))!==null&&s!==void 0?s:0,g=(l=(a=p.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(b=>{let w=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(b.split(";")[1].split("=")[1]);c[`${T}Page`]=w}),c.total=parseInt(v)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(pe(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await be(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:er})}catch(e){if(pe(e))return{data:{user:null},error:e};throw e}}async updateUserById(t,e){try{return await be(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:e,headers:this.headers,xform:er})}catch(r){if(pe(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,e=!1){try{return await be(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:e},xform:er})}catch(r){if(pe(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{let{data:e,error:r}=await be(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:e,error:r}}catch(e){if(pe(e))return{data:null,error:e};throw e}}async _deleteFactor(t){try{return{data:await be(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(e){if(pe(e))return{data:null,error:e};throw e}}};var fd="2.61.0";var hS="http://localhost:9999",mS="supabase.auth.token";var gS={"X-Client-Info":`gotrue-js/${fd}`},av=10;var vS={getItem:n=>ai()?globalThis.localStorage.getItem(n):null,setItem:(n,t)=>{ai()&&globalThis.localStorage.setItem(n,t)},removeItem:n=>{ai()&&globalThis.localStorage.removeItem(n)}};function lv(n={}){return{getItem:t=>n[t]||null,setItem:(t,e)=>{n[t]=e},removeItem:t=>{delete n[t]}}}function yS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var jR={debug:!!(globalThis&&ai()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},pd=class extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}};yS();var UR={url:hS,storageKey:mS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:gS,flowType:"implicit",debug:!1},el=30*1e3,_S=3;async function BR(n,t,e){return await e()}var cv=(()=>{class n{constructor(e){var r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=n.nextInstanceID,n.nextInstanceID+=1,this.instanceID>0&&Vn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let i=Object.assign(Object.assign({},UR),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new _s({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=ad(i.fetch),this.lock=i.lock||BR,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:ai()?this.storage=vS:(this.memoryStorage={},this.storage=lv(this.memoryStorage)):(this.memoryStorage={},this.storage=lv(this.memoryStorage)),Vn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${fd}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{let e=Vn()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){let{data:r,error:i}=await this._getSessionFromURL(e);if(i)return this._debug("#_initialize()","error detecting session from URL",i),i?.message==="Identity is already linked"||i?.message==="Identity is already linked to another user"?{error:i}:(await this._removeSession(),{error:i});let{session:o,redirectType:s}=r;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return pe(e)?{error:e}:{error:new ms("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signUp(e){var r,i,o;try{await this._removeSession();let s;if("email"in e){let{email:h,password:v,options:g}=e,b=null,w=null;if(this.flowType==="pkce"){let T=Yi();await li(this.storage,`${this.storageKey}-code-verifier`,T),b=await Ji(T),w=T===b?"plain":"s256"}s=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g?.emailRedirectTo,body:{email:h,password:v,data:(r=g?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:b,code_challenge_method:w},xform:ci})}else if("phone"in e){let{phone:h,password:v,options:g}=e;s=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:v,data:(i=g?.data)!==null&&i!==void 0?i:{},channel:(o=g?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:ci})}else throw new Xi("You must provide either an email or phone number and a password");let{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};let c=a.session,p=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:p,session:c},error:null}}catch(s){if(pe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{await this._removeSession();let r;if("email"in e){let{email:s,password:a,options:l}=e;r=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:sv})}else if("phone"in e){let{phone:s,password:a,options:l}=e;r=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:sv})}else throw new Xi("You must provide either an email or phone number and a password");let{data:i,error:o}=r;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new gs}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(pe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,i,o,s;return await this._removeSession(),await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){let r=await Ya(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/"),{data:s,error:a}=await be(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:ci});return await ld(this.storage,`${this.storageKey}-code-verifier`),a?{data:{user:null,session:null,redirectType:null},error:a}:!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new gs}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})}async signInWithIdToken(e){await this._removeSession();try{let{options:r,provider:i,token:o,access_token:s,nonce:a}=e,l=await be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:ci}),{data:c,error:p}=l;return p?{data:{user:null,session:null},error:p}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new gs}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:p})}catch(r){if(pe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,i,o,s,a;try{if(await this._removeSession(),"email"in e){let{email:l,options:c}=e,p=null,h=null;if(this.flowType==="pkce"){let g=Yi();await li(this.storage,`${this.storageKey}-code-verifier`,g),p=await Ji(g),h=g===p?"plain":"s256"}let{error:v}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(i=c?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:p,code_challenge_method:h},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in e){let{phone:l,options:c}=e,{data:p,error:h}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(o=c?.data)!==null&&o!==void 0?o:{},create_user:(s=c?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(a=c?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:p?.message_id},error:h}}throw new Xi("You must provide either an email or phone number.")}catch(l){if(pe(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,i;try{e.type!=="email_change"&&e.type!=="phone_change"&&await this._removeSession();let o,s;"options"in e&&(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(i=e.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:l}=await be(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:ci});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");let c=a.session,p=a.user;return c?.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:p,session:c},error:null}}catch(o){if(pe(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var r,i,o;try{await this._removeSession();let s=null,a=null;if(this.flowType==="pkce"){let l=Yi();await li(this.storage,`${this.storageKey}-code-verifier`,l),s=await Ji(l),a=l===s?"plain":"s256"}return await be(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:dS})}catch(s){if(pe(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{let{data:{session:r},error:i}=e;if(i)throw i;if(!r)throw new Rr;let{error:o}=await be(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(pe(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{e.type!="email_change"&&e.type!="phone_change"&&await this._removeSession();let r=`${this.url}/resend`;if("email"in e){let{email:i,type:o,options:s}=e,{error:a}=await be(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){let{phone:i,type:o,options:s}=e,{data:a,error:l}=await be(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:l}}throw new Xi("You must provide either an email or phone number and a type")}catch(r){if(pe(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){let o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{let r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null,r=await Ya(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};let i=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i)return{data:{session:e},error:null};let{session:o,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:er}):await this._useSession(async r=>{var i,o;let{data:s,error:a}=r;if(a)throw a;return await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:er})})}catch(r){if(pe(r))return{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async i=>{let{data:o,error:s}=i;if(s)throw s;if(!o.session)throw new Rr;let a=o.session,l=null,c=null;if(this.flowType==="pkce"&&e.email!=null){let v=Yi();await li(this.storage,`${this.storageKey}-code-verifier`,v),l=await Ji(v),c=v===l?"plain":"s256"}let{data:p,error:h}=await be(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:er});if(h)throw h;return a.user=p.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(i){if(pe(i))return{data:{user:null},error:i};throw i}}_decodeJWT(e){return ov(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Rr;let r=Date.now()/1e3,i=r,o=!0,s=null,a=ov(e.access_token);if(a.exp&&(i=a.exp,o=i<=r),o){let{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{let{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;s={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(pe(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var i;if(!e){let{data:a,error:l}=r;if(l)throw l;e=(i=a.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new Rr;let{session:o,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(pe(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e){try{if(!Vn())throw new eo("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new eo("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new Xa("Not a valid PKCE flow url.");let r=sd(window.location.href);if(e){if(!r.code)throw new Xa("No code detected.");let{data:j,error:q}=await this._exchangeCodeForSession(r.code);if(q)throw q;let Z=new URL(window.location.href);return Z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Z.toString()),{data:{session:j.session,redirectType:null},error:null}}if(r.error||r.error_description||r.error_code)throw new eo(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});let{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:l,expires_at:c,token_type:p}=r;if(!s||!l||!a||!p)throw new eo("No session defined in URL");let h=Math.round(Date.now()/1e3),v=parseInt(l),g=h+v;c&&(g=parseInt(c));let b=g-h;b*1e3<=el&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${v}s`);let w=g-v;h-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,g,h):h-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",w,g,h);let{data:T,error:O}=await this._getUser(s);if(O)throw O;let L={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:v,expires_at:g,refresh_token:a,token_type:p,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:L,redirectType:r.type},error:null}}catch(r){if(pe(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantFlow(){let e=sd(window.location.href);return!!(Vn()&&(e.access_token||e.error_description))}async _isPKCEFlow(){let e=sd(window.location.href),r=await Ya(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var i;let{data:o,error:s}=r;if(s)return{error:s};let a=(i=o.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:l}=await this.admin.signOut(a,e);if(l&&!(cS(l)&&(l.status===404||l.status===401)))return{error:l}}return e!=="others"&&(await this._removeSession(),await ld(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(e){let r=oS(),i={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async r=>{var i,o;try{let{data:{session:s},error:a}=r;if(a)throw a;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let i=null,o=null;if(this.flowType==="pkce"){let s=Yi();await li(this.storage,`${this.storageKey}-code-verifier`,`${s}/PASSWORD_RECOVERY`),i=await Ji(s),o=s===i?"plain":"s256"}try{return await be(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(pe(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{let{data:r,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{let{data:i,error:o}=await this._useSession(async s=>{var a,l,c,p,h;let{data:v,error:g}=s;if(g)throw g;let b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await be(this.fetch,"GET",b,{headers:this.headers,jwt:(h=(p=v.session)===null||p===void 0?void 0:p.access_token)!==null&&h!==void 0?h:void 0})});if(o)throw o;return Vn()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:e.provider,url:i?.url},error:null}}catch(i){if(pe(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var i,o;let{data:s,error:a}=r;if(a)throw a;return await be(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(pe(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){let r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return await lS(async o=>(await aS(o*200),this._debug(r,"refreshing attempt",o),await be(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ci})),(o,s,a)=>a&&a.error&&dd(a.error)&&Date.now()+(o+1)*200-i<el)}catch(i){if(this._debug(r,"error",i),pe(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){let i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",i),Vn()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e;let r="#_recoverAndRefresh()";this._debug(r,"begin");try{let i=await Ya(this.storage,this.storageKey);if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}let o=Math.round(Date.now()/1e3),s=((e=i.expires_at)!==null&&e!==void 0?e:1/0)<o+av;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${av}s`),s){if(this.autoRefreshToken&&i.refresh_token){let{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),dd(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,i;if(!e)throw new Rr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Za;let{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new Rr;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(o,"error",s),pe(s)){let a={session:null,error:s};return dd(s)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,r,i=!0){let o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){s.push(c)}});if(await Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),await li(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await ld(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Vn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let e=setInterval(()=>this._autoRefreshTokenTick(),el);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let e=Date.now();try{return await this._useSession(async r=>{let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-e)/el);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${el}ms, refresh threshold is ${_S} ticks`),o<=_S&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof pd)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Vn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){let r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,i){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let s=Yi();await li(this.storage,`${this.storageKey}-code-verifier`,s);let a=await Ji(s),l=s===a?"plain":"s256";this._debug("PKCE","code verifier",`${s.substring(0,5)}...`,"code challenge",a,"method",l);let c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});o.push(c.toString())}if(i?.queryParams){let s=new URLSearchParams(i.queryParams);o.push(s.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var i;let{data:o,error:s}=r;return s?{data:null,error:s}:await be(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(pe(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var i,o;let{data:s,error:a}=r;if(a)return{data:null,error:a};let{data:l,error:c}=await be(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:e.friendlyName,factor_type:e.factorType,issuer:e.issuer},headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return c?{data:null,error:c}:(!((o=l?.totp)===null||o===void 0)&&o.qr_code&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(pe(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;let{data:o,error:s}=r;if(s)return{data:null,error:s};let{data:a,error:l}=await be(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(r){if(pe(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;let{data:o,error:s}=r;return s?{data:null,error:s}:await be(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(pe(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){let{data:r,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){let{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};let i=e?.factors||[],o=i.filter(s=>s.factor_type==="totp"&&s.status==="verified");return{data:{all:i,totp:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,i;let{data:{session:o},error:s}=e;if(s)return{data:null,error:s};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let a=this._decodeJWT(o.access_token),l=null;a.aal&&(l=a.aal);let c=l;((i=(r=o.user.factors)===null||r===void 0?void 0:r.filter(v=>v.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(c="aal2");let h=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:h},error:null}}))}}return n.nextInstanceID=0,n})();var $R=cv,uv=$R;var hd=class extends uv{constructor(t){super(t)}};var HR=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(p){try{c(r.next(p))}catch(h){s(h)}}function l(p){try{c(r.throw(p))}catch(h){s(h)}}function c(p){p.done?o(p.value):i(p.value).then(a,l)}c((r=r.apply(n,t||[])).next())})},to=class{constructor(t,e,r){var i,o,s;if(this.supabaseUrl=t,this.supabaseKey=e,!t)throw new Error("supabaseUrl is required.");if(!e)throw new Error("supabaseKey is required.");let a=nS(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;let l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:JE,realtime:eS,auth:Object.assign(Object.assign({},XE),{storageKey:l}),global:YE},p=rS(r??{},c);this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=p.global.headers)!==null&&o!==void 0?o:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(h,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=p.auth)!==null&&s!==void 0?s:{},this.headers,p.global.fetch),this.fetch=tS(e,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new VE(`${a}/rest/v1`,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),p.accessToken||this._listenForAuthEvents()}get functions(){return new La(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Qa(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,e;return HR(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(e=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:i,storageKey:o,flowType:s,lock:a,debug:l},c,p){let h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new hd({url:this.authUrl,headers:Object.assign(Object.assign({},h),c),storageKey:o,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:i,flowType:s,lock:a,debug:l,fetch:p,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new qa(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,r)=>{this._handleTokenChanged(e,"CLIENT",r?.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var bS=(n,t,e)=>new to(n,t,e);var bs={API_URL:"https://jsgltiaidlacvchyjjha.supabase.co",FUNC_URL:"https://jsgltiaidlacvchyjjha.supabase.co",anon_key:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpzZ2x0aWFpZGxhY3ZjaHlqamhhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzk2NjIzNDIsImV4cCI6MjA1NTIzODM0Mn0.bPtRMhXapLzUgPEIf6GoW9r52umh0F1YZhG1bfLyb0s",supabase_LocalStorage_key:"sb-jsgltiaidlacvchyjjha-auth-token"};var Se=class n{constructor(t){this.platformId=t;this.supabase=bS(bs.API_URL,bs.anon_key,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),this.setupAuthStateSignalSync()}supabase;USER_PROFILE_KEY="userProfile";user=Q(null);currentUsername=Q(null);loginStatus=Q(null);GetClient(){return this.supabase}setupAuthStateSignalSync(){yn(this.platformId)&&(this.supabase.auth.getSession().then(({data:t})=>{this.updateSignalsFromSession(t.session)}),this.supabase.auth.onAuthStateChange((t,e)=>{this.updateSignalsFromSession(e)}))}updateSignalsFromSession(t){if(t&&t.user){this.user.set(t.user);let e=t.user?.identities?.[0]?.identity_data?.firstname||null;this.currentUsername.set(e),this.loginStatus.set(!0)}else this.user.set(null),this.currentUsername.set(null),this.loginStatus.set(!1)}supaScream(){return"SupaScream"}static \u0275fac=function(e){return new(e||n)(R(bt))};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})};var md=class n{constructor(t){this.supabaseService=t;this.userFirstName=this.supabaseService.currentUsername()}userFirstName;static \u0275fac=function(e){return new(e||n)(E(Se))};static \u0275cmp=F({type:n,selectors:[["app-landing-page"]],decls:66,vars:4,consts:[[1,"container","mt-4"],[1,"mb-4","text-center"],[1,"row","g-4","mb-5"],[1,"col-md-6"],[1,"card","h-100","shadow-sm"],[1,"card-body","d-flex","align-items-center"],[1,"ms-4","me-4","step-icon",2,"--step-color","#2563eb"],[1,"flex-grow-1"],[1,"text-uppercase","fw-bold","text-secondary",2,"letter-spacing","2px"],[1,"fw-semibold","mb-1"],[1,"mb-3","text-secondary"],[1,"btn","btn-lg","fw-bold","w-100",2,"background","#2563eb","color","#fff",3,"routerLink"],[1,"ms-4","me-4","step-icon",2,"--step-color","#15803d"],[1,"btn","btn-lg","fw-bold","w-100",2,"background","#15803d","color","#fff",3,"routerLink"],[1,"ms-4","me-4","step-icon",2,"--step-color","#b45309"],[1,"btn","btn-lg","fw-bold","w-100",2,"background","#b45309","color","#fff",3,"routerLink"],[1,"ms-4","me-4","step-icon",2,"--step-color","#6d28d9"],[1,"btn","btn-lg","fw-bold","w-100",2,"background","#6d28d9","color","#fff",3,"routerLink"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"h2",1),f(2,"Begin Your Trading Transformation"),u(),d(3,"h2",1),f(4,"Your Professional Workflow"),u(),d(5,"div",2)(6,"div",3)(7,"div",4)(8,"div",5)(9,"div",6)(10,"mat-icon"),f(11,"check_circle"),u()(),d(12,"div",7)(13,"div",8),f(14,"Step 1 "),u(),d(15,"h4",9),f(16,"Daily Emotional Check-in"),u(),d(17,"p",10),f(18,"Understand your emotional state before making trading decisions."),u(),d(19,"a",11),f(20,"Begin Assessment"),u()()()()(),d(21,"div",3)(22,"div",4)(23,"div",5)(24,"div",12)(25,"mat-icon"),f(26,"trending_up"),u()(),d(27,"div",7)(28,"div",8),f(29,"Step 2 "),u(),d(30,"h4",9),f(31,"Plan Your Trades"),u(),d(32,"p",10),f(33,"Document your trading plan before executing any trades."),u(),d(34,"a",13),f(35,"Create Trading Plan"),u()()()()(),d(36,"div",3)(37,"div",4)(38,"div",5)(39,"div",14)(40,"mat-icon"),f(41,"candlestick_chart"),u()(),d(42,"div",7)(43,"div",8),f(44,"Step 3 "),u(),d(45,"h4",9),f(46,"Update your Trades"),u(),d(47,"p",10),f(48,"Record results and analyze your trading performance."),u(),d(49,"a",15),f(50,"Manage Positions"),u()()()()(),d(51,"div",3)(52,"div",4)(53,"div",5)(54,"div",16)(55,"mat-icon"),f(56,"psychology"),u()(),d(57,"div",7)(58,"div",8),f(59,"Step 4 "),u(),d(60,"h4",9),f(61,"Reflection & Meditation"),u(),d(62,"p",10),f(63,"Clear your mind with mindfulness practices."),u(),d(64,"a",17),f(65,"Begin Session"),u()()()()()()()),e&2&&(m(19),y("routerLink","/emotions"),m(15),y("routerLink","/tradejournal"),m(15),y("routerLink","/tradejournal"),m(15),y("routerLink","/meditationhub"))},dependencies:[Et,B,EE,bn],styles:[".card[_ngcontent-%COMP%]{border:none;border-radius:8px}.card-body[_ngcontent-%COMP%]{padding-left:0}.card-body[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:600;margin-bottom:.75rem}.card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1rem}.btn-custom[_ngcontent-%COMP%]{border-radius:20px;font-weight:600}.step-icon[_ngcontent-%COMP%]{width:64px;height:64px;background:var(--step-color, --primary-btn-color);border-radius:16px;display:flex;align-items:center;justify-content:center;flex-shrink:0;box-shadow:0 2px 8px #0000000a}.step-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff;font-size:36px;width:36px;height:36px;line-height:36px;display:flex;align-items:center;justify-content:center}.card-body.d-flex.align-items-center[_ngcontent-%COMP%]{gap:1.5rem}@media (max-width: 576px){.card-body[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.1rem}.card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.btn-custom[_ngcontent-%COMP%]{padding:.5rem 1rem}}"]})};var kt=class n{constructor(t,e){this.supabaseService=t;this.router=e}canActivate(t,e){return this.supabaseService.loginStatus()?!0:this.router.createUrlTree([""],{queryParams:{returnUrl:e.url}})}static \u0275fac=function(e){return new(e||n)(R(Se),R(Ke))};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})};var tl=class n{constructor(t,e){this.supabaseService=t;this.router=e}canActivate(t,e){return this.supabaseService.loginStatus()?this.router.createUrlTree(["/home"]):!0}static \u0275fac=function(e){return new(e||n)(R(Se),R(Ke))};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})};var MS=(()=>{class n{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,r){this._renderer=e,this._elementRef=r}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(r){return new(r||n)(E(mn),E(Xe))};static \u0275dir=Ee({type:n})}return n})(),ro=(()=>{class n extends MS{static \u0275fac=(()=>{let e;return function(i){return(e||(e=Kn(n)))(i||n)}})();static \u0275dir=Ee({type:n,features:[Ct]})}return n})(),nr=new V(""),zR={provide:nr,useExisting:jt(()=>io),multi:!0},io=(()=>{class n extends ro{writeValue(e){this.setProperty("checked",e)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Kn(n)))(i||n)}})();static \u0275dir=Ee({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&C("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Bt([zR]),Ct]})}return n})(),GR={provide:nr,useExisting:jt(()=>le),multi:!0};function qR(){let n=xr()?xr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var WR=new V(""),le=(()=>{class n extends MS{_compositionMode;_composing=!1;constructor(e,r,i){super(e,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!qR())}writeValue(e){let r=e??"";this.setProperty("value",r)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(r){return new(r||n)(E(mn),E(Xe),E(WR,8))};static \u0275dir=Ee({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&C("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Bt([GR]),Ct]})}return n})();function ui(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function AS(n){return n!=null&&typeof n.length=="number"}var Dd=new V(""),Id=new V(""),QR=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,he=class{static min(t){return KR(t)}static max(t){return ZR(t)}static required(t){return YR(t)}static requiredTrue(t){return JR(t)}static email(t){return XR(t)}static minLength(t){return eF(t)}static maxLength(t){return tF(t)}static pattern(t){return nF(t)}static nullValidator(t){return kS(t)}static compose(t){return LS(t)}static composeAsync(t){return jS(t)}};function KR(n){return t=>{if(ui(t.value)||ui(n))return null;let e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function ZR(n){return t=>{if(ui(t.value)||ui(n))return null;let e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function YR(n){return ui(n.value)?{required:!0}:null}function JR(n){return n.value===!0?null:{required:!0}}function XR(n){return ui(n.value)||QR.test(n.value)?null:{email:!0}}function eF(n){return t=>ui(t.value)||!AS(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}function tF(n){return t=>AS(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}function nF(n){if(!n)return kS;let t,e;return typeof n=="string"?(e="",n.charAt(0)!=="^"&&(e+="^"),e+=n,n.charAt(n.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),r=>{if(ui(r.value))return null;let i=r.value;return t.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}function kS(n){return null}function NS(n){return n!=null}function PS(n){return Ui(n)?Be(n):n}function OS(n){let t={};return n.forEach(e=>{t=e!=null?N(N({},t),e):t}),Object.keys(t).length===0?null:t}function RS(n,t){return t.map(e=>e(n))}function rF(n){return!n.validate}function FS(n){return n.map(t=>rF(t)?t:e=>t.validate(e))}function LS(n){if(!n)return null;let t=n.filter(NS);return t.length==0?null:function(e){return OS(RS(e,t))}}function VS(n){return n!=null?LS(FS(n)):null}function jS(n){if(!n)return null;let t=n.filter(NS);return t.length==0?null:function(e){let r=RS(e,t).map(PS);return Ls(r).pipe(K(OS))}}function US(n){return n!=null?jS(FS(n)):null}function wS(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function BS(n){return n._rawValidators}function $S(n){return n._rawAsyncValidators}function dv(n){return n?Array.isArray(n)?n:[n]:[]}function vd(n,t){return Array.isArray(n)?n.includes(t):n===t}function CS(n,t){let e=dv(t);return dv(n).forEach(i=>{vd(e,i)||e.push(i)}),e}function ES(n,t){return dv(t).filter(e=>!vd(n,e))}var yd=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=VS(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=US(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},no=class extends yd{name;get formDirective(){return null}get path(){return null}},tr=class extends yd{_parent=null;name=null;valueAccessor=null},_d=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},iF={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Yq=z(N({},iF),{"[class.ng-submitted]":"isSubmitted"}),me=(()=>{class n extends _d{constructor(e){super(e)}static \u0275fac=function(r){return new(r||n)(E(tr,2))};static \u0275dir=Ee({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&J("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Ct]})}return n})(),Qe=(()=>{class n extends _d{constructor(e){super(e)}static \u0275fac=function(r){return new(r||n)(E(no,10))};static \u0275dir=Ee({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&J("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Ct]})}return n})();var nl="VALID",gd="INVALID",ws="PENDING",rl="DISABLED",di=class{},bd=class extends di{value;source;constructor(t,e){super(),this.value=t,this.source=e}},il=class extends di{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},ol=class extends di{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},Cs=class extends di{status;source;constructor(t,e){super(),this.status=t,this.source=e}},fv=class extends di{source;constructor(t){super(),this.source=t}},pv=class extends di{source;constructor(t){super(),this.source=t}};function gv(n){return(xd(n)?n.validators:n)||null}function oF(n){return Array.isArray(n)?VS(n):n||null}function vv(n,t){return(xd(t)?t.asyncValidators:n)||null}function sF(n){return Array.isArray(n)?US(n):n||null}function xd(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function HS(n,t,e){let r=n.controls;if(!(t?Object.keys(r):r).length)throw new k(1e3,"");if(!r[e])throw new k(1001,"")}function zS(n,t,e){n._forEachChild((r,i)=>{if(e[i]===void 0)throw new k(1002,"")})}var Es=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Er(this.statusReactive)}set status(t){Er(()=>this.statusReactive.set(t))}_status=Le(()=>this.statusReactive());statusReactive=Q(void 0);get valid(){return this.status===nl}get invalid(){return this.status===gd}get pending(){return this.status==ws}get disabled(){return this.status===rl}get enabled(){return this.status!==rl}errors;get pristine(){return Er(this.pristineReactive)}set pristine(t){Er(()=>this.pristineReactive.set(t))}_pristine=Le(()=>this.pristineReactive());pristineReactive=Q(!0);get dirty(){return!this.pristine}get touched(){return Er(this.touchedReactive)}set touched(t){Er(()=>this.touchedReactive.set(t))}_touched=Le(()=>this.touchedReactive());touchedReactive=Q(!1);get untouched(){return!this.touched}_events=new Fe;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(CS(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(CS(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(ES(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(ES(t,this._rawAsyncValidators))}hasValidator(t){return vd(this._rawValidators,t)}hasAsyncValidator(t){return vd(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(z(N({},t),{sourceControl:r})),e&&t.emitEvent!==!1&&this._events.next(new ol(!0,r))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),e&&t.emitEvent!==!1&&this._events.next(new ol(!1,r))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(z(N({},t),{sourceControl:r})),e&&t.emitEvent!==!1&&this._events.next(new il(!1,r))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),e&&t.emitEvent!==!1&&this._events.next(new il(!0,r))}markAsPending(t={}){this.status=ws;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Cs(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(z(N({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=rl,this.errors=null,this._forEachChild(i=>{i.disable(z(N({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new bd(this.value,r)),this._events.next(new Cs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(z(N({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=nl,this._forEachChild(r=>{r.enable(z(N({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(z(N({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===nl||this.status===ws)&&this._runAsyncValidator(r,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new bd(this.value,e)),this._events.next(new Cs(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(z(N({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?rl:nl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=ws,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let r=PS(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(t,e){let r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new Cs(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,r)}_initObservables(){this.valueChanges=new ve,this.statusChanges=new ve}_calculateStatus(){return this._allControlsDisabled()?rl:this.errors?gd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ws)?ws:this._anyControlsHaveStatus(gd)?gd:nl}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),i&&this._events.next(new il(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new ol(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){xd(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=oF(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=sF(this._rawAsyncValidators)}},Ss=class extends Es{constructor(t,e,r){super(gv(e),vv(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){zS(this,!0,t),Object.keys(t).forEach(r=>{HS(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(r=>{let i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>r._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,r]of Object.entries(this.controls))if(this.contains(e)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(t,e){let r=t;return this._forEachChild((i,o)=>{r=e(r,i,o)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var hv=class extends Ss{};var Ds=new V("",{providedIn:"root",factory:()=>al}),al="always";function GS(n,t){return[...t.path,n]}function wd(n,t,e=al){yv(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),lF(n,t),uF(n,t),cF(n,t),aF(n,t)}function Cd(n,t,e=!0){let r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),Sd(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Ed(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function aF(n,t){if(t.valueAccessor.setDisabledState){let e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function yv(n,t){let e=BS(n);t.validator!==null?n.setValidators(wS(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let r=$S(n);t.asyncValidator!==null?n.setAsyncValidators(wS(r,t.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Ed(t._rawValidators,i),Ed(t._rawAsyncValidators,i)}function Sd(n,t){let e=!1;if(n!==null){if(t.validator!==null){let i=BS(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==t.validator);o.length!==i.length&&(e=!0,n.setValidators(o))}}if(t.asyncValidator!==null){let i=$S(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==t.asyncValidator);o.length!==i.length&&(e=!0,n.setAsyncValidators(o))}}}let r=()=>{};return Ed(t._rawValidators,r),Ed(t._rawAsyncValidators,r),e}function lF(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&qS(n,t)})}function cF(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&qS(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function qS(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function uF(n,t){let e=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function dF(n,t){n==null,yv(n,t)}function fF(n,t){return Sd(n,t)}function _v(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function pF(n){return Object.getPrototypeOf(n.constructor)===ro}function hF(n,t){n._syncPendingControls(),t.forEach(e=>{let r=e.control;r.updateOn==="submit"&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function bv(n,t){if(!t)return null;Array.isArray(t);let e,r,i;return t.forEach(o=>{o.constructor===le?e=o:pF(o)?r=o:i=o}),i||r||e||null}function mF(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function SS(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function DS(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var sl=class extends Es{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,r){super(gv(e),vv(r,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xd(e)&&(e.nonNullable||e.initialValueIsDefault)&&(DS(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){SS(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){SS(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){DS(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var gF=n=>n instanceof sl;var vF={provide:tr,useExisting:jt(()=>mt)},IS=Promise.resolve(),mt=(()=>{class n extends tr{_changeDetectorRef;callSetDisabledState;control=new sl;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new ve;constructor(e,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=bv(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),_v(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){wd(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){IS.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let r=e.isDisabled.currentValue,i=r!==0&&Rn(r);IS.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?GS(e,this._parent):[e]}static \u0275fac=function(r){return new(r||n)(E(no,9),E(Dd,10),E(Id,10),E(nr,10),E(xe,8),E(Ds,8))};static \u0275dir=Ee({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Bt([vF]),Ct,Qn]})}return n})(),rr=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ee({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),yF={provide:nr,useExisting:jt(()=>jn),multi:!0},jn=(()=>{class n extends ro{writeValue(e){let r=e??"";this.setProperty("value",r)}registerOnChange(e){this.onChange=r=>{e(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Kn(n)))(i||n)}})();static \u0275dir=Ee({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&C("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Bt([yF]),Ct]})}return n})(),_F={provide:nr,useExisting:jt(()=>oo),multi:!0};var bF=(()=>{class n{_accessors=[];add(e,r){this._accessors.push([e,r])}remove(e){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===e){this._accessors.splice(r,1);return}}select(e){this._accessors.forEach(r=>{this._isSameGroup(r,e)&&r[1]!==e&&r[1].fireUncheck(e.value)})}_isSameGroup(e,r){return e[0].control?e[0]._parent===r._control._parent&&e[1].name===r.name:!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),oo=(()=>{class n extends ro{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=S(Ds,{optional:!0})??al;constructor(e,r,i,o){super(e,r),this._registry=i,this._injector=o}ngOnInit(){this._control=this._injector.get(tr),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}setDisabledState(e){(this.setDisabledStateFired||e||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",e),this.setDisabledStateFired=!0}fireUncheck(e){this.writeValue(e)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(r){return new(r||n)(E(mn),E(Xe),E(bF),E(ft))};static \u0275dir=Ee({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,i){r&1&&C("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[Bt([_F]),Ct]})}return n})(),wF={provide:nr,useExisting:jt(()=>so),multi:!0},so=(()=>{class n extends ro{writeValue(e){this.setProperty("value",parseFloat(e))}registerOnChange(e){this.onChange=r=>{e(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Kn(n)))(i||n)}})();static \u0275dir=Ee({type:n,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(r,i){r&1&&C("change",function(s){return i.onChange(s.target.value)})("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Bt([wF]),Ct]})}return n})(),wv=new V(""),CF={provide:tr,useExisting:jt(()=>Cv)},Cv=(()=>{class n extends tr{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(e){}model;update=new ve;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,r,i,o,s){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=s,this._setValidators(e),this._setAsyncValidators(r),this.valueAccessor=bv(this,i)}ngOnChanges(e){if(this._isControlChanged(e)){let r=e.form.previousValue;r&&Cd(r,this,!1),wd(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}_v(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Cd(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}static \u0275fac=function(r){return new(r||n)(E(Dd,10),E(Id,10),E(nr,10),E(wv,8),E(Ds,8))};static \u0275dir=Ee({type:n,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[Bt([CF]),Ct,Qn]})}return n})(),EF={provide:no,useExisting:jt(()=>$e)},$e=(()=>{class n extends no{callSetDisabledState;get submitted(){return Er(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=Le(()=>this._submittedReactive());_submittedReactive=Q(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new ve;constructor(e,r,i){super(),this.callSetDisabledState=i,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Sd(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let r=this.form.get(e.path);return wd(r,e,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){Cd(e.control||null,e,!1),mF(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this._submittedReactive.set(!0),hF(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new fv(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new pv(this.form))}_updateDomValue(){this.directives.forEach(e=>{let r=e.control,i=this.form.get(e.path);r!==i&&(Cd(r||null,e),gF(i)&&(wd(i,e,this.callSetDisabledState),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let r=this.form.get(e.path);dF(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let r=this.form.get(e.path);r&&fF(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){yv(this.form,this),this._oldForm&&Sd(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(r){return new(r||n)(E(Dd,10),E(Id,10),E(Ds,8))};static \u0275dir=Ee({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&C("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Bt([EF]),Ct,Qn]})}return n})();var SF={provide:tr,useExisting:jt(()=>Ze)},Ze=(()=>{class n extends tr{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new ve;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=bv(this,o)}ngOnChanges(e){this._added||this._setUpControl(),_v(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return GS(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(E(no,13),E(Dd,10),E(Id,10),E(nr,10),E(wv,8))};static \u0275dir=Ee({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Bt([SF]),Ct,Qn]})}return n})(),DF={provide:nr,useExisting:jt(()=>Ht),multi:!0};function WS(n,t){return n==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function IF(n){return n.split(":")[0]}var Ht=(()=>{class n extends ro{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let r=this._getOptionId(e),i=WS(r,e);this.setProperty("value",i)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){let r=IF(e);return this._optionMap.has(r)?this._optionMap.get(r):e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Kn(n)))(i||n)}})();static \u0275dir=Ee({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&C("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Bt([DF]),Ct]})}return n})(),Cn=(()=>{class n{_element;_renderer;_select;id;constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(WS(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(E(Xe),E(mn),E(Ht,9))};static \u0275dir=Ee({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),xF={provide:nr,useExisting:jt(()=>QS),multi:!0};function xS(n,t){return n==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function TF(n){return n.split(":")[0]}var QS=(()=>{class n extends ro{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let r;if(Array.isArray(e)){let i=e.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);i.push(c)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,e(i)}}_registerOption(e){let r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){let r=TF(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Kn(n)))(i||n)}})();static \u0275dir=Ee({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&C("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Bt([xF]),Ct]})}return n})(),En=(()=>{class n{_element;_renderer;_select;id;_value;constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(xS(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(xS(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(E(Xe),E(mn),E(QS,9))};static \u0275dir=Ee({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();var KS=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=st({type:n});static \u0275inj=ot({})}return n})(),mv=class extends Es{constructor(t,e,r){super(gv(e),vv(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),e&&(this.controls.splice(i,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){zS(this,!1,t),t.forEach((r,i)=>{HS(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,r)=>r._syncPendingControls()?!0:e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function TS(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var Sn=(()=>{class n{useNonNullable=!1;get nonNullable(){let e=new n;return e.useNonNullable=!0,e}group(e,r=null){let i=this._reduceControls(e),o={};return TS(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Ss(i,o)}record(e,r=null){let i=this._reduceControls(e);return new hv(i,r)}control(e,r,i){let o={};return this.useNonNullable?(TS(r)?o=r:(o.validators=r,o.asyncValidators=i),new sl(e,z(N({},o),{nonNullable:!0}))):new sl(e,r,i)}array(e,r,i){let o=e.map(s=>this._createControl(s));return new mv(o,r,i)}_reduceControls(e){let r={};return Object.keys(e).forEach(i=>{r[i]=this._createControl(e[i])}),r}_createControl(e){if(e instanceof sl)return e;if(e instanceof Es)return e;if(Array.isArray(e)){let r=e[0],i=e.length>1?e[1]:null,o=e.length>2?e[2]:null;return this.control(r,i,o)}else return this.control(e)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ut=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Ds,useValue:e.callSetDisabledState??al}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=st({type:n});static \u0275inj=ot({imports:[KS]})}return n})(),Me=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:wv,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Ds,useValue:e.callSetDisabledState??al}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=st({type:n});static \u0275inj=ot({imports:[KS]})}return n})();var Is=class n{constructor(t){this.supabaseService=t;this.supabase=this.supabaseService.GetClient()}supabase;async loadQuestions(){let{data:t,error:e}=await this.supabase.rpc("get_random_activequestions");if(e)throw console.error("Error loading questions: ",e),e;return t}async canLoadCheckInQuestions(){let t=this.supabaseService.user()?.id;if(!t)return console.error("User not authenticated, cannot check check-in status."),!1;let{data:e,error:r}=await this.supabase.rpc("can_checkin",{user_id:t});return r?(console.error("Error in RPC can_checkin:",r),!1):e===!0}async getEmotionCheckInResultForDate(t){let e=this.supabaseService.user()?.id;if(!e)return console.error("User not authenticated"),null;let r=new Date(t.setHours(0,0,0,0)).toISOString(),i=new Date(t.setHours(23,59,59,999)).toISOString(),{data:o,error:s}=await this.supabase.from("answers").select("analysis").eq("user_id",e).gte("created_at",r).lte("created_at",i).order("created_at",{ascending:!1}).limit(1).single();return s?s.code==="PGRST116"?(console.log(`No check-in found for date: ${t.toDateString()}`),null):(console.error("Error fetching check-in result for date:",s),null):o?o.analysis:null}async submitUserCheckIn(t){let e=this.supabaseService.user()?.id;if(!e)return{error:new Error("User not authenticated")};let{error:r}=await this.supabase.rpc("perform_checkin",{in_user_id:e,in_answers:t.answers,in_analysis:t.analysis});return{error:r}}async adminLoadQuestions(){let{data:t,error:e}=await this.supabase.from("adminquestions").select("*");if(e)throw console.error("Error loading questions: ",e),e;return t}async adminSaveQuestions(t){let e=null;for(let r of t.filter(i=>i.isModified))if(r.question_id){let{data:i,error:o}=await this.supabase.from("adminquestions").update({question_data:r.question_data,active:r.active}).eq("question_id",r.question_id).select().single();if(o){console.error("Error updating question:",o),e=o;break}else r.updated_at=i.updated_at,r.isModified=!1}else{let{data:i,error:o}=await this.supabase.from("adminquestions").insert([{question_data:r.question_data,active:r.active}]).select().single();if(o){console.error("Error inserting question:",o),e=o;break}else r.question_id=i.question_id,r.created_at=i.created_at,r.updated_at=i.updated_at,r.isModified=!1}return{error:e}}async deleteQuestion(t){let{error:e}=await this.supabase.from("adminquestions").delete().eq("question_id",t.question_id);return{error:e}}static \u0275fac=function(e){return new(e||n)(R(Se))};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})};var MF=(n,t)=>({"alert-success":n,"alert-danger":t});function AF(n,t){if(n&1&&(d(0,"div",18),f(1),u()),n&2){let e=_();y("ngClass",On(2,MF,e.messageType==="success",e.messageType==="error")),m(),U(" ",e.message," ")}}function kF(n,t){if(n&1){let e=oe();Yt(0),d(1,"input",27),ee("ngModelChange",function(i){D(e);let o=_().$implicit;return te(o.choicesInput,i)||(o.choicesInput=i),I(i)}),C("change",function(){D(e);let i=_().$implicit,o=_();return I(o.updateChoices(i))}),u(),d(2,"div",28),f(3,'e.g., "Option A, Option B, Option C"'),u(),Jt()}if(n&2){let e=_().$implicit;m(),X("ngModel",e.choicesInput)}}function NF(n,t){if(n&1){let e=oe();d(0,"tr")(1,"td")(2,"select",19),ee("ngModelChange",function(i){let o=D(e).$implicit;return te(o.question_data.question_type,i)||(o.question_data.question_type=i),I(i)}),C("change",function(){let i=D(e).$implicit,o=_();return I(o.onQuestionChange(i))}),d(3,"option",9),f(4,"Fill"),u(),d(5,"option",10),f(6,"Multiple"),u(),d(7,"option",11),f(8,"Select One"),u()()(),d(9,"td")(10,"input",20),ee("ngModelChange",function(i){let o=D(e).$implicit;return te(o.question_data.question_icon,i)||(o.question_data.question_icon=i),I(i)}),C("change",function(){let i=D(e).$implicit,o=_();return I(o.onQuestionChange(i))}),u()(),d(11,"td")(12,"input",21),ee("ngModelChange",function(i){let o=D(e).$implicit;return te(o.question_data.question_title,i)||(o.question_data.question_title=i),I(i)}),C("change",function(){let i=D(e).$implicit,o=_();return I(o.onQuestionChange(i))}),u()(),d(13,"td")(14,"textarea",22),ee("ngModelChange",function(i){let o=D(e).$implicit;return te(o.question_data.question,i)||(o.question_data.question=i),I(i)}),C("change",function(){let i=D(e).$implicit,o=_();return I(o.onQuestionChange(i))}),u()(),d(15,"td"),M(16,kF,4,1,"ng-container",23),u(),d(17,"td")(18,"input",24),ee("ngModelChange",function(i){let o=D(e).$implicit;return te(o.question_data.placeholder,i)||(o.question_data.placeholder=i),I(i)}),C("change",function(){let i=D(e).$implicit,o=_();return I(o.onQuestionChange(i))}),u()(),d(19,"td")(20,"div",25)(21,"input",26),ee("ngModelChange",function(i){let o=D(e).$implicit;return te(o.active,i)||(o.active=i),I(i)}),C("change",function(){let i=D(e).$implicit,o=_();return I(o.onQuestionChange(i))}),u()()(),d(22,"td"),f(23),at(24,"date"),u()()}if(n&2){let e=t.$implicit;m(2),X("ngModel",e.question_data.question_type),m(8),X("ngModel",e.question_data.question_icon),m(2),X("ngModel",e.question_data.question_title),m(2),X("ngModel",e.question_data.question),m(2),y("ngIf",e.question_data.question_type!=="fill"),m(2),X("ngModel",e.question_data.placeholder),m(3),X("ngModel",e.active),m(2),P(lt(24,8,e.updated_at,"short"))}}function PF(n,t){if(n&1){let e=oe();d(0,"div",29)(1,"input",30),ee("ngModelChange",function(i){D(e);let o=_();return te(o.newQuestionChoices,i)||(o.newQuestionChoices=i),I(i)}),u()()}if(n&2){let e=_();m(),X("ngModel",e.newQuestionChoices)}}var Td=class n{constructor(t,e){this.cdr=t;this.supabaseService=e}questions=[];newQuestionText="";newQuestionType="fill";newQuestionChoices="";message="";messageType="success";async ngOnInit(){let t=await this.supabaseService.adminLoadQuestions();this.questions=t.map(e=>z(N({},e),{choicesInput:e.question_data.choices?.join(", ")||""})),this.cdr.markForCheck()}onQuestionChange(t){t.isModified=!0}updateChoices(t){let e=t.choicesInput??"";t.question_data.choices=e.split(",").map(r=>r.trim()).filter(r=>r),t.isModified=!0}addQuestion(){if(!this.newQuestionText.trim())return;let t={question_type:this.newQuestionType,question:this.newQuestionText.trim(),placeholder:this.newQuestionText.trim()};if(this.newQuestionType!=="fill"){let e=this.newQuestionChoices.split(",").map(r=>r.trim()).filter(r=>r);t.choices=e}this.questions.push({question_data:t,choicesInput:this.newQuestionChoices,active:!0,isModified:!0}),this.newQuestionText="",this.newQuestionChoices="",this.newQuestionType="fill",this.cdr.detectChanges()}async saveChanges(){let{error:t}=await this.supabaseService.adminSaveQuestions(this.questions);t?this.showMessage("Error saving questions","error"):this.showMessage("Questions saved successfully","success"),this.cdr.detectChanges()}async deleteQuestion(t){if(!t.question_id){this.questions=this.questions.filter(r=>r!==t),this.showMessage("Question removed locally","success"),this.cdr.markForCheck();return}let{error:e}=await this.supabaseService.deleteQuestion(t);e?this.showMessage("Error deleting question","error"):(this.questions=this.questions.filter(r=>r.question_id!==t.question_id),this.showMessage("Question deleted successfully","success")),this.cdr.markForCheck()}showMessage(t,e){this.message=t,this.messageType=e,this.cdr.markForCheck(),setTimeout(()=>{this.message="",this.cdr.markForCheck()},4e3)}hasChanges(){return this.questions.some(t=>t.isModified)}static \u0275fac=function(e){return new(e||n)(E(xe),E(Is))};static \u0275cmp=F({type:n,selectors:[["app-admin-emotion-dashboard"]],decls:53,vars:6,consts:[[1,"container-fluid","mt-4","p-5"],["class","alert",3,"ngClass",4,"ngIf"],[1,"table","mt-5"],[4,"ngFor","ngForOf"],["href","https://fonts.google.com/icons","target","_blank"],[1,"mt-4"],[1,"row","g-3","align-items-center","mb-3"],[1,"col-md-3"],[1,"form-select",3,"ngModelChange","ngModel"],["value","fill"],["value","multiple"],["value","select-one"],[1,"col-md-5"],["type","text","placeholder","Enter question text",1,"form-control",3,"ngModelChange","ngModel"],["class","col-md-4",4,"ngIf"],[1,"d-flex","justify-content-between"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-success",3,"click","disabled"],[1,"alert",3,"ngClass"],[1,"form-select",3,"ngModelChange","change","ngModel"],["type","text","placeholder","Enter icon URL or name",1,"form-control",3,"ngModelChange","change","ngModel"],["type","text","placeholder","Enter question title",1,"form-control",3,"ngModelChange","change","ngModel"],["type","text",1,"form-control",3,"ngModelChange","change","ngModel"],[4,"ngIf"],["type","text","placeholder","Enter placeholder text",1,"form-control",3,"ngModelChange","change","ngModel"],[1,"form-check","form-switch"],["type","checkbox",1,"form-check-input",3,"ngModelChange","change","ngModel"],["type","text","placeholder","Comma-separated choices",1,"form-control","mb-1",3,"ngModelChange","change","ngModel"],[1,"text-muted","small"],[1,"col-md-4"],["type","text","placeholder","Comma-separated choices",1,"form-control",3,"ngModelChange","ngModel"]],template:function(e,r){e&1&&(d(0,"div",0),M(1,AF,2,5,"div",1),d(2,"h1"),f(3,"Admin Emotion Question Dashboard"),u(),d(4,"table",2)(5,"thead")(6,"tr")(7,"th"),f(8,"Type"),u(),d(9,"th"),f(10,"Question Icon"),u(),d(11,"th"),f(12,"Question Title"),u(),d(13,"th"),f(14,"Question Text"),u(),d(15,"th"),f(16,"Choices"),u(),d(17,"th"),f(18,"Placeholder"),u(),d(19,"th"),f(20,"Active"),u(),d(21,"th"),f(22,"Last Updated"),u()()(),d(23,"tbody"),M(24,NF,25,11,"tr",3),u()(),d(25,"label"),f(26,"For icons, go to this website: "),d(27,"a",4),f(28,"https://fonts.google.com/icons"),u(),f(29,". "),x(30,"br"),f(31,"Search for favourite icon. When you click your icon, you will look for the name of the icon and "),x(32,"br"),f(33," put it into the space"),u(),d(34,"h4",5),f(35,"Add New Question"),u(),d(36,"div",6)(37,"div",7)(38,"select",8),ee("ngModelChange",function(o){return te(r.newQuestionType,o)||(r.newQuestionType=o),o}),d(39,"option",9),f(40,"Fill"),u(),d(41,"option",10),f(42,"Multiple"),u(),d(43,"option",11),f(44,"Select One"),u()()(),d(45,"div",12)(46,"input",13),ee("ngModelChange",function(o){return te(r.newQuestionText,o)||(r.newQuestionText=o),o}),u()(),M(47,PF,2,1,"div",14),u(),d(48,"div",15)(49,"button",16),C("click",function(){return r.addQuestion()}),f(50,"Add Question"),u(),d(51,"button",17),C("click",function(){return r.saveChanges()}),f(52,"Save Changes"),u()()()),e&2&&(m(),y("ngIf",r.message),m(23),y("ngForOf",r.questions),m(14),X("ngModel",r.newQuestionType),m(8),X("ngModel",r.newQuestionText),m(),y("ngIf",r.newQuestionType!=="fill"),m(4),y("disabled",!r.hasChanges()))},dependencies:[ut,Cn,En,le,io,Ht,me,mt,B,vn,We,re,Yo],styles:[".container[_ngcontent-%COMP%]{max-width:800px;margin:auto}.question-row[_ngcontent-%COMP%]{position:relative}.delete-button[_ngcontent-%COMP%]{display:none;position:absolute;right:10px;top:50%;transform:translateY(-50%)}.question-row[_ngcontent-%COMP%]:hover   .delete-button[_ngcontent-%COMP%]{display:block}.alert[_ngcontent-%COMP%]{padding:10px 20px;margin-bottom:15px;border-radius:4px;text-align:center}.table[_ngcontent-%COMP%]{--bs-table-bg: transparent}"]})};var Dv=(n,t)=>t.some(e=>n instanceof e),YS,JS;function OF(){return YS||(YS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RF(){return JS||(JS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Iv=new WeakMap,Ev=new WeakMap,Md=new WeakMap;function FF(n){let t=new Promise((e,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{e(ao(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return Md.set(t,n),t}function LF(n){if(Iv.has(n))return;let t=new Promise((e,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{e(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Iv.set(n,t)}var xv={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Iv.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return ao(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function nD(n){xv=n(xv)}function VF(n){return RF().includes(n)?function(...t){return n.apply(Tv(this),t),ao(this.request)}:function(...t){return ao(n.apply(Tv(this),t))}}function jF(n){return typeof n=="function"?VF(n):(n instanceof IDBTransaction&&LF(n),Dv(n,OF())?new Proxy(n,xv):n)}function ao(n){if(n instanceof IDBRequest)return FF(n);if(Ev.has(n))return Ev.get(n);let t=jF(n);return t!==n&&(Ev.set(n,t),Md.set(t,n)),t}var Tv=n=>Md.get(n);function ll(n,t,{blocked:e,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,t),a=ao(s);return r&&s.addEventListener("upgradeneeded",l=>{r(ao(s.result),l.oldVersion,l.newVersion,ao(s.transaction),l)}),e&&s.addEventListener("blocked",l=>e(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}var UF=["get","getKey","getAll","getAllKeys","count"],BF=["put","add","delete","clear"],Sv=new Map;function XS(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Sv.get(t))return Sv.get(t);let e=t.replace(/FromIndex$/,""),r=t!==e,i=BF.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(i||UF.includes(e)))return;let o=async function(s,...a){let l=this.transaction(s,i?"readwrite":"readonly"),c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[e](...a),i&&l.done]))[0]};return Sv.set(t,o),o}nD(n=>z(N({},n),{get:(t,e,r)=>XS(t,e)||n.get(t,e,r),has:(t,e)=>!!XS(t,e)||n.has(t,e)}));var $F=["continue","continuePrimaryKey","advance"],eD={},Mv=new WeakMap,rD=new WeakMap,HF={get(n,t){if(!$F.includes(t))return n[t];let e=eD[t];return e||(e=eD[t]=function(...r){Mv.set(this,rD.get(this)[t](...r))}),e}};async function*zF(...n){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...n)),!t)return;t=t;let e=new Proxy(t,HF);for(rD.set(e,t),Md.set(e,Tv(t));t;)yield e,t=await(Mv.get(e)||t.continue()),Mv.delete(e)}function tD(n,t){return t===Symbol.asyncIterator&&Dv(n,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&Dv(n,[IDBIndex,IDBObjectStore])}nD(n=>z(N({},n),{get(t,e,r){return tD(t,e)?zF:n.get(t,e,r)},has(t,e){return tD(t,e)||n.has(t,e)}}));var Dn=class n{constructor(t,e){this.supabaseService=t;this.platformId=e;this.supabase=this.supabaseService.GetClient()}supabase;ngOnInit(){}async getUserTradeAccounts(){let t=this.supabaseService.user();if(!t)throw new Error("User not authenticated");let e="tradeaccount",r=!1,i=null;if(typeof window<"u"){r=sessionStorage.getItem(`${e}_refresh`)==="yes";let a=sessionStorage.getItem(e);if(a)try{i=JSON.parse(a)}catch(l){console.error("Error parsing cached trade accounts:",l),i=null}}if(!r&&i)return i;let{data:o,error:s}=await this.supabase.from(e).select("*").eq("user_id",t.id);if(s)throw console.error("Error fetching trade accounts:",s),s;return typeof window<"u"&&(sessionStorage.setItem(e,JSON.stringify(o)),sessionStorage.removeItem(`${e}_refresh`)),o||[]}async addTradeAccount(t){let e=this.supabaseService.user();if(!e)throw new Error("User not authenticated");let c=t,{track_pl:r,include_in_analytics:i,trading_instruments:o}=c,s=mo(c,["track_pl","include_in_analytics","trading_instruments"]),a={track_pl:r,include_in_analytics:i,trading_instruments:o},{error:l}=await this.supabase.from("tradeaccount").insert([z(N({},s),{user_id:e.id,metadata:a})]);return l?(console.error("Failed to add trade account:",l),!1):(sessionStorage.setItem("tradeaccount_refresh","yes"),!0)}async editTradeAccount(t,e){let r=this.supabaseService.user();if(!r)throw new Error("User not authenticated");let p=e,{track_pl:i,include_in_analytics:o,trading_instruments:s}=p,a=mo(p,["track_pl","include_in_analytics","trading_instruments"]),l={track_pl:i,include_in_analytics:o,trading_instruments:s},{error:c}=await this.supabase.from("tradeaccount").update(z(N({},a),{metadata:l})).eq("account_id",t).eq("user_id",r.id);return c?(console.error("Failed to update trade account:",c),!1):(sessionStorage.setItem("tradeaccount_refresh","yes"),!0)}async removeTradeAccount(t){let e=this.supabaseService.user();if(!e)throw new Error("User not authenticated");let{error:r}=await this.supabase.from("tradejournal").delete().eq("trade_account_id",t).eq("userid",e.id);if(r)return console.error("Failed to delete associated trade logs:",r),!1;let{error:i}=await this.supabase.from("tradeaccount").delete().eq("account_id",t).eq("user_id",e.id);return i?(console.error("Failed to remove trade account:",i),!1):(typeof window<"u"&&(sessionStorage.setItem("tradeaccount_refresh","yes"),sessionStorage.setItem(`tradejournal_${t}_refresh`,"yes")),!0)}async getProfile(){console.log("getting profile picture");let t=this.supabaseService.user();if(!t)throw new Error("User not authenticated");return this.supabase.from("usersaccount").select("*").eq("user_id",t.id).single()}async createProfile(t){if(!this.supabaseService.user())throw new Error("User not authenticated");return this.supabase.from("usersaccount").insert(t)}async updateProfile(t){let e=this.supabaseService.user();if(!e)throw new Error("User not authenticated");return this.supabase.from("usersaccount").update(t).eq("user_id",e.id)}async uploadProfilePicture(t){let e=this.supabaseService.user();if(!e)throw new Error("User not authenticated");let r=t.name.split(".").pop(),i=`${e.id}/profile.${r}`;await(await ll("profile-cache",1,{upgrade(a){a.createObjectStore("pictures")}})).delete("pictures",i);let{error:s}=await this.supabase.storage.from("user-profile-pictures").upload(i,t,{upsert:!0});return s?null:i}async cacheProfilePictureBlob(t,e){await(await ll("profile-cache",1,{upgrade(i){i.createObjectStore("pictures")}})).put("pictures",e,t)}async getCachedProfilePictureBlobUrl(t){if(!t)return null;let e=await ll("profile-cache",1,{upgrade(a){a.createObjectStore("pictures")}}),r=await e.get("pictures",t);if(r)return URL.createObjectURL(r);let i=await this.getPublicUrl(t);if(!i)return null;let o=await fetch(i);if(!o.ok)return null;let s=await o.blob();return await e.put("pictures",s,t),URL.createObjectURL(s)}clearCachedProfilePictureBlobUrl(){if(yn(this.platformId)){let t=sessionStorage.getItem("profile_picture_blob_url");t&&(URL.revokeObjectURL(t),sessionStorage.removeItem("profile_picture_blob_url"))}}async deleteProfilePicture(){let{data:{user:t}}=await this.supabase.auth.getUser();if(!t)return;let e=`${t.id}/profile.png`,r=`${t.id}/profile.jpg`,i=`${t.id}/profile.jpeg`,o=`${t.id}/profile.webp`;await this.supabase.storage.from("user-profile-pictures").remove([e,r,i,o]);let s=await ll("profile-cache",1,{upgrade(a){a.createObjectStore("pictures")}});await s.delete("pictures",e),await s.delete("pictures",r),await s.delete("pictures",i),await s.delete("pictures",o)}async getPublicUrl(t){let{data:e}=await this.supabase.storage.from("user-profile-pictures").createSignedUrl(t,60);return e?.signedUrl??null}static \u0275fac=function(e){return new(e||n)(R(Se),R(bt))};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})};var ir=class n{constructor(t,e,r,i){this.supabaseService=t;this.supabaseAccountService=e;this.router=r;this.document=i;this.supabase=this.supabaseService.GetClient(),this.rootDomainName="https://app.tradingrehab.io/auth/update-password"}supabase;rootDomainName;async signIn(t,e){try{let{error:r}=await this.supabase.auth.signInWithPassword({email:t,password:e});if(r)throw r;return{success:!0}}catch(r){return console.error("Sign in error:",r),{success:!1,error:r}}}async logout(t=!0){try{await this.supabase.auth.signOut()}catch(e){console.error("Sign out error:",e)}this.supabaseService.updateSignalsFromSession(null),this.supabaseAccountService.clearCachedProfilePictureBlobUrl(),yn(this.supabaseService.platformId)&&(sessionStorage.clear(),localStorage.clear()),t&&this.router.navigate(["/"])}async signUp(t,e,r,i){let{error:o}=await this.supabase.auth.signUp({email:t,password:e,options:{data:{firstname:r,lastname:i}}});return o?{success:!1,error:o}:{success:!0}}async requestPasswordReset(t){let{error:e}=await this.supabase.auth.resetPasswordForEmail(t,{redirectTo:"https://app.tradingrehab.io/#/?returnUrl=%2Fauth%2Fupdate-password"});return e?{success:!1,error:e}:{success:!0}}async updatePassword(t){let{error:e}=await this.supabase.auth.updateUser({password:t});return e?{success:!1,error:e}:{success:!0}}static \u0275fac=function(e){return new(e||n)(R(Se),R(Dn),R(Ke),R(Ve))};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})};function GF(n,t){if(n&1&&(d(0,"div",13),f(1),u()),n&2){let e=_();m(),U(" ",e.errorMessage," ")}}function qF(n,t){n&1&&(d(0,"div",28),f(1," A valid email is required. "),u())}function WF(n,t){n&1&&(d(0,"div",28),f(1," Password must be at least 6 characters. "),u())}function QF(n,t){if(n&1){let e=oe();d(0,"form",14),C("ngSubmit",function(){D(e);let i=_();return I(i.onSubmit())}),d(1,"div",15)(2,"label",16),f(3,"Email"),u(),x(4,"input",17),M(5,qF,2,0,"div",18),u(),d(6,"div",15)(7,"label",19),f(8,"Password"),u(),x(9,"input",20),M(10,WF,2,0,"div",18),d(11,"div",21)(12,"a",22),f(13,"Forgot password?"),u()()(),d(14,"div",23)(15,"button",24),f(16,"Continue"),u()(),d(17,"div",25)(18,"p",26),f(19,"Don't have an account? "),d(20,"a",27),C("click",function(){D(e);let i=_();return I(i.setActiveTab("signup"))}),f(21,"Sign up"),u()()()()}if(n&2){let e,r,i=_();y("formGroup",i.signinForm),m(5),y("ngIf",((e=i.signinForm.get("email"))==null?null:e.invalid)&&((e=i.signinForm.get("email"))==null?null:e.touched)),m(5),y("ngIf",((r=i.signinForm.get("password"))==null?null:r.invalid)&&((r=i.signinForm.get("password"))==null?null:r.touched)),m(5),y("disabled",i.signinForm.invalid)}}function KF(n,t){n&1&&(d(0,"small",43),f(1," First name is required "),u())}function ZF(n,t){n&1&&(d(0,"small",43),f(1," Last name is required "),u())}function YF(n,t){n&1&&(d(0,"small",43),f(1," Valid email is required "),u())}function JF(n,t){n&1&&(d(0,"small",43),f(1," Password must be at least 6 characters "),u())}function XF(n,t){n&1&&(d(0,"small",43),f(1," Passwords do not match "),u())}function e2(n,t){if(n&1){let e=oe();d(0,"form",14),C("ngSubmit",function(){D(e);let i=_();return I(i.onSignupSubmit())}),d(1,"div",29)(2,"div",30)(3,"label",31),f(4,"First Name"),u(),x(5,"input",32),M(6,KF,2,0,"small",33),u(),d(7,"div",30)(8,"label",34),f(9,"Last Name"),u(),x(10,"input",35),M(11,ZF,2,0,"small",33),u()(),d(12,"div",15)(13,"label",36),f(14,"Email"),u(),x(15,"input",37),M(16,YF,2,0,"small",33),u(),d(17,"div",15)(18,"label",38),f(19,"Password"),u(),x(20,"input",39),M(21,JF,2,0,"small",33),u(),d(22,"div",15)(23,"label",40),f(24,"Confirm Password"),u(),x(25,"input",41),M(26,XF,2,0,"small",33),u(),d(27,"div",21)(28,"a",22),f(29,"Forgot password?"),u()(),d(30,"div",23)(31,"button",24),f(32,"Create Account"),u()(),d(33,"div",25)(34,"p",26),f(35,"Already have an account? "),d(36,"a",42),C("click",function(){D(e);let i=_();return I(i.setActiveTab("login"))}),f(37,"Login"),u()()()()}if(n&2){let e,r,i,o,s,a=_();y("formGroup",a.signupForm),m(6),y("ngIf",((e=a.signupForm.get("firstname"))==null?null:e.invalid)&&((e=a.signupForm.get("firstname"))==null?null:e.touched)),m(5),y("ngIf",((r=a.signupForm.get("lastname"))==null?null:r.invalid)&&((r=a.signupForm.get("lastname"))==null?null:r.touched)),m(5),y("ngIf",((i=a.signupForm.get("email"))==null?null:i.invalid)&&((i=a.signupForm.get("email"))==null?null:i.touched)),m(5),y("ngIf",((o=a.signupForm.get("password"))==null?null:o.invalid)&&((o=a.signupForm.get("password"))==null?null:o.touched)),m(5),y("ngIf",a.signupForm.hasError("mismatch")&&((s=a.signupForm.get("confirmPassword"))==null?null:s.touched)),m(5),y("disabled",a.signupForm.invalid)}}var kd=class n{constructor(t,e,r,i,o,s,a){this.fb=t;this.router=e;this.route=r;this.cdr=i;this.supabaseService=o;this.supabaseAuthService=s;this.supabaseAccountService=a;this.signinForm=this.fb.group({email:["",[he.required,he.email]],password:["",[he.required,he.minLength(6)]]}),this.signupForm=this.fb.group({firstname:["",he.required],lastname:["",he.required],email:["",[he.required,he.email]],password:["",[he.required,he.minLength(6)]],confirmPassword:["",he.required]},{validators:this.passwordMatchValidator})}activeTab="login";signinForm;signupForm;errorMessage=null;ngOnInit(){this.route.queryParams.subscribe(t=>{t.mode==="signup"&&(this.activeTab="signup")})}passwordMatchValidator(t){let e=t.get("password")?.value,r=t.get("confirmPassword")?.value;return e===r?null:{mismatch:!0}}setActiveTab(t){this.activeTab=t,this.errorMessage=null}async onSubmit(){if(this.signinForm.invalid){this.signinForm.markAllAsTouched();return}let{email:t,password:e}=this.signinForm.getRawValue();try{if(await this.supabaseAuthService.signIn(t,e),!this.supabaseService.currentUsername()){this.errorMessage="Login failed. Please try again.",this.cdr.markForCheck();return}this.signinForm.reset();let r=this.route.snapshot.queryParams.returnUrl||"/home";this.router.navigateByUrl(r),this.cdr.markForCheck()}catch(r){this.errorMessage=r.message||"An unexpected error occurred.",this.cdr.markForCheck()}}async onSignupSubmit(){if(this.signupForm.invalid){this.errorMessage="Please fill them correctly.",this.signupForm.markAllAsTouched(),this.cdr.markForCheck();return}let{email:t,password:e,firstname:r,lastname:i}=this.signupForm.getRawValue();try{let{success:o,error:s}=await this.supabaseAuthService.signUp(t,e,r,i);if(!o){this.errorMessage=s?.message||"Signup failed.",this.cdr.markForCheck();return}let a=this.supabaseService.user();if(!a){this.errorMessage="User not found after signup.",this.cdr.markForCheck();return}await this.supabaseAccountService.createProfile({user_id:a.id,firstname:r,lastname:i,email:t,phone:null,profile_picture_url:null,updated_at:new Date().toISOString(),preferences:{},metadata:{}}),this.signupForm.reset(),this.router.navigateByUrl("/home"),this.cdr.markForCheck()}catch(o){this.errorMessage=o.message||"An unexpected error occurred.",this.cdr.markForCheck()}}static \u0275fac=function(e){return new(e||n)(E(Sn),E(Ke),E(At),E(xe),E(Se),E(ir),E(Dn))};static \u0275cmp=F({type:n,selectors:[["app-login-signup"]],decls:20,vars:7,consts:[[1,"auth-container"],[1,"auth-card"],[1,"text-center","mb-4"],[1,"logo-circle","mx-auto"],["src","/tr_logo.svg","alt","Logo",1,"img-fluid"],[1,"brand-name","mt-3"],[1,"brand-tagline"],[1,"auth-tabs","d-flex","justify-content-center","mb-4"],[1,"tabs-container"],[1,"tab",3,"click"],[1,"mx-2","tab-separator"],["class","alert alert-danger mb-3",4,"ngIf"],["class","auth-form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"alert","alert-danger","mb-3"],[1,"auth-form",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","placeholder","Enter your email",1,"form-control"],["class","text-danger small mt-1",4,"ngIf"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password","placeholder","Enter your password",1,"form-control"],[1,"d-flex","justify-content-end","mt-2"],["routerLink","/auth/forgot-password",1,"forgot-link"],[1,"d-grid","gap-2","mt-4"],["type","submit",1,"btn","btn-tr","btn-primary","btn-md",3,"disabled"],[1,"text-center","mt-4"],[1,"mb-0"],["href","javascript:void(0)",1,"signup-link",3,"click"],[1,"text-danger","small","mt-1"],[1,"row"],[1,"col-md-6","mb-3"],["for","firstname",1,"form-label"],["type","text","id","firstname","formControlName","firstname","placeholder","First name",1,"form-control"],["class","text-danger",4,"ngIf"],["for","lastname",1,"form-label"],["type","text","id","lastname","formControlName","lastname","placeholder","Last name",1,"form-control"],["for","signup-email",1,"form-label"],["type","email","id","signup-email","formControlName","email","placeholder","Enter your email",1,"form-control"],["for","signup-password",1,"form-label"],["type","password","id","signup-password","formControlName","password","placeholder","Create a password",1,"form-control"],["for","confirmPassword",1,"form-label"],["type","password","id","confirmPassword","formControlName","confirmPassword","placeholder","Confirm your password",1,"form-control"],["href","javascript:void(0)",1,"login-link",3,"click"],[1,"text-danger"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),x(4,"img",4),u(),d(5,"h2",5),f(6,"TRADING REHAB"),u(),d(7,"p",6),f(8,"Where Disciplined Trading Begins"),u()(),d(9,"div",7)(10,"div",8)(11,"span",9),C("click",function(){return r.setActiveTab("login")}),f(12,"Login"),u(),d(13,"span",10),f(14,"\u2022"),u(),d(15,"span",9),C("click",function(){return r.setActiveTab("signup")}),f(16,"Sign Up"),u()()(),M(17,GF,2,1,"div",11)(18,QF,22,4,"form",12)(19,e2,38,7,"form",12),u()()),e&2&&(m(11),J("active",r.activeTab==="login"),m(4),J("active",r.activeTab==="signup"),m(2),y("ngIf",r.errorMessage),m(),y("ngIf",r.activeTab==="login"),m(),y("ngIf",r.activeTab==="signup"))},dependencies:[B,re,Me,rr,le,me,Qe,$e,Ze,Et],styles:['.auth-container[_ngcontent-%COMP%]{min-height:100dvh;display:flex;align-items:center;justify-content:center}.auth-card[_ngcontent-%COMP%]{background-color:transparent;border-radius:12px;width:100%;max-width:450px;padding:30px}.logo-circle[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;background-color:transparent;position:relative;display:flex;align-items:center;justify-content:center;margin:0 auto}.dots-circle[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;position:relative;background-image:radial-gradient(circle,#5046e5 3px,transparent 3px);background-size:15px 15px;transform:rotate(45deg)}.brand-name[_ngcontent-%COMP%]{font-weight:700;font-size:24px;margin-bottom:5px;letter-spacing:.5px}.brand-tagline[_ngcontent-%COMP%]{color:#666;font-size:14px;margin:0}.tabs-container[_ngcontent-%COMP%]{display:inline-flex;align-items:center;border-bottom:1px solid #eee;padding-bottom:5px}.tab[_ngcontent-%COMP%]{padding:8px 15px;cursor:pointer;color:#888;font-weight:500;font-size:16px;transition:color .2s}.tab.active[_ngcontent-%COMP%]{color:#5046e5;border-bottom:2px solid #5046e5}.tab-separator[_ngcontent-%COMP%]{color:#ccc}.auth-form[_ngcontent-%COMP%]{margin-top:10px}.form-control[_ngcontent-%COMP%]{height:auto;padding:12px 15px;border-radius:8px;border:1px solid #ddd;transition:border-color .2s,box-shadow .2s}.form-control[_ngcontent-%COMP%]:focus{border-color:#5046e5;box-shadow:0 0 0 .2rem #5046e526}.form-label[_ngcontent-%COMP%]{font-weight:500;color:#555;margin-bottom:8px}.forgot-link[_ngcontent-%COMP%]{font-size:14px;color:#5046e5;text-decoration:none}.forgot-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.signup-link[_ngcontent-%COMP%], .login-link[_ngcontent-%COMP%]{color:#5046e5;font-weight:500;text-decoration:none}.signup-link[_ngcontent-%COMP%]:hover, .login-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.btn-primary[_ngcontent-%COMP%]{background-color:#5046e5;border-color:#5046e5;padding:12px;font-weight:500}.btn-primary[_ngcontent-%COMP%]:hover, .btn-primary[_ngcontent-%COMP%]:focus{background-color:#4238d0;border-color:#4238d0}.btn-primary[_ngcontent-%COMP%]:disabled{background-color:#a8a4e0;border-color:#a8a4e0}.separator[_ngcontent-%COMP%]{display:flex;align-items:center;text-align:center;color:#888;font-size:14px}.separator[_ngcontent-%COMP%]:before, .separator[_ngcontent-%COMP%]:after{content:"";flex:1;border-bottom:1px solid #ddd}.separator[_ngcontent-%COMP%]:before{margin-right:1em}.separator[_ngcontent-%COMP%]:after{margin-left:1em}.google-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#fff;border:1px solid #ddd;color:#333;padding:12px;font-weight:500}.google-btn[_ngcontent-%COMP%]:hover{background-color:#f8f8f8;color:#333}@media (max-width: 576px){.auth-card[_ngcontent-%COMP%]{padding:20px 15px}.brand-name[_ngcontent-%COMP%]{font-size:20px}.form-control[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]{padding:10px}}']})};var Nd=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=F({type:n,selectors:[["app-welcome-message"]],decls:5,vars:0,consts:[[1,"text-center","p-3","bg-light","rounded-3","shadow-sm","mb-4"],[1,"fs-2","fw-bold","text-dark"],[1,"text-secondary","mb-0"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"h1",1),f(2,"Welcome to Your Meditation Hub!"),u(),d(3,"p",2),f(4,"Find your calm, track your journey."),u()())},encapsulation:2})};var t2=(n,t)=>({"btn-danger":n,"btn-success":t}),Pd=class n{meditationDuration=Q(10);timeLeft=Q(10*60);isRunning=!1;timerInterval;timerCompleted=new ve;ngOnInit(){this.resetTimer()}ngOnDestroy(){this.clearTimerInterval()}formatTime(){let t=this.timeLeft(),e=Math.floor(t/60),r=t%60;return`${e.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`}onDurationChange(t){this.meditationDuration.set(t),this.resetTimer()}toggleTimer(){this.isRunning=!this.isRunning,this.isRunning?this.startTimer():this.clearTimerInterval()}resetTimer(){this.isRunning=!1,this.clearTimerInterval(),this.timeLeft.set(this.meditationDuration()*60)}startTimer(){this.clearTimerInterval(),this.timerInterval=setInterval(()=>{this.timeLeft.update(t=>t-1),this.timeLeft()<=0&&(this.resetTimer(),this.timerCompleted.emit())},1e3)}clearTimerInterval(){this.timerInterval&&clearInterval(this.timerInterval)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=F({type:n,selectors:[["app-meditation-timer"]],outputs:{timerCompleted:"timerCompleted"},decls:22,vars:10,consts:[[1,"card","p-4","rounded-3","h-100","d-flex","flex-column","text-center"],[1,"fs-3","fw-bold","text-dark","mb-4"],[1,"display-4","fw-light","text-success","mb-4","p-3","bg-light","rounded-3","shadow-inset","mx-auto",2,"min-width","180px"],[1,"mb-4","w-100"],["for","duration",1,"form-label","text-dark","fs-6","fw-semibold","mb-2"],["type","range","id","duration","min","1","max","60",1,"form-range",3,"ngModelChange","ngModel"],[1,"d-flex","justify-content-center","gap-3"],[1,"btn","btn-lg","rounded-pill","text-white","fw-bold","shadow-sm","d-flex","align-items-center",3,"click","ngClass"],[1,"ms-2"],[1,"btn","btn-lg","btn-secondary","rounded-pill","text-white","fw-bold","shadow-sm","d-flex","align-items-center",3,"click"],[1,"mt-3","text-secondary","mb-0"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"h2",1),f(2,"Meditation Timer"),u(),d(3,"div",2),f(4),u(),d(5,"div",3)(6,"label",4),f(7),u(),d(8,"input",5),C("ngModelChange",function(o){return r.onDurationChange(o)}),u()(),d(9,"div",6)(10,"button",7),C("click",function(){return r.toggleTimer()}),d(11,"mat-icon"),f(12),u(),d(13,"span",8),f(14),u()(),d(15,"button",9),C("click",function(){return r.resetTimer()}),d(16,"mat-icon"),f(17,"restart_alt"),u(),d(18,"span",8),f(19,"Reset"),u()()(),d(20,"p",10),f(21),u()()),e&2&&(m(4),U(" ",r.formatTime()," "),m(3),U(" Duration (",r.meditationDuration()," min): "),m(),y("ngModel",r.meditationDuration()),m(2),y("ngClass",On(7,t2,r.isRunning,!r.isRunning)),m(2),P(r.isRunning?"pause":"play_arrow"),m(2),P(r.isRunning?"Pause":"Start"),m(7),U(" ",r.isRunning?"Focus on your breath...":"Ready to begin?"," "))},dependencies:[B,vn,ut,le,so,me,mt,bn],styles:[".shadow-inset[_ngcontent-%COMP%]{box-shadow:inset 0 2px 4px #0000000f}"]})};function n2(n,t){if(n&1){let e=oe();d(0,"div",4)(1,"div",5),C("click",function(){let i=D(e).$implicit,o=_();return I(o.selectMedia(i))}),d(2,"img",6),C("error",function(i){let o=D(e).$implicit,s=_();return I(s.onImageError(i,o.type))}),u(),d(3,"div",7)(4,"h3",8),f(5),u(),d(6,"p",9),f(7),u()()()()}if(n&2){let e=t.$implicit;m(2),y("src",e.thumbnail,pn)("alt",e.title),m(3),P(e.title),m(2),P(e.type)}}var Od=class n{mediaLibrary=[];mediaSelected=new ve;selectMedia(t){this.mediaSelected.emit(t)}onImageError(t,e){let r=t.target;r.src=`https://placehold.co/300x180/E0F2F1/004D40?text=${e==="video"?"Video":"Audio"}`}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=F({type:n,selectors:[["app-media-catalog"]],inputs:{mediaLibrary:"mediaLibrary"},outputs:{mediaSelected:"mediaSelected"},decls:5,vars:1,consts:[[1,"card","bg-white","bg-opacity-90","p-4","rounded-3","shadow-sm","h-100","d-flex","flex-column"],[1,"fs-3","fw-bold","text-dark","mb-4","text-center"],[1,"row","row-cols-1","row-cols-sm-2","g-3","overflow-auto","flex-grow-1","pe-2"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"card","bg-light","bg-opacity-75","rounded-3","shadow-sm","overflow-hidden","cursor-pointer","hover-shadow-lg",3,"click"],[1,"card-img-top","object-fit-cover",2,"height","120px",3,"error","src","alt"],[1,"card-body","p-3"],[1,"card-title","fs-6","fw-semibold","text-dark","text-truncate","mb-1"],[1,"card-text","text-secondary","text-capitalize","small","mb-0"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"h2",1),f(2,"Video & Audio Catalog"),u(),d(3,"div",2),M(4,n2,8,4,"div",3),u()()),e&2&&(m(4),y("ngForOf",r.mediaLibrary))},dependencies:[B,We],styles:[".cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.hover-shadow-lg[_ngcontent-%COMP%]:hover{box-shadow:0 .5rem 1rem #00000026!important;transition:box-shadow .2s}"]})};function r2(n,t){if(n&1){let e=oe();d(0,"div",3)(1,"h3",4),f(2),u(),d(3,"div",5),x(4,"iframe",6),u(),d(5,"div",7)(6,"button",8),C("click",function(){D(e);let i=_();return I(i.stop())}),d(7,"mat-icon"),f(8,"stop"),u(),d(9,"span",9),f(10,"Stop Playing"),u()()()()}if(n&2){let e=_();m(2),U("Now Playing: ",e.media.title,""),m(2),y("src",e.safeUrl,Kh)("title",e.media.title)}}function i2(n,t){n&1&&(d(0,"p",10),f(1,"Select a video or audio from the catalog to play."),u())}var Rd=class n{constructor(t){this.sanitizer=t}_media=null;safeUrl=null;set media(t){this._media=t,this.safeUrl=t?this.sanitizer.bypassSecurityTrustResourceUrl(t.url):null}get media(){return this._media}playbackStopped=new ve;stop(){this.playbackStopped.emit()}static \u0275fac=function(e){return new(e||n)(E(va))};static \u0275cmp=F({type:n,selectors:[["app-media-player"]],inputs:{media:"media"},outputs:{playbackStopped:"playbackStopped"},decls:4,vars:2,consts:[["noMediaSelected",""],[1,"card","bg-white","bg-opacity-90","p-4","rounded-3","shadow-sm","min-h-150px","d-flex","align-items-center","justify-content-center"],["class","w-100 h-100",4,"ngIf","ngIfElse"],[1,"w-100","h-100"],[1,"fs-4","fw-semibold","text-dark","mb-3","text-center"],[1,"ratio","ratio-16x9","rounded-3","overflow-hidden","mb-3"],["frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture","allowfullscreen","",3,"src","title"],[1,"text-center"],[1,"btn","btn-danger","rounded-pill","d-inline-flex","align-items-center",3,"click"],[1,"ms-2"],[1,"text-secondary","fs-5"]],template:function(e,r){if(e&1&&(d(0,"div",1),M(1,r2,11,3,"div",2)(2,i2,2,0,"ng-template",null,0,Wo),u()),e&2){let i=Yn(3);m(),y("ngIf",r.media)("ngIfElse",i)}},dependencies:[B,re,bn],styles:[".min-h-150px[_ngcontent-%COMP%]{min-height:250px}"],changeDetection:0})};var Fd=class n{entrySaved=new ve;journalEntry="";save(){let t=this.journalEntry.trim();t&&(this.entrySaved.emit(t),this.journalEntry="")}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=F({type:n,selectors:[["app-journal-writer"]],outputs:{entrySaved:"entrySaved"},decls:9,vars:1,consts:[[1,"card","bg-white","bg-opacity-90","p-4","rounded-3","shadow-sm","h-100","d-flex","flex-column"],[1,"fs-3","fw-bold","text-dark","mb-4","text-center"],["placeholder","Write about your meditation experience...","rows","5",1,"form-control","p-3","rounded-3","border","border-secondary","flex-grow-1","mb-3",3,"ngModelChange","ngModel"],[1,"btn","btn-success","rounded-pill","fw-bold","shadow-sm","d-inline-flex","align-items-center","justify-content-center",3,"click"],[1,"ms-2"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"h2",1),f(2,"Meditation Journal"),u(),d(3,"textarea",2),ee("ngModelChange",function(o){return te(r.journalEntry,o)||(r.journalEntry=o),o}),u(),d(4,"button",3),C("click",function(){return r.save()}),d(5,"mat-icon"),f(6,"save"),u(),d(7,"span",4),f(8,"Save Entry"),u()()()),e&2&&(m(3),X("ngModel",r.journalEntry))},dependencies:[B,ut,le,me,mt,bn],encapsulation:2})};function o2(n,t){if(n&1&&(d(0,"div",6)(1,"p",7),f(2),u(),d(3,"p",8),f(4),u()()),n&2){let e=t.$implicit;m(2),P(e.date),m(2),P(e.content)}}function s2(n,t){if(n&1&&(d(0,"div",4),M(1,o2,5,2,"div",5),u()),n&2){let e=_();m(),y("ngForOf",e.entries)}}function a2(n,t){n&1&&(d(0,"div",9)(1,"p"),f(2,"No journal entries yet."),u()())}var Ld=class n{entries=[];static \u0275fac=function(e){return new(e||n)};static \u0275cmp=F({type:n,selectors:[["app-journal-history"]],inputs:{entries:"entries"},decls:6,vars:2,consts:[["noEntries",""],[1,"card","bg-white","bg-opacity-90","p-4","rounded-3","shadow-sm","h-100","d-flex","flex-column"],[1,"fs-3","fw-bold","text-dark","mb-4","text-center"],["class","overflow-auto flex-grow-1 pe-2",4,"ngIf","ngIfElse"],[1,"overflow-auto","flex-grow-1","pe-2"],["class","card bg-light bg-opacity-75 p-3 rounded shadow-sm mb-3",4,"ngFor","ngForOf"],[1,"card","bg-light","bg-opacity-75","p-3","rounded","shadow-sm","mb-3"],[1,"text-secondary","small","mb-1"],[1,"text-dark","small","mb-0",2,"white-space","pre-wrap"],[1,"text-secondary","text-center","flex-grow-1","d-flex","align-items-center","justify-content-center","mb-0"]],template:function(e,r){if(e&1&&(d(0,"div",1)(1,"h2",2),f(2,"Journal History"),u(),M(3,s2,2,1,"div",3)(4,a2,3,0,"ng-template",null,0,Wo),u()),e&2){let i=Yn(5);m(3),y("ngIf",r.entries.length>0)("ngIfElse",i)}},dependencies:[B,We,re],encapsulation:2,changeDetection:0})};var iD=(n,t)=>({"btn-success":n,"btn-light":t});function l2(n,t){if(n&1){let e=oe();d(0,"div",16)(1,"label",17),f(2,"Choose a color:"),u(),d(3,"input",18),ee("ngModelChange",function(i){D(e);let o=_(2);return te(o.color,i)||(o.color=i),I(i)}),C("change",function(){D(e);let i=_(2);return I(i.updateBackground())}),u()()}if(n&2){let e=_(2);m(3),X("ngModel",e.color)}}function c2(n,t){if(n&1&&(d(0,"div",23),x(1,"img",24),u()),n&2){let e=_(3);m(),y("src",e.image,pn)}}function u2(n,t){if(n&1){let e=oe();d(0,"div",16)(1,"input",19,0),C("change",function(i){D(e);let o=_(2);return I(o.handleImageUpload(i))}),u(),d(3,"button",20),C("click",function(){D(e);let i=Yn(2);return I(i.click())}),d(4,"mat-icon"),f(5,"upload"),u(),d(6,"span",21),f(7,"Select Image"),u()(),M(8,c2,2,1,"div",22),u()}if(n&2){let e=_(2);m(8),y("ngIf",e.image)}}function d2(n,t){if(n&1){let e=oe();d(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"button",8),C("click",function(){D(e);let i=_();return I(i.showModal=!1)}),u()(),d(5,"div",9)(6,"h2",10),f(7,"Customize Background"),u(),d(8,"div",11)(9,"button",12),C("click",function(){D(e);let i=_();return I(i.backgroundType="color")}),f(10,"Solid Color"),u(),d(11,"button",12),C("click",function(){D(e);let i=_();return I(i.backgroundType="image")}),f(12,"Image"),u()(),M(13,l2,4,1,"div",13)(14,u2,9,1,"div",13),d(15,"div",14)(16,"button",15),C("click",function(){D(e);let i=_();return I(i.showModal=!1)}),f(17,"Done"),u()()()()()()}if(n&2){let e=_();m(9),y("ngClass",On(4,iD,e.backgroundType==="color",e.backgroundType!=="color")),m(2),y("ngClass",On(7,iD,e.backgroundType==="image",e.backgroundType!=="image")),m(2),y("ngIf",e.backgroundType==="color"),m(),y("ngIf",e.backgroundType==="image")}}function f2(n,t){n&1&&x(0,"div",25)}var Vd=class n{backgroundChanged=new ve;showModal=!1;backgroundType="color";color="#ffffff";image=null;handleImageUpload(t){let e=t.target;if(e.files?.[0]){let r=new FileReader;r.onload=()=>{this.image=r.result,this.backgroundType="image",this.updateBackground()},r.readAsDataURL(e.files[0])}}updateBackground(){let t=this.backgroundType==="color"?{"background-color":this.color}:{"background-image":`url(${this.image})`,"background-size":"cover","background-position":"center"};this.backgroundChanged.emit(t)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=F({type:n,selectors:[["app-settings"]],outputs:{backgroundChanged:"backgroundChanged"},decls:5,vars:2,consts:[["fileInput",""],["title","Customize Background",1,"btn","btn-lg","bg-light","rounded-circle","shadow-lg","hover-rotate-45","d-flex","align-items-center","justify-content-center",2,"width","58px","height","58px",3,"click"],["class","modal d-block","tabindex","-1",4,"ngIf"],["class","modal-backdrop fade show",4,"ngIf"],["tabindex","-1",1,"modal","d-block"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content","rounded-3","shadow-lg"],[1,"modal-header","border-0","pb-0"],["type","button",1,"btn-close",3,"click"],[1,"modal-body","p-4","pt-0","text-center"],[1,"fs-2","fw-bold","text-dark","mb-4"],[1,"d-flex","justify-content-center","gap-3","mb-4"],[1,"btn","rounded-pill","fw-semibold",3,"click","ngClass"],["class","text-center",4,"ngIf"],[1,"mt-4","text-center"],[1,"btn","btn-success","rounded-pill","fw-bold",3,"click"],[1,"text-center"],["for","colorPicker",1,"form-label","fs-5","fw-semibold","mb-3"],["type","color","id","colorPicker",1,"form-control","form-control-color","mx-auto",2,"width","96px","height","96px",3,"ngModelChange","change","ngModel"],["type","file","accept","image/*",1,"d-none",3,"change"],[1,"btn","btn-primary","rounded-pill","fw-bold","d-inline-flex","align-items-center",3,"click"],[1,"ms-2"],["class","mt-4",4,"ngIf"],[1,"mt-4"],["alt","Preview",1,"img-fluid","rounded-3","shadow-sm","mx-auto",2,"max-height","192px","object-fit","cover",3,"src"],[1,"modal-backdrop","fade","show"]],template:function(e,r){e&1&&(d(0,"button",1),C("click",function(){return r.showModal=!0}),d(1,"mat-icon"),f(2,"settings"),u()(),M(3,d2,18,10,"div",2)(4,f2,1,0,"div",3)),e&2&&(m(3),y("ngIf",r.showModal),m(),y("ngIf",r.showModal))},dependencies:[B,vn,re,ut,le,me,mt,bn],styles:[".modal.d-block[_ngcontent-%COMP%]{display:block}.hover-rotate-45[_ngcontent-%COMP%]:hover{transform:rotate(45deg);transition:transform .3s ease-in-out}"]})};function p2(n,t){if(n&1&&(d(0,"div",13),f(1),u()),n&2){let e=_();m(),U(" ",e.message," ")}}var jd=class n{selectedMedia=null;savedEntries=[];backgroundStyle={"background-color":"#f8f9fa"};message="";mediaLibrary=[{id:1,type:"video",title:"Calm Forest Walk",thumbnail:"https://placehold.co/300x180/E0F2F1/004D40?text=Forest+Walk",url:"https://www.youtube.com/embed/dQw4w9WgXcQ"},{id:2,type:"audio",title:"Ocean Waves",thumbnail:"https://placehold.co/300x180/E0F2F1/004D40?text=Ocean+Waves",url:"https://www.youtube.com/embed/V-_O7nl0Ii0"},{id:3,type:"video",title:"Zen Garden",thumbnail:"https://placehold.co/300x180/E0F2F1/004D40?text=Zen+Garden",url:"https://www.youtube.com/embed/z63o1jJ4h_4"},{id:4,type:"audio",title:"Gentle Rain",thumbnail:"https://placehold.co/300x180/E0F2F1/004D40?text=Gentle+Rain",url:"https://www.youtube.com/embed/q76bMs-mupk"}];onMediaSelected(t){this.selectedMedia=t,this.setMessage(`Now playing: ${t.title}`)}onPlaybackStopped(){this.selectedMedia=null}onMeditationComplete(){this.setMessage("Meditation complete! \u{1F64F}")}onJournalEntrySaved(t){let e={id:Date.now(),date:new Date().toLocaleString(),content:t};this.savedEntries=[e,...this.savedEntries],this.setMessage("Journal entry saved!")}onBackgroundChanged(t){this.backgroundStyle=t,this.setMessage("Background updated!")}setMessage(t){this.message=t,setTimeout(()=>{this.message=""},3e3)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=F({type:n,selectors:[["app-meditation-hub"]],decls:18,vars:5,consts:[[1,"d-flex","flex-column","align-items-center","justify-content-center","p-3","font-inter","min-vh-100",3,"ngStyle"],["class","position-absolute top-0 mt-5 bg-white bg-opacity-90 text-dark px-4 py-2 rounded shadow-lg z-index-1000 animate-fade-in-down",4,"ngIf"],[1,"p-4","w-100"],[1,"row","g-4"],[1,"col-12"],[1,"col-12","col-lg-6"],[3,"timerCompleted"],[3,"mediaSelected","mediaLibrary"],[3,"playbackStopped","media"],[3,"entrySaved"],[3,"entries"],[1,"col-12","text-center","py-3"],[3,"backgroundChanged"],[1,"position-absolute","top-0","mt-5","bg-white","bg-opacity-90","text-dark","px-4","py-2","rounded","shadow-lg","z-index-1000","animate-fade-in-down"]],template:function(e,r){e&1&&(d(0,"div",0),M(1,p2,2,1,"div",1),d(2,"div",2)(3,"div",3)(4,"div",4),x(5,"app-welcome-message"),u(),d(6,"section",5)(7,"app-meditation-timer",6),C("timerCompleted",function(){return r.onMeditationComplete()}),u()(),d(8,"section",5)(9,"app-media-catalog",7),C("mediaSelected",function(o){return r.onMediaSelected(o)}),u()(),d(10,"section",4)(11,"app-media-player",8),C("playbackStopped",function(){return r.onPlaybackStopped()}),u()(),d(12,"section",5)(13,"app-journal-writer",9),C("entrySaved",function(o){return r.onJournalEntrySaved(o)}),u()(),d(14,"section",5),x(15,"app-journal-history",10),u(),d(16,"div",11)(17,"app-settings",12),C("backgroundChanged",function(o){return r.onBackgroundChanged(o)}),u()()()()()),e&2&&(y("ngStyle",r.backgroundStyle),m(),y("ngIf",r.message),m(8),y("mediaLibrary",r.mediaLibrary),m(2),y("media",r.selectedMedia),m(4),y("entries",r.savedEntries))},dependencies:[B,re,eC,Nd,Pd,Od,Rd,Fd,Ld,Vd],styles:["[_nghost-%COMP%]{--animate-duration: .5s}.font-inter[_ngcontent-%COMP%]{font-family:Inter,sans-serif}.z-index-1000[_ngcontent-%COMP%]{z-index:1000}.animate-fade-in-down[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInDown var(--animate-duration) ease-out forwards}@keyframes _ngcontent-%COMP%_fadeInDown{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}"]})};function h2(n,t){if(n&1&&(d(0,"div",1)(1,"div",2)(2,"h5",3),x(3,"i",4),f(4,"Planned Trade "),u(),d(5,"span",5),f(6,"Required"),u()(),d(7,"div",6)(8,"div",7)(9,"div",8)(10,"label",9),f(11,"Direction"),u(),d(12,"div",10),x(13,"input",11),d(14,"label",12),f(15,"Long"),u(),x(16,"input",13),d(17,"label",14),f(18,"Short"),u()()(),d(19,"div",8)(20,"label",9),f(21,"Entry Price"),u(),x(22,"input",15),u(),d(23,"div",8)(24,"label",9),f(25,"Lot Size"),u(),x(26,"input",16),u(),d(27,"div",8)(28,"label",9),f(29,"Stop Loss"),u(),x(30,"input",17),u(),d(31,"div",8)(32,"label",9),f(33,"Take Profit"),u(),x(34,"input",18),u()()()()),n&2){let e=_();m(7),y("formGroup",e.formGroup)}}var Ud=class n{formGroup;static \u0275fac=function(e){return new(e||n)};static \u0275cmp=F({type:n,selectors:[["app-planned-trade"]],inputs:{formGroup:"formGroup"},decls:1,vars:1,consts:[["class","card mb-4 shadow-sm",4,"ngIf"],[1,"card","mb-4","shadow-sm"],[1,"card-header","bg-light","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"bi","me-2"],[1,"badge","bg-primary"],[1,"card-body",3,"formGroup"],[1,"row","g-3"],[1,"col-md-2"],[1,"form-label"],["role","group",1,"btn-group","w-100"],["type","radio","id","planned_long","value","Long","formControlName","trade_direction",1,"btn-check"],["for","planned_long",1,"btn","btn-outline-success"],["type","radio","id","planned_short","value","Short","formControlName","trade_direction",1,"btn-check"],["for","planned_short",1,"btn","btn-outline-danger"],["type","number","step","0.00001","formControlName","entry_price",1,"form-control"],["type","number","step","0.01","formControlName","lot_size",1,"form-control"],["type","number","step","0.00001","formControlName","stop_loss_price",1,"form-control"],["type","number","step","0.00001","formControlName","take_profit_price",1,"form-control"]],template:function(e,r){e&1&&M(0,h2,35,1,"div",0),e&2&&y("ngIf",r.formGroup)},dependencies:[B,re,Me,le,jn,oo,me,Qe,$e,Ze],encapsulation:2})};function m2(n,t){if(n&1&&(d(0,"div",1)(1,"div",2)(2,"h5",3),x(3,"i",4),f(4,"Executing Trade "),u(),d(5,"span",5),f(6,"Required"),u()(),d(7,"div",6)(8,"div",7)(9,"div",8)(10,"label",9),f(11,"Direction"),u(),d(12,"div",10),x(13,"input",11),d(14,"label",12),f(15,"Long"),u(),x(16,"input",13),d(17,"label",14),f(18,"Short"),u()()(),d(19,"div",8)(20,"label",9),f(21,"Entry Price"),u(),x(22,"input",15),u(),d(23,"div",8)(24,"label",9),f(25,"Lot Size"),u(),x(26,"input",16),u(),d(27,"div",8)(28,"label",9),f(29,"Stop Loss"),u(),x(30,"input",17),u(),d(31,"div",8)(32,"label",9),f(33,"Take Profit"),u(),x(34,"input",18),u(),d(35,"div",8)(36,"label",9),f(37,"Exit Price"),u(),x(38,"input",19),u(),d(39,"div",20)(40,"label",9),f(41,"Entry Time"),u(),x(42,"input",21),u(),d(43,"div",20)(44,"label",9),f(45,"Exit Time"),u(),x(46,"input",22),u(),d(47,"div",20)(48,"label",9),f(49,"Exit Type"),u(),d(50,"select",23)(51,"option",24),f(52,"Select exit type"),u(),d(53,"option",25),f(54,"Target"),u(),d(55,"option",26),f(56,"Stop Loss"),u(),d(57,"option",27),f(58,"Manual"),u()()()()()()),n&2){let e=_();m(7),y("formGroup",e.formGroup)}}var Bd=class n{formGroup;static \u0275fac=function(e){return new(e||n)};static \u0275cmp=F({type:n,selectors:[["app-executing-trade"]],inputs:{formGroup:"formGroup"},decls:1,vars:1,consts:[["class","card mb-4 shadow-sm",4,"ngIf"],[1,"card","mb-4","shadow-sm"],[1,"card-header","bg-light","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"bi","me-2"],[1,"badge","bg-primary"],[1,"card-body",3,"formGroup"],[1,"row","g-3"],[1,"col-md-2"],[1,"form-label"],["role","group",1,"btn-group","w-100"],["type","radio","id","exec_long","value","Long","formControlName","trade_direction",1,"btn-check"],["for","exec_long",1,"btn","btn-outline-success"],["type","radio","id","exec_short","value","Short","formControlName","trade_direction",1,"btn-check"],["for","exec_short",1,"btn","btn-outline-danger"],["type","number","formControlName","entry_price",1,"form-control"],["type","number","formControlName","lot_size",1,"form-control"],["type","number","formControlName","stop_loss_price",1,"form-control"],["type","number","formControlName","take_profit_price",1,"form-control"],["type","number","formControlName","exit_price",1,"form-control"],[1,"col-md-4"],["type","datetime-local","formControlName","entry_time",1,"form-control"],["type","datetime-local","formControlName","exit_time",1,"form-control"],["formControlName","exit",1,"form-select"],["value","","disabled",""],["value","Target"],["value","StopLoss"],["value","Manual"]],template:function(e,r){e&1&&M(0,m2,59,1,"div",0),e&2&&y("ngIf",r.formGroup)},dependencies:[B,re,Me,Cn,En,le,jn,Ht,oo,me,Qe,$e,Ze],encapsulation:2})};function g2(n,t){if(n&1&&(d(0,"option",32),f(1),u()),n&2){let e=t.$implicit;y("value",e),m(),P(e)}}function v2(n,t){if(n&1&&(Yt(0),x(1,"app-planned-trade",33),Jt()),n&2){let e=_();m(),y("formGroup",e.plannedTradeGroup)}}function y2(n,t){if(n&1&&(Yt(0),x(1,"app-executing-trade",33),Jt()),n&2){let e=_();m(),y("formGroup",e.executingTradeGroup)}}var $d=class n{formGroup;tradeStatus;plannedTradeGroup;executingTradeGroup;currencyPairs=["EUR/USD","USD/JPY","GBP/USD","USD/CHF","AUD/USD","USD/CAD","NZD/USD","EUR/GBP","EUR/JPY","GBP/JPY","AUD/JPY","CAD/JPY","CHF/JPY","EUR/AUD","EUR/CAD","EUR/CHF","GBP/AUD","GBP/CAD","GBP/CHF","AUD/CAD","AUD/CHF","AUD/NZD","CAD/CHF","NZD/CAD","NZD/CHF","NZD/JPY","XAUUSD","XAGUSD","USOIL","UKOIL","NATGAS","COPPER","PLATINUM","PALLADIUM","WHEAT","CORN","SOYBEANS","SUGAR","COFFEE","COCOA","COTTON","NQ","M-NQ","ES","M-ES"];static \u0275fac=function(e){return new(e||n)};static \u0275cmp=F({type:n,selectors:[["app-trade-setup"]],inputs:{formGroup:"formGroup",tradeStatus:"tradeStatus",plannedTradeGroup:"plannedTradeGroup",executingTradeGroup:"executingTradeGroup"},decls:58,vars:4,consts:[[1,"card","mb-4","shadow-sm",3,"formGroup"],[1,"card-header","bg-light","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"bi","bi-1-circle","me-2"],[1,"badge","bg-primary"],[1,"card-body"],[1,"row","g-3"],[1,"col-md-6"],["for","trade_symbol",1,"form-label"],["id","trade_symbol","formControlName","trade_symbol",1,"form-select"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["for","trade_analysis",1,"form-label"],["id","trade_analysis","formControlName","trade_analysis",1,"form-select"],["value","Technical"],["value","Fundamental"],["value","Both"],["value","Sentiment"],["value","Other"],["for","trade_instrument",1,"form-label"],["type","text","id","trade_instrument","formControlName","trade_instrument",1,"form-control"],["for","type_of_order",1,"form-label"],["id","type_of_order","formControlName","type_of_order",1,"form-select"],["value","Market"],["value","Limit"],["value","Stop"],["value","StopLimit"],["value","TrailingStop"],[1,"col-12"],["for","market_condition",1,"form-label"],["id","market_condition","rows","3","formControlName","market_condition","placeholder","Describe current market conditions and relevant factors",1,"form-control"],[4,"ngIf"],[3,"value"],[3,"formGroup"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"div",1)(2,"h5",2),x(3,"i",3),f(4,"Trade Setup "),u(),d(5,"span",4),f(6,"Required"),u()(),d(7,"div",5)(8,"div",6)(9,"div",7)(10,"label",8),f(11,"Currency Pair/Commodities"),u(),d(12,"select",9)(13,"option",10),f(14,"Select..."),u(),M(15,g2,2,2,"option",11),u()(),d(16,"div",7)(17,"label",12),f(18,"Trade Analysis"),u(),d(19,"select",13)(20,"option",10),f(21,"Choose analysis method"),u(),d(22,"option",14),f(23,"Technical"),u(),d(24,"option",15),f(25,"Fundamental"),u(),d(26,"option",16),f(27,"Both"),u(),d(28,"option",17),f(29,"Sentiment"),u(),d(30,"option",18),f(31,"Other"),u()()(),d(32,"div",7)(33,"label",19),f(34,"Trade Instrument"),u(),x(35,"input",20),u(),d(36,"div",7)(37,"label",21),f(38,"Type of Order"),u(),d(39,"select",22)(40,"option",10),f(41,"Choose order type"),u(),d(42,"option",23),f(43,"Market"),u(),d(44,"option",24),f(45,"Limit"),u(),d(46,"option",25),f(47,"Stop"),u(),d(48,"option",26),f(49,"Stop Limit"),u(),d(50,"option",27),f(51,"Trailing Stop"),u()()(),d(52,"div",28)(53,"label",29),f(54,"Market Condition"),u(),x(55,"textarea",30),u(),M(56,v2,2,1,"ng-container",31)(57,y2,2,1,"ng-container",31),u()()()),e&2&&(y("formGroup",r.formGroup),m(15),y("ngForOf",r.currencyPairs),m(41),y("ngIf",r.tradeStatus==="Planned"),m(),y("ngIf",r.tradeStatus!=="Planned"))},dependencies:[B,We,re,Me,Cn,En,le,Ht,me,Qe,$e,Ze,Ud,Bd],encapsulation:2})};var Hd=class n{control;disabled=!1;getIcon(t){switch(t){case"Planned":return"bi bi-hourglass";case"Executing":return"bi bi-play-fill";case"Completed":return"bi bi-check-circle";default:return"bi bi-question-circle"}}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=F({type:n,selectors:[["app-trade-status-selector"]],inputs:{control:"control",disabled:"disabled"},decls:4,vars:2,consts:[["role","group","aria-label","Trade status display",1,"btn-group","w-100","shadow-sm","mb-3"],[1,"btn","btn-tr","w-100"],[1,"me-1",3,"ngClass"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"div",1),x(2,"i",2),f(3),u()()),e&2&&(m(2),y("ngClass",r.getIcon(r.control==null?null:r.control.value)),m(),U(" ",r.control==null?null:r.control.value," "))},dependencies:[B,vn,Me],encapsulation:2})};var zd=class n{formGroup;get entryWordCount(){let t=this.formGroup?.get("entry_criteria")?.value||"";return t.trim().length===0?0:t.trim().split(/\s+/).length}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=F({type:n,selectors:[["app-trade-strategy"]],inputs:{formGroup:"formGroup"},decls:26,vars:2,consts:[[1,"card","mb-4","shadow-sm",3,"formGroup"],[1,"card-header","bg-light","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"bi","bi-2-circle","me-2"],[1,"badge","bg-primary"],[1,"card-body","col-12"],["for","strategy_name",1,"form-label"],["type","text","id","strategy_name","formControlName","strategy_name","placeholder","e.g., Breakout, Reversal, Trend Following",1,"form-control"],[1,"card-body"],[1,"mb-4"],["for","entry_criteria",1,"form-label","fw-bold"],[1,"text-danger"],["id","entry_criteria","rows","5","formControlName","entry_criteria","placeholder","Explain in detail why you are taking this trade. Include your technical analysis, fundamental reasoning, market conditions, setup confirmation, etc.",1,"form-control"],[1,"form-text","text-muted"],["for","exit_criteria",1,"form-label","fw-bold"],["id","exit_criteria","rows","3","formControlName","exit_criteria","placeholder","Explain your plan to exit the trade. What would make you close the position? Include specific targets, stop-loss thresholds, trailing exits, or indicator-based signals.",1,"form-control"],[1,"form-text"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"div",1)(2,"h5",2),x(3,"i",3),f(4,"Trade Strategy "),u(),d(5,"span",4),f(6,"Required"),u()(),d(7,"div",5)(8,"label",6),f(9,"Strategy Name"),u(),x(10,"input",7),u(),d(11,"div",8)(12,"div",9)(13,"label",10),f(14,"Entry Criteria (Why are you taking this trade?) "),d(15,"span",11),f(16,"*"),u()(),x(17,"textarea",12),d(18,"div",13),f(19),u()(),d(20,"div")(21,"label",14),f(22,"Exit Criteria"),u(),x(23,"textarea",15),d(24,"div",16),f(25," Include both profit-taking and loss-cutting criteria. "),u()()()()),e&2&&(y("formGroup",r.formGroup),m(19),U(" Minimum 100 words recommended. Current: ",r.entryWordCount," words "))},dependencies:[B,Me,le,me,Qe,$e,Ze],encapsulation:2})};var _2=()=>[1,2,3,4,5];function b2(n,t){if(n&1&&(d(0,"option",20),f(1),u()),n&2){let e=t.$implicit;y("value",e),m(),P(e)}}function w2(n,t){if(n&1&&(d(0,"option",20),f(1),u()),n&2){let e=t.$implicit;y("value",e),m(),P(e)}}function C2(n,t){if(n&1&&(d(0,"div",8)(1,"label",9),f(2,"Potential Bias"),u(),d(3,"select",21)(4,"option",11),f(5,"Select potential bias"),u(),M(6,w2,2,2,"option",12),u()()),n&2){let e=_(2);m(6),y("ngForOf",e.biases)}}function E2(n,t){if(n&1&&(Yt(0),x(1,"input",22),d(2,"label",23),f(3),u(),Jt()),n&2){let e=t.$implicit;m(),y("id","confidence_"+e)("value",e),m(),y("for","confidence_"+e),m(),P(e)}}function S2(n,t){if(n&1&&(d(0,"div",1)(1,"div",2)(2,"h5",3),x(3,"i",4),f(4),u(),d(5,"span",5),f(6,"Required"),u()(),d(7,"div",6)(8,"div",7)(9,"div",8)(10,"label",9),f(11,"Emotional State"),u(),d(12,"select",10)(13,"option",11),f(14,"How are you feeling?"),u(),M(15,b2,2,2,"option",12),u()(),M(16,C2,7,1,"div",13),d(17,"div",14)(18,"label",9),f(19,"Trade Confidence"),u(),d(20,"div",15),M(21,E2,4,4,"ng-container",16),u(),d(22,"div",17),f(23,"Low (1) to High (5)"),u()(),d(24,"div",18)(25,"label",9),f(26,"Reflection"),u(),x(27,"textarea",19),u()()()()),n&2){let e=_();m(4),U("",e.label," Emotional Analysis "),m(3),y("formGroup",e.formGroup),m(8),y("ngForOf",e.emotionalStates),m(),y("ngIf",e.showBias),m(5),y("ngForOf",Aw(5,_2))}}var Gd=class n{formGroup;label="Pre-Trade";showBias=!1;emotionalStates=["Calm","Excited","Anxious","Frustrated","Overconfident","Fearful","Neutral","Other","Satisfied","Disappointed"];biases=["None - Clear Mindset","FOMO (Fear of Missing Out)","Recency Bias (Overweighting Recent Events)","Confirmation Bias O","Anchoring Bias","Loss Aversion O","Overconfidence","Revenge Trading"];static \u0275fac=function(e){return new(e||n)};static \u0275cmp=F({type:n,selectors:[["app-emotional-analysis"]],inputs:{formGroup:"formGroup",label:"label",showBias:"showBias"},decls:1,vars:1,consts:[["class","card mb-4 shadow-sm",4,"ngIf"],[1,"card","mb-4","shadow-sm"],[1,"card-header","bg-light","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"bi","bi-3-circle","me-2"],[1,"badge","bg-primary"],[1,"card-body",3,"formGroup"],[1,"row","g-3"],[1,"col-md-6"],[1,"form-label"],["formControlName","emotional_state",1,"form-select"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["class","col-md-6",4,"ngIf"],[1,"col-md-12"],["role","group",1,"btn-group","w-100"],[4,"ngFor","ngForOf"],[1,"form-text","text-center"],[1,"col-12"],["rows","2","formControlName","reflection",1,"form-control"],[3,"value"],["formControlName","potential_bisa",1,"form-select"],["type","radio","formControlName","trade_confidence",1,"btn-check",3,"id","value"],[1,"btn","btn-outline-primary",3,"for"]],template:function(e,r){e&1&&M(0,S2,28,6,"div",0),e&2&&y("ngIf",r.formGroup)},dependencies:[B,We,re,Me,Cn,En,le,Ht,oo,me,Qe,$e,Ze],encapsulation:2})};var qd=class n{data;static \u0275fac=function(e){return new(e||n)};static \u0275cmp=F({type:n,selectors:[["app-profit-analysis"]],inputs:{data:"data"},decls:36,vars:12,consts:[[1,"card","mb-4","shadow-sm"],[1,"card-header","bg-light","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"bi","bi-4-circle","me-2"],[1,"badge","bg-primary"],[1,"card-body"],[1,"row","g-3"],[1,"col-md-4"],[1,"form-label"],[1,"input-group"],[1,"input-group-text"],[1,"form-control","bg-light"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"div",1)(2,"h5",2),x(3,"i",3),f(4,"Profit Analysis "),u(),d(5,"span",4),f(6,"Required"),u()(),d(7,"div",5)(8,"div",6)(9,"div",7)(10,"label",8),f(11,"Realized Profit"),u(),d(12,"div",9)(13,"span",10),f(14,"$"),u(),d(15,"span",11),f(16),at(17,"number"),u()()(),d(18,"div",7)(19,"label",8),f(20,"Unrealized Profit"),u(),d(21,"div",9)(22,"span",10),f(23,"$"),u(),d(24,"span",11),f(25),at(26,"number"),u()()(),d(27,"div",7)(28,"label",8),f(29,"Total Profit"),u(),d(30,"div",9)(31,"span",10),f(32,"$"),u(),d(33,"span",11),f(34),at(35,"number"),u()()()()()()),e&2&&(m(16),U(" ",r.data!=null&&r.data.missing?"Data missing":lt(17,3,r.data==null?null:r.data.realized,"1.2-2")," "),m(9),U(" ",r.data!=null&&r.data.missing?"Data missing":lt(26,6,r.data==null?null:r.data.unrealized,"1.2-2")," "),m(9),U(" ",r.data!=null&&r.data.missing?"Data missing":lt(35,9,r.data==null?null:r.data.total,"1.2-2")," "))},dependencies:[B,Jo],encapsulation:2})};var Wd=class n{control;static \u0275fac=function(e){return new(e||n)};static \u0275cmp=F({type:n,selectors:[["app-notes"]],inputs:{control:"control"},decls:10,vars:1,consts:[[1,"card","mb-4","shadow-sm"],[1,"card-header","bg-light","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"bi","bi-4-circle","me-2"],[1,"badge","bg-secondary"],[1,"p-3"],["rows","3","placeholder","Any additional information or context for this trade",1,"form-control",3,"formControl"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"div",1)(2,"h5",2),x(3,"i",3),f(4,"Additional Notes "),u(),d(5,"span",4),f(6,"Optional"),u()(),d(7,"div",5)(8,"textarea",6),f(9,"        "),u()()()),e&2&&(m(8),y("formControl",r.control))},dependencies:[B,Me,le,me,Cv],encapsulation:2})};var Qd=class n{calculateRewardRiskRatio(t,e,r){let i=Math.abs(t-e),o=Math.abs(r-t);return i>0?o/i:0}calculateRiskDollar(t,e,r,i=10){return Math.abs(t-e)*i*r}calculateRiskPercent(t,e){return e>0?t/e*100:0}calculateProfit(t,e,r,i,o=10){return(i==="Long"?e-t:t-e)*o*r}aggregateProfit(t){if(!t?.length)return{realized:0,unrealized:0,total:0,missing:!0};let e=0,r=0;for(let i of t){let{entry_price:o,exit_price:s,lot_size:a,trade_direction:l,exit:c}=i,p=this.calculateProfit(o,s,a,l);c?e+=p:r+=p}return{realized:e,unrealized:r,total:e+r,missing:!1}}getPipDifference(t,e){return Math.round(Math.abs(e-t)*1e4)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})};var gt=[];for(let n=0;n<256;++n)gt.push((n+256).toString(16).slice(1));function oD(n,t=0){return(gt[n[t+0]]+gt[n[t+1]]+gt[n[t+2]]+gt[n[t+3]]+"-"+gt[n[t+4]]+gt[n[t+5]]+"-"+gt[n[t+6]]+gt[n[t+7]]+"-"+gt[n[t+8]]+gt[n[t+9]]+"-"+gt[n[t+10]]+gt[n[t+11]]+gt[n[t+12]]+gt[n[t+13]]+gt[n[t+14]]+gt[n[t+15]]).toLowerCase()}var Av,D2=new Uint8Array(16);function kv(){if(!Av){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Av=crypto.getRandomValues.bind(crypto)}return Av(D2)}var I2=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Nv={randomUUID:I2};function x2(n,t,e){if(Nv.randomUUID&&!t&&!n)return Nv.randomUUID();n=n||{};let r=n.random??n.rng?.()??kv();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){if(e=e||0,e<0||e+16>t.length)throw new RangeError(`UUID byte range ${e}:${e+15} is out of buffer bounds`);for(let i=0;i<16;++i)t[e+i]=r[i];return t}return oD(r)}var Pv=x2;var fi=class n{supabaseFunctionClient;constructor(){this.supabaseFunctionClient=new to(bs.FUNC_URL,bs.anon_key,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}})}async callEdgeFunction(t,e){let{data:r,error:i}=await this.supabaseFunctionClient.functions.invoke(t,{body:e});return{data:r,error:i}}static \u0275fac=function(e){return new(e||n)};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})};function T2(n,t){if(n&1&&(d(0,"div",19),f(1),u()),n&2){let e=_();m(),U("Selected File: ",e.fileName,"")}}function M2(n,t){if(n&1&&(d(0,"div",20),x(1,"img",21),u()),n&2){let e=_();m(),y("src",e.imagePreviewUrl,pn)}}function A2(n,t){if(n&1&&(d(0,"div",22),x(1,"i",23),f(2),u()),n&2){let e=_();m(2),U("",e.errorMessage," ")}}function k2(n,t){n&1&&(d(0,"span"),x(1,"i",24),f(2,"Extract Trade Data "),u())}function N2(n,t){n&1&&(d(0,"span"),x(1,"span",25),f(2," Extracting... "),u())}var Kd=class n{constructor(t,e){this.supabase=t;this.cdr=e}file=null;fileName="";isLoading=!1;errorMessage=null;imagePreviewUrl=null;MAX_FILE_SIZE_BYTES=10*1024*1024;ALLOWED_FILE_TYPES=["image/png","image/jpeg"];extractTradeData=new ve;onFileSelected(t){this.errorMessage=null,this.file=null,this.fileName="",this.imagePreviewUrl=null;let e=t.target;if(!e.files||e.files.length===0)return;let r=e.files[0];if(!this.ALLOWED_FILE_TYPES.includes(r.type)){this.errorMessage="Invalid file type. Please upload a PNG or JPEG image.",e.value="";return}if(r.size>this.MAX_FILE_SIZE_BYTES){this.errorMessage=`File is too large. Maximum size is ${this.MAX_FILE_SIZE_BYTES/1024/1024}MB.`,e.value="";return}this.file=r,this.fileName=this.file.name;let i=new FileReader;i.onload=()=>{this.imagePreviewUrl=i.result},i.readAsDataURL(r),this.cdr.markForCheck()}async extractTextFromImage(){if(!this.file){this.errorMessage="Please select a file first.";return}this.isLoading=!0,this.errorMessage=null;try{let{base64:t,mimeType:e}=await this.convertToBase64(this.file),{data:r,error:i}=await this.supabase.callEdgeFunction("trade-chart-extract-gemini",{imageData:t,mimeType:e});if(i){this.errorMessage="Failed to extract data from the image. Please try again.";return}this.extractTradeData.emit(JSON.parse(r))}catch{this.errorMessage="An unexpected error occurred while processing the image.",this.cdr.markForCheck()}finally{this.isLoading=!1,this.cdr.markForCheck()}}convertToBase64(t){return new Promise((e,r)=>{let i=new FileReader;i.readAsDataURL(t),i.onload=()=>{let s=i.result.split(",");if(s.length!==2){r(new Error("Invalid Base64 string format"));return}let a=s[1],l=t.type;e({base64:a,mimeType:l})},i.onerror=o=>r(o)})}static \u0275fac=function(e){return new(e||n)(E(fi),E(xe))};static \u0275cmp=F({type:n,selectors:[["app-chart-upload"]],outputs:{extractTradeData:"extractTradeData"},decls:24,vars:8,consts:[["fileInput",""],[1,"card","mb-4","shadow-sm","border-primary"],[1,"card-header","bg-primary","text-white"],[1,"mb-0"],[1,"bi","bi-image","me-2"],[1,"card-body"],[1,"mb-3","text-muted"],[1,"border","rounded","border-dashed","p-4","text-center","bg-light"],["type","file","accept","image/png, image/jpeg","hidden","",3,"change","disabled"],[1,"mb-2"],[1,"bi","bi-cloud-upload","display-4","text-primary"],[1,"btn","btn-outline-primary",3,"click","disabled"],[1,"text-muted","mt-2"],["class","mt-3 fw-bold",4,"ngIf"],["class","mt-3",4,"ngIf"],["class","alert alert-danger mt-3","role","alert",4,"ngIf"],[1,"text-end","mt-3"],[1,"btn","btn-success",3,"click","disabled"],[4,"ngIf"],[1,"mt-3","fw-bold"],[1,"mt-3"],["alt","Image Preview",1,"img-fluid","rounded","shadow-sm",2,"max-height","700px",3,"src"],["role","alert",1,"alert","alert-danger","mt-3"],[1,"bi","bi-exclamation-triangle-fill","me-2"],[1,"bi","bi-magic","me-2"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-2"]],template:function(e,r){if(e&1){let i=oe();d(0,"div",1)(1,"div",2)(2,"h5",3),x(3,"i",4),f(4,"Chart Image Analysis "),u()(),d(5,"div",5)(6,"div",6),f(7," Upload your analyzed chart image and let AI automatically fill your trade fields "),u(),d(8,"div",7)(9,"input",8,0),C("change",function(s){return D(i),I(r.onFileSelected(s))}),u(),d(11,"div",9),x(12,"i",10),u(),d(13,"button",11),C("click",function(){D(i);let s=Yn(10);return I(s.click())}),f(14," Upload Chart Image "),u(),d(15,"div",12),f(16,"Support for PNG, JPG, JPEG files up to 10MB"),u(),M(17,T2,2,1,"div",13)(18,M2,2,1,"div",14),u(),M(19,A2,3,1,"div",15),d(20,"div",16)(21,"button",17),C("click",function(){return D(i),I(r.extractTextFromImage())}),M(22,k2,3,0,"span",18)(23,N2,3,0,"span",18),u()()()()}e&2&&(m(9),y("disabled",r.isLoading),m(4),y("disabled",r.isLoading),m(4),y("ngIf",r.fileName),m(),y("ngIf",r.imagePreviewUrl),m(),y("ngIf",r.errorMessage),m(2),y("disabled",!r.file||r.isLoading),m(),y("ngIf",!r.isLoading),m(),y("ngIf",r.isLoading))},dependencies:[B,re,ut],encapsulation:2})};function P2(n,t){if(n&1&&(d(0,"div",1)(1,"div",2)(2,"h5",3),x(3,"i",4),f(4,"Risk Management "),u()(),d(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8),f(9,"Risk % per Trade"),u(),d(10,"div",9),f(11),u()(),d(12,"div",7)(13,"div",8),f(14,"Risk $ per Trade"),u(),d(15,"div",9),f(16),u()(),d(17,"div",7)(18,"div",8),f(19,"Reward:Risk Ratio"),u(),d(20,"div",9),f(21),u()()(),d(22,"div",10),f(23,"Auto-calculated based on your inputs. Not stored to the database."),u()()()),n&2){let e=_();m(11),U("",e.riskPercent.toFixed(2),"%"),m(5),U("$",e.riskDollar.toFixed(2),""),m(5),P(e.rrRatio)}}var Zd=class n{entryPrice=0;stopLoss=0;takeProfit=0;lotSize=.01;metrics;get riskDollar(){return Math.abs(this.entryPrice-this.stopLoss)*this.lotSize*1e5}get riskPercent(){return this.entryPrice?Math.abs((this.entryPrice-this.stopLoss)/this.entryPrice)*100:0}get rrRatio(){let t=Math.abs(this.entryPrice-this.stopLoss),e=Math.abs(this.takeProfit-this.entryPrice);return t?`${(e/t).toFixed(2)}:1`:"0:1"}get hasAllInputs(){return this.entryPrice!==0&&this.stopLoss!==0&&this.takeProfit!==0&&this.lotSize!==0}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=F({type:n,selectors:[["app-risk-summary"]],inputs:{entryPrice:"entryPrice",stopLoss:"stopLoss",takeProfit:"takeProfit",lotSize:"lotSize",metrics:"metrics"},decls:1,vars:1,consts:[["class","card shadow-sm mb-4",4,"ngIf"],[1,"card","shadow-sm","mb-4"],[1,"card-header","bg-danger","bg-opacity-10","border-danger"],[1,"mb-0","text-danger"],[1,"bi","bi-exclamation-triangle","me-2"],[1,"card-body"],[1,"row","text-center"],[1,"col-md-4"],[1,"fw-bold","text-muted"],[1,"fs-5"],[1,"text-muted","small","mt-2"]],template:function(e,r){e&1&&M(0,P2,24,3,"div",0),e&2&&y("ngIf",r.hasAllInputs)},dependencies:[B,re],encapsulation:2})};var xs=class n{constructor(t){this.supabaseService=t;this.supabase=this.supabaseService.GetClient()}supabase;ngOnInit(){}async addTradeLog(t,e){let r=this.supabaseService.user();if(!r)throw new Error("User not authenticated");t.userid=r.id;let{data:i,error:o}=await this.supabase.from(e).insert([t]);if(o)throw console.error("Error inserting trade log: ",o),o;return typeof window<"u"&&sessionStorage.setItem(`${e}_refresh`,"yes"),i}async getTradeLogs(t){let e=this.supabaseService.user();if(!e)throw new Error("User not authenticated");let r=!1,i=null;if(typeof window<"u"){r=sessionStorage.getItem(`${t}_refresh`)==="yes";let a=sessionStorage.getItem(t);if(a)try{i=JSON.parse(a)}catch(l){console.error("Error parsing cached trade logs:",l),i=null}}if(!r&&i)return i;let{data:o,error:s}=await this.supabase.from(t).select("*").eq("userid",e.id);if(s)throw console.error("Error fetching trade logs:",s),s;return typeof window<"u"&&(sessionStorage.setItem(t,JSON.stringify(o)),sessionStorage.removeItem(`${t}_refresh`)),o}async getTradeLogsOfSelectedAccount(t,e){let r=this.supabaseService.user();if(!r)throw new Error("User not authenticated");let i=`${t}_${e}`,o=`${i}_refresh`,s=!1,a=null;if(typeof window<"u"){s=sessionStorage.getItem(o)==="yes";let p=sessionStorage.getItem(i);if(p)try{a=JSON.parse(p)}catch(h){console.error("Error parsing cached trade logs:",h),a=null}}if(!s&&a)return a;let{data:l,error:c}=await this.supabase.from(t).select("*").eq("userid",r.id).eq("trade_account_id",e);if(c)throw console.error("Error fetching trade logs:",c),c;return typeof window<"u"&&(sessionStorage.setItem(i,JSON.stringify(l)),sessionStorage.removeItem(o)),l}async addTradeLogOfSelectedAccount(t,e,r){let i=this.supabaseService.user();if(!i)throw new Error("User not authenticated");t.userid=i.id;let{data:o,error:s}=await this.supabase.from(e).insert([t]);if(s)throw console.error("Error inserting trade log: ",s),s;return typeof window<"u"&&sessionStorage.setItem(`${e}_${r}_refresh`,"yes"),o}async updateTradeLogOfSelectedAccount(t,e,r){if(!this.supabaseService.user())throw new Error("User not authenticated");let{data:o,error:s}=await this.supabase.from(e).update(t).eq("tradeid",t.tradeid);if(s)throw console.error("Error updating trade log: ",s),s;return typeof window<"u"&&sessionStorage.setItem(`${e}_${r}_refresh`,"yes"),o}async deleteTradeLogOfSelectedAccount(t,e,r){if(!this.supabaseService.user())throw new Error("User not authenticated");let{data:o,error:s}=await this.supabase.from(e).delete().eq("tradeid",t);if(s)throw console.error("Error deleting trade log: ",s),s;return typeof window<"u"&&sessionStorage.setItem(`${e}_${r}_refresh`,"yes"),o}async updateTradeLog(t,e){if(!this.supabaseService.user())throw new Error("User not authenticated");let{data:i,error:o}=await this.supabase.from(e).update(t).eq("tradeid",t.tradeid);if(o)throw console.error("Error updating trade log: ",o),o;return typeof window<"u"&&sessionStorage.setItem(`${e}_refresh`,"yes"),i}async deleteTradeLog(t,e){if(!this.supabaseService.user())throw new Error("User not authenticated");let{data:i,error:o}=await this.supabase.from(e).delete().eq("tradeid",t);if(o)throw console.error("Error deleting trade log: ",o),o;return typeof window<"u"&&sessionStorage.setItem(`${e}_refresh`,"yes"),i}async canLogTrade(){if(this.supabaseService.user()?.id===null)throw new Error("User not authenticated");let{data:e,error:r}=await this.supabase.rpc("can_log_trade");return!r&&e===!0}static \u0275fac=function(e){return new(e||n)(R(Se))};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})};function O2(n,t){if(n&1&&x(0,"app-profit-analysis",14),n&2){let e=_();y("data",e.aggregatedProfitData())}}function R2(n,t){if(n&1&&x(0,"app-emotional-analysis",15),n&2){let e=_();y("formGroup",e.emotionBeforeGroup)("showBias",!0)}}function F2(n,t){if(n&1&&x(0,"app-emotional-analysis",16),n&2){let e=_();y("formGroup",e.emotionAfterGroup)}}var Yd=class n{constructor(t,e,r){this.supabase=t;this.supabaseTradeService=e;this.cdr=r;Ko(()=>{this.tradeData&&(this.tradeForm().patchValue(z(N({},this.tradeData),{tradeid:this.tradeData.tradeid,planned_trade:this.tradeData.planned_trade?.[0]||{},executing_trade:this.tradeData.executing_trades?.[0]||{}})),this.mode==="complete"&&this.tradeForm().patchValue({trade_status:"Completed"}))})}fb=S(Sn);tradeFormService=S(Qd);mode="create";tradeData=null;tradeAccountId=null;formSubmitted=new ve;cancel=new ve;tradeForm=Q(this.createForm());tradeStatus=Le(()=>this.tradeForm().get("trade_status")?.value);aggregatedProfitData=Le(()=>{let t=this.tradeForm().get("executing_trade")?.value;return this.tradeFormService.aggregateProfit([t])});riskMetrics=Le(()=>this.calculateRiskMetrics(this.tradeForm().get("planned_trade")?.value));createForm(){return this.fb.group({tradeid:[""],userid:[""],trade_status:["Planned",he.required],trade_symbol:["",he.required],trade_analysis:["",[he.minLength(1)]],trade_instrument:["",he.required],type_of_order:["",he.required],market_condition:["",he.required],strategy_name:["",he.required],entry_criteria:["",[he.minLength(1)]],exit_criteria:["",[he.minLength(1)]],planned_trade:this.fb.group({trade_direction:["Long"],entry_price:[0],lot_size:[.01],stop_loss_price:[0],take_profit_price:[0]}),executing_trade:this.fb.group({trade_direction:["Long"],entry_price:[0],lot_size:[.01],stop_loss_price:[0],take_profit_price:[0],exit_price:[0],entry_time:[""],exit_time:[""],exit:[""]}),emotion_before:this.fb.group({emotional_state:[""],potential_bisa:[""],trade_confidence:[""],reflection:[""]}),emotion_after:this.fb.group({emotional_state:[""],trade_confidence:[""],reflection:[""]}),notes:[""]})}async onSubmit(){if(this.tradeForm().valid){let t=this.tradeForm(),e=t.get("tradeid")?.value;if(this.mode==="create")(!e||typeof e!="string"||e.trim()==="")&&(e=Pv(),t.patchValue({tradeid:e}));else if(!e||typeof e!="string"||e.trim()===""){console.error("Missing tradeid for edit/complete mode!");return}let r=this.supabase.user()?.id;t.patchValue({trade_account_id:this.tradeAccountId,updated_time:new Date().toISOString()});let i={tradeid:e,userid:r,trade_account_id:this.tradeAccountId,trade_symbol:t.get("trade_symbol")?.value,trade_analysis:t.get("trade_analysis")?.value,trade_instrument:t.get("trade_instrument")?.value,type_of_order:t.get("type_of_order")?.value,market_condition:t.get("market_condition")?.value,trade_status:t.get("trade_status")?.value,strategy_name:t.get("strategy_name")?.value,entry_criteria:t.get("entry_criteria")?.value,exit_criteria:t.get("exit_criteria")?.value,planned_trade:[t.get("planned_trade")?.value],executing_trades:[t.get("executing_trade")?.value],planned_profit:null,realized_profit:null,unrealized_profit:null,emotion_before:t.get("emotion_before")?.value,emotion_after:t.get("emotion_after")?.value,notes:t.get("notes")?.value,updated_time:new Date().toISOString()};try{this.mode==="create"?(console.log(i),await this.supabaseTradeService.addTradeLogOfSelectedAccount(i,"tradejournal",this.tradeAccountId)):["edit","complete"].includes(this.mode)&&await this.supabaseTradeService.updateTradeLogOfSelectedAccount(i,"tradejournal",this.tradeAccountId),this.formSubmitted.emit(),this.cdr.markForCheck()}catch(o){console.error("Error submitting trade:",o)}}else{let t=this.tradeForm();this.logInvalidControls(t),console.log("Invalid form")}}logInvalidControls(t,e=""){Object.keys(t.controls).forEach(r=>{let i=t.get(r),o=e?`${e}.${r}`:r;i instanceof Ss?this.logInvalidControls(i,o):i&&i.invalid&&console.warn(`Invalid control: ${o}`,i.errors)})}onCancel(){this.cancel.emit()}calculateRiskMetrics(t){let e=t?.entry_price||0,r=t?.stop_loss_price||0,i=t?.lot_size||0,o=Math.abs(e-r),s=o*i,a=e?o/e*100:0;return{riskPerLot:o,totalRisk:s,riskPercent:+a.toFixed(2)}}get tradeStatusControl(){return this.tradeForm().get("trade_status")}get notesControl(){return this.tradeForm().get("notes")}get emotionBeforeGroup(){return this.tradeForm().get("emotion_before")}get emotionAfterGroup(){return this.tradeForm().get("emotion_after")}get plannedTradeGroup(){return this.tradeForm().get("planned_trade")}get executingTradeGroup(){return this.tradeForm().get("executing_trade")}applyExtractedChartData(t){let e={};t.trade_status&&(e.trade_status=t.trade_status),t.trade_symbol&&(e.trade_symbol=t.trade_symbol),t.symbol&&!t.trade_symbol&&(e.trade_symbol=t.symbol),t.trade_analysis&&(e.trade_analysis=t.trade_analysis),t.trade_instrument&&(e.trade_instrument=t.trade_instrument),t.type_of_order&&(e.type_of_order=t.type_of_order),t.market_condition&&(e.market_condition=t.market_condition),t.strategy_name&&(e.strategy_name=t.strategy_name),t.entry_criteria&&(e.entry_criteria=t.entry_criteria),t.exit_criteria&&(e.exit_criteria=t.exit_criteria),t.planned_trade&&(e.planned_trade=t.planned_trade),t.executing_trade&&(e.executing_trade=t.executing_trade),t.emotion_before&&(e.emotion_before=t.emotion_before),t.emotion_after&&(e.emotion_after=t.emotion_after),t.notes&&(e.notes=t.notes),this.tradeForm().patchValue(e)}static \u0275fac=function(e){return new(e||n)(E(Se),E(xs),E(xe))};static \u0275cmp=F({type:n,selectors:[["app-individual-trade"]],inputs:{mode:"mode",tradeData:"tradeData",tradeAccountId:"tradeAccountId"},outputs:{formSubmitted:"formSubmitted",cancel:"cancel"},decls:17,vars:13,consts:[[1,"container-fluid"],[1,"mb-4"],[3,"control","disabled"],[3,"extractTradeData"],[3,"formGroup","tradeStatus","plannedTradeGroup","executingTradeGroup"],[3,"formGroup"],[3,"metrics"],[3,"data",4,"ngIf"],["label","Pre-Trade",3,"formGroup","showBias",4,"ngIf"],["label","Post-Trade",3,"formGroup",4,"ngIf"],[3,"control"],[1,"d-flex","justify-content-end","mt-4","border-top","pt-3"],["type","button",1,"btn","btn-primary","me-2",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"],[3,"data"],["label","Pre-Trade",3,"formGroup","showBias"],["label","Post-Trade",3,"formGroup"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"h1",1),f(2,"Add Trade"),u(),x(3,"app-trade-status-selector",2),d(4,"app-chart-upload",3),C("extractTradeData",function(o){return r.applyExtractedChartData(o)}),u(),x(5,"app-trade-setup",4)(6,"app-trade-strategy",5)(7,"app-risk-summary",6),M(8,O2,1,1,"app-profit-analysis",7)(9,R2,1,2,"app-emotional-analysis",8)(10,F2,1,1,"app-emotional-analysis",9),x(11,"app-notes",10),d(12,"div",11)(13,"button",12),C("click",function(){return r.onSubmit()}),f(14,"Save"),u(),d(15,"button",13),C("click",function(){return r.onCancel()}),f(16),u()()()),e&2&&(m(3),y("control",r.tradeStatusControl)("disabled",r.mode==="view"),m(2),y("formGroup",r.tradeForm())("tradeStatus",r.tradeStatusControl.value)("plannedTradeGroup",r.plannedTradeGroup)("executingTradeGroup",r.executingTradeGroup),m(),y("formGroup",r.tradeForm()),m(),y("metrics",r.riskMetrics()),m(),y("ngIf",r.tradeStatusControl.value==="Completed"),m(),y("ngIf",r.tradeStatusControl.value==="Planned"),m(),y("ngIf",r.tradeStatusControl.value!=="Planned"),m(),y("control",r.notesControl),m(5),U(" ",r.mode==="view"?"Close":"Cancel"," "))},dependencies:[B,re,Me,Qe,$e,$d,Hd,zd,Gd,qd,Wd,Kd,Zd],encapsulation:2})};function L2(n,t){if(n&1&&(d(0,"div",14),f(1),u()),n&2){let e=_();m(),P(e.actionSuccess)}}function V2(n,t){if(n&1&&(d(0,"div",15),f(1),u()),n&2){let e=_();m(),P(e.actionError)}}function j2(n,t){if(n&1){let e=oe();d(0,"li",16)(1,"div",17)(2,"i",18),C("click",function(){let i=D(e).$implicit,o=_();return I(o.onRowClick(i))}),u(),d(3,"div",19),C("click",function(){let i=D(e).$implicit,o=_();return I(o.onRowClick(i))}),d(4,"h5",20),f(5),u(),d(6,"span",21)(7,"span",22),f(8),u(),f(9," | "),d(10,"span",22),f(11),u(),f(12," | "),d(13,"span",22),f(14),at(15,"date"),u()()(),d(16,"div",23),C("click",function(){let i=D(e).$implicit,o=_();return I(o.deleteAccount(i.account_id))}),x(17,"i",24),u()()()}if(n&2){let e=t.$implicit;m(5),P(e.account_name),m(3),U("Broker: ",e.broker_name,""),m(3),ym("Balance: ",e.balance," ",e.currency,""),m(3),U("Created At: ",lt(15,5,e.created_at,"y, MMMM, d h:mm a"),"")}}function U2(n,t){if(n&1&&(d(0,"div",15),f(1),u()),n&2){let e=_(2);m(),P(e.formError)}}function B2(n,t){if(n&1){let e=oe();d(0,"div",25),C("click",function(i){D(e);let o=_();return I(o.closeFormOnOutside(i))})("keydown.escape",function(){D(e);let i=_();return I(i.toggleForm())}),d(1,"div",26),C("click",function(i){return D(e),I(i.stopPropagation())}),d(2,"nav",27)(3,"ol",28)(4,"li",3)(5,"a",4),f(6,"Dashboard"),u()(),d(7,"li",3)(8,"a",29),C("click",function(i){D(e);let o=_();return I(o.closeFormOnOutside(i))}),f(9,"Trading Accounts"),u()(),d(10,"li",5),f(11,"Create Manual Account"),u()()(),d(12,"h4",30),f(13,"Create Manual Account"),u(),d(14,"p",31),f(15,"Set up a manual trading account to track your trades"),u(),d(16,"form",32),C("ngSubmit",function(){D(e);let i=_();return I(i.submitForm())}),d(17,"div",33)(18,"label",34),f(19,"Account Name"),u(),x(20,"input",35),u(),d(21,"div",33)(22,"label",34),f(23,"Broker Name"),u(),x(24,"input",36),u(),d(25,"div",33)(26,"label",34),f(27,"Account Type"),u(),x(28,"input",37),u(),d(29,"div",33)(30,"label",34),f(31,"Currency"),u(),x(32,"input",38),u(),d(33,"div",33)(34,"label",34),f(35,"Initial Balance"),u(),x(36,"input",39),u(),d(37,"div",33)(38,"label",34),f(39,"Account Notes (Optional)"),u(),x(40,"textarea",40),u(),d(41,"h5",8),f(42,"Trading Preferences"),u(),d(43,"div",41),x(44,"input",42),d(45,"label",43),f(46,"Track P&L"),u(),d(47,"small",44),f(48,"Enable profit and loss tracking for this account"),u()(),d(49,"div",41),x(50,"input",45),d(51,"label",46),f(52,"Include in Analytics"),u(),d(53,"small",44),f(54,"Include this account in overall performance metrics"),u()(),M(55,U2,2,1,"div",10),d(56,"div",47)(57,"button",48),C("click",function(){D(e);let i=_();return I(i.toggleForm())}),f(58,"Cancel"),u(),d(59,"button",49),f(60,"Create Account"),u()()()()()}if(n&2){let e=_();m(16),y("formGroup",e.tradeAccountForm),m(39),y("ngIf",e.formError)}}function $2(n,t){if(n&1){let e=oe();d(0,"div",25),C("click",function(){D(e);let i=_();return I(i.cancelDelete())})("keydown.escape",function(){D(e);let i=_();return I(i.cancelDelete())}),d(1,"div",26),C("click",function(i){return D(e),I(i.stopPropagation())}),d(2,"h5",33),f(3,"Confirm Deletion"),u(),d(4,"p"),f(5,"Are you sure you want to delete this trading account and all its associated data?"),u(),d(6,"div",47)(7,"button",50),C("click",function(){D(e);let i=_();return I(i.cancelDelete())}),f(8,"Cancel"),u(),d(9,"button",7),C("click",function(){D(e);let i=_();return I(i.confirmDelete())}),f(10,"Delete"),u()()()()}}var Jd=class n{constructor(t,e,r,i){this.fb=t;this.supabaseService=e;this.supabaseAccountService=r;this.cdr=i;this.tradeAccountForm=this.fb.group({account_name:["",he.required],broker_name:[""],account_type:[""],currency:["USD"],balance:[0,he.min(0)],track_pl:[!1],include_in_analytics:[!1]})}tradeAccounts=[];showForm=!1;tradeAccountForm;formError=null;actionError=null;actionSuccess=null;selectedAccountId=null;showDeleteConfirm=!1;pendingDeleteAccountId=null;funMaterialIcons=["movie","music_note","videogame_asset","theater_comedy","sports_esports","fastfood","local_cafe","restaurant_menu","icecream","emoji_food_beverage","flight_takeoff","directions_car","hiking","beach_access","camping","smartphone","computer","memory","developer_mode","settings","mood","sentiment_satisfied","sentiment_very_dissatisfied","celebration","favorite","auto_awesome","nightlight","stars","magic_wand","castle"];ngOnInit(){this.loadAccounts()}async loadAccounts(){try{this.tradeAccounts=await this.supabaseAccountService.getUserTradeAccounts()}catch{this.actionError="Failed to load accounts. Please try again."}finally{this.cdr.markForCheck()}}async onRowClick(t){this.selectedAccountId=t.account_id,this.tradeAccountForm.patchValue({account_name:t.account_name,broker_name:t.broker_name,account_type:t.account_type,currency:t.currency,balance:t.balance,track_pl:t.metadata?.track_pl||!1,include_in_analytics:t.metadata?.include_in_analytics||!1}),this.showForm=!0}toggleForm(){this.showForm=!this.showForm,this.formError=null,this.actionSuccess=null,this.actionError=null,this.selectedAccountId=null,this.showForm||this.tradeAccountForm.reset({currency:"USD",balance:0})}async submitForm(){if(this.formError="",this.tradeAccountForm.valid){let t=this.tradeAccountForm.value;this.selectedAccountId?await this.supabaseAccountService.editTradeAccount(this.selectedAccountId,t)?(this.actionSuccess="Account updated successfully",this.loadAccounts(),this.toggleForm()):this.formError="Failed to update account":await this.supabaseAccountService.addTradeAccount(t)?(this.actionSuccess="Account added successfully",this.loadAccounts(),this.toggleForm()):this.formError="Failed to add account"}this.cdr.markForCheck()}async deleteAccount(t){this.showDeleteConfirm=!0,this.pendingDeleteAccountId=t}confirmDelete(){this.pendingDeleteAccountId&&this.performAccountDeletion(this.pendingDeleteAccountId),this.showDeleteConfirm=!1,this.pendingDeleteAccountId=null}cancelDelete(){this.showDeleteConfirm=!1,this.pendingDeleteAccountId=null}async performAccountDeletion(t){this.actionError=null,this.actionSuccess=null;try{await this.supabaseAccountService.removeTradeAccount(t)?(this.loadAccounts(),this.actionSuccess="Account deleted successfully."):this.actionError="Failed to delete account."}catch{this.actionError="An unexpected error occurred while deleting."}finally{this.cdr.markForCheck(),setTimeout(()=>{this.actionSuccess="",this.cdr.markForCheck()},5e3)}}handleEscape(t){this.showForm&&this.toggleForm()}closeFormOnOutside(t){t.target===t.currentTarget&&this.toggleForm()}static \u0275fac=function(e){return new(e||n)(E(Sn),E(xs),E(Dn),E(xe))};static \u0275cmp=F({type:n,selectors:[["app-tradeaccountmanage"]],hostBindings:function(e,r){e&1&&C("keydown.escape",function(o){return r.handleEscape(o)},!1,Ib)},decls:23,vars:5,consts:[[1,"container","mt-4"],["aria-label","breadcrumb",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/home",1,"text-decoration-none"],["aria-current","page",1,"breadcrumb-item","active"],[1,"d-flex","justify-content-between","align-items-center","mt-4"],[1,"btn","btn-tr",3,"click"],[1,"mt-4"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"list-group"],["class","list-group-item bg-transparent",4,"ngFor","ngForOf"],["class","overlay","tabindex","0",3,"click","keydown.escape",4,"ngIf"],[1,"alert","alert-success"],[1,"alert","alert-danger"],[1,"list-group-item","bg-transparent"],[1,"d-flex","align-items-center"],[1,"logo-circle","bi","bi-star-fill","text-primary",2,"font-size","2rem",3,"click"],[1,"ms-3",3,"click"],[1,"mt-2"],[1,"d-block","row","text-muted"],[1,"col-4"],["title","Delete Account",1,"delete-button","justify-content-end",3,"click"],[1,"bi","bi-trash"],["tabindex","0",1,"overlay",3,"click","keydown.escape"],[1,"modal-card",3,"click"],["aria-label","breadcrumb"],[1,"breadcrumb","small"],[3,"click"],[1,"mb-1"],[1,"text-muted","mb-3"],[3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"form-label"],["type","text","formControlName","account_name","placeholder","e.g., My Futures Account",1,"form-control"],["type","text","formControlName","broker_name","placeholder","e.g., NinjaTrader, TastyWorks",1,"form-control"],["type","text","formControlName","account_type","placeholder","e.g., Margin, Cash",1,"form-control"],["type","text","formControlName","currency","placeholder","USD",1,"form-control"],["type","number","formControlName","balance",1,"form-control"],["rows","3","placeholder","Add any additional information about this account","disabled","",1,"form-control"],[1,"form-check","form-switch","mb-2"],["type","checkbox","formControlName","track_pl","id","track_pl",1,"form-check-input"],["for","track_pl",1,"form-check-label"],[1,"text-muted","d-block","ms-4"],["type","checkbox","formControlName","include_in_analytics","id","include_in_analytics",1,"form-check-input"],["for","include_in_analytics",1,"form-check-label"],[1,"d-flex","justify-content-end","gap-2","mt-3"],["type","button",1,"btn","btn-tr-secondary",3,"click"],["type","submit",1,"btn","btn-tr"],[1,"btn","btn-tr-secondary",3,"click"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),f(5,"Dashboard"),u()(),d(6,"li",5),f(7,"Trading Accounts"),u()()(),d(8,"div",6)(9,"h3"),f(10,"Your Trade Accounts"),u(),d(11,"button",7),C("click",function(){return r.toggleForm()}),f(12,"Add Account"),u()(),d(13,"div",8)(14,"h5"),f(15,"Manage your trading accounts"),u()(),M(16,L2,2,1,"div",9)(17,V2,2,1,"div",10),d(18,"div",0)(19,"ul",11),M(20,j2,18,8,"li",12),u()(),M(21,B2,61,2,"div",13)(22,$2,11,0,"div",13),u()),e&2&&(m(16),y("ngIf",r.actionSuccess),m(),y("ngIf",r.actionError),m(3),y("ngForOf",r.tradeAccounts),m(),y("ngIf",r.showForm),m(),y("ngIf",r.showDeleteConfirm))},dependencies:[Me,rr,le,jn,io,me,Qe,$e,Ze,B,We,re,Yo,Et],styles:[".modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;z-index:1050}.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1050}.modal-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:2rem;width:100%;max-width:600px;max-height:90dvh;overflow-y:auto;box-shadow:0 10px 25px #00000026}.list-group-item[_ngcontent-%COMP%]{cursor:pointer}.delete-button[_ngcontent-%COMP%]{color:red;display:none;margin-left:auto}.list-group-item[_ngcontent-%COMP%]:hover   .delete-button[_ngcontent-%COMP%]{color:red;display:block}"]})};function H2(n,t){if(n&1&&x(0,"img",35),n&2){let e=_();y("src",e.currentImageUrl,pn)}}function z2(n,t){if(n&1&&x(0,"img",36),n&2){let e=_();y("src",e.previewUrl,pn)}}function G2(n,t){n&1&&(d(0,"div",14),f(1,"No new image selected"),u())}function q2(n,t){if(n&1&&(d(0,"div",23)(1,"div",37),f(2),u()()),n&2){let e=_();m(2),P(e.errorMessage)}}function W2(n,t){if(n&1&&(d(0,"button",38),f(1," Save Changes "),u()),n&2){let e=_();y("disabled",e.profileForm.invalid)}}var Xd=class n{constructor(t,e,r){this.fb=t;this.supabaseService=e;this.cdr=r;this.profileForm=this.fb.group({firstname:["",he.required],lastname:[""],email:["",[he.required,he.email]],phone:[""]})}profileForm;currentImageUrl=null;previewUrl=null;selectedFile=null;userId="";originalFormValue;formChanged=!1;errorMessage="";async ngOnInit(){await this.loadProfile(),this.trackFormChanges()}async loadProfile(){try{let{data:t,error:e}=await this.supabaseService.getProfile();if(e){this.errorMessage="Failed to load profile: "+e.message,console.error("Supabase profile load error:",e);return}t?(this.profileForm.patchValue({firstname:t.firstname,lastname:t.lastname,email:t.email,phone:t.phone}),this.originalFormValue=this.profileForm.getRawValue(),t.profile_picture_url?(this.currentImageUrl=await this.supabaseService.getCachedProfilePictureBlobUrl(t.profile_picture_url),this.previewUrl=this.currentImageUrl):(this.currentImageUrl=null,this.previewUrl=null)):(this.errorMessage="No profile data found. Please complete your profile.",console.warn("No profile data received from Supabase."))}catch(t){this.errorMessage="An unexpected error occurred while loading profile.",console.error("Error in loadProfile:",t)}finally{this.cdr.markForCheck()}}async removeProfilePicture(){try{this.errorMessage="",await this.supabaseService.deleteProfilePicture(),this.supabaseService.clearCachedProfilePictureBlobUrl(),await this.supabaseService.updateProfile({profile_picture_url:null}),this.currentImageUrl=null,this.previewUrl=null,this.selectedFile=null,this.formChanged=!0}catch(t){this.errorMessage="Failed to remove profile picture: "+(t.message||t.toString()),console.error("Error removing profile picture:",t)}finally{this.cdr.markForCheck()}}trackFormChanges(){this.profileForm.valueChanges.subscribe(()=>{this.formChanged=this.profileForm.dirty||!!this.selectedFile,this.cdr.markForCheck()})}onFileChange(t){this.errorMessage="";let e=t.target,r=e?.files?.[0];if(!r){this.selectedFile=null;return}if(!["image/jpeg","image/png","image/webp"].includes(r.type)){this.errorMessage="Only JPG, PNG, or WEBP images are allowed.",this.selectedFile=null,e.value="";return}if(r.size>1024*1024){this.errorMessage="File size must be less than 1MB.",this.selectedFile=null,e.value="";return}this.selectedFile=r,this.previewUrl&&URL.revokeObjectURL(this.previewUrl),this.previewUrl=URL.createObjectURL(r),this.formChanged=!0,this.cdr.markForCheck()}async saveChanges(){if(this.errorMessage="",!this.formChanged){this.errorMessage="No changes detected.";return}if(this.profileForm.invalid){this.errorMessage="Please correct the highlighted form errors.",this.profileForm.markAllAsTouched(),this.cdr.markForCheck();return}let t=this.originalFormValue.profile_picture_url??null;if(this.selectedFile)try{if(t=await this.supabaseService.uploadProfilePicture(this.selectedFile),!t){this.errorMessage="Failed to upload profile picture. Please try again.",console.error("Supabase uploadProfilePicture returned null filePath");return}}catch(i){this.errorMessage="Error uploading profile picture: "+(i.message||i.toString()),console.error("Error during profile picture upload:",i);return}let e=this.profileForm.getRawValue(),r={firstname:e.firstname,lastname:e.lastname,email:e.email,phone:e.phone,profile_picture_url:t,updated_at:new Date().toISOString(),preferences:{},metadata:{}};try{await this.supabaseService.updateProfile(r),t&&(this.supabaseService.clearCachedProfilePictureBlobUrl(),this.currentImageUrl=await this.supabaseService.getCachedProfilePictureBlobUrl(t),this.previewUrl=this.currentImageUrl),this.formChanged=!1,this.selectedFile=null,this.originalFormValue=this.profileForm.getRawValue(),this.errorMessage=""}catch(i){this.errorMessage="Failed to save changes: "+(i.message||i.toString()),console.error("Error during profile update:",i)}finally{this.cdr.markForCheck()}}static \u0275fac=function(e){return new(e||n)(E(Sn),E(Dn),E(xe))};static \u0275cmp=F({type:n,selectors:[["app-user-account-settings"]],decls:58,vars:6,consts:[[1,"container","mb-5"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/home"],["aria-current","page",1,"breadcrumb-item","active"],[1,"mb-2"],[1,"text-muted","mb-4"],[1,"row","g-3","mb-4"],[1,""],[1,"card","border-0","shadow-sm","p-3","h-100"],[1,"d-flex","align-items-center","mb-2"],["alt","Profile","class","rounded-circle me-2","style","width: 40px; height: 40px; object-fit: cover;",3,"src",4,"ngIf"],[1,"mb-0"],[1,"text-muted"],[1,"row","g-4",3,"ngSubmit","formGroup"],[1,"fw-bold"],[1,"col-md-6"],[1,"form-label"],["formControlName","firstname","placeholder","First name",1,"form-control"],["formControlName","lastname","placeholder","Last name",1,"form-control"],["formControlName","email","placeholder","Email","type","email",1,"form-control"],["formControlName","phone","placeholder","+1 (123) 456-7890",1,"form-control"],[1,"col-12"],[1,"fw-bold","mt-3"],[1,"card","p-3","shadow-sm","border-light","bg-light-subtle"],[1,"form-label","d-block"],["alt","Preview","class","img-thumbnail","style","width: 120px;",3,"src",4,"ngIf"],["class","text-muted",4,"ngIf"],["type","file",1,"form-control","mt-2",3,"change"],[1,"mt-2","d-flex","gap-2"],["type","button",1,"btn","btn-outline-secondary","btn-sm",3,"click"],["class","col-12",4,"ngIf"],[1,"col-12","text-end"],["type","submit","class","btn btn-tr",3,"disabled",4,"ngIf"],["alt","Profile",1,"rounded-circle","me-2",2,"width","40px","height","40px","object-fit","cover",3,"src"],["alt","Preview",1,"img-thumbnail",2,"width","120px",3,"src"],[1,"alert","alert-danger"],["type","submit",1,"btn","btn-tr",3,"disabled"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),f(5,"Dashboard"),u()(),d(6,"li",5),f(7,"Account Settings"),u()()(),d(8,"h2",6),f(9,"Account Settings"),u(),d(10,"p",7),f(11,"Manage your profile, subscription, and preferences"),u(),d(12,"div",8)(13,"div",9)(14,"div",10)(15,"div",11),M(16,H2,1,1,"img",12),d(17,"h5",13),f(18,"Profile Information"),u()(),d(19,"small",14),f(20,"Update your personal details and public profile"),u()()()(),d(21,"form",15),C("ngSubmit",function(){return r.saveChanges()}),d(22,"h5",16),f(23,"Personal Information"),u(),d(24,"div",17)(25,"label",18),f(26,"First Name"),u(),x(27,"input",19),u(),d(28,"div",17)(29,"label",18),f(30,"Last Name"),u(),x(31,"input",20),u(),d(32,"div",17)(33,"label",18),f(34,"Email Address"),u(),x(35,"input",21),u(),d(36,"div",17)(37,"label",18),f(38,"Phone"),u(),x(39,"input",22),u(),d(40,"div",23)(41,"h6",24),f(42,"Profile Picture"),u(),d(43,"div",25)(44,"div",6)(45,"label",26),f(46,"Preview New Photo"),u(),M(47,z2,1,1,"img",27)(48,G2,2,0,"div",28),u(),d(49,"input",29),C("change",function(o){return r.onFileChange(o)}),u(),d(50,"small",14),f(51,"JPG, PNG or GIF. Max 1MB."),u(),d(52,"div",30)(53,"button",31),C("click",function(){return r.removeProfilePicture()}),f(54,"Remove"),u()()()(),M(55,q2,3,1,"div",32),d(56,"div",33),M(57,W2,2,1,"button",34),u()()()),e&2&&(m(16),y("ngIf",r.currentImageUrl),m(5),y("formGroup",r.profileForm),m(26),y("ngIf",r.previewUrl),m(),y("ngIf",!r.previewUrl),m(7),y("ngIf",r.errorMessage),m(2),y("ngIf",r.formChanged))},dependencies:[Me,rr,le,me,Qe,$e,Ze,B,re,Et],encapsulation:2})};var ef=class n{constructor(t){this.supabaseService=t;this.supabase=this.supabaseService.GetClient()}supabase;ngOnInit(){}async adminLoadMeditationVideos(){let{data:t,error:e}=await this.supabase.from("adminmeditationvideos").select("*").order("created_at",{ascending:!1});if(e)throw console.error("Error loading meditation videos: ",e),e;return t}async loadActiveMeditationVideos(){let{data:t,error:e}=await this.supabase.from("activemeditationvideos").select("*").order("created_at",{ascending:!1});if(e)throw console.error("Error loading meditation videos: ",e),e;return t}async addMeditationVideo(t){let{error:e}=await this.supabase.from("adminmeditationvideos").insert([{title:t.title,url:t.url,category:t.category,description:t.description,isactive:t.isactive}]);return e&&console.error("Error adding meditation video: ",e),{error:e}}async updateMeditationVideo(t){let{error:e}=await this.supabase.from("adminmeditationvideos").update({title:t.title,url:t.url,category:t.category,description:t.description,isactive:t.isactive,updated_time:t.updated_time}).eq("id",t.id);return e&&console.error("Error updating meditation video: ",e),{error:e}}static \u0275fac=function(e){return new(e||n)(R(Se))};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})};var K2=(n,t)=>({"alert-success":n,"alert-danger":t});function Z2(n,t){if(n&1&&(d(0,"div",7),f(1),u()),n&2){let e=_();y("ngClass",On(2,K2,e.messageType==="success",e.messageType==="error")),m(),U(" ",e.message," ")}}function Y2(n,t){if(n&1){let e=oe();d(0,"tr")(1,"td")(2,"input",8),ee("ngModelChange",function(i){let o=D(e).$implicit;return te(o.title,i)||(o.title=i),I(i)}),C("ngModelChange",function(){let i=D(e).$implicit,o=_();return I(o.onFieldChange(i))}),u()(),d(3,"td")(4,"input",8),ee("ngModelChange",function(i){let o=D(e).$implicit;return te(o.url,i)||(o.url=i),I(i)}),C("ngModelChange",function(){let i=D(e).$implicit,o=_();return I(o.onFieldChange(i))}),u()(),d(5,"td")(6,"input",8),ee("ngModelChange",function(i){let o=D(e).$implicit;return te(o.category,i)||(o.category=i),I(i)}),C("ngModelChange",function(){let i=D(e).$implicit,o=_();return I(o.onFieldChange(i))}),u()(),d(7,"td")(8,"textarea",8),ee("ngModelChange",function(i){let o=D(e).$implicit;return te(o.description,i)||(o.description=i),I(i)}),C("ngModelChange",function(){let i=D(e).$implicit,o=_();return I(o.onFieldChange(i))}),u()(),d(9,"td")(10,"input",9),ee("ngModelChange",function(i){let o=D(e).$implicit;return te(o.isactive,i)||(o.isactive=i),I(i)}),C("change",function(){let i=D(e).$implicit,o=_();return I(o.onFieldChange(i))}),u()(),d(11,"td"),f(12),at(13,"date"),u()()}if(n&2){let e=t.$implicit;m(2),X("ngModel",e.title),m(2),X("ngModel",e.url),m(2),X("ngModel",e.category),m(2),X("ngModel",e.description),m(2),X("ngModel",e.isactive),m(2),P(lt(13,6,e.updated_time,"short"))}}var tf=class n{constructor(t,e){this.cdr=t;this.supabaseMeditationTableService=e}videos=[];message="";messageType="success";async ngOnInit(){let t=await this.supabaseMeditationTableService.adminLoadMeditationVideos();this.videos=t.map(e=>z(N({},e),{isModified:!1})),this.cdr.markForCheck()}onFieldChange(t){t.isModified=!0}addVideo(){this.videos.push({title:"",url:"",category:"",description:"",isactive:!0,isModified:!0}),this.cdr.detectChanges()}async saveChanges(){let t=this.videos.filter(e=>e.isModified);for(let e of t){if(e.id){e.updated_time=new Date().toISOString();let{error:r}=await this.supabaseMeditationTableService.updateMeditationVideo(e);if(r)return this.showMessage("Error saving some videos","error")}else{let{error:r}=await this.supabaseMeditationTableService.addMeditationVideo(e);if(r)return this.showMessage("Error adding new video","error")}e.isModified=!1}this.showMessage("Videos saved successfully","success"),this.cdr.detectChanges()}hasChanges(){return this.videos.some(t=>t.isModified)}showMessage(t,e){this.message=t,this.messageType=e,this.cdr.markForCheck(),setTimeout(()=>{this.message="",this.cdr.markForCheck()},4e3)}static \u0275fac=function(e){return new(e||n)(E(xe),E(ef))};static \u0275cmp=F({type:n,selectors:[["app-admin-meditation-dashboard"]],decls:26,vars:3,consts:[[1,"container","mt-4","p-4"],["class","alert",3,"ngClass",4,"ngIf"],[1,"table","mt-4"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","mt-3"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-success",3,"click","disabled"],[1,"alert",3,"ngClass"],["type","text",1,"form-control",3,"ngModelChange","ngModel"],["type","checkbox",1,"form-check-input",3,"ngModelChange","change","ngModel"]],template:function(e,r){e&1&&(d(0,"div",0),M(1,Z2,2,5,"div",1),d(2,"h2"),f(3,"Meditation Video Admin Dashboard"),u(),d(4,"table",2)(5,"thead")(6,"tr")(7,"th"),f(8,"Title"),u(),d(9,"th"),f(10,"URL"),u(),d(11,"th"),f(12,"Category"),u(),d(13,"th"),f(14,"Description"),u(),d(15,"th"),f(16,"Active"),u(),d(17,"th"),f(18,"Last Updated"),u()()(),d(19,"tbody"),M(20,Y2,14,9,"tr",3),u()(),d(21,"div",4)(22,"button",5),C("click",function(){return r.addVideo()}),f(23,"Add Video"),u(),d(24,"button",6),C("click",function(){return r.saveChanges()}),f(25,"Save Changes"),u()()()),e&2&&(m(),y("ngIf",r.message),m(19),y("ngForOf",r.videos),m(4),y("disabled",!r.hasChanges()))},dependencies:[B,vn,We,re,Yo,ut,le,io,me,mt],encapsulation:2})};var J2=["conversationContainer"],X2=(n,t)=>({"bot-message":n,"user-message":t});function eL(n,t){if(n&1){let e=oe();d(0,"div",14),C("click",function(){let i=D(e).$implicit,o=_();return I(o.selectDate(i.date))}),d(1,"div",15),f(2),u(),d(3,"div",16),f(4),u()()}if(n&2){let e=t.$implicit,r=_();J("active",r.isDateSelected(e.date))("today",r.isToday(e.date)),m(2),P(e.dayName),m(2),P(e.dayNumber)}}function tL(n,t){n&1&&(d(0,"div",17)(1,"div",18)(2,"span",19),f(3,"Loading..."),u()()())}function nL(n,t){if(n&1&&(d(0,"div",29),f(1),u()),n&2){let e=t.$implicit;y("ngClass",On(2,X2,e.sender==="bot",e.sender==="user")),m(),U(" ",e.text," ")}}function rL(n,t){n&1&&(d(0,"span"),f(1,"Continue"),u())}function iL(n,t){n&1&&x(0,"span",30)}function oL(n,t){if(n&1){let e=oe();d(0,"div")(1,"div",20),x(2,"div",21),u(),d(3,"div",22,0),M(5,nL,2,5,"div",23),u(),d(6,"div",24)(7,"input",25),ee("ngModelChange",function(i){D(e);let o=_();return te(o.currentInput,i)||(o.currentInput=i),I(i)}),C("keydown.enter",function(){D(e);let i=_();return I(i.submitAnswer())}),u(),d(8,"button",26),C("click",function(){D(e);let i=_();return I(i.submitAnswer())}),M(9,rL,2,0,"span",27)(10,iL,1,0,"span",28),u()()()}if(n&2){let e=_();m(2),Zn("width",e.progressPercentage()),m(3),y("ngForOf",e.conversation()),m(2),X("ngModel",e.currentInput),y("disabled",e.isLoading()),m(),y("disabled",e.isLoading()||!e.currentInput),m(),y("ngIf",!e.isLoading()),m(),y("ngIf",e.isLoading())}}function sL(n,t){if(n&1&&(d(0,"div",45)(1,"div",46)(2,"mat-icon"),f(3,"fact_check"),u(),f(4," Emotional State "),u(),d(5,"div",47)(6,"div")(7,"div"),f(8,"Patience"),u(),d(9,"div",48),f(10),u()(),d(11,"div")(12,"div"),f(13,"Confidence"),u(),d(14,"div",48),f(15),u()(),d(16,"div")(17,"div"),f(18,"Doubt"),u(),d(19,"div",48),f(20),u()()()()),n&2){let e=_().ngIf;m(10),P(e.emotionalState.Patience),m(5),P(e.emotionalState.Confidence),m(5),P(e.emotionalState.Doubt)}}function aL(n,t){if(n&1&&(d(0,"div")(1,"p"),f(2),u()()),n&2){let e=t.$implicit;m(2),P(e.category)}}function lL(n,t){if(n&1&&(d(0,"div",45)(1,"div",46)(2,"mat-icon"),f(3,"tips_and_updates"),u(),f(4," Behavior Patterns "),u(),M(5,aL,3,1,"div",49),u()),n&2){let e=_().ngIf;m(5),y("ngForOf",e.behaviorPattern)}}function cL(n,t){if(n&1&&(d(0,"div",50)(1,"div",46)(2,"mat-icon"),f(3,"warning_amber"),u(),f(4," Immediate Action "),u(),d(5,"p"),f(6),u()()),n&2){let e=_().ngIf;m(6),P(e.actionableitem)}}function uL(n,t){if(n&1&&(d(0,"div",53)(1,"div",54),f(2),u(),d(3,"div",55),x(4,"div",56),u(),d(5,"div",57),f(6),u()()),n&2){let e=t.$implicit;m(2),P(e.emotion),m(2),Zn("width",e.percentage)("background-color",e.color||"#748ffc"),m(2),P(e.percentage)}}function dL(n,t){if(n&1&&(d(0,"div",51)(1,"div",46)(2,"mat-icon"),f(3,"bar_chart"),u(),f(4," Emotional State Summary "),u(),M(5,uL,7,6,"div",52),u()),n&2){let e=_().ngIf;m(5),y("ngForOf",e.emotion)}}function fL(n,t){if(n&1&&(d(0,"li"),f(1),u()),n&2){let e=t.$implicit;m(),P(e)}}function pL(n,t){if(n&1&&(d(0,"div",45)(1,"div",46)(2,"mat-icon"),f(3,"psychology"),u(),f(4," AI Recommendations "),u(),d(5,"ul",58),M(6,fL,2,1,"li",49),u()()),n&2){let e=_().ngIf;m(6),y("ngForOf",e.recommendation)}}function hL(n,t){if(n&1){let e=oe();Yt(0),d(1,"div",33)(2,"div",34)(3,"mat-icon"),f(4,"task_alt"),u()(),d(5,"h2"),f(6,"Thank you for sharing!"),u(),d(7,"p",5),f(8,"Here are your personalized insights based on our conversation"),u()(),d(9,"div",35)(10,"div",36)(11,"div",37)(12,"mat-icon"),f(13,"track_changes"),u(),f(14," Trading Readiness "),u(),d(15,"div",38),f(16),u()(),M(17,sL,21,3,"div",39)(18,lL,6,1,"div",39)(19,cL,7,1,"div",40)(20,dL,6,1,"div",41)(21,pL,7,1,"div",39),u(),d(22,"div",42)(23,"button",43),f(24,"View Analytics"),u(),d(25,"button",44),C("click",function(){D(e);let i=_(2);return I(i.startNewCheckIn())}),f(26,"New Check-In"),u()(),Jt()}if(n&2){let e=t.ngIf;m(16),P(e.readiness),m(),y("ngIf",e.emotionalState),m(),y("ngIf",e.behaviorPattern==null?null:e.behaviorPattern.length),m(),y("ngIf",e.actionableitem),m(),y("ngIf",e.emotion==null?null:e.emotion.length),m(),y("ngIf",e.recommendation==null?null:e.recommendation.length)}}function mL(n,t){n&1&&(d(0,"div",59)(1,"h3"),f(2,"No Check-in Data"),u(),d(3,"p"),f(4,"There is no analysis available for the selected date."),u()())}function gL(n,t){if(n&1&&(d(0,"div",31),M(1,hL,27,6,"ng-container",32)(2,mL,5,0,"ng-template",null,1,Wo),u()),n&2){let e=Yn(3),r=_();m(),y("ngIf",r.analysisResult())("ngIfElse",e)}}function vL(n,t){if(n&1&&(d(0,"div",59)(1,"h3"),f(2,"Check-in Not Available Yet"),u(),d(3,"p"),f(4),u()()),n&2){let e=_();m(4),U("Please come back on this date to complete your check-in. ",e.futureMessage(),"")}}var nf=class n{constructor(t,e,r){this.supabaseEmotionService=t;this.supabaseFunctionService=e;this.supabaseService=r}conversationContainer;viewMode=Q("loading");weekDates=Q([]);selectedDate=Q(new Date);futureMessage=Q("");isLoading=Q(!1);questions=Q([]);currentQuestionIndex=Q(0);conversation=Q([]);userAnswers=[];currentInput="";analysisResult=Q(null);progressPercentage=Le(()=>{let t=this.questions().length;return t===0?"0%":`${this.currentQuestionIndex()/t*100}%`});ngOnInit(){this.generateWeekDays(),this.selectDate(new Date)}scrollToBottom(){setTimeout(()=>{try{this.conversationContainer?.nativeElement&&(this.conversationContainer.nativeElement.scrollTop=this.conversationContainer.nativeElement.scrollHeight)}catch(t){console.error("Could not scroll to bottom:",t)}},0)}generateWeekDays(){let t=new Date,e=new Date(t.setDate(t.getDate()-t.getDay())),r=[];for(let i=0;i<7;i++){let o=new Date(e);o.setDate(o.getDate()+i),r.push({date:o,dayName:o.toLocaleDateString("en-US",{weekday:"short"}),dayNumber:o.getDate().toString()})}this.weekDates.set(r)}async selectDate(t){this.selectedDate.set(t),this.viewMode.set("loading"),this.analysisResult.set(null);let e=new Date;e.setHours(0,0,0,0);let r=new Date(t);r.setHours(0,0,0,0),r>e?this.handleFutureDate(r):r.getTime()===e.getTime()?await this.handleToday():await this.handlePastDate(r)}isToday(t){return new Date(t).toDateString()===new Date().toDateString()}isDateSelected(t){return new Date(t).toDateString()===new Date(this.selectedDate()).toDateString()}handleFutureDate(t){let e=new Date,r=t.getTime()-e.getTime(),i=Math.floor(r/(1e3*60*60*24)),o=Math.floor(r%(1e3*60*60*24)/(1e3*60*60));this.futureMessage.set(`Check-in will open in ${i} days and ${o} hours.`),this.viewMode.set("future")}async handleToday(){try{if(this.isLoading.set(!0),await this.supabaseEmotionService.canLoadCheckInQuestions())await this.startCheckIn();else{let e=await this.supabaseEmotionService.getEmotionCheckInResultForDate(new Date);this.analysisResult.set(e),this.viewMode.set("analysis")}}catch(t){console.error("Error handling today's check-in:",t),this.viewMode.set("analysis")}finally{this.isLoading.set(!1)}}async handlePastDate(t){this.isLoading.set(!0);let e=await this.supabaseEmotionService.getEmotionCheckInResultForDate(t);this.analysisResult.set(e),this.viewMode.set("analysis"),this.isLoading.set(!1)}async startCheckIn(){this.isLoading.set(!0),this.conversation.set([]),this.userAnswers=[],this.currentQuestionIndex.set(0);let t=await this.supabaseEmotionService.loadQuestions();this.questions.set(t),t.length>0?(this.conversation.update(e=>[...e,{sender:"bot",text:t[0].question_data.question}]),this.viewMode.set("checkin"),this.scrollToBottom()):this.viewMode.set("analysis"),this.isLoading.set(!1)}async submitAnswer(){if(!this.currentInput.trim()||this.isLoading())return;this.isLoading.set(!0);let t=this.questions()[this.currentQuestionIndex()],e=this.currentInput;this.conversation.update(r=>[...r,{sender:"user",text:e}]),this.scrollToBottom(),this.userAnswers.push({question_id:t.question_id,answer:e}),this.currentInput="",setTimeout(async()=>{let r=this.currentQuestionIndex()+1;if(r<this.questions().length){this.currentQuestionIndex.set(r);let i=this.questions()[r];this.conversation.update(o=>[...o,{sender:"bot",text:i.question_data.question}]),this.scrollToBottom(),this.isLoading.set(!1)}else await this.finalizeCheckIn()},300)}processAnalysisResponse(t){let e={};for(let r of t){let i=Object.keys(r)[0];if(!i)continue;let o=r[i];switch(i){case"emotion":e.emotion=o;break;case"behaviorPattern":e.behaviorPattern=o.map(s=>({category:s.category,icon:s.icon,color:s.Color||s.color}));break;case"recommendation":e.recommendation=o;break;case"readiness":e.readiness=o;break;case"actionableitem":e.actionableitem=o;break;case"emotionalState":e.emotionalState=o;break}}return{emotion:e.emotion||[],behaviorPattern:e.behaviorPattern||[],recommendation:e.recommendation||[],readiness:e.readiness||"N/A",actionableitem:e.actionableitem||"No specific action item.",emotionalState:e.emotionalState}}async finalizeCheckIn(){this.viewMode.set("loading");try{let t=this.userAnswers.map(a=>`Q: ${this.questions().find(c=>c.question_id===a.question_id)?.question_data.question} A:${a.answer}`).join(" "),{data:e,error:r}=await this.supabaseFunctionService.callEdgeFunction("emotion-analyst-gemini",{prompt:t});if(r)throw r;if(!e||!Array.isArray(e))throw new Error("Invalid analysis data format received from function.");let i=this.processAnalysisResponse(e),o={user_id:this.supabaseService.user()?.id,answers:this.userAnswers,analysis:i},{error:s}=await this.supabaseEmotionService.submitUserCheckIn(o);if(s)throw s;this.analysisResult.set(i),this.viewMode.set("analysis")}catch(t){console.error("Error finalizing check-in:",t),this.viewMode.set("analysis")}finally{this.isLoading.set(!1)}}startNewCheckIn(){this.selectDate(new Date)}static \u0275fac=function(e){return new(e||n)(E(Is),E(fi),E(Se))};static \u0275cmp=F({type:n,selectors:[["app-user-emotion-analysis"]],viewQuery:function(e,r){if(e&1&&vm(J2,5),e&2){let i;ru(i=iu())&&(r.conversationContainer=i.first)}},decls:14,vars:6,consts:[["conversationContainer",""],["noAnalysis",""],[1,"container-fluid"],[1,"mb-4"],[1,"h4","fw-bold"],[1,"text-muted"],[1,"date-bar"],["class","date-item",3,"active","today","click",4,"ngFor","ngForOf"],[1,"main-card"],[3,"ngSwitch"],["class","text-center p-5",4,"ngSwitchCase"],[4,"ngSwitchCase"],["class","analysis-view",4,"ngSwitchCase"],["class","message-view",4,"ngSwitchCase"],[1,"date-item",3,"click"],[1,"day-name"],[1,"day-number"],[1,"text-center","p-5"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"progress-bar-container"],[1,"progress-bar"],[1,"conversation-container"],["class","message",3,"ngClass",4,"ngFor","ngForOf"],[1,"input-area"],["type","text","placeholder","Type your response here...",1,"form-control",3,"ngModelChange","keydown.enter","ngModel","disabled"],[1,"btn","btn-primary",3,"click","disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],[1,"message",3,"ngClass"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[1,"analysis-view"],[4,"ngIf","ngIfElse"],[1,"analysis-header"],[1,"icon-wrapper"],[1,"analysis-grid"],[1,"analysis-card","readiness"],[1,"card-title","mb-0"],[1,"readiness-value"],["class","analysis-card",4,"ngIf"],["class","analysis-card bg-warning-subtle border-warning",4,"ngIf"],["class","analysis-card emotion-summary",4,"ngIf"],[1,"analysis-buttons"],[1,"btn","btn-outline-primary"],[1,"btn","btn-primary",3,"click"],[1,"analysis-card"],[1,"card-title"],[1,"emotion-state-items"],[1,"value"],[4,"ngFor","ngForOf"],[1,"analysis-card","bg-warning-subtle","border-warning"],[1,"analysis-card","emotion-summary"],["class","emotion-item",4,"ngFor","ngForOf"],[1,"emotion-item"],[1,"emotion-label"],[1,"emotion-bar-container"],[1,"emotion-bar"],[1,"emotion-percentage"],[1,"recommendation-list"],[1,"message-view"]],template:function(e,r){e&1&&(d(0,"div",2)(1,"div",3)(2,"h1",4),f(3,"Daily Emotional Check-in"),u(),d(4,"p",5),f(5,"Share how you\u2019re feeling today. This helps us provide personalized insights for your trading journey."),u()(),d(6,"div",6),M(7,eL,5,6,"div",7),u(),d(8,"div",8)(9,"div",9),M(10,tL,4,0,"div",10)(11,oL,11,8,"div",11)(12,gL,4,2,"div",12)(13,vL,5,1,"div",13),u()()()),e&2&&(m(7),y("ngForOf",r.weekDates()),m(2),y("ngSwitch",r.viewMode()),m(),y("ngSwitchCase","loading"),m(),y("ngSwitchCase","checkin"),m(),y("ngSwitchCase","analysis"),m(),y("ngSwitchCase","future"))},dependencies:[B,vn,We,re,Pm,Xw,ut,le,me,mt,bn],styles:['[_nghost-%COMP%]{display:block;max-width:800px;margin:2rem auto;padding:0 1rem;font-family:Inter,sans-serif}.date-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;background-color:#f8f9fa;border-radius:12px;padding:8px;margin-bottom:2rem}.date-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:.5rem;border-radius:8px;cursor:pointer;width:calc(100% / 7);transition:background-color .3s ease;border:2px solid transparent}.date-item[_ngcontent-%COMP%]:hover{background-color:#e9ecef}.date-item.active[_ngcontent-%COMP%]{background-color:#0d6efd;color:#fff;font-weight:700}.date-item.today[_ngcontent-%COMP%]   .day-number[_ngcontent-%COMP%]{position:relative}.date-item.today[_ngcontent-%COMP%]   .day-number[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-4px;left:50%;transform:translate(-50%);width:5px;height:5px;border-radius:50%;background-color:#0d6efd}.date-item.active.today[_ngcontent-%COMP%]   .day-number[_ngcontent-%COMP%]:after{background-color:#fff}.day-name[_ngcontent-%COMP%]{font-size:.8rem;font-weight:500}.day-number[_ngcontent-%COMP%]{font-size:1.25rem}.main-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:2rem;box-shadow:0 8px 32px #00000014}.conversation-container[_ngcontent-%COMP%]{height:400px;overflow-y:auto;padding:1rem;margin-bottom:1rem;display:flex;flex-direction:column;gap:1rem;scroll-behavior:smooth}.message[_ngcontent-%COMP%]{padding:.75rem 1.25rem;border-radius:1.25rem;max-width:75%;line-height:1.5}.bot-message[_ngcontent-%COMP%]{background-color:#f1f3f5;color:#343a40;border-bottom-left-radius:.25rem;align-self:flex-start}.user-message[_ngcontent-%COMP%]{background-color:#e7f5ff;color:#1971c2;border-bottom-right-radius:.25rem;align-self:flex-end}.input-area[_ngcontent-%COMP%]{display:flex;gap:.5rem;border-top:1px solid #e9ecef;padding-top:1rem}.input-area[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex-grow:1;border-radius:20px;border:1px solid #ced4da;padding:.5rem 1rem}.input-area[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#0d6efd;box-shadow:0 0 0 2px #0d6efd40}.progress-bar-container[_ngcontent-%COMP%]{height:8px;background-color:#e9ecef;border-radius:4px;margin-bottom:1rem}.progress-bar[_ngcontent-%COMP%]{height:100%;background-color:#0d6efd;border-radius:4px;transition:width .4s ease}.analysis-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.analysis-header[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;background-color:#e6f7ff;display:flex;align-items:center;justify-content:center;margin:0 auto 1rem;color:#1890ff}.analysis-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:2rem;width:auto;height:auto}.analysis-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:600;color:#343a40}.analysis-grid[_ngcontent-%COMP%]{display:grid;gap:1.5rem}.analysis-card[_ngcontent-%COMP%]{background-color:#f8f9fa;border:1px solid #e9ecef;padding:1.5rem;border-radius:12px}.analysis-card.readiness[_ngcontent-%COMP%]{background-color:#e7f5ff;border-color:#a5d8ff;display:flex;justify-content:space-between;align-items:center}.readiness[_ngcontent-%COMP%]   .readiness-value[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#1971c2}.card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:1rem;font-weight:600;color:#495057}.emotion-state-items[_ngcontent-%COMP%]{display:flex;justify-content:space-around;text-align:center}.emotion-state-items[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:600;font-size:1.2rem}.emotion-summary[_ngcontent-%COMP%]   .emotion-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:.75rem}.emotion-summary[_ngcontent-%COMP%]   .emotion-label[_ngcontent-%COMP%]{width:100px}.emotion-summary[_ngcontent-%COMP%]   .emotion-bar-container[_ngcontent-%COMP%]{flex-grow:1;height:10px;background-color:#e9ecef;border-radius:5px}.emotion-summary[_ngcontent-%COMP%]   .emotion-bar[_ngcontent-%COMP%]{height:100%;background-color:#748ffc;border-radius:5px}.recommendation-list[_ngcontent-%COMP%]{list-style-type:none;padding-left:0}.recommendation-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.5rem 0;border-bottom:1px solid #e9ecef}.recommendation-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}.analysis-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1rem;margin-top:2rem}.message-view[_ngcontent-%COMP%]{text-align:center;padding:3rem 1rem}.message-view[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#495057}.message-view[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6c757d}'],changeDetection:0})};function yL(n,t){if(n&1&&(d(0,"div",19),f(1),u()),n&2){let e=_();m(),U(" ",e.message," ")}}function _L(n,t){if(n&1&&(d(0,"div",20),f(1),u()),n&2){let e=_();m(),U(" ",e.errorMessage," ")}}function bL(n,t){n&1&&(d(0,"div",21),f(1," A valid email is required. "),u())}var rf=class n{constructor(t,e,r,i){this.fb=t;this.router=e;this.cdr=r;this.supabaseAuthService=i;this.forgotPasswordForm=this.fb.group({email:["",[he.required,he.email]]})}forgotPasswordForm;message=null;errorMessage=null;async onSubmit(){if(this.forgotPasswordForm.invalid){this.forgotPasswordForm.markAllAsTouched();return}let{email:t}=this.forgotPasswordForm.getRawValue();this.errorMessage=null,this.message=null;try{let{success:e,error:r}=await this.supabaseAuthService.requestPasswordReset(t);e?this.message="If an account with that email exists, you will receive a password reset link!":this.errorMessage=r?.message||"Failed to send reset link. Please try again.",this.cdr.markForCheck()}catch(e){this.errorMessage=e.message||"An unexpected error occurred.",this.cdr.markForCheck()}}static \u0275fac=function(e){return new(e||n)(E(Sn),E(Ke),E(xe),E(ir))};static \u0275cmp=F({type:n,selectors:[["app-forgot-password"]],decls:26,vars:5,consts:[[1,"auth-container"],[1,"auth-card"],[1,"text-center","mb-4"],[1,"logo-circle","mx-auto"],["src","/tr_logo.png","alt","Logo",1,"img-fluid"],[1,"brand-name","mt-3"],[1,"brand-tagline"],["class","alert alert-info mb-3",4,"ngIf"],["class","alert alert-danger mb-3",4,"ngIf"],[1,"auth-form",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","placeholder","Enter your email",1,"form-control"],["class","text-danger small mt-1",4,"ngIf"],[1,"d-grid","gap-2","mt-4"],["type","submit",1,"btn","btn-tr","btn-primary","btn-md",3,"disabled"],[1,"text-center","mt-4"],[1,"mb-0"],["routerLink","",1,"login-link"],[1,"alert","alert-info","mb-3"],[1,"alert","alert-danger","mb-3"],[1,"text-danger","small","mt-1"]],template:function(e,r){if(e&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),x(4,"img",4),u()(),d(5,"div",2)(6,"h2",5),f(7,"Forgot Password"),u(),d(8,"p",6),f(9,"Enter your email to receive a password reset link."),u()(),M(10,yL,2,1,"div",7)(11,_L,2,1,"div",8),d(12,"form",9),C("ngSubmit",function(){return r.onSubmit()}),d(13,"div",10)(14,"label",11),f(15,"Email"),u(),x(16,"input",12),M(17,bL,2,0,"div",13),u(),d(18,"div",14)(19,"button",15),f(20,"Send Reset Link"),u()(),d(21,"div",16)(22,"p",17),f(23,"Remember your password? "),d(24,"a",18),f(25,"Login"),u()()()()()()),e&2){let i;m(10),y("ngIf",r.message),m(),y("ngIf",r.errorMessage),m(),y("formGroup",r.forgotPasswordForm),m(5),y("ngIf",((i=r.forgotPasswordForm.get("email"))==null?null:i.invalid)&&((i=r.forgotPasswordForm.get("email"))==null?null:i.touched)),m(2),y("disabled",r.forgotPasswordForm.invalid)}},dependencies:[B,re,Me,rr,le,me,Qe,$e,Ze,Et],styles:['.auth-container[_ngcontent-%COMP%]{min-height:100dvh;display:flex;align-items:center;justify-content:center}.auth-card[_ngcontent-%COMP%]{background-color:transparent;border-radius:12px;width:100%;max-width:450px;padding:30px}.logo-circle[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;background-color:transparent;position:relative;display:flex;align-items:center;justify-content:center;margin:0 auto}.dots-circle[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;position:relative;background-image:radial-gradient(circle,#5046e5 3px,transparent 3px);background-size:15px 15px;transform:rotate(45deg)}.brand-name[_ngcontent-%COMP%]{font-weight:700;font-size:24px;margin-bottom:5px;letter-spacing:.5px}.brand-tagline[_ngcontent-%COMP%]{color:#666;font-size:14px;margin:0}.tabs-container[_ngcontent-%COMP%]{display:inline-flex;align-items:center;border-bottom:1px solid #eee;padding-bottom:5px}.tab[_ngcontent-%COMP%]{padding:8px 15px;cursor:pointer;color:#888;font-weight:500;font-size:16px;transition:color .2s}.tab.active[_ngcontent-%COMP%]{color:#5046e5;border-bottom:2px solid #5046e5}.tab-separator[_ngcontent-%COMP%]{color:#ccc}.auth-form[_ngcontent-%COMP%]{margin-top:10px}.form-control[_ngcontent-%COMP%]{height:auto;padding:12px 15px;border-radius:8px;border:1px solid #ddd;transition:border-color .2s,box-shadow .2s}.form-control[_ngcontent-%COMP%]:focus{border-color:#5046e5;box-shadow:0 0 0 .2rem #5046e526}.form-label[_ngcontent-%COMP%]{font-weight:500;color:#555;margin-bottom:8px}.forgot-link[_ngcontent-%COMP%]{font-size:14px;color:#5046e5;text-decoration:none}.forgot-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.signup-link[_ngcontent-%COMP%], .login-link[_ngcontent-%COMP%]{color:#5046e5;font-weight:500;text-decoration:none}.signup-link[_ngcontent-%COMP%]:hover, .login-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.btn-primary[_ngcontent-%COMP%]{background-color:#5046e5;border-color:#5046e5;padding:12px;font-weight:500}.btn-primary[_ngcontent-%COMP%]:hover, .btn-primary[_ngcontent-%COMP%]:focus{background-color:#4238d0;border-color:#4238d0}.btn-primary[_ngcontent-%COMP%]:disabled{background-color:#a8a4e0;border-color:#a8a4e0}.separator[_ngcontent-%COMP%]{display:flex;align-items:center;text-align:center;color:#888;font-size:14px}.separator[_ngcontent-%COMP%]:before, .separator[_ngcontent-%COMP%]:after{content:"";flex:1;border-bottom:1px solid #ddd}.separator[_ngcontent-%COMP%]:before{margin-right:1em}.separator[_ngcontent-%COMP%]:after{margin-left:1em}.google-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#fff;border:1px solid #ddd;color:#333;padding:12px;font-weight:500}.google-btn[_ngcontent-%COMP%]:hover{background-color:#f8f8f8;color:#333}@media (max-width: 576px){.auth-card[_ngcontent-%COMP%]{padding:20px 15px}.brand-name[_ngcontent-%COMP%]{font-size:20px}.form-control[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]{padding:10px}}']})};function wL(n,t){if(n&1&&(d(0,"div",22),f(1),u()),n&2){let e=_();m(),U(" ",e.errorMessage," ")}}function CL(n,t){if(n&1&&(d(0,"div",23),f(1),u()),n&2){let e=_();m(),U(" ",e.successMessage," ")}}function EL(n,t){n&1&&(d(0,"div",24),f(1," Password must be at least 6 characters. "),u())}function SL(n,t){n&1&&(d(0,"small",25),f(1," Passwords do not match "),u())}var of=class n{constructor(t,e,r,i,o){this.fb=t;this.router=e;this.route=r;this.cdr=i;this.supabaseAuthService=o;this.updatePasswordForm=this.fb.group({newPassword:["",[he.required,he.minLength(6)]],confirmNewPassword:["",he.required]},{validators:this.passwordMatchValidator})}updatePasswordForm;errorMessage=null;successMessage=null;ngOnInit(){}passwordMatchValidator(t){let e=t.get("newPassword")?.value,r=t.get("confirmNewPassword")?.value;return e===r?null:{mismatch:!0}}async onSubmit(){if(this.updatePasswordForm.invalid){this.updatePasswordForm.markAllAsTouched();return}let{newPassword:t}=this.updatePasswordForm.getRawValue();this.errorMessage=null,this.successMessage=null;try{let{success:e,error:r}=await this.supabaseAuthService.updatePassword(t);e?(this.successMessage="Your password has been updated successfully! Redirecting to login...",this.updatePasswordForm.reset(),setTimeout(()=>{this.router.navigate(["/auth"])},3e3)):this.errorMessage=r?.message||"Failed to update password. Please try again.",this.cdr.markForCheck()}catch(e){this.errorMessage=e.message||"An unexpected error occurred.",this.cdr.markForCheck()}}static \u0275fac=function(e){return new(e||n)(E(Sn),E(Ke),E(At),E(xe),E(ir))};static \u0275cmp=F({type:n,selectors:[["app-update-password"]],decls:31,vars:6,consts:[[1,"auth-container"],[1,"auth-card"],[1,"text-center","mb-4"],[1,"logo-circle","mx-auto"],["src","/tr_logo.png","alt","Logo",1,"img-fluid"],[1,"brand-name","mt-3"],[1,"brand-tagline"],["class","alert alert-danger mb-3",4,"ngIf"],["class","alert alert-success mb-3",4,"ngIf"],[1,"auth-form",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","newPassword",1,"form-label"],["type","password","id","newPassword","formControlName","newPassword","placeholder","Enter new password",1,"form-control"],["class","text-danger small mt-1",4,"ngIf"],["for","confirmNewPassword",1,"form-label"],["type","password","id","confirmNewPassword","formControlName","confirmNewPassword","placeholder","Confirm new password",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"d-grid","gap-2","mt-4"],["type","submit",1,"btn","btn-tr","btn-primary","btn-md",3,"disabled"],[1,"text-center","mt-4"],[1,"mb-0"],["routerLink","/auth",1,"login-link"],[1,"alert","alert-danger","mb-3"],[1,"alert","alert-success","mb-3"],[1,"text-danger","small","mt-1"],[1,"text-danger"]],template:function(e,r){if(e&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),x(4,"img",4),u()(),d(5,"div",2)(6,"h2",5),f(7,"Set New Password"),u(),d(8,"p",6),f(9,"Please enter your new password."),u()(),M(10,wL,2,1,"div",7)(11,CL,2,1,"div",8),d(12,"form",9),C("ngSubmit",function(){return r.onSubmit()}),d(13,"div",10)(14,"label",11),f(15,"New Password"),u(),x(16,"input",12),M(17,EL,2,0,"div",13),u(),d(18,"div",10)(19,"label",14),f(20,"Confirm New Password"),u(),x(21,"input",15),M(22,SL,2,0,"small",16),u(),d(23,"div",17)(24,"button",18),f(25,"Update Password"),u()(),d(26,"div",19)(27,"p",20),f(28,"Go back to "),d(29,"a",21),f(30,"Login"),u()()()()()()),e&2){let i,o;m(10),y("ngIf",r.errorMessage),m(),y("ngIf",r.successMessage),m(),y("formGroup",r.updatePasswordForm),m(5),y("ngIf",((i=r.updatePasswordForm.get("newPassword"))==null?null:i.invalid)&&((i=r.updatePasswordForm.get("newPassword"))==null?null:i.touched)),m(5),y("ngIf",r.updatePasswordForm.hasError("mismatch")&&((o=r.updatePasswordForm.get("confirmNewPassword"))==null?null:o.touched)),m(2),y("disabled",r.updatePasswordForm.invalid)}},dependencies:[B,re,Me,rr,le,me,Qe,$e,Ze],styles:['.auth-container[_ngcontent-%COMP%]{min-height:100dvh;display:flex;align-items:center;justify-content:center}.auth-card[_ngcontent-%COMP%]{background-color:transparent;border-radius:12px;width:100%;max-width:450px;padding:30px}.logo-circle[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;background-color:transparent;position:relative;display:flex;align-items:center;justify-content:center;margin:0 auto}.dots-circle[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;position:relative;background-image:radial-gradient(circle,#5046e5 3px,transparent 3px);background-size:15px 15px;transform:rotate(45deg)}.brand-name[_ngcontent-%COMP%]{font-weight:700;font-size:24px;margin-bottom:5px;letter-spacing:.5px}.brand-tagline[_ngcontent-%COMP%]{color:#666;font-size:14px;margin:0}.tabs-container[_ngcontent-%COMP%]{display:inline-flex;align-items:center;border-bottom:1px solid #eee;padding-bottom:5px}.tab[_ngcontent-%COMP%]{padding:8px 15px;cursor:pointer;color:#888;font-weight:500;font-size:16px;transition:color .2s}.tab.active[_ngcontent-%COMP%]{color:#5046e5;border-bottom:2px solid #5046e5}.tab-separator[_ngcontent-%COMP%]{color:#ccc}.auth-form[_ngcontent-%COMP%]{margin-top:10px}.form-control[_ngcontent-%COMP%]{height:auto;padding:12px 15px;border-radius:8px;border:1px solid #ddd;transition:border-color .2s,box-shadow .2s}.form-control[_ngcontent-%COMP%]:focus{border-color:#5046e5;box-shadow:0 0 0 .2rem #5046e526}.form-label[_ngcontent-%COMP%]{font-weight:500;color:#555;margin-bottom:8px}.forgot-link[_ngcontent-%COMP%]{font-size:14px;color:#5046e5;text-decoration:none}.forgot-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.signup-link[_ngcontent-%COMP%], .login-link[_ngcontent-%COMP%]{color:#5046e5;font-weight:500;text-decoration:none}.signup-link[_ngcontent-%COMP%]:hover, .login-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.btn-primary[_ngcontent-%COMP%]{background-color:#5046e5;border-color:#5046e5;padding:12px;font-weight:500}.btn-primary[_ngcontent-%COMP%]:hover, .btn-primary[_ngcontent-%COMP%]:focus{background-color:#4238d0;border-color:#4238d0}.btn-primary[_ngcontent-%COMP%]:disabled{background-color:#a8a4e0;border-color:#a8a4e0}.separator[_ngcontent-%COMP%]{display:flex;align-items:center;text-align:center;color:#888;font-size:14px}.separator[_ngcontent-%COMP%]:before, .separator[_ngcontent-%COMP%]:after{content:"";flex:1;border-bottom:1px solid #ddd}.separator[_ngcontent-%COMP%]:before{margin-right:1em}.separator[_ngcontent-%COMP%]:after{margin-left:1em}.google-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#fff;border:1px solid #ddd;color:#333;padding:12px;font-weight:500}.google-btn[_ngcontent-%COMP%]:hover{background-color:#f8f8f8;color:#333}@media (max-width: 576px){.auth-card[_ngcontent-%COMP%]{padding:20px 15px}.brand-name[_ngcontent-%COMP%]{font-size:20px}.form-control[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]{padding:10px}}']})};var sf=class n{constructor(t){this.supabaseService=t;this.supabase=this.supabaseService.GetClient()}supabase;async getTradeAnalytics(){let t=this.supabaseService.user();if(!t)throw new Error("User not authenticated");let{data:e,error:r}=await this.supabase.rpc("get_user_trade_analytics",{user_id:t.id});if(r)throw console.error("Error fetching trade analytics:",r),r;return e}static \u0275fac=function(e){return new(e||n)(R(Se))};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})};function IL(n,t){if(n&1&&(d(0,"div",18)(1,"div",19)(2,"div",7)(3,"div",20),f(4),u(),d(5,"h6",16),f(6),u(),d(7,"p",21),f(8),at(9,"number"),u()()()()),n&2){let e=t.$implicit;m(4),P(e.icon),m(2),P(e.label),m(2),P(e.format?lt(9,3,e.value,e.format):e.value)}}function xL(n,t){if(n&1&&(d(0,"div",22)(1,"div",19)(2,"div",7)(3,"div",23),f(4),u(),d(5,"h6",16),f(6),u(),d(7,"p",24),f(8),at(9,"number"),u()()()()),n&2){let e=t.$implicit;m(4),P(e.icon),m(2),P(e.label),m(2),P(lt(9,3,e.value,e.format))}}function TL(n,t){if(n&1&&(d(0,"div",1)(1,"h3",2),f(2,"\u{1F4CA} Trade Analytics Overview"),u(),d(3,"div",3),M(4,IL,10,6,"div",4),u(),d(5,"div",3)(6,"div",5)(7,"div",6)(8,"div",7)(9,"h6",8),f(10,"\u{1F3C6} Win Rate"),u(),d(11,"div",9)(12,"div",10),f(13),at(14,"number"),u()()()()(),d(15,"div",5)(16,"div",6)(17,"div",7)(18,"h6",8),f(19,"\u{1F4C9} Loss Rate"),u(),d(20,"div",9)(21,"div",11),f(22),at(23,"number"),u()()()()()(),d(24,"div",12),M(25,xL,10,6,"div",13),u(),d(26,"div",14)(27,"div",5)(28,"div",15)(29,"div",7)(30,"h6",16),f(31,"\u23F1\uFE0F Avg Trade Duration (Seconds)"),u(),d(32,"p",17),f(33),at(34,"number"),u()()()(),d(35,"div",5)(36,"div",15)(37,"div",7)(38,"h6",16),f(39,"\u{1F3AF} Avg Entry Slippage"),u(),d(40,"p",17),f(41),at(42,"number"),u()()()()()()),n&2){let e=_();m(4),y("ngForOf",e.kpiList),m(8),Zn("width",e.analytics.win_rate*100,"%"),m(),U(" ",lt(14,10,e.analytics.win_rate*100,"1.0-0"),"% "),m(8),Zn("width",e.analytics.loss_rate*100,"%"),m(),U(" ",lt(23,13,e.analytics.loss_rate*100,"1.0-0"),"% "),m(3),y("ngForOf",e.extraStats),m(8),P(lt(34,16,e.analytics.average_trade_duration_seconds,"1.0-0")),m(8),P(lt(42,19,e.analytics.average_entry_slippage,"1.2-2"))}}var af=class n{constructor(t){this.supabaseAnalytic=t}analytics=null;kpiList=[];extraStats=[];async ngOnInit(){this.analytics=await this.supabaseAnalytic.getTradeAnalytics(),this.analytics&&this.initializeCards(),console.log(this.analytics)}initializeCards(){this.kpiList=[{label:"Discipline Score",value:this.analytics.discipline_score,icon:"\u{1F3AF}",format:"1.1-1"},{label:"Profit Factor",value:this.analytics.profit_factor,icon:"\u{1F4B0}",format:"1.2-2"},{label:"Total P/L ($)",value:this.analytics.total_realized_profit,icon:"\u{1F4B5}",format:"1.2-2"},{label:"Avg P/L ($)",value:this.analytics.average_profit_per_trade,icon:"\u2696\uFE0F",format:"1.2-2"}],this.extraStats=[{label:"Avg. Confidence Drift (During)",value:this.analytics.avg_confidence_drift_before_during,icon:"\u{1F9E0}",format:"1.1-1"},{label:"Avg. Confidence Drift (After)",value:this.analytics.avg_confidence_drift_before_after,icon:"\u{1F9D8}",format:"1.1-1"},{label:"Avg. Risk/Reward Ratio",value:this.analytics.average_risk_reward_ratio,icon:"\u{1F3B2}",format:"1.2-2"}]}static \u0275fac=function(e){return new(e||n)(E(sf))};static \u0275cmp=F({type:n,selectors:[["app-trade-analytic"]],decls:1,vars:1,consts:[["class","container mt-4",4,"ngIf"],[1,"container","mt-4"],[1,"text-center","mb-4","fw-bold"],[1,"row","g-3","mb-4"],["class","col-md-3",4,"ngFor","ngForOf"],[1,"col-md-6"],[1,"card","shadow","border-0"],[1,"card-body"],[1,"mb-2","fw-bold"],[1,"progress",2,"height","20px"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-success"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-danger"],[1,"row","g-3"],["class","col-md-4",4,"ngFor","ngForOf"],[1,"row","g-3","mt-4"],[1,"card","text-center","shadow","border-0"],[1,"text-muted"],[1,"h4","fw-bold","text-info","mt-2"],[1,"col-md-3"],[1,"card","text-center","shadow","border-0","h-100"],[1,"display-6","mb-2"],[1,"h5","fw-bold","mt-2","text-primary"],[1,"col-md-4"],[1,"mb-1"],[1,"h5","fw-bold","mt-2","text-dark"]],template:function(e,r){e&1&&M(0,TL,43,22,"div",0),e&2&&y("ngIf",r.analytics)},dependencies:[B,We,re,Jo],styles:[".card[_ngcontent-%COMP%]{transition:transform .3s ease,box-shadow .3s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 4px 16px #00000026}.progress-bar[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600}"]})};var lf=class n{rows=Q([]);setRows(t){this.rows.set(t)}upsert(t){let e=this.rows(),r=e.findIndex(i=>i.trade_id===t.trade_id);r>=0?e[r]=t:e.unshift(t),this.rows.set([...e])}remove(t){this.rows.set(this.rows().filter(e=>e.trade_id!==t))}static \u0275fac=function(e){return new(e||n)};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})};var cf=class n{accounts=Q([]);upsert(t){let e=this.accounts(),r=e.findIndex(i=>i.account_id===t.account_id);r>=0?e[r]=t:e.unshift(t),this.accounts.set([...e])}setAll(t){this.accounts.set(t)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})};var uf=class n{sb=S(Se).GetClient();async getById(t){let{data:e,error:r}=await this.sb.from("tradesjournal").select("*").eq("trade_id",t).single();if(r)throw r;return e}async updatePlanned(t,e){let{data:r,error:i}=await this.sb.rpc("update_planned_trade",{p_trade_id:t,p_patch:e});if(i)throw i;return r}async updateExecuting(t,e){let{data:r,error:i}=await this.sb.rpc("update_executing_trade",{p_trade_id:t,p_patch:e});if(i)throw i;return r}async listByState(t){let{data:e,error:r}=await this.sb.from("tradesjournal").select("*").eq("trade_state",t).order("planned_at",{ascending:!1});if(r)throw r;return e}async insertPlanned(t){let{data:e,error:r}=await this.sb.from("tradesjournal").insert(z(N({},t),{trade_state:"PLANNED"})).select().single();if(r)throw r;return e}async markExecuted(t,e){let{data:r,error:i}=await this.sb.rpc("mark_trade_executed",{p_trade_id:t,p_actual_entry:e.actual_entry_price,p_actual_sl:e.actual_stop_loss,p_actual_tp:e.actual_take_profit,p_lot_size:e.actual_lot_size});if(i)throw i;return r}async completeAndApply(t,e){let{data:r,error:i}=await this.sb.rpc("complete_trade_and_apply_pnl",{p_trade_id:t,p_exit_price:e.exit_price,p_broker_fees:e.broker_fees,p_outcome:e.outcome,p_emotion_after:e.emotion_after,p_conf_after:e.conf_after,p_notes:e.notes??null,p_lessons:e.lessons??null,p_improve:e.improve??null});if(i)throw i;return r}async remove(t){let{error:e}=await this.sb.from("tradesjournal").delete().eq("trade_id",t);if(e)throw e;return!0}async analyzeChart(t){let{data:e,error:r}=await this.sb.functions.invoke("chart-image-analyze",{body:await t.arrayBuffer(),headers:{"Content-Type":t.type}});if(r)throw r;return e}static \u0275fac=function(e){return new(e||n)};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})};var df=class n{sb=S(Se).GetClient();async listMine(){let{data:t,error:e}=await this.sb.from("tradeaccount").select("*").order("created_at",{ascending:!1});if(e)throw e;return t}static \u0275fac=function(e){return new(e||n)};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ts=class n{tradesStore=S(lf);accountsStore=S(cf);tradeApi=S(uf);tradeAccountsApi=S(df);supabaseFunction=S(fi);loading=Q(!1);error=Q(null);get tradesSig(){return this.tradesStore.rows}get trades(){return this.tradesStore.rows()}get accounts(){return this.accountsStore.accounts}async wrap(t){this.loading.set(!0),this.error.set(null);try{return await t()}catch(e){this.error.set(e?.message??"Something went wrong");return}finally{this.loading.set(!1)}}async loadTab(t){await this.wrap(async()=>{let e=await this.tradeApi.listByState(t);this.tradesStore.setRows(e)})}async loadAccounts(){await this.wrap(async()=>{let t=await this.tradeAccountsApi.listMine();this.accountsStore.setAll(t)})}async createPlanned(t){await this.wrap(async()=>{let e=await this.tradeApi.insertPlanned(t);this.tradesStore.upsert(e)})}async markExecuted(t,e){await this.wrap(async()=>{let r=await this.tradeApi.markExecuted(t,e);this.tradesStore.upsert(r)})}async completeAndApply(t,e){await this.wrap(async()=>{let r=await this.tradeApi.completeAndApply(t,e);this.tradesStore.upsert(r.updated_trade),r.updated_account&&this.accountsStore.upsert(r.updated_account)})}async remove(t){await this.wrap(async()=>{await this.tradeApi.remove(t),this.tradesStore.remove(t)})}async updatePlanned(t,e){await this.wrap(async()=>{let r=await this.tradeApi.updatePlanned(t,e);this.tradesStore.upsert(r)})}async updateExecuting(t,e){await this.wrap(async()=>{let r=await this.tradeApi.updateExecuting(t,e);this.tradesStore.upsert(r)})}async getTradeById(t){return await this.wrap(async()=>await this.tradeApi.getById(t))}async analyzeChart(t){return await this.wrap(async()=>{let r={image_base64:await this.fileToBase64(t),filename:t.name,mimetype:t.type,expected_schema:"pretrade.v1"},{data:i,error:o}=await this.supabaseFunction.callEdgeFunction("chart-image-analysis",r);if(o)throw new Error(o?.message??"Edge function failed");return this.normalizeAi(i)})??null}async fileToBase64(t){let e=await t.arrayBuffer(),r=new Uint8Array(e),i="";for(let o=0;o<r.length;o++)i+=String.fromCharCode(r[o]);return`data:${t.type};base64,${btoa(i)}`}normalizeAi(t){let e=a=>a==null?null:Number.isFinite(Number(a))?Number(a):null,r=a=>a==null?null:String(a),i=a=>a==="LONG"||a==="SHORT"?a:null,o=Array.isArray(t?.tags)?t.tags.map(a=>String(a).toLowerCase().trim()).filter(Boolean).slice(0,8):[],s={is_relevant:!!t?.is_relevant,confidence:Math.max(0,Math.min(1,Number(t?.confidence??0))),symbol:r(t?.symbol),direction:i(t?.direction),planned_entry_price:e(t?.planned_entry_price),planned_stop_loss:e(t?.planned_stop_loss),planned_take_profit:e(t?.planned_take_profit),planned_lot_size:e(t?.planned_lot_size),planned_risk_percentage:e(t?.planned_risk_percentage),planned_risk_amount:e(t?.planned_risk_amount),strategy_name:r(t?.strategy_name),tags:o,entry_criteria:String(t?.entry_criteria??"")};return s.is_relevant?s:{is_relevant:!1,confidence:s.confidence??0,symbol:null,direction:null,planned_entry_price:null,planned_stop_loss:null,planned_take_profit:null,planned_lot_size:null,planned_risk_percentage:null,planned_risk_amount:null,strategy_name:null,tags:[],entry_criteria:""}}static \u0275fac=function(e){return new(e||n)};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})};function ML(n,t){if(n&1&&(d(0,"option",35),f(1),u()),n&2){let e=t.$implicit;y("value",e.id),m(),P(e.name)}}function AL(n,t){if(n&1&&(d(0,"div",36)(1,"div",37),f(2),u(),d(3,"div",38),f(4),at(5,"number"),u()()),n&2){let e=t.ngIf;m(2),P(e.name),m(2),U("Balance \u2022 ",lt(5,2,e.balance,"1.0-2"),"")}}function kL(n,t){if(n&1&&(d(0,"div",39),f(1),u()),n&2){let e=_();m(),P(e.aiMessage())}}function NL(n,t){if(n&1&&(d(0,"div",40),f(1),u()),n&2){let e=_();m(),P(e.aiWarn())}}function PL(n,t){if(n&1&&(d(0,"div",41),f(1),u()),n&2){let e=_();m(),P(e.aiErr())}}function OL(n,t){if(n&1){let e=oe();d(0,"div",8)(1,"div",42)(2,"div",43)(3,"label",44),f(4,"Currency Pair / Commodity"),u(),d(5,"input",45),ee("ngModelChange",function(i){D(e);let o=_();return te(o.form.symbol,i)||(o.form.symbol=i),I(i)}),u()(),d(6,"div",43)(7,"label",44),f(8,"Direction"),u(),d(9,"select",11),ee("ngModelChange",function(i){D(e);let o=_();return te(o.form.direction,i)||(o.form.direction=i),I(i)}),d(10,"option",46),f(11,"Long"),u(),d(12,"option",47),f(13,"Short"),u()()(),d(14,"div",43)(15,"label",44),f(16,"Entry Price"),u(),d(17,"input",48),ee("ngModelChange",function(i){D(e);let o=_();return te(o.form.planned_entry_price,i)||(o.form.planned_entry_price=i),I(i)}),u()(),d(18,"div",43)(19,"label",44),f(20,"Lot Size"),u(),d(21,"input",49),ee("ngModelChange",function(i){D(e);let o=_();return te(o.form.planned_lot_size,i)||(o.form.planned_lot_size=i),I(i)}),u()(),d(22,"div",43)(23,"label",44),f(24,"Strategy Name"),u(),d(25,"input",50),ee("ngModelChange",function(i){D(e);let o=_();return te(o.form.strategy_name,i)||(o.form.strategy_name=i),I(i)}),u()(),d(26,"div",43)(27,"label",44),f(28,"Tags (comma separated)"),u(),d(29,"input",51),ee("ngModelChange",function(i){D(e);let o=_();return te(o.tagsStr,i)||(o.tagsStr=i),I(i)}),u()()()()}if(n&2){let e=_();m(5),X("ngModel",e.form.symbol),m(4),X("ngModel",e.form.direction),m(8),X("ngModel",e.form.planned_entry_price),m(4),X("ngModel",e.form.planned_lot_size),m(4),X("ngModel",e.form.strategy_name),m(4),X("ngModel",e.tagsStr)}}function RL(n,t){if(n&1){let e=oe();d(0,"div",8)(1,"div",42)(2,"div",43)(3,"label",44),f(4,"Stop Loss Price"),u(),d(5,"input",52),ee("ngModelChange",function(i){D(e);let o=_();return te(o.form.planned_stop_loss,i)||(o.form.planned_stop_loss=i),I(i)}),u()(),d(6,"div",43)(7,"label",44),f(8,"Take Profit Price"),u(),d(9,"input",53),ee("ngModelChange",function(i){D(e);let o=_();return te(o.form.planned_take_profit,i)||(o.form.planned_take_profit=i),I(i)}),u()(),d(10,"div",54)(11,"div",55)(12,"div",56),f(13,"Risk % per Trade"),u(),d(14,"div",57),f(15),u(),d(16,"div",3),f(17,"Auto-calculated"),u()()(),d(18,"div",54)(19,"div",58)(20,"div",56),f(21,"Risk $ per Trade"),u(),d(22,"div",57),f(23),u(),d(24,"div",3),f(25,"Auto-calculated"),u()()(),d(26,"div",54)(27,"div",59)(28,"div",56),f(29,"Reward:Risk Ratio"),u(),d(30,"div",57),f(31),u(),d(32,"div",3),f(33,"Auto-calculated"),u()()()()()}if(n&2){let e=_();m(5),X("ngModel",e.form.planned_stop_loss),m(4),X("ngModel",e.form.planned_take_profit),m(6),P(e.riskPercent()),m(8),P(e.riskDollarStr()),m(8),P(e.rrRatio())}}function FL(n,t){if(n&1){let e=oe();d(0,"div",8)(1,"label",44),f(2,"Entry Criteria (Why are you taking this trade?) *"),u(),d(3,"textarea",60),ee("ngModelChange",function(i){D(e);let o=_();return te(o.form.entry_criteria,i)||(o.form.entry_criteria=i),I(i)}),u(),d(4,"div",61),f(5),u()()}if(n&2){let e=_();m(3),X("ngModel",e.form.entry_criteria),m(),J("text-danger",e.wordCount()<100),m(),U(" Current: ",e.wordCount()," words (minimum 100 required) ")}}function LL(n,t){if(n&1){let e=oe();d(0,"div",8)(1,"div",42)(2,"div",54)(3,"label",44),f(4,"Current Emotional State"),u(),d(5,"select",11),ee("ngModelChange",function(i){D(e);let o=_();return te(o.form.emotional_before_state,i)||(o.form.emotional_before_state=i),I(i)}),d(6,"option",12),f(7,"Select emotional state"),u(),d(8,"option"),f(9,"calm"),u(),d(10,"option"),f(11,"confident"),u(),d(12,"option"),f(13,"anxious"),u(),d(14,"option"),f(15,"fearful"),u(),d(16,"option"),f(17,"euphoric"),u()()(),d(18,"div",54)(19,"label",44),f(20,"Potential Bias"),u(),d(21,"select",11),ee("ngModelChange",function(i){D(e);let o=_();return te(o.form.emotional_before_potential_bias,i)||(o.form.emotional_before_potential_bias=i),I(i)}),d(22,"option"),f(23,"None - Clear Mindset"),u(),d(24,"option"),f(25,"FOMO"),u(),d(26,"option"),f(27,"Revenge"),u(),d(28,"option"),f(29,"Confirmation"),u(),d(30,"option"),f(31,"Overconfidence"),u()()(),d(32,"div",54)(33,"label",62),f(34,"Trade Confidence (1-5)"),u(),d(35,"input",63),ee("ngModelChange",function(i){D(e);let o=_();return te(o.form.confidence_before_level,i)||(o.form.confidence_before_level=i),I(i)}),u(),d(36,"div",64)(37,"span"),f(38,"Low"),u(),d(39,"span"),f(40,"Medium"),u(),d(41,"span"),f(42,"High"),u()(),d(43,"div"),f(44),u()(),d(45,"div",65)(46,"label",44),f(47,"Additional Notes"),u(),d(48,"textarea",66),ee("ngModelChange",function(i){D(e);let o=_();return te(o.form.additional_notes,i)||(o.form.additional_notes=i),I(i)}),u()()()()}if(n&2){let e,r=_();m(5),X("ngModel",r.form.emotional_before_state),m(),y("ngValue",null),m(15),X("ngModel",r.form.emotional_before_potential_bias),m(14),X("ngModel",r.form.confidence_before_level),m(9),U("Confidence Level: ",(e=r.form.confidence_before_level)!==null&&e!==void 0?e:3,""),m(4),X("ngModel",r.form.additional_notes)}}function VL(n,t){if(n&1&&(d(0,"div",67),f(1),u()),n&2){let e=_();m(),P(e.uc.error())}}function jL(n,t){if(n&1&&(d(0,"div",68),f(1),u()),n&2){let e=_();m(),U(" ",e.isEditing()?"Updated!":"Saved!"," You can move to \u201CPlanned Trades\u201D. ")}}var ff=class n{constructor(t,e,r){this.uc=t;this.route=e;this.router=r}ngOnInit(){this.uc.loadAccounts(),this.loadEditIfAny()}basicOpen=Q(!0);riskOpen=Q(!0);analysisOpen=Q(!0);emotionOpen=Q(!0);dzDrag=!1;onDzDrag(t){t.preventDefault(),this.dzDrag=!0}onDzDrop(t){t.preventDefault(),this.dzDrag=!1;let e=t.dataTransfer?.files?.[0];e&&this.handleChart(e)}accounts=Le(()=>this.uc.accounts().map(t=>({id:t.account_id,name:t.account_name,balance:Number(t.balance??0)})));accountId=Q(null);selectedAccount=Le(()=>this.accounts().find(t=>t.id===this.accountId())??null);editingTradeId=Q(null);isEditing=Le(()=>this.editingTradeId()!==null);form={symbol:"",direction:"LONG",planned_entry_price:null,planned_stop_loss:null,planned_take_profit:null,planned_lot_size:null,planned_risk_percentage:null,planned_risk_amount:null,strategy_name:"",entry_criteria:"",emotional_before_state:null,emotional_before_potential_bias:"None - Clear Mindset",confidence_before_level:3,additional_notes:null};tagsStr="";success=Q(!1);aiMessage=Q(null);aiWarn=Q(null);aiErr=Q(null);wordCount=Le(()=>this.form.entry_criteria?.trim().split(/\s+/).filter(Boolean).length??0);get balance(){let t=this.selectedAccount();return Number(t?.balance??0)}riskPercent=Le(()=>{let t=this.balance,e=Number(this.form.planned_risk_amount??0),r=Number(this.form.planned_risk_percentage??0);return`${(e&&t?e/t*100:r||0).toFixed(2)}%`});riskDollarStr=Le(()=>{let t=this.balance,e=Number(this.form.planned_risk_percentage??0),r=Number(this.form.planned_risk_amount??0),i=r||e/100*t;return`$${(Number.isFinite(i)?i:0).toFixed(2)}`});rrRatio=Le(()=>{let t=Number(this.form.planned_entry_price??0),e=Number(this.form.planned_stop_loss??0),r=Number(this.form.planned_take_profit??0);if(!t||!e||!r)return"\u2014";let i=Math.abs(t-e),o=Math.abs(r-t);return i?`1:${(o/i).toFixed(2)}`:"\u2014"});canSubmit(){return!0}async onChartFile(t){let e=t.target.files?.[0];e&&await this.handleChart(e)}async handleChart(t){this.aiErr.set(null),this.aiWarn.set(null),this.aiMessage.set("Analyzing chart\u2026");let e=await this.uc.analyzeChart(t);if(!e){this.aiMessage.set(null),this.aiErr.set(this.uc.error()||"Could not analyze the image.");return}if(!e.is_relevant){this.aiMessage.set(null),this.aiWarn.set("Image does not look like a trading/chart screenshot. Nothing applied.");return}this.applyAiPrefill(e),this.aiMessage.set(`Fields prefilled (confidence ${Math.round((e.confidence??0)*100)}%). Review before saving.`)}applyAiPrefill(t){let e=r=>Number.isFinite(Number(r))?Number(r):null;t.symbol!=null&&(this.form.symbol=t.symbol||""),t.direction!=null&&(this.form.direction=t.direction||"LONG"),this.form.planned_entry_price=e(t.planned_entry_price)??this.form.planned_entry_price??null,this.form.planned_stop_loss=e(t.planned_stop_loss)??this.form.planned_stop_loss??null,this.form.planned_take_profit=e(t.planned_take_profit)??this.form.planned_take_profit??null,this.form.planned_lot_size=e(t.planned_lot_size)??this.form.planned_lot_size??null,this.form.planned_risk_percentage=e(t.planned_risk_percentage)??this.form.planned_risk_percentage??null,this.form.planned_risk_amount=e(t.planned_risk_amount)??this.form.planned_risk_amount??null,t.strategy_name!=null&&(this.form.strategy_name=t.strategy_name||""),t.entry_criteria&&(this.form.entry_criteria=t.entry_criteria),Array.isArray(t.tags)&&(this.tagsStr=t.tags.map(r=>String(r).trim().toLowerCase()).filter(Boolean).join(", "))}async save(){this.success.set(!1);let t=z(N({},this.form),{account_id:this.accountId(),tags:this.tagsStr.split(",").map(r=>r.trim()).filter(Boolean)}),e=this.editingTradeId();e?await this.uc.updatePlanned(e,t):await this.uc.createPlanned(t),this.uc.error()||(this.success.set(!0),this.router.navigate(["/tradejournal"],{queryParams:{tab:"PLANNED"}}))}cancelEdit(){this.router.navigate([],{queryParams:{}}),this.editingTradeId.set(null),this.success.set(!1)}async loadEditIfAny(){let t=this.route.snapshot.queryParamMap.get("edit")||null;if(!t)return;this.editingTradeId.set(t);let e=this.uc.trades.find(r=>r.trade_id===t);!e&&this.uc.getTradeById&&(e=await this.uc.getTradeById(t)),e&&(this.accounts().length||await this.uc.loadAccounts(),this.prefillFromTrade(e))}prefillFromTrade(t){this.accountId.set(t.account_id??null),this.form={symbol:t.symbol??"",direction:t.direction??"LONG",planned_entry_price:t.planned_entry_price??null,planned_stop_loss:t.planned_stop_loss??null,planned_take_profit:t.planned_take_profit??null,planned_lot_size:t.planned_lot_size??null,planned_risk_percentage:t.planned_risk_percentage??null,planned_risk_amount:t.planned_risk_amount??null,strategy_name:t.strategy_name??"",entry_criteria:t.entry_criteria??"",emotional_before_state:t.emotional_before_state??null,emotional_before_potential_bias:t.emotional_before_potential_bias??"None - Clear Mindset",confidence_before_level:t.confidence_before_level??3,additional_notes:t.additional_notes??null},this.tagsStr=Array.isArray(t.tags)?t.tags.join(", "):""}static \u0275fac=function(e){return new(e||n)(E(Ts),E(At),E(Ke))};static \u0275cmp=F({type:n,selectors:[["app-pretradeform"]],decls:82,vars:27,consts:[[1,"container","my-4","page-shell"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"mb-0"],[1,"muted"],["routerLink","/tradeaccounts",1,"btn","btn-light","border"],[1,"me-2"],[1,"section-card","mb-3"],[1,"section-head"],[1,"p-3"],[1,"row","g-3","align-items-center"],[1,"col-md-8"],[1,"form-select",3,"ngModelChange","ngModel"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-4","d-flex"],["class","acct-pill w-100",4,"ngIf"],[1,"muted","mb-2"],[1,"dropzone",3,"dragover","dragleave","drop"],[1,"dz-icon"],[1,"fw-semibold"],[1,"btn","btn-outline-primary","mt-2"],["type","file","accept","image/png,image/jpeg",1,"d-none",3,"change"],["class","alert alert-info mt-2 py-2 px-3",4,"ngIf"],["class","alert alert-warning mt-2 py-2 px-3",4,"ngIf"],["class","alert alert-danger  mt-2 py-2 px-3",4,"ngIf"],["role","button",1,"section-head",3,"click"],[1,"badge-req","ms-2"],[1,"chev","ms-2"],["class","p-3",4,"ngIf"],[1,"text-danger"],[1,"badge-opt","ms-2"],[1,"footer-cta"],[1,"btn","btn-primary","btn-cta",3,"click","disabled"],["class","alert alert-danger mt-3",4,"ngIf"],["class","alert alert-success mt-3",4,"ngIf"],[3,"value"],[1,"acct-pill","w-100"],[1,"fw-semibold","small"],[1,"small"],[1,"alert","alert-info","mt-2","py-2","px-3"],[1,"alert","alert-warning","mt-2","py-2","px-3"],[1,"alert","alert-danger","mt-2","py-2","px-3"],[1,"row","g-3"],[1,"col-md-6"],[1,"form-label"],["placeholder","e.g., AUDNZD",1,"form-control",3,"ngModelChange","ngModel"],["value","LONG"],["value","SHORT"],["type","number","step","0.000001","placeholder","1.0875",1,"form-control",3,"ngModelChange","ngModel"],["type","number","step","0.0001","placeholder","0.01",1,"form-control",3,"ngModelChange","ngModel"],["placeholder","e.g., FVG Retracement",1,"form-control",3,"ngModelChange","ngModel"],["placeholder","e.g., fvg, retracement, support",1,"form-control",3,"ngModelChange","ngModel"],["type","number","step","0.000001","placeholder","1.0850",1,"form-control",3,"ngModelChange","ngModel"],["type","number","step","0.000001","placeholder","1.0925",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-4"],[1,"metric","warn"],[1,"label"],[1,"value"],[1,"metric"],[1,"metric","good"],["rows","6","placeholder","Explain your technicals, fundamentals, market conditions, setup confirmation, etc.",1,"form-control",3,"ngModelChange","ngModel"],[1,"mt-1","small"],[1,"form-label","d-block"],["type","range","min","1","max","5",1,"form-range",3,"ngModelChange","ngModel"],[1,"d-flex","justify-content-between","small","muted"],[1,"col-12"],["rows","3","placeholder","Document any important notes for this trade",1,"form-control",3,"ngModelChange","ngModel"],[1,"alert","alert-danger","mt-3"],[1,"alert","alert-success","mt-3"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"div",1)(2,"div")(3,"h4",2),f(4),u(),d(5,"small",3),f(6),u()(),d(7,"a",4)(8,"span",5),f(9,"\u2699\uFE0F"),u(),f(10,"Manage Accounts"),u()(),d(11,"div",6)(12,"div",7),f(13,"Trading Account"),u(),d(14,"div",8)(15,"div",9)(16,"div",10)(17,"select",11),C("ngModelChange",function(o){return r.accountId.set(o)}),d(18,"option",12),f(19,"Select an account"),u(),M(20,ML,2,2,"option",13),u()(),d(21,"div",14),M(22,AL,6,5,"div",15),u()()()(),d(23,"div",6)(24,"div",7)(25,"span"),f(26,"\u{1F4C8}"),u(),f(27," Chart Image Analysis"),u(),d(28,"div",8)(29,"div",16),f(30,"Upload your analyzed chart image and let AI automatically fill your trade fields"),u(),d(31,"div",17),C("dragover",function(o){return r.onDzDrag(o)})("dragleave",function(){return r.dzDrag=!1})("drop",function(o){return r.onDzDrop(o)}),d(32,"div",18),f(33,"\u2B06\uFE0E"),u(),d(34,"div",19),f(35,"Upload Chart Image"),u(),d(36,"small",3),f(37,"PNG/JPG up to 10MB"),u(),d(38,"label",20),f(39,"Choose File "),d(40,"input",21),C("change",function(o){return r.onChartFile(o)}),u()()(),M(41,kL,2,1,"div",22)(42,NL,2,1,"div",23)(43,PL,2,1,"div",24),u()(),d(44,"div",6)(45,"div",25),C("click",function(){return r.basicOpen.set(!r.basicOpen())}),f(46," Basic Trade Information "),d(47,"span",26),f(48,"Required"),u(),d(49,"span",27),f(50,"\u25BE"),u()(),M(51,OL,30,6,"div",28),u(),d(52,"div",6)(53,"div",25),C("click",function(){return r.riskOpen.set(!r.riskOpen())}),d(54,"span",29),f(55,"Risk Management"),u(),d(56,"span",26),f(57,"Critical"),u(),d(58,"span",27),f(59,"\u25BE"),u()(),M(60,RL,34,5,"div",28),u(),d(61,"div",6)(62,"div",25),C("click",function(){return r.analysisOpen.set(!r.analysisOpen())}),f(63," Trade Analysis "),d(64,"span",26),f(65,"Required \u2013 Min 100 words"),u(),d(66,"span",27),f(67,"\u25BE"),u()(),M(68,FL,6,4,"div",28),u(),d(69,"div",6)(70,"div",25),C("click",function(){return r.emotionOpen.set(!r.emotionOpen())}),f(71," Emotional Check-In "),d(72,"span",30),f(73,"Optional but Recommended"),u(),d(74,"span",27),f(75,"\u25BE"),u()(),M(76,LL,49,6,"div",28),u(),d(77,"div",31)(78,"button",32),C("click",function(){return r.save()}),f(79),u()(),M(80,VL,2,1,"div",33)(81,jL,2,1,"div",34),u()),e&2&&(m(4),P(r.isEditing()?"Edit Trade Plan \u2022 "+(r.form.symbol||"-"):"Pre-Trade Plan"),m(2),P(r.isEditing()?"Editing existing planned trade":"Complete your trading plan step by step"),m(11),y("ngModel",r.accountId()),m(),y("ngValue",null),m(2),y("ngForOf",r.accounts()),m(2),y("ngIf",r.selectedAccount()),m(9),J("drag",r.dzDrag),m(10),y("ngIf",r.aiMessage()),m(),y("ngIf",r.aiWarn()),m(),y("ngIf",r.aiErr()),m(6),J("rot",r.basicOpen()),m(2),y("ngIf",r.basicOpen()),m(7),J("rot",r.riskOpen()),m(2),y("ngIf",r.riskOpen()),m(6),J("rot",r.analysisOpen()),m(2),y("ngIf",r.analysisOpen()),m(6),J("rot",r.emotionOpen()),m(2),y("ngIf",r.emotionOpen()),m(2),y("disabled",!r.canSubmit()),m(),U(" ",r.isEditing()?"Update Trade Plan":"Submit Trade Plan"," "),m(),y("ngIf",r.uc.error()),m(),y("ngIf",r.success()))},dependencies:[B,We,re,Jo,ut,Cn,En,le,jn,so,Ht,me,mt,Me,Et],styles:[".page-shell[_ngcontent-%COMP%]{max-width:980px}.section-card[_ngcontent-%COMP%]{border:1px solid #e9eef5;border-radius:14px;overflow:hidden}.section-head[_ngcontent-%COMP%]{background:#f7f9fc;border-bottom:1px solid #eef2f7;padding:.85rem 1rem;font-weight:600;display:flex;align-items:center;gap:.5rem}.badge-req[_ngcontent-%COMP%]{color:#b30000;background:#ffecec;font-weight:600}.badge-opt[_ngcontent-%COMP%]{color:#7a5b00;background:#fff6d6;font-weight:600}.chev[_ngcontent-%COMP%]{margin-left:auto;opacity:.6;transition:transform .15s ease}.chev.rot[_ngcontent-%COMP%]{transform:rotate(180deg)}.acct-pill[_ngcontent-%COMP%]{background:#f1f5ff;border:1px solid #dfebff;color:#2c5cff;border-radius:10px;padding:.5rem .75rem}.dropzone[_ngcontent-%COMP%]{border:2px dashed #b8cdfa;border-radius:12px;background:#fbfdff;min-height:200px;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;gap:.5rem}.dropzone.drag[_ngcontent-%COMP%]{background:#f0f6ff}.dz-icon[_ngcontent-%COMP%]{font-size:34px;width:34px;height:34px;border-radius:50%;background:#eaf1ff;display:grid;place-items:center}.metric[_ngcontent-%COMP%]{border:1px solid #eef2f7;border-radius:12px;padding:.75rem;background:#fff;height:100%}.metric[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.78rem;color:#6b7280}.metric[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:700}.metric.good[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:#0a8a00}.metric.warn[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:#b30000}.footer-cta[_ngcontent-%COMP%]{position:sticky;bottom:0;background:linear-gradient(180deg,#fff0,#fff 40%);padding-top:.5rem}.btn-primary.btn-cta[_ngcontent-%COMP%]{width:100%;padding:.95rem 1.25rem;font-weight:700;border-radius:12px}.muted[_ngcontent-%COMP%]{color:#8a94a6}"]})};function UL(n,t){if(n&1){let e=oe();d(0,"tr")(1,"td",30),f(2),u(),d(3,"td",7),f(4),u(),d(5,"td"),f(6),u(),d(7,"td"),f(8),u(),d(9,"td"),f(10),u(),d(11,"td"),f(12),u(),d(13,"td")(14,"span",31),f(15,"planned"),u()(),d(16,"td",23)(17,"div",32)(18,"button",33),C("click",function(){let i=D(e).$implicit,o=_(2);return I(o.edit(i))}),f(19,"Edit"),u(),d(20,"button",34),C("click",function(){let i=D(e).$implicit,o=_(2);return I(o.openExecute(i))}),f(21,"Trade Executed"),u(),d(22,"button",35),C("click",function(){let i=D(e).$implicit,o=_(2);return I(o.remove(i))}),f(23,"Delete"),u()()()()}if(n&2){let e=t.$implicit,r=_(2);m(2),P(e.symbol),m(),J("dir-long",e.direction==="LONG")("dir-short",e.direction==="SHORT"),m(),P(e.direction),m(2),P(r.asMoney(e.planned_entry_price)),m(2),P(e.strategy_name||"\u2014"),m(2),P(e.emotional_before_state||"\u2014"),m(2),P(r.dateOnly(e.planned_at||e.created_at))}}function BL(n,t){if(n&1&&(d(0,"tbody"),M(1,UL,24,10,"tr",29),u()),n&2){let e=_();m(),y("ngForOf",e.viewRows())("ngForTrackBy",e.trackById)}}function $L(n,t){if(n&1){let e=oe();d(0,"tr")(1,"td",30),f(2),u(),d(3,"td",7),f(4),u(),d(5,"td"),f(6),u(),d(7,"td"),f(8),u(),d(9,"td"),f(10),u(),d(11,"td"),f(12),u(),d(13,"td")(14,"span",31),f(15,"executing"),u()(),d(16,"td",23)(17,"div",32)(18,"button",33),C("click",function(){let i=D(e).$implicit,o=_(2);return I(o.editExecuting(i))}),f(19,"Edit"),u(),d(20,"button",36),C("click",function(){let i=D(e).$implicit,o=_(2);return I(o.openComplete(i))}),f(21,"Complete"),u()()()()}if(n&2){let e,r=t.$implicit,i=_(2);m(2),P(r.symbol),m(),J("dir-long",r.direction==="LONG")("dir-short",r.direction==="SHORT"),m(),P(r.direction),m(2),P(i.asMoney((e=r.actual_entry_price)!==null&&e!==void 0?e:r.planned_entry_price)),m(2),P(r.strategy_name||"\u2014"),m(2),P(r.emotional_before_state||"\u2014"),m(2),P(i.dateOnly(r.actual_entry_date))}}function HL(n,t){if(n&1&&(d(0,"tbody"),M(1,$L,22,10,"tr",29),u()),n&2){let e=_();m(),y("ngForOf",e.viewRows())("ngForTrackBy",e.trackById)}}function zL(n,t){if(n&1&&(d(0,"tr")(1,"td",30),f(2),u(),d(3,"td",7),f(4),u(),d(5,"td"),f(6),u(),d(7,"td"),f(8),u(),d(9,"td"),f(10),u(),d(11,"td"),f(12),u(),d(13,"td")(14,"span",37),f(15,"completed"),u()(),d(16,"td",23)(17,"button",38),f(18,"Edit"),u()()()),n&2){let e=t.$implicit,r=_(2);m(2),P(e.symbol),m(),J("dir-long",e.direction==="LONG")("dir-short",e.direction==="SHORT"),m(),P(e.direction),m(2),P(r.asMoney(e.exit_price)),m(2),P(e.strategy_name||"\u2014"),m(2),P(e.emotional_after_state||e.emotional_before_state||"\u2014"),m(2),P(r.dateOnly(e.exit_date))}}function GL(n,t){if(n&1&&(d(0,"tbody"),M(1,zL,19,10,"tr",29),u()),n&2){let e=_();m(),y("ngForOf",e.viewRows())("ngForTrackBy",e.trackById)}}function qL(n,t){n&1&&(d(0,"div",39),f(1,"A list of your recent trade plans."),u())}function WL(n,t){if(n&1&&(d(0,"div",40),f(1),u()),n&2){let e=_();m(),P(e.uc.error())}}function QL(n,t){n&1&&x(0,"div",41)}function KL(n,t){if(n&1){let e=oe();d(0,"div",42)(1,"div",43)(2,"div",44)(3,"div")(4,"h5",45),f(5),u(),d(6,"div",46),f(7," Enter the actual execution details for "),d(8,"strong"),f(9),u(),f(10),u()(),d(11,"button",47),C("click",function(){D(e);let i=_();return I(i.closeExec())}),u()(),d(12,"div",48)(13,"div",49)(14,"label",50),f(15,"Entry Price"),u(),d(16,"input",51),ee("ngModelChange",function(i){D(e);let o=_();return te(o.execForm.actual_entry_price,i)||(o.execForm.actual_entry_price=i),I(i)}),u()(),d(17,"div",49)(18,"label",50),f(19,"Stop Loss"),u(),d(20,"input",52),ee("ngModelChange",function(i){D(e);let o=_();return te(o.execForm.actual_stop_loss,i)||(o.execForm.actual_stop_loss=i),I(i)}),u()(),d(21,"div",49)(22,"label",50),f(23,"Take Profit"),u(),d(24,"input",53),ee("ngModelChange",function(i){D(e);let o=_();return te(o.execForm.actual_take_profit,i)||(o.execForm.actual_take_profit=i),I(i)}),u()(),d(25,"div",2)(26,"label",50),f(27,"Lot Size"),u(),d(28,"input",54),ee("ngModelChange",function(i){D(e);let o=_();return te(o.execForm.actual_lot_size,i)||(o.execForm.actual_lot_size=i),I(i)}),u()()(),d(29,"div",55)(30,"button",56),C("click",function(){D(e);let i=_();return I(i.closeExec())}),f(31,"Cancel"),u(),d(32,"button",57),C("click",function(){D(e);let i=_();return I(i.confirmExec())}),f(33),u()()()()}if(n&2){let e=_();m(5),U(" ",e.execMode()==="mark"?"Trade Execution Details":"Update Execution Details"," "),m(4),P(e.execTarget==null?null:e.execTarget.symbol),m(),U(" (",e.execTarget==null?null:e.execTarget.direction,") "),m(6),X("ngModel",e.execForm.actual_entry_price),m(4),X("ngModel",e.execForm.actual_stop_loss),m(4),X("ngModel",e.execForm.actual_take_profit),m(4),X("ngModel",e.execForm.actual_lot_size),m(5),U(" ",e.execMode()==="mark"?"Confirm Execution":"Update Execution"," ")}}function ZL(n,t){if(n&1){let e=oe();d(0,"div",42)(1,"div",43)(2,"div",58)(3,"div",59)(4,"a",60),C("click",function(){D(e);let i=_();return I(i.closeComplete())}),f(5,"Back to Trades"),u(),d(6,"h5",61),f(7,"Complete Trade: "),d(8,"strong"),f(9),u()()(),d(10,"button",47),C("click",function(){D(e);let i=_();return I(i.closeComplete())}),u()(),d(11,"div",48)(12,"div",62)(13,"div",63)(14,"div",64)(15,"div",65),f(16,"Executed Trade Details"),u(),d(17,"div",66),f(18,"Original execution details"),u(),d(19,"div",67)(20,"div",68)(21,"span",69),f(22,"Symbol:"),u(),d(23,"span",7),f(24),u()(),d(25,"div",68)(26,"span",69),f(27,"Direction:"),u(),d(28,"span",7),f(29),u()(),d(30,"div",68)(31,"span",69),f(32,"Entry Price:"),u(),d(33,"span",7),f(34),u()(),d(35,"div",68)(36,"span",69),f(37,"Stop Loss:"),u(),d(38,"span",7),f(39),u()(),d(40,"div",68)(41,"span",69),f(42,"Take Profit:"),u(),d(43,"span",7),f(44),u()(),d(45,"div",68)(46,"span",69),f(47,"Lot Size:"),u(),d(48,"span",7),f(49),u()(),d(50,"div",68)(51,"span",69),f(52,"Strategy:"),u(),d(53,"span",7),f(54),u()()()()(),d(55,"div",70)(56,"div",64)(57,"div",65),f(58,"Trade Results"),u(),d(59,"div",66),f(60,"Automatically calculated metrics"),u(),d(61,"div",71)(62,"div",72)(63,"div",73)(64,"div",74),f(65,"P&L"),u(),d(66,"div",75),f(67),u()()(),d(68,"div",72)(69,"div",76)(70,"div",74),f(71,"Margin %"),u(),d(72,"div",75),f(73),u()()(),d(74,"div",72)(75,"div",77)(76,"div",74),f(77,"R:R Ratio"),u(),d(78,"div",75),f(79),u()()()()()()(),d(80,"div",78)(81,"div",65),f(82,"Trade Completion Details"),u(),d(83,"div",66),f(84,"Enter the details of how your trade was closed"),u(),d(85,"div",79)(86,"div",80)(87,"label",50),f(88,"Exit Price"),u(),d(89,"div",81)(90,"input",82),ee("ngModelChange",function(i){D(e);let o=_();return te(o.completeForm.exit_price,i)||(o.completeForm.exit_price=i),I(i)}),u()()(),d(91,"div",80)(92,"label",50),f(93,"Exit Date"),u(),d(94,"input",83),ee("ngModelChange",function(i){D(e);let o=_();return te(o.completeForm.exit_date,i)||(o.completeForm.exit_date=i),I(i)}),u()(),d(95,"div",80)(96,"label",50),f(97,"Broker Fees"),u(),d(98,"div",81)(99,"input",84),ee("ngModelChange",function(i){D(e);let o=_();return te(o.completeForm.broker_fees,i)||(o.completeForm.broker_fees=i),I(i)}),u()(),d(100,"div",85),f(101,"Include all commissions and fees"),u()(),d(102,"div",86)(103,"label",87),f(104,"Trade Outcome"),u(),d(105,"div",88)(106,"button",89),C("click",function(){D(e);let i=_();return I(i.completeForm.trade_outcome="Win")}),f(107,"Win"),u(),d(108,"button",89),C("click",function(){D(e);let i=_();return I(i.completeForm.trade_outcome="Loss")}),f(109,"Loss"),u(),d(110,"button",89),C("click",function(){D(e);let i=_();return I(i.completeForm.trade_outcome="Breakeven")}),f(111,"Breakeven"),u()()()()(),d(112,"div",78)(113,"div",65),f(114,"Emotional Analysis & Reflection"),u(),d(115,"div",66),f(116,"Analyze your emotional state after completing the trade"),u(),d(117,"div",62)(118,"div",90)(119,"label",50),f(120,"Post-Trade Emotional State"),u(),d(121,"select",91),ee("ngModelChange",function(i){D(e);let o=_();return te(o.completeForm.emotional_after_state,i)||(o.completeForm.emotional_after_state=i),I(i)}),d(122,"option",92),f(123,"How did you feel after completing the trade?"),u(),d(124,"option",93),f(125,"confident"),u(),d(126,"option",94),f(127,"relieved"),u(),d(128,"option",95),f(129,"neutral"),u(),d(130,"option",96),f(131,"anxious"),u(),d(132,"option",97),f(133,"frustrated"),u(),d(134,"option",98),f(135,"disappointed"),u()()(),d(136,"div",90)(137,"label",50),f(138,"Confidence After (1\u201310)"),u(),d(139,"input",99),ee("ngModelChange",function(i){D(e);let o=_();return te(o.completeForm.confidence_after_level,i)||(o.completeForm.confidence_after_level=i),I(i)}),u(),d(140,"div",69),f(141,"Level: "),d(142,"strong"),f(143),u()()(),d(144,"div",86)(145,"label",50),f(146,"Trade Notes"),u(),d(147,"textarea",100),ee("ngModelChange",function(i){D(e);let o=_();return te(o.completeForm.trade_notes,i)||(o.completeForm.trade_notes=i),I(i)}),u()()()()(),d(148,"div",55)(149,"button",56),C("click",function(){D(e);let i=_();return I(i.closeComplete())}),f(150,"Cancel"),u(),d(151,"button",101),C("click",function(){D(e);let i=_();return I(i.confirmComplete())}),f(152,"Mark Completed"),u()()()()}if(n&2){let e,r,i,o,s=_();m(9),P(s.completeTarget==null?null:s.completeTarget.symbol),m(15),P(s.completeTarget==null?null:s.completeTarget.symbol),m(4),J("dir-long",(s.completeTarget==null?null:s.completeTarget.direction)==="LONG")("dir-short",(s.completeTarget==null?null:s.completeTarget.direction)==="SHORT"),m(),U(" ",s.completeTarget==null?null:s.completeTarget.direction," "),m(5),P(s.asMoney((e=s.completeTarget==null?null:s.completeTarget.actual_entry_price)!==null&&e!==void 0?e:s.completeTarget==null?null:s.completeTarget.planned_entry_price)),m(5),P(s.asMoney((r=s.completeTarget==null?null:s.completeTarget.actual_stop_loss)!==null&&r!==void 0?r:s.completeTarget==null?null:s.completeTarget.planned_stop_loss)),m(5),P(s.asMoney((i=s.completeTarget==null?null:s.completeTarget.actual_take_profit)!==null&&i!==void 0?i:s.completeTarget==null?null:s.completeTarget.planned_take_profit)),m(5),P((o=(o=s.completeTarget==null?null:s.completeTarget.actual_lot_size)!==null&&o!==void 0?o:s.completeTarget==null?null:s.completeTarget.planned_lot_size)!==null&&o!==void 0?o:"\u2014"),m(5),P((s.completeTarget==null?null:s.completeTarget.strategy_name)||"\u2014"),m(13),P(s.asMoney(s.pnlPreview())),m(6),P(s.marginPreview()),m(6),P(s.rrPreview()),m(11),X("ngModel",s.completeForm.exit_price),m(4),X("ngModel",s.completeForm.exit_date),m(5),X("ngModel",s.completeForm.broker_fees),m(7),J("active",s.completeForm.trade_outcome==="Win"),m(2),J("active",s.completeForm.trade_outcome==="Loss"),m(2),J("active",s.completeForm.trade_outcome==="Breakeven"),m(11),X("ngModel",s.completeForm.emotional_after_state),m(18),X("ngModel",s.completeForm.confidence_after_level),m(4),P(s.completeForm.confidence_after_level||5),m(4),X("ngModel",s.completeForm.trade_notes)}}var pf=class n{constructor(t,e){this.uc=t;this.router=e;this.refresh()}tab=Q("PLANNED");execModalOpen=Q(!1);completeModalOpen=Q(!1);rows=Le(()=>this.uc.trades);viewRows=Le(()=>this.rows().filter(t=>t.trade_state===this.tab()));trackById=(t,e)=>e.trade_id;async refresh(){await this.uc.loadTab(this.tab())}switchTab(t){this.tab.set(t),this.refresh()}edit(t){this.router.navigate(["/pretrade"],{queryParams:{edit:t.trade_id}})}asMoney(t){return t==null||isNaN(+t)?"\u2014":`$${Number(t).toFixed(2)}`}dateOnly(t){return t?new Date(t).toLocaleDateString():"\u2014"}execTarget=null;execForm={actual_entry_price:null,actual_stop_loss:null,actual_take_profit:null,actual_lot_size:null};execMode=Q("mark");openExecute(t){this.completeModalOpen.set(!1),this.execTarget=t,this.execForm={actual_entry_price:t.planned_entry_price??null,actual_stop_loss:t.planned_stop_loss??null,actual_take_profit:t.planned_take_profit??null,actual_lot_size:t.planned_lot_size??null},this.execMode.set("mark"),this.execModalOpen.set(!0)}editExecuting(t){this.completeModalOpen.set(!1),this.execTarget=t,this.execForm={actual_entry_price:t.actual_entry_price??t.planned_entry_price??null,actual_stop_loss:t.actual_stop_loss??t.planned_stop_loss??null,actual_take_profit:t.actual_take_profit??t.planned_take_profit??null,actual_lot_size:t.actual_lot_size??t.planned_lot_size??null},this.execMode.set("update"),this.execModalOpen.set(!0)}async confirmExec(){if(!this.execTarget)return;let t={actual_entry_price:Number(this.execForm.actual_entry_price??0),actual_stop_loss:Number(this.execForm.actual_stop_loss??0),actual_take_profit:Number(this.execForm.actual_take_profit??0),actual_lot_size:Number(this.execForm.actual_lot_size??0)};this.execMode()==="mark"?await this.uc.markExecuted(this.execTarget.trade_id,t):await this.uc.updateExecuting(this.execTarget.trade_id,t),this.execModalOpen.set(!1),this.execTarget=null,this.switchTab("EXECUTING")}closeExec(){this.execModalOpen.set(!1),this.execTarget=null}completeTarget=null;completeForm={};openComplete(t){this.execModalOpen.set(!1),this.completeTarget=t,this.completeForm={exit_price:null,exit_date:new Date().toISOString().slice(0,10),broker_fees:0,trade_outcome:"Win",emotional_after_state:"neutral",confidence_after_level:5,trade_notes:""},this.completeModalOpen.set(!0)}closeComplete(){this.completeModalOpen.set(!1),this.completeTarget=null}pnlPreview(){let t=+(this.completeTarget?.actual_entry_price??this.completeTarget?.planned_entry_price??0),e=+(this.completeForm.exit_price??0);if(!t||!e)return 0;let r=+(this.completeTarget?.actual_lot_size??this.completeTarget?.planned_lot_size??1);return(e-t)*r-+(this.completeForm.broker_fees||0)}marginPreview(){let t=+(this.completeTarget?.actual_entry_price??this.completeTarget?.planned_entry_price??0),e=+(this.completeForm.exit_price??0);return!t||!e?"0.00%":((e-t)/t*100).toFixed(2)+"%"}rrPreview(){let t=+(this.completeTarget?.actual_entry_price??this.completeTarget?.planned_entry_price??0),e=+(this.completeTarget?.actual_stop_loss??this.completeTarget?.planned_stop_loss??0),r=+(this.completeTarget?.actual_take_profit??this.completeTarget?.planned_take_profit??0);if(!t||!e||!r)return"0.00";let i=Math.abs(t-e),o=Math.abs(r-t);return i?(o/i).toFixed(2):"0.00"}async confirmComplete(){this.completeTarget&&(await this.uc.completeAndApply(this.completeTarget.trade_id,{exit_price:Number(this.completeForm.exit_price),broker_fees:Number(this.completeForm.broker_fees||0),outcome:String(this.completeForm.trade_outcome||"Win"),emotion_after:String(this.completeForm.emotional_after_state||"neutral"),conf_after:Number(this.completeForm.confidence_after_level||5),notes:this.completeForm.trade_notes??"",lessons:this.completeForm.lesson_learned??"",improve:this.completeForm.points_to_improve??""}),this.completeModalOpen.set(!1),this.completeTarget=null,this.switchTab("COMPLETED"))}async remove(t){await this.uc.remove(t.trade_id)}static \u0275fac=function(e){return new(e||n)(E(Ts),E(Ke))};static \u0275cmp=F({type:n,selectors:[["app-tradejournal"]],decls:65,vars:14,consts:[[1,"container","my-4"],[1,"page-head"],[1,"mb-1"],[1,"subtle"],[1,"card","soft-card","my-3"],[1,"card-body","d-flex","flex-wrap","align-items-center","gap-3"],[1,"me-auto"],[1,"fw-semibold"],[1,"subtle","small"],["routerLink","/pretrade",1,"btn","btn-outline-primary","btn-rounded","d-flex","align-items-center","gap-2"],[1,"bi","bi-gear"],["type","button",1,"btn","btn-light","btn-rounded","d-flex","align-items-center","gap-2"],[1,"bi","bi-lightning-charge"],[1,"d-flex","justify-content-between","align-items-center","my-3"],[1,"segmented"],[1,"seg-btn",3,"click"],[1,"soft-card","bg-white"],[1,"card-head","d-flex","align-items-center"],[1,"ms-auto"],["routerLink","/pretrade",1,"btn","btn-primary","btn-rounded","px-3"],[1,"table-responsive"],[1,"table","clean","align-middle","mb-0"],[1,"ps-4"],[1,"pe-4","text-end"],[4,"ngIf"],["class","p-4 text-center subtle",4,"ngIf"],["class","alert alert-danger mt-3",4,"ngIf"],["class","modal-backdrop-custom",4,"ngIf"],["class","modal-shell",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"ps-4","fw-semibold"],[1,"badge-pill","badge-soft-warning","text-capitalize"],[1,"d-inline-flex","gap-2"],["type","button",1,"btn","btn-light","btn-sm","btn-rounded","px-3",3,"click"],["type","button",1,"btn","btn-outline-warning","btn-sm","btn-rounded","px-3",3,"click"],["type","button",1,"btn","btn-danger","btn-sm","btn-rounded","px-3",3,"click"],["type","button",1,"btn","btn-success","btn-sm","btn-rounded","px-3",3,"click"],[1,"badge-pill","badge-soft-success","text-capitalize"],["type","button",1,"btn","btn-light","btn-sm","btn-rounded","px-3"],[1,"p-4","text-center","subtle"],[1,"alert","alert-danger","mt-3"],[1,"modal-backdrop-custom"],[1,"modal-shell"],[1,"modal-card"],[1,"modal-header","d-flex","align-items-start","justify-content-between"],[1,"m-0","fw-semibold"],[1,"muted","small"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3"],[1,"form-label"],["type","number","step","0.000001","placeholder","Entry price",1,"form-control","form-lg",3,"ngModelChange","ngModel"],["type","number","step","0.000001","placeholder","Stop loss price",1,"form-control","form-lg",3,"ngModelChange","ngModel"],["type","number","step","0.000001","placeholder","Take profit price",1,"form-control","form-lg",3,"ngModelChange","ngModel"],["type","number","step","0.0001","placeholder","0.10",1,"form-control","form-lg",3,"ngModelChange","ngModel"],[1,"modal-footer","d-flex","justify-content-between"],["type","button",1,"btn","btn-light","btn-rounded","px-3",3,"click"],["type","button",1,"btn","btn-primary","btn-rounded","px-3",3,"click"],[1,"modal-header"],[1,"d-flex","align-items-center","gap-2"],[1,"btn","btn-sm","btn-light",3,"click"],[1,"m-0"],[1,"row","g-3"],[1,"col-lg-7"],[1,"soft-card","p-3","h-100"],[1,"fw-semibold","mb-1"],[1,"muted","small","mb-3"],[1,"row","gy-2"],[1,"col-6"],[1,"muted"],[1,"col-lg-5"],[1,"row","g-2"],[1,"col-12","col-sm-4"],[1,"metric","g"],[1,"k"],[1,"v"],[1,"metric","o"],[1,"metric","b"],[1,"soft-card","p-3","mt-3"],[1,"row","g-3","align-items-end"],[1,"col-md-4"],[1,"position-relative","input-dollar"],["type","number","step","0.000001","placeholder","Exit Price",1,"form-control","form-lg",3,"ngModelChange","ngModel"],["type","date",1,"form-control","form-lg",3,"ngModelChange","ngModel"],["type","number","step","0.01","placeholder","0",1,"form-control","form-lg",3,"ngModelChange","ngModel"],[1,"field-help","mt-1"],[1,"col-12"],[1,"form-label","d-block","mb-2"],[1,"pill-toggle"],["type","button",1,"px-3",3,"click"],[1,"col-md-6"],[1,"form-select","form-lg",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],["value","confident"],["value","relieved"],["value","neutral"],["value","anxious"],["value","frustrated"],["value","disappointed"],["type","range","min","1","max","10",1,"form-range",3,"ngModelChange","ngModel"],["rows","3","placeholder","Notes about what happened during the trade",1,"form-control","form-lg",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-success","btn-rounded","px-3",3,"click"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"div",1)(2,"h2",2),f(3,"Trading Dashboard"),u(),d(4,"div",3),f(5,"Manage your trades from planning to completion"),u()(),d(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7),f(10,"Trade Entry Mode"),u(),d(11,"div",8),f(12,"Manually enter and manage trades"),u()(),d(13,"a",9),x(14,"span",10),f(15," Manual Entry "),u(),d(16,"button",11),x(17,"span",12),f(18," Auto Sync "),u()()(),d(19,"div",13)(20,"div",14)(21,"button",15),C("click",function(){return r.switchTab("PLANNED")}),f(22,"Planned Trades"),u(),d(23,"button",15),C("click",function(){return r.switchTab("EXECUTING")}),f(24,"Executed Trades"),u(),d(25,"button",15),C("click",function(){return r.switchTab("COMPLETED")}),f(26,"Completed Trades"),u()()(),d(27,"div",16)(28,"div",17)(29,"div")(30,"div",7),f(31,"Your Trade Plans"),u(),d(32,"div",8),f(33,"Review and manage your planned trades"),u()(),d(34,"div",18)(35,"a",19),f(36,"New Trade Plan"),u()()(),d(37,"div",20)(38,"table",21)(39,"thead")(40,"tr")(41,"th",22),f(42,"Symbol"),u(),d(43,"th"),f(44,"Direction"),u(),d(45,"th"),f(46,"Entry Price"),u(),d(47,"th"),f(48,"Strategy"),u(),d(49,"th"),f(50,"Emotional State"),u(),d(51,"th"),f(52,"Date"),u(),d(53,"th"),f(54,"Status"),u(),d(55,"th",23),f(56,"Actions"),u()()(),M(57,BL,2,2,"tbody",24)(58,HL,2,2,"tbody",24)(59,GL,2,2,"tbody",24),u()(),M(60,qL,2,0,"div",25),u(),M(61,WL,2,1,"div",26),u(),M(62,QL,1,0,"div",27)(63,KL,34,8,"div",28)(64,ZL,153,28,"div",28)),e&2&&(m(21),J("active",r.tab()==="PLANNED"),m(2),J("active",r.tab()==="EXECUTING"),m(2),J("active",r.tab()==="COMPLETED"),m(32),y("ngIf",r.tab()==="PLANNED"),m(),y("ngIf",r.tab()==="EXECUTING"),m(),y("ngIf",r.tab()==="COMPLETED"),m(),y("ngIf",r.viewRows().length===0),m(),y("ngIf",r.uc.error()),m(),y("ngIf",r.execModalOpen()||r.completeModalOpen()),m(),y("ngIf",r.execModalOpen()),m(),y("ngIf",r.completeModalOpen()))},dependencies:[B,We,re,ut,Cn,En,le,jn,so,Ht,me,mt,Et],styles:['.page-head[_ngcontent-%COMP%]{padding:1.25rem 0 .25rem}.subtle[_ngcontent-%COMP%], .muted[_ngcontent-%COMP%]{color:#6c757d}.soft-card[_ngcontent-%COMP%]{border-radius:1rem;border:1px solid #e9ecef;box-shadow:0 1px 2px #10182805}.card-head[_ngcontent-%COMP%]{padding:1rem 1.25rem;border-bottom:1px solid #eef2f7}.segmented[_ngcontent-%COMP%]{display:inline-flex;gap:.25rem;padding:.25rem;border-radius:9999px;background:#f1f3f5}.segmented[_ngcontent-%COMP%]   .seg-btn[_ngcontent-%COMP%]{border:0;border-radius:9999px;background:transparent;padding:.5rem 1.25rem;font-weight:600;color:#495057}.segmented[_ngcontent-%COMP%]   .seg-btn.active[_ngcontent-%COMP%]{background:#fff;box-shadow:0 1px 2px #0000000f;color:#0d6efd}.table.clean[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(caption) > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{border-bottom-width:0}.table.clean[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] + tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:1px solid #eef2f7}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#6c757d;font-weight:600}.badge-pill[_ngcontent-%COMP%]{border-radius:9999px;padding:.35rem .75rem;font-weight:600}.badge-soft-warning[_ngcontent-%COMP%]{background:#fff8e1;color:#946200}.badge-soft-success[_ngcontent-%COMP%]{background:#eafff2;color:#117c36}.btn-rounded[_ngcontent-%COMP%]{border-radius:.75rem}.btn-danger[_ngcontent-%COMP%]{background:#ffe8e6;color:#c2271c;border:0}.btn-danger[_ngcontent-%COMP%]:hover{background:#ffd8d5;color:#a61f16}.modal-backdrop-custom[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000073;opacity:1;transition:opacity .15s;z-index:1050}.modal-shell[_ngcontent-%COMP%]{position:fixed;inset:0;display:flex;align-items:flex-start;justify-content:center;padding:3rem 1rem;overflow:auto;z-index:1060}.modal-card[_ngcontent-%COMP%]{width:min(980px,calc(100vw - 2rem));background:#fff;border-radius:1rem;box-shadow:0 10px 30px #1018282e;animation:_ngcontent-%COMP%_pop .12s ease-out}@keyframes _ngcontent-%COMP%_pop{0%{transform:scale(.98);opacity:.6}to{transform:scale(1);opacity:1}}.modal-section[_ngcontent-%COMP%]{border-bottom:1px solid #eef2f7}.modal-header[_ngcontent-%COMP%]{padding:1rem 1.25rem;border-bottom:1px solid #eef2f7}.modal-body[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]{padding:1rem 1.25rem}.form-control.form-lg[_ngcontent-%COMP%]{border-radius:.75rem;padding:.75rem 1rem;font-size:1rem}.metric[_ngcontent-%COMP%]{border-radius:.75rem;border:1px solid #eef2f7;padding:1rem;text-align:center}.metric[_ngcontent-%COMP%]   .k[_ngcontent-%COMP%]{font-size:.85rem;color:#6c757d}.metric[_ngcontent-%COMP%]   .v[_ngcontent-%COMP%]{font-weight:700;font-size:1.1rem}.metric.g[_ngcontent-%COMP%]{color:#117c36}.metric.b[_ngcontent-%COMP%]{color:#0d6efd}.metric.o[_ngcontent-%COMP%]{color:#0a7}.pill-toggle[_ngcontent-%COMP%]{display:inline-flex;border-radius:.75rem;background:#f1f3f5;overflow:hidden}.pill-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:0;background:transparent;padding:.5rem 1rem;font-weight:600}.pill-toggle[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#dbeafe;color:#0d6efd}.label-strong[_ngcontent-%COMP%]{font-weight:600}.dir-long[_ngcontent-%COMP%]{color:#198754}.dir-short[_ngcontent-%COMP%]{color:#dc3545}.field-help[_ngcontent-%COMP%]{color:#6c757d;font-size:.85rem}.input-dollar[_ngcontent-%COMP%]:before{content:"$";position:absolute;left:.75rem;top:50%;transform:translateY(-50%);color:#6c757d}.input-dollar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:1.6rem}']})};var cD=[{path:"",component:kd,canActivate:[tl]},{path:"home",component:md,canActivate:[kt]},{path:"emotions",component:nf,canActivate:[kt]},{path:"pretrade",component:ff,canActivate:[kt]},{path:"tradejournal",component:pf,canActivate:[kt]},{path:"individualTrade",component:Yd,canActivate:[kt]},{path:"meditationhub",component:jd,canActivate:[kt]},{path:"analytics",component:af,canActivate:[kt]},{path:"tradeaccounts",component:Jd,canActivate:[kt]},{path:"useraccount",component:Xd,canActivate:[kt]},{path:"admin/emotionquestion",component:Td,canActivate:[kt]},{path:"admin/meditationvideo",component:tf,canActivate:[kt]},{path:"auth/forgot-password",component:rf,canActivate:[tl]},{path:"auth/update-password",component:of,canActivate:[kt]},{path:"**",redirectTo:""}];var ge=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(ge||{}),or="*";function uD(n,t=null){return{type:ge.Sequence,steps:n,options:t}}function Ov(n){return{type:ge.Style,styles:n,offset:null}}var pi=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(t=0,e=0){this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}},ul=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(t){this.players=t;let e=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){let e=t*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(i)})}getPosition(){let t=this.players.reduce((e,r)=>e===null||r.totalTime>e.totalTime?r:e,null);return t!=null?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}},hf="!";function dD(n){return new k(3e3,!1)}function YL(){return new k(3100,!1)}function JL(){return new k(3101,!1)}function XL(n){return new k(3001,!1)}function eV(n){return new k(3003,!1)}function tV(n){return new k(3004,!1)}function nV(n,t){return new k(3005,!1)}function rV(){return new k(3006,!1)}function iV(){return new k(3007,!1)}function oV(n,t){return new k(3008,!1)}function sV(n){return new k(3002,!1)}function aV(n,t,e,r,i){return new k(3010,!1)}function lV(){return new k(3011,!1)}function cV(){return new k(3012,!1)}function uV(){return new k(3200,!1)}function dV(){return new k(3202,!1)}function fV(){return new k(3013,!1)}function pV(n){return new k(3014,!1)}function hV(n){return new k(3015,!1)}function mV(n){return new k(3016,!1)}function gV(n,t){return new k(3404,!1)}function vV(n){return new k(3502,!1)}function yV(n){return new k(3503,!1)}function _V(){return new k(3300,!1)}function bV(n){return new k(3504,!1)}function wV(n){return new k(3301,!1)}function CV(n,t){return new k(3302,!1)}function EV(n){return new k(3303,!1)}function SV(n,t){return new k(3400,!1)}function DV(n){return new k(3401,!1)}function IV(n){return new k(3402,!1)}function xV(n,t){return new k(3505,!1)}function hi(n){switch(n.length){case 0:return new pi;case 1:return n[0];default:return new ul(n)}}function DD(n,t,e=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(t.forEach(l=>{let c=l.get("offset"),p=c==s,h=p&&a||new Map;l.forEach((v,g)=>{let b=g,w=v;if(g!=="offset")switch(b=n.normalizePropertyName(b,i),w){case hf:w=e.get(g);break;case or:w=r.get(g);break;default:w=n.normalizeStyleValue(g,b,w,i);break}h.set(b,w)}),p||o.push(h),a=h,s=c}),i.length)throw vV(i);return o}function ny(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&Rv(e,"start",n)));break;case"done":n.onDone(()=>r(e&&Rv(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&Rv(e,"destroy",n)));break}}function Rv(n,t,e){let r=e.totalTime,i=!!e.disabled,o=ry(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,r??n.totalTime,i),s=n._data;return s!=null&&(o._data=s),o}function ry(n,t,e,r,i="",o=0,s){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function ln(n,t,e){let r=n.get(t);return r||n.set(t,r=e),r}function fD(n){let t=n.indexOf(":"),e=n.substring(1,t),r=n.slice(t+1);return[e,r]}var TV=typeof document>"u"?null:document.documentElement;function iy(n){let t=n.parentNode||n.host||null;return t===TV?null:t}function MV(n){return n.substring(1,6)=="ebkit"}var lo=null,pD=!1;function AV(n){lo||(lo=kV()||{},pD=lo.style?"WebkitAppearance"in lo.style:!1);let t=!0;return lo.style&&!MV(n)&&(t=n in lo.style,!t&&pD&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in lo.style)),t}function kV(){return typeof document<"u"?document.body:null}function ID(n,t){for(;t;){if(t===n)return!0;t=iy(t)}return!1}function xD(n,t,e){if(e)return Array.from(n.querySelectorAll(t));let r=n.querySelector(t);return r?[r]:[]}var oy=(()=>{class n{validateStyleProperty(e){return AV(e)}containsElement(e,r){return ID(e,r)}getParentElement(e){return iy(e)}query(e,r,i){return xD(e,r,i)}computeStyle(e,r,i){return i||""}animate(e,r,i,o,s,a=[],l){return new pi(i,o)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=A({token:n,factory:n.\u0275fac})}return n})(),fo=class{static NOOP=new oy},po=class{};var NV=1e3,TD="{{",PV="}}",MD="ng-enter",Bv="ng-leave",mf="ng-trigger",bf=".ng-trigger",hD="ng-animating",$v=".ng-animating";function Fr(n){if(typeof n=="number")return n;let t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Hv(parseFloat(t[1]),t[2])}function Hv(n,t){switch(t){case"s":return n*NV;default:return n}}function wf(n,t,e){return n.hasOwnProperty("duration")?n:OV(n,t,e)}function OV(n,t,e){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof n=="string"){let a=n.match(r);if(a===null)return t.push(dD(n)),{duration:0,delay:0,easing:""};i=Hv(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(o=Hv(parseFloat(l),a[4]));let c=a[5];c&&(s=c)}else i=n;if(!e){let a=!1,l=t.length;i<0&&(t.push(YL()),a=!0),o<0&&(t.push(JL()),a=!0),a&&t.splice(l,0,dD(n))}return{duration:i,delay:o,easing:s}}function RV(n){return n.length?n[0]instanceof Map?n:n.map(t=>new Map(Object.entries(t))):[]}function sr(n,t,e){t.forEach((r,i)=>{let o=sy(i);e&&!e.has(i)&&e.set(i,n.style[o]),n.style[o]=r})}function uo(n,t){t.forEach((e,r)=>{let i=sy(r);n.style[i]=""})}function dl(n){return Array.isArray(n)?n.length==1?n[0]:uD(n):n}function FV(n,t,e){let r=t.params||{},i=AD(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||e.push(XL(o))})}var zv=new RegExp(`${TD}\\s*(.+?)\\s*${PV}`,"g");function AD(n){let t=[];if(typeof n=="string"){let e;for(;e=zv.exec(n);)t.push(e[1]);zv.lastIndex=0}return t}function pl(n,t,e){let r=`${n}`,i=r.replace(zv,(o,s)=>{let a=t[s];return a==null&&(e.push(eV(s)),a=""),a.toString()});return i==r?n:i}var LV=/-+([a-z0-9])/g;function sy(n){return n.replace(LV,(...t)=>t[1].toUpperCase())}function VV(n,t){return n===0||t===0}function jV(n,t,e){if(e.size&&t.length){let r=t[0],i=[];if(e.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<t.length;o++){let s=t[o];i.forEach(a=>s.set(a,ay(n,a)))}}return t}function an(n,t,e){switch(t.type){case ge.Trigger:return n.visitTrigger(t,e);case ge.State:return n.visitState(t,e);case ge.Transition:return n.visitTransition(t,e);case ge.Sequence:return n.visitSequence(t,e);case ge.Group:return n.visitGroup(t,e);case ge.Animate:return n.visitAnimate(t,e);case ge.Keyframes:return n.visitKeyframes(t,e);case ge.Style:return n.visitStyle(t,e);case ge.Reference:return n.visitReference(t,e);case ge.AnimateChild:return n.visitAnimateChild(t,e);case ge.AnimateRef:return n.visitAnimateRef(t,e);case ge.Query:return n.visitQuery(t,e);case ge.Stagger:return n.visitStagger(t,e);default:throw tV(t.type)}}function ay(n,t){return window.getComputedStyle(n)[t]}var UV=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Cf=class extends po{normalizePropertyName(t,e){return sy(t)}normalizeStyleValue(t,e,r,i){let o="",s=r.toString().trim();if(UV.has(e)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(nV(t,r))}return s+o}};var Ef="*";function BV(n,t){let e=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>$V(r,e,t)):e.push(n),e}function $V(n,t,e){if(n[0]==":"){let l=HV(n,e);if(typeof l=="function"){t.push(l);return}n=l}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return e.push(hV(n)),t;let i=r[1],o=r[2],s=r[3];t.push(mD(i,s));let a=i==Ef&&s==Ef;o[0]=="<"&&!a&&t.push(mD(s,i))}function HV(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(mV(n)),"* => *"}}var gf=new Set(["true","1"]),vf=new Set(["false","0"]);function mD(n,t){let e=gf.has(n)||vf.has(n),r=gf.has(t)||vf.has(t);return(i,o)=>{let s=n==Ef||n==i,a=t==Ef||t==o;return!s&&e&&typeof i=="boolean"&&(s=i?gf.has(n):vf.has(n)),!a&&r&&typeof o=="boolean"&&(a=o?gf.has(t):vf.has(t)),s&&a}}var kD=":self",zV=new RegExp(`s*${kD}s*,?`,"g");function ND(n,t,e,r){return new Gv(n).build(t,e,r)}var gD="",Gv=class{_driver;constructor(t){this._driver=t}build(t,e,r){let i=new qv(e);return this._resetContextStyleTimingState(i),an(this,dl(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector=gD,t.collectedStyles=new Map,t.collectedStyles.set(gD,new Map),t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,i=e.depCount=0,o=[],s=[];return t.name.charAt(0)=="@"&&e.errors.push(rV()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),a.type==ge.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(p=>{l.name=p,o.push(this.visitState(l,e))}),l.name=c}else if(a.type==ge.Transition){let l=this.visitTransition(a,e);r+=l.queryCount,i+=l.depCount,s.push(l)}else e.errors.push(iV())}),{type:ge.Trigger,name:t.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(t,e){let r=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{AD(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&e.errors.push(oV(t.name,[...o.values()]))}return{type:ge.State,name:t.name,style:r,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;let r=an(this,dl(t.animation),e),i=BV(t.expr,e.errors);return{type:ge.Transition,matchers:i,animation:r,queryCount:e.queryCount,depCount:e.depCount,options:co(t.options)}}visitSequence(t,e){return{type:ge.Sequence,steps:t.steps.map(r=>an(this,r,e)),options:co(t.options)}}visitGroup(t,e){let r=e.currentTime,i=0,o=t.steps.map(s=>{e.currentTime=r;let a=an(this,s,e);return i=Math.max(i,e.currentTime),a});return e.currentTime=i,{type:ge.Group,steps:o,options:co(t.options)}}visitAnimate(t,e){let r=QV(t.timings,e.errors);e.currentAnimateTimings=r;let i,o=t.styles?t.styles:Ov({});if(o.type==ge.Keyframes)i=this.visitKeyframes(o,e);else{let s=t.styles,a=!1;if(!s){a=!0;let c={};r.easing&&(c.easing=r.easing),s=Ov(c)}e.currentTime+=r.duration+r.delay;let l=this.visitStyle(s,e);l.isEmptyStep=a,i=l}return e.currentAnimateTimings=null,{type:ge.Animate,timings:r,style:i,options:null}}visitStyle(t,e){let r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){let r=[],i=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of i)typeof a=="string"?a===or?r.push(a):e.errors.push(sV(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let l of a.values())if(l.toString().indexOf(TD)>=0){o=!0;break}}}),{type:ge.Style,styles:r,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){let r=e.currentAnimateTimings,i=e.currentTime,o=e.currentTime;r&&o>0&&(o-=r.duration+r.delay),t.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,l)=>{let c=e.collectedStyles.get(e.currentQuerySelector),p=c.get(l),h=!0;p&&(o!=i&&o>=p.startTime&&i<=p.endTime&&(e.errors.push(aV(l,p.startTime,p.endTime,o,i)),h=!1),o=p.startTime),h&&c.set(l,{startTime:o,endTime:i}),e.options&&FV(a,e.options,e.errors)})})}visitKeyframes(t,e){let r={type:ge.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(lV()),r;let i=1,o=0,s=[],a=!1,l=!1,c=0,p=t.steps.map(O=>{let L=this._makeStyleAst(O,e),j=L.offset!=null?L.offset:WV(L.styles),q=0;return j!=null&&(o++,q=L.offset=j),l=l||q<0||q>1,a=a||q<c,c=q,s.push(q),L});l&&e.errors.push(cV()),a&&e.errors.push(uV());let h=t.steps.length,v=0;o>0&&o<h?e.errors.push(dV()):o==0&&(v=i/(h-1));let g=h-1,b=e.currentTime,w=e.currentAnimateTimings,T=w.duration;return p.forEach((O,L)=>{let j=v>0?L==g?1:v*L:s[L],q=j*T;e.currentTime=b+w.delay+q,w.duration=q,this._validateStyleAst(O,e),O.offset=j,r.styles.push(O)}),r}visitReference(t,e){return{type:ge.Reference,animation:an(this,dl(t.animation),e),options:co(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:ge.AnimateChild,options:co(t.options)}}visitAnimateRef(t,e){return{type:ge.AnimateRef,animation:this.visitReference(t.animation,e),options:co(t.options)}}visitQuery(t,e){let r=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;let[o,s]=GV(t.selector);e.currentQuerySelector=r.length?r+" "+o:o,ln(e.collectedStyles,e.currentQuerySelector,new Map);let a=an(this,dl(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:ge.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:co(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(fV());let r=t.timings==="full"?{duration:0,delay:0,easing:"full"}:wf(t.timings,e.errors,!0);return{type:ge.Stagger,animation:an(this,dl(t.animation),e),timings:r,options:null}}};function GV(n){let t=!!n.split(/\s*,\s*/).find(e=>e==kD);return t&&(n=n.replace(zV,"")),n=n.replace(/@\*/g,bf).replace(/@\w+/g,e=>bf+"-"+e.slice(1)).replace(/:animating/g,$v),[n,t]}function qV(n){return n?N({},n):null}var qv=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(t){this.errors=t}};function WV(n){if(typeof n=="string")return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){let r=e;t=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}function QV(n,t){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=wf(n,t).duration;return Fv(o,0,"")}let e=n;if(e.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=Fv(0,0,"");return o.dynamic=!0,o.strValue=e,o}let i=wf(e,t);return Fv(i.duration,i.delay,i.easing)}function co(n){return n?(n=N({},n),n.params&&(n.params=qV(n.params))):n={},n}function Fv(n,t,e){return{duration:n,delay:t,easing:e}}function ly(n,t,e,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var hl=class{_map=new Map;get(t){return this._map.get(t)||[]}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}},KV=1,ZV=":enter",YV=new RegExp(ZV,"g"),JV=":leave",XV=new RegExp(JV,"g");function PD(n,t,e,r,i,o=new Map,s=new Map,a,l,c=[]){return new Wv().buildKeyframes(n,t,e,r,i,o,s,a,l,c)}var Wv=class{buildKeyframes(t,e,r,i,o,s,a,l,c,p=[]){c=c||new hl;let h=new Qv(t,e,c,i,o,p,[]);h.options=l;let v=l.delay?Fr(l.delay):0;h.currentTimeline.delayNextStep(v),h.currentTimeline.setStyles([s],null,h.errors,l),an(this,r,h);let g=h.timelines.filter(b=>b.containsAnimation());if(g.length&&a.size){let b;for(let w=g.length-1;w>=0;w--){let T=g[w];if(T.element===e){b=T;break}}b&&!b.allowOnlyTimelineStyles()&&b.setStyles([a],null,h.errors,l)}return g.length?g.map(b=>b.buildKeyframes()):[ly(e,[],[],[],0,v,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){let r=e.subInstructions.get(e.element);if(r){let i=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){let r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,r),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,r){for(let i of t){let o=i?.delay;if(o){let s=typeof o=="number"?o:Fr(pl(o,i?.params??{},e.errors));r.delayNextStep(s)}}}_visitSubInstructions(t,e,r){let o=e.currentTimeline.currentTime,s=r.duration!=null?Fr(r.duration):null,a=r.delay!=null?Fr(r.delay):null;return s!==0&&t.forEach(l=>{let c=e.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),an(this,t.animation,e),e.previousNode=t}visitSequence(t,e){let r=e.subContextCount,i=e,o=t.options;if(o&&(o.params||o.delay)&&(i=e.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==ge.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Sf);let s=Fr(o.delay);i.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>an(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){let r=[],i=e.currentTimeline.currentTime,o=t.options&&t.options.delay?Fr(t.options.delay):0;t.steps.forEach(s=>{let a=e.createSubContext(t.options);o&&a.delayNextStep(o),an(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){let r=t.strValue,i=e.params?pl(r,e.params,e.errors):r;return wf(i,e.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){let r=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),i.snapshotCurrentStyles());let o=t.style;o.type==ge.Keyframes?this.visitKeyframes(o,e):(e.incrementTime(r.duration),this.visitStyle(o,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){let r=e.currentTimeline,i=e.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(o):r.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){let r=e.currentAnimateTimings,i=e.currentTimeline.duration,o=r.duration,a=e.createSubContext().currentTimeline;a.easing=r.easing,t.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*o),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(i+o),e.previousNode=t}visitQuery(t,e){let r=e.currentTimeline.currentTime,i=t.options||{},o=i.delay?Fr(i.delay):0;o&&(e.previousNode.type===ge.Style||r==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Sf);let s=r,a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,p)=>{e.currentQueryIndex=p;let h=e.createSubContext(t.options,c);o&&h.delayNextStep(o),c===e.element&&(l=h.currentTimeline),an(this,t.animation,h),h.currentTimeline.applyStylesToKeyframe();let v=h.currentTimeline.currentTime;s=Math.max(s,v)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){let r=e.parentContext,i=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1),l=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime;break}let p=e.currentTimeline;l&&p.delayNextStep(l);let h=p.currentTime;an(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=i.currentTime-h+(i.startTime-r.currentTimeline.startTime)}},Sf={},Qv=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Sf;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(t,e,r,i,o,s,a,l){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.currentTimeline=l||new Df(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;let r=t,i=this.options;r.duration!=null&&(i.duration=Fr(r.duration)),r.delay!=null&&(i.delay=Fr(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=pl(o[a],s,this.errors))})}}_copyOptions(){let t={};if(this.options){let e=this.options.params;if(e){let r=t.params={};Object.keys(e).forEach(i=>{r[i]=e[i]})}}return t}createSubContext(t=null,e,r){let i=e||this.element,o=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=Sf,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){let i={duration:e??t.duration,delay:this.currentTimeline.currentTime+(r??0)+t.delay,easing:""},o=new Kv(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,i,o,s){let a=[];if(i&&a.push(this.element),t.length>0){t=t.replace(YV,"."+this._enterClassName),t=t.replace(XV,"."+this._leaveClassName);let l=r!=1,c=this._driver.query(this.element,t,l);r!==0&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!o&&a.length==0&&s.push(pV(e)),a}},Df=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(t,e,r,i){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new n(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=KV,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,r]of this._globalTimelineStyles)this._backFill.set(e,r||or),this._currentKeyframe.set(e,or);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,i){e&&this._previousKeyframe.set("easing",e);let o=i&&i.params||{},s=ej(t,this._globalTimelineStyles);for(let[a,l]of s){let c=pl(l,o,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??or),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,r)=>{let i=this._styleSummary.get(r);(!i||e.time>i.time)&&this._updateStyle(r,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,e=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((p,h)=>{p===hf?t.add(h):p===or&&e.add(h)}),r||c.set("offset",l/this.duration),i.push(c)});let o=[...t.values()],s=[...e.values()];if(r){let a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return ly(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},Kv=class extends Df{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(t,e,r,i,o,s,a=!1){super(t,e,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){let o=[],s=r+e,a=e/s,l=new Map(t[0]);l.set("offset",0),o.push(l);let c=new Map(t[0]);c.set("offset",vD(a)),o.push(c);let p=t.length-1;for(let h=1;h<=p;h++){let v=new Map(t[h]),g=v.get("offset"),b=e+g*r;v.set("offset",vD(b/s)),o.push(v)}r=s,e=0,i="",t=o}return ly(this.element,t,this.preStyleProps,this.postStyleProps,r,e,i,!0)}};function vD(n,t=3){let e=Math.pow(10,t-1);return Math.round(n*e)/e}function ej(n,t){let e=new Map,r;return n.forEach(i=>{if(i==="*"){r??=t.keys();for(let o of r)e.set(o,or)}else for(let[o,s]of i)e.set(o,s)}),e}function yD(n,t,e,r,i,o,s,a,l,c,p,h,v){return{type:0,element:n,triggerName:t,isRemovalTransition:i,fromState:e,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:p,totalTime:h,errors:v}}var Lv={},If=class{_triggerName;ast;_stateStyles;constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,i){return tj(this.ast.matchers,t,e,r,i)}buildStyles(t,e,r){let i=this._stateStyles.get("*");return t!==void 0&&(i=this._stateStyles.get(t?.toString())||i),i?i.buildStyles(e,r):new Map}build(t,e,r,i,o,s,a,l,c,p){let h=[],v=this.ast.options&&this.ast.options.params||Lv,g=a&&a.params||Lv,b=this.buildStyles(r,g,h),w=l&&l.params||Lv,T=this.buildStyles(i,w,h),O=new Set,L=new Map,j=new Map,q=i==="void",Z={params:OD(w,v),delay:this.ast.options?.delay},He=p?[]:PD(t,e,this.ast.animation,o,s,b,T,Z,c,h),Ye=0;return He.forEach(vt=>{Ye=Math.max(vt.duration+vt.delay,Ye)}),h.length?yD(e,this._triggerName,r,i,q,b,T,[],[],L,j,Ye,h):(He.forEach(vt=>{let mi=vt.element,ho=ln(L,mi,new Set);vt.preStyleProps.forEach(gi=>ho.add(gi));let cy=ln(j,mi,new Set);vt.postStyleProps.forEach(gi=>cy.add(gi)),mi!==e&&O.add(mi)}),yD(e,this._triggerName,r,i,q,b,T,He,[...O.values()],L,j,Ye))}};function tj(n,t,e,r,i){return n.some(o=>o(t,e,r,i))}function OD(n,t){let e=N({},t);return Object.entries(n).forEach(([r,i])=>{i!=null&&(e[r]=i)}),e}var Zv=class{styles;defaultParams;normalizer;constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){let r=new Map,i=OD(t,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=pl(s,i,e));let l=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,l,s,e),r.set(a,s)})}),r}};function nj(n,t,e){return new Yv(n,t,e)}var Yv=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,e.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new Zv(i.style,o,r))}),_D(this.states,"true","1"),_D(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new If(t,i,this.states))}),this.fallbackTransition=rj(t,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,i){return this.transitionFactories.find(s=>s.match(t,e,r,i))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}};function rj(n,t,e){let r=[(s,a)=>!0],i={type:ge.Sequence,steps:[],options:null},o={type:ge.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new If(n,o,t)}function _D(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}var ij=new hl,Jv=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r}register(t,e){let r=[],i=[],o=ND(this._driver,e,r,i);if(r.length)throw yV(r);this._animations.set(t,o)}_buildPlayer(t,e,r){let i=t.element,o=DD(this._normalizer,t.keyframes,e,r);return this._driver.animate(i,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){let i=[],o=this._animations.get(t),s,a=new Map;if(o?(s=PD(this._driver,e,o,MD,Bv,new Map,new Map,r,ij,i),s.forEach(p=>{let h=ln(a,p.element,new Map);p.postStyleProps.forEach(v=>h.set(v,null))})):(i.push(_V()),s=[]),i.length)throw bV(i);a.forEach((p,h)=>{p.forEach((v,g)=>{p.set(g,this._driver.computeStyle(h,g,or))})});let l=s.map(p=>{let h=a.get(p.element);return this._buildPlayer(p,new Map,h)}),c=hi(l);return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){let e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);let r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){let e=this._playersById.get(t);if(!e)throw wV(t);return e}listen(t,e,r,i){let o=ry(e,"","","");return ny(this._getPlayer(t),r,o,i),()=>{}}command(t,e,r,i){if(r=="register"){this.register(t,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(t,e,s);return}let o=this._getPlayer(t);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t);break}}},bD="ng-animate-queued",oj=".ng-animate-queued",Vv="ng-animate-disabled",sj=".ng-animate-disabled",aj="ng-star-inserted",lj=".ng-star-inserted",cj=[],RD={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},uj={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Un="__ng_removed",ml=class{namespaceId;value;options;get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;let r=t&&t.hasOwnProperty("value"),i=r?t.value:t;if(this.value=fj(i),r){let o=t,{value:s}=o,a=mo(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let e=t.params;if(e){let r=this.options.params;Object.keys(e).forEach(i=>{r[i]==null&&(r[i]=e[i])})}}},fl="void",jv=new ml(fl),Xv=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this._hostClassName="ng-tns-"+t,In(e,this._hostClassName)}listen(t,e,r,i){if(!this._triggers.has(e))throw CV(r,e);if(r==null||r.length==0)throw EV(e);if(!pj(r))throw SV(r,e);let o=ln(this._elementListeners,t,[]),s={name:e,phase:r,callback:i};o.push(s);let a=ln(this._engine.statesByElement,t,new Map);return a.has(e)||(In(t,mf),In(t,mf+"-"+e),a.set(e,jv)),()=>{this._engine.afterFlush(()=>{let l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return this._triggers.has(t)?!1:(this._triggers.set(t,e),!0)}_getTrigger(t){let e=this._triggers.get(t);if(!e)throw DV(t);return e}trigger(t,e,r,i=!0){let o=this._getTrigger(e),s=new gl(this.id,e,t),a=this._engine.statesByElement.get(t);a||(In(t,mf),In(t,mf+"-"+e),this._engine.statesByElement.set(t,a=new Map));let l=a.get(e),c=new ml(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(e,c),l||(l=jv),!(c.value===fl)&&l.value===c.value){if(!gj(l.params,c.params)){let w=[],T=o.matchStyles(l.value,l.params,w),O=o.matchStyles(c.value,c.params,w);w.length?this._engine.reportError(w):this._engine.afterFlush(()=>{uo(t,T),sr(t,O)})}return}let v=ln(this._engine.playersByElement,t,[]);v.forEach(w=>{w.namespaceId==this.id&&w.triggerName==e&&w.queued&&w.destroy()});let g=o.matchTransition(l.value,c.value,t,c.params),b=!1;if(!g){if(!i)return;g=o.fallbackTransition,b=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:g,fromState:l,toState:c,player:s,isFallbackTransition:b}),b||(In(t,bD),s.onStart(()=>{Ms(t,bD)})),s.onDone(()=>{let w=this.players.indexOf(s);w>=0&&this.players.splice(w,1);let T=this._engine.playersByElement.get(t);if(T){let O=T.indexOf(s);O>=0&&T.splice(O,1)}}),this.players.push(s),v.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(i=>i.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){let r=this._engine.driver.query(t,bf,!0);r.forEach(i=>{if(i[Un])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(t,e,r,i){let o=this._engine.statesByElement.get(t),s=new Map;if(o){let a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){let p=this.trigger(t,c,fl,i);p&&a.push(p)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),r&&hi(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){let i=new Set;e.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let l=this._triggers.get(s).fallbackTransition,c=r.get(s)||jv,p=new ml(fl),h=new gl(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:l,fromState:c,toState:p,player:h,isFallbackTransition:!0})})}}removeNode(t,e){let r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else{let s=t;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,e);else{let o=t[Un];(!o||o===RD)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){In(t,this._hostClassName)}drainQueuedTransitions(t){let e=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let l=ry(o,r.triggerName,r.fromState.value,r.toState.value);l._data=t,ny(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(r)}),this._queue=[],e.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},ey=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(t,e)=>{};_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r}get queuedPlayers(){let t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){let r=new Xv(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){let l=i.get(a);if(l){let c=r.indexOf(l);r.splice(c+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(t)}else r.push(t);return i.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let i=this._namespaceLookup[t];i&&i.register(e,r)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(t);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let e=new Set,r=this.statesByElement.get(t);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&e.add(o)}}return e}trigger(t,e,r,i){if(yf(e)){let o=this._fetchNamespace(t);if(o)return o.trigger(e,r,i),!0}return!1}insertNode(t,e,r,i){if(!yf(e))return;let o=e[Un];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){let s=this._fetchNamespace(t);s&&s.insertNode(e,r)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),In(t,Vv)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Ms(t,Vv))}removeNode(t,e,r){if(yf(e)){let i=t?this._fetchNamespace(t):null;i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r);let o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,r)}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,r,i,o){this.collectedLeaveElements.push(e),e[Un]={namespaceId:t,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,r,i,o){return yf(e)?this._fetchNamespace(t).listen(e,r,i,o):()=>{}}_buildInstruction(t,e,r,i,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,i,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,bf,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(t,$v,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){let e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){let e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return hi(this.players).onDone(()=>t());t()})}processLeaveNode(t){let e=t[Un];if(e&&e.setForRemoval){if(t[Un]=RD,e.namespaceId){this.destroyInnerAnimations(t);let r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(Vv)&&this.markElementAsDisabled(t,!1),this.driver.query(t,sj,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];In(i,aj)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{e=this._flushAnimations(r,t)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],e.length?hi(e).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(t){throw IV(t)}_flushAnimations(t,e){let r=new hl,i=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,p=new Set;this.disabledNodes.forEach($=>{p.add($);let G=this.driver.query($,oj,!0);for(let Y=0;Y<G.length;Y++)p.add(G[Y])});let h=this.bodyNode,v=Array.from(this.statesByElement.keys()),g=ED(v,this.collectedEnterElements),b=new Map,w=0;g.forEach(($,G)=>{let Y=MD+w++;b.set(G,Y),$.forEach(Ce=>In(Ce,Y))});let T=[],O=new Set,L=new Set;for(let $=0;$<this.collectedLeaveElements.length;$++){let G=this.collectedLeaveElements[$],Y=G[Un];Y&&Y.setForRemoval&&(T.push(G),O.add(G),Y.hasAnimation?this.driver.query(G,lj,!0).forEach(Ce=>O.add(Ce)):L.add(G))}let j=new Map,q=ED(v,Array.from(O));q.forEach(($,G)=>{let Y=Bv+w++;j.set(G,Y),$.forEach(Ce=>In(Ce,Y))}),t.push(()=>{g.forEach(($,G)=>{let Y=b.get(G);$.forEach(Ce=>Ms(Ce,Y))}),q.forEach(($,G)=>{let Y=j.get(G);$.forEach(Ce=>Ms(Ce,Y))}),T.forEach($=>{this.processLeaveNode($)})});let Z=[],He=[];for(let $=this._namespaceList.length-1;$>=0;$--)this._namespaceList[$].drainQueuedTransitions(e).forEach(Y=>{let Ce=Y.player,ct=Y.element;if(Z.push(Ce),this.collectedEnterElements.length){let yt=ct[Un];if(yt&&yt.setForMove){if(yt.previousTriggersValues&&yt.previousTriggersValues.has(Y.triggerName)){let vi=yt.previousTriggersValues.get(Y.triggerName),cn=this.statesByElement.get(Y.element);if(cn&&cn.has(Y.triggerName)){let vl=cn.get(Y.triggerName);vl.value=vi,cn.set(Y.triggerName,vl)}}Ce.destroy();return}}let Bn=!h||!this.driver.containsElement(h,ct),zt=j.get(ct),Lr=b.get(ct),je=this._buildInstruction(Y,r,Lr,zt,Bn);if(je.errors&&je.errors.length){He.push(je);return}if(Bn){Ce.onStart(()=>uo(ct,je.fromStyles)),Ce.onDestroy(()=>sr(ct,je.toStyles)),i.push(Ce);return}if(Y.isFallbackTransition){Ce.onStart(()=>uo(ct,je.fromStyles)),Ce.onDestroy(()=>sr(ct,je.toStyles)),i.push(Ce);return}let fy=[];je.timelines.forEach(yt=>{yt.stretchStartingKeyframe=!0,this.disabledNodes.has(yt.element)||fy.push(yt)}),je.timelines=fy,r.append(ct,je.timelines);let BD={instruction:je,player:Ce,element:ct};s.push(BD),je.queriedElements.forEach(yt=>ln(a,yt,[]).push(Ce)),je.preStyleProps.forEach((yt,vi)=>{if(yt.size){let cn=l.get(vi);cn||l.set(vi,cn=new Set),yt.forEach((vl,Pf)=>cn.add(Pf))}}),je.postStyleProps.forEach((yt,vi)=>{let cn=c.get(vi);cn||c.set(vi,cn=new Set),yt.forEach((vl,Pf)=>cn.add(Pf))})});if(He.length){let $=[];He.forEach(G=>{$.push(xV(G.triggerName,G.errors))}),Z.forEach(G=>G.destroy()),this.reportError($)}let Ye=new Map,vt=new Map;s.forEach($=>{let G=$.element;r.has(G)&&(vt.set(G,G),this._beforeAnimationBuild($.player.namespaceId,$.instruction,Ye))}),i.forEach($=>{let G=$.element;this._getPreviousPlayers(G,!1,$.namespaceId,$.triggerName,null).forEach(Ce=>{ln(Ye,G,[]).push(Ce),Ce.destroy()})});let mi=T.filter($=>SD($,l,c)),ho=new Map;CD(ho,this.driver,L,c,or).forEach($=>{SD($,l,c)&&mi.push($)});let gi=new Map;g.forEach(($,G)=>{CD(gi,this.driver,new Set($),l,hf)}),mi.forEach($=>{let G=ho.get($),Y=gi.get($);ho.set($,new Map([...G?.entries()??[],...Y?.entries()??[]]))});let Nf=[],uy=[],dy={};s.forEach($=>{let{element:G,player:Y,instruction:Ce}=$;if(r.has(G)){if(p.has(G)){Y.onDestroy(()=>sr(G,Ce.toStyles)),Y.disabled=!0,Y.overrideTotalTime(Ce.totalTime),i.push(Y);return}let ct=dy;if(vt.size>1){let zt=G,Lr=[];for(;zt=zt.parentNode;){let je=vt.get(zt);if(je){ct=je;break}Lr.push(zt)}Lr.forEach(je=>vt.set(je,ct))}let Bn=this._buildAnimation(Y.namespaceId,Ce,Ye,o,gi,ho);if(Y.setRealPlayer(Bn),ct===dy)Nf.push(Y);else{let zt=this.playersByElement.get(ct);zt&&zt.length&&(Y.parentPlayer=hi(zt)),i.push(Y)}}else uo(G,Ce.fromStyles),Y.onDestroy(()=>sr(G,Ce.toStyles)),uy.push(Y),p.has(G)&&i.push(Y)}),uy.forEach($=>{let G=o.get($.element);if(G&&G.length){let Y=hi(G);$.setRealPlayer(Y)}}),i.forEach($=>{$.parentPlayer?$.syncPlayerEvents($.parentPlayer):$.destroy()});for(let $=0;$<T.length;$++){let G=T[$],Y=G[Un];if(Ms(G,Bv),Y&&Y.hasAnimation)continue;let Ce=[];if(a.size){let Bn=a.get(G);Bn&&Bn.length&&Ce.push(...Bn);let zt=this.driver.query(G,$v,!0);for(let Lr=0;Lr<zt.length;Lr++){let je=a.get(zt[Lr]);je&&je.length&&Ce.push(...je)}}let ct=Ce.filter(Bn=>!Bn.destroyed);ct.length?hj(this,G,ct):this.processLeaveNode(G)}return T.length=0,Nf.forEach($=>{this.players.push($),$.onDone(()=>{$.destroy();let G=this.players.indexOf($);this.players.splice(G,1)}),$.play()}),Nf}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,i,o){let s=[];if(e){let a=this.playersByQueriedElement.get(t);a&&(s=a)}else{let a=this.playersByElement.get(t);if(a){let l=!o||o==fl;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||s.push(c)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(t,e,r){let i=e.triggerName,o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:i;for(let l of e.timelines){let c=l.element,p=c!==o,h=ln(r,c,[]);this._getPreviousPlayers(c,p,s,a,e.toState).forEach(g=>{let b=g.getRealPlayer();b.beforeDestroy&&b.beforeDestroy(),g.destroy(),h.push(g)})}uo(o,e.fromStyles)}_buildAnimation(t,e,r,i,o,s){let a=e.triggerName,l=e.element,c=[],p=new Set,h=new Set,v=e.timelines.map(b=>{let w=b.element;p.add(w);let T=w[Un];if(T&&T.removedBeforeQueried)return new pi(b.duration,b.delay);let O=w!==l,L=mj((r.get(w)||cj).map(Ye=>Ye.getRealPlayer())).filter(Ye=>{let vt=Ye;return vt.element?vt.element===w:!1}),j=o.get(w),q=s.get(w),Z=DD(this._normalizer,b.keyframes,j,q),He=this._buildPlayer(b,Z,L);if(b.subTimeline&&i&&h.add(w),O){let Ye=new gl(t,a,w);Ye.setRealPlayer(He),c.push(Ye)}return He});c.forEach(b=>{ln(this.playersByQueriedElement,b.element,[]).push(b),b.onDone(()=>dj(this.playersByQueriedElement,b.element,b))}),p.forEach(b=>In(b,hD));let g=hi(v);return g.onDestroy(()=>{p.forEach(b=>Ms(b,hD)),sr(l,e.toStyles)}),h.forEach(b=>{ln(i,b,[]).push(g)}),g}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new pi(t.duration,t.delay)}},gl=class{namespaceId;triggerName;element;_player=new pi;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,r)=>{e.forEach(i=>ny(t,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){ln(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let e=this._player;e.triggerCallback&&e.triggerCallback(t)}};function dj(n,t,e){let r=n.get(t);if(r){if(r.length){let i=r.indexOf(e);r.splice(i,1)}r.length==0&&n.delete(t)}return r}function fj(n){return n??null}function yf(n){return n&&n.nodeType===1}function pj(n){return n=="start"||n=="done"}function wD(n,t){let e=n.style.display;return n.style.display=t??"none",e}function CD(n,t,e,r,i){let o=[];e.forEach(l=>o.push(wD(l)));let s=[];r.forEach((l,c)=>{let p=new Map;l.forEach(h=>{let v=t.computeStyle(c,h,i);p.set(h,v),(!v||v.length==0)&&(c[Un]=uj,s.push(c))}),n.set(c,p)});let a=0;return e.forEach(l=>wD(l,o[a++])),s}function ED(n,t){let e=new Map;if(n.forEach(a=>e.set(a,[])),t.length==0)return e;let r=1,i=new Set(t),o=new Map;function s(a){if(!a)return r;let l=o.get(a);if(l)return l;let c=a.parentNode;return e.has(c)?l=c:i.has(c)?l=r:l=s(c),o.set(a,l),l}return t.forEach(a=>{let l=s(a);l!==r&&e.get(l).push(a)}),e}function In(n,t){n.classList?.add(t)}function Ms(n,t){n.classList?.remove(t)}function hj(n,t,e){hi(e).onDone(()=>n.processLeaveNode(t))}function mj(n){let t=[];return FD(n,t),t}function FD(n,t){for(let e=0;e<n.length;e++){let r=n[e];r instanceof ul?FD(r.players,t):t.push(r)}}function gj(n,t){let e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let i=0;i<e.length;i++){let o=e[i];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}function SD(n,t,e){let r=e.get(n);if(!r)return!1;let i=t.get(n);return i?r.forEach(o=>i.add(o)):t.set(n,r),e.delete(n),!0}var As=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(t,e)=>{};constructor(t,e,r){this._driver=e,this._normalizer=r,this._transitionEngine=new ey(t.body,e,r),this._timelineEngine=new Jv(t.body,e,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(t,e,r,i,o){let s=t+"-"+i,a=this._triggerCache[s];if(!a){let l=[],c=[],p=ND(this._driver,o,l,c);if(l.length)throw gV(i,l);a=nj(i,p,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,i,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,i){this._transitionEngine.insertNode(t,e,r,i)}onRemove(t,e,r){this._transitionEngine.removeNode(t,e,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,i){if(r.charAt(0)=="@"){let[o,s]=fD(r),a=i;this._timelineEngine.command(o,e,s,a)}else this._transitionEngine.trigger(t,e,r,i)}listen(t,e,r,i,o){if(r.charAt(0)=="@"){let[s,a]=fD(r);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(t,e,r,i,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function vj(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=Uv(t[0]),t.length>1&&(r=Uv(t[t.length-1]))):t instanceof Map&&(e=Uv(t)),e||r?new yj(n,e,r):null}var yj=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(e,r,i){this._element=e,this._startStyles=r,this._endStyles=i;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&sr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(sr(this._element,this._initialStyles),this._endStyles&&(sr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(uo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(uo(this._element,this._endStyles),this._endStyles=null),sr(this._element,this._initialStyles),this._state=3)}}return n})();function Uv(n){let t=null;return n.forEach((e,r)=>{_j(r)&&(t=t||new Map,t.set(r,e))}),t}function _j(n){return n==="display"||n==="position"}var xf=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(t,e,r,i){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=i,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){let e=[];return t.forEach(r=>{e.push(Object.fromEntries(r))}),e}_triggerWebAnimation(t,e,r){return t.animate(this._convertKeyframesToObject(e),r)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&t.set(i,this._finished?r:ay(this.element,i))}),this.currentSnapshot=t}triggerCallback(t){let e=t==="start"?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}},Tf=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,e){return ID(t,e)}getParentElement(t){return iy(t)}query(t,e,r){return xD(t,e,r)}computeStyle(t,e,r){return ay(t,e)}animate(t,e,r,i,o,s=[]){let a=i==0?"both":"forwards",l={duration:r,delay:i,fill:a};o&&(l.easing=o);let c=new Map,p=s.filter(g=>g instanceof xf);VV(r,i)&&p.forEach(g=>{g.currentSnapshot.forEach((b,w)=>c.set(w,b))});let h=RV(e).map(g=>new Map(g));h=jV(t,h,c);let v=vj(t,h);return new xf(t,h,l,v)}};var _f="@",LD="@.disabled",Mf=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(t,e,r,i){this.namespaceId=t,this.delegate=e,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,i=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,r){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,i){this.delegate.setAttribute(t,e,r,i)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,i){this.delegate.setStyle(t,e,r,i)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){e.charAt(0)==_f&&e==LD?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r,i){return this.delegate.listen(t,e,r,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},ty=class extends Mf{factory;constructor(t,e,r,i,o){super(e,r,i,o),this.factory=t,this.namespaceId=e}setProperty(t,e,r){e.charAt(0)==_f?e.charAt(1)=="."&&e==LD?(r=r===void 0?!0:!!r,this.disableAnimations(t,r)):this.engine.process(this.namespaceId,t,e.slice(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r,i){if(e.charAt(0)==_f){let o=bj(t),s=e.slice(1),a="";return s.charAt(0)!=_f&&([s,a]=wj(s)),this.engine.listen(this.namespaceId,o,s,a,l=>{let c=l._data||-1;this.factory.scheduleListenerCallback(c,r,l)})}return this.delegate.listen(t,e,r,i)}};function bj(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function wj(n){let t=n.indexOf("."),e=n.substring(0,t),r=n.slice(t+1);return[e,r]}var Af=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(t,e,r){this.delegate=t,this.engine=e,this._zone=r,e.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(t,e){let r="",i=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){let c=this._rendererCache,p=c.get(i);if(!p){let h=()=>c.delete(i);p=new Mf(r,i,this.engine,h),c.set(i,p)}return p}let o=e.id,s=e.id+"-"+this._currentId;this._currentId++,this.engine.register(s,t);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(o,s,t,c.name,c)};return e.data.animation.forEach(a),new ty(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,r){if(t>=0&&t<this._microtaskId){this._zone.run(()=>e(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([e,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(t){this.engine.flush(),this.delegate.componentReplaced?.(t)}};var Ej=(()=>{class n extends As{constructor(e,r,i){super(e,r,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(r){return new(r||n)(R(Ve),R(fo),R(po))};static \u0275prov=A({token:n,factory:n.\u0275fac})}return n})();function Sj(){return new Cf}function Dj(n,t,e){return new Af(n,t,e)}var VD=[{provide:po,useFactory:Sj},{provide:As,useClass:Ej},{provide:Kr,useFactory:Dj,deps:[Su,As,Ae]}],Ij=[{provide:fo,useFactory:()=>new Tf},{provide:Zc,useValue:"BrowserAnimations"},...VD],BK=[{provide:fo,useClass:oy},{provide:Zc,useValue:"NoopAnimations"},...VD];function jD(){return Nn("NgEagerAnimations"),[...Ij]}var UD={providers:[Pw(),uE(cD,dE()),vC(yC()),jD()]};function xj(n,t){n&1&&(Yt(0),d(1,"div",2),x(2,"router-outlet"),u(),Jt())}function Tj(n,t){n&1&&(d(0,"span"),f(1,"Dashboard"),u())}function Mj(n,t){n&1&&(d(0,"span"),f(1,"Morning Check-In"),u())}function Aj(n,t){n&1&&(d(0,"span"),f(1,"Pre Trade Journal"),u())}function kj(n,t){n&1&&(d(0,"span"),f(1,"Trades"),u())}function Nj(n,t){n&1&&(d(0,"span"),f(1,"Meditation Hub"),u())}function Pj(n,t){n&1&&(d(0,"span"),f(1,"Analytics"),u())}function Oj(n,t){n&1&&(d(0,"span"),f(1,"Trade Accounts"),u())}function Rj(n,t){if(n&1){let e=oe();d(0,"div",20)(1,"a",21),C("click",function(){D(e);let i=_(2);return i.navigateToUrl("/home"),I(i.onNavLinkClick())}),x(2,"i",22),M(3,Tj,2,0,"span",0),u(),d(4,"a",21),C("click",function(){D(e);let i=_(2);return i.navigateToUrl("/emotions"),I(i.onNavLinkClick())}),x(5,"i",23),M(6,Mj,2,0,"span",0),u(),d(7,"a",21),C("click",function(){D(e);let i=_(2);return i.navigateToUrl("/pretrade"),I(i.onNavLinkClick())}),x(8,"i",24),M(9,Aj,2,0,"span",0),u(),d(10,"a",21),C("click",function(){D(e);let i=_(2);return i.navigateToUrl("/tradejournal"),I(i.onNavLinkClick())}),x(11,"i",25),M(12,kj,2,0,"span",0),u(),d(13,"a",21),C("click",function(){D(e);let i=_(2);return i.navigateToUrl("/meditationhub"),I(i.onNavLinkClick())}),x(14,"i",26),M(15,Nj,2,0,"span",0),u(),d(16,"a",21),C("click",function(){D(e);let i=_(2);return i.navigateToUrl("/analytics"),I(i.onNavLinkClick())}),x(17,"i",27),M(18,Pj,2,0,"span",0),u(),d(19,"a",21),C("click",function(){D(e);let i=_(2);return i.navigateToUrl("/tradeaccounts"),I(i.onNavLinkClick())}),x(20,"i",28),M(21,Oj,2,0,"span",0),u()()}if(n&2){let e=_(2);m(),J("active",e.isActiveRoute("/home")),y("title",e.sidebarCollapsed()?"Dashboard":""),m(),J("me-3",!e.sidebarCollapsed()),m(),y("ngIf",!e.sidebarCollapsed()),m(),J("active",e.isActiveRoute("/emotions")),y("title",e.sidebarCollapsed()?"Morning Check-In":""),m(),J("me-3",!e.sidebarCollapsed()),m(),y("ngIf",!e.sidebarCollapsed()),m(),J("active",e.isActiveRoute("/pretrade")),y("title",e.sidebarCollapsed()?"Trade Journal":""),m(),J("me-3",!e.sidebarCollapsed()),m(),y("ngIf",!e.sidebarCollapsed()),m(),J("active",e.isActiveRoute("/tradejournal")),y("title",e.sidebarCollapsed()?"Trade Journal":""),m(),J("me-3",!e.sidebarCollapsed()),m(),y("ngIf",!e.sidebarCollapsed()),m(),J("active",e.isActiveRoute("/meditationhub")),y("title",e.sidebarCollapsed()?"Meditation Hub":""),m(),J("me-3",!e.sidebarCollapsed()),m(),y("ngIf",!e.sidebarCollapsed()),m(),J("active",e.isActiveRoute("/analytics")),y("title",e.sidebarCollapsed()?"Analytics":""),m(),J("me-3",!e.sidebarCollapsed()),m(),y("ngIf",!e.sidebarCollapsed()),m(),J("active",e.isActiveRoute("/tradeaccounts")),y("title",e.sidebarCollapsed()?"Trade Accounts":""),m(),J("me-3",!e.sidebarCollapsed()),m(),y("ngIf",!e.sidebarCollapsed())}}function Fj(n,t){if(n&1&&(d(0,"div"),x(1,"img",33),u()),n&2){let e=_(3);m(),J("me-2",!e.sidebarCollapsed()),y("src",e.profile_image_blob_url,pn)}}function Lj(n,t){n&1&&(d(0,"div"),x(1,"i",34),u())}function Vj(n,t){if(n&1&&(d(0,"div"),f(1," \xA0\xA0 "),d(2,"p",35),f(3),u()()),n&2){let e=_(3);m(3),U("Welcome, ",e.user_firstname,"!")}}function jj(n,t){n&1&&(d(0,"span"),f(1,"Logout\xA0\xA0\xA0"),u())}function Uj(n,t){if(n&1){let e=oe();d(0,"div",29)(1,"div",30),C("click",function(){D(e);let i=_(2);return I(i.onNavLinkClick())}),M(2,Fj,2,3,"div",0)(3,Lj,2,0,"div",0)(4,Vj,4,1,"div",0),u(),d(5,"button",31),C("click",function(){D(e);let i=_(2);return I(i.logOut())}),M(6,jj,2,0,"span",0),x(7,"i",32),u()()}if(n&2){let e=_(2);m(),J("justify-content-center",e.sidebarCollapsed()),m(),y("ngIf",e.profile_image_blob_url),m(),y("ngIf",!e.profile_image_blob_url),m(),y("ngIf",!e.sidebarCollapsed()),m(),y("title",e.sidebarCollapsed()?"Logout":""),m(),y("ngIf",!e.sidebarCollapsed())}}function Bj(n,t){if(n&1){let e=oe();d(0,"div",36),C("click",function(){D(e);let i=_(2);return I(i.closeSidebar())}),u()}}function $j(n,t){if(n&1){let e=oe();Yt(0),d(1,"div",3)(2,"nav",4)(3,"div",5)(4,"div",6)(5,"button",7),C("click",function(){D(e);let i=_();return i.navigateToUrl("/home"),I(i.onNavLinkClick())}),d(6,"img",8),C("click",function(){D(e);let i=_();return i.navigateToUrl("/home"),I(i.onNavLinkClick())}),u()(),d(7,"button",9),C("click",function(){D(e);let i=_();return I(i.closeSidebar())}),u()(),M(8,Rj,22,42,"div",10),u(),M(9,Uj,8,7,"div",11),u(),M(10,Bj,1,0,"div",12),d(11,"div",13)(12,"nav",14)(13,"div",15)(14,"div",16)(15,"button",17),C("click",function(){D(e);let i=_();return I(i.toggleSidebar())}),x(16,"span",18),u()()()(),d(17,"div",19),x(18,"router-outlet"),u()()(),Jt()}if(n&2){let e=_();m(2),J("collapsed",e.sidebarCollapsed()),m(4),Zn("height",e.sidebarCollapsed()?"40px":"90px"),m(2),y("ngIf",e.loginStatus()),m(),y("ngIf",e.loginStatus()),m(),y("ngIf",e.isMobile()&&!e.sidebarCollapsed()),m(),J("expanded",e.sidebarCollapsed())}}var kf=class n{constructor(t,e,r,i,o,s,a){this.cdr=t;this.supabaseService=e;this.supabaseAuthService=r;this.supabaseAccountService=i;this.router=o;this.route=s;this.platformId=a;this.loginStatus=Le(()=>e.loginStatus()),Ko(()=>{this.loginStatus()&&(this.route.queryParams.subscribe(l=>{let c=l.returnUrl;c?this.router.navigate([c]):(this.router.url==="/"||this.router.url==="/login")&&this.router.navigate(["/home"])}),this.loginStatus()&&!this.userProfileLoaded&&(this.userProfileLoaded=!0,this.loadUserProfile()))}),Wh(()=>{})}title="TR-prototype";profile_image_blob_url="";loginStatus;sidebarCollapsed=Q(!1);isMobile=Q(!1);user_firstname="";resizeObserver;userProfileLoaded=!1;async ngOnInit(){this.checkScreenSize(),yn(this.platformId)&&(this.sidebarCollapsed.set(this.isMobile()),this.resizeObserver=new ResizeObserver(()=>{this.checkScreenSize(),this.cdr.detectChanges()}),this.resizeObserver.observe(document.body))}ngOnDestroy(){yn(this.platformId)&&this.resizeObserver&&this.resizeObserver.disconnect()}async loadUserProfile(){let{data:t}=await this.supabaseAccountService.getProfile();t&&(this.user_firstname=t.firstname,t.profile_picture_url&&(this.profile_image_blob_url=await this.supabaseAccountService.getCachedProfilePictureBlobUrl(t.profile_picture_url)),this.cdr.markForCheck())}async logOut(){await this.supabaseAuthService.logout(),this.router.navigateByUrl("/")}toggleSidebar(){this.sidebarCollapsed.update(t=>!t),this.cdr.detectChanges()}navigateToUrl(t){this.router.navigateByUrl(t)}closeSidebar(){this.sidebarCollapsed.set(!0),this.cdr.detectChanges()}onNavLinkClick(){this.isMobile()&&this.closeSidebar()}isActiveRoute(t){return this.router.url===t||this.router.url.startsWith(t+"/")}checkScreenSize(){yn(this.platformId)&&this.isMobile.set(window.innerWidth<768)}static \u0275fac=function(e){return new(e||n)(E(xe),E(Se),E(ir),E(Dn),E(Ke),E(At),E(bt))};static \u0275cmp=F({type:n,selectors:[["app-root"]],decls:4,vars:2,consts:[[4,"ngIf"],["align","center",1,"m-5"],[1,"container-fluid","p-0"],[1,"sidebar-container"],["id","sidebar",1,"d-flex","flex-column","h-100"],[1,"p-3","flex-grow-1"],[1,"mb-3","d-flex","align-items-center"],[1,"text-decoration-none","me-auto","btn","btn-link","p-0","me-3",3,"click"],["src","/tr_logo.svg",1,"img-fluid",3,"click"],["type","button",1,"btn-close","d-md-none",3,"click"],["class","nav flex-column",4,"ngIf"],["class","p-3 border-top mt-auto",4,"ngIf"],["class","sidebar-overlay",3,"click",4,"ngIf"],[1,"content"],[1,"navbar","navbar-expand-lg"],[1,"container-fluid"],[1,"d-flex","align-items-center"],[1,"btn","me-2",3,"click"],[1,"navbar-toggler-icon"],[1,"container-fluid","ps-3"],[1,"nav","flex-column"],[1,"nav-link",3,"click","title"],[1,"bi","bi-columns-gap"],[1,"bi","bi-brightness-high"],[1,"bi","bi-card-checklist"],[1,"bi","bi-bookmark-check"],[1,"bi","bi-person-arms-up"],[1,"bi","bi-clipboard-data"],[1,"bi","bi-journals"],[1,"p-3","border-top","mt-auto"],["routerLink","/useraccount",1,"d-flex","align-items-center","mb-2",2,"cursor","pointer",3,"click"],[1,"btn","btn-outline-secondary","btn-tr","w-100",3,"click","title"],[1,"bi","bi-box-arrow-right"],["alt","Profile",1,"rounded-circle",2,"width","40px","height","40px","object-fit","cover",3,"src"],[1,"bi","bi-person-circle","text-black",2,"font-size","30px"],[1,"text-black","mb-0"],[1,"sidebar-overlay",3,"click"]],template:function(e,r){e&1&&(M(0,xj,3,0,"ng-container",0)(1,$j,19,9,"ng-container",0),d(2,"footer",1),f(3,"\xA9 2025 Trading Rehab AI. All rights reserved."),u()),e&2&&(y("ngIf",!r.supabaseService.loginStatus()),m(),y("ngIf",r.supabaseService.loginStatus()))},dependencies:[B,re,kg,Et],styles:[".sidebar-container[_ngcontent-%COMP%]{display:flex;position:relative}#sidebar[_ngcontent-%COMP%]{width:250px;position:fixed;top:0;left:0;height:100dvh;z-index:999;background:#f8f9facc;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);transition:all .3s ease-in-out;box-shadow:0 0 15px #0000001a;border-right:1px solid rgba(0,0,0,.05)}#sidebar.collapsed[_ngcontent-%COMP%]{width:88px}.content[_ngcontent-%COMP%]{width:calc(100% - 250px);margin-left:250px;transition:all .3s ease-in-out;min-height:100dvh;background-color:transparent}.content.expanded[_ngcontent-%COMP%]{width:calc(100% - 88px);margin-left:88px}@media (max-width: 768px){#sidebar[_ngcontent-%COMP%]{margin-left:-250px}#sidebar[_ngcontent-%COMP%]:not(.collapsed){margin-left:0}#sidebar.collapsed[_ngcontent-%COMP%]{margin-left:-250px}.content[_ngcontent-%COMP%], .content.expanded[_ngcontent-%COMP%]{width:100%;margin-left:0}}.nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 20px;color:#343a40;cursor:pointer;text-decoration:none;border-radius:12px;margin:4px 12px;font-weight:500;transition:background-color .2s ease,color .2s ease;position:relative}.nav-link[_ngcontent-%COMP%]:hover{background-color:#e9ecef;color:#000}.nav-link.active[_ngcontent-%COMP%]{background:linear-gradient(90deg,#634aff,#9932ff);color:#fff!important;font-weight:600;box-shadow:0 4px 12px #634aff4d}.nav-link.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff!important}.nav-link.active[_ngcontent-%COMP%]:after{display:none}#sidebar.collapsed[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{justify-content:center;padding:0;margin:8px auto;width:52px;height:52px;border-radius:14px}#sidebar.collapsed[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}#sidebar.collapsed[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0!important;font-size:1.4em}#sidebar.collapsed[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background:background: linear-gradient(90deg,#634aff,#9932ff);color:#fff;box-shadow:0 2px 8px #0003}#sidebar.collapsed[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background-color:#dee2e6}#sidebar.collapsed[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:hover{background:#495057}#sidebar.collapsed[_ngcontent-%COMP%]   .p-3[_ngcontent-%COMP%], #sidebar.collapsed[_ngcontent-%COMP%]   .border-top[_ngcontent-%COMP%]{padding:1rem .5rem!important}.navbar[_ngcontent-%COMP%]{padding:15px 10px}.sidebar-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:998}.btn-tr[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}"]})};xC(kf,UD).catch(n=>console.error(n));
