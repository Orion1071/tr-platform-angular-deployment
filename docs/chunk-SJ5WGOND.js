import{b as Ff,c as Lf,f as Fw,g as jf}from"./chunk-65CJINC2.js";import{a as w,b as H,e as yt,g as kw,h as Pw}from"./chunk-VOSPIT4N.js";var mf=yt(gf=>{"use strict";Object.defineProperty(gf,"__esModule",{value:!0});var pf=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};gf.default=pf});var vf=yt(ui=>{"use strict";var Fv=ui&&ui.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ui,"__esModule",{value:!0});var KM=Fv((jf(),Pw(Fw))),JM=Fv(mf()),yf=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=KM.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let r=this.fetch,o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var s,a,c;let u=null,l=null,d=null,h=i.status,f=i.statusText;if(i.ok){if(this.method!=="HEAD"){let v=await i.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?l=v:l=JSON.parse(v))}let g=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),m=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");g&&m&&m.length>1&&(d=parseInt(m[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(l)&&(l.length>1?(u={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,d=null,h=406,f="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{let g=await i.text();try{u=JSON.parse(g),Array.isArray(u)&&i.status===404&&(l=[],u=null,h=200,f="OK")}catch{i.status===404&&g===""?(h=204,f="No Content"):u={message:g}}if(u&&this.isMaybeSingle&&(!((c=u?.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,f="OK"),u&&this.shouldThrowOnError)throw new JM.default(u)}return{error:u,data:l,count:d,status:h,statusText:f}});return this.shouldThrowOnError||(o=o.catch(i=>{var s,a,c;return{error:{message:`${(s=i?.name)!==null&&s!==void 0?s:"FetchError"}: ${i?.message}`,details:`${(a=i?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=i?.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),o.then(t,n)}};ui.default=yf});var Df=yt(li=>{"use strict";var XM=li&&li.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(li,"__esModule",{value:!0});var ex=XM(vf()),wf=class extends ex.default{select(t){let n=!1,r=(t??"*").split("").map(o=>/\s/.test(o)&&!n?"":(o==='"'&&(n=!n),o)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:o,referencedTable:i=o}={}){let s=i?`${i}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){let o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:o=r}={}){let i=typeof o>"u"?"offset":`${o}.offset`,s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(s,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:o=!1,wal:i=!1,format:s="text"}={}){var a;let c=[t?"analyze":null,n?"verbose":null,r?"settings":null,o?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${u}"; options=${c};`,s==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};li.default=wf});var Za=yt(di=>{"use strict";var tx=di&&di.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(di,"__esModule",{value:!0});var nx=tx(Df()),_f=class extends nx.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){let r=Array.from(new Set(n)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:o}={}){let i="";o==="plain"?i="pl":o==="phrase"?i="ph":o==="websearch"&&(i="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${s}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){let o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};di.default=_f});var Ef=yt(hi=>{"use strict";var rx=hi&&hi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hi,"__esModule",{value:!0});var fi=rx(Za()),bf=class{constructor(t,{headers:n={},schema:r,fetch:o}){this.url=t,this.headers=n,this.schema=r,this.fetch=o}select(t,{head:n=!1,count:r}={}){let o=n?"HEAD":"GET",i=!1,s=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new fi.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){let o="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){let s=t.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(s.length>0){let a=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new fi.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:o,defaultToNull:i=!0}={}){let s="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),o&&a.push(`count=${o}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){let c=t.reduce((u,l)=>u.concat(Object.keys(l)),[]);if(c.length>0){let u=[...new Set(c)].map(l=>`"${l}"`);this.url.searchParams.set("columns",u.join(","))}}return new fi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){let r="PATCH",o=[];return this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),this.headers.Prefer=o.join(","),new fi.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){let n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new fi.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};hi.default=bf});var Lv=yt(Qa=>{"use strict";Object.defineProperty(Qa,"__esModule",{value:!0});Qa.version=void 0;Qa.version="0.0.0-automated"});var jv=yt(Ya=>{"use strict";Object.defineProperty(Ya,"__esModule",{value:!0});Ya.DEFAULT_HEADERS=void 0;var ox=Lv();Ya.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${ox.version}`}});var Uv=yt(pi=>{"use strict";var $v=pi&&pi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pi,"__esModule",{value:!0});var ix=$v(Ef()),sx=$v(Za()),ax=jv(),If=class e{constructor(t,{headers:n={},schema:r,fetch:o}={}){this.url=t,this.headers=Object.assign(Object.assign({},ax.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=o}from(t){let n=new URL(`${this.url}/${t}`);return new ix.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:o=!1,count:i}={}){let s,a=new URL(`${this.url}/rpc/${t}`),c;r||o?(s=r?"HEAD":"GET",Object.entries(n).filter(([l,d])=>d!==void 0).map(([l,d])=>[l,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([l,d])=>{a.searchParams.append(l,d)})):(s="POST",c=n);let u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new sx.default({method:s,url:a,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};pi.default=If});var Wv=yt(de=>{"use strict";var Ur=de&&de.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(de,"__esModule",{value:!0});de.PostgrestError=de.PostgrestBuilder=de.PostgrestTransformBuilder=de.PostgrestFilterBuilder=de.PostgrestQueryBuilder=de.PostgrestClient=void 0;var Vv=Ur(Uv());de.PostgrestClient=Vv.default;var Bv=Ur(Ef());de.PostgrestQueryBuilder=Bv.default;var Hv=Ur(Za());de.PostgrestFilterBuilder=Hv.default;var zv=Ur(Df());de.PostgrestTransformBuilder=zv.default;var qv=Ur(vf());de.PostgrestBuilder=qv.default;var Gv=Ur(mf());de.PostgrestError=Gv.default;de.default={PostgrestClient:Vv.default,PostgrestQueryBuilder:Bv.default,PostgrestFilterBuilder:Hv.default,PostgrestTransformBuilder:zv.default,PostgrestBuilder:qv.default,PostgrestError:Gv.default}});function Uf(e,t){return Object.is(e,t)}var se=null,eo=!1,Ec=1,De=Symbol("SIGNAL");function U(e){let t=se;return se=e,t}function Vf(){return se}function Lw(){return eo}var fn={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Mi(e){if(eo)throw new Error("");if(se===null)return;se.consumerOnSignalRead(e);let t=se.nextProducerIndex++;if(Ai(se),t<se.producerNode.length&&se.producerNode[t]!==e&&to(se)){let n=se.producerNode[t];xi(n,se.producerIndexOfThis[t])}se.producerNode[t]!==e&&(se.producerNode[t]=e,se.producerIndexOfThis[t]=to(se)?Gf(e,se,t):0),se.producerLastReadVersion[t]=e.version}function jw(){Ec++}function Bf(e){if(!(to(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Ec)){if(!e.producerMustRecompute(e)&&!ro(e)){$f(e);return}e.producerRecomputeValue(e),$f(e)}}function Hf(e){if(e.liveConsumerNode===void 0)return;let t=eo;eo=!0;try{for(let n of e.liveConsumerNode)n.dirty||qf(n)}finally{eo=t}}function zf(){return se?.consumerAllowSignalWrites!==!1}function qf(e){e.dirty=!0,Hf(e),e.consumerMarkedDirty?.(e)}function $f(e){e.dirty=!1,e.lastCleanEpoch=Ec}function Qn(e){return e&&(e.nextProducerIndex=0),U(e)}function no(e,t){if(U(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(to(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)xi(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function ro(e){Ai(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(Bf(n),r!==n.version))return!0}return!1}function Yn(e){if(Ai(e),to(e))for(let t=0;t<e.producerNode.length;t++)xi(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Gf(e,t,n){if(Wf(e),e.liveConsumerNode.length===0&&Zf(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=Gf(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function xi(e,t){if(Wf(e),e.liveConsumerNode.length===1&&Zf(e))for(let r=0;r<e.producerNode.length;r++)xi(e.producerNode[r],e.producerIndexOfThis[r]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[t],o=e.liveConsumerNode[t];Ai(o),o.producerIndexOfThis[r]=t}}function to(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Ai(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Wf(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function Zf(e){return e.producerNode!==void 0}function Qf(e){let t=Object.create($w);t.computation=e;let n=()=>{if(Bf(t),Mi(t),t.value===Ti)throw t.error;return t.value};return n[De]=t,n}var Dc=Symbol("UNSET"),_c=Symbol("COMPUTING"),Ti=Symbol("ERRORED"),$w=H(w({},fn),{value:Dc,dirty:!0,error:null,equal:Uf,kind:"computed",producerMustRecompute(e){return e.value===Dc||e.value===_c},producerRecomputeValue(e){if(e.value===_c)throw new Error("Detected cycle in computations.");let t=e.value;e.value=_c;let n=Qn(e),r,o=!1;try{r=e.computation(),U(null),o=t!==Dc&&t!==Ti&&r!==Ti&&e.equal(t,r)}catch(i){r=Ti,e.error=i}finally{no(e,n)}if(o){e.value=t;return}e.value=r,e.version++}});function Uw(){throw new Error}var Yf=Uw;function Kf(){Yf()}function Jf(e){Yf=e}var Vw=null;function Xf(e){let t=Object.create(Ic);t.value=e;let n=()=>(Mi(t),t.value);return n[De]=t,n}function Ni(e,t){zf()||Kf(),e.equal(e.value,t)||(e.value=t,Bw(e))}function eh(e,t){zf()||Kf(),Ni(e,t(e.value))}var Ic=H(w({},fn),{equal:Uf,value:void 0,kind:"signal"});function Bw(e){e.version++,jw(),Hf(e),Vw?.()}function th(e,t,n){let r=Object.create(Hw);n&&(r.consumerAllowSignalWrites=!0),r.fn=e,r.schedule=t;let o=c=>{r.cleanupFn=c};function i(c){return c.fn===null&&c.schedule===null}function s(c){i(c)||(Yn(c),c.cleanupFn(),c.fn=null,c.schedule=null,c.cleanupFn=bc)}let a=()=>{if(r.fn===null)return;if(Lw())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!ro(r))return;r.hasRun=!0;let c=Qn(r);try{r.cleanupFn(),r.cleanupFn=bc,r.fn(o)}finally{no(r,c)}};return r.ref={notify:()=>qf(r),run:a,cleanup:()=>r.cleanupFn(),destroy:()=>s(r),[De]:r},r.ref}var bc=()=>{},Hw=H(w({},fn),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule!==null&&e.schedule(e.ref)},hasRun:!1,cleanupFn:bc});function M(e){return typeof e=="function"}function Kn(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ri=Kn(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function hn(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var K=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let i of n)i.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(M(r))try{r()}catch(i){t=i instanceof Ri?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{nh(i)}catch(s){t=t??[],s instanceof Ri?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Ri(t)}}add(t){var n;if(t&&t!==this)if(this.closed)nh(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&hn(n,t)}remove(t){let{_finalizers:n}=this;n&&hn(n,t),t instanceof e&&t._removeParent(this)}};K.EMPTY=(()=>{let e=new K;return e.closed=!0,e})();var Cc=K.EMPTY;function Oi(e){return e instanceof K||e&&"closed"in e&&M(e.remove)&&M(e.add)&&M(e.unsubscribe)}function nh(e){M(e)?e():e.unsubscribe()}var Ye={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Jn={setTimeout(e,t,...n){let{delegate:r}=Jn;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=Jn;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function ki(e){Jn.setTimeout(()=>{let{onUnhandledError:t}=Ye;if(t)t(e);else throw e})}function oo(){}var rh=Sc("C",void 0,void 0);function oh(e){return Sc("E",void 0,e)}function ih(e){return Sc("N",e,void 0)}function Sc(e,t,n){return{kind:e,value:t,error:n}}var pn=null;function Xn(e){if(Ye.useDeprecatedSynchronousErrorHandling){let t=!pn;if(t&&(pn={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=pn;if(pn=null,n)throw r}}else e()}function sh(e){Ye.useDeprecatedSynchronousErrorHandling&&pn&&(pn.errorThrown=!0,pn.error=e)}var gn=class extends K{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Oi(t)&&t.add(this)):this.destination=Gw}static create(t,n,r){return new Ke(t,n,r)}next(t){this.isStopped?Mc(ih(t),this):this._next(t)}error(t){this.isStopped?Mc(oh(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Mc(rh,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},zw=Function.prototype.bind;function Tc(e,t){return zw.call(e,t)}var xc=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Pi(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Pi(r)}else Pi(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Pi(n)}}},Ke=class extends gn{constructor(t,n,r){super();let o;if(M(t)||!t)o={next:t??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&Ye.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&Tc(t.next,i),error:t.error&&Tc(t.error,i),complete:t.complete&&Tc(t.complete,i)}):o=t}this.destination=new xc(o)}};function Pi(e){Ye.useDeprecatedSynchronousErrorHandling?sh(e):ki(e)}function qw(e){throw e}function Mc(e,t){let{onStoppedNotification:n}=Ye;n&&Jn.setTimeout(()=>n(e,t))}var Gw={closed:!0,next:oo,error:qw,complete:oo};var er=typeof Symbol=="function"&&Symbol.observable||"@@observable";function xe(e){return e}function Ac(...e){return Nc(e)}function Nc(e){return e.length===0?xe:e.length===1?e[0]:function(n){return e.reduce((r,o)=>o(r),n)}}var V=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,o){let i=Zw(n)?n:new Ke(n,r,o);return Xn(()=>{let{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=ah(r),new r((o,i)=>{let s=new Ke({next:a=>{try{n(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[er](){return this}pipe(...n){return Nc(n)(this)}toPromise(n){return n=ah(n),new n((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return e.create=t=>new e(t),e})();function ah(e){var t;return(t=e??Ye.Promise)!==null&&t!==void 0?t:Promise}function Ww(e){return e&&M(e.next)&&M(e.error)&&M(e.complete)}function Zw(e){return e&&e instanceof gn||Ww(e)&&Oi(e)}function Rc(e){return M(e?.lift)}function P(e){return t=>{if(Rc(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function F(e,t,n,r,o){return new Oc(e,t,n,r,o)}var Oc=class extends gn{constructor(t,n,r,o,i,s){super(t),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function tr(){return P((e,t)=>{let n=null;e._refCount++;let r=F(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let o=e._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var nr=class extends V{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Rc(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new K;let n=this.getSubject();t.add(this.source.subscribe(F(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=K.EMPTY)}return t}refCount(){return tr()(this)}};var ch=Kn(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var te=(()=>{class e extends V{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Fi(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ch}next(n){Xn(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Xn(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Xn(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:o,observers:i}=this;return r||o?Cc:(this.currentObservers=null,i.push(n),new K(()=>{this.currentObservers=null,hn(i,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){let n=new V;return n.source=this,n}}return e.create=(t,n)=>new Fi(t,n),e})(),Fi=class extends te{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:Cc}};var ue=class extends te{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var kc={now(){return(kc.delegate||Date).now()},delegate:void 0};var Li=class extends K{constructor(t,n){super()}schedule(t,n=0){return this}};var io={setInterval(e,t,...n){let{delegate:r}=io;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=io;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var ji=class extends Li{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;let o=this.id,i=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(i,o,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(i,this.id,n),this}requestAsyncId(t,n,r=0){return io.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&io.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(t,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let r=!1,o;try{this.work(t)}catch(i){r=!0,o=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,hn(r,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var rr=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}};rr.now=kc.now;var $i=class extends rr{constructor(t,n=rr.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let r;this._active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}};var uh=new $i(ji);var _e=new V(e=>e.complete());function lh(e){return e&&M(e.schedule)}function dh(e){return e[e.length-1]}function Ui(e){return M(dh(e))?e.pop():void 0}function zt(e){return lh(dh(e))?e.pop():void 0}function hh(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})}function fh(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function mn(e){return this instanceof mn?(this.v=e,this):new mn(e)}function ph(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(f){return function(p){return Promise.resolve(p).then(f,d)}}function a(f,p){r[f]&&(o[f]=function(g){return new Promise(function(m,v){i.push([f,g,m,v])>1||c(f,g)})},p&&(o[f]=p(o[f])))}function c(f,p){try{u(r[f](p))}catch(g){h(i[0][3],g)}}function u(f){f.value instanceof mn?Promise.resolve(f.value.v).then(l,d):h(i[0][2],f)}function l(f){c("next",f)}function d(f){c("throw",f)}function h(f,p){f(p),i.shift(),i.length&&c(i[0][0],i[0][1])}}function gh(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof fh=="function"?fh(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(s){return new Promise(function(a,c){s=e[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},s)}}var Vi=e=>e&&typeof e.length=="number"&&typeof e!="function";function Bi(e){return M(e?.then)}function Hi(e){return M(e[er])}function zi(e){return Symbol.asyncIterator&&M(e?.[Symbol.asyncIterator])}function qi(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Qw(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Gi=Qw();function Wi(e){return M(e?.[Gi])}function Zi(e){return ph(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:o}=yield mn(n.read());if(o)return yield mn(void 0);yield yield mn(r)}}finally{n.releaseLock()}})}function Qi(e){return M(e?.getReader)}function Y(e){if(e instanceof V)return e;if(e!=null){if(Hi(e))return Yw(e);if(Vi(e))return Kw(e);if(Bi(e))return Jw(e);if(zi(e))return mh(e);if(Wi(e))return Xw(e);if(Qi(e))return eD(e)}throw qi(e)}function Yw(e){return new V(t=>{let n=e[er]();if(M(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Kw(e){return new V(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function Jw(e){return new V(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,ki)})}function Xw(e){return new V(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function mh(e){return new V(t=>{tD(e,t).catch(n=>t.error(n))})}function eD(e){return mh(Zi(e))}function tD(e,t){var n,r,o,i;return hh(this,void 0,void 0,function*(){try{for(n=gh(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}t.complete()})}function be(e,t,n,r=0,o=!1){let i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function Yi(e,t=0){return P((n,r)=>{n.subscribe(F(r,o=>be(r,e,()=>r.next(o),t),()=>be(r,e,()=>r.complete(),t),o=>be(r,e,()=>r.error(o),t)))})}function Ki(e,t=0){return P((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function yh(e,t){return Y(e).pipe(Ki(t),Yi(t))}function vh(e,t){return Y(e).pipe(Ki(t),Yi(t))}function wh(e,t){return new V(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function Dh(e,t){return new V(n=>{let r;return be(n,t,()=>{r=e[Gi](),be(n,t,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){n.error(s);return}i?n.complete():n.next(o)},0,!0)}),()=>M(r?.return)&&r.return()})}function Ji(e,t){if(!e)throw new Error("Iterable cannot be null");return new V(n=>{be(n,t,()=>{let r=e[Symbol.asyncIterator]();be(n,t,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function _h(e,t){return Ji(Zi(e),t)}function bh(e,t){if(e!=null){if(Hi(e))return yh(e,t);if(Vi(e))return wh(e,t);if(Bi(e))return vh(e,t);if(zi(e))return Ji(e,t);if(Wi(e))return Dh(e,t);if(Qi(e))return _h(e,t)}throw qi(e)}function ee(e,t){return t?bh(e,t):Y(e)}function T(...e){let t=zt(e);return ee(e,t)}function or(e,t){let n=M(e)?e:()=>e,r=o=>o.error(n());return new V(t?o=>t.schedule(r,0,o):r)}function Pc(e){return!!e&&(e instanceof V||M(e.lift)&&M(e.subscribe))}var Je=Kn(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function nD(e,t){let n=typeof t=="object";return new Promise((r,o)=>{let i=new Ke({next:s=>{r(s),i.unsubscribe()},error:o,complete:()=>{n?r(t.defaultValue):o(new Je)}});e.subscribe(i)})}function R(e,t){return P((n,r)=>{let o=0;n.subscribe(F(r,i=>{r.next(e.call(t,i,o++))}))})}var{isArray:rD}=Array;function oD(e,t){return rD(t)?e(...t):e(t)}function Xi(e){return R(t=>oD(e,t))}var{isArray:iD}=Array,{getPrototypeOf:sD,prototype:aD,keys:cD}=Object;function es(e){if(e.length===1){let t=e[0];if(iD(t))return{args:t,keys:null};if(uD(t)){let n=cD(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function uD(e){return e&&typeof e=="object"&&sD(e)===aD}function ts(e,t){return e.reduce((n,r,o)=>(n[r]=t[o],n),{})}function ns(...e){let t=zt(e),n=Ui(e),{args:r,keys:o}=es(e);if(r.length===0)return ee([],t);let i=new V(lD(r,t,o?s=>ts(o,s):xe));return n?i.pipe(Xi(n)):i}function lD(e,t,n=xe){return r=>{Eh(t,()=>{let{length:o}=e,i=new Array(o),s=o,a=o;for(let c=0;c<o;c++)Eh(t,()=>{let u=ee(e[c],t),l=!1;u.subscribe(F(r,d=>{i[c]=d,l||(l=!0,a--),a||r.next(n(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Eh(e,t,n){e?be(n,e,t):t()}function Ih(e,t,n,r,o,i,s,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&t.complete()},f=g=>u<r?p(g):c.push(g),p=g=>{i&&t.next(g),u++;let m=!1;Y(n(g,l++)).subscribe(F(t,v=>{o?.(v),i?f(v):t.next(v)},()=>{m=!0},void 0,()=>{if(m)try{for(u--;c.length&&u<r;){let v=c.shift();s?be(t,s,()=>p(v)):p(v)}h()}catch(v){t.error(v)}}))};return e.subscribe(F(t,f,()=>{d=!0,h()})),()=>{a?.()}}function ae(e,t,n=1/0){return M(t)?ae((r,o)=>R((i,s)=>t(r,i,o,s))(Y(e(r,o))),n):(typeof t=="number"&&(n=t),P((r,o)=>Ih(r,o,e,n)))}function Fc(e=1/0){return ae(xe,e)}function Ch(){return Fc(1)}function ir(...e){return Ch()(ee(e,zt(e)))}function rs(e){return new V(t=>{Y(e()).subscribe(t)})}function dD(...e){let t=Ui(e),{args:n,keys:r}=es(e),o=new V(i=>{let{length:s}=n;if(!s){i.complete();return}let a=new Array(s),c=s,u=s;for(let l=0;l<s;l++){let d=!1;Y(n[l]).subscribe(F(i,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||i.next(r?ts(r,a):a),i.complete())}))}});return t?o.pipe(Xi(t)):o}function pe(e,t){return P((n,r)=>{let o=0;n.subscribe(F(r,i=>e.call(t,i,o++)&&r.next(i)))})}function qt(e){return P((t,n)=>{let r=null,o=!1,i;r=t.subscribe(F(n,void 0,void 0,s=>{i=Y(e(s,qt(e)(t))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function Sh(e,t,n,r,o){return(i,s)=>{let a=n,c=t,u=0;i.subscribe(F(s,l=>{let d=u++;c=a?e(c,l,d):(a=!0,l),r&&s.next(c)},o&&(()=>{a&&s.next(c),s.complete()})))}}function Gt(e,t){return M(t)?ae(e,t,1):ae(e,1)}function fD(e,t=uh){return P((n,r)=>{let o=null,i=null,s=null,a=()=>{if(o){o.unsubscribe(),o=null;let u=i;i=null,r.next(u)}};function c(){let u=s+e,l=t.now();if(l<u){o=this.schedule(void 0,u-l),r.add(o);return}a()}n.subscribe(F(r,u=>{i=u,s=t.now(),o||(o=t.schedule(c,e),r.add(o))},()=>{a(),r.complete()},void 0,()=>{i=o=null}))})}function Wt(e){return P((t,n)=>{let r=!1;t.subscribe(F(n,o=>{r=!0,n.next(o)},()=>{r||n.next(e),n.complete()}))})}function vt(e){return e<=0?()=>_e:P((t,n)=>{let r=0;t.subscribe(F(n,o=>{++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function os(e=hD){return P((t,n)=>{let r=!1;t.subscribe(F(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(e())))})}function hD(){return new Je}function yn(e){return P((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function wt(e,t){let n=arguments.length>=2;return r=>r.pipe(e?pe((o,i)=>e(o,i,r)):xe,vt(1),n?Wt(t):os(()=>new Je))}function sr(e){return e<=0?()=>_e:P((t,n)=>{let r=[];t.subscribe(F(n,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(let o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function Lc(e,t){let n=arguments.length>=2;return r=>r.pipe(e?pe((o,i)=>e(o,i,r)):xe,sr(1),n?Wt(t):os(()=>new Je))}function jc(e,t){return P(Sh(e,t,arguments.length>=2,!0))}function pD(e={}){let{connector:t=()=>new te,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=e;return i=>{let s,a,c,u=0,l=!1,d=!1,h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=c=void 0,l=d=!1},p=()=>{let g=s;f(),g?.unsubscribe()};return P((g,m)=>{u++,!d&&!l&&h();let v=c=c??t();m.add(()=>{u--,u===0&&!d&&!l&&(a=$c(p,o))}),v.subscribe(m),!s&&u>0&&(s=new Ke({next:C=>v.next(C),error:C=>{d=!0,h(),a=$c(f,n,C),v.error(C)},complete:()=>{l=!0,h(),a=$c(f,r),v.complete()}}),Y(g).subscribe(s))})(i)}}function $c(e,t,...n){if(t===!0){e();return}if(t===!1)return;let r=new Ke({next:()=>{r.unsubscribe(),e()}});return Y(t(...n)).subscribe(r)}function gD(e){return pe((t,n)=>e<=n)}function Uc(...e){let t=zt(e);return P((n,r)=>{(t?ir(e,n,t):ir(e,n)).subscribe(r)})}function Ee(e,t){return P((n,r)=>{let o=null,i=0,s=!1,a=()=>s&&!o&&r.complete();n.subscribe(F(r,c=>{o?.unsubscribe();let u=0,l=i++;Y(e(c,l)).subscribe(o=F(r,d=>r.next(t?t(c,d,l,u++):d),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function Vc(e){return P((t,n)=>{Y(e).subscribe(F(n,()=>n.complete(),oo)),!n.closed&&t.subscribe(n)})}function ce(e,t,n){let r=M(e)||t||n?{next:e,error:t,complete:n}:e;return r?P((o,i)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;o.subscribe(F(i,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),i.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),i.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):xe}var hp="https://g.co/ng/security#xss",_=class extends Error{code;constructor(t,n){super(Hs(t,n)),this.code=t}};function Hs(e,t){return`${`NG0${Math.abs(e)}`}${t?": "+t:""}`}var pp=Symbol("InputSignalNode#UNSET"),mD=H(w({},Ic),{transformFn:void 0,applyValueToInputSignal(e,t){Ni(e,t)}});function gp(e,t){let n=Object.create(mD);n.value=e,n.transformFn=t?.transform;function r(){if(Mi(n),n.value===pp)throw new _(-950,!1);return n.value}return r[De]=n,r}function _o(e){return{toString:e}.toString()}var is="__parameters__";function yD(e){return function(...n){if(e){let r=e(...n);for(let o in r)this[o]=r[o]}}}function mp(e,t,n){return _o(()=>{let r=yD(t);function o(...i){if(this instanceof o)return r.apply(this,i),this;let s=new o(...i);return a.annotation=s,a;function a(c,u,l){let d=c.hasOwnProperty(is)?c[is]:Object.defineProperty(c,is,{value:[]})[is];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),c}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}var Dt=globalThis;function q(e){for(let t in e)if(e[t]===q)return t;throw Error("Could not find renamed property on target object.")}function vD(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function me(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(me).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let t=e.toString();if(t==null)return""+t;let n=t.indexOf(`
`);return n===-1?t:t.substring(0,n)}function eu(e,t){return e==null||e===""?t===null?"":t:t==null||t===""?e:e+" "+t}var wD=q({__forward_ref__:q});function yp(e){return e.__forward_ref__=yp,e.toString=function(){return me(this())},e}function ge(e){return vp(e)?e():e}function vp(e){return typeof e=="function"&&e.hasOwnProperty(wD)&&e.__forward_ref__===yp}function D(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function bo(e){return{providers:e.providers||[],imports:e.imports||[]}}function zs(e){return Th(e,Dp)||Th(e,_p)}function wp(e){return zs(e)!==null}function Th(e,t){return e.hasOwnProperty(t)?e[t]:null}function DD(e){let t=e&&(e[Dp]||e[_p]);return t||null}function Mh(e){return e&&(e.hasOwnProperty(xh)||e.hasOwnProperty(_D))?e[xh]:null}var Dp=q({\u0275prov:q}),xh=q({\u0275inj:q}),_p=q({ngInjectableDef:q}),_D=q({ngInjectorDef:q}),b=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=D({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function bp(e){return e&&!!e.\u0275providers}var bD=q({\u0275cmp:q}),ED=q({\u0275dir:q}),ID=q({\u0275pipe:q}),CD=q({\u0275mod:q}),vs=q({\u0275fac:q}),uo=q({__NG_ELEMENT_ID__:q}),Ah=q({__NG_ENV_ID__:q});function fr(e){return typeof e=="string"?e:e==null?"":String(e)}function SD(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():fr(e)}function TD(e,t){let n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new _(-200,e)}function ol(e,t){throw new _(-201,!1)}var O=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(O||{}),tu;function Ep(){return tu}function Ie(e){let t=tu;return tu=e,t}function Ip(e,t,n){let r=zs(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&O.Optional)return null;if(t!==void 0)return t;ol(e,"Injector")}var MD={},lo=MD,nu="__NG_DI_FLAG__",ws="ngTempTokenPath",xD="ngTokenPath",AD=/\n/gm,ND="\u0275",Nh="__source",lr;function RD(){return lr}function Zt(e){let t=lr;return lr=e,t}function OD(e,t=O.Default){if(lr===void 0)throw new _(-203,!1);return lr===null?Ip(e,void 0,t):lr.get(e,t&O.Optional?null:void 0,t)}function E(e,t=O.Default){return(Ep()||OD)(ge(e),t)}function y(e,t=O.Default){return E(e,qs(t))}function qs(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function ru(e){let t=[];for(let n=0;n<e.length;n++){let r=ge(e[n]);if(Array.isArray(r)){if(r.length===0)throw new _(900,!1);let o,i=O.Default;for(let s=0;s<r.length;s++){let a=r[s],c=kD(a);typeof c=="number"?c===-1?o=a.token:i|=c:o=a}t.push(E(o,i))}else t.push(E(r))}return t}function Cp(e,t){return e[nu]=t,e.prototype[nu]=t,e}function kD(e){return e[nu]}function PD(e,t,n,r){let o=e[ws];throw t[Nh]&&o.unshift(t[Nh]),e.message=FD(`
`+e.message,o,n,r),e[xD]=o,e[ws]=null,e}function FD(e,t,n,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==ND?e.slice(2):e;let o=me(t);if(Array.isArray(t))o=t.map(me).join(" -> ");else if(typeof t=="object"){let i=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];i.push(s+":"+(typeof a=="string"?JSON.stringify(a):me(a)))}o=`{${i.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${e.replace(AD,`
  `)}`}var Sp=Cp(mp("Optional"),8);var LD=Cp(mp("SkipSelf"),4);function Dn(e,t){let n=e.hasOwnProperty(vs);return n?e[vs]:null}function jD(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let o=e[r],i=t[r];if(n&&(o=n(o),i=n(i)),i!==o)return!1}return!0}function $D(e){return e.flat(Number.POSITIVE_INFINITY)}function il(e,t){e.forEach(n=>Array.isArray(n)?il(n,t):t(n))}function Tp(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Ds(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function UD(e,t){let n=[];for(let r=0;r<e;r++)n.push(t);return n}function VD(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(o===1)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;){let i=o-2;e[o]=e[i],o--}e[t]=n,e[t+1]=r}}function sl(e,t,n){let r=Eo(e,t);return r>=0?e[r|1]=n:(r=~r,VD(e,r,t,n)),r}function Bc(e,t){let n=Eo(e,t);if(n>=0)return e[n|1]}function Eo(e,t){return BD(e,t,1)}function BD(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){let i=r+(o-r>>1),s=e[i<<n];if(t===s)return i<<n;s>t?o=i:r=i+1}return~(o<<n)}var hr={},Ce=[],pr=new b(""),Mp=new b("",-1),xp=new b(""),_s=class{get(t,n=lo){if(n===lo){let r=new Error(`NullInjectorError: No provider for ${me(t)}!`);throw r.name="NullInjectorError",r}return n}};function Ap(e,t){let n=e[CD]||null;if(!n&&t===!0)throw new Error(`Type ${me(e)} does not have '\u0275mod' property.`);return n}function _n(e){return e[bD]||null}function Np(e){return e[ED]||null}function Rp(e){return e[ID]||null}function Op(e){let t=_n(e)||Np(e)||Rp(e);return t!==null&&t.standalone}function br(e){return{\u0275providers:e}}function HD(...e){return{\u0275providers:kp(!0,e),\u0275fromNgModule:!0}}function kp(e,...t){let n=[],r=new Set,o,i=s=>{n.push(s)};return il(t,s=>{let a=s;ou(a,i,[],r)&&(o||=[],o.push(a))}),o!==void 0&&Pp(o,i),n}function Pp(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:o}=e[n];al(o,i=>{t(i,r)})}}function ou(e,t,n,r){if(e=ge(e),!e)return!1;let o=null,i=Mh(e),s=!i&&_n(e);if(!i&&!s){let c=e.ngModule;if(i=Mh(c),i)o=c;else return!1}else{if(s&&!s.standalone)return!1;o=e}let a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)ou(u,t,n,r)}}else if(i){if(i.imports!=null&&!a){r.add(o);let u;try{il(i.imports,l=>{ou(l,t,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&Pp(u,t)}if(!a){let u=Dn(o)||(()=>new o);t({provide:o,useFactory:u,deps:Ce},o),t({provide:xp,useValue:o,multi:!0},o),t({provide:pr,useValue:()=>E(o),multi:!0},o)}let c=i.providers;if(c!=null&&!a){let u=e;al(c,l=>{t(l,u)})}}else return!1;return o!==e&&e.providers!==void 0}function al(e,t){for(let n of e)bp(n)&&(n=n.\u0275providers),Array.isArray(n)?al(n,t):t(n)}var zD=q({provide:String,useValue:q});function Fp(e){return e!==null&&typeof e=="object"&&zD in e}function qD(e){return!!(e&&e.useExisting)}function GD(e){return!!(e&&e.useFactory)}function gr(e){return typeof e=="function"}function WD(e){return!!e.useClass}var Gs=new b(""),ds={},ZD={},Hc;function cl(){return Hc===void 0&&(Hc=new _s),Hc}var Se=class{},fo=class extends Se{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,su(t,s=>this.processProvider(s)),this.records.set(Mp,ar(void 0,this)),o.has("environment")&&this.records.set(Se,ar(void 0,this));let i=this.records.get(Gs);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(xp,Ce,O.Self))}destroy(){ao(this),this._destroyed=!0;let t=U(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),U(t)}}onDestroy(t){return ao(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){ao(this);let n=Zt(this),r=Ie(void 0),o;try{return t()}finally{Zt(n),Ie(r)}}get(t,n=lo,r=O.Default){if(ao(this),t.hasOwnProperty(Ah))return t[Ah](this);r=qs(r);let o,i=Zt(this),s=Ie(void 0);try{if(!(r&O.SkipSelf)){let c=this.records.get(t);if(c===void 0){let u=XD(t)&&zs(t);u&&this.injectableDefInScope(u)?c=ar(iu(t),ds):c=null,this.records.set(t,c)}if(c!=null)return this.hydrate(t,c)}let a=r&O.Self?cl():this.parent;return n=r&O.Optional&&n===lo?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[ws]=a[ws]||[]).unshift(me(t)),i)throw a;return PD(a,t,"R3InjectorError",this.source)}else throw a}finally{Ie(s),Zt(i)}}resolveInjectorInitializers(){let t=U(null),n=Zt(this),r=Ie(void 0),o;try{let i=this.get(pr,Ce,O.Self);for(let s of i)s()}finally{Zt(n),Ie(r),U(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(me(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=ge(t);let n=gr(t)?t:ge(t&&t.provide),r=YD(t);if(!gr(t)&&t.multi===!0){let o=this.records.get(n);o||(o=ar(void 0,ds,!0),o.factory=()=>ru(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n){let r=U(null);try{return n.value===ds&&(n.value=ZD,n.value=n.factory()),typeof n.value=="object"&&n.value&&JD(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{U(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=ge(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function iu(e){let t=zs(e),n=t!==null?t.factory:Dn(e);if(n!==null)return n;if(e instanceof b)throw new _(204,!1);if(e instanceof Function)return QD(e);throw new _(204,!1)}function QD(e){if(e.length>0)throw new _(204,!1);let n=DD(e);return n!==null?()=>n.factory(e):()=>new e}function YD(e){if(Fp(e))return ar(void 0,e.useValue);{let t=Lp(e);return ar(t,ds)}}function Lp(e,t,n){let r;if(gr(e)){let o=ge(e);return Dn(o)||iu(o)}else if(Fp(e))r=()=>ge(e.useValue);else if(GD(e))r=()=>e.useFactory(...ru(e.deps||[]));else if(qD(e))r=()=>E(ge(e.useExisting));else{let o=ge(e&&(e.useClass||e.provide));if(KD(e))r=()=>new o(...ru(e.deps));else return Dn(o)||iu(o)}return r}function ao(e){if(e.destroyed)throw new _(205,!1)}function ar(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function KD(e){return!!e.deps}function JD(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function XD(e){return typeof e=="function"||typeof e=="object"&&e instanceof b}function su(e,t){for(let n of e)Array.isArray(n)?su(n,t):n&&bp(n)?su(n.\u0275providers,t):t(n)}function Oe(e,t){e instanceof fo&&ao(e);let n,r=Zt(e),o=Ie(void 0);try{return t()}finally{Zt(r),Ie(o)}}function jp(){return Ep()!==void 0||RD()!=null}function $p(e){if(!jp())throw new _(-203,!1)}function e_(e){return typeof e=="function"}var xt=0,L=1,S=2,fe=3,tt=4,Te=5,ho=6,bs=7,Ve=8,po=9,_t=10,J=11,go=12,Rh=13,Er=14,Be=15,bn=16,cr=17,bt=18,Ws=19,Up=20,Qt=21,fs=22,En=23,Ne=24,he=25,Vp=1;var In=7,Es=8,mr=9,Re=10;function Yt(e){return Array.isArray(e)&&typeof e[Vp]=="object"}function At(e){return Array.isArray(e)&&e[Vp]===!0}function ul(e){return(e.flags&4)!==0}function Nn(e){return e.componentOffset>-1}function Zs(e){return(e.flags&1)===1}function Et(e){return!!e.template}function Is(e){return(e[S]&512)!==0}function Io(e){return(e[S]&256)===256}var au=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Bp(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var Qs=(()=>{let e=()=>Hp;return e.ngInherit=!0,e})();function Hp(e){return e.type.prototype.ngOnChanges&&(e.setInput=n_),t_}function t_(){let e=qp(this),t=e?.current;if(t){let n=e.previous;if(n===hr)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function n_(e,t,n,r,o){let i=this.declaredInputs[r],s=qp(e)||r_(e,{previous:hr,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[i];a[i]=new au(u&&u.currentValue,n,c===hr),Bp(e,t,o,n)}var zp="__ngSimpleChanges__";function qp(e){return e[zp]||null}function r_(e,t){return e[zp]=t}var Oh=null;var Ue=function(e,t,n){Oh?.(e,t,n)},o_="svg",i_="math";function ut(e){for(;Array.isArray(e);)e=e[xt];return e}function Gp(e,t){return ut(t[e])}function nt(e,t){return ut(t[e.index])}function Wp(e,t){return e.data[t]}function ll(e,t){return e[t]}function lt(e,t){let n=t[e];return Yt(n)?n:n[xt]}function s_(e){return(e[S]&4)===4}function dl(e){return(e[S]&128)===128}function a_(e){return At(e[fe])}function yr(e,t){return t==null?null:e[t]}function Zp(e){e[cr]=0}function fl(e){e[S]&1024||(e[S]|=1024,dl(e)&&Co(e))}function c_(e,t){for(;e>0;)t=t[Er],e--;return t}function Ys(e){return!!(e[S]&9216||e[Ne]?.dirty)}function cu(e){e[_t].changeDetectionScheduler?.notify(9),e[S]&64&&(e[S]|=1024),Ys(e)&&Co(e)}function Co(e){e[_t].changeDetectionScheduler?.notify(0);let t=Cn(e);for(;t!==null&&!(t[S]&8192||(t[S]|=8192,!dl(t)));)t=Cn(t)}function Qp(e,t){if(Io(e))throw new _(911,!1);e[Qt]===null&&(e[Qt]=[]),e[Qt].push(t)}function u_(e,t){if(e[Qt]===null)return;let n=e[Qt].indexOf(t);n!==-1&&e[Qt].splice(n,1)}function Cn(e){let t=e[fe];return At(t)?t[fe]:t}function Yp(e){return e[bs]??=[]}function Kp(e){return e.cleanup??=[]}function l_(e,t,n,r){let o=Yp(t);o.push(n),e.firstCreatePass&&Kp(e).push(r,o.length-1)}var N={lFrame:ig(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var uu=!1;function d_(){return N.lFrame.elementDepthCount}function f_(){N.lFrame.elementDepthCount++}function h_(){N.lFrame.elementDepthCount--}function Jp(){return N.bindingsEnabled}function Xp(){return N.skipHydrationRootTNode!==null}function p_(e){return N.skipHydrationRootTNode===e}function g_(){N.skipHydrationRootTNode=null}function k(){return N.lFrame.lView}function re(){return N.lFrame.tView}function lF(e){return N.lFrame.contextLView=e,e[Ve]}function dF(e){return N.lFrame.contextLView=null,e}function ye(){let e=eg();for(;e!==null&&e.type===64;)e=e.parent;return e}function eg(){return N.lFrame.currentTNode}function m_(){let e=N.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Rn(e,t){let n=N.lFrame;n.currentTNode=e,n.isParent=t}function hl(){return N.lFrame.isParent}function pl(){N.lFrame.isParent=!1}function y_(){return N.lFrame.contextLView}function tg(){return uu}function Cs(e){let t=uu;return uu=e,t}function So(){let e=N.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function v_(){return N.lFrame.bindingIndex}function w_(e){return N.lFrame.bindingIndex=e}function Ks(){return N.lFrame.bindingIndex++}function gl(e){let t=N.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function D_(){return N.lFrame.inI18n}function __(e,t){let n=N.lFrame;n.bindingIndex=n.bindingRootIndex=e,lu(t)}function b_(){return N.lFrame.currentDirectiveIndex}function lu(e){N.lFrame.currentDirectiveIndex=e}function E_(e){let t=N.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function ng(){return N.lFrame.currentQueryIndex}function ml(e){N.lFrame.currentQueryIndex=e}function I_(e){let t=e[L];return t.type===2?t.declTNode:t.type===1?e[Te]:null}function rg(e,t,n){if(n&O.SkipSelf){let o=t,i=e;for(;o=o.parent,o===null&&!(n&O.Host);)if(o=I_(i),o===null||(i=i[Er],o.type&10))break;if(o===null)return!1;t=o,e=i}let r=N.lFrame=og();return r.currentTNode=t,r.lView=e,!0}function yl(e){let t=og(),n=e[L];N.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function og(){let e=N.lFrame,t=e===null?null:e.child;return t===null?ig(e):t}function ig(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function sg(){let e=N.lFrame;return N.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var ag=sg;function vl(){let e=sg();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function C_(e){return(N.lFrame.contextLView=c_(e,N.lFrame.contextLView))[Ve]}function en(){return N.lFrame.selectedIndex}function Sn(e){N.lFrame.selectedIndex=e}function wl(){let e=N.lFrame;return Wp(e.tView,e.selectedIndex)}function S_(){return N.lFrame.currentNamespace}var cg=!0;function Js(){return cg}function Xs(e){cg=e}function T_(e,t,n){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(r){let s=Hp(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}o&&(n.preOrderHooks??=[]).push(0-e,o),i&&((n.preOrderHooks??=[]).push(e,i),(n.preOrderCheckHooks??=[]).push(e,i))}function ea(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let i=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=i;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),u&&((e.viewHooks??=[]).push(n,u),(e.viewCheckHooks??=[]).push(n,u)),l!=null&&(e.destroyHooks??=[]).push(n,l)}}function hs(e,t,n){ug(e,t,3,n)}function ps(e,t,n,r){(e[S]&3)===n&&ug(e,t,n,r)}function zc(e,t){let n=e[S];(n&3)===t&&(n&=16383,n+=1,e[S]=n)}function ug(e,t,n,r){let o=r!==void 0?e[cr]&65535:0,i=r??-1,s=t.length-1,a=0;for(let c=o;c<s;c++)if(typeof t[c+1]=="number"){if(a=t[c],r!=null&&a>=r)break}else t[c]<0&&(e[cr]+=65536),(a<i||i==-1)&&(M_(e,n,t,c),e[cr]=(e[cr]&4294901760)+c+2),c++}function kh(e,t){Ue(4,e,t);let n=U(null);try{t.call(e)}finally{U(n),Ue(5,e,t)}}function M_(e,t,n,r){let o=n[r]<0,i=n[r+1],s=o?-n[r]:n[r],a=e[s];o?e[S]>>14<e[cr]>>16&&(e[S]&3)===t&&(e[S]+=16384,kh(a,i)):kh(a,i)}var dr=-1,Tn=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r){this.factory=t,this.canSeeViewProviders=n,this.injectImpl=r}};function x_(e){return e instanceof Tn}function A_(e){return(e.flags&8)!==0}function N_(e){return(e.flags&16)!==0}function R_(e,t,n){let r=0;for(;r<n.length;){let o=n[r];if(typeof o=="number"){if(o!==0)break;r++;let i=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,i)}else{let i=o,s=n[++r];O_(i)?e.setProperty(t,i,s):e.setAttribute(t,i,s),r++}}return r}function lg(e){return e===3||e===4||e===6}function O_(e){return e.charCodeAt(0)===64}function vr(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let o=t[r];typeof o=="number"?n=o:n===0||(n===-1||n===2?Ph(e,n,o,null,t[++r]):Ph(e,n,o,null,null))}}return e}function Ph(e,t,n,r,o){let i=0,s=e.length;if(t===-1)s=-1;else for(;i<e.length;){let a=e[i++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=i-1;break}}}for(;i<e.length;){let a=e[i];if(typeof a=="number")break;if(a===n){if(r===null){o!==null&&(e[i+1]=o);return}else if(r===e[i+1]){e[i+2]=o;return}}i++,r!==null&&i++,o!==null&&i++}s!==-1&&(e.splice(s,0,t),i=s+1),e.splice(i++,0,n),r!==null&&e.splice(i++,0,r),o!==null&&e.splice(i++,0,o)}var qc={},du=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=qs(r);let o=this.injector.get(t,qc,r);return o!==qc||n===qc?o:this.parentInjector.get(t,n,r)}};function dg(e){return e!==dr}function Ss(e){return e&32767}function k_(e){return e>>16}function Ts(e,t){let n=k_(e),r=t;for(;n>0;)r=r[Er],n--;return r}var fu=!0;function Ms(e){let t=fu;return fu=e,t}var P_=256,fg=P_-1,hg=5,F_=0,ct={};function L_(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(uo)&&(r=n[uo]),r==null&&(r=n[uo]=F_++);let o=r&fg,i=1<<o;t.data[e+(o>>hg)]|=i}function xs(e,t){let n=pg(e,t);if(n!==-1)return n;let r=t[L];r.firstCreatePass&&(e.injectorIndex=t.length,Gc(r.data,e),Gc(t,null),Gc(r.blueprint,null));let o=Dl(e,t),i=e.injectorIndex;if(dg(o)){let s=Ss(o),a=Ts(o,t),c=a[L].data;for(let u=0;u<8;u++)t[i+u]=a[s+u]|c[s+u]}return t[i+8]=o,i}function Gc(e,t){e.push(0,0,0,0,0,0,0,0,t)}function pg(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function Dl(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;o!==null;){if(r=wg(o),r===null)return dr;if(n++,o=o[Er],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return dr}function hu(e,t,n){L_(e,t,n)}function j_(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let r=n.length,o=0;for(;o<r;){let i=n[o];if(lg(i))break;if(i===0)o=o+2;else if(typeof i=="number")for(o++;o<r&&typeof n[o]=="string";)o++;else{if(i===t)return n[o+1];o=o+2}}}return null}function gg(e,t,n){if(n&O.Optional||e!==void 0)return e;ol(t,"NodeInjector")}function mg(e,t,n,r){if(n&O.Optional&&r===void 0&&(r=null),!(n&(O.Self|O.Host))){let o=e[po],i=Ie(void 0);try{return o?o.get(t,r,n&O.Optional):Ip(t,r,n&O.Optional)}finally{Ie(i)}}return gg(r,t,n)}function yg(e,t,n,r=O.Default,o){if(e!==null){if(t[S]&2048&&!(r&O.Self)){let s=B_(e,t,n,r,ct);if(s!==ct)return s}let i=vg(e,t,n,r,ct);if(i!==ct)return i}return mg(t,n,r,o)}function vg(e,t,n,r,o){let i=U_(n);if(typeof i=="function"){if(!rg(t,e,r))return r&O.Host?gg(o,n,r):mg(t,n,r,o);try{let s;if(s=i(r),s==null&&!(r&O.Optional))ol(n);else return s}finally{ag()}}else if(typeof i=="number"){let s=null,a=pg(e,t),c=dr,u=r&O.Host?t[Be][Te]:null;for((a===-1||r&O.SkipSelf)&&(c=a===-1?Dl(e,t):t[a+8],c===dr||!Lh(r,!1)?a=-1:(s=t[L],a=Ss(c),t=Ts(c,t)));a!==-1;){let l=t[L];if(Fh(i,a,l.data)){let d=$_(a,t,n,s,r,u);if(d!==ct)return d}c=t[a+8],c!==dr&&Lh(r,t[L].data[a+8]===u)&&Fh(i,a,t)?(s=l,a=Ss(c),t=Ts(c,t)):a=-1}}return o}function $_(e,t,n,r,o,i){let s=t[L],a=s.data[e+8],c=r==null?Nn(a)&&fu:r!=s&&(a.type&3)!==0,u=o&O.Host&&i===a,l=gs(a,s,n,c,u);return l!==null?mo(t,s,l,a):ct}function gs(e,t,n,r,o){let i=e.providerIndexes,s=t.data,a=i&1048575,c=e.directiveStart,u=e.directiveEnd,l=i>>20,d=r?a:a+l,h=o?a+l:u;for(let f=d;f<h;f++){let p=s[f];if(f<c&&n===p||f>=c&&p.type===n)return f}if(o){let f=s[c];if(f&&Et(f)&&f.type===n)return c}return null}function mo(e,t,n,r){let o=e[n],i=t.data;if(x_(o)){let s=o;s.resolving&&TD(SD(i[n]));let a=Ms(s.canSeeViewProviders);s.resolving=!0;let c,u=s.injectImpl?Ie(s.injectImpl):null,l=rg(e,r,O.Default);try{o=e[n]=s.factory(void 0,i,e,r),t.firstCreatePass&&n>=r.directiveStart&&T_(n,i[n],t)}finally{u!==null&&Ie(u),Ms(a),s.resolving=!1,ag()}}return o}function U_(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(uo)?e[uo]:void 0;return typeof t=="number"?t>=0?t&fg:V_:t}function Fh(e,t,n){let r=1<<e;return!!(n[t+(e>>hg)]&r)}function Lh(e,t){return!(e&O.Self)&&!(e&O.Host&&t)}var wn=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return yg(this._tNode,this._lView,t,qs(r),n)}};function V_(){return new wn(ye(),k())}function _l(e){return _o(()=>{let t=e.prototype.constructor,n=t[vs]||pu(t),r=Object.prototype,o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){let i=o[vs]||pu(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function pu(e){return vp(e)?()=>{let t=pu(ge(e));return t&&t()}:Dn(e)}function B_(e,t,n,r,o){let i=e,s=t;for(;i!==null&&s!==null&&s[S]&2048&&!Is(s);){let a=vg(i,s,n,r|O.Self,ct);if(a!==ct)return a;let c=i.parent;if(!c){let u=s[Up];if(u){let l=u.get(n,ct,r);if(l!==ct)return l}c=wg(s),s=s[Er]}i=c}return o}function wg(e){let t=e[L],n=t.type;return n===2?t.declTNode:n===1?e[Te]:null}function ta(e){return j_(ye(),e)}function jh(e,t=null,n=null,r){let o=Dg(e,t,n,r);return o.resolveInjectorInitializers(),o}function Dg(e,t=null,n=null,r,o=new Set){let i=[n||Ce,HD(e)];return r=r||(typeof e=="object"?void 0:me(e)),new fo(i,t||cl(),r||null,o)}var He=class e{static THROW_IF_NOT_FOUND=lo;static NULL=new _s;static create(t,n){if(Array.isArray(t))return jh({name:""},n,t,"");{let r=t.name??"";return jh({name:r},t.parent,t.providers,r)}}static \u0275prov=D({token:e,providedIn:"any",factory:()=>E(Mp)});static __NG_ELEMENT_ID__=-1};var $h=class{attributeName;constructor(t){this.attributeName=t}__NG_ELEMENT_ID__=()=>ta(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},H_=new b("");H_.__NG_ELEMENT_ID__=e=>{let t=ye();if(t===null)throw new _(204,!1);if(t.type&2)return t.value;if(e&O.Optional)return null;throw new _(204,!1)};var _g=!1,Ir=(()=>{class e{static __NG_ELEMENT_ID__=z_;static __NG_ENV_ID__=n=>n}return e})(),As=class extends Ir{_lView;constructor(t){super(),this._lView=t}onDestroy(t){return Qp(this._lView,t),()=>u_(this._lView,t)}};function z_(){return new As(k())}var Mn=class{},na=new b("",{providedIn:"root",factory:()=>!1});var bg=new b(""),bl=new b(""),Nt=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new ue(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=D({token:e,providedIn:"root",factory:()=>new e})}return e})();var gu=class extends te{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,jp()&&(this.destroyRef=y(Ir,{optional:!0})??void 0,this.pendingTasks=y(Nt,{optional:!0})??void 0)}emit(t){let n=U(null);try{super.next(t)}finally{U(n)}}subscribe(t,n,r){let o=t,i=n||(()=>null),s=r;if(t&&typeof t=="object"){let c=t;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:o,error:i,complete:s});return t instanceof K&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{t(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Ae=gu;function yo(...e){}function Eg(e){let t,n;function r(){e=yo;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function Uh(e){return queueMicrotask(()=>e()),()=>{e=yo}}var El="isAngularZone",Ns=El+"_ID",q_=0,ne=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ae(!1);onMicrotaskEmpty=new Ae(!1);onStable=new Ae(!1);onError=new Ae(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=_g}=t;if(typeof Zone>"u")throw new _(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,Z_(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(El)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new _(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new _(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,t,G_,yo,yo);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},G_={};function Il(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function W_(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){Eg(()=>{e.callbackScheduled=!1,mu(e),e.isCheckStableRunning=!0,Il(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),mu(e)}function Z_(e){let t=()=>{W_(e)},n=q_++;e._inner=e._inner.fork({name:"angular",properties:{[El]:!0,[Ns]:n,[Ns+n]:!0},onInvokeTask:(r,o,i,s,a,c)=>{if(Q_(c))return r.invokeTask(i,s,a,c);try{return Vh(e),r.invokeTask(i,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),Bh(e)}},onInvoke:(r,o,i,s,a,c,u)=>{try{return Vh(e),r.invoke(i,s,a,c,u)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!Y_(c)&&t(),Bh(e)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,mu(e),Il(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function mu(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Vh(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Bh(e){e._nesting--,Il(e)}var Rs=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ae;onMicrotaskEmpty=new Ae;onStable=new Ae;onError=new Ae;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}};function Q_(e){return Ig(e,"__ignore_ng_zone__")}function Y_(e){return Ig(e,"__scheduler_tick__")}function Ig(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var It=class{_console=console;handleError(t){this._console.error("ERROR",t)}},K_=new b("",{providedIn:"root",factory:()=>{let e=y(ne),t=y(It);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function Hh(e,t){return gp(e,t)}function J_(e){return gp(pp,e)}var Cg=(Hh.required=J_,Hh);function X_(){return Cr(ye(),k())}function Cr(e,t){return new Rt(nt(e,t))}var Rt=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=X_}return e})();function eb(e){return e instanceof Rt?e.nativeElement:e}var zh=new Set;function tn(e){zh.has(e)||(zh.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function tb(e){return typeof e=="function"&&e[De]!==void 0}function ze(e,t){tn("NgSignals");let n=Xf(e),r=n[De];return t?.equal&&(r.equal=t.equal),n.set=o=>Ni(r,o),n.update=o=>eh(r,o),n.asReadonly=nb.bind(n),n}function nb(){let e=this[De];if(e.readonlyFn===void 0){let t=()=>this();t[De]=e,e.readonlyFn=t}return e.readonlyFn}function Sg(e){return tb(e)&&typeof e.set=="function"}function rb(){return this._results[Symbol.iterator]()}var yu=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new te}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let r=$D(t);(this._changesDetected=!jD(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=rb};function Tg(e){return(e.flags&128)===128}var Mg=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Mg||{}),xg=new Map,ob=0;function ib(){return ob++}function sb(e){xg.set(e[Ws],e)}function vu(e){xg.delete(e[Ws])}var qh="__ngContext__";function On(e,t){Yt(t)?(e[qh]=t[Ws],sb(t)):e[qh]=t}function Ag(e){return Rg(e[go])}function Ng(e){return Rg(e[tt])}function Rg(e){for(;e!==null&&!At(e);)e=e[tt];return e}var wu;function Og(e){wu=e}function ab(){if(wu!==void 0)return wu;if(typeof document<"u")return document;throw new _(210,!1)}var Cl=new b("",{providedIn:"root",factory:()=>cb}),cb="ng",Sl=new b(""),ft=new b("",{providedIn:"platform",factory:()=>"unknown"});var fF=new b(""),Tl=new b("",{providedIn:"root",factory:()=>ab().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var ub="h",lb="b";var kg=!1,db=new b("",{providedIn:"root",factory:()=>kg});var Pg=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(Pg||{}),ra=new b("");var fb=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=D({token:e,providedIn:"root",factory:()=>new e})}return e})();var hb=()=>null;function Fg(e,t,n=!1){return hb(e,t,n)}function Lg(e,t){let n=e.contentQueries;if(n!==null){let r=U(null);try{for(let o=0;o<n.length;o+=2){let i=n[o],s=n[o+1];if(s!==-1){let a=e.data[s];ml(i),a.contentQueries(2,t[s],s)}}}finally{U(r)}}}function Du(e,t,n){ml(0);let r=U(null);try{t(e,n)}finally{U(r)}}function Ml(e,t,n){if(ul(t)){let r=U(null);try{let o=t.directiveStart,i=t.directiveEnd;for(let s=o;s<i;s++){let a=e.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{U(r)}}}var dt=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(dt||{}),ss;function pb(){if(ss===void 0&&(ss=null,Dt.trustedTypes))try{ss=Dt.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return ss}function oa(e){return pb()?.createHTML(e)||e}var as;function gb(){if(as===void 0&&(as=null,Dt.trustedTypes))try{as=Dt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return as}function Gh(e){return gb()?.createScriptURL(e)||e}var Ct=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${hp})`}},_u=class extends Ct{getTypeName(){return"HTML"}},bu=class extends Ct{getTypeName(){return"Style"}},Eu=class extends Ct{getTypeName(){return"Script"}},Iu=class extends Ct{getTypeName(){return"URL"}},Cu=class extends Ct{getTypeName(){return"ResourceURL"}};function rt(e){return e instanceof Ct?e.changingThisBreaksApplicationSecurity:e}function nn(e,t){let n=mb(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${hp})`)}return n===t}function mb(e){return e instanceof Ct&&e.getTypeName()||null}function jg(e){return new _u(e)}function $g(e){return new bu(e)}function Ug(e){return new Eu(e)}function Vg(e){return new Iu(e)}function Bg(e){return new Cu(e)}function yb(e){let t=new Tu(e);return vb()?new Su(t):t}var Su=class{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{let n=new window.DOMParser().parseFromString(oa(t),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(t):(n.firstChild?.remove(),n)}catch{return null}}},Tu=class{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){let n=this.inertDocument.createElement("template");return n.innerHTML=oa(t),n}};function vb(){try{return!!new window.DOMParser().parseFromString(oa(""),"text/html")}catch{return!1}}var wb=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ia(e){return e=String(e),e.match(wb)?e:"unsafe:"+e}function Ot(e){let t={};for(let n of e.split(","))t[n]=!0;return t}function To(...e){let t={};for(let n of e)for(let r in n)n.hasOwnProperty(r)&&(t[r]=!0);return t}var Hg=Ot("area,br,col,hr,img,wbr"),zg=Ot("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),qg=Ot("rp,rt"),Db=To(qg,zg),_b=To(zg,Ot("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),bb=To(qg,Ot("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Wh=To(Hg,_b,bb,Db),Gg=Ot("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Eb=Ot("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ib=Ot("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Cb=To(Gg,Eb,Ib),Sb=Ot("script,style,template"),Mu=class{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let n=t.firstChild,r=!0,o=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){o.push(n),n=xb(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=Mb(n);if(i){n=i;break}n=o.pop()}}return this.buf.join("")}startElement(t){let n=Zh(t).toLowerCase();if(!Wh.hasOwnProperty(n))return this.sanitizedSomething=!0,!Sb.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=t.attributes;for(let o=0;o<r.length;o++){let i=r.item(o),s=i.name,a=s.toLowerCase();if(!Cb.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=i.value;Gg[a]&&(c=ia(c)),this.buf.push(" ",s,'="',Qh(c),'"')}return this.buf.push(">"),!0}endElement(t){let n=Zh(t).toLowerCase();Wh.hasOwnProperty(n)&&!Hg.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(Qh(t))}};function Tb(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function Mb(e){let t=e.nextSibling;if(t&&e!==t.previousSibling)throw Wg(t);return t}function xb(e){let t=e.firstChild;if(t&&Tb(e,t))throw Wg(t);return t}function Zh(e){let t=e.nodeName;return typeof t=="string"?t:"FORM"}function Wg(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}var Ab=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Nb=/([^\#-~ |!])/g;function Qh(e){return e.replace(/&/g,"&amp;").replace(Ab,function(t){let n=t.charCodeAt(0),r=t.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(Nb,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var cs;function Zg(e,t){let n=null;try{cs=cs||yb(e);let r=t?String(t):"";n=cs.getInertBodyElement(r);let o=5,i=r;do{if(o===0)throw new Error("Failed to sanitize html because the input is unstable");o--,r=i,i=n.innerHTML,n=cs.getInertBodyElement(r)}while(r!==i);let a=new Mu().sanitizeChildren(Yh(n)||n);return oa(a)}finally{if(n){let r=Yh(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}function Yh(e){return"content"in e&&Rb(e)?e.content:null}function Rb(e){return e.nodeType===Node.ELEMENT_NODE&&e.nodeName==="TEMPLATE"}var ht=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(ht||{});function Ob(e){let t=Yg();return t?t.sanitize(ht.URL,e)||"":nn(e,"URL")?rt(e):ia(fr(e))}function kb(e){let t=Yg();if(t)return Gh(t.sanitize(ht.RESOURCE_URL,e)||"");if(nn(e,"ResourceURL"))return Gh(rt(e));throw new _(904,!1)}function Pb(e,t){return t==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||t==="href"&&(e==="base"||e==="link")?kb:Ob}function Qg(e,t,n){return Pb(t,n)(e)}function Yg(){let e=k();return e&&e[_t].sanitizer}var Fb=/^>|^->|<!--|-->|--!>|<!-$/g,Lb=/(<|>)/g,jb="\u200B$1\u200B";function $b(e){return e.replace(Fb,t=>t.replace(Lb,jb))}function hF(e){return e.ownerDocument}function Kg(e){return e instanceof Function?e():e}var Kt=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Kt||{});function Ub(e,t,n){let r=e.length;for(;;){let o=e.indexOf(t,n);if(o===-1)return o;if(o===0||e.charCodeAt(o-1)<=32){let i=t.length;if(o+i===r||e.charCodeAt(o+i)<=32)return o}n=o+1}}var Jg="ng-template";function Vb(e,t,n,r){let o=0;if(r){for(;o<t.length&&typeof t[o]=="string";o+=2)if(t[o]==="class"&&Ub(t[o+1].toLowerCase(),n,0)!==-1)return!0}else if(xl(e))return!1;if(o=t.indexOf(1,o),o>-1){let i;for(;++o<t.length&&typeof(i=t[o])=="string";)if(i.toLowerCase()===n)return!0}return!1}function xl(e){return e.type===4&&e.value!==Jg}function Bb(e,t,n){let r=e.type===4&&!n?Jg:e.value;return t===r}function Hb(e,t,n){let r=4,o=e.attrs,i=o!==null?Gb(o):0,s=!1;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!s&&!Xe(r)&&!Xe(c))return!1;if(s&&Xe(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!Bb(e,c,n)||c===""&&t.length===1){if(Xe(r))return!1;s=!0}}else if(r&8){if(o===null||!Vb(e,o,c,n)){if(Xe(r))return!1;s=!0}}else{let u=t[++a],l=zb(c,o,xl(e),n);if(l===-1){if(Xe(r))return!1;s=!0;continue}if(u!==""){let d;if(l>i?d="":d=o[l+1].toLowerCase(),r&2&&u!==d){if(Xe(r))return!1;s=!0}}}}return Xe(r)||s}function Xe(e){return(e&1)===0}function zb(e,t,n,r){if(t===null)return-1;let o=0;if(r||!n){let i=!1;for(;o<t.length;){let s=t[o];if(s===e)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let a=t[++o];for(;typeof a=="string";)a=t[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return Wb(t,e)}function Xg(e,t,n=!1){for(let r=0;r<t.length;r++)if(Hb(e,t[r],n))return!0;return!1}function qb(e){let t=e.attrs;if(t!=null){let n=t.indexOf(5);if(!(n&1))return t[n+1]}return null}function Gb(e){for(let t=0;t<e.length;t++){let n=e[t];if(lg(n))return t}return e.length}function Wb(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function Zb(e,t){e:for(let n=0;n<t.length;n++){let r=t[n];if(e.length===r.length){for(let o=0;o<e.length;o++)if(e[o]!==r[o])continue e;return!0}}return!1}function Kh(e,t){return e?":not("+t.trim()+")":t}function Qb(e){let t=e[0],n=1,r=2,o="",i=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!Xe(s)&&(t+=Kh(i,o),o=""),r=s,i=i||!Xe(r);n++}return o!==""&&(t+=Kh(i,o)),t}function Yb(e){return e.map(Qb).join(",")}function Kb(e){let t=[],n=[],r=1,o=2;for(;r<e.length;){let i=e[r];if(typeof i=="string")o===2?i!==""&&t.push(i,e[++r]):o===8&&n.push(i);else{if(!Xe(o))break;o=i}r++}return n.length&&t.push(1,...n),t}var qe={};function Jb(e,t){return e.createText(t)}function Xb(e,t,n){e.setValue(t,n)}function eE(e,t){return e.createComment($b(t))}function em(e,t,n){return e.createElement(t,n)}function Os(e,t,n,r,o){e.insertBefore(t,n,r,o)}function tm(e,t,n){e.appendChild(t,n)}function Jh(e,t,n,r,o){r!==null?Os(e,t,n,r,o):tm(e,t,n)}function tE(e,t,n){e.removeChild(null,t,n)}function nE(e,t,n){e.setAttribute(t,"style",n)}function rE(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function nm(e,t,n){let{mergedAttrs:r,classes:o,styles:i}=n;r!==null&&R_(e,t,r),o!==null&&rE(e,t,o),i!==null&&nE(e,t,i)}function pF(e=1){rm(re(),k(),en()+e,!1)}function rm(e,t,n,r){if(!r)if((t[S]&3)===3){let i=e.preOrderCheckHooks;i!==null&&hs(t,i,n)}else{let i=e.preOrderHooks;i!==null&&ps(t,i,0,n)}Sn(n)}function Z(e,t=O.Default){let n=k();if(n===null)return E(e,t);let r=ye();return yg(r,n,ge(e),t)}function om(e,t,n,r,o,i){let s=U(null);try{let a=null;o&Kt.SignalBased&&(a=t[r][De]),a!==null&&a.transformFn!==void 0&&(i=a.transformFn(i)),o&Kt.HasDecoratorInputTransform&&(i=e.inputTransforms[r].call(t,i)),e.setInput!==null?e.setInput(t,a,i,n,r):Bp(t,a,r,i)}finally{U(s)}}function Al(e,t,n,r,o,i,s,a,c,u,l){let d=t.blueprint.slice();return d[xt]=o,d[S]=r|4|128|8|64|1024,(u!==null||e&&e[S]&2048)&&(d[S]|=2048),Zp(d),d[fe]=d[Er]=e,d[Ve]=n,d[_t]=s||e&&e[_t],d[J]=a||e&&e[J],d[po]=c||e&&e[po]||null,d[Te]=i,d[Ws]=ib(),d[ho]=l,d[Up]=u,d[Be]=t.type==2?e[Be]:d,d}function im(e,t,n,r){if(n===0)return-1;let o=t.length;for(let i=0;i<n;i++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function sm(e,t,n,r,o){let i=en(),s=r&2;try{Sn(-1),s&&t.length>he&&rm(e,t,he,!1),Ue(s?2:0,o),n(r,o)}finally{Sn(i),Ue(s?3:1,o)}}function Nl(e,t,n){Jp()&&(On(nt(n,t),t),am(e,t,n))}function am(e,t,n){pE(e,t,n),(n.flags&64)===64&&gE(e,t,n)}function Rl(e,t,n=nt){let r=t.localNames;if(r!==null){let o=t.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],a=s===-1?n(t,e):e[s];e[o++]=a}}}function oE(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Ol(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Ol(e,t,n,r,o,i,s,a,c,u,l){let d=he+r,h=d+o,f=iE(d,h),p=typeof u=="function"?u():u;return f[L]={type:e,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:l}}function iE(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:qe);return n}function sE(e,t,n,r){let i=r.get(db,kg)||n===dt.ShadowDom,s=e.selectRootElement(t,i);return aE(s),s}function aE(e){cE(e)}var cE=()=>null;function Xh(e,t,n,r,o){for(let i in t){if(!t.hasOwnProperty(i))continue;let s=t[i];if(s===void 0)continue;r??={};let a,c=Kt.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let u=i;if(o!==null){if(!o.hasOwnProperty(i))continue;u=o[i]}e===0?ep(r,n,u,a,c):ep(r,n,u,a)}return r}function ep(e,t,n,r,o){let i;e.hasOwnProperty(n)?(i=e[n]).push(t,r):i=e[n]=[t,r],o!==void 0&&i.push(o)}function uE(e,t,n){let r=t.directiveStart,o=t.directiveEnd,i=e.data,s=t.attrs,a=[],c=null,u=null;for(let l=r;l<o;l++){let d=i[l],h=n?n.get(d):null,f=h?h.inputs:null,p=h?h.outputs:null;c=Xh(0,d.inputs,l,c,f),u=Xh(1,d.outputs,l,u,p);let g=c!==null&&s!==null&&!xl(t)?ME(c,l,s):null;a.push(g)}c!==null&&(c.hasOwnProperty("class")&&(t.flags|=8),c.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=c,t.outputs=u}function lE(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function cm(e,t,n,r,o,i,s,a){let c=nt(t,n),u=t.inputs,l;!a&&u!=null&&(l=u[r])?(Fl(e,n,l,r,o),Nn(t)&&dE(n,t.index)):t.type&3?(r=lE(r),o=s!=null?s(o,t.value||"",r):o,i.setProperty(c,r,o)):t.type&12}function dE(e,t){let n=lt(t,e);n[S]&16||(n[S]|=64)}function kl(e,t,n,r){if(Jp()){let o=r===null?null:{"":-1},i=yE(e,n);if(i!==null){let[s,a]=lm(e,n,i);um(e,t,n,s,o,a)}o&&wE(n,r,o)}n.mergedAttrs=vr(n.mergedAttrs,n.attrs)}function um(e,t,n,r,o,i){for(let u=0;u<r.length;u++)hu(xs(n,t),e,r[u].type);_E(n,e.data.length,r.length);for(let u=0;u<r.length;u++){let l=r[u];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,c=im(e,t,r.length,null);for(let u=0;u<r.length;u++){let l=r[u];n.mergedAttrs=vr(n.mergedAttrs,l.hostAttrs),bE(e,n,t,c,l),DE(c,l,o),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}uE(e,n,i)}function fE(e,t,n,r,o){let i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;hE(s)!=a&&s.push(a),s.push(n,r,i)}}function hE(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function pE(e,t,n){let r=n.directiveStart,o=n.directiveEnd;Nn(n)&&IE(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||xs(n,t);let i=n.initialInputs;for(let s=r;s<o;s++){let a=e.data[s],c=mo(t,e,s,n);if(On(c,t),i!==null&&TE(t,s-r,c,a,n,i),Et(a)){let u=lt(n.index,t);u[Ve]=mo(t,e,s,n)}}}function gE(e,t,n){let r=n.directiveStart,o=n.directiveEnd,i=n.index,s=b_();try{Sn(i);for(let a=r;a<o;a++){let c=e.data[a],u=t[a];lu(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&mE(c,u)}}finally{Sn(-1),lu(s)}}function mE(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function yE(e,t){let n=e.directiveRegistry,r=null;if(n)for(let o=0;o<n.length;o++){let i=n[o];Xg(t,i.selectors,!1)&&(r??=[],Et(i)?r.unshift(i):r.push(i))}return r}function lm(e,t,n){let r=[],o=null;for(let i of n)i.findHostDirectiveDefs!==null&&(o??=new Map,i.findHostDirectiveDefs(i,r,o)),Et(i)&&(r.push(i),vE(e,t,r.length-1));return Nn(t)?r.push(...n.slice(1)):r.push(...n),[r,o]}function vE(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function wE(e,t,n){if(t){let r=e.localNames=[];for(let o=0;o<t.length;o+=2){let i=n[t[o+1]];if(i==null)throw new _(-301,!1);r.push(t[o],i)}}}function DE(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Et(t)&&(n[""]=e)}}function _E(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function bE(e,t,n,r,o){e.data[r]=o;let i=o.factory||(o.factory=Dn(o.type,!0)),s=new Tn(i,Et(o),Z);e.blueprint[r]=s,n[r]=s,fE(e,t,r,im(e,n,o.hostVars,qe),o)}function EE(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function IE(e,t,n){let r=nt(t,e),o=oE(n),i=e[_t].rendererFactory,s=Pl(e,Al(e,o,null,EE(n),r,t,null,i.createRenderer(r,n),null,null,null));return e[t.index]=s}function CE(e,t,n,r,o,i){let s=nt(e,t);SE(t[J],s,i,e.value,n,r,o)}function SE(e,t,n,r,o,i,s){if(i==null)e.removeAttribute(t,o,n);else{let a=s==null?fr(i):s(i,r||"",o);e.setAttribute(t,o,a,n)}}function TE(e,t,n,r,o,i){let s=i[t];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],u=s[a++],l=s[a++],d=s[a++];om(r,n,c,u,l,d)}}function ME(e,t,n){let r=null,o=0;for(;o<n.length;){let i=n[o];if(i===0){o+=4;continue}else if(i===5){o+=2;continue}if(typeof i=="number")break;if(e.hasOwnProperty(i)){r===null&&(r=[]);let s=e[i];for(let a=0;a<s.length;a+=3)if(s[a]===t){r.push(i,s[a+1],s[a+2],n[o+1]);break}}o+=2}return r}function dm(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function Pl(e,t){return e[go]?e[Rh][tt]=t:e[go]=t,e[Rh]=t,t}function fm(e,t){let n=e[po],r=n?n.get(It,null):null;r&&r.handleError(t)}function Fl(e,t,n,r,o){for(let i=0;i<n.length;){let s=n[i++],a=n[i++],c=n[i++],u=t[s],l=e.data[s];om(l,u,r,a,c,o)}}function xE(e,t){let n=lt(t,e),r=n[L];AE(r,n);let o=n[xt];o!==null&&n[ho]===null&&(n[ho]=Fg(o,n[po])),Ll(r,n,n[Ve])}function AE(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function Ll(e,t,n){yl(t);try{let r=e.viewQuery;r!==null&&Du(1,r,n);let o=e.template;o!==null&&sm(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[bt]?.finishViewCreation(e),e.staticContentQueries&&Lg(e,t),e.staticViewQueries&&Du(2,e.viewQuery,n);let i=e.components;i!==null&&NE(t,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[S]&=-5,vl()}}function NE(e,t){for(let n=0;n<t.length;n++)xE(e,t[n])}var St=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(St||{}),RE;function jl(e,t){return RE(e,t)}function $l(e){return(e.flags&32)===32}function ur(e,t,n,r,o){if(r!=null){let i,s=!1;At(r)?i=r:Yt(r)&&(s=!0,r=r[xt]);let a=ut(r);e===0&&n!==null?o==null?tm(t,n,a):Os(t,n,a,o||null,!0):e===1&&n!==null?Os(t,n,a,o||null,!0):e===2?tE(t,a,s):e===3&&t.destroyNode(a),i!=null&&HE(t,e,i,n,o)}}function OE(e,t){hm(e,t),t[xt]=null,t[Te]=null}function kE(e,t,n,r,o,i){r[xt]=o,r[Te]=t,aa(e,r,n,1,o,i)}function hm(e,t){t[_t].changeDetectionScheduler?.notify(10),aa(e,t,t[J],2,null,null)}function PE(e){let t=e[go];if(!t)return Wc(e[L],e);for(;t;){let n=null;if(Yt(t))n=t[go];else{let r=t[Re];r&&(n=r)}if(!n){for(;t&&!t[tt]&&t!==e;)Yt(t)&&Wc(t[L],t),t=t[fe];t===null&&(t=e),Yt(t)&&Wc(t[L],t),n=t&&t[tt]}t=n}}function FE(e,t,n,r){let o=Re+r,i=n.length;r>0&&(n[o-1][tt]=t),r<i-Re?(t[tt]=n[o],Tp(n,Re+r,t)):(n.push(t),t[tt]=null),t[fe]=n;let s=t[bn];s!==null&&n!==s&&pm(s,t);let a=t[bt];a!==null&&a.insertView(e),cu(t),t[S]|=128}function pm(e,t){let n=e[mr],r=t[fe];if(Yt(r))e[S]|=2;else{let o=r[fe][Be];t[Be]!==o&&(e[S]|=2)}n===null?e[mr]=[t]:n.push(t)}function Ul(e,t){let n=e[mr],r=n.indexOf(t);n.splice(r,1)}function xu(e,t){if(e.length<=Re)return;let n=Re+t,r=e[n];if(r){let o=r[bn];o!==null&&o!==e&&Ul(o,r),t>0&&(e[n-1][tt]=r[tt]);let i=Ds(e,Re+t);OE(r[L],r);let s=i[bt];s!==null&&s.detachView(i[L]),r[fe]=null,r[tt]=null,r[S]&=-129}return r}function gm(e,t){if(Io(t))return;let n=t[J];n.destroyNode&&aa(e,t,n,3,null,null),PE(t)}function Wc(e,t){if(Io(t))return;let n=U(null);try{t[S]&=-129,t[S]|=256,t[Ne]&&Yn(t[Ne]),jE(e,t),LE(e,t),t[L].type===1&&t[J].destroy();let r=t[bn];if(r!==null&&At(t[fe])){r!==t[fe]&&Ul(r,t);let o=t[bt];o!==null&&o.detachView(e)}vu(t)}finally{U(n)}}function LE(e,t){let n=e.cleanup,r=t[bs];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(t[bs]=null);let o=t[Qt];if(o!==null){t[Qt]=null;for(let s=0;s<o.length;s++){let a=o[s];a()}}let i=t[En];if(i!==null){t[En]=null;for(let s of i)s.destroy()}}function jE(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let o=t[n[r]];if(!(o instanceof Tn)){let i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let a=o[i[s]],c=i[s+1];Ue(4,a,c);try{c.call(a)}finally{Ue(5,a,c)}}else{Ue(4,o,i);try{i.call(o)}finally{Ue(5,o,i)}}}}}function mm(e,t,n){return $E(e,t.parent,n)}function $E(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[xt];if(Nn(r)){let{encapsulation:o}=e.data[r.directiveStart+r.componentOffset];if(o===dt.None||o===dt.Emulated)return null}return nt(r,n)}function ym(e,t,n){return VE(e,t,n)}function UE(e,t,n){return e.type&40?nt(e,n):null}var VE=UE,tp;function sa(e,t,n,r){let o=mm(e,r,t),i=t[J],s=r.parent||t[Te],a=ym(s,r,t);if(o!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Jh(i,o,n[c],a,!1);else Jh(i,o,n,a,!1);tp!==void 0&&tp(i,r,t,n,o)}function co(e,t){if(t!==null){let n=t.type;if(n&3)return nt(t,e);if(n&4)return Au(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return co(e,r);{let o=e[t.index];return At(o)?Au(-1,o):ut(o)}}else{if(n&128)return co(e,t.next);if(n&32)return jl(t,e)()||ut(e[t.index]);{let r=vm(e,t);if(r!==null){if(Array.isArray(r))return r[0];let o=Cn(e[Be]);return co(o,r)}else return co(e,t.next)}}}return null}function vm(e,t){if(t!==null){let r=e[Be][Te],o=t.projection;return r.projection[o]}return null}function Au(e,t){let n=Re+e+1;if(n<t.length){let r=t[n],o=r[L].firstChild;if(o!==null)return co(r,o)}return t[In]}function Vl(e,t,n,r,o,i,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&t===0&&(a&&On(ut(a),r),n.flags|=2),!$l(n))if(c&8)Vl(e,t,n.child,r,o,i,!1),ur(t,e,o,a,i);else if(c&32){let u=jl(n,r),l;for(;l=u();)ur(t,e,o,l,i);ur(t,e,o,a,i)}else c&16?wm(e,t,r,n,o,i):ur(t,e,o,a,i);n=s?n.projectionNext:n.next}}function aa(e,t,n,r,o,i){Vl(n,r,e.firstChild,t,o,i,!1)}function BE(e,t,n){let r=t[J],o=mm(e,n,t),i=n.parent||t[Te],s=ym(i,n,t);wm(r,0,t,n,o,s)}function wm(e,t,n,r,o,i){let s=n[Be],c=s[Te].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];ur(t,e,o,l,i)}else{let u=c,l=s[fe];Tg(r)&&(u.flags|=128),Vl(e,t,u,l,o,i,!0)}}function HE(e,t,n,r,o){let i=n[In],s=ut(n);i!==s&&ur(t,e,r,i,o);for(let a=Re;a<n.length;a++){let c=n[a];aa(c[L],c,e,t,r,i)}}function zE(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else{let i=r.indexOf("-")===-1?void 0:St.DashCase;o==null?e.removeStyle(n,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=St.Important),e.setStyle(n,r,o,i))}}function Dm(e,t,n,r){let o=U(null);try{let i=t.tView,a=e[S]&4096?4096:16,c=Al(e,i,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=e[t.index];c[bn]=u;let l=e[bt];return l!==null&&(c[bt]=l.createEmbeddedView(i)),Ll(i,c,n),c}finally{U(o)}}function Nu(e,t){return!t||t.firstChild===null||Tg(e)}function _m(e,t,n,r=!0){let o=t[L];if(FE(o,t,e,n),r){let s=Au(n,e),a=t[J],c=a.parentNode(e[In]);c!==null&&kE(o,e[Te],a,t,c,s)}let i=t[ho];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function ks(e,t,n,r,o=!1){for(;n!==null;){if(n.type===128){n=o?n.projectionNext:n.next;continue}let i=t[n.index];i!==null&&r.push(ut(i)),At(i)&&qE(i,r);let s=n.type;if(s&8)ks(e,t,n.child,r);else if(s&32){let a=jl(n,t),c;for(;c=a();)r.push(c)}else if(s&16){let a=vm(t,n);if(Array.isArray(a))r.push(...a);else{let c=Cn(t[Be]);ks(c[L],c,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function qE(e,t){for(let n=Re;n<e.length;n++){let r=e[n],o=r[L].firstChild;o!==null&&ks(r[L],r,o,t)}e[In]!==e[xt]&&t.push(e[In])}var bm=[];function GE(e){return e[Ne]??WE(e)}function WE(e){let t=bm.pop()??Object.create(QE);return t.lView=e,t}function ZE(e){e.lView[Ne]!==e&&(e.lView=null,bm.push(e))}var QE=H(w({},fn),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Co(e.lView)},consumerOnSignalRead(){this.lView[Ne]=this}});function YE(e){let t=e[Ne]??Object.create(KE);return t.lView=e,t}var KE=H(w({},fn),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=Cn(e.lView);for(;t&&!Em(t[L]);)t=Cn(t);t&&fl(t)},consumerOnSignalRead(){this.lView[Ne]=this}});function Em(e){return e.type!==2}function Im(e){if(e[En]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[En])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[S]&8192)}}var JE=100;function Cm(e,t=!0,n=0){let o=e[_t].rendererFactory,i=!1;i||o.begin?.();try{XE(e,n)}catch(s){throw t&&fm(e,s),s}finally{i||o.end?.()}}function XE(e,t){let n=tg();try{Cs(!0),Ru(e,t);let r=0;for(;Ys(e);){if(r===JE)throw new _(103,!1);r++,Ru(e,1)}}finally{Cs(n)}}function eI(e,t,n,r){if(Io(t))return;let o=t[S],i=!1,s=!1;yl(t);let a=!0,c=null,u=null;i||(Em(e)?(u=GE(t),c=Qn(u)):Vf()===null?(a=!1,u=YE(t),c=Qn(u)):t[Ne]&&(Yn(t[Ne]),t[Ne]=null));try{Zp(t),w_(e.bindingStartIndex),n!==null&&sm(e,t,n,2,r);let l=(o&3)===3;if(!i)if(l){let f=e.preOrderCheckHooks;f!==null&&hs(t,f,null)}else{let f=e.preOrderHooks;f!==null&&ps(t,f,0,null),zc(t,0)}if(s||tI(t),Im(t),Sm(t,0),e.contentQueries!==null&&Lg(e,t),!i)if(l){let f=e.contentCheckHooks;f!==null&&hs(t,f)}else{let f=e.contentHooks;f!==null&&ps(t,f,1),zc(t,1)}rI(e,t);let d=e.components;d!==null&&Mm(t,d,0);let h=e.viewQuery;if(h!==null&&Du(2,h,r),!i)if(l){let f=e.viewCheckHooks;f!==null&&hs(t,f)}else{let f=e.viewHooks;f!==null&&ps(t,f,2),zc(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[fs]){for(let f of t[fs])f();t[fs]=null}i||(t[S]&=-73)}catch(l){throw i||Co(t),l}finally{u!==null&&(no(u,c),a&&ZE(u)),vl()}}function Sm(e,t){for(let n=Ag(e);n!==null;n=Ng(n))for(let r=Re;r<n.length;r++){let o=n[r];Tm(o,t)}}function tI(e){for(let t=Ag(e);t!==null;t=Ng(t)){if(!(t[S]&2))continue;let n=t[mr];for(let r=0;r<n.length;r++){let o=n[r];fl(o)}}}function nI(e,t,n){let r=lt(t,e);Tm(r,n)}function Tm(e,t){dl(e)&&Ru(e,t)}function Ru(e,t){let r=e[L],o=e[S],i=e[Ne],s=!!(t===0&&o&16);if(s||=!!(o&64&&t===0),s||=!!(o&1024),s||=!!(i?.dirty&&ro(i)),s||=!1,i&&(i.dirty=!1),e[S]&=-9217,s)eI(r,e,r.template,e[Ve]);else if(o&8192){Im(e),Sm(e,1);let a=r.components;a!==null&&Mm(e,a,1)}}function Mm(e,t,n){for(let r=0;r<t.length;r++)nI(e,t[r],n)}function rI(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let o=n[r];if(o<0)Sn(~o);else{let i=o,s=n[++r],a=n[++r];__(s,i);let c=t[i];Ue(24,c),a(2,c),Ue(25,c)}}}finally{Sn(-1)}}function Bl(e,t){let n=tg()?64:1088;for(e[_t].changeDetectionScheduler?.notify(t);e;){e[S]|=n;let r=Cn(e);if(Is(e)&&!r)return e;e=r}return null}var xn=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let t=this._lView,n=t[L];return ks(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[Ve]}get dirty(){return!!(this._lView[S]&9280)||!!this._lView[Ne]?.dirty}set context(t){this._lView[Ve]=t}get destroyed(){return Io(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[fe];if(At(t)){let n=t[Es],r=n?n.indexOf(this):-1;r>-1&&(xu(t,r),Ds(n,r))}this._attachedToViewContainer=!1}gm(this._lView[L],this._lView)}onDestroy(t){Qp(this._lView,t)}markForCheck(){Bl(this._cdRefInjectingView||this._lView,4)}markForRefresh(){fl(this._cdRefInjectingView||this._lView)}detach(){this._lView[S]&=-129}reattach(){cu(this._lView),this._lView[S]|=128}detectChanges(){this._lView[S]|=1024,Cm(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new _(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=Is(this._lView),n=this._lView[bn];n!==null&&!t&&Ul(n,this._lView),hm(this._lView[L],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new _(902,!1);this._appRef=t;let n=Is(this._lView),r=this._lView[bn];r!==null&&!n&&pm(r,this._lView),cu(this._lView)}},Jt=(()=>{class e{static __NG_ELEMENT_ID__=sI}return e})(),oI=Jt,iI=class extends oI{_declarationLView;_declarationTContainer;elementRef;constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){let o=Dm(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new xn(o)}};function sI(){return ca(ye(),k())}function ca(e,t){return e.type&4?new iI(t,e,Cr(e,t)):null}function Sr(e,t,n,r,o){let i=e.data[t];if(i===null)i=aI(e,t,n,r,o),D_()&&(i.flags|=32);else if(i.type&64){i.type=n,i.value=r,i.attrs=o;let s=m_();i.injectorIndex=s===null?-1:s.injectorIndex}return Rn(i,!0),i}function aI(e,t,n,r,o){let i=eg(),s=hl(),a=s?i:i&&i.parent,c=e.data[t]=uI(e,a,n,t,r,o);return cI(e,c,i,s),c}function cI(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function uI(e,t,n,r,o,i){let s=t?t.injectorIndex:-1,a=0;return Xp()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var mF=new RegExp(`^(\\d+)*(${lb}|${ub})*(.*)`);var lI=()=>null;function Ou(e,t){return lI(e,t)}var ku=class{},Ps=class{},Pu=class{resolveComponentFactory(t){throw Error(`No component factory found for ${me(t)}.`)}},wr=class{static NULL=new Pu},Dr=class{},Mo=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>dI()}return e})();function dI(){let e=k(),t=ye(),n=lt(t.index,e);return(Yt(n)?n:e)[J]}var fI=(()=>{class e{static \u0275prov=D({token:e,providedIn:"root",factory:()=>null})}return e})();function Fs(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,i=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")i=a;else if(i==1)o=eu(o,a);else if(i==2){let c=a,u=t[++s];r=eu(r,c+": "+u+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}var Ls=class extends wr{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=_n(t);return new vo(n,this.ngModule)}};function np(e,t){let n=[];for(let r in e){if(!e.hasOwnProperty(r))continue;let o=e[r];if(o===void 0)continue;let i=Array.isArray(o),s=i?o[0]:o,a=i?o[1]:Kt.None;t?n.push({propName:s,templateName:r,isSignal:(a&Kt.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function hI(e){let t=e.toLowerCase();return t==="svg"?o_:t==="math"?i_:null}var vo=class extends Ps{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){let t=this.componentDef,n=t.inputTransforms,r=np(t.inputs,!0);if(n!==null)for(let o of r)n.hasOwnProperty(o.propName)&&(o.transform=n[o.propName]);return r}get outputs(){return np(this.componentDef.outputs,!1)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=Yb(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,o){let i=U(null);try{o=o||this.ngModule;let s=o instanceof Se?o:o?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new du(t,s):t,c=a.get(Dr,null);if(c===null)throw new _(407,!1);let u=a.get(fI,null),l=a.get(Mn,null),d={rendererFactory:c,sanitizer:u,changeDetectionScheduler:l},h=c.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?sE(h,r,this.componentDef.encapsulation,a):em(h,f,hI(f)),g=512;this.componentDef.signals?g|=4096:this.componentDef.onPush||(g|=16);let m=null;p!==null&&(m=Fg(p,a,!0));let v=Ol(0,null,null,1,0,null,null,null,null,null,null),C=Al(null,v,null,g,null,null,d,h,a,null,m);C[he]=p,yl(C);let I=null;try{let B=r?["ng-version","19.1.4"]:Kb(this.componentDef.selectors[0]),x=Sr(v,he,2,"#host",B),[Qe,Si]=lm(v,x,[this.componentDef]);um(v,C,x,Qe,{},Si);for(let Ow of Qe)x.mergedAttrs=vr(x.mergedAttrs,Ow.hostAttrs);x.mergedAttrs=vr(x.mergedAttrs,B),Fs(x,x.mergedAttrs,!0),p&&(nm(h,p,x),On(p,C)),n!==void 0&&pI(x,this.ngContentSelectors,n),am(v,C,x),Ml(v,x,C),ea(v,x),I=lt(x.index,C),C[Ve]=I[Ve],Ll(v,C,null)}catch(B){throw I!==null&&vu(I),vu(C),B}finally{vl()}return new Fu(this.componentType,C)}finally{U(i)}}},Fu=class extends ku{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n){super(),this._rootLView=n,this._tNode=Wp(n[L],he),this.location=Cr(this._tNode,n),this.instance=lt(this._tNode.index,n)[Ve],this.hostView=this.changeDetectorRef=new xn(n,void 0,!1),this.componentType=t}setInput(t,n){let r=this._tNode.inputs,o;if(r!==null&&(o=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let i=this._rootLView;Fl(i[L],i,o,t,n),this.previousInputValues.set(t,n);let s=lt(this._tNode.index,i);Bl(s,1)}}get injector(){return new wn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function pI(e,t,n){let r=e.projection=[];for(let o=0;o<t.length;o++){let i=n[o];r.push(i!=null&&i.length?Array.from(i):null)}}var kt=(()=>{class e{static __NG_ELEMENT_ID__=gI}return e})();function gI(){let e=ye();return Am(e,k())}var mI=kt,xm=class extends mI{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Cr(this._hostTNode,this._hostLView)}get injector(){return new wn(this._hostTNode,this._hostLView)}get parentInjector(){let t=Dl(this._hostTNode,this._hostLView);if(dg(t)){let n=Ts(t,this._hostLView),r=Ss(t),o=n[L].data[r+8];return new wn(o,n)}else return new wn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=rp(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-Re}createEmbeddedView(t,n,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=Ou(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},i,s);return this.insertImpl(a,o,Nu(this._hostTNode,s)),a}createComponent(t,n,r,o,i){let s=t&&!e_(t),a;if(s)a=n;else{let p=n||{};a=p.index,r=p.injector,o=p.projectableNodes,i=p.environmentInjector||p.ngModuleRef}let c=s?t:new vo(_n(t)),u=r||this.parentInjector;if(!i&&c.ngModule==null){let g=(s?u:this.parentInjector).get(Se,null);g&&(i=g)}let l=_n(c.componentType??{}),d=Ou(this._lContainer,l?.id??null),h=d?.firstChild??null,f=c.create(u,o,h,i);return this.insertImpl(f.hostView,a,Nu(this._hostTNode,d)),f}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let o=t._lView;if(a_(o)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let c=o[fe],u=new xm(c,c[Te],c[fe]);u.detach(u.indexOf(t))}}let i=this._adjustIndex(n),s=this._lContainer;return _m(s,o,i,r),t.attachToViewContainerRef(),Tp(Zc(s),i,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=rp(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=xu(this._lContainer,n);r&&(Ds(Zc(this._lContainer),n),gm(r[L],r))}detach(t){let n=this._adjustIndex(t,-1),r=xu(this._lContainer,n);return r&&Ds(Zc(this._lContainer),n)!=null?new xn(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function rp(e){return e[Es]}function Zc(e){return e[Es]||(e[Es]=[])}function Am(e,t){let n,r=t[e.index];return At(r)?n=r:(n=dm(r,t,null,e),t[e.index]=n,Pl(t,n)),vI(n,t,e,r),new xm(n,e,t)}function yI(e,t){let n=e[J],r=n.createComment(""),o=nt(t,e),i=n.parentNode(o);return Os(n,i,r,n.nextSibling(o),!1),r}var vI=_I,wI=()=>!1;function DI(e,t,n){return wI(e,t,n)}function _I(e,t,n,r){if(e[In])return;let o;n.type&8?o=ut(r):o=yI(t,n),e[In]=o}var Lu=class e{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},ju=class e{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let r=t.contentQueries!==null?t.contentQueries[0]:n.length,o=[];for(let i=0;i<r;i++){let s=n.getByIndex(i),a=this.queries[s.indexInDeclarationView];o.push(a.clone())}return new e(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)Hl(t,n).matches!==null&&this.queries[n].setDirty()}},$u=class{flags;read;predicate;constructor(t,n,r=null){this.flags=n,this.read=r,typeof t=="string"?this.predicate=xI(t):this.predicate=t}},Uu=class e{queries;constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){let o=n!==null?n.length:0,i=this.getByIndex(r).embeddedTView(t,o);i&&(i.indexInDeclarationView=r,n!==null?n.push(i):n=[i])}return n!==null?new e(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},Vu=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,n=-1){this.metadata=t,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=t.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){let i=r[o];this.matchTNodeWithReadOption(t,n,bI(n,i)),this.matchTNodeWithReadOption(t,n,gs(n,t,i,!1,!1))}else r===Jt?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,gs(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(r!==null){let o=this.metadata.read;if(o!==null)if(o===Rt||o===kt||o===Jt&&n.type&4)this.addMatch(n.index,-2);else{let i=gs(n,t,o,!1,!1);i!==null&&this.addMatch(n.index,i)}else this.addMatch(n.index,r)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function bI(e,t){let n=e.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1]}return null}function EI(e,t){return e.type&11?Cr(e,t):e.type&4?ca(e,t):null}function II(e,t,n,r){return n===-1?EI(t,e):n===-2?CI(e,t,r):mo(e,e[L],n,t)}function CI(e,t,n){if(n===Rt)return Cr(t,e);if(n===Jt)return ca(t,e);if(n===kt)return Am(t,e)}function Nm(e,t,n,r){let o=t[bt].queries[r];if(o.matches===null){let i=e.data,s=n.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let u=s[c];if(u<0)a.push(null);else{let l=i[u];a.push(II(t,l,s[c+1],n.metadata.read))}}o.matches=a}return o.matches}function Bu(e,t,n,r){let o=e.queries.getByIndex(n),i=o.matches;if(i!==null){let s=Nm(e,t,o,n);for(let a=0;a<i.length;a+=2){let c=i[a];if(c>0)r.push(s[a/2]);else{let u=i[a+1],l=t[-c];for(let d=Re;d<l.length;d++){let h=l[d];h[bn]===h[fe]&&Bu(h[L],h,u,r)}if(l[mr]!==null){let d=l[mr];for(let h=0;h<d.length;h++){let f=d[h];Bu(f[L],f,u,r)}}}}}return r}function SI(e,t){return e[bt].queries[t].queryList}function TI(e,t,n){let r=new yu((n&4)===4);return l_(e,t,r,r.destroy),(t[bt]??=new ju).queries.push(new Lu(r))-1}function MI(e,t,n){let r=re();return r.firstCreatePass&&(AI(r,new $u(e,t,n),-1),(t&2)===2&&(r.staticViewQueries=!0)),TI(r,k(),t)}function xI(e){return e.split(",").map(t=>t.trim())}function AI(e,t,n){e.queries===null&&(e.queries=new Uu),e.queries.track(new Vu(t,n))}function Hl(e,t){return e.queries.getByIndex(t)}function NI(e,t){let n=e[L],r=Hl(n,t);return r.crossesNgTemplate?Bu(n,e,t,[]):Nm(n,e,r,t)}var Xt=class{},wo=class{};var Hu=class extends Xt{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Ls(this);constructor(t,n,r,o=!0){super(),this.ngModuleType=t,this._parent=n;let i=Ap(t);this._bootstrapComponents=Kg(i.bootstrap),this._r3Injector=Dg(t,n,[{provide:Xt,useValue:this},{provide:wr,useValue:this.componentFactoryResolver},...r],me(t),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},zu=class extends wo{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new Hu(this.moduleType,t,[])}};var js=class extends Xt{injector;componentFactoryResolver=new Ls(this);instance=null;constructor(t){super();let n=new fo([...t.providers,{provide:Xt,useValue:this},{provide:wr,useValue:this.componentFactoryResolver}],t.parent||cl(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function zl(e,t,n=null){return new js({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var RI=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=kp(!1,n.type),o=r.length>0?zl([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=D({token:e,providedIn:"environment",factory:()=>new e(E(Se))})}return e})();function Rm(e){return _o(()=>{let t=Om(e),n=H(w({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Mg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?o=>o.get(RI).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||dt.Emulated,styles:e.styles||Ce,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&tn("NgStandalone"),km(n);let r=e.dependencies;return n.directiveDefs=ip(r,!1),n.pipeDefs=ip(r,!0),n.id=PI(n),n})}function OI(e){return _n(e)||Np(e)}function kI(e){return e!==null}function xo(e){return _o(()=>({type:e.type,bootstrap:e.bootstrap||Ce,declarations:e.declarations||Ce,imports:e.imports||Ce,exports:e.exports||Ce,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function op(e,t){if(e==null)return hr;let n={};for(let r in e)if(e.hasOwnProperty(r)){let o=e[r],i,s,a=Kt.None;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i):(i=o,s=o),t?(n[i]=a!==Kt.None?[r,a]:r,t[i]=s):n[i]=r}return n}function Pt(e){return _o(()=>{let t=Om(e);return km(t),t})}function ql(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function Om(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||hr,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||Ce,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:op(e.inputs,t),outputs:op(e.outputs),debugInfo:null}}function km(e){e.features?.forEach(t=>t(e))}function ip(e,t){if(!e)return null;let n=t?Rp:OI;return()=>(typeof e=="function"?e():e).map(r=>n(r)).filter(kI)}function PI(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let i of r.join("|"))t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function FI(e){return Object.getPrototypeOf(e.prototype).constructor}function LI(e){let t=FI(e.type),n=!0,r=[e];for(;t;){let o;if(Et(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new _(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);let s=e;s.inputs=us(e.inputs),s.inputTransforms=us(e.inputTransforms),s.declaredInputs=us(e.declaredInputs),s.outputs=us(e.outputs);let a=o.hostBindings;a&&BI(e,a);let c=o.viewQuery,u=o.contentQueries;if(c&&UI(e,c),u&&VI(e,u),jI(e,o),vD(e.outputs,o.outputs),Et(o)&&o.data.animation){let l=e.data;l.animation=(l.animation||[]).concat(o.data.animation)}}let i=o.features;if(i)for(let s=0;s<i.length;s++){let a=i[s];a&&a.ngInherit&&a(e),a===LI&&(n=!1)}}t=Object.getPrototypeOf(t)}$I(r)}function jI(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];if(r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n],t.inputTransforms!==null)){let o=Array.isArray(r)?r[0]:r;if(!t.inputTransforms.hasOwnProperty(o))continue;e.inputTransforms??={},e.inputTransforms[o]=t.inputTransforms[o]}}}function $I(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=vr(o.hostAttrs,n=vr(n,o.hostAttrs))}}function us(e){return e===hr?{}:e===Ce?[]:e}function UI(e,t){let n=e.viewQuery;n?e.viewQuery=(r,o)=>{t(r,o),n(r,o)}:e.viewQuery=t}function VI(e,t){let n=e.contentQueries;n?e.contentQueries=(r,o,i)=>{t(r,o,i),n(r,o,i)}:e.contentQueries=t}function BI(e,t){let n=e.hostBindings;n?e.hostBindings=(r,o)=>{t(r,o),n(r,o)}:e.hostBindings=t}function Gl(e){let t=e.inputConfig,n={};for(let r in t)if(t.hasOwnProperty(r)){let o=t[r];Array.isArray(o)&&o[3]&&(n[r]=o[3])}e.inputTransforms=n}function Pm(e){return zI(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function HI(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),r;for(;!(r=n.next()).done;)t(r.value)}}function zI(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function Wl(e,t,n){return e[t]=n}function qI(e,t){return e[t]}function Tt(e,t,n){let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function Fm(e,t,n,r){let o=Tt(e,t,n);return Tt(e,t+1,r)||o}function GI(e,t,n,r,o,i,s,a,c){let u=t.consts,l=Sr(t,e,4,s||null,a||null);kl(t,n,l,yr(u,c)),ea(t,l);let d=l.tView=Ol(2,l,r,o,i,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u,null);return t.queries!==null&&(t.queries.template(t,l),d.queries=t.queries.embeddedTView(l)),l}function Lm(e,t,n,r,o,i,s,a,c,u){let l=n+he,d=t.firstCreatePass?GI(l,t,e,r,o,i,s,a,c):t.data[l];Rn(d,!1);let h=ZI(t,e,d,n);Js()&&sa(t,e,h,d),On(h,e);let f=dm(h,e,h,d);return e[l]=f,Pl(e,f),DI(f,d,e),Zs(d)&&Nl(t,e,d),c!=null&&Rl(e,d,u),d}function WI(e,t,n,r,o,i,s,a){let c=k(),u=re(),l=yr(u.consts,i);return Lm(c,u,e,t,n,r,o,l,s,a),WI}var ZI=QI;function QI(e,t,n,r){return Xs(!0),t[J].createComment("")}var Zl=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var jm=new b("");function Ao(e){return!!e&&typeof e.then=="function"}function $m(e){return!!e&&typeof e.subscribe=="function"}var Um=new b("");var Vm=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=y(Um,{optional:!0})??[];injector=y(He);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let i=Oe(this.injector,o);if(Ao(i))n.push(i);else if($m(i)){let s=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Bm=(()=>{class e{static \u0275prov=D({token:e,providedIn:"root",factory:()=>new $s})}return e})(),$s=class{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),this.queuedEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||(this.queuedEffectCount++,r.add(t))}flush(){for(;this.queuedEffectCount>0;)for(let[t,n]of this.queues)t===null?this.flushQueue(n):t.run(()=>this.flushQueue(n))}flushQueue(t){for(let n of t)t.delete(n),this.queuedEffectCount--,n.run()}},ua=new b("");function YI(){Jf(()=>{throw new _(600,!1)})}function KI(e){return e.isBoundToModule}var JI=10;function XI(e,t,n){try{let r=n();return Ao(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}var Mt=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=y(K_);afterRenderManager=y(fb);zonelessEnabled=y(na);rootEffectScheduler=y(Bm);dirtyFlags=0;deferredDirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new te;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=y(Nt).hasPendingTasks.pipe(R(n=>!n));constructor(){y(ra,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=y(Se);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){let o=n instanceof Ps;if(!this._injector.get(Vm).done){let h=!o&&Op(n),f=!1;throw new _(405,f)}let s;o?s=n:s=this._injector.get(wr).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=KI(s)?void 0:this._injector.get(Xt),c=r||s.selector,u=s.create(He.NULL,[],c,a),l=u.location.nativeElement,d=u.injector.get(jm,null);return d?.registerApplication(l),u.onDestroy(()=>{this.detachView(u.hostView),ms(this.components,u),d?.unregisterApplication(l)}),this._loadComponent(u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick=()=>{if(this.tracingSnapshot!==null){let r=this.tracingSnapshot;this.tracingSnapshot=null,r.run(Pg.CHANGE_DETECTION,this._tick),r.dispose();return}if(this._runningTick)throw new _(101,!1);let n=U(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,U(n),this.afterTick.next()}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Dr,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let n=0;for(;this.dirtyFlags!==0&&n++<JI;)this.synchronizeOnce()}synchronizeOnce(){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:o}of this.allViews)eC(r,o,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Ys(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;ms(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(ua,[]).forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>ms(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new _(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ms(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function eC(e,t,n,r){if(!n&&!Ys(e))return;Cm(e,t,n&&!r?0:1)}function Ql(e,t,n,r){let o=k(),i=Ks();if(Tt(o,i,t)){let s=re(),a=wl();CE(a,o,e,t,n,r)}return Ql}function tC(e,t,n,r){return Tt(e,Ks(),n)?t+fr(n)+r:qe}function nC(e,t,n,r,o,i){let s=v_(),a=Fm(e,s,n,o);return gl(2),a?t+fr(n)+r+fr(o)+i:qe}function ls(e,t){return e<<17|t<<2}function An(e){return e>>17&32767}function rC(e){return(e&2)==2}function oC(e,t){return e&131071|t<<17}function qu(e){return e|2}function _r(e){return(e&131068)>>2}function Qc(e,t){return e&-131069|t<<2}function iC(e){return(e&1)===1}function Gu(e){return e|1}function sC(e,t,n,r,o,i){let s=i?t.classBindings:t.styleBindings,a=An(s),c=_r(s);e[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||Eo(d,l)>0)&&(u=!0)}else l=n;if(o)if(c!==0){let h=An(e[a+1]);e[r+1]=ls(h,a),h!==0&&(e[h+1]=Qc(e[h+1],r)),e[a+1]=oC(e[a+1],r)}else e[r+1]=ls(a,0),a!==0&&(e[a+1]=Qc(e[a+1],r)),a=r;else e[r+1]=ls(c,0),a===0?a=r:e[c+1]=Qc(e[c+1],r),c=r;u&&(e[r+1]=qu(e[r+1])),sp(e,l,r,!0),sp(e,l,r,!1),aC(t,l,e,r,i),s=ls(a,c),i?t.classBindings=s:t.styleBindings=s}function aC(e,t,n,r,o){let i=o?e.residualClasses:e.residualStyles;i!=null&&typeof t=="string"&&Eo(i,t)>=0&&(n[r+1]=Gu(n[r+1]))}function sp(e,t,n,r){let o=e[n+1],i=t===null,s=r?An(o):_r(o),a=!1;for(;s!==0&&(a===!1||i);){let c=e[s],u=e[s+1];cC(c,t)&&(a=!0,e[s+1]=r?Gu(u):qu(u)),s=r?An(u):_r(u)}a&&(e[n+1]=r?qu(o):Gu(o))}function cC(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Eo(e,t)>=0:!1}var et={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function uC(e){return e.substring(et.key,et.keyEnd)}function lC(e){return dC(e),Hm(e,zm(e,0,et.textEnd))}function Hm(e,t){let n=et.textEnd;return n===t?-1:(t=et.keyEnd=fC(e,et.key=t,n),zm(e,t,n))}function dC(e){et.key=0,et.keyEnd=0,et.value=0,et.valueEnd=0,et.textEnd=e.length}function zm(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function fC(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}function hC(e,t,n){let r=k(),o=Ks();if(Tt(r,o,t)){let i=re(),s=wl();cm(i,s,r,e,t,r[J],n,!1)}return hC}function Wu(e,t,n,r,o){let i=t.inputs,s=o?"class":"style";Fl(e,n,i[s],s,r)}function qm(e,t,n){return Gm(e,t,n,!1),qm}function pC(e,t){return Gm(e,t,null,!0),pC}function vF(e){mC(bC,gC,e,!0)}function gC(e,t){for(let n=lC(t);n>=0;n=Hm(t,n))sl(e,uC(t),!0)}function Gm(e,t,n,r){let o=k(),i=re(),s=gl(2);if(i.firstUpdatePass&&Zm(i,e,s,r),t!==qe&&Tt(o,s,t)){let a=i.data[en()];Qm(i,a,o,o[J],e,o[s+1]=IC(t,n),r,s)}}function mC(e,t,n,r){let o=re(),i=gl(2);o.firstUpdatePass&&Zm(o,null,i,r);let s=k();if(n!==qe&&Tt(s,i,n)){let a=o.data[en()];if(Ym(a,r)&&!Wm(o,i)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=eu(c,n||"")),Wu(o,a,s,n,r)}else EC(o,a,s,s[J],s[i+1],s[i+1]=_C(e,t,n),r,i)}}function Wm(e,t){return t>=e.expandoStartIndex}function Zm(e,t,n,r){let o=e.data;if(o[n+1]===null){let i=o[en()],s=Wm(e,n);Ym(i,r)&&t===null&&!s&&(t=!1),t=yC(o,i,t,r),sC(o,i,t,n,s,r)}}function yC(e,t,n,r){let o=E_(e),i=r?t.residualClasses:t.residualStyles;if(o===null)(r?t.classBindings:t.styleBindings)===0&&(n=Yc(null,e,t,n,r),n=Do(n,t.attrs,r),i=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==o)if(n=Yc(o,e,t,n,r),i===null){let c=vC(e,t,r);c!==void 0&&Array.isArray(c)&&(c=Yc(null,e,t,c[1],r),c=Do(c,t.attrs,r),wC(e,t,r,c))}else i=DC(e,t,r)}return i!==void 0&&(r?t.residualClasses=i:t.residualStyles=i),n}function vC(e,t,n){let r=n?t.classBindings:t.styleBindings;if(_r(r)!==0)return e[An(r)]}function wC(e,t,n,r){let o=n?t.classBindings:t.styleBindings;e[An(o)]=r}function DC(e,t,n){let r,o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++){let s=e[i].hostAttrs;r=Do(r,s,n)}return Do(r,t.attrs,n)}function Yc(e,t,n,r,o){let i=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(i=t[a],r=Do(r,i.hostAttrs,o),i!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function Do(e,t,n){let r=n?1:2,o=-1;if(t!==null)for(let i=0;i<t.length;i++){let s=t[i];typeof s=="number"?o=s:o===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),sl(e,s,n?!0:t[++i]))}return e===void 0?null:e}function _C(e,t,n){if(n==null||n==="")return Ce;let r=[],o=rt(n);if(Array.isArray(o))for(let i=0;i<o.length;i++)e(r,o[i],!0);else if(typeof o=="object")for(let i in o)o.hasOwnProperty(i)&&e(r,i,o[i]);else typeof o=="string"&&t(r,o);return r}function bC(e,t,n){let r=String(t);r!==""&&!r.includes(" ")&&sl(e,r,n)}function EC(e,t,n,r,o,i,s,a){o===qe&&(o=Ce);let c=0,u=0,l=0<o.length?o[0]:null,d=0<i.length?i[0]:null;for(;l!==null||d!==null;){let h=c<o.length?o[c+1]:void 0,f=u<i.length?i[u+1]:void 0,p=null,g;l===d?(c+=2,u+=2,h!==f&&(p=d,g=f)):d===null||l!==null&&l<d?(c+=2,p=l):(u+=2,p=d,g=f),p!==null&&Qm(e,t,n,r,p,g,s,a),l=c<o.length?o[c]:null,d=u<i.length?i[u]:null}}function Qm(e,t,n,r,o,i,s,a){if(!(t.type&3))return;let c=e.data,u=c[a+1],l=iC(u)?ap(c,t,n,o,_r(u),s):void 0;if(!Us(l)){Us(i)||rC(u)&&(i=ap(c,null,n,o,a,s));let d=Gp(en(),n);zE(r,s,d,o,i)}}function ap(e,t,n,r,o,i){let s=t===null,a;for(;o>0;){let c=e[o],u=Array.isArray(c),l=u?c[1]:c,d=l===null,h=n[o+1];h===qe&&(h=d?Ce:void 0);let f=d?Bc(h,r):l===r?h:void 0;if(u&&!Us(f)&&(f=Bc(c,r)),Us(f)&&(a=f,s))return a;let p=e[o+1];o=s?An(p):_r(p)}if(t!==null){let c=i?t.residualClasses:t.residualStyles;c!=null&&(a=Bc(c,r))}return a}function Us(e){return e!==void 0}function IC(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=me(rt(e)))),e}function Ym(e,t){return(e.flags&(t?8:16))!==0}function CC(e,t,n,r,o,i){let s=t.consts,a=yr(s,o),c=Sr(t,e,2,r,a);return kl(t,n,c,yr(s,i)),c.attrs!==null&&Fs(c,c.attrs,!1),c.mergedAttrs!==null&&Fs(c,c.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,c),c}function Km(e,t,n,r){let o=k(),i=re(),s=he+e,a=o[J],c=i.firstCreatePass?CC(s,i,o,t,n,r):i.data[s],u=SC(i,o,c,a,t,e);o[s]=u;let l=Zs(c);return Rn(c,!0),nm(a,u,c),!$l(c)&&Js()&&sa(i,o,u,c),d_()===0&&On(u,o),f_(),l&&(Nl(i,o,c),Ml(i,c,o)),r!==null&&Rl(o,c),Km}function Jm(){let e=ye();hl()?pl():(e=e.parent,Rn(e,!1));let t=e;p_(t)&&g_(),h_();let n=re();return n.firstCreatePass&&(ea(n,e),ul(e)&&n.queries.elementEnd(e)),t.classesWithoutHost!=null&&A_(t)&&Wu(n,t,k(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&N_(t)&&Wu(n,t,k(),t.stylesWithoutHost,!1),Jm}function Yl(e,t,n,r){return Km(e,t,n,r),Jm(),Yl}var SC=(e,t,n,r,o,i)=>(Xs(!0),em(r,o,S_()));function TC(e,t,n,r,o){let i=t.consts,s=yr(i,r),a=Sr(t,e,8,"ng-container",s);s!==null&&Fs(a,s,!0);let c=yr(i,o);return kl(t,n,a,c),t.queries!==null&&t.queries.elementStart(t,a),a}function MC(e,t,n){let r=k(),o=re(),i=e+he,s=o.firstCreatePass?TC(i,o,r,t,n):o.data[i];Rn(s,!0);let a=AC(o,r,s,e);return r[i]=a,Js()&&sa(o,r,a,s),On(a,r),Zs(s)&&(Nl(o,r,s),Ml(o,s,r)),n!=null&&Rl(r,s),MC}function xC(){let e=ye(),t=re();return hl()?pl():(e=e.parent,Rn(e,!1)),t.firstCreatePass&&(ea(t,e),ul(e)&&t.queries.elementEnd(e)),xC}var AC=(e,t,n,r)=>(Xs(!0),eE(t[J],""));function wF(){return k()}var vn=void 0;function NC(e){let t=e,n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var RC=["en",[["a","p"],["AM","PM"],vn],[["AM","PM"],vn,vn],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],vn,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],vn,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",vn,"{1} 'at' {0}",vn],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",NC],Kc={};function ke(e){let t=OC(e),n=cp(t);if(n)return n;let r=t.split("-")[0];if(n=cp(r),n)return n;if(r==="en")return RC;throw new _(701,!1)}function cp(e){return e in Kc||(Kc[e]=Dt.ng&&Dt.ng.common&&Dt.ng.common.locales&&Dt.ng.common.locales[e]),Kc[e]}var X=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(X||{});function OC(e){return e.toLowerCase().replace(/_/g,"-")}var Vs="en-US";var kC=Vs;function PC(e){typeof e=="string"&&(kC=e.toLowerCase().replace(/_/g,"-"))}var FC=(e,t,n)=>{};function Kl(e,t,n,r){let o=k(),i=re(),s=ye();return Xm(i,o,o[J],s,e,t,r),Kl}function LC(e,t,n,r){let o=e.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===n&&o[i+1]===r){let a=t[bs],c=o[i+2];return a.length>c?a[c]:null}typeof s=="string"&&(i+=2)}return null}function Xm(e,t,n,r,o,i,s){let a=Zs(r),u=e.firstCreatePass&&Kp(e),l=t[Ve],d=Yp(t),h=!0;if(r.type&3||s){let g=nt(r,t),m=s?s(g):g,v=d.length,C=s?B=>s(ut(B[r.index])):r.index,I=null;if(!s&&a&&(I=LC(e,t,o,r.index)),I!==null){let B=I.__ngLastListenerFn__||I;B.__ngNextListenerFn__=i,I.__ngLastListenerFn__=i,h=!1}else{i=lp(r,t,l,i),FC(g,o,i);let B=n.listen(m,o,i);d.push(i,B),u&&u.push(o,C,v,v+1)}}else i=lp(r,t,l,i);let f=r.outputs,p;if(h&&f!==null&&(p=f[o])){let g=p.length;if(g)for(let m=0;m<g;m+=2){let v=p[m],C=p[m+1],x=t[v][C].subscribe(i),Qe=d.length;d.push(i,x),u&&u.push(o,r.index,Qe,-(Qe+1))}}}function up(e,t,n,r){let o=U(null);try{return Ue(6,t,n),n(r)!==!1}catch(i){return fm(e,i),!1}finally{Ue(7,t,n),U(o)}}function lp(e,t,n,r){return function o(i){if(i===Function)return r;let s=Nn(e)?lt(e.index,t):t;Bl(s,5);let a=up(t,n,r,i),c=o.__ngNextListenerFn__;for(;c;)a=up(t,n,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function DF(e=1){return C_(e)}function jC(e,t){let n=null,r=qb(e);for(let o=0;o<t.length;o++){let i=t[o];if(i==="*"){n=o;continue}if(r===null?Xg(e,i,!0):Zb(r,i))return o}return n}function _F(e){let t=k()[Be][Te];if(!t.projection){let n=e?e.length:1,r=t.projection=UD(n,null),o=r.slice(),i=t.child;for(;i!==null;){if(i.type!==128){let s=e?jC(i,e):0;s!==null&&(o[s]?o[s].projectionNext=i:r[s]=i,o[s]=i)}i=i.next}}}function bF(e,t=0,n,r,o,i){let s=k(),a=re(),c=r?e+1:null;c!==null&&Lm(s,a,c,r,o,i,null,n);let u=Sr(a,he+e,16,null,n||null);u.projection===null&&(u.projection=t),pl();let d=!s[ho]||Xp();s[Be][Te].projection[u.projection]===null&&c!==null?$C(s,a,c):d&&!$l(u)&&BE(a,s,u)}function $C(e,t,n){let r=he+n,o=t.data[r],i=e[r],s=Ou(i,o.tView.ssrId),a=Dm(e,o,void 0,{dehydratedView:s});_m(i,a,0,Nu(o,s))}function EF(e,t,n){MI(e,t,n)}function UC(e){let t=k(),n=re(),r=ng();ml(r+1);let o=Hl(n,r);if(e.dirty&&s_(t)===((o.metadata.flags&2)===2)){if(o.matches===null)e.reset([]);else{let i=NI(t,r);e.reset(i,eb),e.notifyOnChanges()}return!0}return!1}function VC(){return SI(k(),ng())}function BC(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}function IF(e){let t=y_();return ll(t,he+e)}function CF(e,t=""){let n=k(),r=re(),o=e+he,i=r.firstCreatePass?Sr(r,o,1,t,null):r.data[o],s=HC(r,n,i,t,e);n[o]=s,Js()&&sa(r,n,s,i),Rn(i,!1)}var HC=(e,t,n,r,o)=>(Xs(!0),Jb(t[J],r));function zC(e){return ey("",e,""),zC}function ey(e,t,n){let r=k(),o=tC(r,e,t,n);return o!==qe&&ty(r,en(),o),ey}function qC(e,t,n,r,o){let i=k(),s=nC(i,e,t,n,r,o);return s!==qe&&ty(i,en(),s),qC}function ty(e,t,n){let r=Gp(t,e);Xb(e[J],r,n)}function GC(e,t,n){Sg(t)&&(t=t());let r=k(),o=Ks();if(Tt(r,o,t)){let i=re(),s=wl();cm(i,s,r,e,t,r[J],n,!1)}return GC}function SF(e,t){let n=Sg(e);return n&&e.set(t),n}function WC(e,t){let n=k(),r=re(),o=ye();return Xm(r,n,n[J],o,e,t),WC}function ZC(e,t,n){let r=re();if(r.firstCreatePass){let o=Et(e);Zu(n,r.data,r.blueprint,o,!0),Zu(t,r.data,r.blueprint,o,!1)}}function Zu(e,t,n,r,o){if(e=ge(e),Array.isArray(e))for(let i=0;i<e.length;i++)Zu(e[i],t,n,r,o);else{let i=re(),s=k(),a=ye(),c=gr(e)?e:ge(e.provide),u=Lp(e),l=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(gr(e)||!e.multi){let f=new Tn(u,o,Z),p=Xc(c,t,o?l:l+h,d);p===-1?(hu(xs(a,s),i,c),Jc(i,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[p]=f,s[p]=f)}else{let f=Xc(c,t,l+h,d),p=Xc(c,t,l,l+h),g=f>=0&&n[f],m=p>=0&&n[p];if(o&&!m||!o&&!g){hu(xs(a,s),i,c);let v=KC(o?YC:QC,n.length,o,r,u);!o&&m&&(n[p].providerFactory=v),Jc(i,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(v),s.push(v)}else{let v=ny(n[o?p:f],u,!o&&r);Jc(i,e,f>-1?f:p,v)}!o&&r&&m&&n[p].componentProviders++}}}function Jc(e,t,n,r){let o=gr(t),i=WD(t);if(o||i){let c=(i?ge(t.useClass):t).prototype.ngOnDestroy;if(c){let u=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function ny(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Xc(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function QC(e,t,n,r){return Qu(this.multi,[])}function YC(e,t,n,r){let o=this.multi,i;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=mo(n,n[L],this.providerFactory.index,r);i=a.slice(0,s),Qu(o,i);for(let c=s;c<a.length;c++)i.push(a[c])}else i=[],Qu(o,i);return i}function Qu(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function KC(e,t,n,r,o){let i=new Tn(e,n,Z);return i.multi=[],i.index=t,i.componentProviders=0,ny(i,o,r&&!n),i}function TF(e,t=[]){return n=>{n.providersResolver=(r,o)=>ZC(r,o?o(e):e,t)}}function MF(e,t,n){let r=So()+e,o=k();return o[r]===qe?Wl(o,r,n?t.call(n):t()):qI(o,r)}function xF(e,t,n,r){return oy(k(),So(),e,t,n,r)}function AF(e,t,n,r,o){return iy(k(),So(),e,t,n,r,o)}function ry(e,t){let n=e[t];return n===qe?void 0:n}function oy(e,t,n,r,o,i){let s=t+n;return Tt(e,s,o)?Wl(e,s+1,i?r.call(i,o):r(o)):ry(e,s+1)}function iy(e,t,n,r,o,i,s){let a=t+n;return Fm(e,a,o,i)?Wl(e,a+2,s?r.call(s,o,i):r(o,i)):ry(e,a+2)}function NF(e,t){let n=re(),r,o=e+he;n.firstCreatePass?(r=JC(t,n.pipeRegistry),n.data[o]=r,r.onDestroy&&(n.destroyHooks??=[]).push(o,r.onDestroy)):r=n.data[o];let i=r.factory||(r.factory=Dn(r.type,!0)),s,a=Ie(Z);try{let c=Ms(!1),u=i();return Ms(c),BC(n,k(),o,u),u}finally{Ie(a)}}function JC(e,t){if(t)for(let n=t.length-1;n>=0;n--){let r=t[n];if(e===r.name)return r}}function RF(e,t,n){let r=e+he,o=k(),i=ll(o,r);return sy(o,r)?oy(o,So(),t,i.transform,n,i):i.transform(n)}function OF(e,t,n,r){let o=e+he,i=k(),s=ll(i,o);return sy(i,o)?iy(i,So(),t,s.transform,n,r,s):s.transform(n,r)}function sy(e,t){return e[L].data[t].pure}function kF(e,t){return ca(e,t)}var Yu=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},Jl=(()=>{class e{compileModuleSync(n){return new zu(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),o=Ap(n),i=Kg(o.declarations).reduce((s,a)=>{let c=_n(a);return c&&s.push(new vo(c)),s},[]);return new Yu(r,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var XC=(()=>{class e{zone=y(ne);changeDetectionScheduler=y(Mn);applicationRef=y(Mt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function eS({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new ne(H(w({},tS()),{scheduleInRootZone:n})),[{provide:ne,useFactory:e},{provide:pr,multi:!0,useFactory:()=>{let r=y(XC,{optional:!0});return()=>r.initialize()}},{provide:pr,multi:!0,useFactory:()=>{let r=y(nS);return()=>{r.initialize()}}},t===!0?{provide:bg,useValue:!0}:[],{provide:bl,useValue:n??_g}]}function tS(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var nS=(()=>{class e{subscription=new K;initialized=!1;zone=y(ne);pendingTasks=y(Nt);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ne.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ne.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var ay=(()=>{class e{appRef=y(Mt);taskService=y(Nt);ngZone=y(ne);zonelessEnabled=y(na);tracing=y(ra,{optional:!0});disableScheduling=y(bg,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new K;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ns):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(y(bl,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Rs||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 8:{this.appRef.deferredDirtyFlags|=8;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 13:{this.appRef.dirtyFlags|=16,r=!0;break}case 14:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{r=!0;break}case 10:case 9:case 7:case 11:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let o=this.useMicrotaskScheduler?Uh:Eg;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ns+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Uh(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function PF(){return tn("NgZoneless"),br([{provide:Mn,useExisting:ay},{provide:ne,useClass:Rs},{provide:na,useValue:!0},{provide:bl,useValue:!1},[]])}function rS(){return typeof $localize<"u"&&$localize.locale||Vs}var No=new b("",{providedIn:"root",factory:()=>y(No,O.Optional|O.SkipSelf)||rS()});var Ku=new b(""),oS=new b("");function so(e){return!e.moduleRef}function iS(e){let t=so(e)?e.r3Injector:e.moduleRef.injector,n=t.get(ne);return n.run(()=>{so(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(It,null),o;if(n.runOutsideAngular(()=>{o=n.onError.subscribe({next:i=>{r.handleError(i)}})}),so(e)){let i=()=>t.destroy(),s=e.platformInjector.get(Ku);s.add(i),t.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{let i=()=>e.moduleRef.destroy(),s=e.platformInjector.get(Ku);s.add(i),e.moduleRef.onDestroy(()=>{ms(e.allPlatformModules,e.moduleRef),o.unsubscribe(),s.delete(i)})}return XI(r,n,()=>{let i=t.get(Vm);return i.runInitializers(),i.donePromise.then(()=>{let s=t.get(No,Vs);if(PC(s||Vs),!t.get(oS,!0))return so(e)?t.get(Mt):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(so(e)){let c=t.get(Mt);return e.rootComponent!==void 0&&c.bootstrap(e.rootComponent),c}else return sS(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function sS(e,t){let n=e.injector.get(Mt);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new _(-403,!1);t.push(e)}var ys=null;function aS(e=[],t){return He.create({name:t,providers:[{provide:Gs,useValue:"platform"},{provide:Ku,useValue:new Set([()=>ys=null])},...e]})}function cS(e=[]){if(ys)return ys;let t=aS(e);return ys=t,YI(),uS(t),t}function uS(e){let t=e.get(Sl,null);Oe(e,()=>{t?.forEach(n=>n())})}var Tr=(()=>{class e{static __NG_ELEMENT_ID__=lS}return e})();function lS(e){return dS(ye(),k(),(e&16)===16)}function dS(e,t,n){if(Nn(e)&&!n){let r=lt(e.index,t);return new xn(r,r)}else if(e.type&175){let r=t[Be];return new xn(r,t)}return null}var Ju=class{constructor(){}supports(t){return Pm(t)}create(t){return new Xu(t)}},fS=(e,t)=>t,Xu=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||fS}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,o=0,i=null;for(;n||r;){let s=!r||n&&n.currentIndex<dp(r,o,i)?n:r,a=dp(s,o,i),c=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)o++;else{i||(i=[]);let u=a-o,l=c-o;if(u!=l){for(let h=0;h<u;h++){let f=h<i.length?i[h]:i[h]=0,p=f+h;l<=p&&p<u&&(i[h]=f+1)}let d=s.previousIndex;i[d]=l-u}}a!==c&&t(s,a,c)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!Pm(t))throw new _(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,r=!1,o,i,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)i=t[a],s=this._trackByFn(a,i),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,i,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,i,s,a)),Object.is(n.item,i)||this._addIdentityChange(n,i)),n=n._next}else o=0,HI(t,a=>{s=this._trackByFn(o,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,o),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,o)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,o){let i;return t===null?i=this._itTail:(i=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,i,o)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,o),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,i,o)):t=this._addAfter(new el(n,r),i,o)),t}_verifyReinsertion(t,n,r,o){let i=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return i!==null?t=this._reinsertAfter(i,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let o=t._prevRemoved,i=t._nextRemoved;return o===null?this._removalsHead=i:o._nextRemoved=i,i===null?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){let o=n===null?this._itHead:n._next;return t._next=o,t._prev=n,o===null?this._itTail=t:o._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new Bs),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,r=t._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Bs),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},el=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,n){this.item=t,this.trackById=n}},tl=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let n=t._prevDup,r=t._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Bs=class{map=new Map;put(t){let n=t.trackById,r=this.map.get(n);r||(r=new tl,this.map.set(n,r)),r.add(t)}get(t,n){let r=t,o=this.map.get(r);return o?o.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function dp(e,t,n){let r=e.previousIndex;if(r===null)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+t+o}function fp(){return new Xl([new Ju])}var Xl=(()=>{class e{factories;static \u0275prov=D({token:e,providedIn:"root",factory:fp});constructor(n){this.factories=n}static create(n,r){if(r!=null){let o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||fp()),deps:[[e,new LD,new Sp]]}}find(n){let r=this.factories.find(o=>o.supports(n));if(r!=null)return r;throw new _(901,!1)}}return e})();function cy(e){try{let{rootComponent:t,appProviders:n,platformProviders:r}=e,o=cS(r),i=[eS({}),{provide:Mn,useExisting:ay},...n||[]],s=new js({providers:i,parent:o,debugName:"",runEnvironmentInitializers:!1});return iS({r3Injector:s.injector,platformInjector:o,rootComponent:t})}catch(t){return Promise.reject(t)}}function Ro(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function FF(e,t){tn("NgSignals");let n=Qf(e);return t?.equal&&(n[De].equal=t.equal),n}function hS(e){let t=U(null);try{return e()}finally{U(t)}}var uy=(()=>{class e{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=pS}return e})();function pS(){return new uy(k(),ye())}var gS=!1,mS=(()=>{class e extends $s{pendingTasks=y(Nt);taskId=null;schedule(n){super.schedule(n),this.taskId===null&&(this.taskId=this.pendingTasks.add(),queueMicrotask(()=>this.flush()))}flush(){try{super.flush()}finally{this.taskId!==null&&(this.pendingTasks.remove(this.taskId),this.taskId=null)}}static \u0275prov=D({token:e,providedIn:"root",factory:()=>new e})}return e})(),nl=class{scheduler;effectFn;zone;injector;unregisterOnDestroy;watcher;constructor(t,n,r,o,i,s){this.scheduler=t,this.effectFn=n,this.zone=r,this.injector=i,this.watcher=th(a=>this.runEffect(a),()=>this.schedule(),s),this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}runEffect(t){try{this.effectFn(t)}catch(n){this.injector.get(It,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.schedule(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function yS(){}function vS(e,t){tn("NgSignals"),!t?.injector&&$p(yS);let n=t?.injector??y(He),r=t?.manualCleanup!==!0?n.get(Ir):null,o=new nl(n.get(mS),e,typeof Zone>"u"?null:Zone.current,r,n,t?.allowSignalWrites??!1),i=n.get(Tr,null,{optional:!0});return!i||!(i._lView[S]&8)?o.watcher.notify():(i._lView[fs]??=[]).push(o.watcher.notify),o}var wS=gS;var rl=class{[De];constructor(t){this[De]=t}destroy(){this[De].destroy()}};function DS(e,t){if(wS)return vS(e,t);tn("NgSignals"),!t?.injector&&$p(DS);let n=t?.injector??y(He),r=t?.manualCleanup!==!0?n.get(Ir):null,o,i=n.get(uy,null,{optional:!0}),s=n.get(Mn);return i!==null&&!t?.forceRoot?(o=ES(i.view,s,e),r instanceof As&&r._lView===i.view&&(r=null)):o=IS(e,n.get(Bm),s),o.injector=n,r!==null&&(o.onDestroyFn=r.onDestroy(()=>o.destroy())),new rl(o)}var ly=H(w({},fn),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:yo,run(){if(this.dirty=!1,this.hasRun&&!ro(this))return;this.hasRun=!0;let e=r=>(this.cleanupFns??=[]).push(r),t=Qn(this),n=Cs(!1);try{this.maybeCleanup(),this.fn(e)}finally{Cs(n),no(this,t)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}}),_S=H(w({},ly),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(13)},destroy(){Yn(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),bS=H(w({},ly),{consumerMarkedDirty(){this.view[S]|=8192,Co(this.view),this.notifier.notify(14)},destroy(){Yn(this),this.onDestroyFn(),this.maybeCleanup(),this.view[En]?.delete(this)}});function ES(e,t,n){let r=Object.create(bS);return r.view=e,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=t,r.fn=n,e[En]??=new Set,e[En].add(r),r.consumerMarkedDirty(r),r}function IS(e,t,n){let r=Object.create(_S);return r.fn=e,r.scheduler=t,r.notifier=n,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.schedule(r),r.notifier.notify(13),r}var wy=null;function Mr(){return wy}function Dy(e){wy??=e}var va=class{};var we=new b(""),_y=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>y(CS),providedIn:"platform"})}return e})();var CS=(()=>{class e extends _y{_location;_history;_doc=y(we);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Mr().getBaseHref(this._doc)}onPopState(n){let r=Mr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Mr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function by(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function dy(e){let t=e.match(/#|\?|$/),n=t&&t.index||e.length,r=n-(e[n-1]==="/"?1:0);return e.slice(0,r)+e.slice(n)}function kn(e){return e&&e[0]!=="?"?"?"+e:e}var Ar=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>y(Ey),providedIn:"root"})}return e})(),SS=new b(""),Ey=(()=>{class e extends Ar{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??y(we).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return by(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+kn(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,i){let s=this.prepareExternalUrl(o+kn(i));this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){let s=this.prepareExternalUrl(o+kn(i));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(E(_y),E(SS,8))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var ko=(()=>{class e{_subject=new te;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=xS(dy(fy(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+kn(r))}normalize(n){return e.stripTrailingSlash(MS(this._basePath,fy(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+kn(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+kn(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=kn;static joinWithSlash=by;static stripTrailingSlash=dy;static \u0275fac=function(r){return new(r||e)(E(Ar))};static \u0275prov=D({token:e,factory:()=>TS(),providedIn:"root"})}return e})();function TS(){return new ko(E(Ar))}function MS(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function fy(e){return e.replace(/\/index.html$/,"")}function xS(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var Iy=function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e}(Iy||{});var ve=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(ve||{}),G=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(G||{}),Pe=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(Pe||{}),Fe={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function AS(e){return ke(e)[X.LocaleId]}function NS(e,t,n){let r=ke(e),o=[r[X.DayPeriodsFormat],r[X.DayPeriodsStandalone]],i=Ge(o,t);return Ge(i,n)}function RS(e,t,n){let r=ke(e),o=[r[X.DaysFormat],r[X.DaysStandalone]],i=Ge(o,t);return Ge(i,n)}function OS(e,t,n){let r=ke(e),o=[r[X.MonthsFormat],r[X.MonthsStandalone]],i=Ge(o,t);return Ge(i,n)}function kS(e,t){let r=ke(e)[X.Eras];return Ge(r,t)}function la(e,t){let n=ke(e);return Ge(n[X.DateFormat],t)}function da(e,t){let n=ke(e);return Ge(n[X.TimeFormat],t)}function fa(e,t){let r=ke(e)[X.DateTimeFormat];return Ge(r,t)}function Lt(e,t){let n=ke(e),r=n[X.NumberSymbols][t];if(typeof r>"u"){if(t===Fe.CurrencyDecimal)return n[X.NumberSymbols][Fe.Decimal];if(t===Fe.CurrencyGroup)return n[X.NumberSymbols][Fe.Group]}return r}function PS(e,t){return ke(e)[X.NumberFormats][t]}function Cy(e){if(!e[X.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[X.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function FS(e){let t=ke(e);return Cy(t),(t[X.ExtraData][2]||[]).map(r=>typeof r=="string"?ed(r):[ed(r[0]),ed(r[1])])}function LS(e,t,n){let r=ke(e);Cy(r);let o=[r[X.ExtraData][0],r[X.ExtraData][1]],i=Ge(o,t)||[];return Ge(i,n)||[]}function Ge(e,t){for(let n=t;n>-1;n--)if(typeof e[n]<"u")return e[n];throw new Error("Locale data API: locale data undefined")}function ed(e){let[t,n]=e.split(":");return{hours:+t,minutes:+n}}var jS=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ha={},$S=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function US(e,t,n,r){let o=QS(e);t=Ft(n,t)||t;let s=[],a;for(;t;)if(a=$S.exec(t),a){s=s.concat(a.slice(1));let l=s.pop();if(!l)break;t=l}else{s.push(t);break}let c=o.getTimezoneOffset();r&&(c=Ty(r,c),o=ZS(o,r,!0));let u="";return s.forEach(l=>{let d=GS(l);u+=d?d(o,n,c):l==="''"?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function wa(e,t,n){let r=new Date(0);return r.setFullYear(e,t,n),r.setHours(0,0,0),r}function Ft(e,t){let n=AS(e);if(ha[n]??={},ha[n][t])return ha[n][t];let r="";switch(t){case"shortDate":r=la(e,Pe.Short);break;case"mediumDate":r=la(e,Pe.Medium);break;case"longDate":r=la(e,Pe.Long);break;case"fullDate":r=la(e,Pe.Full);break;case"shortTime":r=da(e,Pe.Short);break;case"mediumTime":r=da(e,Pe.Medium);break;case"longTime":r=da(e,Pe.Long);break;case"fullTime":r=da(e,Pe.Full);break;case"short":let o=Ft(e,"shortTime"),i=Ft(e,"shortDate");r=pa(fa(e,Pe.Short),[o,i]);break;case"medium":let s=Ft(e,"mediumTime"),a=Ft(e,"mediumDate");r=pa(fa(e,Pe.Medium),[s,a]);break;case"long":let c=Ft(e,"longTime"),u=Ft(e,"longDate");r=pa(fa(e,Pe.Long),[c,u]);break;case"full":let l=Ft(e,"fullTime"),d=Ft(e,"fullDate");r=pa(fa(e,Pe.Full),[l,d]);break}return r&&(ha[n][t]=r),r}function pa(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(n,r){return t!=null&&r in t?t[r]:n})),e}function it(e,t,n="-",r,o){let i="";(e<0||o&&e<=0)&&(o?e=-e+1:(e=-e,i=n));let s=String(e);for(;s.length<t;)s="0"+s;return r&&(s=s.slice(s.length-t)),i+s}function VS(e,t){return it(e,3).substring(0,t)}function oe(e,t,n=0,r=!1,o=!1){return function(i,s){let a=BS(e,i);if((n>0||a>-n)&&(a+=n),e===3)a===0&&n===-12&&(a=12);else if(e===6)return VS(a,t);let c=Lt(s,Fe.MinusSign);return it(a,t,c,r,o)}}function BS(e,t){switch(e){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate();case 3:return t.getHours();case 4:return t.getMinutes();case 5:return t.getSeconds();case 6:return t.getMilliseconds();case 7:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}function W(e,t,n=ve.Format,r=!1){return function(o,i){return HS(o,i,e,t,n,r)}}function HS(e,t,n,r,o,i){switch(n){case 2:return OS(t,o,r)[e.getMonth()];case 1:return RS(t,o,r)[e.getDay()];case 0:let s=e.getHours(),a=e.getMinutes();if(i){let u=FS(t),l=LS(t,o,r),d=u.findIndex(h=>{if(Array.isArray(h)){let[f,p]=h,g=s>=f.hours&&a>=f.minutes,m=s<p.hours||s===p.hours&&a<p.minutes;if(f.hours<p.hours){if(g&&m)return!0}else if(g||m)return!0}else if(h.hours===s&&h.minutes===a)return!0;return!1});if(d!==-1)return l[d]}return NS(t,o,r)[s<12?0:1];case 3:return kS(t,r)[e.getFullYear()<=0?0:1];default:let c=n;throw new Error(`unexpected translation type ${c}`)}}function ga(e){return function(t,n,r){let o=-1*r,i=Lt(n,Fe.MinusSign),s=o>0?Math.floor(o/60):Math.ceil(o/60);switch(e){case 0:return(o>=0?"+":"")+it(s,2,i)+it(Math.abs(o%60),2,i);case 1:return"GMT"+(o>=0?"+":"")+it(s,1,i);case 2:return"GMT"+(o>=0?"+":"")+it(s,2,i)+":"+it(Math.abs(o%60),2,i);case 3:return r===0?"Z":(o>=0?"+":"")+it(s,2,i)+":"+it(Math.abs(o%60),2,i);default:throw new Error(`Unknown zone width "${e}"`)}}}var zS=0,ya=4;function qS(e){let t=wa(e,zS,1).getDay();return wa(e,0,1+(t<=ya?ya:ya+7)-t)}function Sy(e){let t=e.getDay(),n=t===0?-3:ya-t;return wa(e.getFullYear(),e.getMonth(),e.getDate()+n)}function td(e,t=!1){return function(n,r){let o;if(t){let i=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();o=1+Math.floor((s+i)/7)}else{let i=Sy(n),s=qS(i.getFullYear()),a=i.getTime()-s.getTime();o=1+Math.round(a/6048e5)}return it(o,e,Lt(r,Fe.MinusSign))}}function ma(e,t=!1){return function(n,r){let i=Sy(n).getFullYear();return it(i,e,Lt(r,Fe.MinusSign),t)}}var nd={};function GS(e){if(nd[e])return nd[e];let t;switch(e){case"G":case"GG":case"GGG":t=W(3,G.Abbreviated);break;case"GGGG":t=W(3,G.Wide);break;case"GGGGG":t=W(3,G.Narrow);break;case"y":t=oe(0,1,0,!1,!0);break;case"yy":t=oe(0,2,0,!0,!0);break;case"yyy":t=oe(0,3,0,!1,!0);break;case"yyyy":t=oe(0,4,0,!1,!0);break;case"Y":t=ma(1);break;case"YY":t=ma(2,!0);break;case"YYY":t=ma(3);break;case"YYYY":t=ma(4);break;case"M":case"L":t=oe(1,1,1);break;case"MM":case"LL":t=oe(1,2,1);break;case"MMM":t=W(2,G.Abbreviated);break;case"MMMM":t=W(2,G.Wide);break;case"MMMMM":t=W(2,G.Narrow);break;case"LLL":t=W(2,G.Abbreviated,ve.Standalone);break;case"LLLL":t=W(2,G.Wide,ve.Standalone);break;case"LLLLL":t=W(2,G.Narrow,ve.Standalone);break;case"w":t=td(1);break;case"ww":t=td(2);break;case"W":t=td(1,!0);break;case"d":t=oe(2,1);break;case"dd":t=oe(2,2);break;case"c":case"cc":t=oe(7,1);break;case"ccc":t=W(1,G.Abbreviated,ve.Standalone);break;case"cccc":t=W(1,G.Wide,ve.Standalone);break;case"ccccc":t=W(1,G.Narrow,ve.Standalone);break;case"cccccc":t=W(1,G.Short,ve.Standalone);break;case"E":case"EE":case"EEE":t=W(1,G.Abbreviated);break;case"EEEE":t=W(1,G.Wide);break;case"EEEEE":t=W(1,G.Narrow);break;case"EEEEEE":t=W(1,G.Short);break;case"a":case"aa":case"aaa":t=W(0,G.Abbreviated);break;case"aaaa":t=W(0,G.Wide);break;case"aaaaa":t=W(0,G.Narrow);break;case"b":case"bb":case"bbb":t=W(0,G.Abbreviated,ve.Standalone,!0);break;case"bbbb":t=W(0,G.Wide,ve.Standalone,!0);break;case"bbbbb":t=W(0,G.Narrow,ve.Standalone,!0);break;case"B":case"BB":case"BBB":t=W(0,G.Abbreviated,ve.Format,!0);break;case"BBBB":t=W(0,G.Wide,ve.Format,!0);break;case"BBBBB":t=W(0,G.Narrow,ve.Format,!0);break;case"h":t=oe(3,1,-12);break;case"hh":t=oe(3,2,-12);break;case"H":t=oe(3,1);break;case"HH":t=oe(3,2);break;case"m":t=oe(4,1);break;case"mm":t=oe(4,2);break;case"s":t=oe(5,1);break;case"ss":t=oe(5,2);break;case"S":t=oe(6,1);break;case"SS":t=oe(6,2);break;case"SSS":t=oe(6,3);break;case"Z":case"ZZ":case"ZZZ":t=ga(0);break;case"ZZZZZ":t=ga(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=ga(1);break;case"OOOO":case"ZZZZ":case"zzzz":t=ga(2);break;default:return null}return nd[e]=t,t}function Ty(e,t){e=e.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function WS(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function ZS(e,t,n){let r=n?-1:1,o=e.getTimezoneOffset(),i=Ty(t,o);return WS(e,r*(i-o))}function QS(e){if(hy(e))return e;if(typeof e=="number"&&!isNaN(e))return new Date(e);if(typeof e=="string"){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[o,i=1,s=1]=e.split("-").map(a=>+a);return wa(o,i-1,s)}let n=parseFloat(e);if(!isNaN(e-n))return new Date(n);let r;if(r=e.match(jS))return YS(r)}let t=new Date(e);if(!hy(t))throw new Error(`Unable to convert "${e}" into a date`);return t}function YS(e){let t=new Date(0),n=0,r=0,o=e[8]?t.setUTCFullYear:t.setFullYear,i=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),o.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));let s=Number(e[4]||0)-n,a=Number(e[5]||0)-r,c=Number(e[6]||0),u=Math.floor(parseFloat("0."+(e[7]||0))*1e3);return i.call(t,s,a,c,u),t}function hy(e){return e instanceof Date&&!isNaN(e.valueOf())}var KS=/^(\d+)?\.((\d+)(-(\d+))?)?$/,py=22,Da=".",Oo="0",JS=";",XS=",",rd="#";function eT(e,t,n,r,o,i,s=!1){let a="",c=!1;if(!isFinite(e))a=Lt(n,Fe.Infinity);else{let u=oT(e);s&&(u=rT(u));let l=t.minInt,d=t.minFrac,h=t.maxFrac;if(i){let C=i.match(KS);if(C===null)throw new Error(`${i} is not a valid digit info`);let I=C[1],B=C[3],x=C[5];I!=null&&(l=od(I)),B!=null&&(d=od(B)),x!=null?h=od(x):B!=null&&d>h&&(h=d)}iT(u,d,h);let f=u.digits,p=u.integerLen,g=u.exponent,m=[];for(c=f.every(C=>!C);p<l;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?m=f.splice(p,f.length):(m=f,f=[0]);let v=[];for(f.length>=t.lgSize&&v.unshift(f.splice(-t.lgSize,f.length).join(""));f.length>t.gSize;)v.unshift(f.splice(-t.gSize,f.length).join(""));f.length&&v.unshift(f.join("")),a=v.join(Lt(n,r)),m.length&&(a+=Lt(n,o)+m.join("")),g&&(a+=Lt(n,Fe.Exponential)+"+"+g)}return e<0&&!c?a=t.negPre+a+t.negSuf:a=t.posPre+a+t.posSuf,a}function tT(e,t,n){let r=PS(t,Iy.Decimal),o=nT(r,Lt(t,Fe.MinusSign));return eT(e,o,t,Fe.Group,Fe.Decimal,n)}function nT(e,t="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(JS),o=r[0],i=r[1],s=o.indexOf(Da)!==-1?o.split(Da):[o.substring(0,o.lastIndexOf(Oo)+1),o.substring(o.lastIndexOf(Oo)+1)],a=s[0],c=s[1]||"";n.posPre=a.substring(0,a.indexOf(rd));for(let l=0;l<c.length;l++){let d=c.charAt(l);d===Oo?n.minFrac=n.maxFrac=l+1:d===rd?n.maxFrac=l+1:n.posSuf+=d}let u=a.split(XS);if(n.gSize=u[1]?u[1].length:0,n.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,i){let l=o.length-n.posPre.length-n.posSuf.length,d=i.indexOf(rd);n.negPre=i.substring(0,d).replace(/'/g,""),n.negSuf=i.slice(d+l).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}function rT(e){if(e.digits[0]===0)return e;let t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(t===0?e.digits.push(0,0):t===1&&e.digits.push(0),e.integerLen+=2),e}function oT(e){let t=Math.abs(e)+"",n=0,r,o,i,s,a;for((o=t.indexOf(Da))>-1&&(t=t.replace(Da,"")),(i=t.search(/e/i))>0?(o<0&&(o=i),o+=+t.slice(i+1),t=t.substring(0,i)):o<0&&(o=t.length),i=0;t.charAt(i)===Oo;i++);if(i===(a=t.length))r=[0],o=1;else{for(a--;t.charAt(a)===Oo;)a--;for(o-=i,r=[],s=0;i<=a;i++,s++)r[s]=Number(t.charAt(i))}return o>py&&(r=r.splice(0,py-1),n=o-1,o=1),{digits:r,exponent:n,integerLen:o}}function iT(e,t,n){if(t>n)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${n}).`);let r=e.digits,o=r.length-e.integerLen,i=Math.min(Math.max(t,o),n),s=i+e.integerLen,a=r[s];if(s>0){r.splice(Math.max(e.integerLen,s));for(let d=s;d<r.length;d++)r[d]=0}else{o=Math.max(0,o),e.integerLen=1,r.length=Math.max(1,s=i+1),r[0]=0;for(let d=1;d<s;d++)r[d]=0}if(a>=5)if(s-1<0){for(let d=0;d>s;d--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[s-1]++;for(;o<Math.max(0,i);o++)r.push(0);let c=i!==0,u=t+e.integerLen,l=r.reduceRight(function(d,h,f,p){return h=h+d,p[f]=h<10?h:h-10,c&&(p[f]===0&&f>=u?p.pop():c=!1),h>=10?1:0},0);l&&(r.unshift(l),e.integerLen++)}function od(e){let t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}function _a(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[o,i]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===t)return decodeURIComponent(i)}return null}var id=/\s+/,gy=[],aL=(()=>{class e{_ngEl;_renderer;initialClasses=gy;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(id):gy}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(id):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let o=this.stateMap.get(n);o!==void 0?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],o=n[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(id).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static \u0275fac=function(r){return new(r||e)(Z(Rt),Z(Mo))};static \u0275dir=Pt({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var sd=class{$implicit;ngForOf;index;count;constructor(t,n,r,o){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=o}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},cL=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,o){this._viewContainer=n,this._template=r,this._differs=o}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((o,i,s)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new sd(o.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(i===null?void 0:i);else if(i!==null){let a=r.get(i);r.move(a,s),my(a,o)}});for(let o=0,i=r.length;o<i;o++){let a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{let i=r.get(o.currentIndex);my(i,o)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(Z(kt),Z(Jt),Z(Xl))};static \u0275dir=Pt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function my(e,t){e.context.$implicit=t.item}var uL=(()=>{class e{_viewContainer;_context=new ad;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){yy("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){yy("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(Z(kt),Z(Jt))};static \u0275dir=Pt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),ad=class{$implicit=null;ngIf=null};function yy(e,t){if(!!!(!t||t.createEmbeddedView))throw new Error(`${e} must be a TemplateRef, but received '${me(t)}'.`)}var cd=class{_viewContainerRef;_templateRef;_created=!1;constructor(t,n){this._viewContainerRef=t,this._templateRef=n}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}},sT=(()=>{class e{_defaultViews=[];_defaultUsed=!1;_caseCount=0;_lastCaseCheckIndex=0;_lastCasesMatched=!1;_ngSwitch;set ngSwitch(n){this._ngSwitch=n,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews.push(n)}_matchCase(n){let r=n===this._ngSwitch;return this._lastCasesMatched||=r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(n){if(this._defaultViews.length>0&&n!==this._defaultUsed){this._defaultUsed=n;for(let r of this._defaultViews)r.enforceState(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Pt({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}})}return e})(),lL=(()=>{class e{ngSwitch;_view;ngSwitchCase;constructor(n,r,o){this.ngSwitch=o,o._addCase(),this._view=new cd(n,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static \u0275fac=function(r){return new(r||e)(Z(kt),Z(Jt),Z(sT,9))};static \u0275dir=Pt({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}})}return e})();function My(e,t){return new _(2100,!1)}var aT="mediumDate",cT=new b(""),uT=new b(""),dL=(()=>{class e{locale;defaultTimezone;defaultOptions;constructor(n,r,o){this.locale=n,this.defaultTimezone=r,this.defaultOptions=o}transform(n,r,o,i){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??aT,a=o??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return US(n,s,i||this.locale,a)}catch(s){throw My(e,s.message)}}static \u0275fac=function(r){return new(r||e)(Z(No,16),Z(cT,24),Z(uT,24))};static \u0275pipe=ql({name:"date",type:e,pure:!0})}return e})();var fL=(()=>{class e{_locale;constructor(n){this._locale=n}transform(n,r,o){if(!lT(n))return null;o||=this._locale;try{let i=dT(n);return tT(i,o,r)}catch(i){throw My(e,i.message)}}static \u0275fac=function(r){return new(r||e)(Z(No,16))};static \u0275pipe=ql({name:"number",type:e,pure:!0})}return e})();function lT(e){return!(e==null||e===""||e!==e)}function dT(e){if(typeof e=="string"&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if(typeof e!="number")throw new Error(`${e} is not a number`);return e}var fT=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=xo({type:e});static \u0275inj=bo({})}return e})(),ud="browser",hT="server";function hL(e){return e===ud}function ld(e){return e===hT}var xr=class{};var Lo=class{},jo=class{},jt=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let o=n.slice(0,r),i=n.slice(r+1).trim();this.addHeaderEntry(o,i)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,n);let o=(t.op==="a"?this.headers.get(n):void 0)||[];o.push(...r),this.headers.set(n,o);break;case"d":let i=t.value;if(!i)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>i.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(t,n){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(t,n){let r=(Array.isArray(n)?n:[n]).map(i=>i.toString()),o=t.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var hd=class{encodeKey(t){return Ay(t)}encodeValue(t){return Ay(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function pT(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(o=>{let i=o.indexOf("="),[s,a]=i==-1?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,i)),t.decodeValue(o.slice(i+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var gT=/%(\d[a-f0-9])/gi,mT={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ay(e){return encodeURIComponent(e).replace(gT,(t,n)=>mT[n]??t)}function ba(e){return`${e}`}var on=class e{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new hd,t.fromString){if(t.fromObject)throw new _(2805,!1);this.map=pT(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let r=t.fromObject[n],o=Array.isArray(r)?r.map(ba):[ba(r)];this.map.set(n,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(r=>{let o=t[r];Array.isArray(o)?o.forEach(i=>{n.push({param:r,value:i,op:"a"})}):n.push({param:r,value:o,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(ba(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],o=r.indexOf(ba(t.value));o!==-1&&r.splice(o,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var pd=class{map=new Map;set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function yT(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Ny(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function Ry(e){return typeof Blob<"u"&&e instanceof Blob}function Oy(e){return typeof FormData<"u"&&e instanceof FormData}function vT(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var Po="Content-Type",Ea="Accept",yd="X-Request-URL",Ly="text/plain",jy="application/json",$y=`${jy}, ${Ly}, */*`,Fo=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,n,r,o){this.url=n,this.method=t.toUpperCase();let i;if(yT(this.method)||o?(this.body=r!==void 0?r:null,i=o):i=r,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params),this.transferCache=i.transferCache),this.headers??=new jt,this.context??=new pd,!this.params)this.params=new on,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Ny(this.body)||Ry(this.body)||Oy(this.body)||vT(this.body)?this.body:this.body instanceof on?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Oy(this.body)?null:Ry(this.body)?this.body.type||null:Ny(this.body)?null:typeof this.body=="string"?Ly:this.body instanceof on?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?jy:null}clone(t={}){let n=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,i=t.transferCache??this.transferCache,s=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,c=t.reportProgress??this.reportProgress,u=t.headers||this.headers,l=t.params||this.params,d=t.context??this.context;return t.setHeaders!==void 0&&(u=Object.keys(t.setHeaders).reduce((h,f)=>h.set(f,t.setHeaders[f]),u)),t.setParams&&(l=Object.keys(t.setParams).reduce((h,f)=>h.set(f,t.setParams[f]),l)),new e(n,r,s,{params:l,headers:u,context:d,reportProgress:c,responseType:o,withCredentials:a,transferCache:i})}},sn=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(sn||{}),$o=class{headers;status;statusText;url;ok;type;constructor(t,n=200,r="OK"){this.headers=t.headers||new jt,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},Ia=class e extends $o{constructor(t={}){super(t)}type=sn.ResponseHeader;clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Uo=class e extends $o{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=sn.Response;clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},rn=class extends $o{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},Uy=200,wT=204;function dd(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var DT=(()=>{class e{handler;constructor(n){this.handler=n}request(n,r,o={}){let i;if(n instanceof Fo)i=n;else{let c;o.headers instanceof jt?c=o.headers:c=new jt(o.headers);let u;o.params&&(o.params instanceof on?u=o.params:u=new on({fromObject:o.params})),i=new Fo(n,r,o.body!==void 0?o.body:null,{headers:c,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let s=T(i).pipe(Gt(c=>this.handler.handle(c)));if(n instanceof Fo||o.observe==="events")return s;let a=s.pipe(pe(c=>c instanceof Uo));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return a.pipe(R(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new _(2806,!1);return c.body}));case"blob":return a.pipe(R(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new _(2807,!1);return c.body}));case"text":return a.pipe(R(c=>{if(c.body!==null&&typeof c.body!="string")throw new _(2808,!1);return c.body}));case"json":default:return a.pipe(R(c=>c.body))}case"response":return a;default:throw new _(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new on().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,o={}){return this.request("PATCH",n,dd(o,r))}post(n,r,o={}){return this.request("POST",n,dd(o,r))}put(n,r,o={}){return this.request("PUT",n,dd(o,r))}static \u0275fac=function(r){return new(r||e)(E(Lo))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),_T=/^\)\]\}',?\n/;function ky(e){if(e.url)return e.url;let t=yd.toLocaleLowerCase();return e.headers.get(t)}var Vy=new b(""),fd=(()=>{class e{fetchImpl=y(gd,{optional:!0})?.fetch??((...n)=>globalThis.fetch(...n));ngZone=y(ne);handle(n){return new V(r=>{let o=new AbortController;return this.doRequest(n,o.signal,r).then(md,i=>r.error(new rn({error:i}))),()=>o.abort()})}async doRequest(n,r,o){let i=this.createRequestInit(n),s;try{let f=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,w({signal:r},i)));bT(f),o.next({type:sn.Sent}),s=await f}catch(f){o.error(new rn({error:f,status:f.status??0,statusText:f.statusText,url:n.urlWithParams,headers:f.headers}));return}let a=new jt(s.headers),c=s.statusText,u=ky(s)??n.urlWithParams,l=s.status,d=null;if(n.reportProgress&&o.next(new Ia({headers:a,status:l,statusText:c,url:u})),s.body){let f=s.headers.get("content-length"),p=[],g=s.body.getReader(),m=0,v,C,I=typeof Zone<"u"&&Zone.current;await this.ngZone.runOutsideAngular(async()=>{for(;;){let{done:x,value:Qe}=await g.read();if(x)break;if(p.push(Qe),m+=Qe.length,n.reportProgress){C=n.responseType==="text"?(C??"")+(v??=new TextDecoder).decode(Qe,{stream:!0}):void 0;let Si=()=>o.next({type:sn.DownloadProgress,total:f?+f:void 0,loaded:m,partialText:C});I?I.run(Si):Si()}}});let B=this.concatChunks(p,m);try{let x=s.headers.get(Po)??"";d=this.parseBody(n,B,x)}catch(x){o.error(new rn({error:x,headers:new jt(s.headers),status:s.status,statusText:s.statusText,url:ky(s)??n.urlWithParams}));return}}l===0&&(l=d?Uy:0),l>=200&&l<300?(o.next(new Uo({body:d,headers:a,status:l,statusText:c,url:u})),o.complete()):o.error(new rn({error:d,headers:a,status:l,statusText:c,url:u}))}parseBody(n,r,o){switch(n.responseType){case"json":let i=new TextDecoder().decode(r).replace(_T,"");return i===""?null:JSON.parse(i);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:o});case"arraybuffer":return r.buffer}}createRequestInit(n){let r={},o=n.withCredentials?"include":void 0;if(n.headers.forEach((i,s)=>r[i]=s.join(",")),n.headers.has(Ea)||(r[Ea]=$y),!n.headers.has(Po)){let i=n.detectContentTypeHeader();i!==null&&(r[Po]=i)}return{body:n.serializeBody(),method:n.method,headers:r,credentials:o}}concatChunks(n,r){let o=new Uint8Array(r),i=0;for(let s of n)o.set(s,i),i+=s.length;return o}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),gd=class{};function md(){}function bT(e){e.then(md,md)}function ET(e,t){return t(e)}function IT(e,t,n){return(r,o)=>Oe(n,()=>t(r,i=>e(i,o)))}var vd=new b(""),CT=new b(""),ST=new b("",{providedIn:"root",factory:()=>!0});var Py=(()=>{class e extends Lo{backend;injector;chain=null;pendingTasks=y(Nt);contributeToStability=y(ST);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(vd),...this.injector.get(CT,[])]));this.chain=r.reduceRight((o,i)=>IT(o,i,this.injector),ET)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,o=>this.backend.handle(o)).pipe(yn(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||e)(E(jo),E(Se))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})();var TT=/^\)\]\}',?\n/,MT=RegExp(`^${yd}:`,"m");function xT(e){return"responseURL"in e&&e.responseURL?e.responseURL:MT.test(e.getAllResponseHeaders())?e.getResponseHeader(yd):null}var Fy=(()=>{class e{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new _(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?ee(r.\u0275loadImpl()):T(null)).pipe(Ee(()=>new V(i=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((g,m)=>s.setRequestHeader(g,m.join(","))),n.headers.has(Ea)||s.setRequestHeader(Ea,$y),!n.headers.has(Po)){let g=n.detectContentTypeHeader();g!==null&&s.setRequestHeader(Po,g)}if(n.responseType){let g=n.responseType.toLowerCase();s.responseType=g!=="json"?g:"text"}let a=n.serializeBody(),c=null,u=()=>{if(c!==null)return c;let g=s.statusText||"OK",m=new jt(s.getAllResponseHeaders()),v=xT(s)||n.url;return c=new Ia({headers:m,status:s.status,statusText:g,url:v}),c},l=()=>{let{headers:g,status:m,statusText:v,url:C}=u(),I=null;m!==wT&&(I=typeof s.response>"u"?s.responseText:s.response),m===0&&(m=I?Uy:0);let B=m>=200&&m<300;if(n.responseType==="json"&&typeof I=="string"){let x=I;I=I.replace(TT,"");try{I=I!==""?JSON.parse(I):null}catch(Qe){I=x,B&&(B=!1,I={error:Qe,text:I})}}B?(i.next(new Uo({body:I,headers:g,status:m,statusText:v,url:C||void 0})),i.complete()):i.error(new rn({error:I,headers:g,status:m,statusText:v,url:C||void 0}))},d=g=>{let{url:m}=u(),v=new rn({error:g,status:s.status||0,statusText:s.statusText||"Unknown Error",url:m||void 0});i.error(v)},h=!1,f=g=>{h||(i.next(u()),h=!0);let m={type:sn.DownloadProgress,loaded:g.loaded};g.lengthComputable&&(m.total=g.total),n.responseType==="text"&&s.responseText&&(m.partialText=s.responseText),i.next(m)},p=g=>{let m={type:sn.UploadProgress,loaded:g.loaded};g.lengthComputable&&(m.total=g.total),i.next(m)};return s.addEventListener("load",l),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),n.reportProgress&&(s.addEventListener("progress",f),a!==null&&s.upload&&s.upload.addEventListener("progress",p)),s.send(a),i.next({type:sn.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",l),s.removeEventListener("timeout",d),n.reportProgress&&(s.removeEventListener("progress",f),a!==null&&s.upload&&s.upload.removeEventListener("progress",p)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||e)(E(xr))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),By=new b(""),AT="XSRF-TOKEN",NT=new b("",{providedIn:"root",factory:()=>AT}),RT="X-XSRF-TOKEN",OT=new b("",{providedIn:"root",factory:()=>RT}),Ca=class{},kT=(()=>{class e{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r,o){this.doc=n,this.platform=r,this.cookieName=o}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=_a(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||e)(E(we),E(ft),E(NT))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})();function PT(e,t){let n=e.url.toLowerCase();if(!y(By)||e.method==="GET"||e.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return t(e);let r=y(Ca).getToken(),o=y(OT);return r!=null&&!e.headers.has(o)&&(e=e.clone({headers:e.headers.set(o,r)})),t(e)}var wd=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(wd||{});function Hy(e,t){return{\u0275kind:e,\u0275providers:t}}function ML(...e){let t=[DT,Fy,Py,{provide:Lo,useExisting:Py},{provide:jo,useFactory:()=>y(Vy,{optional:!0})??y(Fy)},{provide:vd,useValue:PT,multi:!0},{provide:By,useValue:!0},{provide:Ca,useClass:kT}];for(let n of e)t.push(...n.\u0275providers);return br(t)}function xL(e){return Hy(wd.Interceptors,e.map(t=>({provide:vd,useValue:t,multi:!0})))}function AL(){return Hy(wd.Fetch,[fd,{provide:Vy,useExisting:fd},{provide:jo,useExisting:fd}])}var _d=class extends va{supportsDOMEvents=!0},bd=class e extends _d{static makeCurrent(){Dy(new e)}onAndCancel(t,n,r,o){return t.addEventListener(n,r,o),()=>{t.removeEventListener(n,r,o)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=FT();return n==null?null:LT(n)}resetBaseElement(){Vo=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return _a(document.cookie,t)}},Vo=null;function FT(){return Vo=Vo||document.querySelector("base"),Vo?Vo.getAttribute("href"):null}function LT(e){return new URL(e,document.baseURI).pathname}var jT=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),Ed=new b(""),Qy=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o,i){return this._findPluginFor(r).addEventListener(n,r,o,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(i=>i.supports(n)),!r)throw new _(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(E(Ed),E(ne))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),Ta=class{_doc;constructor(t){this._doc=t}manager},Sa="ng-app-id";function zy(e){for(let t of e)t.remove()}function qy(e,t){let n=t.createElement("style");return n.textContent=e,n}function $T(e,t,n,r){let o=e.head?.querySelectorAll(`style[${Sa}="${t}"],link[${Sa}="${t}"]`);if(o)for(let i of o)i.removeAttribute(Sa),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&n.set(i.textContent,{usage:0,elements:[i]})}function Id(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var Yy=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,o,i={}){this.doc=n,this.appId=r,this.nonce=o,this.isServer=ld(i),$T(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let o of n)this.addUsage(o,this.inline,qy);r?.forEach(o=>this.addUsage(o,this.external,Id))}removeStyles(n,r){for(let o of n)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(n,r,o){let i=r.get(n);i?i.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(n,this.doc)))})}removeUsage(n,r){let o=r.get(n);o&&(o.usage--,o.usage<=0&&(zy(o.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])zy(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:o}]of this.inline)o.push(this.addElement(n,qy(r,this.doc)));for(let[r,{elements:o}]of this.external)o.push(this.addElement(n,Id(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Sa,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(E(we),E(Cl),E(Tl,8),E(ft))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),Dd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Sd=/%COMP%/g;var Ky="%COMP%",UT=`_nghost-${Ky}`,VT=`_ngcontent-${Ky}`,BT=!0,HT=new b("",{providedIn:"root",factory:()=>BT});function zT(e){return VT.replace(Sd,e)}function qT(e){return UT.replace(Sd,e)}function Jy(e,t){return t.map(n=>n.replace(Sd,e))}var Gy=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,o,i,s,a,c,u=null,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.tracingService=l,this.platformIsServer=ld(a),this.defaultRenderer=new Bo(n,s,c,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===dt.ShadowDom&&(r=H(w({},r),{encapsulation:dt.Emulated}));let o=this.getOrCreateRenderer(n,r);return o instanceof Ma?o.applyToHost(n):o instanceof Ho&&o.applyStyles(),o}getOrCreateRenderer(n,r){let o=this.rendererByCompId,i=o.get(r.id);if(!i){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer,h=this.tracingService;switch(r.encapsulation){case dt.Emulated:i=new Ma(c,u,r,this.appId,l,s,a,d,h);break;case dt.ShadowDom:return new Cd(c,u,n,r,s,a,this.nonce,d,h);default:i=new Ho(c,u,r,l,s,a,d,h);break}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(E(Qy),E(Yy),E(Cl),E(HT),E(we),E(ft),E(ne),E(Tl),E(ra,8))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),Bo=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,o,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=o,this.tracingService=i}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(Dd[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(Wy(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(Wy(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new _(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,o){if(o){n=o+":"+n;let i=Dd[o];i?t.setAttributeNS(i,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let o=Dd[r];o?t.removeAttributeNS(o,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,o){o&(St.DashCase|St.Important)?t.style.setProperty(n,r,o&St.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&St.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,o){if(typeof t=="string"&&(t=Mr().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${n}`);let i=this.decoratePreventDefault(r);return this.tracingService!==null&&this.tracingService.wrapEventListener&&(i=this.tracingService.wrapEventListener(t,n,i)),this.eventManager.addEventListener(t,n,i,o)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function Wy(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Cd=class extends Bo{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,o,i,s,a,c,u){super(t,i,s,c,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=o.styles;l=Jy(o.id,l);for(let h of l){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=h,this.shadowRoot.appendChild(f)}let d=o.getExternalStyles?.();if(d)for(let h of d){let f=Id(h,i);a&&f.setAttribute("nonce",a),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ho=class extends Bo{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,o,i,s,a,c,u){super(t,i,s,a,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o;let l=r.styles;this.styles=u?Jy(u,l):l,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Ma=class extends Ho{contentAttr;hostAttr;constructor(t,n,r,o,i,s,a,c,u){let l=o+"-"+r.id;super(t,n,r,i,s,a,c,u,l),this.contentAttr=zT(l),this.hostAttr=qT(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}},GT=(()=>{class e extends Ta{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o,i){return n.addEventListener(r,o,i),()=>this.removeEventListener(n,r,o,i)}removeEventListener(n,r,o,i){return n.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||e)(E(we))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),Zy=["alt","control","meta","shift"],WT={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ZT={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},QT=(()=>{class e extends Ta{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,o,i){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Mr().onAndCancel(n,s.domEventName,a,i))}static parseEventName(n){let r=n.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let i=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Zy.forEach(u=>{let l=r.indexOf(u);l>-1&&(r.splice(l,1),s+=u+".")}),s+=i,r.length!=0||i.length===0)return null;let c={};return c.domEventName=o,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let o=WT[n.key]||n.key,i="";return r.indexOf("code.")>-1&&(o=n.code,i="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),Zy.forEach(s=>{if(s!==o){let a=ZT[s];a(n)&&(i+=s+".")}}),i+=o,i===r)}static eventCallback(n,r,o){return i=>{e.matchEventFullKeyCode(i,n)&&o.runGuarded(()=>r(i))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(E(we))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})();function YL(e,t){return cy(w({rootComponent:e},YT(t)))}function YT(e){return{appProviders:[...t0,...e?.providers??[]],platformProviders:e0}}function KT(){bd.makeCurrent()}function JT(){return new It}function XT(){return Og(document),document}var e0=[{provide:ft,useValue:ud},{provide:Sl,useValue:KT,multi:!0},{provide:we,useFactory:XT,deps:[]}];var t0=[{provide:Gs,useValue:"root"},{provide:It,useFactory:JT,deps:[]},{provide:Ed,useClass:GT,multi:!0,deps:[we,ne,ft]},{provide:Ed,useClass:QT,multi:!0,deps:[we]},Gy,Yy,Qy,{provide:Dr,useExisting:Gy},{provide:xr,useClass:jT,deps:[]},[]];var Xy=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(E(we))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var n0=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:function(r){let o=null;return r?o=new(r||e):o=E(r0),o},providedIn:"root"})}return e})(),r0=(()=>{class e extends n0{_doc;constructor(n){super(),this._doc=n}sanitize(n,r){if(r==null)return null;switch(n){case ht.NONE:return r;case ht.HTML:return nn(r,"HTML")?rt(r):Zg(this._doc,String(r)).toString();case ht.STYLE:return nn(r,"Style")?rt(r):r;case ht.SCRIPT:if(nn(r,"Script"))return rt(r);throw new _(5200,!1);case ht.URL:return nn(r,"URL")?rt(r):ia(String(r));case ht.RESOURCE_URL:if(nn(r,"ResourceURL"))return rt(r);throw new _(5201,!1);default:throw new _(5202,!1)}}bypassSecurityTrustHtml(n){return jg(n)}bypassSecurityTrustStyle(n){return $g(n)}bypassSecurityTrustScript(n){return Ug(n)}bypassSecurityTrustUrl(n){return Vg(n)}bypassSecurityTrustResourceUrl(n){return Bg(n)}static \u0275fac=function(r){return new(r||e)(E(we))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var A="primary",oi=Symbol("RouteTitle"),Nd=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Fr(e){return new Nd(e)}function i0(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let o={};for(let i=0;i<r.length;i++){let s=r[i],a=e[i];if(s[0]===":")o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}function s0(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!pt(e[n],t[n]))return!1;return!0}function pt(e,t){let n=e?Rd(e):void 0,r=t?Rd(t):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let i=0;i<n.length;i++)if(o=n[i],!av(e[o],t[o]))return!1;return!0}function Rd(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function av(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((o,i)=>r[i]===o)}else return e===t}function cv(e){return e.length>0?e[e.length-1]:null}function cn(e){return Pc(e)?e:Ao(e)?ee(Promise.resolve(e)):T(e)}var a0={exact:lv,subset:dv},uv={exact:c0,subset:u0,ignored:()=>!0};function ev(e,t,n){return a0[n.paths](e.root,t.root,n.matrixParams)&&uv[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function c0(e,t){return pt(e,t)}function lv(e,t,n){if(!Fn(e.segments,t.segments)||!Na(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!lv(e.children[r],t.children[r],n))return!1;return!0}function u0(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>av(e[n],t[n]))}function dv(e,t,n){return fv(e,t,t.segments,n)}function fv(e,t,n,r){if(e.segments.length>n.length){let o=e.segments.slice(0,n.length);return!(!Fn(o,n)||t.hasChildren()||!Na(o,n,r))}else if(e.segments.length===n.length){if(!Fn(e.segments,n)||!Na(e.segments,n,r))return!1;for(let o in t.children)if(!e.children[o]||!dv(e.children[o],t.children[o],r))return!1;return!0}else{let o=n.slice(0,e.segments.length),i=n.slice(e.segments.length);return!Fn(e.segments,o)||!Na(e.segments,o,r)||!e.children[A]?!1:fv(e.children[A],t,i,r)}}function Na(e,t,n){return t.every((r,o)=>uv[n](e[o].parameters,r.parameters))}var Ut=class{root;queryParams;fragment;_queryParamMap;constructor(t=new z([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Fr(this.queryParams),this._queryParamMap}toString(){return f0.serialize(this)}},z=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ra(this)}},Pn=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Fr(this.parameters),this._parameterMap}toString(){return pv(this)}};function l0(e,t){return Fn(e,t)&&e.every((n,r)=>pt(n.parameters,t[r].parameters))}function Fn(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function d0(e,t){let n=[];return Object.entries(e.children).forEach(([r,o])=>{r===A&&(n=n.concat(t(o,r)))}),Object.entries(e.children).forEach(([r,o])=>{r!==A&&(n=n.concat(t(o,r)))}),n}var of=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>new Qo,providedIn:"root"})}return e})(),Qo=class{parse(t){let n=new kd(t);return new Ut(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${zo(t.root,!0)}`,r=g0(t.queryParams),o=typeof t.fragment=="string"?`#${h0(t.fragment)}`:"";return`${n}${r}${o}`}},f0=new Qo;function Ra(e){return e.segments.map(t=>pv(t)).join("/")}function zo(e,t){if(!e.hasChildren())return Ra(e);if(t){let n=e.children[A]?zo(e.children[A],!1):"",r=[];return Object.entries(e.children).forEach(([o,i])=>{o!==A&&r.push(`${o}:${zo(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=d0(e,(r,o)=>o===A?[zo(e.children[A],!1)]:[`${o}:${zo(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[A]!=null?`${Ra(e)}/${n[0]}`:`${Ra(e)}/(${n.join("//")})`}}function hv(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xa(e){return hv(e).replace(/%3B/gi,";")}function h0(e){return encodeURI(e)}function Od(e){return hv(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Oa(e){return decodeURIComponent(e)}function tv(e){return Oa(e.replace(/\+/g,"%20"))}function pv(e){return`${Od(e.path)}${p0(e.parameters)}`}function p0(e){return Object.entries(e).map(([t,n])=>`;${Od(t)}=${Od(n)}`).join("")}function g0(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(o=>`${xa(n)}=${xa(o)}`).join("&"):`${xa(n)}=${xa(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var m0=/^[^\/()?;#]+/;function Td(e){let t=e.match(m0);return t?t[0]:""}var y0=/^[^\/()?;=#]+/;function v0(e){let t=e.match(y0);return t?t[0]:""}var w0=/^[^=?&#]+/;function D0(e){let t=e.match(w0);return t?t[0]:""}var _0=/^[^&#]+/;function b0(e){let t=e.match(_0);return t?t[0]:""}var kd=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new z([],{}):new z([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[A]=new z(t,n)),r}parseSegment(){let t=Td(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new _(4009,!1);return this.capture(t),new Pn(Oa(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=v0(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=Td(this.remaining);o&&(r=o,this.capture(r))}t[Oa(n)]=Oa(r)}parseQueryParam(t){let n=D0(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=b0(this.remaining);s&&(r=s,this.capture(r))}let o=tv(n),i=tv(r);if(t.hasOwnProperty(o)){let s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(i)}else t[o]=i}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Td(this.remaining),o=this.remaining[r.length];if(o!=="/"&&o!==")"&&o!==";")throw new _(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=A);let s=this.parseChildren();n[i]=Object.keys(s).length===1?s[A]:new z([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new _(4011,!1)}};function gv(e){return e.segments.length>0?new z([],{[A]:e}):e}function mv(e){let t={};for(let[r,o]of Object.entries(e.children)){let i=mv(o);if(r===A&&i.segments.length===0&&i.hasChildren())for(let[s,a]of Object.entries(i.children))t[s]=a;else(i.segments.length>0||i.hasChildren())&&(t[r]=i)}let n=new z(e.segments,t);return E0(n)}function E0(e){if(e.numberOfChildren===1&&e.children[A]){let t=e.children[A];return new z(e.segments.concat(t.segments),t.children)}return e}function Ln(e){return e instanceof Ut}function I0(e,t,n=null,r=null){let o=yv(e);return vv(o,t,n,r)}function yv(e){let t;function n(i){let s={};for(let c of i.children){let u=n(c);s[c.outlet]=u}let a=new z(i.url,s);return i===e&&(t=a),a}let r=n(e.root),o=gv(r);return t??o}function vv(e,t,n,r){let o=e;for(;o.parent;)o=o.parent;if(t.length===0)return Md(o,o,o,n,r);let i=C0(t);if(i.toRoot())return Md(o,o,new z([],{}),n,r);let s=S0(i,o,e),a=s.processChildren?Go(s.segmentGroup,s.index,i.commands):Dv(s.segmentGroup,s.index,i.commands);return Md(o,s.segmentGroup,a,n,r)}function ka(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Yo(e){return typeof e=="object"&&e!=null&&e.outlets}function Md(e,t,n,r,o){let i={};r&&Object.entries(r).forEach(([c,u])=>{i[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let s;e===t?s=n:s=wv(e,t,n);let a=gv(mv(s));return new Ut(a,i,o)}function wv(e,t,n){let r={};return Object.entries(e.children).forEach(([o,i])=>{i===t?r[o]=n:r[o]=wv(i,t,n)}),new z(e.segments,r)}var Pa=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&ka(r[0]))throw new _(4003,!1);let o=r.find(Yo);if(o&&o!==cv(r))throw new _(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function C0(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Pa(!0,0,e);let t=0,n=!1,r=e.reduce((o,i,s)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let a={};return Object.entries(i.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return typeof i!="string"?[...o,i]:s===0?(i.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?t++:a!=""&&o.push(a))}),o):[...o,i]},[]);return new Pa(n,t,r)}var Or=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function S0(e,t,n){if(e.isAbsolute)return new Or(t,!0,0);if(!n)return new Or(t,!1,NaN);if(n.parent===null)return new Or(n,!0,0);let r=ka(e.commands[0])?0:1,o=n.segments.length-1+r;return T0(n,o,e.numberOfDoubleDots)}function T0(e,t,n){let r=e,o=t,i=n;for(;i>o;){if(i-=o,r=r.parent,!r)throw new _(4005,!1);o=r.segments.length}return new Or(r,!1,o-i)}function M0(e){return Yo(e[0])?e[0].outlets:{[A]:e}}function Dv(e,t,n){if(e??=new z([],{}),e.segments.length===0&&e.hasChildren())return Go(e,t,n);let r=x0(e,t,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let i=new z(e.segments.slice(0,r.pathIndex),{});return i.children[A]=new z(e.segments.slice(r.pathIndex),e.children),Go(i,0,o)}else return r.match&&o.length===0?new z(e.segments,{}):r.match&&!e.hasChildren()?Pd(e,t,n):r.match?Go(e,0,o):Pd(e,t,n)}function Go(e,t,n){if(n.length===0)return new z(e.segments,{});{let r=M0(n),o={};if(Object.keys(r).some(i=>i!==A)&&e.children[A]&&e.numberOfChildren===1&&e.children[A].segments.length===0){let i=Go(e.children[A],t,n);return new z(e.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[i]=Dv(e.children[i],t,s))}),Object.entries(e.children).forEach(([i,s])=>{r[i]===void 0&&(o[i]=s)}),new z(e.segments,o)}}function x0(e,t,n){let r=0,o=t,i={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=n.length)return i;let s=e.segments[o],a=n[r];if(Yo(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(o>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!rv(c,u,s))return i;r+=2}else{if(!rv(c,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function Pd(e,t,n){let r=e.segments.slice(0,t),o=0;for(;o<n.length;){let i=n[o];if(Yo(i)){let c=A0(i.outlets);return new z(r,c)}if(o===0&&ka(n[0])){let c=e.segments[t];r.push(new Pn(c.path,nv(n[0]))),o++;continue}let s=Yo(i)?i.outlets[A]:`${i}`,a=o<n.length-1?n[o+1]:null;s&&a&&ka(a)?(r.push(new Pn(s,nv(a))),o+=2):(r.push(new Pn(s,{})),o++)}return new z(r,{})}function A0(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=Pd(new z([],{}),0,r))}),t}function nv(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function rv(e,t,n){return e==n.path&&pt(t,n.parameters)}var Wo="imperative",le=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(le||{}),We=class{id;url;constructor(t,n){this.id=t,this.url=n}},Ko=class extends We{type=le.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",o=null){super(t,n),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},an=class extends We{urlAfterRedirects;type=le.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},je=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(je||{}),Fd=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Fd||{}),$t=class extends We{reason;code;type=le.NavigationCancel;constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},jn=class extends We{reason;code;type=le.NavigationSkipped;constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o}},Jo=class extends We{error;target;type=le.NavigationError;constructor(t,n,r,o){super(t,n),this.error=r,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Fa=class extends We{urlAfterRedirects;state;type=le.RoutesRecognized;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ld=class extends We{urlAfterRedirects;state;type=le.GuardsCheckStart;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jd=class extends We{urlAfterRedirects;state;shouldActivate;type=le.GuardsCheckEnd;constructor(t,n,r,o,i){super(t,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},$d=class extends We{urlAfterRedirects;state;type=le.ResolveStart;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ud=class extends We{urlAfterRedirects;state;type=le.ResolveEnd;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vd=class{route;type=le.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Bd=class{route;type=le.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Hd=class{snapshot;type=le.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},zd=class{snapshot;type=le.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qd=class{snapshot;type=le.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Gd=class{snapshot;type=le.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Xo=class{},Lr=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function N0(e,t){return e.providers&&!e._injector&&(e._injector=zl(e.providers,t,`Route: ${e.path}`)),e._injector??t}function st(e){return e.outlet||A}function R0(e,t){let n=e.filter(r=>st(r)===t);return n.push(...e.filter(r=>st(r)!==t)),n}function ii(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Wd=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ii(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Ha(this.rootInjector)}},Ha=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Wd(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(E(Se))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),La=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=Zd(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=Zd(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=Qd(t,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return Qd(t,this._root).map(n=>n.value)}};function Zd(e,t){if(e===t.value)return t;for(let n of t.children){let r=Zd(e,n);if(r)return r}return null}function Qd(e,t){if(e===t.value)return[t];for(let n of t.children){let r=Qd(e,n);if(r.length)return r.unshift(t),r}return[]}var Le=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function Rr(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var ja=class extends La{snapshot;constructor(t,n){super(t),this.snapshot=n,sf(this,t)}toString(){return this.snapshot.toString()}};function _v(e){let t=O0(e),n=new ue([new Pn("",{})]),r=new ue({}),o=new ue({}),i=new ue({}),s=new ue(""),a=new $n(n,r,i,s,o,A,e,t.root);return a.snapshot=t.root,new ja(new Le(a,[]),t)}function O0(e){let t={},n={},r={},o="",i=new kr([],t,r,o,n,A,e,null,{});return new Ua("",new Le(i,[]))}var $n=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,o,i,s,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(R(u=>u[oi]))??T(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(R(t=>Fr(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(R(t=>Fr(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function $a(e,t,n="emptyOnly"){let r,{routeConfig:o}=e;return t!==null&&(n==="always"||o?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:w(w({},t.params),e.params),data:w(w({},t.data),e.data),resolve:w(w(w(w({},e.data),t.data),o?.data),e._resolvedData)}:r={params:w({},e.params),data:w({},e.data),resolve:w(w({},e.data),e._resolvedData??{})},o&&Ev(o)&&(r.resolve[oi]=o.title),r}var kr=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[oi]}constructor(t,n,r,o,i,s,a,c,u){this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Fr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Fr(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},Ua=class extends La{url;constructor(t,n){super(n),this.url=t,sf(this,n)}toString(){return bv(this._root)}};function sf(e,t){t.value._routerState=e,t.children.forEach(n=>sf(e,n))}function bv(e){let t=e.children.length>0?` { ${e.children.map(bv).join(", ")} } `:"";return`${e.value}${t}`}function xd(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,pt(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),pt(t.params,n.params)||e.paramsSubject.next(n.params),s0(t.url,n.url)||e.urlSubject.next(n.url),pt(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Yd(e,t){let n=pt(e.params,t.params)&&l0(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||Yd(e.parent,t.parent))}function Ev(e){return typeof e.title=="string"||e.title===null}var k0=new b(""),P0=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=A;activateEvents=new Ae;deactivateEvents=new Ae;attachEvents=new Ae;detachEvents=new Ae;routerOutletData=Cg(void 0);parentContexts=y(Ha);location=y(kt);changeDetector=y(Tr);inputBinder=y(af,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new _(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new _(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new _(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new _(4013,!1);this._activatedRoute=n;let o=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Kd(n,a,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Pt({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Qs]})}return e})(),Kd=class e{route;childContexts;parent;outletData;__ngOutletInjector(t){return new e(this.route,this.childContexts,t,this.outletData)}constructor(t,n,r,o){this.route=t,this.childContexts=n,this.parent=r,this.outletData=o}get(t,n){return t===$n?this.route:t===Ha?this.childContexts:t===k0?this.outletData:this.parent.get(t,n)}},af=new b("");function F0(e,t,n){let r=ei(e,t._root,n?n._root:void 0);return new ja(r,t)}function ei(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let o=L0(e,t,n);return new Le(r,o)}else{if(e.shouldAttach(t.value)){let i=e.retrieve(t.value);if(i!==null){let s=i.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>ei(e,a)),s}}let r=j0(t.value),o=t.children.map(i=>ei(e,i));return new Le(r,o)}}function L0(e,t,n){return t.children.map(r=>{for(let o of n.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return ei(e,r,o);return ei(e,r)})}function j0(e){return new $n(new ue(e.url),new ue(e.params),new ue(e.queryParams),new ue(e.fragment),new ue(e.data),e.outlet,e.component,e)}var ti=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},Iv="ngNavigationCancelingError";function Va(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=Ln(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=Cv(!1,je.Redirect);return o.url=n,o.navigationBehaviorOptions=r,o}function Cv(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[Iv]=!0,n.cancellationCode=t,n}function $0(e){return Sv(e)&&Ln(e.url)}function Sv(e){return!!e&&e[Iv]}var U0=(e,t,n,r)=>R(o=>(new Jd(t,o.targetRouterState,o.currentRouterState,n,r).activate(e),o)),Jd=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,o,i){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),xd(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let o=Rr(n);t.children.forEach(i=>{let s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(t,n,r){let o=t.value,i=n?n.value:null;if(o===i)if(o.component){let s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else i&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,i=Rr(t);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,i=Rr(t);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let o=Rr(n);t.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new Gd(i.value.snapshot))}),t.children.length&&this.forwardEvent(new zd(t.value.snapshot))}activateRoutes(t,n,r){let o=t.value,i=n?n.value:null;if(xd(o),o===i)if(o.component){let s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(o.component){let s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),xd(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},Ba=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Pr=class{component;route;constructor(t,n){this.component=t,this.route=n}};function V0(e,t,n){let r=e._root,o=t?t._root:null;return qo(r,o,n,[r.value])}function B0(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function $r(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!wp(e)?e:t.get(e):r}function qo(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=Rr(t);return e.children.forEach(s=>{H0(s,i[s.value.outlet],n,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>Zo(a,n.getContext(s),o)),o}function H0(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){let c=z0(s,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new Ba(r)):(i.data=s.data,i._resolvedData=s._resolvedData),i.component?qo(e,t,a?a.children:null,r,o):qo(e,t,n,r,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new Pr(a.outlet.component,s))}else s&&Zo(t,a,o),o.canActivateChecks.push(new Ba(r)),i.component?qo(e,null,a?a.children:null,r,o):qo(e,null,n,r,o);return o}function z0(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!Fn(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Fn(e.url,t.url)||!pt(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Yd(e,t)||!pt(e.queryParams,t.queryParams);case"paramsChange":default:return!Yd(e,t)}}function Zo(e,t,n){let r=Rr(e),o=e.value;Object.entries(r).forEach(([i,s])=>{o.component?t?Zo(s,t.children.getContext(i),n):Zo(s,null,n):Zo(s,t,n)}),o.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new Pr(t.outlet.component,o)):n.canDeactivateChecks.push(new Pr(null,o)):n.canDeactivateChecks.push(new Pr(null,o))}function si(e){return typeof e=="function"}function q0(e){return typeof e=="boolean"}function G0(e){return e&&si(e.canLoad)}function W0(e){return e&&si(e.canActivate)}function Z0(e){return e&&si(e.canActivateChild)}function Q0(e){return e&&si(e.canDeactivate)}function Y0(e){return e&&si(e.canMatch)}function Tv(e){return e instanceof Je||e?.name==="EmptyError"}var Aa=Symbol("INITIAL_VALUE");function jr(){return Ee(e=>ns(e.map(t=>t.pipe(vt(1),Uc(Aa)))).pipe(R(t=>{for(let n of t)if(n!==!0){if(n===Aa)return Aa;if(n===!1||K0(n))return n}return!0}),pe(t=>t!==Aa),vt(1)))}function K0(e){return Ln(e)||e instanceof ti}function J0(e,t){return ae(n=>{let{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=n;return s.length===0&&i.length===0?T(H(w({},n),{guardsResult:!0})):X0(s,r,o,e).pipe(ae(a=>a&&q0(a)?eM(r,i,e,t):T(a)),R(a=>H(w({},n),{guardsResult:a})))})}function X0(e,t,n,r){return ee(e).pipe(ae(o=>iM(o.component,o.route,n,t,r)),wt(o=>o!==!0,!0))}function eM(e,t,n,r){return ee(t).pipe(Gt(o=>ir(nM(o.route.parent,r),tM(o.route,r),oM(e,o.path,n),rM(e,o.route,n))),wt(o=>o!==!0,!0))}function tM(e,t){return e!==null&&t&&t(new qd(e)),T(!0)}function nM(e,t){return e!==null&&t&&t(new Hd(e)),T(!0)}function rM(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return T(!0);let o=r.map(i=>rs(()=>{let s=ii(t)??n,a=$r(i,s),c=W0(a)?a.canActivate(t,e):Oe(s,()=>a(t,e));return cn(c).pipe(wt())}));return T(o).pipe(jr())}function oM(e,t,n){let r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(s=>B0(s)).filter(s=>s!==null).map(s=>rs(()=>{let a=s.guards.map(c=>{let u=ii(s.node)??n,l=$r(c,u),d=Z0(l)?l.canActivateChild(r,e):Oe(u,()=>l(r,e));return cn(d).pipe(wt())});return T(a).pipe(jr())}));return T(i).pipe(jr())}function iM(e,t,n,r,o){let i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!i||i.length===0)return T(!0);let s=i.map(a=>{let c=ii(t)??o,u=$r(a,c),l=Q0(u)?u.canDeactivate(e,t,n,r):Oe(c,()=>u(e,t,n,r));return cn(l).pipe(wt())});return T(s).pipe(jr())}function sM(e,t,n,r){let o=t.canLoad;if(o===void 0||o.length===0)return T(!0);let i=o.map(s=>{let a=$r(s,e),c=G0(a)?a.canLoad(t,n):Oe(e,()=>a(t,n));return cn(c)});return T(i).pipe(jr(),Mv(r))}function Mv(e){return Ac(ce(t=>{if(typeof t!="boolean")throw Va(e,t)}),R(t=>t===!0))}function aM(e,t,n,r){let o=t.canMatch;if(!o||o.length===0)return T(!0);let i=o.map(s=>{let a=$r(s,e),c=Y0(a)?a.canMatch(t,n):Oe(e,()=>a(t,n));return cn(c)});return T(i).pipe(jr(),Mv(r))}var ni=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},ri=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function Nr(e){return or(new ni(e))}function cM(e){return or(new _(4e3,!1))}function uM(e){return or(Cv(!1,je.GuardRejected))}var Xd=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),o.numberOfChildren===0)return T(r);if(o.numberOfChildren>1||!o.children[A])return cM(`${t.redirectTo}`);o=o.children[A]}}applyRedirectCommands(t,n,r,o,i){if(typeof n!="string"){let a=n,{queryParams:c,fragment:u,routeConfig:l,url:d,outlet:h,params:f,data:p,title:g}=o,m=Oe(i,()=>a({params:f,data:p,queryParams:c,fragment:u,routeConfig:l,url:d,outlet:h,title:g}));if(m instanceof Ut)throw new ri(m);n=m}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r);if(n[0]==="/")throw new ri(s);return s}applyRedirectCreateUrlTree(t,n,r,o){let i=this.createSegmentGroup(t,n.root,r,o);return new Ut(i,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([o,i])=>{if(typeof i=="string"&&i[0]===":"){let a=i.substring(1);r[o]=n[a]}else r[o]=i}),r}createSegmentGroup(t,n,r,o){let i=this.createSegments(t,n.segments,r,o),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,r,o)}),new z(i,s)}createSegments(t,n,r,o){return n.map(i=>i.path[0]===":"?this.findPosParam(t,i,o):this.findOrReturn(i,r))}findPosParam(t,n,r){let o=r[n.path.substring(1)];if(!o)throw new _(4001,!1);return o}findOrReturn(t,n){let r=0;for(let o of n){if(o.path===t.path)return n.splice(r),o;r++}return t}},ef={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function lM(e,t,n,r,o){let i=xv(e,t,n);return i.matched?(r=N0(t,r),aM(r,t,n,o).pipe(R(s=>s===!0?i:w({},ef)))):T(i)}function xv(e,t,n){if(t.path==="**")return dM(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?w({},ef):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let o=(t.matcher||i0)(n,e,t);if(!o)return w({},ef);let i={};Object.entries(o.posParams??{}).forEach(([a,c])=>{i[a]=c.path});let s=o.consumed.length>0?w(w({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function dM(e){return{matched:!0,parameters:e.length>0?cv(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function ov(e,t,n,r){return n.length>0&&pM(e,n,r)?{segmentGroup:new z(t,hM(r,new z(n,e.children))),slicedSegments:[]}:n.length===0&&gM(e,n,r)?{segmentGroup:new z(e.segments,fM(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new z(e.segments,e.children),slicedSegments:n}}function fM(e,t,n,r){let o={};for(let i of n)if(za(e,t,i)&&!r[st(i)]){let s=new z([],{});o[st(i)]=s}return w(w({},r),o)}function hM(e,t){let n={};n[A]=t;for(let r of e)if(r.path===""&&st(r)!==A){let o=new z([],{});n[st(r)]=o}return n}function pM(e,t,n){return n.some(r=>za(e,t,r)&&st(r)!==A)}function gM(e,t,n){return n.some(r=>za(e,t,r))}function za(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function mM(e,t,n){return t.length===0&&!e.children[n]}var tf=class{};function yM(e,t,n,r,o,i,s="emptyOnly"){return new nf(e,t,n,r,o,s,i).recognize()}var vM=31,nf=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,o,i,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Xd(this.urlSerializer,this.urlTree)}noMatchError(t){return new _(4002,`'${t.segmentGroup}'`)}recognize(){let t=ov(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(R(({children:n,rootSnapshot:r})=>{let o=new Le(r,n),i=new Ua("",o),s=I0(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),{state:i,tree:s}}))}match(t){let n=new kr([],Object.freeze({}),Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),A,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,A,n).pipe(R(r=>({children:r,rootSnapshot:n})),qt(r=>{if(r instanceof ri)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ni?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,o,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r,i):this.processSegment(t,n,r,r.segments,o,!0,i).pipe(R(s=>s instanceof Le?[s]:[]))}processChildren(t,n,r,o){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return ee(i).pipe(Gt(s=>{let a=r.children[s],c=R0(n,s);return this.processSegmentGroup(t,c,a,s,o)}),jc((s,a)=>(s.push(...a),s)),Wt(null),Lc(),ae(s=>{if(s===null)return Nr(r);let a=Av(s);return wM(a),T(a)}))}processSegment(t,n,r,o,i,s,a){return ee(n).pipe(Gt(c=>this.processSegmentAgainstRoute(c._injector??t,n,c,r,o,i,s,a).pipe(qt(u=>{if(u instanceof ni)return T(null);throw u}))),wt(c=>!!c),qt(c=>{if(Tv(c))return mM(r,o,i)?T(new tf):Nr(r);throw c}))}processSegmentAgainstRoute(t,n,r,o,i,s,a,c){return st(r)!==s&&(s===A||!za(o,i,r))?Nr(o):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,o,r,i,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,o,n,r,i,s,c):Nr(o)}expandSegmentAgainstRouteUsingRedirect(t,n,r,o,i,s,a){let{matched:c,parameters:u,consumedSegments:l,positionalParamSegments:d,remainingSegments:h}=xv(n,o,i);if(!c)return Nr(n);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>vM&&(this.allowRedirects=!1));let f=new kr(i,u,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,iv(o),st(o),o.component??o._loadedComponent??null,o,sv(o)),p=$a(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(p.params),f.data=Object.freeze(p.data);let g=this.applyRedirects.applyRedirectCommands(l,o.redirectTo,d,f,t);return this.applyRedirects.lineralizeSegments(o,g).pipe(ae(m=>this.processSegment(t,r,n,m.concat(h),s,!1,a)))}matchSegmentAgainstRoute(t,n,r,o,i,s){let a=lM(n,r,o,t,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Ee(c=>c.matched?(t=r._injector??t,this.getChildConfig(t,r,o).pipe(Ee(({routes:u})=>{let l=r._loadedInjector??t,{parameters:d,consumedSegments:h,remainingSegments:f}=c,p=new kr(h,d,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,iv(r),st(r),r.component??r._loadedComponent??null,r,sv(r)),g=$a(p,s,this.paramsInheritanceStrategy);p.params=Object.freeze(g.params),p.data=Object.freeze(g.data);let{segmentGroup:m,slicedSegments:v}=ov(n,h,f,u);if(v.length===0&&m.hasChildren())return this.processChildren(l,u,m,p).pipe(R(I=>new Le(p,I)));if(u.length===0&&v.length===0)return T(new Le(p,[]));let C=st(r)===i;return this.processSegment(l,u,m,v,C?A:i,!0,p).pipe(R(I=>new Le(p,I instanceof Le?[I]:[])))}))):Nr(n)))}getChildConfig(t,n,r){return n.children?T({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?T({routes:n._loadedRoutes,injector:n._loadedInjector}):sM(t,n,r,this.urlSerializer).pipe(ae(o=>o?this.configLoader.loadChildren(t,n).pipe(ce(i=>{n._loadedRoutes=i.routes,n._loadedInjector=i.injector})):uM(n))):T({routes:[],injector:t})}};function wM(e){e.sort((t,n)=>t.value.outlet===A?-1:n.value.outlet===A?1:t.value.outlet.localeCompare(n.value.outlet))}function DM(e){let t=e.value.routeConfig;return t&&t.path===""}function Av(e){let t=[],n=new Set;for(let r of e){if(!DM(r)){t.push(r);continue}let o=t.find(i=>r.value.routeConfig===i.value.routeConfig);o!==void 0?(o.children.push(...r.children),n.add(o)):t.push(r)}for(let r of n){let o=Av(r.children);t.push(new Le(r.value,o))}return t.filter(r=>!n.has(r))}function iv(e){return e.data||{}}function sv(e){return e.resolve||{}}function _M(e,t,n,r,o,i){return ae(s=>yM(e,t,n,r,s.extractedUrl,o,i).pipe(R(({state:a,tree:c})=>H(w({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function bM(e,t){return ae(n=>{let{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return T(n);let i=new Set(o.map(c=>c.route)),s=new Set;for(let c of i)if(!s.has(c))for(let u of Nv(c))s.add(u);let a=0;return ee(s).pipe(Gt(c=>i.has(c)?EM(c,r,e,t):(c.data=$a(c,c.parent,e).resolve,T(void 0))),ce(()=>a++),sr(1),ae(c=>a===s.size?T(n):_e))})}function Nv(e){let t=e.children.map(n=>Nv(n)).flat();return[e,...t]}function EM(e,t,n,r){let o=e.routeConfig,i=e._resolve;return o?.title!==void 0&&!Ev(o)&&(i[oi]=o.title),IM(i,e,t,r).pipe(R(s=>(e._resolvedData=s,e.data=$a(e,e.parent,n).resolve,null)))}function IM(e,t,n,r){let o=Rd(e);if(o.length===0)return T({});let i={};return ee(o).pipe(ae(s=>CM(e[s],t,n,r).pipe(wt(),ce(a=>{if(a instanceof ti)throw Va(new Qo,a);i[s]=a}))),sr(1),R(()=>i),qt(s=>Tv(s)?_e:or(s)))}function CM(e,t,n,r){let o=ii(t)??r,i=$r(e,o),s=i.resolve?i.resolve(t,n):Oe(o,()=>i(t,n));return cn(s)}function Ad(e){return Ee(t=>{let n=e(t);return n?ee(n).pipe(R(()=>t)):T(t)})}var Rv=(()=>{class e{buildTitle(n){let r,o=n.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===A);return r}getResolvedTitleForRoute(n){return n.data[oi]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>y(SM),providedIn:"root"})}return e})(),SM=(()=>{class e extends Rv{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(E(Xy))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),cf=new b("",{providedIn:"root",factory:()=>({})}),TM=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Rm({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,o){r&1&&Yl(0,"router-outlet")},dependencies:[P0],encapsulation:2})}return e})();function uf(e){let t=e.children&&e.children.map(uf),n=t?H(w({},e),{children:t}):w({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==A&&(n.component=TM),n}var lf=new b(""),MM=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=y(Jl);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return T(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=cn(n.loadComponent()).pipe(R(Ov),ce(i=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=i}),yn(()=>{this.componentLoaders.delete(n)})),o=new nr(r,()=>new te).pipe(tr());return this.componentLoaders.set(n,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return T({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=xM(r,this.compiler,n,this.onLoadEndListener).pipe(yn(()=>{this.childrenLoaders.delete(r)})),s=new nr(i,()=>new te).pipe(tr());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function xM(e,t,n,r){return cn(e.loadChildren()).pipe(R(Ov),ae(o=>o instanceof wo||Array.isArray(o)?T(o):ee(t.compileModuleAsync(o))),R(o=>{r&&r(e);let i,s,a=!1;return Array.isArray(o)?(s=o,a=!0):(i=o.create(n).injector,s=i.get(lf,[],{optional:!0,self:!0}).flat()),{routes:s.map(uf),injector:i}}))}function AM(e){return e&&typeof e=="object"&&"default"in e}function Ov(e){return AM(e)?e.default:e}var df=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>y(NM),providedIn:"root"})}return e})(),NM=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),RM=new b("");var OM=new b(""),kM=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new te;transitionAbortSubject=new te;configLoader=y(MM);environmentInjector=y(Se);destroyRef=y(Ir);urlSerializer=y(of);rootContexts=y(Ha);location=y(ko);inputBindingEnabled=y(af,{optional:!0})!==null;titleStrategy=y(Rv);options=y(cf,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=y(df);createViewTransition=y(RM,{optional:!0});navigationErrorHandler=y(OM,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>T(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=o=>this.events.next(new Vd(o)),r=o=>this.events.next(new Bd(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(H(w(w({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,o){return this.transitions=new ue({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Wo,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(pe(i=>i.id!==0),R(i=>H(w({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Ee(i=>{let s=!1,a=!1;return T(i).pipe(Ee(c=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",je.SupersededByNewNavigation),_e;this.currentTransition=i,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?H(w({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=c.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!u&&l!=="reload"){let d="";return this.events.next(new jn(c.id,this.urlSerializer.serialize(c.rawUrl),d,Fd.IgnoredSameUrlNavigation)),c.resolve(!1),_e}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return T(c).pipe(Ee(d=>{let h=this.transitions?.getValue();return this.events.next(new Ko(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions?.getValue()?_e:Promise.resolve(d)}),_M(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),ce(d=>{i.targetSnapshot=d.targetSnapshot,i.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=H(w({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let h=new Fa(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:d,extractedUrl:h,source:f,restoredState:p,extras:g}=c,m=new Ko(d,this.urlSerializer.serialize(h),f,p);this.events.next(m);let v=_v(this.rootComponentType).snapshot;return this.currentTransition=i=H(w({},c),{targetSnapshot:v,urlAfterRedirects:h,extras:H(w({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,T(i)}else{let d="";return this.events.next(new jn(c.id,this.urlSerializer.serialize(c.extractedUrl),d,Fd.IgnoredByUrlHandlingStrategy)),c.resolve(!1),_e}}),ce(c=>{let u=new Ld(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),R(c=>(this.currentTransition=i=H(w({},c),{guards:V0(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),i)),J0(this.environmentInjector,c=>this.events.next(c)),ce(c=>{if(i.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw Va(this.urlSerializer,c.guardsResult);let u=new jd(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),pe(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",je.GuardRejected),!1)),Ad(c=>{if(c.guards.canActivateChecks.length)return T(c).pipe(ce(u=>{let l=new $d(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),Ee(u=>{let l=!1;return T(u).pipe(bM(this.paramsInheritanceStrategy,this.environmentInjector),ce({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(u,"",je.NoDataFromResolver)}}))}),ce(u=>{let l=new Ud(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}))}),Ad(c=>{let u=l=>{let d=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(l.routeConfig).pipe(ce(h=>{l.component=h}),R(()=>{})));for(let h of l.children)d.push(...u(h));return d};return ns(u(c.targetSnapshot.root)).pipe(Wt(null),vt(1))}),Ad(()=>this.afterPreactivation()),Ee(()=>{let{currentSnapshot:c,targetSnapshot:u}=i,l=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return l?ee(l).pipe(R(()=>i)):T(i)}),R(c=>{let u=F0(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=i=H(w({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,i}),ce(()=>{this.events.next(new Xo)}),U0(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),vt(1),ce({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new an(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),Vc(this.transitionAbortSubject.pipe(ce(c=>{throw c}))),yn(()=>{!s&&!a&&this.cancelNavigationTransition(i,"",je.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation=null,this.currentTransition=null)}),qt(c=>{if(this.destroyed)return i.resolve(!1),_e;if(a=!0,Sv(c))this.events.next(new $t(i.id,this.urlSerializer.serialize(i.extractedUrl),c.message,c.cancellationCode)),$0(c)?this.events.next(new Lr(c.url,c.navigationBehaviorOptions)):i.resolve(!1);else{let u=new Jo(i.id,this.urlSerializer.serialize(i.extractedUrl),c,i.targetSnapshot??void 0);try{let l=Oe(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(l instanceof ti){let{message:d,cancellationCode:h}=Va(this.urlSerializer,l);this.events.next(new $t(i.id,this.urlSerializer.serialize(i.extractedUrl),d,h)),this.events.next(new Lr(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(u),c}catch(l){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(l)}}return _e}))}))}cancelNavigationTransition(n,r,o){let i=new $t(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(i),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function PM(e){return e!==Wo}var FM=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>y(LM),providedIn:"root"})}return e})(),rf=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},LM=(()=>{class e extends rf{static \u0275fac=(()=>{let n;return function(o){return(n||(n=_l(e)))(o||e)}})();static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),kv=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>y(jM),providedIn:"root"})}return e})(),jM=(()=>{class e extends kv{location=y(ko);urlSerializer=y(of);options=y(cf,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=y(df);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Ut;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=_v(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Ko)this.stateMemento=this.createStateMemento();else if(n instanceof jn)this.rawUrlTree=r.initialUrl;else if(n instanceof Fa){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??o,r)}}else n instanceof Xo?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof $t&&(n.code===je.GuardRejected||n.code===je.NoDataFromResolver)?this.restoreHistory(r):n instanceof Jo?this.restoreHistory(r,!0):n instanceof an&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let o=n instanceof Ut?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){let i=this.browserPageId,s=w(w({},r.extras.state),this.generateNgRouterState(r.id,i));this.location.replaceState(o,"",s)}else{let i=w(w({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(o,"",i)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,i=this.currentPageId-o;i!==0?this.location.historyGo(i):this.currentUrlTree===n.finalUrl&&i===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(o){return(n||(n=_l(e)))(o||e)}})();static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function $M(e,t){e.events.pipe(pe(n=>n instanceof an||n instanceof $t||n instanceof Jo||n instanceof jn),R(n=>n instanceof an||n instanceof jn?0:(n instanceof $t?n.code===je.Redirect||n.code===je.SupersededByNewNavigation:!1)?2:1),pe(n=>n!==2),vt(1)).subscribe(()=>{t()})}var UM={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},VM={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ff=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=y(Zl);stateManager=y(kv);options=y(cf,{optional:!0})||{};pendingTasks=y(Nt);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=y(kM);urlSerializer=y(of);location=y(ko);urlHandlingStrategy=y(df);_events=new te;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=y(FM);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=y(lf,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!y(af,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new K;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,i=this.navigationTransitions.currentNavigation;if(o!==null&&i!==null){if(this.stateManager.handleRouterEvent(r,i),r instanceof $t&&r.code!==je.Redirect&&r.code!==je.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof an)this.navigated=!0;else if(r instanceof Lr){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),c=w({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||PM(o.source)},s);this.scheduleNavigation(a,Wo,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}HM(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Wo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,o){let i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let c=w({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(i.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,i)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(uf),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s,l=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":l=w(w({},this.currentUrlTree.queryParams),i);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=i||null}l!==null&&(l=this.removeEmptyProps(l));let d;try{let h=o?o.snapshot:this.routerState.snapshot.root;d=yv(h)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return vv(d,n,l,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){let o=Ln(n)?n:this.parseUrl(n),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,Wo,null,r)}navigate(n,r={skipLocationChange:!1}){return BM(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let o;if(r===!0?o=w({},UM):r===!1?o=w({},VM):o=r,Ln(n))return ev(this.currentUrlTree,n,o);let i=this.parseUrl(n);return ev(this.currentUrlTree,i,o)}removeEmptyProps(n){return Object.entries(n).reduce((r,[o,i])=>(i!=null&&(r[o]=i),r),{})}scheduleNavigation(n,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((d,h)=>{a=d,c=h});let l=this.pendingTasks.add();return $M(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:i,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function BM(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new _(4008,!1)}function HM(e){return!(e instanceof Xo)&&!(e instanceof Lr)}var E1=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new te;constructor(n,r,o,i,s,a){this.router=n,this.route=r,this.tabIndexAttribute=o,this.renderer=i,this.el=s,this.locationStrategy=a;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=n.events.subscribe(u=>{u instanceof an&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Ln(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,o,i,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||o||i||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:Qg(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let o=this.renderer,i=this.el.nativeElement;r!==null?o.setAttribute(i,n,r):o.removeAttribute(i,n)}get urlTree(){return this.routerLinkInput===null?null:Ln(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||e)(Z(ff),Z($n),ta("tabindex"),Z(Mo),Z(Rt),Z(Ar))};static \u0275dir=Pt({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,o){r&1&&Kl("click",function(s){return o.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Ql("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ro],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ro],replaceUrl:[2,"replaceUrl","replaceUrl",Ro],routerLink:"routerLink"},features:[Gl,Qs]})}return e})();var zM=new b("");function I1(e,...t){return br([{provide:lf,multi:!0,useValue:e},[],{provide:$n,useFactory:qM,deps:[ff]},{provide:ua,multi:!0,useFactory:GM},t.map(n=>n.\u0275providers)])}function qM(e){return e.routerState.root}function GM(){let e=y(He);return t=>{let n=e.get(Mt);if(t!==n.components[0])return;let r=e.get(ff),o=e.get(WM);e.get(ZM)===1&&r.initialNavigation(),e.get(QM,null,O.Optional)?.setUpPreloading(),e.get(zM,null,O.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var WM=new b("",{factory:()=>new te}),ZM=new b("",{providedIn:"root",factory:()=>1});var QM=new b("");var Pv=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>import("./chunk-MAQGHWLI.js").then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};var ai=class extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}},qa=class extends ai{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Ga=class extends ai{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},Wa=class extends ai{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}},hf=function(e){return e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2",e}(hf||{});var YM=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})},ci=class{constructor(t,{headers:n={},customFetch:r,region:o=hf.Any}={}){this.url=t,this.headers=n,this.region=o,this.fetch=Pv(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return YM(this,void 0,void 0,function*(){try{let{headers:o,method:i,body:s}=n,a={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(a["x-region"]=c);let u;s&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=s):typeof s=="string"?(a["Content-Type"]="text/plain",u=s):typeof FormData<"u"&&s instanceof FormData?u=s:(a["Content-Type"]="application/json",u=JSON.stringify(s)));let l=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),o),body:u}).catch(p=>{throw new qa(p)}),d=l.headers.get("x-relay-error");if(d&&d==="true")throw new Ga(l);if(!l.ok)throw new Wa(l);let h=((r=l.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),f;return h==="application/json"?f=yield l.json():h==="application/octet-stream"?f=yield l.blob():h==="text/event-stream"?f=l:h==="multipart/form-data"?f=yield l.formData():f=yield l.text(),{data:f,error:null}}catch(o){return{data:null,error:o}}})}};var Zv=kw(Wv(),1),{PostgrestClient:Qv,PostgrestQueryBuilder:H1,PostgrestFilterBuilder:z1,PostgrestTransformBuilder:q1,PostgrestBuilder:G1,PostgrestError:cx}=Zv.default;var Yv="2.11.2";var Kv={"X-Client-Info":`realtime-js/${Yv}`},Jv="1.0.0",Ka=1e4,Xv=1e3,Vr=function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e}(Vr||{}),$e=function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e}($e||{}),Ze=function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e}(Ze||{}),Cf=function(e){return e.websocket="websocket",e}(Cf||{}),Un=function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e}(Un||{});var Ja=class{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){let n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){let o=n.getUint8(1),i=n.getUint8(2),s=this.HEADER_LENGTH+2,a=r.decode(t.slice(s,s+o));s=s+o;let c=r.decode(t.slice(s,s+i));s=s+i;let u=JSON.parse(r.decode(t.slice(s,t.byteLength)));return{ref:null,topic:a,event:c,payload:u}}};var Br=class{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Q=function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e}(Q||{}),Tf=(e,t,n={})=>{var r;let o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,s)=>(i[s]=ux(s,e,t,o),i),{})},ux=(e,t,n,r)=>{let o=t.find(a=>a.name===e),i=o?.type,s=n[e];return i&&!r.includes(i)?ew(i,s):Sf(s)},ew=(e,t)=>{if(e.charAt(0)==="_"){let n=e.slice(1,e.length);return hx(t,n)}switch(e){case Q.bool:return lx(t);case Q.float4:case Q.float8:case Q.int2:case Q.int4:case Q.int8:case Q.numeric:case Q.oid:return dx(t);case Q.json:case Q.jsonb:return fx(t);case Q.timestamp:return px(t);case Q.abstime:case Q.date:case Q.daterange:case Q.int4range:case Q.int8range:case Q.money:case Q.reltime:case Q.text:case Q.time:case Q.timestamptz:case Q.timetz:case Q.tsrange:case Q.tstzrange:return Sf(t);default:return Sf(t)}},Sf=e=>e,lx=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},dx=e=>{if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return t}return e},fx=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},hx=(e,t)=>{if(typeof e!="string")return e;let n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i,s=e.slice(1,n);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(a=>ew(t,a))}return e},px=e=>typeof e=="string"?e.replace(" ","T"):e,Xa=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};var Hr=class{constructor(t,n,r={},o=Ka){this.channel=t,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}};var gi=class e{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=e.syncState(this.state,o,i,s),this.pendingDiffs.forEach(c=>{this.state=e.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=e.syncDiff(this.state,o,i,s),a())}),this.onJoin((o,i,s)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:s})}),this.onLeave((o,i,s)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,o){let i=this.cloneDeep(t),s=this.transformState(n),a={},c={};return this.map(i,(u,l)=>{s[u]||(c[u]=l)}),this.map(s,(u,l)=>{let d=i[u];if(d){let h=l.map(m=>m.presence_ref),f=d.map(m=>m.presence_ref),p=l.filter(m=>f.indexOf(m.presence_ref)<0),g=d.filter(m=>h.indexOf(m.presence_ref)<0);p.length>0&&(a[u]=p),g.length>0&&(c[u]=g)}else a[u]=l}),this.syncDiff(i,{joins:a,leaves:c},r,o)}static syncDiff(t,n,r,o){let{joins:i,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(i,(a,c)=>{var u;let l=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(c),l.length>0){let d=t[a].map(f=>f.presence_ref),h=l.filter(f=>d.indexOf(f.presence_ref)<0);t[a].unshift(...h)}r(a,l,c)}),this.map(s,(a,c)=>{let u=t[a];if(!u)return;let l=c.map(d=>d.presence_ref);u=u.filter(d=>l.indexOf(d.presence_ref)<0),t[a]=u,o(a,u,c),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{let o=t[r];return"metas"in o?n[r]=o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=o,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Vt=function(e){return e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR",e}(Vt||{});var mi=class e{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=$e.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Hr(this,Ze.join,this.params,this.timeout),this.rejoinTimer=new Br(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=$e.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=$e.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=$e.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=$e.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ze.reply,{},(o,i)=>{this._trigger(this._replyEventName(i),o)}),this.presence=new gi(this),this.broadcastEndpointURL=Xa(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,o;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:i,presence:s,private:a}}=this.params;this._onError(l=>t?.(Vt.CHANNEL_ERROR,l)),this._onClose(()=>t?.(Vt.CLOSED));let c={},u={broadcast:i,presence:s,postgres_changes:(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(l=>l.filter))!==null&&o!==void 0?o:[],private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:l})=>{var d;if(this.socket.setAuth(),l===void 0){t?.(Vt.SUBSCRIBED);return}else{let h=this.bindings.postgres_changes,f=(d=h?.length)!==null&&d!==void 0?d:0,p=[];for(let g=0;g<f;g++){let m=h[g],{filter:{event:v,schema:C,table:I,filter:B}}=m,x=l&&l[g];if(x&&x.event===v&&x.schema===C&&x.table===I&&x.filter===B)p.push(Object.assign(Object.assign({},m),{id:x.id}));else{this.unsubscribe(),t?.(Vt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t(Vt.SUBSCRIBED);return}}).receive("error",l=>{t?.(Vt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(l).join(", ")||"error")))}).receive("timeout",()=>{t?.(Vt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,o;if(!this._canPush()&&t.type==="broadcast"){let{event:i,payload:s}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{let u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=u.body)===null||o===void 0?void 0:o.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,a,c;let u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(a=(s=this.params)===null||s===void 0?void 0:s.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=$e.leaving;let n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ze.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{let o=new Hr(this,Ze.leave,{},t);o.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),o.send(),this._canPush()||o.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){let o=new AbortController,i=setTimeout(()=>o.abort(),r),s=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(i),s}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Hr(this,t,n,r);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var o,i;let s=t.toLocaleLowerCase(),{close:a,error:c,leave:u,join:l}=Ze;if(r&&[a,c,u,l].indexOf(s)>=0&&r!==this._joinRef())return;let h=this._onMessage(s,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(f=>{var p,g,m;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((m=(g=f.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase())===s}).map(f=>f.callback(h,r)):(i=this.bindings[s])===null||i===void 0||i.filter(f=>{var p,g,m,v,C,I;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){let B=f.id,x=(p=f.filter)===null||p===void 0?void 0:p.event;return B&&((g=n.ids)===null||g===void 0?void 0:g.includes(B))&&(x==="*"||x?.toLocaleLowerCase()===((m=n.data)===null||m===void 0?void 0:m.type.toLocaleLowerCase()))}else{let B=(C=(v=f?.filter)===null||v===void 0?void 0:v.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return B==="*"||B===((I=n?.event)===null||I===void 0?void 0:I.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof h=="object"&&"ids"in h){let p=h.data,{schema:g,table:m,commit_timestamp:v,type:C,errors:I}=p;h=Object.assign(Object.assign({},{schema:g,table:m,commit_timestamp:v,eventType:C,new:{},old:{},errors:I}),this._getPayloadRecords(p))}f.callback(h,r)})}_isClosed(){return this.state===$e.closed}_isJoined(){return this.state===$e.joined}_isJoining(){return this.state===$e.joining}_isLeaving(){return this.state===$e.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){let o=t.toLocaleLowerCase(),i={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(t,n){let r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(o=>{var i;return!(((i=o.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&e.isEqual(o.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(let r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ze.close,{},t)}_onError(t){this._on(Ze.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=$e.joining,this.joinPush.resend(t))}_getPayloadRecords(t){let n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Tf(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Tf(t.columns,t.old_record)),n}};var mx=()=>{},yx=typeof WebSocket<"u",vx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,yi=class{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Kv,this.params={},this.timeout=Ka,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=mx,this.conn=null,this.sendBuffer=[],this.serializer=new Ja,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...a)=>import("./chunk-MAQGHWLI.js").then(({default:c})=>c(...a)):s=fetch,(...a)=>s(...a)},this.endPoint=`${t}/${Cf.websocket}`,this.httpEndpoint=Xa(t),n?.transport?this.transport=n.transport:this.transport=null,n?.params&&(this.params=n.params),n?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n?.timeout&&(this.timeout=n.timeout),n?.logger&&(this.logger=n.logger),n?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);let o=(r=n?.params)===null||r===void 0?void 0:r.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=n?.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n?.encode?n.encode:(i,s)=>s(JSON.stringify(i)),this.decode=n?.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Br(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n?.fetch),n?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=n?.worker||!1,this.workerUrl=n?.workerUrl}this.accessToken=n?.accessToken||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(yx){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Mf(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),import("./chunk-KYSFV2V4.js").then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Jv}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){let n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){let t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Vr.connecting:return Un.Connecting;case Vr.open:return Un.Open;case Vr.closing:return Un.Closing;default:return Un.Closed}}isConnected(){return this.connectionState()===Un.Open}channel(t,n={config:{}}){let r=new mi(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){let{topic:n,event:r,payload:o,ref:i}=t,s=()=>{this.encode(t,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${i})`,o),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(o=>{n&&o.updateJoinPayload({access_token:n}),o.joinedOnce&&o._isJoined()&&o._push(Ze.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Xv,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:o,payload:i,ref:s}=n;s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${o} ${s&&"("+s+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(o,i,s)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ze.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;let r=t.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${t}${r}${o}`}_workerObjectUrl(t){let n;if(t)n=t;else{let r=new Blob([vx],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}};var Mf=class{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Vr.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}};var zr=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function ie(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var ec=class extends zr{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}},Vn=class extends zr{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}};var wx=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})},nc=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>import("./chunk-MAQGHWLI.js").then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},tw=()=>wx(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-MAQGHWLI.js")).Response:Response}),tc=e=>{if(Array.isArray(e))return e.map(n=>tc(n));if(typeof e=="function"||e!==Object(e))return e;let t={};return Object.entries(e).forEach(([n,r])=>{let o=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[o]=tc(r)}),t};var Bn=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})},xf=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Dx=(e,t,n)=>Bn(void 0,void 0,void 0,function*(){let r=yield tw();e instanceof r&&!n?.noResolveJson?e.json().then(o=>{t(new ec(xf(o),e.status||500))}).catch(o=>{t(new Vn(xf(o),o))}):t(new Vn(xf(e),e))}),_x=(e,t,n,r)=>{let o={method:e,headers:t?.headers||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},t?.headers),r&&(o.body=JSON.stringify(r)),Object.assign(Object.assign({},o),n))};function vi(e,t,n,r,o,i){return Bn(this,void 0,void 0,function*(){return new Promise((s,a)=>{e(n,_x(t,r,o,i)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>Dx(c,a,r))})})}function qr(e,t,n,r){return Bn(this,void 0,void 0,function*(){return vi(e,"GET",t,n,r)})}function gt(e,t,n,r,o){return Bn(this,void 0,void 0,function*(){return vi(e,"POST",t,r,o,n)})}function nw(e,t,n,r,o){return Bn(this,void 0,void 0,function*(){return vi(e,"PUT",t,r,o,n)})}function rw(e,t,n,r){return Bn(this,void 0,void 0,function*(){return vi(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function rc(e,t,n,r,o){return Bn(this,void 0,void 0,function*(){return vi(e,"DELETE",t,r,o,n)})}var Me=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})},bx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ow={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},oc=class{constructor(t,n={},r,o){this.url=t,this.headers=n,this.bucketId=r,this.fetch=nc(o)}uploadOrUpdate(t,n,r,o){return Me(this,void 0,void 0,function*(){try{let i,s=Object.assign(Object.assign({},ow),o),a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)}),c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),o?.headers&&(a=Object.assign(Object.assign({},a),o.headers));let u=this._removeEmptyFolders(n),l=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${l}`,Object.assign({method:t,body:i,headers:a},s?.duplex?{duplex:s.duplex}:{})),h=yield d.json();return d.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(ie(i))return{data:null,error:i};throw i}})}upload(t,n,r){return Me(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,o){return Me(this,void 0,void 0,function*(){let i=this._removeEmptyFolders(t),s=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",n);try{let c,u=Object.assign({upsert:ow.upsert},o),l=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,l["cache-control"]=`max-age=${u.cacheControl}`,l["content-type"]=u.contentType);let d=yield this.fetch(a.toString(),{method:"PUT",body:c,headers:l}),h=yield d.json();return d.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(ie(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return Me(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),o=Object.assign({},this.headers);n?.upsert&&(o["x-upsert"]="true");let i=yield gt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),s=new URL(this.url+i.url),a=s.searchParams.get("token");if(!a)throw new zr("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:a},error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}})}update(t,n,r){return Me(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Me(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(ie(o))return{data:null,error:o};throw o}})}copy(t,n,r){return Me(this,void 0,void 0,function*(){try{return{data:{path:(yield gt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(ie(o))return{data:null,error:o};throw o}})}createSignedUrl(t,n,r){return Me(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t),i=yield gt(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(o){if(ie(o))return{data:null,error:o};throw o}})}createSignedUrls(t,n,r){return Me(this,void 0,void 0,function*(){try{let o=yield gt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(o){if(ie(o))return{data:null,error:o};throw o}})}download(t,n){return Me(this,void 0,void 0,function*(){let o=typeof n?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(n?.transform||{}),s=i?`?${i}`:"";try{let a=this._getFinalPath(t);return{data:yield(yield qr(this.fetch,`${this.url}/${o}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ie(a))return{data:null,error:a};throw a}})}info(t){return Me(this,void 0,void 0,function*(){let n=this._getFinalPath(t);try{let r=yield qr(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:tc(r),error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}})}exists(t){return Me(this,void 0,void 0,function*(){let n=this._getFinalPath(t);try{return yield rw(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ie(r)&&r instanceof Vn){let o=r.originalError;if([400,404].includes(o?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){let r=this._getFinalPath(t),o=[],i=n?.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&o.push(i);let a=typeof n?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(n?.transform||{});c!==""&&o.push(c);let u=o.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return Me(this,void 0,void 0,function*(){try{return{data:yield rc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}})}list(t,n,r){return Me(this,void 0,void 0,function*(){try{let o=Object.assign(Object.assign(Object.assign({},bx),n),{prefix:t||""});return{data:yield gt(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(ie(o))return{data:null,error:o};throw o}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){let n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}};var iw="2.7.1";var sw={"X-Client-Info":`storage-js/${iw}`};var Gr=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})},ic=class{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},sw),n),this.fetch=nc(r)}listBuckets(){return Gr(this,void 0,void 0,function*(){try{return{data:yield qr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ie(t))return{data:null,error:t};throw t}})}getBucket(t){return Gr(this,void 0,void 0,function*(){try{return{data:yield qr(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Gr(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Gr(this,void 0,void 0,function*(){try{return{data:yield nw(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Gr(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Gr(this,void 0,void 0,function*(){try{return{data:yield rc(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}})}};var wi=class extends ic{constructor(t,n={},r){super(t,n,r)}from(t){return new oc(this.url,this.headers,t,this.fetch)}};var aw="2.48.1";var Di="";typeof Deno<"u"?Di="deno":typeof document<"u"?Di="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Di="react-native":Di="node";var Ex={"X-Client-Info":`supabase-js-${Di}/${aw}`},cw={headers:Ex},uw={schema:"public"},lw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},dw={};jf();var Ix=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})},Cx=e=>{let t;return e?t=e:typeof fetch>"u"?t=Ff:t=fetch,(...n)=>t(...n)},Sx=()=>typeof Headers>"u"?Lf:Headers,fw=(e,t,n)=>{let r=Cx(n),o=Sx();return(i,s)=>Ix(void 0,void 0,void 0,function*(){var a;let c=(a=yield t())!==null&&a!==void 0?a:e,u=new o(s?.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},s),{headers:u}))})};var Tx=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};function hw(e){return e.replace(/\/$/,"")}function pw(e,t){let{db:n,auth:r,realtime:o,global:i}=e,{db:s,auth:a,realtime:c,global:u}=t,l={db:Object.assign(Object.assign({},s),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},c),o),global:Object.assign(Object.assign({},u),i),accessToken:()=>Tx(this,void 0,void 0,function*(){return""})};return e.accessToken?l.accessToken=e.accessToken:delete l.accessToken,l}function gw(e){return Math.round(Date.now()/1e3)+e}function mw(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}var at=()=>typeof document<"u",Hn={tested:!1,writable:!1},un=()=>{if(!at())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Hn.tested)return Hn.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Hn.tested=!0,Hn.writable=!0}catch{Hn.tested=!0,Hn.writable=!1}return Hn.writable};function sc(e){let t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,i)=>{t[i]=o})}catch{}return n.searchParams.forEach((r,o)=>{t[o]=r}),t}var ac=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>import("./chunk-MAQGHWLI.js").then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},yw=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ln=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},bi=async(e,t)=>{let n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},cc=async(e,t)=>{await e.removeItem(t)};function Mx(e){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="",r,o,i,s,a,c,u,l=0;for(e=e.replace("-","+").replace("_","/");l<e.length;)s=t.indexOf(e.charAt(l++)),a=t.indexOf(e.charAt(l++)),c=t.indexOf(e.charAt(l++)),u=t.indexOf(e.charAt(l++)),r=s<<2|a>>4,o=(a&15)<<4|c>>2,i=(c&3)<<6|u,n=n+String.fromCharCode(r),c!=64&&o!=0&&(n=n+String.fromCharCode(o)),u!=64&&i!=0&&(n=n+String.fromCharCode(i));return n}var _i=class e{constructor(){this.promise=new e.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}};_i.promiseConstructor=Promise;function Af(e){let t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");let r=n[1];return JSON.parse(Mx(r))}async function vw(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function ww(e,t){return new Promise((r,o)=>{(async()=>{for(let i=0;i<1/0;i++)try{let s=await e(i);if(!t(i,null,s)){r(s);return}}catch(s){if(!t(i,s)){o(s);return}}})()})}function xx(e){return("0"+e.toString(16)).substr(-2)}function zn(){let t=new Uint32Array(56);if(typeof crypto>"u"){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length,o="";for(let i=0;i<56;i++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(t),Array.from(t,xx).join("")}async function Ax(e){let n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(i=>String.fromCharCode(i)).join("")}function Nx(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qn(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;let n=await Ax(e);return Nx(n)}var Ei=class extends Error{constructor(t,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n}};function j(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}var uc=class extends Ei{constructor(t,n){super(t,n),this.name="AuthApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}};function Dw(e){return j(e)&&e.name==="AuthApiError"}var Wr=class extends Ei{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}},Bt=class extends Ei{constructor(t,n,r){super(t),this.name=n,this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}},Ht=class extends Bt{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}},Zr=class extends Bt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}},Gn=class extends Bt{constructor(t){super(t,"AuthInvalidCredentialsError",400)}},Wn=class extends Bt{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Ii=class extends Bt{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Qr=class extends Bt{constructor(t,n){super(t,"AuthRetryableFetchError",n)}};function dc(e){return j(e)&&e.name==="AuthRetryableFetchError"}var lc=class extends Bt{constructor(t,n,r){super(t,"AuthWeakPasswordError",n),this.reasons=r}};var Rx=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n},Yr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Ox=[502,503,504];async function _w(e){if(!yw(e))throw new Qr(Yr(e),0);if(Ox.includes(e.status))throw new Qr(Yr(e),e.status);let t;try{t=await e.json()}catch(n){throw new Wr(Yr(n),n)}throw typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)?new lc(Yr(t),e.status,t.weak_password.reasons):new uc(Yr(t),e.status||500)}var kx=(e,t,n,r)=>{let o={method:e,headers:t?.headers||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};async function $(e,t,n,r){var o;let i=Object.assign({},r?.headers);r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);let s=(o=r?.query)!==null&&o!==void 0?o:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await Px(e,t,n+a,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}}async function Px(e,t,n,r,o,i){let s=kx(t,r,o,i),a;try{a=await e(n,s)}catch(c){throw console.error(c),new Qr(Yr(c),0)}if(a.ok||await _w(a),r?.noResolveJson)return a;try{return await a.json()}catch(c){await _w(c)}}function dn(e){var t;let n=null;Fx(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=gw(e.expires_in)));let r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Nf(e){let t=dn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function mt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function bw(e){return{data:e,error:null}}function Ew(e){let{action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i}=e,s=Rx(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i},c=Object.assign({},s);return{data:{properties:a,user:c},error:null}}function Iw(e){return e}function Fx(e){return e.access_token&&e.refresh_token&&e.expires_in}var Lx=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n},Kr=class{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=ac(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await $(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(j(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await $(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:mt})}catch(r){if(j(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{let{options:n}=t,r=Lx(t,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r?.newEmail,delete o.newEmail),await $(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:Ew,redirectTo:n?.redirectTo})}catch(n){if(j(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await $(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:mt})}catch(n){if(j(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,o,i,s,a,c;try{let u={nextPage:null,lastPage:0,total:0},l=await $(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:Iw});if(l.error)throw l.error;let d=await l.json(),h=(s=l.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=l.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{let g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(p.split(";")[1].split("=")[1]);u[`${m}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(j(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await $(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:mt})}catch(n){if(j(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await $(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:mt})}catch(r){if(j(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await $(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:mt})}catch(r){if(j(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{let{data:n,error:r}=await $(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(j(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await $(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(j(n))return{data:null,error:n};throw n}}};var fc="2.61.0";var Cw="http://localhost:9999",Sw="supabase.auth.token";var Tw={"X-Client-Info":`gotrue-js/${fc}`},Rf=10;var Mw={getItem:e=>un()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{un()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{un()&&globalThis.localStorage.removeItem(e)}};function Of(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function xw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var jx={debug:!!(globalThis&&un()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},hc=class extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}};xw();var $x={url:Cw,storageKey:Sw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Tw,flowType:"implicit",debug:!1},Ci=30*1e3,Aw=3;async function Ux(e,t,n){return await n()}var kf=(()=>{class e{constructor(n){var r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=e.nextInstanceID,e.nextInstanceID+=1,this.instanceID>0&&at()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let o=Object.assign(Object.assign({},$x),n);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Kr({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=ac(o.fetch),this.lock=o.lock||Ux,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:un()?this.storage=Mw:(this.memoryStorage={},this.storage=Of(this.memoryStorage)):(this.memoryStorage={},this.storage=Of(this.memoryStorage)),at()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${fc}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{let n=at()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",n),n||this.detectSessionInUrl&&this._isImplicitGrantFlow()){let{data:r,error:o}=await this._getSessionFromURL(n);if(o)return this._debug("#_initialize()","error detecting session from URL",o),o?.message==="Identity is already linked"||o?.message==="Identity is already linked to another user"?{error:o}:(await this._removeSession(),{error:o});let{session:i,redirectType:s}=r;return this._debug("#_initialize()","detected session in URL",i,"redirect type",s),await this._saveSession(i),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return j(n)?{error:n}:{error:new Wr("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signUp(n){var r,o,i;try{await this._removeSession();let s;if("email"in n){let{email:d,password:h,options:f}=n,p=null,g=null;if(this.flowType==="pkce"){let m=zn();await ln(this.storage,`${this.storageKey}-code-verifier`,m),p=await qn(m),g=m===p?"plain":"s256"}s=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:h,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:p,code_challenge_method:g},xform:dn})}else if("phone"in n){let{phone:d,password:h,options:f}=n;s=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(o=f?.data)!==null&&o!==void 0?o:{},channel:(i=f?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:dn})}else throw new Gn("You must provide either an email or phone number and a password");let{data:a,error:c}=s;if(c||!a)return{data:{user:null,session:null},error:c};let u=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:l,session:u},error:null}}catch(s){if(j(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(n){try{await this._removeSession();let r;if("email"in n){let{email:s,password:a,options:c}=n;r=await $(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Nf})}else if("phone"in n){let{phone:s,password:a,options:c}=n;r=await $(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Nf})}else throw new Gn("You must provide either an email or phone number and a password");let{data:o,error:i}=r;return i?{data:{user:null,session:null},error:i}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new Zr}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:i})}catch(r){if(j(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(n){var r,o,i,s;return await this._removeSession(),await this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(o=n.options)===null||o===void 0?void 0:o.scopes,queryParams:(i=n.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=n.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async _exchangeCodeForSession(n){let r=await bi(this.storage,`${this.storageKey}-code-verifier`),[o,i]=(r??"").split("/"),{data:s,error:a}=await $(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:o},xform:dn});return await cc(this.storage,`${this.storageKey}-code-verifier`),a?{data:{user:null,session:null,redirectType:null},error:a}:!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Zr}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}async signInWithIdToken(n){await this._removeSession();try{let{options:r,provider:o,token:i,access_token:s,nonce:a}=n,c=await $(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:dn}),{data:u,error:l}=c;return l?{data:{user:null,session:null},error:l}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new Zr}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:l})}catch(r){if(j(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(n){var r,o,i,s,a;try{if(await this._removeSession(),"email"in n){let{email:c,options:u}=n,l=null,d=null;if(this.flowType==="pkce"){let f=zn();await ln(this.storage,`${this.storageKey}-code-verifier`,f),l=await qn(f),d=f===l?"plain":"s256"}let{error:h}=await $(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=u?.data)!==null&&r!==void 0?r:{},create_user:(o=u?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:l,code_challenge_method:d},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in n){let{phone:c,options:u}=n,{data:l,error:d}=await $(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(s=u?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(a=u?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:l?.message_id},error:d}}throw new Gn("You must provide either an email or phone number.")}catch(c){if(j(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(n){var r,o;try{n.type!=="email_change"&&n.type!=="phone_change"&&await this._removeSession();let i,s;"options"in n&&(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo,s=(o=n.options)===null||o===void 0?void 0:o.captchaToken);let{data:a,error:c}=await $(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:dn});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");let u=a.session,l=a.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:l,session:u},error:null}}catch(i){if(j(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(n){var r,o,i;try{await this._removeSession();let s=null,a=null;if(this.flowType==="pkce"){let c=zn();await ln(this.storage,`${this.storageKey}-code-verifier`,c),s=await qn(c),a=c===s?"plain":"s256"}return await $(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(o=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&o!==void 0?o:void 0}),!((i=n?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:bw})}catch(s){if(j(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{let{data:{session:r},error:o}=n;if(o)throw o;if(!r)throw new Ht;let{error:i}=await $(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(n){if(j(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{n.type!="email_change"&&n.type!="phone_change"&&await this._removeSession();let r=`${this.url}/resend`;if("email"in n){let{email:o,type:i,options:s}=n,{error:a}=await $(this.fetch,"POST",r,{headers:this.headers,body:{email:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in n){let{phone:o,type:i,options:s}=n,{data:a,error:c}=await $(this.fetch,"POST",r,{headers:this.headers,body:{phone:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:c}}throw new Gn("You must provide either an email or phone number and a type")}catch(r){if(j(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(n,r){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){let o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await o,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let o=r();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){let i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{let r=await this.__loadSession();return await n(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null,r=await bi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};let o=n.expires_at?n.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",n.expires_at),!o)return{data:{session:n},error:null};let{session:i,error:s}=await this._callRefreshToken(n.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await $(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:mt}):await this._useSession(async r=>{var o,i;let{data:s,error:a}=r;if(a)throw a;return await $(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0,xform:mt})})}catch(r){if(j(r))return{data:{user:null},error:r};throw r}}async updateUser(n,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,r))}async _updateUser(n,r={}){try{return await this._useSession(async o=>{let{data:i,error:s}=o;if(s)throw s;if(!i.session)throw new Ht;let a=i.session,c=null,u=null;if(this.flowType==="pkce"&&n.email!=null){let h=zn();await ln(this.storage,`${this.storageKey}-code-verifier`,h),c=await qn(h),u=h===c?"plain":"s256"}let{data:l,error:d}=await $(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:c,code_challenge_method:u}),jwt:a.access_token,xform:mt});if(d)throw d;return a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(o){if(j(o))return{data:{user:null},error:o};throw o}}_decodeJWT(n){return Af(n)}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Ht;let r=Date.now()/1e3,o=r,i=!0,s=null,a=Af(n.access_token);if(a.exp&&(o=a.exp,i=o<=r),i){let{session:c,error:u}=await this._callRefreshToken(n.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!c)return{data:{user:null,session:null},error:null};s=c}else{let{data:c,error:u}=await this._getUser(n.access_token);if(u)throw u;s={access_token:n.access_token,refresh_token:n.refresh_token,user:c.user,token_type:"bearer",expires_in:o-r,expires_at:o},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(j(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async r=>{var o;if(!n){let{data:a,error:c}=r;if(c)throw c;n=(o=a.session)!==null&&o!==void 0?o:void 0}if(!n?.refresh_token)throw new Ht;let{session:i,error:s}=await this._callRefreshToken(n.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(j(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(n){try{if(!at())throw new Wn("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new Wn("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!n)throw new Ii("Not a valid PKCE flow url.");let r=sc(window.location.href);if(n){if(!r.code)throw new Ii("No code detected.");let{data:I,error:B}=await this._exchangeCodeForSession(r.code);if(B)throw B;let x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:I.session,redirectType:null},error:null}}if(r.error||r.error_description||r.error_code)throw new Wn(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});let{provider_token:o,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:c,expires_at:u,token_type:l}=r;if(!s||!c||!a||!l)throw new Wn("No session defined in URL");let d=Math.round(Date.now()/1e3),h=parseInt(c),f=d+h;u&&(f=parseInt(u));let p=f-d;p*1e3<=Ci&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);let g=f-h;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",g,f,d);let{data:m,error:v}=await this._getUser(s);if(v)throw v;let C={provider_token:o,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:f,refresh_token:a,token_type:l,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:C,redirectType:r.type},error:null}}catch(r){if(j(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantFlow(){let n=sc(window.location.href);return!!(at()&&(n.access_token||n.error_description))}async _isPKCEFlow(){let n=sc(window.location.href),r=await bi(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async r=>{var o;let{data:i,error:s}=r;if(s)return{error:s};let a=(o=i.session)===null||o===void 0?void 0:o.access_token;if(a){let{error:c}=await this.admin.signOut(a,n);if(c&&!(Dw(c)&&(c.status===404||c.status===401)))return{error:c}}return n!=="others"&&(await this._removeSession(),await cc(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(n){let r=mw(),o={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:o}}}async _emitInitialSession(n){return await this._useSession(async r=>{var o,i;try{let{data:{session:s},error:a}=r;if(a)throw a;await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",n,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",s),console.error(s)}})}async resetPasswordForEmail(n,r={}){let o=null,i=null;if(this.flowType==="pkce"){let s=zn();await ln(this.storage,`${this.storageKey}-code-verifier`,`${s}/PASSWORD_RECOVERY`),o=await qn(s),i=s===o?"plain":"s256"}try{return await $(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:o,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(j(s))return{data:null,error:s};throw s}}async getUserIdentities(){var n;try{let{data:r,error:o}=await this.getUser();if(o)throw o;return{data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(r){if(j(r))return{data:null,error:r};throw r}}async linkIdentity(n){var r;try{let{data:o,error:i}=await this._useSession(async s=>{var a,c,u,l,d;let{data:h,error:f}=s;if(f)throw f;let p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(a=n.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=n.options)===null||c===void 0?void 0:c.scopes,queryParams:(u=n.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await $(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(l=h.session)===null||l===void 0?void 0:l.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return at()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:n.provider,url:o?.url},error:null}}catch(o){if(j(o))return{data:{provider:n.provider,url:null},error:o};throw o}}async unlinkIdentity(n){try{return await this._useSession(async r=>{var o,i;let{data:s,error:a}=r;if(a)throw a;return await $(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(i=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(j(r))return{data:null,error:r};throw r}}async _refreshAccessToken(n){let r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{let o=Date.now();return await ww(async i=>(await vw(i*200),this._debug(r,"refreshing attempt",i),await $(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:dn})),(i,s,a)=>a&&a.error&&dc(a.error)&&Date.now()+(i+1)*200-o<Ci)}catch(o){if(this._debug(r,"error",o),j(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(r,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,r){let o=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",o),at()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:n,url:o},error:null}}async _recoverAndRefresh(){var n;let r="#_recoverAndRefresh()";this._debug(r,"begin");try{let o=await bi(this.storage,this.storageKey);if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&await this._removeSession();return}let i=Math.round(Date.now()/1e3),s=((n=o.expires_at)!==null&&n!==void 0?n:1/0)<i+Rf;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Rf}s`),s){if(this.autoRefreshToken&&o.refresh_token){let{error:a}=await this._callRefreshToken(o.refresh_token);a&&(console.error(a),dc(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}}async _callRefreshToken(n){var r,o;if(!n)throw new Ht;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let i=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new _i;let{data:s,error:a}=await this._refreshAccessToken(n);if(a)throw a;if(!s.session)throw new Ht;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let c={session:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(i,"error",s),j(s)){let a={session:null,error:s};return dc(s)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(n,r,o=!0){let i=`#_notifyAllSubscribers(${n})`;this._debug(i,"begin",r,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:n,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(n,r)}catch(u){s.push(u)}});if(await Promise.all(a),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),await ln(this.storage,this.storageKey,n)}async _removeSession(){this._debug("#_removeSession()"),await cc(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&at()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let n=setInterval(()=>this._autoRefreshTokenTick(),Ci);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let n=Date.now();try{return await this._useSession(async r=>{let{data:{session:o}}=r;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let i=Math.floor((o.expires_at*1e3-n)/Ci);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ci}ms, refresh threshold is ${Aw} ticks`),i<=Aw&&await this._callRefreshToken(o.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof hc)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!at()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){let r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,r,o){let i=[`provider=${encodeURIComponent(r)}`];if(o?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&i.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){let s=zn();await ln(this.storage,`${this.storageKey}-code-verifier`,s);let a=await qn(s),c=s===a?"plain":"s256";this._debug("PKCE","code verifier",`${s.substring(0,5)}...`,"code challenge",a,"method",c);let u=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(c)}`});i.push(u.toString())}if(o?.queryParams){let s=new URLSearchParams(o.queryParams);i.push(s.toString())}return o?.skipBrowserRedirect&&i.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${n}?${i.join("&")}`}async _unenroll(n){try{return await this._useSession(async r=>{var o;let{data:i,error:s}=r;return s?{data:null,error:s}:await $(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})})}catch(r){if(j(r))return{data:null,error:r};throw r}}async _enroll(n){try{return await this._useSession(async r=>{var o,i;let{data:s,error:a}=r;if(a)return{data:null,error:a};let{data:c,error:u}=await $(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:n.friendlyName,factor_type:n.factorType,issuer:n.issuer},headers:this.headers,jwt:(o=s?.session)===null||o===void 0?void 0:o.access_token});return u?{data:null,error:u}:(!((i=c?.totp)===null||i===void 0)&&i.qr_code&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(j(r))return{data:null,error:r};throw r}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var o;let{data:i,error:s}=r;if(s)return{data:null,error:s};let{data:a,error:c}=await $(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:c})})}catch(r){if(j(r))return{data:null,error:r};throw r}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var o;let{data:i,error:s}=r;return s?{data:null,error:s}:await $(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})})}catch(r){if(j(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(n){let{data:r,error:o}=await this._challenge({factorId:n.factorId});return o?{data:null,error:o}:await this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})}async _listFactors(){let{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};let o=n?.factors||[],i=o.filter(s=>s.factor_type==="totp"&&s.status==="verified");return{data:{all:o,totp:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async n=>{var r,o;let{data:{session:i},error:s}=n;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let a=this._decodeJWT(i.access_token),c=null;a.aal&&(c=a.aal);let u=c;((o=(r=i.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(u="aal2");let d=a.amr||[];return{data:{currentLevel:c,nextLevel:u,currentAuthenticationMethods:d},error:null}}))}}return e.nextInstanceID=0,e})();var Vx=kf,Pf=Vx;var pc=class extends Pf{constructor(t){super(t)}};var Bx=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})},Zn=class{constructor(t,n,r){var o,i,s;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");let a=hw(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;let c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:uw,realtime:dw,auth:Object.assign(Object.assign({},lw),{storageKey:c}),global:cw},l=pw(r??{},u);this.storageKey=(o=l.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=l.auth)!==null&&s!==void 0?s:{},this.headers,l.global.fetch),this.fetch=fw(n,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.rest=new Qv(`${a}/rest/v1`,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),l.accessToken||this._listenForAuthEvents()}get functions(){return new ci(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new wi(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Bx(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:o,storageKey:i,flowType:s,lock:a,debug:c},u,l){let d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new pc({url:this.authUrl,headers:Object.assign(Object.assign({},d),u),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:o,flowType:s,lock:a,debug:c,fetch:l,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new yi(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var Nw=(e,t,n)=>new Zn(e,t,n);var Jr={API_URL:"https://hhlmyboggdvcltkzuysq.supabase.co",FUNC_URL:"https://hhlmyboggdvcltkzuysq.supabase.co",anon_key:"sb_publishable_4YshFrUFhfECpdsa3IvIaQ_Zfo8_PBl",supabase_LocalStorage_key:"sb-hhlmyboggdvcltkzuysq-auth-token",url:"https://app.tradingrehab.io"};var Xr=class e{constructor(t){this.platformId=t;this.supabase=Nw(Jr.API_URL,Jr.anon_key,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),this.loadSession(),this.supabase.auth.onAuthStateChange((n,r)=>{this.session.set(r),this.user.set(r?.user??null),this.updateSignalsFromSession(r)})}supabase;session=ze(null);user=ze(null);currentUsername=ze(null);sessionLoading=ze(!0);async loadSession(){try{let{data:t,error:n}=await this.supabase.auth.getSession();n&&console.error("Error getting session:",n.message),this.session.set(t.session),this.user.set(t.session?.user??null)}catch(t){console.error("Error loading Supabase session",t),this.session.set(null),this.user.set(null)}finally{this.sessionLoading.set(!1)}}updateSignalsFromSession(t){if(t&&t.user){this.user.set(t.user);let n=t.user?.identities?.[0]?.identity_data?.firstname||null;this.currentUsername.set(n)}else this.user.set(null),this.currentUsername.set(null)}loginStatus(){return!this.sessionLoading()&&!!this.session()}GetClient(){return this.supabase}static \u0275fac=function(n){return new(n||e)(E(ft))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})};var gc=class e{table="tradesjournal";sb=y(Xr).GetClient();async listByState(t){let{data:n,error:r}=await this.sb.from(this.table).select("*").eq("trade_state",t).order("created_at",{ascending:!1}).order("trade_id",{ascending:!1}).limit(50);if(r)throw r;return n??[]}async insertPlanned(t){let{data:n,error:r}=await this.sb.from(this.table).insert(t).select("*").single();if(r)throw r;return n}async markExecuted(t,n){let r={actual_entry_price:n.actual_entry_price,actual_stop_loss:n.actual_stop_loss,actual_take_profit:n.actual_take_profit,actual_lot_size:n.actual_lot_size,actual_entry_date:new Date().toISOString(),trade_state:"EXECUTING",updated_at:new Date().toISOString()},{data:o,error:i}=await this.sb.from(this.table).update(r).eq("trade_id",t).select("*").single();if(i)throw i;return o}async completeAndApply(t,n){let r={exit_price:n.exit_price,broker_fees:n.broker_fees,trade_outcome:n.outcome,emotional_after_state:n.emotion_after,confidence_after_level:n.conf_after,trade_notes:n.notes??null,lesson_learned:n.lessons??null,points_to_improve:n.improve??null,exit_date:new Date().toISOString(),trade_state:"COMPLETED",updated_at:new Date().toISOString()},{data:o,error:i}=await this.sb.from(this.table).update(r).eq("trade_id",t).select("*").single();if(i)throw i;return{updated_trade:o}}async remove(t){let{error:n}=await this.sb.from(this.table).delete().eq("trade_id",t);if(n)throw n}async updatePlanned(t,n){let{data:r,error:o}=await this.sb.from(this.table).update(H(w({},n),{updated_at:new Date().toISOString()})).eq("trade_id",t).select("*").single();if(o)throw o;return r}async updateExecuting(t,n){let{data:r,error:o}=await this.sb.from(this.table).update(H(w({},n),{updated_at:new Date().toISOString()})).eq("trade_id",t).select("*").single();if(o)throw o;return r}async getById(t){let{data:n,error:r}=await this.sb.from(this.table).select("*").eq("trade_id",t).single();if(r)throw r;return n}async listByStatePaged(t,n,r){let o=this.sb.from(this.table).select("*").eq("trade_state",t).order("created_at",{ascending:!1}).order("trade_id",{ascending:!1}).limit(n);if(r){let a=encodeURIComponent(r.created_at),c=encodeURIComponent(r.trade_id);o=o.or(`and(created_at.lt.${a}),and(created_at.eq.${a},trade_id.lt.${c})`)}let{data:i,error:s}=await o;if(s)throw s;return i??[]}async listByDateRange(t,n,r){let o=t==="COMPLETED"?"exit_date":"created_at",i=new Date(r),s=new Date(i.getTime()+24*60*60*1e3-1).toISOString(),{data:a,error:c}=await this.sb.from(this.table).select("*").eq("trade_state",t).gte(o,new Date(n).toISOString()).lte(o,s).order(o,{ascending:!1}).order("trade_id",{ascending:!1});if(c)throw c;return a??[]}async bulkInsert(t){if(!t?.length)return[];t.length>100&&(t=t.slice(0,100));let{data:n,error:r}=await this.sb.from(this.table).insert(t).select("*");if(r)throw r;return n??[]}static \u0275fac=function(n){return new(n||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})};function yU(e){let t=d=>{if(d==null||d==="")return null;let h=Number(d);return Number.isFinite(h)?h:null},n=d=>{let h=t(d);return h===null?null:Math.trunc(h)},r=d=>d==null?null:Math.max(1,Math.min(10,Math.trunc(d))),o=d=>d==null||d===""?null:String(d),i=d=>String(d??"").trim().toUpperCase()==="SHORT"?"SHORT":"LONG",s=d=>{let h=String(d??"").trim().toUpperCase();return h==="PLANNED"||h==="EXECUTING"||h==="COMPLETED"?h:void 0},a=d=>d==null||d===""?null:Array.isArray(d)?d.map(String):String(d).split(/[;,]/).map(h=>h.trim()).filter(Boolean),c=d=>{if(d==null||d==="")return null;if(d instanceof Date)return d.toISOString();if(typeof d=="number"&&window?.XLSX?.SSF?.parse_date_code){let f=window.XLSX.SSF.parse_date_code(d);return f?new Date(Date.UTC(f.y,(f.m??1)-1,f.d??1,f.H||0,f.M||0,f.S||0)).toISOString():null}let h=Date.parse(String(d));return isNaN(h)?null:new Date(h).toISOString()},u=d=>{if(d==null||d==="")return null;if(typeof d=="object")return d;try{return JSON.parse(String(d))}catch{return null}};return{account_id:o(e.account_id),symbol:String(e.symbol??"").trim()||"UNKNOWN",direction:i(e.direction),strategy_name:o(e.strategy_name),tags:a(e.tags),planned_entry_price:t(e.planned_entry_price),planned_stop_loss:t(e.planned_stop_loss),planned_take_profit:t(e.planned_take_profit),planned_lot_size:t(e.planned_lot_size),planned_risk_amount:t(e.planned_risk_amount),planned_risk_percentage:t(e.planned_risk_percentage),actual_entry_price:t(e.actual_entry_price),actual_stop_loss:t(e.actual_stop_loss),actual_take_profit:t(e.actual_take_profit),actual_entry_date:c(e.actual_entry_date),actual_lot_size:t(e.actual_lot_size),exit_price:t(e.exit_price),exit_date:c(e.exit_date),broker_fees:t(e.broker_fees),realized_pnl:t(e.realized_pnl),trade_outcome:o(e.trade_outcome),entry_criteria:o(e.entry_criteria),chart_analysis:u(e.chart_analysis),emotional_before_state:o(e.emotional_before_state),confidence_before_level:r(n(e.confidence_before_level)),emotional_before_potential_bias:o(e.emotional_before_potential_bias),emotional_after_state:o(e.emotional_after_state),confidence_after_level:r(n(e.confidence_after_level)),emotional_after_potential_bias:o(e.emotional_after_potential_bias),trade_notes:o(e.trade_notes),lesson_learned:o(e.lesson_learned),points_to_improve:o(e.points_to_improve),trade_state:s(e.trade_state),additional_notes:o(e.additional_notes)}}var mc=class e{rows=ze([]);setRows(t){this.rows.set(t)}upsert(t){let n=this.rows(),r=n.findIndex(o=>o.trade_id===t.trade_id);r>=0?n[r]=t:n.unshift(t),this.rows.set([...n])}remove(t){this.rows.set(this.rows().filter(n=>n.trade_id!==t))}upsertMany(t){if(!t?.length)return;let n=new Map(this.rows().map(o=>[o.trade_id,o]));for(let o of t)n.set(o.trade_id,o);let r=Array.from(n.values()).sort((o,i)=>(i.created_at??"").localeCompare(o.created_at??"")||i.trade_id.localeCompare(o.trade_id));this.rows.set(r)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})};var yc=class e{accounts=ze([]);upsert(t){let n=this.accounts(),r=n.findIndex(o=>o.account_id===t.account_id);r>=0?n[r]=t:n.unshift(t),this.accounts.set([...n])}setAll(t){this.accounts.set(t)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})};var vc=class e{sb=y(Xr).GetClient();async listMine(){let{data:t,error:n}=await this.sb.from("tradeaccount").select("*").order("created_at",{ascending:!1});if(n)throw n;return t}static \u0275fac=function(n){return new(n||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})};var wc=class e{supabaseFunctionClient;constructor(){this.supabaseFunctionClient=new Zn(Jr.FUNC_URL,Jr.anon_key,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}})}async callEdgeFunction(t,n){let{data:r,error:o}=await this.supabaseFunctionClient.functions.invoke(t,{body:n});return{data:r,error:o}}static \u0275fac=function(n){return new(n||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})};var Rw=class e{tradesStore=y(mc);accountsStore=y(yc);tradeApi=y(gc);tradeAccountsApi=y(vc);supabaseFunction=y(wc);loading=ze(!1);error=ze(null);get tradesSig(){return this.tradesStore.rows}get trades(){return this.tradesStore.rows()}get accounts(){return this.accountsStore.accounts}async wrap(t){this.loading.set(!0),this.error.set(null);try{return await t()}catch(n){let r=n?.message??JSON.stringify(n);console.error("[TradesFacade]",r,n),this.error.set(r);return}finally{this.loading.set(!1)}}async loadTab(t){await this.wrap(async()=>{let n=await this.tradeApi.listByState(t);this.tradesStore.setRows(n)})}async loadAccounts(){await this.wrap(async()=>{let t=await this.tradeAccountsApi.listMine();this.accountsStore.setAll(t)})}async createPlanned(t){await this.wrap(async()=>{let n=await this.tradeApi.insertPlanned(t);this.tradesStore.upsert(n)})}async markExecuted(t,n){await this.wrap(async()=>{let r=await this.tradeApi.markExecuted(t,n);this.tradesStore.upsert(r),this.resetCacheForState(r.trade_state)})}async completeAndApply(t,n){await this.wrap(async()=>{let r=await this.tradeApi.completeAndApply(t,n);this.tradesStore.upsert(r.updated_trade),r.updated_account&&this.accountsStore.upsert(r.updated_account),this.resetCacheForState("EXECUTING"),this.resetCacheForState("COMPLETED")})}async remove(t){await this.wrap(async()=>{await this.tradeApi.remove(t),this.tradesStore.remove(t),this.resetAllCaches()})}async updatePlanned(t,n){await this.wrap(async()=>{let r=await this.tradeApi.updatePlanned(t,n);this.tradesStore.upsert(r),this.resetCacheForState("PLANNED")})}async updateExecuting(t,n){await this.wrap(async()=>{let r=await this.tradeApi.updateExecuting(t,n);this.tradesStore.upsert(r),this.resetCacheForState("EXECUTING")})}async getTradeById(t){return await this.wrap(async()=>await this.tradeApi.getById(t))}async analyzeChart(t){return await this.wrap(async()=>{let r={image_base64:await this.fileToBase64(t),filename:t.name,mimetype:t.type,expected_schema:"pretrade.v1"},{data:o,error:i}=await this.supabaseFunction.callEdgeFunction("trade-chart-extraction-gemini",r);if(i)throw new Error(i?.message??"Edge function failed");let s=typeof o=="string"?JSON.parse(o):o;return this.normalizeAi(s)})??null}async fileToBase64(t){let n=await t.arrayBuffer(),r=new Uint8Array(n),o="";for(let i=0;i<r.length;i++)o+=String.fromCharCode(r[i]);return`data:${t.type};base64,${btoa(o)}`}normalizeAi(t){if(typeof t=="string")try{t=JSON.parse(t)}catch{t={}}let n=a=>a==null?null:Number.isFinite(Number(a))?Number(a):null,r=a=>a==null?null:String(a),o=a=>a==="LONG"||a==="SHORT"?a:null,i=Array.isArray(t?.tags)?t.tags.map(a=>String(a).toLowerCase().trim()).filter(Boolean).slice(0,8):[],s={is_relevant:!!t?.is_relevant,confidence:Math.max(0,Math.min(1,Number(t?.confidence??0))),symbol:r(t?.symbol),direction:o(t?.direction),planned_entry_price:n(t?.planned_entry_price),planned_stop_loss:n(t?.planned_stop_loss),planned_take_profit:n(t?.planned_take_profit),planned_lot_size:n(t?.planned_lot_size),planned_risk_percentage:n(t?.planned_risk_percentage),planned_risk_amount:n(t?.planned_risk_amount),strategy_name:r(t?.strategy_name),tags:i,entry_criteria:String(t?.entry_criteria??"")};return s.is_relevant?s:{is_relevant:!1,confidence:s.confidence??0,symbol:null,direction:null,planned_entry_price:null,planned_stop_loss:null,planned_take_profit:null,planned_lot_size:null,planned_risk_percentage:null,planned_risk_amount:null,strategy_name:null,tags:[],entry_criteria:""}}PAGE_SIZE=20;pageCache={PLANNED:[],EXECUTING:[],COMPLETED:[]};resetCacheForState(t){this.pageCache[t]=[]}resetAllCaches(){this.pageCache={PLANNED:[],EXECUTING:[],COMPLETED:[]}}async loadTabPage(t,n=!1){if(n&&this.resetCacheForState(t),this.pageCache[t][0]){this.tradesStore.setRows(this.pageCache[t][0].rows);return}await this.wrap(async()=>{let r=await this.tradeApi.listByStatePaged(t,this.PAGE_SIZE+1,null),{page:o,nextCursor:i}=this.splitToPage(r);this.pageCache[t][0]={rows:o,nextCursor:i},this.tradesStore.setRows(o)})}async ensurePageLoaded(t,n){if(this.pageCache[t][n])return!0;let r=this.pageCache[t][n-1];if(!r||!r.nextCursor)return!1;let o=await this.wrap(async()=>await this.tradeApi.listByStatePaged(t,this.PAGE_SIZE+1,r.nextCursor));if(!o)return!1;let{page:i,nextCursor:s}=this.splitToPage(o);return this.pageCache[t][n]={rows:i,nextCursor:s},!0}pagedRows(t,n){return this.pageCache[t][n]?.rows??[]}reflectPageToStore(t,n){let r=this.pageCache[t][n]?.rows??[];this.tradesStore.setRows(r)}hasNextPage(t,n){return!!this.pageCache[t][n]?.nextCursor}splitToPage(t){let n=t.length>this.PAGE_SIZE,r=t.slice(0,this.PAGE_SIZE),o=n?t[this.PAGE_SIZE-1]:t[t.length-1],i=n&&o?{created_at:String(o.created_at),trade_id:String(o.trade_id)}:null;return{page:r,nextCursor:i}}async fetchRangeForExport(t,n,r){return await this.wrap(async()=>await this.tradeApi.listByDateRange(t,n,r))??[]}async importMany(t){let n=await this.tradeApi.bulkInsert(t);this.tradesStore.upsertMany(n)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})};export{K as a,V as b,te as c,ee as d,T as e,or as f,nD as g,R as h,ns as i,ir as j,dD as k,qt as l,fD as m,vt as n,yn as o,pD as p,gD as q,Uc as r,Ee as s,Vc as t,ce as u,_ as v,yp as w,D as x,bo as y,b as z,E as A,y as B,Qs as C,lF as D,dF as E,_l as F,$h as G,Ae as H,ne as I,It as J,Rt as K,tn as L,ze as M,ft as N,fF as O,Tl as P,ht as Q,Ob as R,hF as S,pF as T,Z as U,Dr as V,Mo as W,Rm as X,xo as Y,Pt as Z,LI as _,Gl as $,WI as aa,Ao as ba,Um as ca,Ql as da,hC as ea,qm as fa,pC as ga,vF as ha,Km as ia,Jm as ja,Yl as ka,MC as la,xC as ma,wF as na,Kl as oa,DF as pa,_F as qa,bF as ra,EF as sa,UC as ta,VC as ua,IF as va,CF as wa,zC as xa,ey as ya,qC as za,GC as Aa,SF as Ba,WC as Ca,TF as Da,MF as Ea,xF as Fa,AF as Ga,NF as Ha,RF as Ia,OF as Ja,kF as Ka,PF as La,Tr as Ma,Ro as Na,FF as Oa,hS as Pa,DS as Qa,Mr as Ra,we as Sa,aL as Ta,cL as Ua,uL as Va,sT as Wa,lL as Xa,dL as Ya,fL as Za,fT as _a,hL as $a,DT as ab,ML as bb,xL as cb,AL as db,Gy as eb,YL as fb,n0 as gb,$n as hb,P0 as ib,ff as jb,E1 as kb,I1 as lb,Jr as mb,Xr as nb,wc as ob,yU as pb,Rw as qb};
