import{b as K0,c as Z0,f as XD,g as Y0}from"./chunk-65CJINC2.js";import{a as k,b as W,c as Wo,e as Or,g as YD,h as JD}from"./chunk-VOSPIT4N.js";var bv=Or(gv=>{"use strict";Object.defineProperty(gv,"__esModule",{value:!0});var hv=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};gv.default=hv});var _v=Or(Bl=>{"use strict";var C1=Bl&&Bl.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Bl,"__esModule",{value:!0});var G2=C1((Y0(),JD(XD))),W2=C1(bv()),vv=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=G2.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=Object.assign({},this.headers),this.headers[t]=e,this}then(t,e){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var s,a,l;let u=null,m=null,p=null,v=o.status,g=o.statusText;if(o.ok){if(this.method!=="HEAD"){let A=await o.text();A===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?m=A:m=JSON.parse(A))}let C=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),S=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");C&&S&&S.length>1&&(p=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(u={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,p=null,v=406,g="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{let C=await o.text();try{u=JSON.parse(C),Array.isArray(u)&&o.status===404&&(m=[],u=null,v=200,g="OK")}catch{o.status===404&&C===""?(v=204,g="No Content"):u={message:C}}if(u&&this.isMaybeSingle&&(!((l=u?.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,v=200,g="OK"),u&&this.shouldThrowOnError)throw new W2.default(u)}return{error:u,data:m,count:p,status:v,statusText:g}});return this.shouldThrowOnError||(i=i.catch(o=>{var s,a,l;return{error:{message:`${(s=o?.name)!==null&&s!==void 0?s:"FetchError"}: ${o?.message}`,details:`${(a=o?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=o?.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}};Bl.default=vv});var wv=Or(Ul=>{"use strict";var Q2=Ul&&Ul.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ul,"__esModule",{value:!0});var K2=Q2(_v()),yv=class extends K2.default{select(t){let e=!1,r=(t??"*").split("").map(i=>/\s/.test(i)&&!e?"":(i==='"'&&(e=!e),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){let s=o?`${o}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){let i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:i=r}={}){let o=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(s,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){var a;let l=[t?"analyze":null,e?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${u}"; options=${l};`,s==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ul.default=yv});var wf=Or($l=>{"use strict";var Z2=$l&&$l.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty($l,"__esModule",{value:!0});var Y2=Z2(wv()),Cv=class extends Y2.default{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}in(t,e){let r=Array.from(new Set(e)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${s}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){let i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}};$l.default=Cv});var xv=Or(Hl=>{"use strict";var J2=Hl&&Hl.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Hl,"__esModule",{value:!0});var zl=J2(wf()),Ev=class{constructor(t,{headers:e={},schema:r,fetch:i}){this.url=t,this.headers=e,this.schema=r,this.fetch=i}select(t,{head:e=!1,count:r}={}){let i=e?"HEAD":"GET",o=!1,s=(t??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new zl.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:e,defaultToNull:r=!0}={}){let i="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),e&&o.push(`count=${e}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){let s=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(s.length>0){let a=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new zl.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){let s="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(e!==void 0&&this.url.searchParams.set("on_conflict",e),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){let l=t.reduce((u,m)=>u.concat(Object.keys(m)),[]);if(l.length>0){let u=[...new Set(l)].map(m=>`"${m}"`);this.url.searchParams.set("columns",u.join(","))}}return new zl.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:e}={}){let r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),e&&i.push(`count=${e}`),this.headers.Prefer=i.join(","),new zl.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){let e="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new zl.default({method:e,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Hl.default=Ev});var E1=Or(Cf=>{"use strict";Object.defineProperty(Cf,"__esModule",{value:!0});Cf.version=void 0;Cf.version="0.0.0-automated"});var x1=Or(Ef=>{"use strict";Object.defineProperty(Ef,"__esModule",{value:!0});Ef.DEFAULT_HEADERS=void 0;var X2=E1();Ef.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${X2.version}`}});var D1=Or(ql=>{"use strict";var S1=ql&&ql.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ql,"__esModule",{value:!0});var eL=S1(xv()),tL=S1(wf()),nL=x1(),Sv=class n{constructor(t,{headers:e={},schema:r,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},nL.DEFAULT_HEADERS),e),this.schemaName=r,this.fetch=i}from(t){let e=new URL(`${this.url}/${t}`);return new eL.default(e,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new n(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,e={},{head:r=!1,get:i=!1,count:o}={}){let s,a=new URL(`${this.url}/rpc/${t}`),l;r||i?(s=r?"HEAD":"GET",Object.entries(e).filter(([m,p])=>p!==void 0).map(([m,p])=>[m,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([m,p])=>{a.searchParams.append(m,p)})):(s="POST",l=e);let u=Object.assign({},this.headers);return o&&(u.Prefer=`count=${o}`),new tL.default({method:s,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};ql.default=Sv});var O1=Or(It=>{"use strict";var Ws=It&&It.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(It,"__esModule",{value:!0});It.PostgrestError=It.PostgrestBuilder=It.PostgrestTransformBuilder=It.PostgrestFilterBuilder=It.PostgrestQueryBuilder=It.PostgrestClient=void 0;var I1=Ws(D1());It.PostgrestClient=I1.default;var T1=Ws(xv());It.PostgrestQueryBuilder=T1.default;var M1=Ws(wf());It.PostgrestFilterBuilder=M1.default;var A1=Ws(wv());It.PostgrestTransformBuilder=A1.default;var k1=Ws(_v());It.PostgrestBuilder=k1.default;var P1=Ws(bv());It.PostgrestError=P1.default;It.default={PostgrestClient:I1.default,PostgrestQueryBuilder:T1.default,PostgrestFilterBuilder:M1.default,PostgrestTransformBuilder:A1.default,PostgrestBuilder:k1.default,PostgrestError:P1.default}});function X0(n,t){return Object.is(n,t)}var dt=null,Ea=!1,rp=1,tn=Symbol("SIGNAL");function ge(n){let t=dt;return dt=n,t}function e_(){return dt}function eI(){return Ea}var Gi={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Cc(n){if(Ea)throw new Error("");if(dt===null)return;dt.consumerOnSignalRead(n);let t=dt.nextProducerIndex++;if(xc(dt),t<dt.producerNode.length&&dt.producerNode[t]!==n&&xa(dt)){let e=dt.producerNode[t];Ec(e,dt.producerIndexOfThis[t])}dt.producerNode[t]!==n&&(dt.producerNode[t]=n,dt.producerIndexOfThis[t]=xa(dt)?o_(n,dt,t):0),dt.producerLastReadVersion[t]=n.version}function tI(){rp++}function t_(n){if(!(xa(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===rp)){if(!n.producerMustRecompute(n)&&!Da(n)){J0(n);return}n.producerRecomputeValue(n),J0(n)}}function n_(n){if(n.liveConsumerNode===void 0)return;let t=Ea;Ea=!0;try{for(let e of n.liveConsumerNode)e.dirty||i_(e)}finally{Ea=t}}function r_(){return dt?.consumerAllowSignalWrites!==!1}function i_(n){n.dirty=!0,n_(n),n.consumerMarkedDirty?.(n)}function J0(n){n.dirty=!1,n.lastCleanEpoch=rp}function Qo(n){return n&&(n.nextProducerIndex=0),ge(n)}function Sa(n,t){if(ge(t),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(xa(n))for(let e=n.nextProducerIndex;e<n.producerNode.length;e++)Ec(n.producerNode[e],n.producerIndexOfThis[e]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Da(n){xc(n);for(let t=0;t<n.producerNode.length;t++){let e=n.producerNode[t],r=n.producerLastReadVersion[t];if(r!==e.version||(t_(e),r!==e.version))return!0}return!1}function Ko(n){if(xc(n),xa(n))for(let t=0;t<n.producerNode.length;t++)Ec(n.producerNode[t],n.producerIndexOfThis[t]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function o_(n,t,e){if(s_(n),n.liveConsumerNode.length===0&&a_(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=o_(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(e),n.liveConsumerNode.push(t)-1}function Ec(n,t){if(s_(n),n.liveConsumerNode.length===1&&a_(n))for(let r=0;r<n.producerNode.length;r++)Ec(n.producerNode[r],n.producerIndexOfThis[r]);let e=n.liveConsumerNode.length-1;if(n.liveConsumerNode[t]=n.liveConsumerNode[e],n.liveConsumerIndexOfThis[t]=n.liveConsumerIndexOfThis[e],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,t<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[t],i=n.liveConsumerNode[t];xc(i),i.producerIndexOfThis[r]=t}}function xa(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function xc(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function s_(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function a_(n){return n.producerNode!==void 0}function l_(n){let t=Object.create(nI);t.computation=n;let e=()=>{if(t_(t),Cc(t),t.value===wc)throw t.error;return t.value};return e[tn]=t,e}var ep=Symbol("UNSET"),tp=Symbol("COMPUTING"),wc=Symbol("ERRORED"),nI=W(k({},Gi),{value:ep,dirty:!0,error:null,equal:X0,kind:"computed",producerMustRecompute(n){return n.value===ep||n.value===tp},producerRecomputeValue(n){if(n.value===tp)throw new Error("Detected cycle in computations.");let t=n.value;n.value=tp;let e=Qo(n),r,i=!1;try{r=n.computation(),ge(null),i=t!==ep&&t!==wc&&r!==wc&&n.equal(t,r)}catch(o){r=wc,n.error=o}finally{Sa(n,e)}if(i){n.value=t;return}n.value=r,n.version++}});function rI(){throw new Error}var c_=rI;function d_(){c_()}function u_(n){c_=n}var iI=null;function f_(n){let t=Object.create(ip);t.value=n;let e=()=>(Cc(t),t.value);return e[tn]=t,e}function Sc(n,t){r_()||d_(),n.equal(n.value,t)||(n.value=t,oI(n))}function m_(n,t){r_()||d_(),Sc(n,t(n.value))}var ip=W(k({},Gi),{equal:X0,value:void 0,kind:"signal"});function oI(n){n.version++,tI(),n_(n),iI?.()}function p_(n,t,e){let r=Object.create(sI);e&&(r.consumerAllowSignalWrites=!0),r.fn=n,r.schedule=t;let i=l=>{r.cleanupFn=l};function o(l){return l.fn===null&&l.schedule===null}function s(l){o(l)||(Ko(l),l.cleanupFn(),l.fn=null,l.schedule=null,l.cleanupFn=np)}let a=()=>{if(r.fn===null)return;if(eI())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!Da(r))return;r.hasRun=!0;let l=Qo(r);try{r.cleanupFn(),r.cleanupFn=np,r.fn(i)}finally{Sa(r,l)}};return r.ref={notify:()=>i_(r),run:a,cleanup:()=>r.cleanupFn(),destroy:()=>s(r),[tn]:r},r.ref}var np=()=>{},sI=W(k({},Gi),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule!==null&&n.schedule(n.ref)},hasRun:!1,cleanupFn:np});function le(n){return typeof n=="function"}function Zo(n){let e=n(r=>{Error.call(r),r.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var Dc=Zo(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function Wi(n,t){if(n){let e=n.indexOf(t);0<=e&&n.splice(e,1)}}var Ee=class n{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let o of e)o.remove(this);else e.remove(this);let{initialTeardown:r}=this;if(le(r))try{r()}catch(o){t=o instanceof Dc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{h_(o)}catch(s){t=t??[],s instanceof Dc?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Dc(t)}}add(t){var e;if(t&&t!==this)if(this.closed)h_(t);else{if(t instanceof n){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(t)}}_hasParent(t){let{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){let{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&Wi(e,t)}remove(t){let{_finalizers:e}=this;e&&Wi(e,t),t instanceof n&&t._removeParent(this)}};Ee.EMPTY=(()=>{let n=new Ee;return n.closed=!0,n})();var op=Ee.EMPTY;function Ic(n){return n instanceof Ee||n&&"closed"in n&&le(n.remove)&&le(n.add)&&le(n.unsubscribe)}function h_(n){le(n)?n():n.unsubscribe()}var Kn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Yo={setTimeout(n,t,...e){let{delegate:r}=Yo;return r?.setTimeout?r.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){let{delegate:t}=Yo;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Tc(n){Yo.setTimeout(()=>{let{onUnhandledError:t}=Kn;if(t)t(n);else throw n})}function Ia(){}var g_=sp("C",void 0,void 0);function b_(n){return sp("E",void 0,n)}function v_(n){return sp("N",n,void 0)}function sp(n,t,e){return{kind:n,value:t,error:e}}var Qi=null;function Jo(n){if(Kn.useDeprecatedSynchronousErrorHandling){let t=!Qi;if(t&&(Qi={errorThrown:!1,error:null}),n(),t){let{errorThrown:e,error:r}=Qi;if(Qi=null,e)throw r}}else n()}function __(n){Kn.useDeprecatedSynchronousErrorHandling&&Qi&&(Qi.errorThrown=!0,Qi.error=n)}var Ki=class extends Ee{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Ic(t)&&t.add(this)):this.destination=cI}static create(t,e,r){return new Rr(t,e,r)}next(t){this.isStopped?lp(v_(t),this):this._next(t)}error(t){this.isStopped?lp(b_(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?lp(g_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},aI=Function.prototype.bind;function ap(n,t){return aI.call(n,t)}var cp=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(r){Mc(r)}}error(t){let{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(r){Mc(r)}else Mc(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){Mc(e)}}},Rr=class extends Ki{constructor(t,e,r){super();let i;if(le(t)||!t)i={next:t??void 0,error:e??void 0,complete:r??void 0};else{let o;this&&Kn.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&ap(t.next,o),error:t.error&&ap(t.error,o),complete:t.complete&&ap(t.complete,o)}):i=t}this.destination=new cp(i)}};function Mc(n){Kn.useDeprecatedSynchronousErrorHandling?__(n):Tc(n)}function lI(n){throw n}function lp(n,t){let{onStoppedNotification:e}=Kn;e&&Yo.setTimeout(()=>e(n,t))}var cI={closed:!0,next:Ia,error:lI,complete:Ia};var Xo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Gt(n){return n}function dp(...n){return up(n)}function up(n){return n.length===0?Gt:n.length===1?n[0]:function(e){return n.reduce((r,i)=>i(r),e)}}var re=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){let r=new n;return r.source=this,r.operator=e,r}subscribe(e,r,i){let o=uI(e)?e:new Rr(e,r,i);return Jo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return r=y_(r),new r((i,o)=>{let s=new Rr({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)}[Xo](){return this}pipe(...e){return up(e)(this)}toPromise(e){return e=y_(e),new e((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=t=>new n(t),n})();function y_(n){var t;return(t=n??Kn.Promise)!==null&&t!==void 0?t:Promise}function dI(n){return n&&le(n.next)&&le(n.error)&&le(n.complete)}function uI(n){return n&&n instanceof Ki||dI(n)&&Ic(n)}function fp(n){return le(n?.lift)}function ae(n){return t=>{if(fp(t))return t.lift(function(e){try{return n(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function se(n,t,e,r,i){return new mp(n,t,e,r,i)}var mp=class extends Ki{constructor(t,e,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function es(){return ae((n,t)=>{let e=null;n._refCount++;let r=se(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){e=null;return}let i=n._connection,o=e;e=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}var ts=class extends re{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,fp(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ee;let e=this.getSubject();t.add(this.source.subscribe(se(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ee.EMPTY)}return t}refCount(){return es()(this)}};var w_=Zo(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ne=(()=>{class n extends re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let r=new Ac(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new w_}next(e){Jo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(e)}})}error(e){Jo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){Jo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:r,isStopped:i,observers:o}=this;return r||i?op:(this.currentObservers=null,o.push(e),new Ee(()=>{this.currentObservers=null,Wi(o,e)}))}_checkFinalizedStatuses(e){let{hasError:r,thrownError:i,isStopped:o}=this;r?e.error(i):o&&e.complete()}asObservable(){let e=new re;return e.source=this,e}}return n.create=(t,e)=>new Ac(t,e),n})(),Ac=class extends ne{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.next)===null||r===void 0||r.call(e,t)}error(t){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.error)===null||r===void 0||r.call(e,t)}complete(){var t,e;(e=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||e===void 0||e.call(t)}_subscribe(t){var e,r;return(r=(e=this.source)===null||e===void 0?void 0:e.subscribe(t))!==null&&r!==void 0?r:op}};var ot=class extends ne{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){let{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var Ta={now(){return(Ta.delegate||Date).now()},delegate:void 0};var kc=class extends ne{constructor(t=1/0,e=1/0,r=Ta){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){let{isStopped:e,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;e||(r.push(t),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();let e=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!t.closed;s+=r?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){let{_bufferSize:t,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*t;if(t<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=e.now(),a=0;for(let l=1;l<r.length&&r[l]<=s;l+=2)a=l;a&&r.splice(0,a+1)}}};var Pc=class extends Ee{constructor(t,e){super()}schedule(t,e=0){return this}};var Ma={setInterval(n,t,...e){let{delegate:r}=Ma;return r?.setInterval?r.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){let{delegate:t}=Ma;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};var Oc=class extends Pc{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var r;if(this.closed)return this;this.state=t;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,e)),this.pending=!0,this.delay=e,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,e),this}requestAsyncId(t,e,r=0){return Ma.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,e,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return e;e!=null&&Ma.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(t,e);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r=!1,i;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:t,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Wi(r,this),t!=null&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}};var ns=class n{constructor(t,e=n.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,r){return new this.schedulerActionCtor(this,t).schedule(r,e)}};ns.now=Ta.now;var Rc=class extends ns{constructor(t,e=ns.now){super(t,e),this.actions=[],this._active=!1}flush(t){let{actions:e}=this;if(this._active){e.push(t);return}let r;this._active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=e.shift());if(this._active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}};var Zi=new Rc(Oc),C_=Zi;var pt=new re(n=>n.complete());function Nc(n){return n&&le(n.schedule)}function pp(n){return n[n.length-1]}function Fc(n){return le(pp(n))?n.pop():void 0}function pr(n){return Nc(pp(n))?n.pop():void 0}function E_(n,t){return typeof pp(n)=="number"?n.pop():t}function S_(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(m){try{u(r.next(m))}catch(p){s(p)}}function l(m){try{u(r.throw(m))}catch(p){s(p)}}function u(m){m.done?o(m.value):i(m.value).then(a,l)}u((r=r.apply(n,t||[])).next())})}function x_(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Yi(n){return this instanceof Yi?(this.v=n,this):new Yi(n)}function D_(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(n,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(_){return Promise.resolve(_).then(g,p)}}function a(g,_){r[g]&&(i[g]=function(C){return new Promise(function(S,A){o.push([g,C,S,A])>1||l(g,C)})},_&&(i[g]=_(i[g])))}function l(g,_){try{u(r[g](_))}catch(C){v(o[0][3],C)}}function u(g){g.value instanceof Yi?Promise.resolve(g.value.v).then(m,p):v(o[0][2],g)}function m(g){l("next",g)}function p(g){l("throw",g)}function v(g,_){g(_),o.shift(),o.length&&l(o[0][0],o[0][1])}}function I_(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],e;return t?t.call(n):(n=typeof x_=="function"?x_(n):n[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(o){e[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}var Lc=n=>n&&typeof n.length=="number"&&typeof n!="function";function Vc(n){return le(n?.then)}function jc(n){return le(n[Xo])}function Bc(n){return Symbol.asyncIterator&&le(n?.[Symbol.asyncIterator])}function Uc(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function fI(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var $c=fI();function zc(n){return le(n?.[$c])}function Hc(n){return D_(this,arguments,function*(){let e=n.getReader();try{for(;;){let{value:r,done:i}=yield Yi(e.read());if(i)return yield Yi(void 0);yield yield Yi(r)}}finally{e.releaseLock()}})}function qc(n){return le(n?.getReader)}function Re(n){if(n instanceof re)return n;if(n!=null){if(jc(n))return mI(n);if(Lc(n))return pI(n);if(Vc(n))return hI(n);if(Bc(n))return T_(n);if(zc(n))return gI(n);if(qc(n))return bI(n)}throw Uc(n)}function mI(n){return new re(t=>{let e=n[Xo]();if(le(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function pI(n){return new re(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}function hI(n){return new re(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Tc)})}function gI(n){return new re(t=>{for(let e of n)if(t.next(e),t.closed)return;t.complete()})}function T_(n){return new re(t=>{vI(n,t).catch(e=>t.error(e))})}function bI(n){return T_(Hc(n))}function vI(n,t){var e,r,i,o;return S_(this,void 0,void 0,function*(){try{for(e=I_(n);r=yield e.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=e.return)&&(yield o.call(e))}finally{if(i)throw i.error}}t.complete()})}function nn(n,t,e,r=0,i=!1){let o=t.schedule(function(){e(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Gc(n,t=0){return ae((e,r)=>{e.subscribe(se(r,i=>nn(r,n,()=>r.next(i),t),()=>nn(r,n,()=>r.complete(),t),i=>nn(r,n,()=>r.error(i),t)))})}function Wc(n,t=0){return ae((e,r)=>{r.add(n.schedule(()=>e.subscribe(r),t))})}function M_(n,t){return Re(n).pipe(Wc(t),Gc(t))}function A_(n,t){return Re(n).pipe(Wc(t),Gc(t))}function k_(n,t){return new re(e=>{let r=0;return t.schedule(function(){r===n.length?e.complete():(e.next(n[r++]),e.closed||this.schedule())})})}function P_(n,t){return new re(e=>{let r;return nn(e,t,()=>{r=n[$c](),nn(e,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){e.error(s);return}o?e.complete():e.next(i)},0,!0)}),()=>le(r?.return)&&r.return()})}function Qc(n,t){if(!n)throw new Error("Iterable cannot be null");return new re(e=>{nn(e,t,()=>{let r=n[Symbol.asyncIterator]();nn(e,t,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function O_(n,t){return Qc(Hc(n),t)}function R_(n,t){if(n!=null){if(jc(n))return M_(n,t);if(Lc(n))return k_(n,t);if(Vc(n))return A_(n,t);if(Bc(n))return Qc(n,t);if(zc(n))return P_(n,t);if(qc(n))return O_(n,t)}throw Uc(n)}function He(n,t){return t?R_(n,t):Re(n)}function q(...n){let t=pr(n);return He(n,t)}function mi(n,t){let e=le(n)?n:()=>n,r=i=>i.error(e());return new re(t?i=>t.schedule(r,0,i):r)}function Aa(n){return!!n&&(n instanceof re||le(n.lift)&&le(n.subscribe))}var Nr=Zo(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function N_(n){return n instanceof Date&&!isNaN(n)}function K(n,t){return ae((e,r)=>{let i=0;e.subscribe(se(r,o=>{r.next(n.call(t,o,i++))}))})}var{isArray:_I}=Array;function yI(n,t){return _I(t)?n(...t):n(t)}function Kc(n){return K(t=>yI(n,t))}var{isArray:wI}=Array,{getPrototypeOf:CI,prototype:EI,keys:xI}=Object;function Zc(n){if(n.length===1){let t=n[0];if(wI(t))return{args:t,keys:null};if(SI(t)){let e=xI(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}function SI(n){return n&&typeof n=="object"&&CI(n)===EI}function Yc(n,t){return n.reduce((e,r,i)=>(e[r]=t[i],e),{})}function rs(...n){let t=pr(n),e=Fc(n),{args:r,keys:i}=Zc(n);if(r.length===0)return He([],t);let o=new re(DI(r,t,i?s=>Yc(i,s):Gt));return e?o.pipe(Kc(e)):o}function DI(n,t,e=Gt){return r=>{F_(t,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)F_(t,()=>{let u=He(n[l],t),m=!1;u.subscribe(se(r,p=>{o[l]=p,m||(m=!0,a--),a||r.next(e(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function F_(n,t,e){n?nn(e,n,t):t()}function L_(n,t,e,r,i,o,s,a){let l=[],u=0,m=0,p=!1,v=()=>{p&&!l.length&&!u&&t.complete()},g=C=>u<r?_(C):l.push(C),_=C=>{o&&t.next(C),u++;let S=!1;Re(e(C,m++)).subscribe(se(t,A=>{i?.(A),o?g(A):t.next(A)},()=>{S=!0},void 0,()=>{if(S)try{for(u--;l.length&&u<r;){let A=l.shift();s?nn(t,s,()=>_(A)):_(A)}v()}catch(A){t.error(A)}}))};return n.subscribe(se(t,g,()=>{p=!0,v()})),()=>{a?.()}}function ut(n,t,e=1/0){return le(t)?ut((r,i)=>K((o,s)=>t(r,o,i,s))(Re(n(r,i))),e):(typeof t=="number"&&(e=t),ae((r,i)=>L_(r,i,n,e)))}function ka(n=1/0){return ut(Gt,n)}function V_(){return ka(1)}function pi(...n){return V_()(He(n,pr(n)))}function Jc(n){return new re(t=>{Re(n()).subscribe(t)})}function Pa(...n){let t=Fc(n),{args:e,keys:r}=Zc(n),i=new re(o=>{let{length:s}=e;if(!s){o.complete();return}let a=new Array(s),l=s,u=s;for(let m=0;m<s;m++){let p=!1;Re(e[m]).subscribe(se(o,v=>{p||(p=!0,u--),a[m]=v},()=>l--,void 0,()=>{(!l||!p)&&(u||o.next(r?Yc(r,a):a),o.complete())}))}});return t?i.pipe(Kc(t)):i}function Ji(n=0,t,e=C_){let r=-1;return t!=null&&(Nc(t)?e=t:r=t),new re(i=>{let o=N_(n)?+n-e.now():n;o<0&&(o=0);let s=0;return e.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function hp(n=0,t=Zi){return n<0&&(n=0),Ji(n,n,t)}function Oa(...n){let t=pr(n),e=E_(n,1/0),r=n;return r.length?r.length===1?Re(r[0]):ka(e)(He(r,t)):pt}function qe(n,t){return ae((e,r)=>{let i=0;e.subscribe(se(r,o=>n.call(t,o,i++)&&r.next(o)))})}function j_(n){return ae((t,e)=>{let r=!1,i=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,r){r=!1;let u=i;i=null,e.next(u)}s&&e.complete()},l=()=>{o=null,s&&e.complete()};t.subscribe(se(e,u=>{r=!0,i=u,o||Re(n(u)).subscribe(o=se(e,a,l))},()=>{s=!0,(!r||!o||o.closed)&&e.complete()}))})}function Xc(n,t=Zi){return j_(()=>Ji(n,t))}function hr(n){return ae((t,e)=>{let r=null,i=!1,o;r=t.subscribe(se(e,void 0,void 0,s=>{o=Re(n(s,hr(n)(t))),r?(r.unsubscribe(),r=null,o.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(e))})}function B_(n,t,e,r,i){return(o,s)=>{let a=e,l=t,u=0;o.subscribe(se(s,m=>{let p=u++;l=a?n(l,m,p):(a=!0,m),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function hi(n,t){return le(t)?ut(n,t,1):ut(n,1)}function Fr(n,t=Zi){return ae((e,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let u=o;o=null,r.next(u)}};function l(){let u=s+n,m=t.now();if(m<u){i=this.schedule(void 0,u-m),r.add(i);return}a()}e.subscribe(se(r,u=>{o=u,s=t.now(),i||(i=t.schedule(l,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function gi(n){return ae((t,e)=>{let r=!1;t.subscribe(se(e,i=>{r=!0,e.next(i)},()=>{r||e.next(n),e.complete()}))})}function rn(n){return n<=0?()=>pt:ae((t,e)=>{let r=0;t.subscribe(se(e,i=>{++r<=n&&(e.next(i),n<=r&&e.complete())}))})}function ed(n,t=Gt){return n=n??II,ae((e,r)=>{let i,o=!0;e.subscribe(se(r,s=>{let a=t(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}function II(n,t){return n===t}function td(n=TI){return ae((t,e)=>{let r=!1;t.subscribe(se(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(n())))})}function TI(){return new Nr}function Lr(n){return ae((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function Vr(n,t){let e=arguments.length>=2;return r=>r.pipe(n?qe((i,o)=>n(i,o,r)):Gt,rn(1),e?gi(t):td(()=>new Nr))}function is(n){return n<=0?()=>pt:ae((t,e)=>{let r=[];t.subscribe(se(e,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function gp(n,t){let e=arguments.length>=2;return r=>r.pipe(n?qe((i,o)=>n(i,o,r)):Gt,is(1),e?gi(t):td(()=>new Nr))}function bp(n,t){return ae(B_(n,t,arguments.length>=2,!0))}function Ra(n={}){let{connector:t=()=>new ne,resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,l,u=0,m=!1,p=!1,v=()=>{a?.unsubscribe(),a=void 0},g=()=>{v(),s=l=void 0,m=p=!1},_=()=>{let C=s;g(),C?.unsubscribe()};return ae((C,S)=>{u++,!p&&!m&&v();let A=l=l??t();S.add(()=>{u--,u===0&&!p&&!m&&(a=vp(_,i))}),A.subscribe(S),!s&&u>0&&(s=new Rr({next:F=>A.next(F),error:F=>{p=!0,v(),a=vp(g,e,F),A.error(F)},complete:()=>{m=!0,v(),a=vp(g,r),A.complete()}}),Re(C).subscribe(s))})(o)}}function vp(n,t,...e){if(t===!0){n();return}if(t===!1)return;let r=new Rr({next:()=>{r.unsubscribe(),n()}});return Re(t(...e)).subscribe(r)}function nd(n,t,e){let r,i=!1;return n&&typeof n=="object"?{bufferSize:r=1/0,windowTime:t=1/0,refCount:i=!1,scheduler:e}=n:r=n??1/0,Ra({connector:()=>new kc(r,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Xi(n){return qe((t,e)=>n<=e)}function gr(...n){let t=pr(n);return ae((e,r)=>{(t?pi(n,e,t):pi(n,e)).subscribe(r)})}function At(n,t){return ae((e,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();e.subscribe(se(r,l=>{i?.unsubscribe();let u=0,m=o++;Re(n(l,m)).subscribe(i=se(r,p=>r.next(t?t(l,p,m,u++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Wt(n){return ae((t,e)=>{Re(n).subscribe(se(e,()=>e.complete(),Ia)),!e.closed&&t.subscribe(e)})}function _p(n,t=!1){return ae((e,r)=>{let i=0;e.subscribe(se(r,o=>{let s=n(o,i++);(s||t)&&r.next(o),!s&&r.complete()}))})}function Qe(n,t,e){let r=le(n)||t||e?{next:n,error:t,complete:e}:n;return r?ae((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(se(o,l=>{var u;(u=r.next)===null||u===void 0||u.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,l),o.error(l)},()=>{var l,u;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Gt}var Ty="https://g.co/ng/security#xss",O=class extends Error{code;constructor(t,e){super(qd(t,e)),this.code=t}};function qd(n,t){return`${`NG0${Math.abs(n)}`}${t?": "+t:""}`}var My=Symbol("InputSignalNode#UNSET"),MI=W(k({},ip),{transformFn:void 0,applyValueToInputSignal(n,t){Sc(n,t)}});function Ay(n,t){let e=Object.create(MI);e.value=n,e.transformFn=t?.transform;function r(){if(Cc(e),e.value===My)throw new O(-950,!1);return e.value}return r[tn]=e,r}function Ka(n){return{toString:n}.toString()}var rd="__parameters__";function AI(n){return function(...e){if(n){let r=n(...e);for(let i in r)this[i]=r[i]}}}function ky(n,t,e){return Ka(()=>{let r=AI(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,u,m){let p=l.hasOwnProperty(rd)?l[rd]:Object.defineProperty(l,rd,{value:[]})[rd];for(;p.length<=m;)p.push(null);return(p[m]=p[m]||[]).push(s),l}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var jr=globalThis;function Ne(n){for(let t in n)if(n[t]===Ne)return t;throw Error("Could not find renamed property on target object.")}function kI(n,t){for(let e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Kt(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Kt).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let t=n.toString();if(t==null)return""+t;let e=t.indexOf(`
`);return e===-1?t:t.substring(0,e)}function Op(n,t){return n==null||n===""?t===null?"":t:t==null||t===""?n:n+" "+t}var PI=Ne({__forward_ref__:Ne});function Rt(n){return n.__forward_ref__=Rt,n.toString=function(){return Kt(this())},n}function Qt(n){return Py(n)?n():n}function Py(n){return typeof n=="function"&&n.hasOwnProperty(PI)&&n.__forward_ref__===Rt}function P(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Fe(n){return{providers:n.providers||[],imports:n.imports||[]}}function Gd(n){return U_(n,Ry)||U_(n,Ny)}function Oy(n){return Gd(n)!==null}function U_(n,t){return n.hasOwnProperty(t)?n[t]:null}function OI(n){let t=n&&(n[Ry]||n[Ny]);return t||null}function $_(n){return n&&(n.hasOwnProperty(z_)||n.hasOwnProperty(RI))?n[z_]:null}var Ry=Ne({\u0275prov:Ne}),z_=Ne({\u0275inj:Ne}),Ny=Ne({ngInjectableDef:Ne}),RI=Ne({ngInjectorDef:Ne}),V=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,e){this._desc=t,this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=P({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Fy(n){return n&&!!n.\u0275providers}var NI=Ne({\u0275cmp:Ne}),FI=Ne({\u0275dir:Ne}),LI=Ne({\u0275pipe:Ne}),VI=Ne({\u0275mod:Ne}),gd=Ne({\u0275fac:Ne}),Va=Ne({__NG_ELEMENT_ID__:Ne}),H_=Ne({__NG_ENV_ID__:Ne});function Br(n){return typeof n=="string"?n:n==null?"":String(n)}function jI(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Br(n)}function BI(n,t){let e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new O(-200,n)}function jh(n,t){throw new O(-201,!1)}var he=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(he||{}),Rp;function Ly(){return Rp}function on(n){let t=Rp;return Rp=n,t}function Vy(n,t,e){let r=Gd(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(e&he.Optional)return null;if(t!==void 0)return t;jh(n,"Injector")}var UI={},ja=UI,Np="__NG_DI_FLAG__",bd="ngTempTokenPath",$I="ngTokenPath",zI=/\n/gm,HI="\u0275",q_="__source",cs;function qI(){return cs}function bi(n){let t=cs;return cs=n,t}function GI(n,t=he.Default){if(cs===void 0)throw new O(-203,!1);return cs===null?Vy(n,void 0,t):cs.get(n,t&he.Optional?null:void 0,t)}function L(n,t=he.Default){return(Ly()||GI)(Qt(n),t)}function y(n,t=he.Default){return L(n,Wd(t))}function Wd(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Fp(n){let t=[];for(let e=0;e<n.length;e++){let r=Qt(n[e]);if(Array.isArray(r)){if(r.length===0)throw new O(900,!1);let i,o=he.Default;for(let s=0;s<r.length;s++){let a=r[s],l=WI(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}t.push(L(i,o))}else t.push(L(r))}return t}function jy(n,t){return n[Np]=t,n.prototype[Np]=t,n}function WI(n){return n[Np]}function QI(n,t,e,r){let i=n[bd];throw t[q_]&&i.unshift(t[q_]),n.message=KI(`
`+n.message,i,e,r),n[$I]=i,n[bd]=null,n}function KI(n,t,e,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==HI?n.slice(2):n;let i=Kt(t);if(Array.isArray(t))i=t.map(Kt).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Kt(a)))}i=`{${o.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${n.replace(zI,`
  `)}`}var Qd=jy(ky("Optional"),8);var By=jy(ky("SkipSelf"),4);function no(n,t){let e=n.hasOwnProperty(gd);return e?n[gd]:null}function ZI(n,t,e){if(n.length!==t.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=t[r];if(e&&(i=e(i),o=e(o)),o!==i)return!1}return!0}function YI(n){return n.flat(Number.POSITIVE_INFINITY)}function Bh(n,t){n.forEach(e=>Array.isArray(e)?Bh(e,t):t(e))}function Uy(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function vd(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function JI(n,t){let e=[];for(let r=0;r<n;r++)e.push(t);return e}function XI(n,t,e,r){let i=n.length;if(i==t)n.push(e,r);else if(i===1)n.push(r,n[0]),n[0]=e;else{for(i--,n.push(n[i-1],n[i]);i>t;){let o=i-2;n[i]=n[o],i--}n[t]=e,n[t+1]=r}}function Uh(n,t,e){let r=Za(n,t);return r>=0?n[r|1]=e:(r=~r,XI(n,r,t,e)),r}function yp(n,t){let e=Za(n,t);if(e>=0)return n[e|1]}function Za(n,t){return eT(n,t,1)}function eT(n,t,e){let r=0,i=n.length>>e;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<e];if(t===s)return o<<e;s>t?i=o:r=o+1}return~(i<<e)}var us={},sn=[],fs=new V(""),$y=new V("",-1),zy=new V(""),_d=class{get(t,e=ja){if(e===ja){let r=new Error(`NullInjectorError: No provider for ${Kt(t)}!`);throw r.name="NullInjectorError",r}return e}};function Hy(n,t){let e=n[VI]||null;if(!e&&t===!0)throw new Error(`Type ${Kt(n)} does not have '\u0275mod' property.`);return e}function yi(n){return n[NI]||null}function qy(n){return n[FI]||null}function Gy(n){return n[LI]||null}function Wy(n){let t=yi(n)||qy(n)||Gy(n);return t!==null&&t.standalone}function Cs(n){return{\u0275providers:n}}function tT(...n){return{\u0275providers:Qy(!0,n),\u0275fromNgModule:!0}}function Qy(n,...t){let e=[],r=new Set,i,o=s=>{e.push(s)};return Bh(t,s=>{let a=s;Lp(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Ky(i,o),e}function Ky(n,t){for(let e=0;e<n.length;e++){let{ngModule:r,providers:i}=n[e];$h(i,o=>{t(o,r)})}}function Lp(n,t,e,r){if(n=Qt(n),!n)return!1;let i=null,o=$_(n),s=!o&&yi(n);if(!o&&!s){let l=n.ngModule;if(o=$_(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of l)Lp(u,t,e,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{Bh(o.imports,m=>{Lp(m,t,e,r)&&(u||=[],u.push(m))})}finally{}u!==void 0&&Ky(u,t)}if(!a){let u=no(i)||(()=>new i);t({provide:i,useFactory:u,deps:sn},i),t({provide:zy,useValue:i,multi:!0},i),t({provide:fs,useValue:()=>L(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let u=n;$h(l,m=>{t(m,u)})}}else return!1;return i!==n&&n.providers!==void 0}function $h(n,t){for(let e of n)Fy(e)&&(e=e.\u0275providers),Array.isArray(e)?$h(e,t):t(e)}var nT=Ne({provide:String,useValue:Ne});function Zy(n){return n!==null&&typeof n=="object"&&nT in n}function rT(n){return!!(n&&n.useExisting)}function iT(n){return!!(n&&n.useFactory)}function ms(n){return typeof n=="function"}function oT(n){return!!n.useClass}var Kd=new V(""),cd={},sT={},wp;function Zd(){return wp===void 0&&(wp=new _d),wp}var Pt=class{},Ba=class extends Pt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,e,r,i){super(),this.parent=e,this.source=r,this.scopes=i,jp(t,s=>this.processProvider(s)),this.records.set($y,os(void 0,this)),i.has("environment")&&this.records.set(Pt,os(void 0,this));let o=this.records.get(Kd);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(zy,sn,he.Self))}destroy(){Fa(this),this._destroyed=!0;let t=ge(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of e)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ge(t)}}onDestroy(t){return Fa(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Fa(this);let e=bi(this),r=on(void 0),i;try{return t()}finally{bi(e),on(r)}}get(t,e=ja,r=he.Default){if(Fa(this),t.hasOwnProperty(H_))return t[H_](this);r=Wd(r);let i,o=bi(this),s=on(void 0);try{if(!(r&he.SkipSelf)){let l=this.records.get(t);if(l===void 0){let u=uT(t)&&Gd(t);u&&this.injectableDefInScope(u)?l=os(Vp(t),cd):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l)}let a=r&he.Self?Zd():this.parent;return e=r&he.Optional&&e===ja?null:e,a.get(t,e)}catch(a){if(a.name==="NullInjectorError"){if((a[bd]=a[bd]||[]).unshift(Kt(t)),o)throw a;return QI(a,t,"R3InjectorError",this.source)}else throw a}finally{on(s),bi(o)}}resolveInjectorInitializers(){let t=ge(null),e=bi(this),r=on(void 0),i;try{let o=this.get(fs,sn,he.Self);for(let s of o)s()}finally{bi(e),on(r),ge(t)}}toString(){let t=[],e=this.records;for(let r of e.keys())t.push(Kt(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=Qt(t);let e=ms(t)?t:Qt(t&&t.provide),r=lT(t);if(!ms(t)&&t.multi===!0){let i=this.records.get(e);i||(i=os(void 0,cd,!0),i.factory=()=>Fp(i.multi),this.records.set(e,i)),e=t,i.multi.push(t)}this.records.set(e,r)}hydrate(t,e){let r=ge(null);try{return e.value===cd&&(e.value=sT,e.value=e.factory()),typeof e.value=="object"&&e.value&&dT(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{ge(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;let e=Qt(t.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){let e=this._onDestroyHooks.indexOf(t);e!==-1&&this._onDestroyHooks.splice(e,1)}};function Vp(n){let t=Gd(n),e=t!==null?t.factory:no(n);if(e!==null)return e;if(n instanceof V)throw new O(204,!1);if(n instanceof Function)return aT(n);throw new O(204,!1)}function aT(n){if(n.length>0)throw new O(204,!1);let e=OI(n);return e!==null?()=>e.factory(n):()=>new n}function lT(n){if(Zy(n))return os(void 0,n.useValue);{let t=Yy(n);return os(t,cd)}}function Yy(n,t,e){let r;if(ms(n)){let i=Qt(n);return no(i)||Vp(i)}else if(Zy(n))r=()=>Qt(n.useValue);else if(iT(n))r=()=>n.useFactory(...Fp(n.deps||[]));else if(rT(n))r=()=>L(Qt(n.useExisting));else{let i=Qt(n&&(n.useClass||n.provide));if(cT(n))r=()=>new i(...Fp(n.deps));else return no(i)||Vp(i)}return r}function Fa(n){if(n.destroyed)throw new O(205,!1)}function os(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function cT(n){return!!n.deps}function dT(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function uT(n){return typeof n=="function"||typeof n=="object"&&n instanceof V}function jp(n,t){for(let e of n)Array.isArray(e)?jp(e,t):e&&Fy(e)?jp(e.\u0275providers,t):t(e)}function Cn(n,t){n instanceof Ba&&Fa(n);let e,r=bi(n),i=on(void 0);try{return t()}finally{bi(r),on(i)}}function Jy(){return Ly()!==void 0||qI()!=null}function Yd(n){if(!Jy())throw new O(-203,!1)}function fT(n){return typeof n=="function"}var Gr=0,de=1,ie=2,Ot=3,Jn=4,ln=5,ps=6,yd=7,Ct=8,Ua=9,Ur=10,Je=11,$a=12,G_=13,Es=14,wn=15,ro=16,ss=17,$r=18,Jd=19,Xy=20,vi=21,dd=22,io=23,yn=24,ht=25,ew=1;var oo=7,wd=8,hs=9,kt=10;function _i(n){return Array.isArray(n)&&typeof n[ew]=="object"}function Wr(n){return Array.isArray(n)&&n[ew]===!0}function zh(n){return(n.flags&4)!==0}function fo(n){return n.componentOffset>-1}function Xd(n){return(n.flags&1)===1}function zr(n){return!!n.template}function Cd(n){return(n[ie]&512)!==0}function Ya(n){return(n[ie]&256)===256}var Bp=class{previousValue;currentValue;firstChange;constructor(t,e,r){this.previousValue=t,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}};function tw(n,t,e,r){t!==null?t.applyValueToInputSignal(t,r):n[e]=r}var cn=(()=>{let n=()=>nw;return n.ngInherit=!0,n})();function nw(n){return n.type.prototype.ngOnChanges&&(n.setInput=pT),mT}function mT(){let n=iw(this),t=n?.current;if(t){let e=n.previous;if(e===us)n.previous=t;else for(let r in t)e[r]=t[r];n.current=null,this.ngOnChanges(t)}}function pT(n,t,e,r,i){let o=this.declaredInputs[r],s=iw(n)||hT(n,{previous:us,current:null}),a=s.current||(s.current={}),l=s.previous,u=l[o];a[o]=new Bp(u&&u.currentValue,e,l===us),tw(n,t,i,e)}var rw="__ngSimpleChanges__";function iw(n){return n[rw]||null}function hT(n,t){return n[rw]=t}var W_=null;var Vn=function(n,t,e){W_?.(n,t,e)},gT="svg",bT="math";function vr(n){for(;Array.isArray(n);)n=n[Gr];return n}function ow(n,t){return vr(t[n])}function tr(n,t){return vr(t[n.index])}function Hh(n,t){return n.data[t]}function sw(n,t){return n[t]}function _r(n,t){let e=t[n];return _i(e)?e:e[Gr]}function vT(n){return(n[ie]&4)===4}function qh(n){return(n[ie]&128)===128}function _T(n){return Wr(n[Ot])}function wi(n,t){return t==null?null:n[t]}function aw(n){n[ss]=0}function Gh(n){n[ie]&1024||(n[ie]|=1024,qh(n)&&Ja(n))}function yT(n,t){for(;n>0;)t=t[Es],n--;return t}function eu(n){return!!(n[ie]&9216||n[yn]?.dirty)}function Up(n){n[Ur].changeDetectionScheduler?.notify(9),n[ie]&64&&(n[ie]|=1024),eu(n)&&Ja(n)}function Ja(n){n[Ur].changeDetectionScheduler?.notify(0);let t=so(n);for(;t!==null&&!(t[ie]&8192||(t[ie]|=8192,!qh(t)));)t=so(t)}function lw(n,t){if(Ya(n))throw new O(911,!1);n[vi]===null&&(n[vi]=[]),n[vi].push(t)}function wT(n,t){if(n[vi]===null)return;let e=n[vi].indexOf(t);e!==-1&&n[vi].splice(e,1)}function so(n){let t=n[Ot];return Wr(t)?t[Ot]:t}function cw(n){return n[yd]??=[]}function dw(n){return n.cleanup??=[]}function CT(n,t,e,r){let i=cw(t);i.push(e),n.firstCreatePass&&dw(n).push(r,i.length-1)}var pe={lFrame:_w(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var $p=!1;function ET(){return pe.lFrame.elementDepthCount}function xT(){pe.lFrame.elementDepthCount++}function ST(){pe.lFrame.elementDepthCount--}function uw(){return pe.bindingsEnabled}function fw(){return pe.skipHydrationRootTNode!==null}function DT(n){return pe.skipHydrationRootTNode===n}function IT(){pe.skipHydrationRootTNode=null}function oe(){return pe.lFrame.lView}function Xe(){return pe.lFrame.tView}function T(n){return pe.lFrame.contextLView=n,n[Ct]}function M(n){return pe.lFrame.contextLView=null,n}function Nt(){let n=mw();for(;n!==null&&n.type===64;)n=n.parent;return n}function mw(){return pe.lFrame.currentTNode}function TT(){let n=pe.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}function mo(n,t){let e=pe.lFrame;e.currentTNode=n,e.isParent=t}function Wh(){return pe.lFrame.isParent}function Qh(){pe.lFrame.isParent=!1}function MT(){return pe.lFrame.contextLView}function pw(){return $p}function Ed(n){let t=$p;return $p=n,t}function Xa(){let n=pe.lFrame,t=n.bindingRootIndex;return t===-1&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function hw(){return pe.lFrame.bindingIndex}function AT(n){return pe.lFrame.bindingIndex=n}function xs(){return pe.lFrame.bindingIndex++}function tu(n){let t=pe.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function kT(){return pe.lFrame.inI18n}function PT(n,t){let e=pe.lFrame;e.bindingIndex=e.bindingRootIndex=n,zp(t)}function OT(){return pe.lFrame.currentDirectiveIndex}function zp(n){pe.lFrame.currentDirectiveIndex=n}function RT(n){let t=pe.lFrame.currentDirectiveIndex;return t===-1?null:n[t]}function gw(){return pe.lFrame.currentQueryIndex}function Kh(n){pe.lFrame.currentQueryIndex=n}function NT(n){let t=n[de];return t.type===2?t.declTNode:t.type===1?n[ln]:null}function bw(n,t,e){if(e&he.SkipSelf){let i=t,o=n;for(;i=i.parent,i===null&&!(e&he.Host);)if(i=NT(o),i===null||(o=o[Es],i.type&10))break;if(i===null)return!1;t=i,n=o}let r=pe.lFrame=vw();return r.currentTNode=t,r.lView=n,!0}function Zh(n){let t=vw(),e=n[de];pe.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function vw(){let n=pe.lFrame,t=n===null?null:n.child;return t===null?_w(n):t}function _w(n){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=t),t}function yw(){let n=pe.lFrame;return pe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var ww=yw;function Yh(){let n=yw();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function FT(n){return(pe.lFrame.contextLView=yT(n,pe.lFrame.contextLView))[Ct]}function Cr(){return pe.lFrame.selectedIndex}function ao(n){pe.lFrame.selectedIndex=n}function nu(){let n=pe.lFrame;return Hh(n.tView,n.selectedIndex)}function LT(){return pe.lFrame.currentNamespace}var Cw=!0;function ru(){return Cw}function iu(n){Cw=n}function VT(n,t,e){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=nw(t);(e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s)}i&&(e.preOrderHooks??=[]).push(0-n,i),o&&((e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o))}function ou(n,t){for(let e=t.directiveStart,r=t.directiveEnd;e<r;e++){let o=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:m}=o;s&&(n.contentHooks??=[]).push(-e,s),a&&((n.contentHooks??=[]).push(e,a),(n.contentCheckHooks??=[]).push(e,a)),l&&(n.viewHooks??=[]).push(-e,l),u&&((n.viewHooks??=[]).push(e,u),(n.viewCheckHooks??=[]).push(e,u)),m!=null&&(n.destroyHooks??=[]).push(e,m)}}function ud(n,t,e){Ew(n,t,3,e)}function fd(n,t,e,r){(n[ie]&3)===e&&Ew(n,t,e,r)}function Cp(n,t){let e=n[ie];(e&3)===t&&(e&=16383,e+=1,n[ie]=e)}function Ew(n,t,e,r){let i=r!==void 0?n[ss]&65535:0,o=r??-1,s=t.length-1,a=0;for(let l=i;l<s;l++)if(typeof t[l+1]=="number"){if(a=t[l],r!=null&&a>=r)break}else t[l]<0&&(n[ss]+=65536),(a<o||o==-1)&&(jT(n,e,t,l),n[ss]=(n[ss]&4294901760)+l+2),l++}function Q_(n,t){Vn(4,n,t);let e=ge(null);try{t.call(n)}finally{ge(e),Vn(5,n,t)}}function jT(n,t,e,r){let i=e[r]<0,o=e[r+1],s=i?-e[r]:e[r],a=n[s];i?n[ie]>>14<n[ss]>>16&&(n[ie]&3)===t&&(n[ie]+=16384,Q_(a,o)):Q_(a,o)}var ds=-1,lo=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,e,r){this.factory=t,this.canSeeViewProviders=e,this.injectImpl=r}};function BT(n){return n instanceof lo}function UT(n){return(n.flags&8)!==0}function $T(n){return(n.flags&16)!==0}function zT(n,t,e){let r=0;for(;r<e.length;){let i=e[r];if(typeof i=="number"){if(i!==0)break;r++;let o=e[r++],s=e[r++],a=e[r++];n.setAttribute(t,s,a,o)}else{let o=i,s=e[++r];HT(o)?n.setProperty(t,o,s):n.setAttribute(t,o,s),r++}}return r}function xw(n){return n===3||n===4||n===6}function HT(n){return n.charCodeAt(0)===64}function gs(n,t){if(!(t===null||t.length===0))if(n===null||n.length===0)n=t.slice();else{let e=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?e=i:e===0||(e===-1||e===2?K_(n,e,i,null,t[++r]):K_(n,e,i,null,null))}}return n}function K_(n,t,e,r,i){let o=0,s=n.length;if(t===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===e){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,t),o=s+1),n.splice(o++,0,e),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}var Ep={},Hp=class{injector;parentInjector;constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,r){r=Wd(r);let i=this.injector.get(t,Ep,r);return i!==Ep||e===Ep?i:this.parentInjector.get(t,e,r)}};function Sw(n){return n!==ds}function xd(n){return n&32767}function qT(n){return n>>16}function Sd(n,t){let e=qT(n),r=t;for(;e>0;)r=r[Es],e--;return r}var qp=!0;function Dd(n){let t=qp;return qp=n,t}var GT=256,Dw=GT-1,Iw=5,WT=0,br={};function QT(n,t,e){let r;typeof e=="string"?r=e.charCodeAt(0)||0:e.hasOwnProperty(Va)&&(r=e[Va]),r==null&&(r=e[Va]=WT++);let i=r&Dw,o=1<<i;t.data[n+(i>>Iw)]|=o}function Id(n,t){let e=Tw(n,t);if(e!==-1)return e;let r=t[de];r.firstCreatePass&&(n.injectorIndex=t.length,xp(r.data,n),xp(t,null),xp(r.blueprint,null));let i=Jh(n,t),o=n.injectorIndex;if(Sw(i)){let s=xd(i),a=Sd(i,t),l=a[de].data;for(let u=0;u<8;u++)t[o+u]=a[s+u]|l[s+u]}return t[o+8]=i,o}function xp(n,t){n.push(0,0,0,0,0,0,0,0,t)}function Tw(n,t){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||t[n.injectorIndex+8]===null?-1:n.injectorIndex}function Jh(n,t){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let e=0,r=null,i=t;for(;i!==null;){if(r=Ow(i),r===null)return ds;if(e++,i=i[Es],r.injectorIndex!==-1)return r.injectorIndex|e<<16}return ds}function Gp(n,t,e){QT(n,t,e)}function KT(n,t){if(t==="class")return n.classes;if(t==="style")return n.styles;let e=n.attrs;if(e){let r=e.length,i=0;for(;i<r;){let o=e[i];if(xw(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof e[i]=="string";)i++;else{if(o===t)return e[i+1];i=i+2}}}return null}function Mw(n,t,e){if(e&he.Optional||n!==void 0)return n;jh(t,"NodeInjector")}function Aw(n,t,e,r){if(e&he.Optional&&r===void 0&&(r=null),!(e&(he.Self|he.Host))){let i=n[Ua],o=on(void 0);try{return i?i.get(t,r,e&he.Optional):Vy(t,r,e&he.Optional)}finally{on(o)}}return Mw(r,t,e)}function kw(n,t,e,r=he.Default,i){if(n!==null){if(t[ie]&2048&&!(r&he.Self)){let s=XT(n,t,e,r,br);if(s!==br)return s}let o=Pw(n,t,e,r,br);if(o!==br)return o}return Aw(t,e,r,i)}function Pw(n,t,e,r,i){let o=YT(e);if(typeof o=="function"){if(!bw(t,n,r))return r&he.Host?Mw(i,e,r):Aw(t,e,r,i);try{let s;if(s=o(r),s==null&&!(r&he.Optional))jh(e);else return s}finally{ww()}}else if(typeof o=="number"){let s=null,a=Tw(n,t),l=ds,u=r&he.Host?t[wn][ln]:null;for((a===-1||r&he.SkipSelf)&&(l=a===-1?Jh(n,t):t[a+8],l===ds||!Y_(r,!1)?a=-1:(s=t[de],a=xd(l),t=Sd(l,t)));a!==-1;){let m=t[de];if(Z_(o,a,m.data)){let p=ZT(a,t,e,s,r,u);if(p!==br)return p}l=t[a+8],l!==ds&&Y_(r,t[de].data[a+8]===u)&&Z_(o,a,t)?(s=m,a=xd(l),t=Sd(l,t)):a=-1}}return i}function ZT(n,t,e,r,i,o){let s=t[de],a=s.data[n+8],l=r==null?fo(a)&&qp:r!=s&&(a.type&3)!==0,u=i&he.Host&&o===a,m=md(a,s,e,l,u);return m!==null?za(t,s,m,a):br}function md(n,t,e,r,i){let o=n.providerIndexes,s=t.data,a=o&1048575,l=n.directiveStart,u=n.directiveEnd,m=o>>20,p=r?a:a+m,v=i?a+m:u;for(let g=p;g<v;g++){let _=s[g];if(g<l&&e===_||g>=l&&_.type===e)return g}if(i){let g=s[l];if(g&&zr(g)&&g.type===e)return l}return null}function za(n,t,e,r){let i=n[e],o=t.data;if(BT(i)){let s=i;s.resolving&&BI(jI(o[e]));let a=Dd(s.canSeeViewProviders);s.resolving=!0;let l,u=s.injectImpl?on(s.injectImpl):null,m=bw(n,r,he.Default);try{i=n[e]=s.factory(void 0,o,n,r),t.firstCreatePass&&e>=r.directiveStart&&VT(e,o[e],t)}finally{u!==null&&on(u),Dd(a),s.resolving=!1,ww()}}return i}function YT(n){if(typeof n=="string")return n.charCodeAt(0)||0;let t=n.hasOwnProperty(Va)?n[Va]:void 0;return typeof t=="number"?t>=0?t&Dw:JT:t}function Z_(n,t,e){let r=1<<n;return!!(e[t+(n>>Iw)]&r)}function Y_(n,t){return!(n&he.Self)&&!(n&he.Host&&t)}var to=class{_tNode;_lView;constructor(t,e){this._tNode=t,this._lView=e}get(t,e,r){return kw(this._tNode,this._lView,t,Wd(r),e)}};function JT(){return new to(Nt(),oe())}function gt(n){return Ka(()=>{let t=n.prototype.constructor,e=t[gd]||Wp(t),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[gd]||Wp(i);if(o&&o!==e)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Wp(n){return Py(n)?()=>{let t=Wp(Qt(n));return t&&t()}:no(n)}function XT(n,t,e,r,i){let o=n,s=t;for(;o!==null&&s!==null&&s[ie]&2048&&!Cd(s);){let a=Pw(o,s,e,r|he.Self,br);if(a!==br)return a;let l=o.parent;if(!l){let u=s[Xy];if(u){let m=u.get(e,br,r);if(m!==br)return m}l=Ow(s),s=s[Es]}o=l}return i}function Ow(n){let t=n[de],e=t.type;return e===2?t.declTNode:e===1?n[ln]:null}function su(n){return KT(Nt(),n)}function J_(n,t=null,e=null,r){let i=Rw(n,t,e,r);return i.resolveInjectorInitializers(),i}function Rw(n,t=null,e=null,r,i=new Set){let o=[e||sn,tT(n)];return r=r||(typeof n=="object"?void 0:Kt(n)),new Ba(o,t||Zd(),r||null,i)}var Ue=class n{static THROW_IF_NOT_FOUND=ja;static NULL=new _d;static create(t,e){if(Array.isArray(t))return J_({name:""},e,t,"");{let r=t.name??"";return J_({name:r},t.parent,t.providers,r)}}static \u0275prov=P({token:n,providedIn:"any",factory:()=>L($y)});static __NG_ELEMENT_ID__=-1};var Ha=class{attributeName;constructor(t){this.attributeName=t}__NG_ELEMENT_ID__=()=>su(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},eM=new V("");eM.__NG_ELEMENT_ID__=n=>{let t=Nt();if(t===null)throw new O(204,!1);if(t.type&2)return t.value;if(n&he.Optional)return null;throw new O(204,!1)};var Nw=!1,po=(()=>{class n{static __NG_ELEMENT_ID__=tM;static __NG_ENV_ID__=e=>e}return n})(),Td=class extends po{_lView;constructor(t){super(),this._lView=t}onDestroy(t){return lw(this._lView,t),()=>wT(this._lView,t)}};function tM(){return new Td(oe())}var Ci=class{},au=new V("",{providedIn:"root",factory:()=>!1});var Fw=new V(""),Xh=new V(""),Qr=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new ot(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=P({token:n,providedIn:"root",factory:()=>new n})}return n})();var Qp=class extends ne{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,Jy()&&(this.destroyRef=y(po,{optional:!0})??void 0,this.pendingTasks=y(Qr,{optional:!0})??void 0)}emit(t){let e=ge(null);try{super.next(t)}finally{ge(e)}}subscribe(t,e,r){let i=t,o=e||(()=>null),s=r;if(t&&typeof t=="object"){let l=t;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof Ee&&t.add(a),a}wrapInTimeout(t){return e=>{let r=this.pendingTasks?.add();setTimeout(()=>{t(e),r!==void 0&&this.pendingTasks?.remove(r)})}}},J=Qp;function qa(...n){}function Lw(n){let t,e;function r(){n=qa;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{n(),r()})),()=>r()}function X_(n){return queueMicrotask(()=>n()),()=>{n=qa}}var eg="isAngularZone",Md=eg+"_ID",nM=0,ce=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new J(!1);onMicrotaskEmpty=new J(!1);onStable=new J(!1);onError=new J(!1);constructor(t){let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Nw}=t;if(typeof Zone>"u")throw new O(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,oM(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(eg)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new O(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new O(909,!1)}run(t,e,r){return this._inner.run(t,e,r)}runTask(t,e,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,rM,qa,qa);try{return o.runTask(s,e,r)}finally{o.cancelTask(s)}}runGuarded(t,e,r){return this._inner.runGuarded(t,e,r)}runOutsideAngular(t){return this._outer.run(t)}},rM={};function tg(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function iM(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function t(){Lw(()=>{n.callbackScheduled=!1,Kp(n),n.isCheckStableRunning=!0,tg(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{t()}):n._outer.run(()=>{t()}),Kp(n)}function oM(n){let t=()=>{iM(n)},e=nM++;n._inner=n._inner.fork({name:"angular",properties:{[eg]:!0,[Md]:e,[Md+e]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(sM(l))return r.invokeTask(o,s,a,l);try{return ey(n),r.invokeTask(o,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&t(),ty(n)}},onInvoke:(r,i,o,s,a,l,u)=>{try{return ey(n),r.invoke(o,s,a,l,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!aM(l)&&t(),ty(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Kp(n),tg(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Kp(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function ey(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function ty(n){n._nesting--,tg(n)}var Ad=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new J;onMicrotaskEmpty=new J;onStable=new J;onError=new J;run(t,e,r){return t.apply(e,r)}runGuarded(t,e,r){return t.apply(e,r)}runOutsideAngular(t){return t()}runTask(t,e,r,i){return t.apply(e,r)}};function sM(n){return Vw(n,"__ignore_ng_zone__")}function aM(n){return Vw(n,"__scheduler_tick__")}function Vw(n,t){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[t]===!0}var an=class{_console=console;handleError(t){this._console.error("ERROR",t)}},lM=new V("",{providedIn:"root",factory:()=>{let n=y(ce),t=y(an);return e=>n.runOutsideAngular(()=>t.handleError(e))}});function ny(n,t){return Ay(n,t)}function cM(n){return Ay(My,n)}var jw=(ny.required=cM,ny);function dM(){return Ss(Nt(),oe())}function Ss(n,t){return new ve(tr(n,t))}var ve=(()=>{class n{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=dM}return n})();function uM(n){return n instanceof ve?n.nativeElement:n}var ry=new Set;function dn(n){ry.has(n)||(ry.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function el(n){return typeof n=="function"&&n[tn]!==void 0}function Ft(n,t){dn("NgSignals");let e=f_(n),r=e[tn];return t?.equal&&(r.equal=t.equal),e.set=i=>Sc(r,i),e.update=i=>m_(r,i),e.asReadonly=fM.bind(e),e}function fM(){let n=this[tn];if(n.readonlyFn===void 0){let t=()=>this();t[tn]=n,n.readonlyFn=t}return n.readonlyFn}function Bw(n){return el(n)&&typeof n.set=="function"}function mM(){return this._results[Symbol.iterator]()}var Ei=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new ne}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;let r=YI(t);(this._changesDetected=!ZI(this._results,r,e))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=mM};function Uw(n){return(n.flags&128)===128}var $w=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}($w||{}),zw=new Map,pM=0;function hM(){return pM++}function gM(n){zw.set(n[Jd],n)}function Zp(n){zw.delete(n[Jd])}var iy="__ngContext__";function ho(n,t){_i(t)?(n[iy]=t[Jd],gM(t)):n[iy]=t}function Hw(n){return Gw(n[$a])}function qw(n){return Gw(n[Jn])}function Gw(n){for(;n!==null&&!Wr(n);)n=n[Jn];return n}var Yp;function Ww(n){Yp=n}function bM(){if(Yp!==void 0)return Yp;if(typeof document<"u")return document;throw new O(210,!1)}var tl=new V("",{providedIn:"root",factory:()=>vM}),vM="ng",ng=new V(""),Lt=new V("",{providedIn:"platform",factory:()=>"unknown"});var nr=new V(""),nl=new V("",{providedIn:"root",factory:()=>bM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var _M="h",yM="b";var Qw=!1,wM=new V("",{providedIn:"root",factory:()=>Qw});var rg=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(rg||{}),Ds=new V("");var as=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(as||{}),Kw=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=P({token:n,providedIn:"root",factory:()=>new n})}return n})(),CM=[as.EarlyRead,as.Write,as.MixedReadWrite,as.Read],EM=(()=>{class n{ngZone=y(ce);scheduler=y(Ci);errorHandler=y(an,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){y(Ds,{optional:!0})}execute(){this.executing=!0;for(let e of CM)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[e]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>r.hooks[e](r.pipelinedValue),r.snapshot))}catch(i){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(8),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(7))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}maybeTrace(e,r){return r?r.run(rg.AFTER_NEXT_RENDER,e):e()}static \u0275prov=P({token:n,providedIn:"root",factory:()=>new n})}return n})(),Jp=class{impl;hooks;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,e,r,i,o=null){this.impl=t,this.hooks=e,this.once=r,this.snapshot=o,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function ig(n,t){!t?.injector&&Yd(ig);let e=t?.injector??y(Ue);return dn("NgAfterRender"),Zw(n,e,t,!1)}function Is(n,t){!t?.injector&&Yd(Is);let e=t?.injector??y(Ue);return dn("NgAfterNextRender"),Zw(n,e,t,!0)}function xM(n,t){if(n instanceof Function){let e=[void 0,void 0,void 0,void 0];return e[t]=n,e}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function Zw(n,t,e,r){let i=t.get(Kw);i.impl??=t.get(EM);let o=t.get(Ds,null,{optional:!0}),s=e?.phase??as.MixedReadWrite,a=e?.manualCleanup!==!0?t.get(po):null,l=new Jp(i.impl,xM(n,s),r,a,o?.snapshot(null));return i.impl.register(l),l}var SM=()=>null;function Yw(n,t,e=!1){return SM(n,t,e)}function Jw(n,t){let e=n.contentQueries;if(e!==null){let r=ge(null);try{for(let i=0;i<e.length;i+=2){let o=e[i],s=e[i+1];if(s!==-1){let a=n.data[s];Kh(o),a.contentQueries(2,t[s],s)}}}finally{ge(r)}}}function Xp(n,t,e){Kh(0);let r=ge(null);try{t(n,e)}finally{ge(r)}}function og(n,t,e){if(zh(t)){let r=ge(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let l=e[s];a.contentQueries(1,l,s)}}}finally{ge(r)}}}var yr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(yr||{}),id;function DM(){if(id===void 0&&(id=null,jr.trustedTypes))try{id=jr.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return id}function lu(n){return DM()?.createHTML(n)||n}var od;function IM(){if(od===void 0&&(od=null,jr.trustedTypes))try{od=jr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return od}function oy(n){return IM()?.createScriptURL(n)||n}var Hr=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ty})`}},eh=class extends Hr{getTypeName(){return"HTML"}},th=class extends Hr{getTypeName(){return"Style"}},nh=class extends Hr{getTypeName(){return"Script"}},rh=class extends Hr{getTypeName(){return"URL"}},ih=class extends Hr{getTypeName(){return"ResourceURL"}};function rr(n){return n instanceof Hr?n.changingThisBreaksApplicationSecurity:n}function Di(n,t){let e=TM(n);if(e!=null&&e!==t){if(e==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${Ty})`)}return e===t}function TM(n){return n instanceof Hr&&n.getTypeName()||null}function Xw(n){return new eh(n)}function eC(n){return new th(n)}function tC(n){return new nh(n)}function nC(n){return new rh(n)}function rC(n){return new ih(n)}function MM(n){let t=new sh(n);return AM()?new oh(t):t}var oh=class{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{let e=new window.DOMParser().parseFromString(lu(t),"text/html").body;return e===null?this.inertDocumentHelper.getInertBodyElement(t):(e.firstChild?.remove(),e)}catch{return null}}},sh=class{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){let e=this.inertDocument.createElement("template");return e.innerHTML=lu(t),e}};function AM(){try{return!!new window.DOMParser().parseFromString(lu(""),"text/html")}catch{return!1}}var kM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function cu(n){return n=String(n),n.match(kM)?n:"unsafe:"+n}function Kr(n){let t={};for(let e of n.split(","))t[e]=!0;return t}function rl(...n){let t={};for(let e of n)for(let r in e)e.hasOwnProperty(r)&&(t[r]=!0);return t}var iC=Kr("area,br,col,hr,img,wbr"),oC=Kr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),sC=Kr("rp,rt"),PM=rl(sC,oC),OM=rl(oC,Kr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),RM=rl(sC,Kr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),sy=rl(iC,OM,RM,PM),aC=Kr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),NM=Kr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),FM=Kr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),LM=rl(aC,NM,FM),VM=Kr("script,style,template"),ah=class{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let e=t.firstChild,r=!0,i=[];for(;e;){if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild){i.push(e),e=UM(e);continue}for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let o=BM(e);if(o){e=o;break}e=i.pop()}}return this.buf.join("")}startElement(t){let e=ay(t).toLowerCase();if(!sy.hasOwnProperty(e))return this.sanitizedSomething=!0,!VM.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);let r=t.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!LM.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;aC[a]&&(l=cu(l)),this.buf.push(" ",s,'="',ly(l),'"')}return this.buf.push(">"),!0}endElement(t){let e=ay(t).toLowerCase();sy.hasOwnProperty(e)&&!iC.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(ly(t))}};function jM(n,t){return(n.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function BM(n){let t=n.nextSibling;if(t&&n!==t.previousSibling)throw lC(t);return t}function UM(n){let t=n.firstChild;if(t&&jM(n,t))throw lC(t);return t}function ay(n){let t=n.nodeName;return typeof t=="string"?t:"FORM"}function lC(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var $M=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,zM=/([^\#-~ |!])/g;function ly(n){return n.replace(/&/g,"&amp;").replace($M,function(t){let e=t.charCodeAt(0),r=t.charCodeAt(1);return"&#"+((e-55296)*1024+(r-56320)+65536)+";"}).replace(zM,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var sd;function cC(n,t){let e=null;try{sd=sd||MM(n);let r=t?String(t):"";e=sd.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=e.innerHTML,e=sd.getInertBodyElement(r)}while(r!==o);let a=new ah().sanitizeChildren(cy(e)||e);return lu(a)}finally{if(e){let r=cy(e)||e;for(;r.firstChild;)r.firstChild.remove()}}}function cy(n){return"content"in n&&HM(n)?n.content:null}function HM(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var Vt=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Vt||{});function En(n){let t=uC();return t?t.sanitize(Vt.URL,n)||"":Di(n,"URL")?rr(n):cu(Br(n))}function qM(n){let t=uC();if(t)return oy(t.sanitize(Vt.RESOURCE_URL,n)||"");if(Di(n,"ResourceURL"))return oy(rr(n));throw new O(904,!1)}function GM(n,t){return t==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||t==="href"&&(n==="base"||n==="link")?qM:En}function dC(n,t,e){return GM(t,e)(n)}function uC(){let n=oe();return n&&n[Ur].sanitizer}var WM=/^>|^->|<!--|-->|--!>|<!-$/g,QM=/(<|>)/g,KM="\u200B$1\u200B";function ZM(n){return n.replace(WM,t=>t.replace(QM,KM))}function fC(n){return n.ownerDocument}function mC(n){return n instanceof Function?n():n}var xi=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(xi||{});function YM(n,t,e){let r=n.length;for(;;){let i=n.indexOf(t,e);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}e=i+1}}var pC="ng-template";function JM(n,t,e,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&YM(t[i+1].toLowerCase(),e,0)!==-1)return!0}else if(sg(n))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===e)return!0}return!1}function sg(n){return n.type===4&&n.value!==pC}function XM(n,t,e){let r=n.type===4&&!e?pC:n.value;return t===r}function eA(n,t,e){let r=4,i=n.attrs,o=i!==null?rA(i):0,s=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!s&&!Zn(r)&&!Zn(l))return!1;if(s&&Zn(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!XM(n,l,e)||l===""&&t.length===1){if(Zn(r))return!1;s=!0}}else if(r&8){if(i===null||!JM(n,i,l,e)){if(Zn(r))return!1;s=!0}}else{let u=t[++a],m=tA(l,i,sg(n),e);if(m===-1){if(Zn(r))return!1;s=!0;continue}if(u!==""){let p;if(m>o?p="":p=i[m+1].toLowerCase(),r&2&&u!==p){if(Zn(r))return!1;s=!0}}}}return Zn(r)||s}function Zn(n){return(n&1)===0}function tA(n,t,e,r){if(t===null)return-1;let i=0;if(r||!e){let o=!1;for(;i<t.length;){let s=t[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return iA(t,n)}function hC(n,t,e=!1){for(let r=0;r<t.length;r++)if(eA(n,t[r],e))return!0;return!1}function nA(n){let t=n.attrs;if(t!=null){let e=t.indexOf(5);if(!(e&1))return t[e+1]}return null}function rA(n){for(let t=0;t<n.length;t++){let e=n[t];if(xw(e))return t}return n.length}function iA(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){let r=n[e];if(typeof r=="number")return-1;if(r===t)return e;e++}return-1}function oA(n,t){e:for(let e=0;e<t.length;e++){let r=t[e];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function dy(n,t){return n?":not("+t.trim()+")":t}function sA(n){let t=n[0],e=1,r=2,i="",o=!1;for(;e<n.length;){let s=n[e];if(typeof s=="string")if(r&2){let a=n[++e];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Zn(s)&&(t+=dy(o,i),i=""),r=s,o=o||!Zn(r);e++}return i!==""&&(t+=dy(o,i)),t}function aA(n){return n.map(sA).join(",")}function lA(n){let t=[],e=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&t.push(o,n[++r]):i===8&&e.push(o);else{if(!Zn(i))break;i=o}r++}return e.length&&t.push(1,...e),t}var jt={};function cA(n,t){return n.createText(t)}function dA(n,t,e){n.setValue(t,e)}function uA(n,t){return n.createComment(ZM(t))}function gC(n,t,e){return n.createElement(t,e)}function kd(n,t,e,r,i){n.insertBefore(t,e,r,i)}function bC(n,t,e){n.appendChild(t,e)}function uy(n,t,e,r,i){r!==null?kd(n,t,e,r,i):bC(n,t,e)}function fA(n,t,e){n.removeChild(null,t,e)}function mA(n,t,e){n.setAttribute(t,"style",e)}function pA(n,t,e){e===""?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function vC(n,t,e){let{mergedAttrs:r,classes:i,styles:o}=e;r!==null&&zT(n,t,r),i!==null&&pA(n,t,i),o!==null&&mA(n,t,o)}function h(n=1){_C(Xe(),oe(),Cr()+n,!1)}function _C(n,t,e,r){if(!r)if((t[ie]&3)===3){let o=n.preOrderCheckHooks;o!==null&&ud(t,o,e)}else{let o=n.preOrderHooks;o!==null&&fd(t,o,0,e)}ao(e)}function D(n,t=he.Default){let e=oe();if(e===null)return L(n,t);let r=Nt();return kw(r,e,Qt(n),t)}function yC(n,t,e,r,i,o){let s=ge(null);try{let a=null;i&xi.SignalBased&&(a=t[r][tn]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&xi.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(t,o)),n.setInput!==null?n.setInput(t,a,o,e,r):tw(t,a,r,o)}finally{ge(s)}}function ag(n,t,e,r,i,o,s,a,l,u,m){let p=t.blueprint.slice();return p[Gr]=i,p[ie]=r|4|128|8|64|1024,(u!==null||n&&n[ie]&2048)&&(p[ie]|=2048),aw(p),p[Ot]=p[Es]=n,p[Ct]=e,p[Ur]=s||n&&n[Ur],p[Je]=a||n&&n[Je],p[Ua]=l||n&&n[Ua]||null,p[ln]=o,p[Jd]=hM(),p[ps]=m,p[Xy]=u,p[wn]=t.type==2?n[wn]:p,p}function wC(n,t,e,r){if(e===0)return-1;let i=t.length;for(let o=0;o<e;o++)t.push(r),n.blueprint.push(r),n.data.push(null);return i}function CC(n,t,e,r,i){let o=Cr(),s=r&2;try{ao(-1),s&&t.length>ht&&_C(n,t,ht,!1),Vn(s?2:0,i),e(r,i)}finally{ao(o),Vn(s?3:1,i)}}function lg(n,t,e){uw()&&(ho(tr(e,t),t),EC(n,t,e))}function EC(n,t,e){SA(n,t,e),(e.flags&64)===64&&DA(n,t,e)}function cg(n,t,e=tr){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?e(t,n):n[s];n[i++]=a}}}function hA(n){let t=n.tView;return t===null||t.incompleteFirstPass?n.tView=dg(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function dg(n,t,e,r,i,o,s,a,l,u,m){let p=ht+r,v=p+i,g=gA(p,v),_=typeof u=="function"?u():u;return g[de]={type:n,blueprint:g,template:e,queries:null,viewQuery:a,declTNode:t,data:g.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:_,incompleteFirstPass:!1,ssrId:m}}function gA(n,t){let e=[];for(let r=0;r<t;r++)e.push(r<n?null:jt);return e}function bA(n,t,e,r){let o=r.get(wM,Qw)||e===yr.ShadowDom,s=n.selectRootElement(t,o);return vA(s),s}function vA(n){_A(n)}var _A=()=>null;function fy(n,t,e,r,i){for(let o in t){if(!t.hasOwnProperty(o))continue;let s=t[o];if(s===void 0)continue;r??={};let a,l=xi.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let u=o;if(i!==null){if(!i.hasOwnProperty(o))continue;u=i[o]}n===0?my(r,e,u,a,l):my(r,e,u,a)}return r}function my(n,t,e,r,i){let o;n.hasOwnProperty(e)?(o=n[e]).push(t,r):o=n[e]=[t,r],i!==void 0&&o.push(i)}function yA(n,t,e){let r=t.directiveStart,i=t.directiveEnd,o=n.data,s=t.attrs,a=[],l=null,u=null;for(let m=r;m<i;m++){let p=o[m],v=e?e.get(p):null,g=v?v.inputs:null,_=v?v.outputs:null;l=fy(0,p.inputs,m,l,g),u=fy(1,p.outputs,m,u,_);let C=l!==null&&s!==null&&!sg(t)?jA(l,m,s):null;a.push(C)}l!==null&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=u}function wA(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function ug(n,t,e,r,i,o,s,a){let l=tr(t,e),u=t.inputs,m;!a&&u!=null&&(m=u[r])?(pg(n,e,m,r,i),fo(t)&&CA(e,t.index)):t.type&3?(r=wA(r),i=s!=null?s(i,t.value||"",r):i,o.setProperty(l,r,i)):t.type&12}function CA(n,t){let e=_r(t,n);e[ie]&16||(e[ie]|=64)}function fg(n,t,e,r){if(uw()){let i=r===null?null:{"":-1},o=TA(n,e);if(o!==null){let[s,a]=SC(n,e,o);xC(n,t,e,s,i,a)}i&&AA(e,r,i)}e.mergedAttrs=gs(e.mergedAttrs,e.attrs)}function xC(n,t,e,r,i,o){for(let u=0;u<r.length;u++)Gp(Id(e,t),n,r[u].type);PA(e,n.data.length,r.length);for(let u=0;u<r.length;u++){let m=r[u];m.providersResolver&&m.providersResolver(m)}let s=!1,a=!1,l=wC(n,t,r.length,null);for(let u=0;u<r.length;u++){let m=r[u];e.mergedAttrs=gs(e.mergedAttrs,m.hostAttrs),OA(n,e,t,l,m),kA(l,m,i),m.contentQueries!==null&&(e.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(e.flags|=64);let p=m.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),a=!0),l++}yA(n,e,o)}function EA(n,t,e,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~t.index;xA(s)!=a&&s.push(a),s.push(e,r,o)}}function xA(n){let t=n.length;for(;t>0;){let e=n[--t];if(typeof e=="number"&&e<0)return e}return 0}function SA(n,t,e){let r=e.directiveStart,i=e.directiveEnd;fo(e)&&NA(t,e,n.data[r+e.componentOffset]),n.firstCreatePass||Id(e,t);let o=e.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],l=za(t,n,s,e);if(ho(l,t),o!==null&&VA(t,s-r,l,a,e,o),zr(a)){let u=_r(e.index,t);u[Ct]=za(t,n,s,e)}}}function DA(n,t,e){let r=e.directiveStart,i=e.directiveEnd,o=e.index,s=OT();try{ao(o);for(let a=r;a<i;a++){let l=n.data[a],u=t[a];zp(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&IA(l,u)}}finally{ao(-1),zp(s)}}function IA(n,t){n.hostBindings!==null&&n.hostBindings(1,t)}function TA(n,t){let e=n.directiveRegistry,r=null;if(e)for(let i=0;i<e.length;i++){let o=e[i];hC(t,o.selectors,!1)&&(r??=[],zr(o)?r.unshift(o):r.push(o))}return r}function SC(n,t,e){let r=[],i=null;for(let o of e)o.findHostDirectiveDefs!==null&&(i??=new Map,o.findHostDirectiveDefs(o,r,i)),zr(o)&&(r.push(o),MA(n,t,r.length-1));return fo(t)?r.push(...e.slice(1)):r.push(...e),[r,i]}function MA(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function AA(n,t,e){if(t){let r=n.localNames=[];for(let i=0;i<t.length;i+=2){let o=e[t[i+1]];if(o==null)throw new O(-301,!1);r.push(t[i],o)}}}function kA(n,t,e){if(e){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)e[t.exportAs[r]]=n;zr(t)&&(e[""]=n)}}function PA(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function OA(n,t,e,r,i){n.data[r]=i;let o=i.factory||(i.factory=no(i.type,!0)),s=new lo(o,zr(i),D);n.blueprint[r]=s,e[r]=s,EA(n,t,r,wC(n,e,i.hostVars,jt),i)}function RA(n){let t=16;return n.signals?t=4096:n.onPush&&(t=64),t}function NA(n,t,e){let r=tr(t,n),i=hA(e),o=n[Ur].rendererFactory,s=mg(n,ag(n,i,null,RA(e),r,t,null,o.createRenderer(r,e),null,null,null));return n[t.index]=s}function FA(n,t,e,r,i,o){let s=tr(n,t);LA(t[Je],s,o,n.value,e,r,i)}function LA(n,t,e,r,i,o,s){if(o==null)n.removeAttribute(t,i,e);else{let a=s==null?Br(o):s(o,r||"",i);n.setAttribute(t,i,a,e)}}function VA(n,t,e,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],u=s[a++],m=s[a++],p=s[a++];yC(r,e,l,u,m,p)}}function jA(n,t,e){let r=null,i=0;for(;i<e.length;){let o=e[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===t){r.push(o,s[a+1],s[a+2],e[i+1]);break}}i+=2}return r}function DC(n,t,e,r){return[n,!0,0,t,null,r,null,e,null,null]}function mg(n,t){return n[$a]?n[G_][Jn]=t:n[$a]=t,n[G_]=t,t}function IC(n,t){let e=n[Ua],r=e?e.get(an,null):null;r&&r.handleError(t)}function pg(n,t,e,r,i){for(let o=0;o<e.length;){let s=e[o++],a=e[o++],l=e[o++],u=t[s],m=n.data[s];yC(m,u,r,a,l,i)}}function BA(n,t){let e=_r(t,n),r=e[de];UA(r,e);let i=e[Gr];i!==null&&e[ps]===null&&(e[ps]=Yw(i,e[Ua])),hg(r,e,e[Ct])}function UA(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}function hg(n,t,e){Zh(t);try{let r=n.viewQuery;r!==null&&Xp(1,r,e);let i=n.template;i!==null&&CC(n,t,i,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),t[$r]?.finishViewCreation(n),n.staticContentQueries&&Jw(n,t),n.staticViewQueries&&Xp(2,n.viewQuery,e);let o=n.components;o!==null&&$A(t,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{t[ie]&=-5,Yh()}}function $A(n,t){for(let e=0;e<t.length;e++)BA(n,t[e])}var qr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(qr||{}),zA;function gg(n,t){return zA(n,t)}function bg(n){return(n.flags&32)===32}function ls(n,t,e,r,i){if(r!=null){let o,s=!1;Wr(r)?o=r:_i(r)&&(s=!0,r=r[Gr]);let a=vr(r);n===0&&e!==null?i==null?bC(t,e,a):kd(t,e,a,i||null,!0):n===1&&e!==null?kd(t,e,a,i||null,!0):n===2?fA(t,a,s):n===3&&t.destroyNode(a),o!=null&&ek(t,n,o,e,i)}}function HA(n,t){TC(n,t),t[Gr]=null,t[ln]=null}function qA(n,t,e,r,i,o){r[Gr]=i,r[ln]=t,fu(n,r,e,1,i,o)}function TC(n,t){t[Ur].changeDetectionScheduler?.notify(10),fu(n,t,t[Je],2,null,null)}function GA(n){let t=n[$a];if(!t)return Sp(n[de],n);for(;t;){let e=null;if(_i(t))e=t[$a];else{let r=t[kt];r&&(e=r)}if(!e){for(;t&&!t[Jn]&&t!==n;)_i(t)&&Sp(t[de],t),t=t[Ot];t===null&&(t=n),_i(t)&&Sp(t[de],t),e=t&&t[Jn]}t=e}}function WA(n,t,e,r){let i=kt+r,o=e.length;r>0&&(e[i-1][Jn]=t),r<o-kt?(t[Jn]=e[i],Uy(e,kt+r,t)):(e.push(t),t[Jn]=null),t[Ot]=e;let s=t[ro];s!==null&&e!==s&&MC(s,t);let a=t[$r];a!==null&&a.insertView(n),Up(t),t[ie]|=128}function MC(n,t){let e=n[hs],r=t[Ot];if(_i(r))n[ie]|=2;else{let i=r[Ot][wn];t[wn]!==i&&(n[ie]|=2)}e===null?n[hs]=[t]:e.push(t)}function vg(n,t){let e=n[hs],r=e.indexOf(t);e.splice(r,1)}function Ga(n,t){if(n.length<=kt)return;let e=kt+t,r=n[e];if(r){let i=r[ro];i!==null&&i!==n&&vg(i,r),t>0&&(n[e-1][Jn]=r[Jn]);let o=vd(n,kt+t);HA(r[de],r);let s=o[$r];s!==null&&s.detachView(o[de]),r[Ot]=null,r[Jn]=null,r[ie]&=-129}return r}function du(n,t){if(Ya(t))return;let e=t[Je];e.destroyNode&&fu(n,t,e,3,null,null),GA(t)}function Sp(n,t){if(Ya(t))return;let e=ge(null);try{t[ie]&=-129,t[ie]|=256,t[yn]&&Ko(t[yn]),KA(n,t),QA(n,t),t[de].type===1&&t[Je].destroy();let r=t[ro];if(r!==null&&Wr(t[Ot])){r!==t[Ot]&&vg(r,t);let i=t[$r];i!==null&&i.detachView(n)}Zp(t)}finally{ge(e)}}function QA(n,t){let e=n.cleanup,r=t[yd];if(e!==null)for(let s=0;s<e.length-1;s+=2)if(typeof e[s]=="string"){let a=e[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[e[s+1]];e[s].call(a)}r!==null&&(t[yd]=null);let i=t[vi];if(i!==null){t[vi]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=t[io];if(o!==null){t[io]=null;for(let s of o)s.destroy()}}function KA(n,t){let e;if(n!=null&&(e=n.destroyHooks)!=null)for(let r=0;r<e.length;r+=2){let i=t[e[r]];if(!(i instanceof lo)){let o=e[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];Vn(4,a,l);try{l.call(a)}finally{Vn(5,a,l)}}else{Vn(4,i,o);try{o.call(i)}finally{Vn(5,i,o)}}}}}function AC(n,t,e){return ZA(n,t.parent,e)}function ZA(n,t,e){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return e[Gr];if(fo(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===yr.None||i===yr.Emulated)return null}return tr(r,e)}function kC(n,t,e){return JA(n,t,e)}function YA(n,t,e){return n.type&40?tr(n,e):null}var JA=YA,py;function uu(n,t,e,r){let i=AC(n,r,t),o=t[Je],s=r.parent||t[ln],a=kC(s,r,t);if(i!=null)if(Array.isArray(e))for(let l=0;l<e.length;l++)uy(o,i,e[l],a,!1);else uy(o,i,e,a,!1);py!==void 0&&py(o,r,t,e,i)}function La(n,t){if(t!==null){let e=t.type;if(e&3)return tr(t,n);if(e&4)return lh(-1,n[t.index]);if(e&8){let r=t.child;if(r!==null)return La(n,r);{let i=n[t.index];return Wr(i)?lh(-1,i):vr(i)}}else{if(e&128)return La(n,t.next);if(e&32)return gg(t,n)()||vr(n[t.index]);{let r=PC(n,t);if(r!==null){if(Array.isArray(r))return r[0];let i=so(n[wn]);return La(i,r)}else return La(n,t.next)}}}return null}function PC(n,t){if(t!==null){let r=n[wn][ln],i=t.projection;return r.projection[i]}return null}function lh(n,t){let e=kt+n+1;if(e<t.length){let r=t[e],i=r[de].firstChild;if(i!==null)return La(r,i)}return t[oo]}function _g(n,t,e,r,i,o,s){for(;e!=null;){if(e.type===128){e=e.next;continue}let a=r[e.index],l=e.type;if(s&&t===0&&(a&&ho(vr(a),r),e.flags|=2),!bg(e))if(l&8)_g(n,t,e.child,r,i,o,!1),ls(t,n,i,a,o);else if(l&32){let u=gg(e,r),m;for(;m=u();)ls(t,n,i,m,o);ls(t,n,i,a,o)}else l&16?OC(n,t,r,e,i,o):ls(t,n,i,a,o);e=s?e.projectionNext:e.next}}function fu(n,t,e,r,i,o){_g(e,r,n.firstChild,t,i,o,!1)}function XA(n,t,e){let r=t[Je],i=AC(n,e,t),o=e.parent||t[ln],s=kC(o,e,t);OC(r,0,t,e,i,s)}function OC(n,t,e,r,i,o){let s=e[wn],l=s[ln].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++){let m=l[u];ls(t,n,i,m,o)}else{let u=l,m=s[Ot];Uw(r)&&(u.flags|=128),_g(n,t,u,m,i,o,!0)}}function ek(n,t,e,r,i){let o=e[oo],s=vr(e);o!==s&&ls(t,n,r,o,i);for(let a=kt;a<e.length;a++){let l=e[a];fu(l[de],l,n,t,r,o)}}function tk(n,t,e,r,i){if(t)i?n.addClass(e,r):n.removeClass(e,r);else{let o=r.indexOf("-")===-1?void 0:qr.DashCase;i==null?n.removeStyle(e,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=qr.Important),n.setStyle(e,r,i,o))}}function il(n,t,e,r){let i=ge(null);try{let o=t.tView,a=n[ie]&4096?4096:16,l=ag(n,o,e,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=n[t.index];l[ro]=u;let m=n[$r];return m!==null&&(l[$r]=m.createEmbeddedView(o)),hg(o,l,e),l}finally{ge(i)}}function RC(n,t){let e=kt+t;if(e<n.length)return n[e]}function bs(n,t){return!t||t.firstChild===null||Uw(n)}function ol(n,t,e,r=!0){let i=t[de];if(WA(i,t,n,e),r){let s=lh(e,n),a=t[Je],l=a.parentNode(n[oo]);l!==null&&qA(i,n[ln],a,t,l,s)}let o=t[ps];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function NC(n,t){let e=Ga(n,t);return e!==void 0&&du(e[de],e),e}function Pd(n,t,e,r,i=!1){for(;e!==null;){if(e.type===128){e=i?e.projectionNext:e.next;continue}let o=t[e.index];o!==null&&r.push(vr(o)),Wr(o)&&nk(o,r);let s=e.type;if(s&8)Pd(n,t,e.child,r);else if(s&32){let a=gg(e,t),l;for(;l=a();)r.push(l)}else if(s&16){let a=PC(t,e);if(Array.isArray(a))r.push(...a);else{let l=so(t[wn]);Pd(l[de],l,a,r,!0)}}e=i?e.projectionNext:e.next}return r}function nk(n,t){for(let e=kt;e<n.length;e++){let r=n[e],i=r[de].firstChild;i!==null&&Pd(r[de],r,i,t)}n[oo]!==n[Gr]&&t.push(n[oo])}var FC=[];function rk(n){return n[yn]??ik(n)}function ik(n){let t=FC.pop()??Object.create(sk);return t.lView=n,t}function ok(n){n.lView[yn]!==n&&(n.lView=null,FC.push(n))}var sk=W(k({},Gi),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Ja(n.lView)},consumerOnSignalRead(){this.lView[yn]=this}});function ak(n){let t=n[yn]??Object.create(lk);return t.lView=n,t}var lk=W(k({},Gi),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let t=so(n.lView);for(;t&&!LC(t[de]);)t=so(t);t&&Gh(t)},consumerOnSignalRead(){this.lView[yn]=this}});function LC(n){return n.type!==2}function VC(n){if(n[io]===null)return;let t=!0;for(;t;){let e=!1;for(let r of n[io])r.dirty&&(e=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=e&&!!(n[ie]&8192)}}var ck=100;function jC(n,t=!0,e=0){let i=n[Ur].rendererFactory,o=!1;o||i.begin?.();try{dk(n,e)}catch(s){throw t&&IC(n,s),s}finally{o||i.end?.()}}function dk(n,t){let e=pw();try{Ed(!0),ch(n,t);let r=0;for(;eu(n);){if(r===ck)throw new O(103,!1);r++,ch(n,1)}}finally{Ed(e)}}function uk(n,t,e,r){if(Ya(t))return;let i=t[ie],o=!1,s=!1;Zh(t);let a=!0,l=null,u=null;o||(LC(n)?(u=rk(t),l=Qo(u)):e_()===null?(a=!1,u=ak(t),l=Qo(u)):t[yn]&&(Ko(t[yn]),t[yn]=null));try{aw(t),AT(n.bindingStartIndex),e!==null&&CC(n,t,e,2,r);let m=(i&3)===3;if(!o)if(m){let g=n.preOrderCheckHooks;g!==null&&ud(t,g,null)}else{let g=n.preOrderHooks;g!==null&&fd(t,g,0,null),Cp(t,0)}if(s||fk(t),VC(t),BC(t,0),n.contentQueries!==null&&Jw(n,t),!o)if(m){let g=n.contentCheckHooks;g!==null&&ud(t,g)}else{let g=n.contentHooks;g!==null&&fd(t,g,1),Cp(t,1)}pk(n,t);let p=n.components;p!==null&&$C(t,p,0);let v=n.viewQuery;if(v!==null&&Xp(2,v,r),!o)if(m){let g=n.viewCheckHooks;g!==null&&ud(t,g)}else{let g=n.viewHooks;g!==null&&fd(t,g,2),Cp(t,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),t[dd]){for(let g of t[dd])g();t[dd]=null}o||(t[ie]&=-73)}catch(m){throw o||Ja(t),m}finally{u!==null&&(Sa(u,l),a&&ok(u)),Yh()}}function BC(n,t){for(let e=Hw(n);e!==null;e=qw(e))for(let r=kt;r<e.length;r++){let i=e[r];UC(i,t)}}function fk(n){for(let t=Hw(n);t!==null;t=qw(t)){if(!(t[ie]&2))continue;let e=t[hs];for(let r=0;r<e.length;r++){let i=e[r];Gh(i)}}}function mk(n,t,e){let r=_r(t,n);UC(r,e)}function UC(n,t){qh(n)&&ch(n,t)}function ch(n,t){let r=n[de],i=n[ie],o=n[yn],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&Da(o)),s||=!1,o&&(o.dirty=!1),n[ie]&=-9217,s)uk(r,n,r.template,n[Ct]);else if(i&8192){VC(n),BC(n,1);let a=r.components;a!==null&&$C(n,a,1)}}function $C(n,t,e){for(let r=0;r<t.length;r++)mk(n,t[r],e)}function pk(n,t){let e=n.hostBindingOpCodes;if(e!==null)try{for(let r=0;r<e.length;r++){let i=e[r];if(i<0)ao(~i);else{let o=i,s=e[++r],a=e[++r];PT(s,o);let l=t[o];Vn(24,l),a(2,l),Vn(25,l)}}}finally{ao(-1)}}function yg(n,t){let e=pw()?64:1088;for(n[Ur].changeDetectionScheduler?.notify(t);n;){n[ie]|=e;let r=so(n);if(Cd(n)&&!r)return n;n=r}return null}var co=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let t=this._lView,e=t[de];return Pd(e,t,e.firstChild,[])}constructor(t,e,r=!0){this._lView=t,this._cdRefInjectingView=e,this.notifyErrorHandler=r}get context(){return this._lView[Ct]}get dirty(){return!!(this._lView[ie]&9280)||!!this._lView[yn]?.dirty}set context(t){this._lView[Ct]=t}get destroyed(){return Ya(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Ot];if(Wr(t)){let e=t[wd],r=e?e.indexOf(this):-1;r>-1&&(Ga(t,r),vd(e,r))}this._attachedToViewContainer=!1}du(this._lView[de],this._lView)}onDestroy(t){lw(this._lView,t)}markForCheck(){yg(this._cdRefInjectingView||this._lView,4)}markForRefresh(){Gh(this._cdRefInjectingView||this._lView)}detach(){this._lView[ie]&=-129}reattach(){Up(this._lView),this._lView[ie]|=128}detectChanges(){this._lView[ie]|=1024,jC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new O(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=Cd(this._lView),e=this._lView[ro];e!==null&&!t&&vg(e,this._lView),TC(this._lView[de],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new O(902,!1);this._appRef=t;let e=Cd(this._lView),r=this._lView[ro];r!==null&&!e&&MC(r,this._lView),Up(this._lView)}},Zt=(()=>{class n{static __NG_ELEMENT_ID__=bk}return n})(),hk=Zt,gk=class extends hk{_declarationLView;_declarationTContainer;elementRef;constructor(t,e,r){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,r){let i=il(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:e,dehydratedView:r});return new co(i)}};function bk(){return mu(Nt(),oe())}function mu(n,t){return n.type&4?new gk(t,n,Ss(n,t)):null}function Ts(n,t,e,r,i){let o=n.data[t];if(o===null)o=vk(n,t,e,r,i),kT()&&(o.flags|=32);else if(o.type&64){o.type=e,o.value=r,o.attrs=i;let s=TT();o.injectorIndex=s===null?-1:s.injectorIndex}return mo(o,!0),o}function vk(n,t,e,r,i){let o=mw(),s=Wh(),a=s?o:o&&o.parent,l=n.data[t]=yk(n,a,e,t,r,i);return _k(n,l,o,s),l}function _k(n,t,e,r){n.firstChild===null&&(n.firstChild=t),e!==null&&(r?e.child==null&&t.parent!==null&&(e.child=t):e.next===null&&(e.next=t,t.prev=e))}function yk(n,t,e,r,i,o){let s=t?t.injectorIndex:-1,a=0;return fw()&&(a|=128),{type:e,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var O9=new RegExp(`^(\\d+)*(${yM}|${_M})*(.*)`);var wk=()=>null;function vs(n,t){return wk(n,t)}var dh=class{},Od=class{},uh=class{resolveComponentFactory(t){throw Error(`No component factory found for ${Kt(t)}.`)}},_s=class{static NULL=new uh},Xn=class{},Bt=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>Ck()}return n})();function Ck(){let n=oe(),t=Nt(),e=_r(t.index,n);return(_i(e)?e:n)[Je]}var Ek=(()=>{class n{static \u0275prov=P({token:n,providedIn:"root",factory:()=>null})}return n})();function Rd(n,t,e){let r=e?n.styles:null,i=e?n.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=Op(i,a);else if(o==2){let l=a,u=t[++s];r=Op(r,l+": "+u+";")}}e?n.styles=r:n.stylesWithoutHost=r,e?n.classes=i:n.classesWithoutHost=i}var Nd=class extends _s{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let e=yi(t);return new ys(e,this.ngModule)}};function hy(n,t){let e=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:xi.None;t?e.push({propName:s,templateName:r,isSignal:(a&xi.SignalBased)!==0}):e.push({propName:s,templateName:r})}return e}function xk(n){let t=n.toLowerCase();return t==="svg"?gT:t==="math"?bT:null}var ys=class extends Od{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){let t=this.componentDef,e=t.inputTransforms,r=hy(t.inputs,!0);if(e!==null)for(let i of r)e.hasOwnProperty(i.propName)&&(i.transform=e[i.propName]);return r}get outputs(){return hy(this.componentDef.outputs,!1)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=aA(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!e}create(t,e,r,i){let o=ge(null);try{i=i||this.ngModule;let s=i instanceof Pt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Hp(t,s):t,l=a.get(Xn,null);if(l===null)throw new O(407,!1);let u=a.get(Ek,null),m=a.get(Ci,null),p={rendererFactory:l,sanitizer:u,changeDetectionScheduler:m},v=l.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",_=r?bA(v,r,this.componentDef.encapsulation,a):gC(v,g,xk(g)),C=512;this.componentDef.signals?C|=4096:this.componentDef.onPush||(C|=16);let S=null;_!==null&&(S=Yw(_,a,!0));let A=dg(0,null,null,1,0,null,null,null,null,null,null),F=ag(null,A,null,C,null,null,p,v,a,null,S);F[ht]=_,Zh(F);let B=null;try{let H=r?["ng-version","19.1.4"]:lA(this.componentDef.selectors[0]),Y=Ts(A,ht,2,"#host",H),[Ae,Oe]=SC(A,Y,[this.componentDef]);xC(A,F,Y,Ae,{},Oe);for(let Ze of Ae)Y.mergedAttrs=gs(Y.mergedAttrs,Ze.hostAttrs);Y.mergedAttrs=gs(Y.mergedAttrs,H),Rd(Y,Y.mergedAttrs,!0),_&&(vC(v,_,Y),ho(_,F)),e!==void 0&&Sk(Y,this.ngContentSelectors,e),EC(A,F,Y),og(A,Y,F),ou(A,Y),B=_r(Y.index,F),F[Ct]=B[Ct],hg(A,F,null)}catch(H){throw B!==null&&Zp(B),Zp(F),H}finally{Yh()}return new fh(this.componentType,F)}finally{ge(o)}}},fh=class extends dh{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,e){super(),this._rootLView=e,this._tNode=Hh(e[de],ht),this.location=Ss(this._tNode,e),this.instance=_r(this._tNode.index,e)[Ct],this.hostView=this.changeDetectorRef=new co(e,void 0,!1),this.componentType=t}setInput(t,e){let r=this._tNode.inputs,i;if(r!==null&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;let o=this._rootLView;pg(o[de],o,i,t,e),this.previousInputValues.set(t,e);let s=_r(this._tNode.index,o);yg(s,1)}}get injector(){return new to(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function Sk(n,t,e){let r=n.projection=[];for(let i=0;i<t.length;i++){let o=e[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Yt=(()=>{class n{static __NG_ELEMENT_ID__=Dk}return n})();function Dk(){let n=Nt();return HC(n,oe())}var Ik=Yt,zC=class extends Ik{_lContainer;_hostTNode;_hostLView;constructor(t,e,r){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=r}get element(){return Ss(this._hostTNode,this._hostLView)}get injector(){return new to(this._hostTNode,this._hostLView)}get parentInjector(){let t=Jh(this._hostTNode,this._hostLView);if(Sw(t)){let e=Sd(t,this._hostLView),r=xd(t),i=e[de].data[r+8];return new to(i,e)}else return new to(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let e=gy(this._lContainer);return e!==null&&e[t]||null}get length(){return this._lContainer.length-kt}createEmbeddedView(t,e,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=vs(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(e||{},o,s);return this.insertImpl(a,i,bs(this._hostTNode,s)),a}createComponent(t,e,r,i,o){let s=t&&!fT(t),a;if(s)a=e;else{let _=e||{};a=_.index,r=_.injector,i=_.projectableNodes,o=_.environmentInjector||_.ngModuleRef}let l=s?t:new ys(yi(t)),u=r||this.parentInjector;if(!o&&l.ngModule==null){let C=(s?u:this.parentInjector).get(Pt,null);C&&(o=C)}let m=yi(l.componentType??{}),p=vs(this._lContainer,m?.id??null),v=p?.firstChild??null,g=l.create(u,i,v,o);return this.insertImpl(g.hostView,a,bs(this._hostTNode,p)),g}insert(t,e){return this.insertImpl(t,e,!0)}insertImpl(t,e,r){let i=t._lView;if(_T(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=i[Ot],u=new zC(l,l[ln],l[Ot]);u.detach(u.indexOf(t))}}let o=this._adjustIndex(e),s=this._lContainer;return ol(s,i,o,r),t.attachToViewContainerRef(),Uy(Dp(s),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){let e=gy(this._lContainer);return e!==null?e.indexOf(t):-1}remove(t){let e=this._adjustIndex(t,-1),r=Ga(this._lContainer,e);r&&(vd(Dp(this._lContainer),e),du(r[de],r))}detach(t){let e=this._adjustIndex(t,-1),r=Ga(this._lContainer,e);return r&&vd(Dp(this._lContainer),e)!=null?new co(r):null}_adjustIndex(t,e=0){return t??this.length+e}};function gy(n){return n[wd]}function Dp(n){return n[wd]||(n[wd]=[])}function HC(n,t){let e,r=t[n.index];return Wr(r)?e=r:(e=DC(r,t,null,n),t[n.index]=e,mg(t,e)),Mk(e,t,n,r),new zC(e,n,t)}function Tk(n,t){let e=n[Je],r=e.createComment(""),i=tr(t,n),o=e.parentNode(i);return kd(e,o,r,e.nextSibling(i),!1),r}var Mk=Pk,Ak=()=>!1;function kk(n,t,e){return Ak(n,t,e)}function Pk(n,t,e,r){if(n[oo])return;let i;e.type&8?i=vr(r):i=Tk(t,e),n[oo]=i}var mh=class n{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},ph=class n{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let e=t.queries;if(e!==null){let r=t.contentQueries!==null?t.contentQueries[0]:e.length,i=[];for(let o=0;o<r;o++){let s=e.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)wg(t,e).matches!==null&&this.queries[e].setDirty()}},Fd=class{flags;read;predicate;constructor(t,e,r=null){this.flags=e,this.read=r,typeof t=="string"?this.predicate=Bk(t):this.predicate=t}},hh=class n{queries;constructor(t=[]){this.queries=t}elementStart(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let r=0;r<this.length;r++){let i=e!==null?e.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,e!==null?e.push(o):e=[o])}return e!==null?new n(e):null}template(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},gh=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,e=-1){this.metadata=t,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new n(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,r=t.parent;for(;r!==null&&r.type&8&&r.index!==e;)r=r.parent;return e===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(t,e){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(t,e,Ok(e,o)),this.matchTNodeWithReadOption(t,e,md(e,t,o,!1,!1))}else r===Zt?e.type&4&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,md(e,t,r,!1,!1))}matchTNodeWithReadOption(t,e,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===ve||i===Yt||i===Zt&&e.type&4)this.addMatch(e.index,-2);else{let o=md(e,t,i,!1,!1);o!==null&&this.addMatch(e.index,o)}else this.addMatch(e.index,r)}}addMatch(t,e){this.matches===null?this.matches=[t,e]:this.matches.push(t,e)}};function Ok(n,t){let e=n.localNames;if(e!==null){for(let r=0;r<e.length;r+=2)if(e[r]===t)return e[r+1]}return null}function Rk(n,t){return n.type&11?Ss(n,t):n.type&4?mu(n,t):null}function Nk(n,t,e,r){return e===-1?Rk(t,n):e===-2?Fk(n,t,r):za(n,n[de],e,t)}function Fk(n,t,e){if(e===ve)return Ss(t,n);if(e===Zt)return mu(t,n);if(e===Yt)return HC(t,n)}function qC(n,t,e,r){let i=t[$r].queries[r];if(i.matches===null){let o=n.data,s=e.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let u=s[l];if(u<0)a.push(null);else{let m=o[u];a.push(Nk(t,m,s[l+1],e.metadata.read))}}i.matches=a}return i.matches}function bh(n,t,e,r){let i=n.queries.getByIndex(e),o=i.matches;if(o!==null){let s=qC(n,t,i,e);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)r.push(s[a/2]);else{let u=o[a+1],m=t[-l];for(let p=kt;p<m.length;p++){let v=m[p];v[ro]===v[Ot]&&bh(v[de],v,u,r)}if(m[hs]!==null){let p=m[hs];for(let v=0;v<p.length;v++){let g=p[v];bh(g[de],g,u,r)}}}}}return r}function Lk(n,t){return n[$r].queries[t].queryList}function GC(n,t,e){let r=new Ei((e&4)===4);return CT(n,t,r,r.destroy),(t[$r]??=new ph).queries.push(new mh(r))-1}function Vk(n,t,e){let r=Xe();return r.firstCreatePass&&(WC(r,new Fd(n,t,e),-1),(t&2)===2&&(r.staticViewQueries=!0)),GC(r,oe(),t)}function jk(n,t,e,r){let i=Xe();if(i.firstCreatePass){let o=Nt();WC(i,new Fd(t,e,r),o.index),Uk(i,n),(e&2)===2&&(i.staticContentQueries=!0)}return GC(i,oe(),e)}function Bk(n){return n.split(",").map(t=>t.trim())}function WC(n,t,e){n.queries===null&&(n.queries=new hh),n.queries.track(new gh(t,e))}function Uk(n,t){let e=n.contentQueries||(n.contentQueries=[]),r=e.length?e[e.length-1]:-1;t!==r&&e.push(n.queries.length-1,t)}function wg(n,t){return n.queries.getByIndex(t)}function $k(n,t){let e=n[de],r=wg(e,t);return r.crossesNgTemplate?bh(e,n,t,[]):qC(e,n,r,t)}var wr=class{},Wa=class{};var vh=class extends wr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Nd(this);constructor(t,e,r,i=!0){super(),this.ngModuleType=t,this._parent=e;let o=Hy(t);this._bootstrapComponents=mC(o.bootstrap),this._r3Injector=Rw(t,e,[{provide:wr,useValue:this},{provide:_s,useValue:this.componentFactoryResolver},...r],Kt(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},_h=class extends Wa{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new vh(this.moduleType,t,[])}};var Ld=class extends wr{injector;componentFactoryResolver=new Nd(this);instance=null;constructor(t){super();let e=new Ba([...t.providers,{provide:wr,useValue:this},{provide:_s,useValue:this.componentFactoryResolver}],t.parent||Zd(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Cg(n,t,e=null){return new Ld({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}var zk=(()=>{class n{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let r=Qy(!1,e.type),i=r.length>0?Cg([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,i)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=P({token:n,providedIn:"environment",factory:()=>new n(L(Pt))})}return n})();function j(n){return Ka(()=>{let t=QC(n),e=W(k({},t),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===$w.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(zk).getOrCreateStandaloneInjector(e):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||yr.Emulated,styles:n.styles||sn,_:null,schemas:n.schemas||null,tView:null,id:""});t.standalone&&dn("NgStandalone"),KC(e);let r=n.dependencies;return e.directiveDefs=vy(r,!1),e.pipeDefs=vy(r,!0),e.id=Gk(e),e})}function Hk(n){return yi(n)||qy(n)}function qk(n){return n!==null}function Le(n){return Ka(()=>({type:n.type,bootstrap:n.bootstrap||sn,declarations:n.declarations||sn,imports:n.imports||sn,exports:n.exports||sn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function by(n,t){if(n==null)return us;let e={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=xi.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),t?(e[o]=a!==xi.None?[r,a]:r,t[o]=s):e[o]=r}return e}function X(n){return Ka(()=>{let t=QC(n);return KC(t),t})}function Eg(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function QC(n){let t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:n.inputs||us,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||sn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:by(n.inputs,t),outputs:by(n.outputs),debugInfo:null}}function KC(n){n.features?.forEach(t=>t(n))}function vy(n,t){if(!n)return null;let e=t?Gy:Hk;return()=>(typeof n=="function"?n():n).map(r=>e(r)).filter(qk)}function Gk(n){let t=0,e=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,e,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function Wk(n){return Object.getPrototypeOf(n.prototype).constructor}function ke(n){let t=Wk(n.type),e=!0,r=[n];for(;t;){let i;if(zr(n))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new O(903,!1);i=t.\u0275dir}if(i){if(e){r.push(i);let s=n;s.inputs=ad(n.inputs),s.inputTransforms=ad(n.inputTransforms),s.declaredInputs=ad(n.declaredInputs),s.outputs=ad(n.outputs);let a=i.hostBindings;a&&Jk(n,a);let l=i.viewQuery,u=i.contentQueries;if(l&&Zk(n,l),u&&Yk(n,u),Qk(n,i),kI(n.outputs,i.outputs),zr(i)&&i.data.animation){let m=n.data;m.animation=(m.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===ke&&(e=!1)}}t=Object.getPrototypeOf(t)}Kk(r)}function Qk(n,t){for(let e in t.inputs){if(!t.inputs.hasOwnProperty(e)||n.inputs.hasOwnProperty(e))continue;let r=t.inputs[e];if(r!==void 0&&(n.inputs[e]=r,n.declaredInputs[e]=t.declaredInputs[e],t.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!t.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=t.inputTransforms[i]}}}function Kk(n){let t=0,e=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=t+=i.hostVars,i.hostAttrs=gs(i.hostAttrs,e=gs(e,i.hostAttrs))}}function ad(n){return n===us?{}:n===sn?[]:n}function Zk(n,t){let e=n.viewQuery;e?n.viewQuery=(r,i)=>{t(r,i),e(r,i)}:n.viewQuery=t}function Yk(n,t){let e=n.contentQueries;e?n.contentQueries=(r,i,o)=>{t(r,i,o),e(r,i,o)}:n.contentQueries=t}function Jk(n,t){let e=n.hostBindings;e?n.hostBindings=(r,i)=>{t(r,i),e(r,i)}:n.hostBindings=t}function ft(n){let t=n.inputConfig,e={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r];Array.isArray(i)&&i[3]&&(e[r]=i[3])}n.inputTransforms=e}function ZC(n){return eP(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function Xk(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{let e=n[Symbol.iterator](),r;for(;!(r=e.next()).done;)t(r.value)}}function eP(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function pu(n,t,e){return n[t]=e}function tP(n,t){return n[t]}function jn(n,t,e){let r=n[t];return Object.is(r,e)?!1:(n[t]=e,!0)}function xg(n,t,e,r){let i=jn(n,t,e);return jn(n,t+1,r)||i}function YC(n,t,e,r,i){let o=xg(n,t,e,r);return jn(n,t+2,i)||o}function nP(n,t,e,r,i,o,s,a,l){let u=t.consts,m=Ts(t,n,4,s||null,a||null);fg(t,e,m,wi(u,l)),ou(t,m);let p=m.tView=dg(2,m,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u,null);return t.queries!==null&&(t.queries.template(t,m),p.queries=t.queries.embeddedTView(m)),m}function Vd(n,t,e,r,i,o,s,a,l,u){let m=e+ht,p=t.firstCreatePass?nP(m,t,n,r,i,o,s,a,l):t.data[m];mo(p,!1);let v=rP(t,n,p,e);ru()&&uu(t,n,v,p),ho(v,n);let g=DC(v,n,v,p);return n[m]=g,mg(n,g),kk(g,p,n),Xd(p)&&lg(t,n,p),l!=null&&cg(n,p,u),p}function x(n,t,e,r,i,o,s,a){let l=oe(),u=Xe(),m=wi(u.consts,o);return Vd(l,u,n,t,e,r,i,m,s,a),x}var rP=iP;function iP(n,t,e,r){return iu(!0),t[Je].createComment("")}var Sg=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var JC=new V("");function go(n){return!!n&&typeof n.then=="function"}function XC(n){return!!n&&typeof n.subscribe=="function"}var eE=new V("");var tE=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,r)=>{this.resolve=e,this.reject=r});appInits=y(eE,{optional:!0})??[];injector=y(Ue);constructor(){}runInitializers(){if(this.initialized)return;let e=[];for(let i of this.appInits){let o=Cn(this.injector,i);if(go(o))e.push(o);else if(XC(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),e.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),nE=(()=>{class n{static \u0275prov=P({token:n,providedIn:"root",factory:()=>new jd})}return n})(),jd=class{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){let e=t.zone,r=this.queues.get(e);r.has(t)&&(r.delete(t),this.queuedEffectCount--)}enqueue(t){let e=t.zone;this.queues.has(e)||this.queues.set(e,new Set);let r=this.queues.get(e);r.has(t)||(this.queuedEffectCount++,r.add(t))}flush(){for(;this.queuedEffectCount>0;)for(let[t,e]of this.queues)t===null?this.flushQueue(e):t.run(()=>this.flushQueue(e))}flushQueue(t){for(let e of t)t.delete(e),this.queuedEffectCount--,e.run()}},hu=new V("");function oP(){u_(()=>{throw new O(600,!1)})}function sP(n){return n.isBoundToModule}var aP=10;function lP(n,t,e){try{let r=e();return go(r)?r.catch(i=>{throw t.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>n.handleError(r)),r}}var er=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=y(lM);afterRenderManager=y(Kw);zonelessEnabled=y(au);rootEffectScheduler=y(nE);dirtyFlags=0;deferredDirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new ne;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=y(Qr).hasPendingTasks.pipe(K(e=>!e));constructor(){y(Ds,{optional:!0})}whenStable(){let e;return new Promise(r=>{e=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{e.unsubscribe()})}_injector=y(Pt);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,r){let i=e instanceof Od;if(!this._injector.get(tE).done){let v=!i&&Wy(e),g=!1;throw new O(405,g)}let s;i?s=e:s=this._injector.get(_s).resolveComponentFactory(e),this.componentTypes.push(s.componentType);let a=sP(s)?void 0:this._injector.get(wr),l=r||s.selector,u=s.create(Ue.NULL,[],l,a),m=u.location.nativeElement,p=u.injector.get(JC,null);return p?.registerApplication(m),u.onDestroy(()=>{this.detachView(u.hostView),pd(this.components,u),p?.unregisterApplication(m)}),this._loadComponent(u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick=()=>{if(this.tracingSnapshot!==null){let r=this.tracingSnapshot;this.tracingSnapshot=null,r.run(rg.CHANGE_DETECTION,this._tick),r.dispose();return}if(this._runningTick)throw new O(101,!1);let e=ge(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,ge(e),this.afterTick.next()}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Xn,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let e=0;for(;this.dirtyFlags!==0&&e++<aP;)this.synchronizeOnce()}synchronizeOnce(){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let e=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)cP(r,i,e,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>eu(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){let r=e;pd(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(hu,[]).forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>pd(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new O(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function pd(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function cP(n,t,e,r){if(!e&&!eu(n))return;jC(n,t,e&&!r?0:1)}function bt(n,t,e,r){let i=oe(),o=xs();if(jn(i,o,t)){let s=Xe(),a=nu();FA(a,i,n,t,e,r)}return bt}function rE(n,t,e,r){return jn(n,xs(),e)?t+Br(e)+r:jt}function dP(n,t,e,r,i,o){let s=hw(),a=xg(n,s,e,i);return tu(2),a?t+Br(e)+r+Br(i)+o:jt}function uP(n,t,e,r,i,o,s,a){let l=hw(),u=YC(n,l,e,i,s);return tu(3),u?t+Br(e)+r+Br(i)+o+Br(s)+a:jt}function ld(n,t){return n<<17|t<<2}function uo(n){return n>>17&32767}function fP(n){return(n&2)==2}function mP(n,t){return n&131071|t<<17}function yh(n){return n|2}function ws(n){return(n&131068)>>2}function Ip(n,t){return n&-131069|t<<2}function pP(n){return(n&1)===1}function wh(n){return n|1}function hP(n,t,e,r,i,o){let s=o?t.classBindings:t.styleBindings,a=uo(s),l=ws(s);n[r]=e;let u=!1,m;if(Array.isArray(e)){let p=e;m=p[1],(m===null||Za(p,m)>0)&&(u=!0)}else m=e;if(i)if(l!==0){let v=uo(n[a+1]);n[r+1]=ld(v,a),v!==0&&(n[v+1]=Ip(n[v+1],r)),n[a+1]=mP(n[a+1],r)}else n[r+1]=ld(a,0),a!==0&&(n[a+1]=Ip(n[a+1],r)),a=r;else n[r+1]=ld(l,0),a===0?a=r:n[l+1]=Ip(n[l+1],r),l=r;u&&(n[r+1]=yh(n[r+1])),_y(n,m,r,!0),_y(n,m,r,!1),gP(t,m,n,r,o),s=ld(a,l),o?t.classBindings=s:t.styleBindings=s}function gP(n,t,e,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof t=="string"&&Za(o,t)>=0&&(e[r+1]=wh(e[r+1]))}function _y(n,t,e,r){let i=n[e+1],o=t===null,s=r?uo(i):ws(i),a=!1;for(;s!==0&&(a===!1||o);){let l=n[s],u=n[s+1];bP(l,t)&&(a=!0,n[s+1]=r?wh(u):yh(u)),s=r?uo(u):ws(u)}a&&(n[e+1]=r?yh(i):wh(i))}function bP(n,t){return n===null||t==null||(Array.isArray(n)?n[1]:n)===t?!0:Array.isArray(n)&&typeof t=="string"?Za(n,t)>=0:!1}var Yn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function vP(n){return n.substring(Yn.key,Yn.keyEnd)}function _P(n){return yP(n),iE(n,oE(n,0,Yn.textEnd))}function iE(n,t){let e=Yn.textEnd;return e===t?-1:(t=Yn.keyEnd=wP(n,Yn.key=t,e),oE(n,t,e))}function yP(n){Yn.key=0,Yn.keyEnd=0,Yn.value=0,Yn.valueEnd=0,Yn.textEnd=n.length}function oE(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function wP(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}function b(n,t,e){let r=oe(),i=xs();if(jn(r,i,t)){let o=Xe(),s=nu();ug(o,s,r,n,t,r[Je],e,!1)}return b}function Ch(n,t,e,r,i){let o=t.inputs,s=i?"class":"style";pg(n,e,o[s],s,r)}function xn(n,t,e){return sE(n,t,e,!1),xn}function Ie(n,t){return sE(n,t,null,!0),Ie}function Er(n){EP(MP,CP,n,!0)}function CP(n,t){for(let e=_P(t);e>=0;e=iE(t,e))Uh(n,vP(t),!0)}function sE(n,t,e,r){let i=oe(),o=Xe(),s=tu(2);if(o.firstUpdatePass&&lE(o,n,s,r),t!==jt&&jn(i,s,t)){let a=o.data[Cr()];cE(o,a,i,i[Je],n,i[s+1]=kP(t,e),r,s)}}function EP(n,t,e,r){let i=Xe(),o=tu(2);i.firstUpdatePass&&lE(i,null,o,r);let s=oe();if(e!==jt&&jn(s,o,e)){let a=i.data[Cr()];if(dE(a,r)&&!aE(i,o)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(e=Op(l,e||"")),Ch(i,a,s,e,r)}else AP(i,a,s,s[Je],s[o+1],s[o+1]=TP(n,t,e),r,o)}}function aE(n,t){return t>=n.expandoStartIndex}function lE(n,t,e,r){let i=n.data;if(i[e+1]===null){let o=i[Cr()],s=aE(n,e);dE(o,r)&&t===null&&!s&&(t=!1),t=xP(i,o,t,r),hP(i,o,t,e,s,r)}}function xP(n,t,e,r){let i=RT(n),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(e=Tp(null,n,t,e,r),e=Qa(e,t.attrs,r),o=null);else{let s=t.directiveStylingLast;if(s===-1||n[s]!==i)if(e=Tp(i,n,t,e,r),o===null){let l=SP(n,t,r);l!==void 0&&Array.isArray(l)&&(l=Tp(null,n,t,l[1],r),l=Qa(l,t.attrs,r),DP(n,t,r,l))}else o=IP(n,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),e}function SP(n,t,e){let r=e?t.classBindings:t.styleBindings;if(ws(r)!==0)return n[uo(r)]}function DP(n,t,e,r){let i=e?t.classBindings:t.styleBindings;n[uo(i)]=r}function IP(n,t,e){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Qa(r,s,e)}return Qa(r,t.attrs,e)}function Tp(n,t,e,r,i){let o=null,s=e.directiveEnd,a=e.directiveStylingLast;for(a===-1?a=e.directiveStart:a++;a<s&&(o=t[a],r=Qa(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(e.directiveStylingLast=a),r}function Qa(n,t,e){let r=e?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Uh(n,s,e?!0:t[++o]))}return n===void 0?null:n}function TP(n,t,e){if(e==null||e==="")return sn;let r=[],i=rr(e);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&t(r,i);return r}function MP(n,t,e){let r=String(t);r!==""&&!r.includes(" ")&&Uh(n,r,e)}function AP(n,t,e,r,i,o,s,a){i===jt&&(i=sn);let l=0,u=0,m=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;m!==null||p!==null;){let v=l<i.length?i[l+1]:void 0,g=u<o.length?o[u+1]:void 0,_=null,C;m===p?(l+=2,u+=2,v!==g&&(_=p,C=g)):p===null||m!==null&&m<p?(l+=2,_=m):(u+=2,_=p,C=g),_!==null&&cE(n,t,e,r,_,C,s,a),m=l<i.length?i[l]:null,p=u<o.length?o[u]:null}}function cE(n,t,e,r,i,o,s,a){if(!(t.type&3))return;let l=n.data,u=l[a+1],m=pP(u)?yy(l,t,e,i,ws(u),s):void 0;if(!Bd(m)){Bd(o)||fP(u)&&(o=yy(l,null,e,i,a,s));let p=ow(Cr(),e);tk(r,s,p,i,o)}}function yy(n,t,e,r,i,o){let s=t===null,a;for(;i>0;){let l=n[i],u=Array.isArray(l),m=u?l[1]:l,p=m===null,v=e[i+1];v===jt&&(v=p?sn:void 0);let g=p?yp(v,r):m===r?v:void 0;if(u&&!Bd(g)&&(g=yp(l,r)),Bd(g)&&(a=g,s))return a;let _=n[i+1];i=s?uo(_):ws(_)}if(t!==null){let l=o?t.residualClasses:t.residualStyles;l!=null&&(a=yp(l,r))}return a}function Bd(n){return n!==void 0}function kP(n,t){return n==null||n===""||(typeof t=="string"?n=n+t:typeof n=="object"&&(n=Kt(rr(n)))),n}function dE(n,t){return(n.flags&(t?8:16))!==0}var Eh=class{destroy(t){}updateValue(t,e){}swap(t,e){let r=Math.min(t,e),i=Math.max(t,e),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(t,e){this.attach(e,this.detach(t))}};function Mp(n,t,e,r,i){return n===e&&Object.is(t,r)?1:Object.is(i(n,t),i(e,r))?-1:0}function PP(n,t,e){let r,i,o=0,s=n.length-1,a=void 0;if(Array.isArray(t)){let l=t.length-1;for(;o<=s&&o<=l;){let u=n.at(o),m=t[o],p=Mp(o,u,o,m,e);if(p!==0){p<0&&n.updateValue(o,m),o++;continue}let v=n.at(s),g=t[l],_=Mp(s,v,l,g,e);if(_!==0){_<0&&n.updateValue(s,g),s--,l--;continue}let C=e(o,u),S=e(s,v),A=e(o,m);if(Object.is(A,S)){let F=e(l,g);Object.is(F,C)?(n.swap(o,s),n.updateValue(s,g),l--,s--):n.move(s,o),n.updateValue(o,m),o++;continue}if(r??=new Ud,i??=Cy(n,o,s,e),xh(n,r,o,A))n.updateValue(o,m),o++,s++;else if(i.has(A))r.set(C,n.detach(o)),s--;else{let F=n.create(o,t[o]);n.attach(o,F),o++,s++}}for(;o<=l;)wy(n,r,e,o,t[o]),o++}else if(t!=null){let l=t[Symbol.iterator](),u=l.next();for(;!u.done&&o<=s;){let m=n.at(o),p=u.value,v=Mp(o,m,o,p,e);if(v!==0)v<0&&n.updateValue(o,p),o++,u=l.next();else{r??=new Ud,i??=Cy(n,o,s,e);let g=e(o,p);if(xh(n,r,o,g))n.updateValue(o,p),o++,s++,u=l.next();else if(!i.has(g))n.attach(o,n.create(o,p)),o++,s++,u=l.next();else{let _=e(o,m);r.set(_,n.detach(o)),s--}}}for(;!u.done;)wy(n,r,e,n.length,u.value),u=l.next()}for(;o<=s;)n.destroy(n.detach(s--));r?.forEach(l=>{n.destroy(l)})}function xh(n,t,e,r){return t!==void 0&&t.has(r)?(n.attach(e,t.get(r)),t.delete(r),!0):!1}function wy(n,t,e,r,i){if(xh(n,t,r,e(r,i)))n.updateValue(r,i);else{let o=n.create(r,i);n.attach(r,o)}}function Cy(n,t,e,r){let i=new Set;for(let o=t;o<=e;o++)i.add(r(o,n.at(o)));return i}var Ud=class{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let e=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(e)?(this.kvMap.set(t,this._vMap.get(e)),this._vMap.delete(e)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,e){if(this.kvMap.has(t)){let r=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,e)}else this.kvMap.set(t,e)}forEach(t){for(let[e,r]of this.kvMap)if(t(r,e),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),t(r,e)}}};function gu(n,t){dn("NgControlFlow");let e=oe(),r=xs(),i=e[r]!==jt?e[r]:-1,o=i!==-1?$d(e,ht+i):void 0,s=0;if(jn(e,r,n)){let a=ge(null);try{if(o!==void 0&&NC(o,s),n!==-1){let l=ht+n,u=$d(e,l),m=Th(e[de],l),p=vs(u,m.tView.ssrId),v=il(e,m,t,{dehydratedView:p});ol(u,v,s,bs(m,p))}}finally{ge(a)}}else if(o!==void 0){let a=RC(o,s);a!==void 0&&(a[Ct]=t)}}var Sh=class{lContainer;$implicit;$index;constructor(t,e,r){this.lContainer=t,this.$implicit=e,this.$index=r}get $count(){return this.lContainer.length-kt}};function Dg(n,t){return t}var Dh=class{hasEmptyBlock;trackByFn;liveCollection;constructor(t,e,r){this.hasEmptyBlock=t,this.trackByFn=e,this.liveCollection=r}};function Ig(n,t,e,r,i,o,s,a,l,u,m,p,v){dn("NgControlFlow");let g=oe(),_=Xe(),C=l!==void 0,S=oe(),A=a?s.bind(S[wn][Ct]):s,F=new Dh(C,A);S[ht+n]=F,Vd(g,_,n+1,t,e,r,i,wi(_.consts,o)),C&&Vd(g,_,n+2,l,u,m,p,wi(_.consts,v))}var Ih=class extends Eh{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,e,r){super(),this.lContainer=t,this.hostLView=e,this.templateTNode=r}get length(){return this.lContainer.length-kt}at(t){return this.getLView(t)[Ct].$implicit}attach(t,e){let r=e[ps];this.needsIndexUpdate||=t!==this.length,ol(this.lContainer,e,t,bs(this.templateTNode,r))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,OP(this.lContainer,t)}create(t,e){let r=vs(this.lContainer,this.templateTNode.tView.ssrId),i=il(this.hostLView,this.templateTNode,new Sh(this.lContainer,e,t),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(t){du(t[de],t),this.operationsCounter?.recordDestroy()}updateValue(t,e){this.getLView(t)[Ct].$implicit=e}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[Ct].$index=t}getLView(t){return RP(this.lContainer,t)}};function Tg(n){let t=ge(null),e=Cr();try{let r=oe(),i=r[de],o=r[e],s=e+1,a=$d(r,s);if(o.liveCollection===void 0){let u=Th(i,s);o.liveCollection=new Ih(a,r,u)}else o.liveCollection.reset();let l=o.liveCollection;if(PP(l,n,o.trackByFn),l.updateIndexes(),o.hasEmptyBlock){let u=xs(),m=l.length===0;if(jn(r,u,m)){let p=e+2,v=$d(r,p);if(m){let g=Th(i,p),_=vs(v,g.tView.ssrId),C=il(r,g,void 0,{dehydratedView:_});ol(v,C,0,bs(g,_))}else NC(v,0)}}}finally{ge(t)}}function $d(n,t){return n[t]}function OP(n,t){return Ga(n,t)}function RP(n,t){return RC(n,t)}function Th(n,t){return Hh(n,t)}function NP(n,t,e,r,i,o){let s=t.consts,a=wi(s,i),l=Ts(t,n,2,r,a);return fg(t,e,l,wi(s,o)),l.attrs!==null&&Rd(l,l.attrs,!1),l.mergedAttrs!==null&&Rd(l,l.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,l),l}function d(n,t,e,r){let i=oe(),o=Xe(),s=ht+n,a=i[Je],l=o.firstCreatePass?NP(s,o,i,t,e,r):o.data[s],u=FP(o,i,l,a,t,n);i[s]=u;let m=Xd(l);return mo(l,!0),vC(a,u,l),!bg(l)&&ru()&&uu(o,i,u,l),ET()===0&&ho(u,i),xT(),m&&(lg(o,i,l),og(o,l,i)),r!==null&&cg(i,l),d}function c(){let n=Nt();Wh()?Qh():(n=n.parent,mo(n,!1));let t=n;DT(t)&&IT(),ST();let e=Xe();return e.firstCreatePass&&(ou(e,n),zh(n)&&e.queries.elementEnd(n)),t.classesWithoutHost!=null&&UT(t)&&Ch(e,t,oe(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&$T(t)&&Ch(e,t,oe(),t.stylesWithoutHost,!1),c}function w(n,t,e,r){return d(n,t,e,r),c(),w}var FP=(n,t,e,r,i,o)=>(iu(!0),gC(r,i,LT()));function LP(n,t,e,r,i){let o=t.consts,s=wi(o,r),a=Ts(t,n,8,"ng-container",s);s!==null&&Rd(a,s,!0);let l=wi(o,i);return fg(t,e,a,l),t.queries!==null&&t.queries.elementStart(t,a),a}function Ut(n,t,e){let r=oe(),i=Xe(),o=n+ht,s=i.firstCreatePass?LP(o,i,r,t,e):i.data[o];mo(s,!0);let a=VP(i,r,s,n);return r[o]=a,ru()&&uu(i,r,a,s),ho(a,r),Xd(s)&&(lg(i,r,s),og(i,s,r)),e!=null&&cg(r,s),Ut}function $t(){let n=Nt(),t=Xe();return Wh()?Qh():(n=n.parent,mo(n,!1)),t.firstCreatePass&&(ou(t,n),zh(n)&&t.queries.elementEnd(n)),$t}var VP=(n,t,e,r)=>(iu(!0),uA(t[Je],""));function Q(){return oe()}var eo=void 0;function jP(n){let t=n,e=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&r===0?1:5}var BP=["en",[["a","p"],["AM","PM"],eo],[["AM","PM"],eo,eo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],eo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],eo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",eo,"{1} 'at' {0}",eo],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",jP],Ap={};function Sn(n){let t=UP(n),e=Ey(t);if(e)return e;let r=t.split("-")[0];if(e=Ey(r),e)return e;if(r==="en")return BP;throw new O(701,!1)}function Ey(n){return n in Ap||(Ap[n]=jr.ng&&jr.ng.common&&jr.ng.common.locales&&jr.ng.common.locales[n]),Ap[n]}var et=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(et||{});function UP(n){return n.toLowerCase().replace(/_/g,"-")}var zd="en-US";var $P=zd;function zP(n){typeof n=="string"&&($P=n.toLowerCase().replace(/_/g,"-"))}var HP=(n,t,e)=>{};function I(n,t,e,r){let i=oe(),o=Xe(),s=Nt();return uE(o,i,i[Je],s,n,t,r),I}function qP(n,t,e,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===e&&i[o+1]===r){let a=t[yd],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function uE(n,t,e,r,i,o,s){let a=Xd(r),u=n.firstCreatePass&&dw(n),m=t[Ct],p=cw(t),v=!0;if(r.type&3||s){let C=tr(r,t),S=s?s(C):C,A=p.length,F=s?H=>s(vr(H[r.index])):r.index,B=null;if(!s&&a&&(B=qP(n,t,i,r.index)),B!==null){let H=B.__ngLastListenerFn__||B;H.__ngNextListenerFn__=o,B.__ngLastListenerFn__=o,v=!1}else{o=Sy(r,t,m,o),HP(C,i,o);let H=e.listen(S,i,o);p.push(o,H),u&&u.push(i,F,A,A+1)}}else o=Sy(r,t,m,o);let g=r.outputs,_;if(v&&g!==null&&(_=g[i])){let C=_.length;if(C)for(let S=0;S<C;S+=2){let A=_[S],F=_[S+1],Y=t[A][F].subscribe(o),Ae=p.length;p.push(o,Y),u&&u.push(i,r.index,Ae,-(Ae+1))}}}function xy(n,t,e,r){let i=ge(null);try{return Vn(6,t,e),e(r)!==!1}catch(o){return IC(n,o),!1}finally{Vn(7,t,e),ge(i)}}function Sy(n,t,e,r){return function i(o){if(o===Function)return r;let s=fo(n)?_r(n.index,t):t;yg(s,5);let a=xy(t,e,r,o),l=i.__ngNextListenerFn__;for(;l;)a=xy(t,e,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function E(n=1){return FT(n)}function GP(n,t){let e=null,r=nA(n);for(let i=0;i<t.length;i++){let o=t[i];if(o==="*"){e=i;continue}if(r===null?hC(n,o,!0):oA(r,o))return i}return e}function xr(n){let t=oe()[wn][ln];if(!t.projection){let e=n?n.length:1,r=t.projection=JI(e,null),i=r.slice(),o=t.child;for(;o!==null;){if(o.type!==128){let s=n?GP(o,n):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function Bn(n,t=0,e,r,i,o){let s=oe(),a=Xe(),l=r?n+1:null;l!==null&&Vd(s,a,l,r,i,o,null,e);let u=Ts(a,ht+n,16,null,e||null);u.projection===null&&(u.projection=t),Qh();let p=!s[ps]||fw();s[wn][ln].projection[u.projection]===null&&l!==null?WP(s,a,l):p&&!bg(u)&&XA(a,s,u)}function WP(n,t,e){let r=ht+e,i=t.data[r],o=n[r],s=vs(o,i.tView.ssrId),a=il(n,i,void 0,{dehydratedView:s});ol(o,a,0,bs(i,s))}function Ms(n,t,e){return fE(n,"",t,"",e),Ms}function fE(n,t,e,r,i){let o=oe(),s=rE(o,t,e,r);if(s!==jt){let a=Xe(),l=nu();ug(a,l,o,n,s,o[Je],i,!1)}return fE}function As(n,t,e,r){jk(n,t,e,r)}function Un(n,t,e){Vk(n,t,e)}function Et(n){let t=oe(),e=Xe(),r=gw();Kh(r+1);let i=wg(e,r);if(n.dirty&&vT(t)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=$k(t,r);n.reset(o,uM),n.notifyOnChanges()}return!0}return!1}function xt(){return Lk(oe(),gw())}function QP(n,t,e,r){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=r}function bo(n){let t=MT();return sw(t,ht+n)}function f(n,t=""){let e=oe(),r=Xe(),i=n+ht,o=r.firstCreatePass?Ts(r,i,1,t,null):r.data[i],s=KP(r,e,o,t,n);e[i]=s,ru()&&uu(r,e,s,o),mo(o,!1)}var KP=(n,t,e,r,i)=>(iu(!0),cA(t[Je],r));function U(n){return R("",n,""),U}function R(n,t,e){let r=oe(),i=rE(r,n,t,e);return i!==jt&&Ag(r,Cr(),i),R}function sl(n,t,e,r,i){let o=oe(),s=dP(o,n,t,e,r,i);return s!==jt&&Ag(o,Cr(),s),sl}function Mg(n,t,e,r,i,o,s){let a=oe(),l=uP(a,n,t,e,r,i,o,s);return l!==jt&&Ag(a,Cr(),l),Mg}function Ag(n,t,e){let r=ow(t,n);dA(n[Je],r,e)}function rt(n,t,e){Bw(t)&&(t=t());let r=oe(),i=xs();if(jn(r,i,t)){let o=Xe(),s=nu();ug(o,s,r,n,t,r[Je],e,!1)}return rt}function st(n,t){let e=Bw(n);return e&&n.set(t),e}function it(n,t){let e=oe(),r=Xe(),i=Nt();return uE(r,e,e[Je],i,n,t),it}function ZP(n,t,e){let r=Xe();if(r.firstCreatePass){let i=zr(n);Mh(e,r.data,r.blueprint,i,!0),Mh(t,r.data,r.blueprint,i,!1)}}function Mh(n,t,e,r,i){if(n=Qt(n),Array.isArray(n))for(let o=0;o<n.length;o++)Mh(n[o],t,e,r,i);else{let o=Xe(),s=oe(),a=Nt(),l=ms(n)?n:Qt(n.provide),u=Yy(n),m=a.providerIndexes&1048575,p=a.directiveStart,v=a.providerIndexes>>20;if(ms(n)||!n.multi){let g=new lo(u,i,D),_=Pp(l,t,i?m:m+v,p);_===-1?(Gp(Id(a,s),o,l),kp(o,n,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),e.push(g),s.push(g)):(e[_]=g,s[_]=g)}else{let g=Pp(l,t,m+v,p),_=Pp(l,t,m,m+v),C=g>=0&&e[g],S=_>=0&&e[_];if(i&&!S||!i&&!C){Gp(Id(a,s),o,l);let A=XP(i?JP:YP,e.length,i,r,u);!i&&S&&(e[_].providerFactory=A),kp(o,n,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),e.push(A),s.push(A)}else{let A=mE(e[i?_:g],u,!i&&r);kp(o,n,g>-1?g:_,A)}!i&&r&&S&&e[_].componentProviders++}}}function kp(n,t,e,r){let i=ms(t),o=oT(t);if(i||o){let l=(o?Qt(t.useClass):t).prototype.ngOnDestroy;if(l){let u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&t.multi){let m=u.indexOf(e);m===-1?u.push(e,[r,l]):u[m+1].push(r,l)}else u.push(e,l)}}}function mE(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function Pp(n,t,e,r){for(let i=e;i<r;i++)if(t[i]===n)return i;return-1}function YP(n,t,e,r){return Ah(this.multi,[])}function JP(n,t,e,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=za(e,e[de],this.providerFactory.index,r);o=a.slice(0,s),Ah(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],Ah(i,o);return o}function Ah(n,t){for(let e=0;e<n.length;e++){let r=n[e];t.push(r())}return t}function XP(n,t,e,r,i){let o=new lo(n,e,D);return o.multi=[],o.index=t,o.componentProviders=0,mE(o,i,r&&!e),o}function tt(n,t=[]){return e=>{e.providersResolver=(r,i)=>ZP(r,i?i(n):n,t)}}function Ii(n,t,e){let r=Xa()+n,i=oe();return i[r]===jt?pu(i,r,e?t.call(e):t()):tP(i,r)}function bu(n,t,e,r){return eO(oe(),Xa(),n,t,e,r)}function Dn(n,t,e,r,i){return pE(oe(),Xa(),n,t,e,r,i)}function vo(n,t,e,r,i,o){return tO(oe(),Xa(),n,t,e,r,i,o)}function kg(n,t){let e=n[t];return e===jt?void 0:e}function eO(n,t,e,r,i,o){let s=t+e;return jn(n,s,i)?pu(n,s+1,o?r.call(o,i):r(i)):kg(n,s+1)}function pE(n,t,e,r,i,o,s){let a=t+e;return xg(n,a,i,o)?pu(n,a+2,s?r.call(s,i,o):r(i,o)):kg(n,a+2)}function tO(n,t,e,r,i,o,s,a){let l=t+e;return YC(n,l,i,o,s)?pu(n,l+3,a?r.call(a,i,o,s):r(i,o,s)):kg(n,l+3)}function vt(n,t){let e=Xe(),r,i=n+ht;e.firstCreatePass?(r=nO(t,e.pipeRegistry),e.data[i]=r,r.onDestroy&&(e.destroyHooks??=[]).push(i,r.onDestroy)):r=e.data[i];let o=r.factory||(r.factory=no(r.type,!0)),s,a=on(D);try{let l=Dd(!1),u=o();return Dd(l),QP(e,oe(),i,u),u}finally{on(a)}}function nO(n,t){if(t)for(let e=t.length-1;e>=0;e--){let r=t[e];if(n===r.name)return r}}function _t(n,t,e,r){let i=n+ht,o=oe(),s=sw(o,i);return rO(o,i)?pE(o,Xa(),t,s.transform,e,r,s):s.transform(e,r)}function rO(n,t){return n[de].data[t].pure}function hE(n,t){return mu(n,t)}var Si=class{full;major;minor;patch;constructor(t){this.full=t;let e=t.split(".");this.major=e[0],this.minor=e[1],this.patch=e.slice(2).join(".")}},Pg=new Si("19.1.4"),kh=class{ngModuleFactory;componentFactories;constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}},Og=(()=>{class n{compileModuleSync(e){return new _h(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let r=this.compileModuleSync(e),i=Hy(e),o=mC(i.declarations).reduce((s,a)=>{let l=yi(a);return l&&s.push(new ys(l)),s},[]);return new kh(r,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var iO=(()=>{class n{zone=y(ce);changeDetectionScheduler=y(Ci);applicationRef=y(er);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function oO({ngZoneFactory:n,ignoreChangesOutsideZone:t,scheduleInRootZone:e}){return n??=()=>new ce(W(k({},sO()),{scheduleInRootZone:e})),[{provide:ce,useFactory:n},{provide:fs,multi:!0,useFactory:()=>{let r=y(iO,{optional:!0});return()=>r.initialize()}},{provide:fs,multi:!0,useFactory:()=>{let r=y(aO);return()=>{r.initialize()}}},t===!0?{provide:Fw,useValue:!0}:[],{provide:Xh,useValue:e??Nw}]}function sO(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var aO=(()=>{class n{subscription=new Ee;initialized=!1;zone=y(ce);pendingTasks=y(Qr);initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ce.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ce.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var gE=(()=>{class n{appRef=y(er);taskService=y(Qr);ngZone=y(ce);zonelessEnabled=y(au);tracing=y(Ds,{optional:!0});disableScheduling=y(Fw,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ee;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Md):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(y(Xh,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Ad||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;let r=!1;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 8:{this.appRef.deferredDirtyFlags|=8;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 13:{this.appRef.dirtyFlags|=16,r=!0;break}case 14:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{r=!0;break}case 10:case 9:case 7:case 11:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?X_:Lw;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(e){return!(this.disableScheduling&&!e||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Md+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(e),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,X_(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function bE(){return dn("NgZoneless"),Cs([{provide:Ci,useExisting:gE},{provide:ce,useClass:Ad},{provide:au,useValue:!0},{provide:Xh,useValue:!1},[]])}function lO(){return typeof $localize<"u"&&$localize.locale||zd}var ks=new V("",{providedIn:"root",factory:()=>y(ks,he.Optional|he.SkipSelf)||lO()});var Ph=new V(""),cO=new V("");function Na(n){return!n.moduleRef}function dO(n){let t=Na(n)?n.r3Injector:n.moduleRef.injector,e=t.get(ce);return e.run(()=>{Na(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=t.get(an,null),i;if(e.runOutsideAngular(()=>{i=e.onError.subscribe({next:o=>{r.handleError(o)}})}),Na(n)){let o=()=>t.destroy(),s=n.platformInjector.get(Ph);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Ph);s.add(o),n.moduleRef.onDestroy(()=>{pd(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return lP(r,e,()=>{let o=t.get(tE);return o.runInitializers(),o.donePromise.then(()=>{let s=t.get(ks,zd);if(zP(s||zd),!t.get(cO,!0))return Na(n)?t.get(er):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Na(n)){let l=t.get(er);return n.rootComponent!==void 0&&l.bootstrap(n.rootComponent),l}else return uO(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function uO(n,t){let e=n.injector.get(er);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>e.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(e);else throw new O(-403,!1);t.push(n)}var hd=null;function fO(n=[],t){return Ue.create({name:t,providers:[{provide:Kd,useValue:"platform"},{provide:Ph,useValue:new Set([()=>hd=null])},...n]})}function mO(n=[]){if(hd)return hd;let t=fO(n);return hd=t,oP(),pO(t),t}function pO(n){let t=n.get(ng,null);Cn(n,()=>{t?.forEach(e=>e())})}var ee=(()=>{class n{static __NG_ELEMENT_ID__=hO}return n})();function hO(n){return gO(Nt(),oe(),(n&16)===16)}function gO(n,t,e){if(fo(n)&&!e){let r=_r(n.index,t);return new co(r,r)}else if(n.type&175){let r=t[wn];return new co(r,t)}return null}var Oh=class{constructor(){}supports(t){return ZC(t)}create(t){return new Rh(t)}},bO=(n,t)=>t,Rh=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||bO}forEachItem(t){let e;for(e=this._itHead;e!==null;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,r=this._removalsHead,i=0,o=null;for(;e||r;){let s=!r||e&&e.currentIndex<Dy(r,i,o)?e:r,a=Dy(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(e=e._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,m=l-i;if(u!=m){for(let v=0;v<u;v++){let g=v<o.length?o[v]:o[v]=0,_=g+v;m<=_&&_<u&&(o[v]=g+1)}let p=s.previousIndex;o[p]=m-u}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)t(e)}diff(t){if(t==null&&(t=[]),!ZC(t))throw new O(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._itHead,r=!1,i,o,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,o,s,a),r=!0):(r&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)),e=e._next}else i=0,Xk(t,a=>{s=this._trackByFn(i,a),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,a,s,i),r=!0):(r&&(e=this._verifyReinsertion(e,a,s,i)),Object.is(e.item,a)||this._addIdentityChange(e,a)),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,r,i){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,i)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,i),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,i)):t=this._addAfter(new Nh(e,r),o,i)),t}_verifyReinsertion(t,e,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;t!==null;){let e=t._next;this._addToRemovals(this._unlink(t)),t=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let i=t._prevRemoved,o=t._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,e,r),this._addToMoves(t,r),t}_moveAfter(t,e,r){return this._unlink(t),this._insertAfter(t,e,r),this._addToMoves(t,r),t}_addAfter(t,e,r){return this._insertAfter(t,e,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,e,r){let i=e===null?this._itHead:e._next;return t._next=i,t._prev=e,i===null?this._itTail=t:i._prev=t,e===null?this._itHead=t:e._next=t,this._linkedRecords===null&&(this._linkedRecords=new Hd),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let e=t._prev,r=t._next;return e===null?this._itHead=r:e._next=r,r===null?this._itTail=e:r._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Hd),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},Nh=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,e){this.item=t,this.trackById=e}},Fh=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let r;for(r=this._head;r!==null;r=r._nextDup)if((e===null||e<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let e=t._prevDup,r=t._nextDup;return e===null?this._head=r:e._nextDup=r,r===null?this._tail=e:r._prevDup=e,this._head===null}},Hd=class{map=new Map;put(t){let e=t.trackById,r=this.map.get(e);r||(r=new Fh,this.map.set(e,r)),r.add(t)}get(t,e){let r=t,i=this.map.get(r);return i?i.get(t,e):null}remove(t){let e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Dy(n,t,e){let r=n.previousIndex;if(r===null)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+t+i}function Iy(){return new vu([new Oh])}var vu=(()=>{class n{factories;static \u0275prov=P({token:n,providedIn:"root",factory:Iy});constructor(e){this.factories=e}static create(e,r){if(r!=null){let i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||Iy()),deps:[[n,new By,new Qd]]}}find(e){let r=this.factories.find(i=>i.supports(e));if(r!=null)return r;throw new O(901,!1)}}return n})();function vE(n){try{let{rootComponent:t,appProviders:e,platformProviders:r}=n,i=mO(r),o=[oO({}),{provide:Ci,useExisting:gE},...e||[]],s=new Ld({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return dO({r3Injector:s.injector,platformInjector:i,rootComponent:t})}catch(t){return Promise.reject(t)}}function De(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Ps(n,t=NaN){return!isNaN(parseFloat(n))&&!isNaN(Number(n))?Number(n):t}function ir(n,t){dn("NgSignals");let e=l_(n);return t?.equal&&(e[tn].equal=t.equal),e}function Zr(n){let t=ge(null);try{return n()}finally{ge(t)}}var _E=(()=>{class n{view;node;constructor(e,r){this.view=e,this.node=r}static __NG_ELEMENT_ID__=vO}return n})();function vO(){return new _E(oe(),Nt())}var _O=!1,yO=(()=>{class n extends jd{pendingTasks=y(Qr);taskId=null;schedule(e){super.schedule(e),this.taskId===null&&(this.taskId=this.pendingTasks.add(),queueMicrotask(()=>this.flush()))}flush(){try{super.flush()}finally{this.taskId!==null&&(this.pendingTasks.remove(this.taskId),this.taskId=null)}}static \u0275prov=P({token:n,providedIn:"root",factory:()=>new n})}return n})(),Lh=class{scheduler;effectFn;zone;injector;unregisterOnDestroy;watcher;constructor(t,e,r,i,o,s){this.scheduler=t,this.effectFn=e,this.zone=r,this.injector=o,this.watcher=p_(a=>this.runEffect(a),()=>this.schedule(),s),this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}runEffect(t){try{this.effectFn(t)}catch(e){this.injector.get(an,null,{optional:!0})?.handleError(e)}}run(){this.watcher.run()}schedule(){this.scheduler.schedule(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function wO(){}function CO(n,t){dn("NgSignals"),!t?.injector&&Yd(wO);let e=t?.injector??y(Ue),r=t?.manualCleanup!==!0?e.get(po):null,i=new Lh(e.get(yO),n,typeof Zone>"u"?null:Zone.current,r,e,t?.allowSignalWrites??!1),o=e.get(ee,null,{optional:!0});return!o||!(o._lView[ie]&8)?i.watcher.notify():(o._lView[dd]??=[]).push(i.watcher.notify),i}var EO=_O;var Vh=class{[tn];constructor(t){this[tn]=t}destroy(){this[tn].destroy()}};function _o(n,t){if(EO)return CO(n,t);dn("NgSignals"),!t?.injector&&Yd(_o);let e=t?.injector??y(Ue),r=t?.manualCleanup!==!0?e.get(po):null,i,o=e.get(_E,null,{optional:!0}),s=e.get(Ci);return o!==null&&!t?.forceRoot?(i=DO(o.view,s,n),r instanceof Td&&r._lView===o.view&&(r=null)):i=IO(n,e.get(nE),s),i.injector=e,r!==null&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new Vh(i)}var yE=W(k({},Gi),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:qa,run(){if(this.dirty=!1,this.hasRun&&!Da(this))return;this.hasRun=!0;let n=r=>(this.cleanupFns??=[]).push(r),t=Qo(this),e=Ed(!1);try{this.maybeCleanup(),this.fn(n)}finally{Ed(e),Sa(this,t)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}}),xO=W(k({},yE),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(13)},destroy(){Ko(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),SO=W(k({},yE),{consumerMarkedDirty(){this.view[ie]|=8192,Ja(this.view),this.notifier.notify(14)},destroy(){Ko(this),this.onDestroyFn(),this.maybeCleanup(),this.view[io]?.delete(this)}});function DO(n,t,e){let r=Object.create(SO);return r.view=n,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=t,r.fn=e,n[io]??=new Set,n[io].add(r),r.consumerMarkedDirty(r),r}function IO(n,t,e){let r=Object.create(xO);return r.fn=n,r.scheduler=t,r.notifier=e,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.schedule(r),r.notifier.notify(13),r}function Rg(n,t){let e=yi(n),r=t.elementInjector||Zd();return new ys(e).create(r,t.projectableNodes,t.hostElement,t.environmentInjector)}var TE=null;function ei(){return TE}function ME(n){TE??=n}var Iu=class{};var ye=new V(""),Hg=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:()=>y(TO),providedIn:"platform"})}return n})();var TO=(()=>{class n extends Hg{_location;_history;_doc=y(ye);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ei().getBaseHref(this._doc)}onPopState(e){let r=ei().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){let r=ei().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){this._history.pushState(e,r,i)}replaceState(e,r,i){this._history.replaceState(e,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function qg(n,t){return n?t?n.endsWith("/")?t.startsWith("/")?n+t.slice(1):n+t:t.startsWith("/")?n+t:`${n}/${t}`:n:t}function wE(n){let t=n.match(/#|\?|$/),e=t&&t.index||n.length,r=e-(n[e-1]==="/"?1:0);return n.slice(0,r)+n.slice(e)}function Jr(n){return n&&n[0]!=="?"?"?"+n:n}var Ti=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:()=>y(kE),providedIn:"root"})}return n})(),AE=new V(""),kE=(()=>{class n extends Ti{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??y(ye).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return qg(this._baseHref,e)}path(e=!1){let r=this._platformLocation.pathname+Jr(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,o){let s=this.prepareExternalUrl(i+Jr(o));this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){let s=this.prepareExternalUrl(i+Jr(o));this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||n)(L(Hg),L(AE,8))};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),PE=(()=>{class n extends Ti{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(e){let r=qg(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,o){let s=this.prepareExternalUrl(i+Jr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){let s=this.prepareExternalUrl(i+Jr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||n)(L(Hg),L(AE,8))};static \u0275prov=P({token:n,factory:n.\u0275fac})}return n})(),ll=(()=>{class n{_subject=new ne;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let r=this._locationStrategy.getBaseHref();this._basePath=kO(wE(CE(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Jr(r))}normalize(e){return n.stripTrailingSlash(AO(this._basePath,CE(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Jr(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Jr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Jr;static joinWithSlash=qg;static stripTrailingSlash=wE;static \u0275fac=function(r){return new(r||n)(L(Ti))};static \u0275prov=P({token:n,factory:()=>MO(),providedIn:"root"})}return n})();function MO(){return new ll(L(Ti))}function AO(n,t){if(!n||!t.startsWith(n))return t;let e=t.substring(n.length);return e===""||["/",";","?","#"].includes(e[0])?e:t}function CE(n){return n.replace(/\/index.html$/,"")}function kO(n){if(new RegExp("^(https?:)?//").test(n)){let[,e]=n.split(/\/\/[^\/]+/);return e}return n}var OE=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(OE||{});var Jt=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Jt||{}),Ve=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Ve||{}),In=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(In||{}),Tn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function PO(n){return Sn(n)[et.LocaleId]}function OO(n,t,e){let r=Sn(n),i=[r[et.DayPeriodsFormat],r[et.DayPeriodsStandalone]],o=$n(i,t);return $n(o,e)}function RO(n,t,e){let r=Sn(n),i=[r[et.DaysFormat],r[et.DaysStandalone]],o=$n(i,t);return $n(o,e)}function NO(n,t,e){let r=Sn(n),i=[r[et.MonthsFormat],r[et.MonthsStandalone]],o=$n(i,t);return $n(o,e)}function FO(n,t){let r=Sn(n)[et.Eras];return $n(r,t)}function _u(n,t){let e=Sn(n);return $n(e[et.DateFormat],t)}function yu(n,t){let e=Sn(n);return $n(e[et.TimeFormat],t)}function wu(n,t){let r=Sn(n)[et.DateTimeFormat];return $n(r,t)}function Xr(n,t){let e=Sn(n),r=e[et.NumberSymbols][t];if(typeof r>"u"){if(t===Tn.CurrencyDecimal)return e[et.NumberSymbols][Tn.Decimal];if(t===Tn.CurrencyGroup)return e[et.NumberSymbols][Tn.Group]}return r}function LO(n,t){return Sn(n)[et.NumberFormats][t]}function RE(n){if(!n[et.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[et.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function VO(n){let t=Sn(n);return RE(t),(t[et.ExtraData][2]||[]).map(r=>typeof r=="string"?Ng(r):[Ng(r[0]),Ng(r[1])])}function jO(n,t,e){let r=Sn(n);RE(r);let i=[r[et.ExtraData][0],r[et.ExtraData][1]],o=$n(i,t)||[];return $n(o,e)||[]}function $n(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function Ng(n){let[t,e]=n.split(":");return{hours:+t,minutes:+e}}var BO=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Cu={},UO=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function $O(n,t,e,r){let i=YO(n);t=Yr(e,t)||t;let s=[],a;for(;t;)if(a=UO.exec(t),a){s=s.concat(a.slice(1));let m=s.pop();if(!m)break;t=m}else{s.push(t);break}let l=i.getTimezoneOffset();r&&(l=FE(r,l),i=ZO(i,r,!0));let u="";return s.forEach(m=>{let p=QO(m);u+=p?p(i,e,l):m==="''"?"'":m.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function Tu(n,t,e){let r=new Date(0);return r.setFullYear(n,t,e),r.setHours(0,0,0),r}function Yr(n,t){let e=PO(n);if(Cu[e]??={},Cu[e][t])return Cu[e][t];let r="";switch(t){case"shortDate":r=_u(n,In.Short);break;case"mediumDate":r=_u(n,In.Medium);break;case"longDate":r=_u(n,In.Long);break;case"fullDate":r=_u(n,In.Full);break;case"shortTime":r=yu(n,In.Short);break;case"mediumTime":r=yu(n,In.Medium);break;case"longTime":r=yu(n,In.Long);break;case"fullTime":r=yu(n,In.Full);break;case"short":let i=Yr(n,"shortTime"),o=Yr(n,"shortDate");r=Eu(wu(n,In.Short),[i,o]);break;case"medium":let s=Yr(n,"mediumTime"),a=Yr(n,"mediumDate");r=Eu(wu(n,In.Medium),[s,a]);break;case"long":let l=Yr(n,"longTime"),u=Yr(n,"longDate");r=Eu(wu(n,In.Long),[l,u]);break;case"full":let m=Yr(n,"fullTime"),p=Yr(n,"fullDate");r=Eu(wu(n,In.Full),[m,p]);break}return r&&(Cu[e][t]=r),r}function Eu(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,r){return t!=null&&r in t?t[r]:e})),n}function or(n,t,e="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=e));let s=String(n);for(;s.length<t;)s="0"+s;return r&&(s=s.slice(s.length-t)),o+s}function zO(n,t){return or(n,3).substring(0,t)}function at(n,t,e=0,r=!1,i=!1){return function(o,s){let a=HO(n,o);if((e>0||a>-e)&&(a+=e),n===3)a===0&&e===-12&&(a=12);else if(n===6)return zO(a,t);let l=Xr(s,Tn.MinusSign);return or(a,t,l,r,i)}}function HO(n,t){switch(n){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate();case 3:return t.getHours();case 4:return t.getMinutes();case 5:return t.getSeconds();case 6:return t.getMilliseconds();case 7:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function $e(n,t,e=Jt.Format,r=!1){return function(i,o){return qO(i,o,n,t,e,r)}}function qO(n,t,e,r,i,o){switch(e){case 2:return NO(t,i,r)[n.getMonth()];case 1:return RO(t,i,r)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let u=VO(t),m=jO(t,i,r),p=u.findIndex(v=>{if(Array.isArray(v)){let[g,_]=v,C=s>=g.hours&&a>=g.minutes,S=s<_.hours||s===_.hours&&a<_.minutes;if(g.hours<_.hours){if(C&&S)return!0}else if(C||S)return!0}else if(v.hours===s&&v.minutes===a)return!0;return!1});if(p!==-1)return m[p]}return OO(t,i,r)[s<12?0:1];case 3:return FO(t,r)[n.getFullYear()<=0?0:1];default:let l=e;throw new Error(`unexpected translation type ${l}`)}}function xu(n){return function(t,e,r){let i=-1*r,o=Xr(e,Tn.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+or(s,2,o)+or(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+or(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+or(s,2,o)+":"+or(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+or(s,2,o)+":"+or(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}var GO=0,Du=4;function WO(n){let t=Tu(n,GO,1).getDay();return Tu(n,0,1+(t<=Du?Du:Du+7)-t)}function NE(n){let t=n.getDay(),e=t===0?-3:Du-t;return Tu(n.getFullYear(),n.getMonth(),n.getDate()+e)}function Fg(n,t=!1){return function(e,r){let i;if(t){let o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();i=1+Math.floor((s+o)/7)}else{let o=NE(e),s=WO(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return or(i,n,Xr(r,Tn.MinusSign))}}function Su(n,t=!1){return function(e,r){let o=NE(e).getFullYear();return or(o,n,Xr(r,Tn.MinusSign),t)}}var Lg={};function QO(n){if(Lg[n])return Lg[n];let t;switch(n){case"G":case"GG":case"GGG":t=$e(3,Ve.Abbreviated);break;case"GGGG":t=$e(3,Ve.Wide);break;case"GGGGG":t=$e(3,Ve.Narrow);break;case"y":t=at(0,1,0,!1,!0);break;case"yy":t=at(0,2,0,!0,!0);break;case"yyy":t=at(0,3,0,!1,!0);break;case"yyyy":t=at(0,4,0,!1,!0);break;case"Y":t=Su(1);break;case"YY":t=Su(2,!0);break;case"YYY":t=Su(3);break;case"YYYY":t=Su(4);break;case"M":case"L":t=at(1,1,1);break;case"MM":case"LL":t=at(1,2,1);break;case"MMM":t=$e(2,Ve.Abbreviated);break;case"MMMM":t=$e(2,Ve.Wide);break;case"MMMMM":t=$e(2,Ve.Narrow);break;case"LLL":t=$e(2,Ve.Abbreviated,Jt.Standalone);break;case"LLLL":t=$e(2,Ve.Wide,Jt.Standalone);break;case"LLLLL":t=$e(2,Ve.Narrow,Jt.Standalone);break;case"w":t=Fg(1);break;case"ww":t=Fg(2);break;case"W":t=Fg(1,!0);break;case"d":t=at(2,1);break;case"dd":t=at(2,2);break;case"c":case"cc":t=at(7,1);break;case"ccc":t=$e(1,Ve.Abbreviated,Jt.Standalone);break;case"cccc":t=$e(1,Ve.Wide,Jt.Standalone);break;case"ccccc":t=$e(1,Ve.Narrow,Jt.Standalone);break;case"cccccc":t=$e(1,Ve.Short,Jt.Standalone);break;case"E":case"EE":case"EEE":t=$e(1,Ve.Abbreviated);break;case"EEEE":t=$e(1,Ve.Wide);break;case"EEEEE":t=$e(1,Ve.Narrow);break;case"EEEEEE":t=$e(1,Ve.Short);break;case"a":case"aa":case"aaa":t=$e(0,Ve.Abbreviated);break;case"aaaa":t=$e(0,Ve.Wide);break;case"aaaaa":t=$e(0,Ve.Narrow);break;case"b":case"bb":case"bbb":t=$e(0,Ve.Abbreviated,Jt.Standalone,!0);break;case"bbbb":t=$e(0,Ve.Wide,Jt.Standalone,!0);break;case"bbbbb":t=$e(0,Ve.Narrow,Jt.Standalone,!0);break;case"B":case"BB":case"BBB":t=$e(0,Ve.Abbreviated,Jt.Format,!0);break;case"BBBB":t=$e(0,Ve.Wide,Jt.Format,!0);break;case"BBBBB":t=$e(0,Ve.Narrow,Jt.Format,!0);break;case"h":t=at(3,1,-12);break;case"hh":t=at(3,2,-12);break;case"H":t=at(3,1);break;case"HH":t=at(3,2);break;case"m":t=at(4,1);break;case"mm":t=at(4,2);break;case"s":t=at(5,1);break;case"ss":t=at(5,2);break;case"S":t=at(6,1);break;case"SS":t=at(6,2);break;case"SSS":t=at(6,3);break;case"Z":case"ZZ":case"ZZZ":t=xu(0);break;case"ZZZZZ":t=xu(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=xu(1);break;case"OOOO":case"ZZZZ":case"zzzz":t=xu(2);break;default:return null}return Lg[n]=t,t}function FE(n,t){n=n.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function KO(n,t){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+t),n}function ZO(n,t,e){let r=e?-1:1,i=n.getTimezoneOffset(),o=FE(t,i);return KO(n,r*(o-i))}function YO(n){if(EE(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return Tu(i,o-1,s)}let e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let r;if(r=n.match(BO))return JO(r)}let t=new Date(n);if(!EE(t))throw new Error(`Unable to convert "${n}" into a date`);return t}function JO(n){let t=new Date(0),e=0,r=0,i=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-e,a=Number(n[5]||0)-r,l=Number(n[6]||0),u=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(t,s,a,l,u),t}function EE(n){return n instanceof Date&&!isNaN(n.valueOf())}var XO=/^(\d+)?\.((\d+)(-(\d+))?)?$/,xE=22,Mu=".",al="0",eR=";",tR=",",Vg="#";function nR(n,t,e,r,i,o,s=!1){let a="",l=!1;if(!isFinite(n))a=Xr(e,Tn.Infinity);else{let u=sR(n);s&&(u=oR(u));let m=t.minInt,p=t.minFrac,v=t.maxFrac;if(o){let F=o.match(XO);if(F===null)throw new Error(`${o} is not a valid digit info`);let B=F[1],H=F[3],Y=F[5];B!=null&&(m=jg(B)),H!=null&&(p=jg(H)),Y!=null?v=jg(Y):H!=null&&p>v&&(v=p)}aR(u,p,v);let g=u.digits,_=u.integerLen,C=u.exponent,S=[];for(l=g.every(F=>!F);_<m;_++)g.unshift(0);for(;_<0;_++)g.unshift(0);_>0?S=g.splice(_,g.length):(S=g,g=[0]);let A=[];for(g.length>=t.lgSize&&A.unshift(g.splice(-t.lgSize,g.length).join(""));g.length>t.gSize;)A.unshift(g.splice(-t.gSize,g.length).join(""));g.length&&A.unshift(g.join("")),a=A.join(Xr(e,r)),S.length&&(a+=Xr(e,i)+S.join("")),C&&(a+=Xr(e,Tn.Exponential)+"+"+C)}return n<0&&!l?a=t.negPre+a+t.negSuf:a=t.posPre+a+t.posSuf,a}function rR(n,t,e){let r=LO(t,OE.Decimal),i=iR(r,Xr(t,Tn.MinusSign));return nR(n,i,t,Tn.Group,Tn.Decimal,e)}function iR(n,t="-"){let e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(eR),i=r[0],o=r[1],s=i.indexOf(Mu)!==-1?i.split(Mu):[i.substring(0,i.lastIndexOf(al)+1),i.substring(i.lastIndexOf(al)+1)],a=s[0],l=s[1]||"";e.posPre=a.substring(0,a.indexOf(Vg));for(let m=0;m<l.length;m++){let p=l.charAt(m);p===al?e.minFrac=e.maxFrac=m+1:p===Vg?e.maxFrac=m+1:e.posSuf+=p}let u=a.split(tR);if(e.gSize=u[1]?u[1].length:0,e.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,o){let m=i.length-e.posPre.length-e.posSuf.length,p=o.indexOf(Vg);e.negPre=o.substring(0,p).replace(/'/g,""),e.negSuf=o.slice(p+m).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}function oR(n){if(n.digits[0]===0)return n;let t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(t===0?n.digits.push(0,0):t===1&&n.digits.push(0),n.integerLen+=2),n}function sR(n){let t=Math.abs(n)+"",e=0,r,i,o,s,a;for((i=t.indexOf(Mu))>-1&&(t=t.replace(Mu,"")),(o=t.search(/e/i))>0?(i<0&&(i=o),i+=+t.slice(o+1),t=t.substring(0,o)):i<0&&(i=t.length),o=0;t.charAt(o)===al;o++);if(o===(a=t.length))r=[0],i=1;else{for(a--;t.charAt(a)===al;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(t.charAt(o))}return i>xE&&(r=r.splice(0,xE-1),e=i-1,i=1),{digits:r,exponent:e,integerLen:i}}function aR(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let r=n.digits,i=r.length-n.integerLen,o=Math.min(Math.max(t,i),e),s=o+n.integerLen,a=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let p=s;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let p=1;p<s;p++)r[p]=0}if(a>=5)if(s-1<0){for(let p=0;p>s;p--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let l=o!==0,u=t+n.integerLen,m=r.reduceRight(function(p,v,g,_){return v=v+p,_[g]=v<10?v:v-10,l&&(_[g]===0&&g>=u?_.pop():l=!1),v>=10?1:0},0);m&&(r.unshift(m),n.integerLen++)}function jg(n){let t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}function Au(n,t){t=encodeURIComponent(t);for(let e of n.split(";")){let r=e.indexOf("="),[i,o]=r==-1?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var Bg=/\s+/,SE=[],un=(()=>{class n{_ngEl;_renderer;initialClasses=SE;rawClass;stateMap=new Map;constructor(e,r){this._ngEl=e,this._renderer=r}set klass(e){this.initialClasses=e!=null?e.trim().split(Bg):SE}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(Bg):e}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let r of e)this._updateState(r,!0);else if(e!=null)for(let r of Object.keys(e))this._updateState(r,!!e[r]);this._applyStateDiff()}_updateState(e,r){let i=this.stateMap.get(e);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let r=e[0],i=e[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(e,r){e=e.trim(),e.length>0&&e.split(Bg).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(D(ve),D(Bt))};static \u0275dir=X({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var Ug=class{$implicit;ngForOf;index;count;constructor(t,e,r,i){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},nt=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let r=this._viewContainer;e.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Ug(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),DE(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);DE(o,i)})}static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||n)(D(Yt),D(Zt),D(vu))};static \u0275dir=X({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function DE(n,t){n.context.$implicit=t.item}var ue=(()=>{class n{_viewContainer;_context=new $g;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,r){this._viewContainer=e,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){IE("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){IE("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||n)(D(Yt),D(Zt))};static \u0275dir=X({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),$g=class{$implicit=null;ngIf=null};function IE(n,t){if(!!!(!t||t.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${Kt(t)}'.`)}var zg=class{_viewContainerRef;_templateRef;_created=!1;constructor(t,e){this._viewContainerRef=t,this._templateRef=e}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}},Gg=(()=>{class n{_defaultViews=[];_defaultUsed=!1;_caseCount=0;_lastCaseCheckIndex=0;_lastCasesMatched=!1;_ngSwitch;set ngSwitch(e){this._ngSwitch=e,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){let r=e===this._ngSwitch;return this._lastCasesMatched||=r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(let r of this._defaultViews)r.enforceState(e)}}static \u0275fac=function(r){return new(r||n)};static \u0275dir=X({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}})}return n})(),LE=(()=>{class n{ngSwitch;_view;ngSwitchCase;constructor(e,r,i){this.ngSwitch=i,i._addCase(),this._view=new zg(e,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static \u0275fac=function(r){return new(r||n)(D(Yt),D(Zt),D(Gg,9))};static \u0275dir=X({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}})}return n})();function VE(n,t){return new O(2100,!1)}var lR="mediumDate",cR=new V(""),dR=new V(""),Sr=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(e,r,i){this.locale=e,this.defaultTimezone=r,this.defaultOptions=i}transform(e,r,i,o){if(e==null||e===""||e!==e)return null;try{let s=r??this.defaultOptions?.dateFormat??lR,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return $O(e,s,o||this.locale,a)}catch(s){throw VE(n,s.message)}}static \u0275fac=function(r){return new(r||n)(D(ks,16),D(cR,24),D(dR,24))};static \u0275pipe=Eg({name:"date",type:n,pure:!0})}return n})();var ku=(()=>{class n{_locale;constructor(e){this._locale=e}transform(e,r,i){if(!uR(e))return null;i||=this._locale;try{let o=fR(e);return rR(o,i,r)}catch(o){throw VE(n,o.message)}}static \u0275fac=function(r){return new(r||n)(D(ks,16))};static \u0275pipe=Eg({name:"number",type:n,pure:!0})}return n})();function uR(n){return!(n==null||n===""||n!==n)}function fR(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new Error(`${n} is not a number`);return n}var G=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Le({type:n});static \u0275inj=Fe({})}return n})(),Wg="browser",mR="server";function zn(n){return n===Wg}function Qg(n){return n===mR}var Os=class{};var ul=class{},fl=class{},ti=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let r=e.indexOf(":");if(r>0){let i=e.slice(0,r),o=e.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,r)=>{this.addHeaderEntry(r,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,r])=>{this.setHeaderEntries(e,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new n;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,e);let i=(t.op==="a"?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":let o=t.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let s=this.headers.get(e);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}break}}addHeaderEntry(t,e){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(e):this.headers.set(r,[e])}setHeaderEntries(t,e){let r=(Array.isArray(e)?e:[e]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var Yg=class{encodeKey(t){return jE(t)}encodeValue(t){return jE(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function hR(n,t){let e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}var gR=/%(\d[a-f0-9])/gi,bR={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function jE(n){return encodeURIComponent(n).replace(gR,(t,e)=>bR[e]??t)}function Pu(n){return`${n}`}var Ai=class n{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new Yg,t.fromString){if(t.fromObject)throw new O(2805,!1);this.map=hR(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let r=t.fromObject[e],i=Array.isArray(r)?r.map(Pu):[Pu(r)];this.map.set(e,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(r=>{let i=t[r];Array.isArray(i)?i.forEach(o=>{e.push({param:r,value:o,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new n({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(Pu(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],i=r.indexOf(Pu(t.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var Jg=class{map=new Map;set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function vR(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function BE(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function UE(n){return typeof Blob<"u"&&n instanceof Blob}function $E(n){return typeof FormData<"u"&&n instanceof FormData}function _R(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var cl="Content-Type",Ou="Accept",tb="X-Request-URL",GE="text/plain",WE="application/json",QE=`${WE}, ${GE}, */*`,dl=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,e,r,i){this.url=e,this.method=t.toUpperCase();let o;if(vR(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new ti,this.context??=new Jg,!this.params)this.params=new Ai,this.urlWithParams=e;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=e;else{let a=e.indexOf("?"),l=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||BE(this.body)||UE(this.body)||$E(this.body)||_R(this.body)?this.body:this.body instanceof Ai?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||$E(this.body)?null:UE(this.body)?this.body.type||null:BE(this.body)?null:typeof this.body=="string"?GE:this.body instanceof Ai?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?WE:null}clone(t={}){let e=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=t.transferCache??this.transferCache,s=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,u=t.headers||this.headers,m=t.params||this.params,p=t.context??this.context;return t.setHeaders!==void 0&&(u=Object.keys(t.setHeaders).reduce((v,g)=>v.set(g,t.setHeaders[g]),u)),t.setParams&&(m=Object.keys(t.setParams).reduce((v,g)=>v.set(g,t.setParams[g]),m)),new n(e,r,s,{params:m,headers:u,context:p,reportProgress:l,responseType:i,withCredentials:a,transferCache:o})}},ki=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(ki||{}),ml=class{headers;status;statusText;url;ok;type;constructor(t,e=200,r="OK"){this.headers=t.headers||new ti,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},Ru=class n extends ml{constructor(t={}){super(t)}type=ki.ResponseHeader;clone(t={}){return new n({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},pl=class n extends ml{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=ki.Response;clone(t={}){return new n({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Mi=class extends ml{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},KE=200,yR=204;function Kg(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var nb=(()=>{class n{handler;constructor(e){this.handler=e}request(e,r,i={}){let o;if(e instanceof dl)o=e;else{let l;i.headers instanceof ti?l=i.headers:l=new ti(i.headers);let u;i.params&&(i.params instanceof Ai?u=i.params:u=new Ai({fromObject:i.params})),o=new dl(e,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=q(o).pipe(hi(l=>this.handler.handle(l)));if(e instanceof dl||i.observe==="events")return s;let a=s.pipe(qe(l=>l instanceof pl));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(K(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new O(2806,!1);return l.body}));case"blob":return a.pipe(K(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new O(2807,!1);return l.body}));case"text":return a.pipe(K(l=>{if(l.body!==null&&typeof l.body!="string")throw new O(2808,!1);return l.body}));case"json":default:return a.pipe(K(l=>l.body))}case"response":return a;default:throw new O(2809,!1)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:new Ai().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,Kg(i,r))}post(e,r,i={}){return this.request("POST",e,Kg(i,r))}put(e,r,i={}){return this.request("PUT",e,Kg(i,r))}static \u0275fac=function(r){return new(r||n)(L(ul))};static \u0275prov=P({token:n,factory:n.\u0275fac})}return n})(),wR=/^\)\]\}',?\n/;function zE(n){if(n.url)return n.url;let t=tb.toLocaleLowerCase();return n.headers.get(t)}var ZE=new V(""),Zg=(()=>{class n{fetchImpl=y(Xg,{optional:!0})?.fetch??((...e)=>globalThis.fetch(...e));ngZone=y(ce);handle(e){return new re(r=>{let i=new AbortController;return this.doRequest(e,i.signal,r).then(eb,o=>r.error(new Mi({error:o}))),()=>i.abort()})}async doRequest(e,r,i){let o=this.createRequestInit(e),s;try{let g=this.ngZone.runOutsideAngular(()=>this.fetchImpl(e.urlWithParams,k({signal:r},o)));CR(g),i.next({type:ki.Sent}),s=await g}catch(g){i.error(new Mi({error:g,status:g.status??0,statusText:g.statusText,url:e.urlWithParams,headers:g.headers}));return}let a=new ti(s.headers),l=s.statusText,u=zE(s)??e.urlWithParams,m=s.status,p=null;if(e.reportProgress&&i.next(new Ru({headers:a,status:m,statusText:l,url:u})),s.body){let g=s.headers.get("content-length"),_=[],C=s.body.getReader(),S=0,A,F,B=typeof Zone<"u"&&Zone.current;await this.ngZone.runOutsideAngular(async()=>{for(;;){let{done:Y,value:Ae}=await C.read();if(Y)break;if(_.push(Ae),S+=Ae.length,e.reportProgress){F=e.responseType==="text"?(F??"")+(A??=new TextDecoder).decode(Ae,{stream:!0}):void 0;let Oe=()=>i.next({type:ki.DownloadProgress,total:g?+g:void 0,loaded:S,partialText:F});B?B.run(Oe):Oe()}}});let H=this.concatChunks(_,S);try{let Y=s.headers.get(cl)??"";p=this.parseBody(e,H,Y)}catch(Y){i.error(new Mi({error:Y,headers:new ti(s.headers),status:s.status,statusText:s.statusText,url:zE(s)??e.urlWithParams}));return}}m===0&&(m=p?KE:0),m>=200&&m<300?(i.next(new pl({body:p,headers:a,status:m,statusText:l,url:u})),i.complete()):i.error(new Mi({error:p,headers:a,status:m,statusText:l,url:u}))}parseBody(e,r,i){switch(e.responseType){case"json":let o=new TextDecoder().decode(r).replace(wR,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(e){let r={},i=e.withCredentials?"include":void 0;if(e.headers.forEach((o,s)=>r[o]=s.join(",")),e.headers.has(Ou)||(r[Ou]=QE),!e.headers.has(cl)){let o=e.detectContentTypeHeader();o!==null&&(r[cl]=o)}return{body:e.serializeBody(),method:e.method,headers:r,credentials:i}}concatChunks(e,r){let i=new Uint8Array(r),o=0;for(let s of e)i.set(s,o),o+=s.length;return i}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac})}return n})(),Xg=class{};function eb(){}function CR(n){n.then(eb,eb)}function ER(n,t){return t(n)}function xR(n,t,e){return(r,i)=>Cn(e,()=>t(r,o=>n(o,i)))}var YE=new V(""),SR=new V(""),DR=new V("",{providedIn:"root",factory:()=>!0});var HE=(()=>{class n extends ul{backend;injector;chain=null;pendingTasks=y(Qr);contributeToStability=y(DR);constructor(e,r){super(),this.backend=e,this.injector=r}handle(e){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(YE),...this.injector.get(SR,[])]));this.chain=r.reduceRight((i,o)=>xR(i,o,this.injector),ER)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(e,i=>this.backend.handle(i)).pipe(Lr(()=>this.pendingTasks.remove(r)))}else return this.chain(e,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(L(fl),L(Pt))};static \u0275prov=P({token:n,factory:n.\u0275fac})}return n})();var IR=/^\)\]\}',?\n/,TR=RegExp(`^${tb}:`,"m");function MR(n){return"responseURL"in n&&n.responseURL?n.responseURL:TR.test(n.getAllResponseHeaders())?n.getResponseHeader(tb):null}var qE=(()=>{class n{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new O(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?He(r.\u0275loadImpl()):q(null)).pipe(At(()=>new re(o=>{let s=r.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((C,S)=>s.setRequestHeader(C,S.join(","))),e.headers.has(Ou)||s.setRequestHeader(Ou,QE),!e.headers.has(cl)){let C=e.detectContentTypeHeader();C!==null&&s.setRequestHeader(cl,C)}if(e.responseType){let C=e.responseType.toLowerCase();s.responseType=C!=="json"?C:"text"}let a=e.serializeBody(),l=null,u=()=>{if(l!==null)return l;let C=s.statusText||"OK",S=new ti(s.getAllResponseHeaders()),A=MR(s)||e.url;return l=new Ru({headers:S,status:s.status,statusText:C,url:A}),l},m=()=>{let{headers:C,status:S,statusText:A,url:F}=u(),B=null;S!==yR&&(B=typeof s.response>"u"?s.responseText:s.response),S===0&&(S=B?KE:0);let H=S>=200&&S<300;if(e.responseType==="json"&&typeof B=="string"){let Y=B;B=B.replace(IR,"");try{B=B!==""?JSON.parse(B):null}catch(Ae){B=Y,H&&(H=!1,B={error:Ae,text:B})}}H?(o.next(new pl({body:B,headers:C,status:S,statusText:A,url:F||void 0})),o.complete()):o.error(new Mi({error:B,headers:C,status:S,statusText:A,url:F||void 0}))},p=C=>{let{url:S}=u(),A=new Mi({error:C,status:s.status||0,statusText:s.statusText||"Unknown Error",url:S||void 0});o.error(A)},v=!1,g=C=>{v||(o.next(u()),v=!0);let S={type:ki.DownloadProgress,loaded:C.loaded};C.lengthComputable&&(S.total=C.total),e.responseType==="text"&&s.responseText&&(S.partialText=s.responseText),o.next(S)},_=C=>{let S={type:ki.UploadProgress,loaded:C.loaded};C.lengthComputable&&(S.total=C.total),o.next(S)};return s.addEventListener("load",m),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),e.reportProgress&&(s.addEventListener("progress",g),a!==null&&s.upload&&s.upload.addEventListener("progress",_)),s.send(a),o.next({type:ki.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",m),s.removeEventListener("timeout",p),e.reportProgress&&(s.removeEventListener("progress",g),a!==null&&s.upload&&s.upload.removeEventListener("progress",_)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(L(Os))};static \u0275prov=P({token:n,factory:n.\u0275fac})}return n})(),JE=new V(""),AR="XSRF-TOKEN",kR=new V("",{providedIn:"root",factory:()=>AR}),PR="X-XSRF-TOKEN",OR=new V("",{providedIn:"root",factory:()=>PR}),Nu=class{},RR=(()=>{class n{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,r,i){this.doc=e,this.platform=r,this.cookieName=i}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Au(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(r){return new(r||n)(L(ye),L(Lt),L(kR))};static \u0275prov=P({token:n,factory:n.\u0275fac})}return n})();function NR(n,t){let e=n.url.toLowerCase();if(!y(JE)||n.method==="GET"||n.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return t(n);let r=y(Nu).getToken(),i=y(OR);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),t(n)}var XE=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(XE||{});function FR(n,t){return{\u0275kind:n,\u0275providers:t}}function ex(...n){let t=[nb,qE,HE,{provide:ul,useExisting:HE},{provide:fl,useFactory:()=>y(ZE,{optional:!0})??y(qE)},{provide:YE,useValue:NR,multi:!0},{provide:JE,useValue:!0},{provide:Nu,useClass:RR}];for(let e of n)t.push(...e.\u0275providers);return Cs(t)}function tx(){return FR(XE.Fetch,[Zg,{provide:ZE,useExisting:Zg},{provide:fl,useExisting:Zg}])}var ib=class extends Iu{supportsDOMEvents=!0},ob=class n extends ib{static makeCurrent(){ME(new n)}onAndCancel(t,e,r,i){return t.addEventListener(e,r,i),()=>{t.removeEventListener(e,r,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=VR();return e==null?null:jR(e)}resetBaseElement(){hl=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Au(document.cookie,t)}},hl=null;function VR(){return hl=hl||document.querySelector("base"),hl?hl.getAttribute("href"):null}function jR(n){return new URL(n,document.baseURI).pathname}var BR=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac})}return n})(),sb=new V(""),sx=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,r){this._zone=r,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,i,o){return this._findPluginFor(r).addEventListener(e,r,i,o)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(o=>o.supports(e)),!r)throw new O(5101,!1);return this._eventNameToPlugin.set(e,r),r}static \u0275fac=function(r){return new(r||n)(L(sb),L(ce))};static \u0275prov=P({token:n,factory:n.\u0275fac})}return n})(),Lu=class{_doc;constructor(t){this._doc=t}manager},Fu="ng-app-id";function nx(n){for(let t of n)t.remove()}function rx(n,t){let e=t.createElement("style");return e.textContent=n,e}function UR(n,t,e,r){let i=n.head?.querySelectorAll(`style[${Fu}="${t}"],link[${Fu}="${t}"]`);if(i)for(let o of i)o.removeAttribute(Fu),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&e.set(o.textContent,{usage:0,elements:[o]})}function ab(n,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",n),e}var ax=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,r,i,o={}){this.doc=e,this.appId=r,this.nonce=i,this.isServer=Qg(o),UR(e,r,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,r){for(let i of e)this.addUsage(i,this.inline,rx);r?.forEach(i=>this.addUsage(i,this.external,ab))}removeStyles(e,r){for(let i of e)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(e,r,i){let o=r.get(e);o?o.usage++:r.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(e,this.doc)))})}removeUsage(e,r){let i=r.get(e);i&&(i.usage--,i.usage<=0&&(nx(i.elements),r.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])nx(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(e,rx(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(e,ab(r,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Fu,this.appId),e.appendChild(r)}static \u0275fac=function(r){return new(r||n)(L(ye),L(tl),L(nl,8),L(Lt))};static \u0275prov=P({token:n,factory:n.\u0275fac})}return n})(),rb={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},cb=/%COMP%/g;var lx="%COMP%",$R=`_nghost-${lx}`,zR=`_ngcontent-${lx}`,HR=!0,qR=new V("",{providedIn:"root",factory:()=>HR});function GR(n){return zR.replace(cb,n)}function WR(n){return $R.replace(cb,n)}function cx(n,t){return t.map(e=>e.replace(cb,n))}var Vu=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,r,i,o,s,a,l,u=null,m=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=u,this.tracingService=m,this.platformIsServer=Qg(a),this.defaultRenderer=new gl(e,s,l,this.platformIsServer,this.tracingService)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===yr.ShadowDom&&(r=W(k({},r),{encapsulation:yr.Emulated}));let i=this.getOrCreateRenderer(e,r);return i instanceof ju?i.applyToHost(e):i instanceof bl&&i.applyStyles(),i}getOrCreateRenderer(e,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,m=this.removeStylesOnCompDestroy,p=this.platformIsServer,v=this.tracingService;switch(r.encapsulation){case yr.Emulated:o=new ju(l,u,r,this.appId,m,s,a,p,v);break;case yr.ShadowDom:return new lb(l,u,e,r,s,a,this.nonce,p,v);default:o=new bl(l,u,r,m,s,a,p,v);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(r){return new(r||n)(L(sx),L(ax),L(tl),L(qR),L(ye),L(Lt),L(ce),L(nl),L(Ds,8))};static \u0275prov=P({token:n,factory:n.\u0275fac})}return n})(),gl=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,r,i,o){this.eventManager=t,this.doc=e,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(rb[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(ix(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(ix(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){e.remove()}selectRootElement(t,e){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new O(-5104,!1);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;let o=rb[i];o?t.setAttributeNS(o,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){let i=rb[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(qr.DashCase|qr.Important)?t.style.setProperty(e,r,i&qr.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&qr.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t!=null&&(t[e]=r)}setValue(t,e){t.nodeValue=e}listen(t,e,r,i){if(typeof t=="string"&&(t=ei().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${e}`);let o=this.decoratePreventDefault(r);return this.tracingService!==null&&this.tracingService.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,e,o)),this.eventManager.addEventListener(t,e,o,i)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function ix(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var lb=class extends gl{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,r,i,o,s,a,l,u){super(t,o,s,l,u),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let m=i.styles;m=cx(i.id,m);for(let v of m){let g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=v,this.shadowRoot.appendChild(g)}let p=i.getExternalStyles?.();if(p)for(let v of p){let g=ab(v,o);a&&g.setAttribute("nonce",a),this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},bl=class extends gl{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,r,i,o,s,a,l,u){super(t,o,s,a,l),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i;let m=r.styles;this.styles=u?cx(u,m):m,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},ju=class extends bl{contentAttr;hostAttr;constructor(t,e,r,i,o,s,a,l,u){let m=i+"-"+r.id;super(t,e,r,o,s,a,l,u,m),this.contentAttr=GR(m),this.hostAttr=WR(m)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}},QR=(()=>{class n extends Lu{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i,o){return e.addEventListener(r,i,o),()=>this.removeEventListener(e,r,i,o)}removeEventListener(e,r,i,o){return e.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(L(ye))};static \u0275prov=P({token:n,factory:n.\u0275fac})}return n})(),ox=["alt","control","meta","shift"],KR={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ZR={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},YR=(()=>{class n extends Lu{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ei().onAndCancel(e,s.domEventName,a,o))}static parseEventName(e){let r=e.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),ox.forEach(u=>{let m=r.indexOf(u);m>-1&&(r.splice(m,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(e,r){let i=KR[e.key]||e.key,o="";return r.indexOf("code.")>-1&&(i=e.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),ox.forEach(s=>{if(s!==i){let a=ZR[s];a(e)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(e,r,i){return o=>{n.matchEventFullKeyCode(o,e)&&i.runGuarded(()=>r(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(r){return new(r||n)(L(ye))};static \u0275prov=P({token:n,factory:n.\u0275fac})}return n})();function dx(n,t){return vE(k({rootComponent:n},JR(t)))}function JR(n){return{appProviders:[...rN,...n?.providers??[]],platformProviders:nN}}function XR(){ob.makeCurrent()}function eN(){return new an}function tN(){return Ww(document),document}var nN=[{provide:Lt,useValue:Wg},{provide:ng,useValue:XR,multi:!0},{provide:ye,useFactory:tN,deps:[]}];var rN=[{provide:Kd,useValue:"root"},{provide:an,useFactory:eN,deps:[]},{provide:sb,useClass:QR,multi:!0,deps:[ye,ce,Lt]},{provide:sb,useClass:YR,multi:!0,deps:[ye]},Vu,ax,sx,{provide:Xn,useExisting:Vu},{provide:Os,useClass:BR,deps:[]},[]];var ux=(()=>{class n{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(r){return new(r||n)(L(ye))};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var db=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=L(iN),i},providedIn:"root"})}return n})(),iN=(()=>{class n extends db{_doc;constructor(e){super(),this._doc=e}sanitize(e,r){if(r==null)return null;switch(e){case Vt.NONE:return r;case Vt.HTML:return Di(r,"HTML")?rr(r):cC(this._doc,String(r)).toString();case Vt.STYLE:return Di(r,"Style")?rr(r):r;case Vt.SCRIPT:if(Di(r,"Script"))return rr(r);throw new O(5200,!1);case Vt.URL:return Di(r,"URL")?rr(r):cu(String(r));case Vt.RESOURCE_URL:if(Di(r,"ResourceURL"))return rr(r);throw new O(5201,!1);default:throw new O(5202,!1)}}bypassSecurityTrustHtml(e){return Xw(e)}bypassSecurityTrustStyle(e){return eC(e)}bypassSecurityTrustScript(e){return tC(e)}bypassSecurityTrustUrl(e){return nC(e)}bypassSecurityTrustResourceUrl(e){return rC(e)}static \u0275fac=function(r){return new(r||n)(L(ye))};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var me="primary",Pl=Symbol("RouteTitle"),hb=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function js(n){return new hb(n)}function oN(n,t,e){let r=e.path.split("/");if(r.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function sN(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Dr(n[e],t[e]))return!1;return!0}function Dr(n,t){let e=n?gb(n):void 0,r=t?gb(t):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let o=0;o<e.length;o++)if(i=e[o],!yx(n[i],t[i]))return!1;return!0}function gb(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function yx(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),r=[...t].sort();return e.every((i,o)=>r[o]===i)}else return n===t}function wx(n){return n.length>0?n[n.length-1]:null}function Oi(n){return Aa(n)?n:go(n)?He(Promise.resolve(n)):q(n)}var aN={exact:Ex,subset:xx},Cx={exact:lN,subset:cN,ignored:()=>!0};function mx(n,t,e){return aN[e.paths](n.root,t.root,e.matrixParams)&&Cx[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function lN(n,t){return Dr(n,t)}function Ex(n,t,e){if(!wo(n.segments,t.segments)||!$u(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!n.children[r]||!Ex(n.children[r],t.children[r],e))return!1;return!0}function cN(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>yx(n[e],t[e]))}function xx(n,t,e){return Sx(n,t,t.segments,e)}function Sx(n,t,e,r){if(n.segments.length>e.length){let i=n.segments.slice(0,e.length);return!(!wo(i,e)||t.hasChildren()||!$u(i,e,r))}else if(n.segments.length===e.length){if(!wo(n.segments,e)||!$u(n.segments,e,r))return!1;for(let i in t.children)if(!n.children[i]||!xx(n.children[i],t.children[i],r))return!1;return!0}else{let i=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!wo(n.segments,i)||!$u(n.segments,i,r)||!n.children[me]?!1:Sx(n.children[me],t,o,r)}}function $u(n,t,e){return t.every((r,i)=>Cx[e](n[i].parameters,r.parameters))}var ri=class{root;queryParams;fragment;_queryParamMap;constructor(t=new Te([],{}),e={},r=null){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap??=js(this.queryParams),this._queryParamMap}toString(){return fN.serialize(this)}},Te=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return zu(this)}},yo=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=js(this.parameters),this._parameterMap}toString(){return Ix(this)}};function dN(n,t){return wo(n,t)&&n.every((e,r)=>Dr(e.parameters,t[r].parameters))}function wo(n,t){return n.length!==t.length?!1:n.every((e,r)=>e.path===t[r].path)}function uN(n,t){let e=[];return Object.entries(n.children).forEach(([r,i])=>{r===me&&(e=e.concat(t(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==me&&(e=e.concat(t(i,r)))}),e}var $b=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:()=>new El,providedIn:"root"})}return n})(),El=class{parse(t){let e=new vb(t);return new ri(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${vl(t.root,!0)}`,r=hN(t.queryParams),i=typeof t.fragment=="string"?`#${mN(t.fragment)}`:"";return`${e}${r}${i}`}},fN=new El;function zu(n){return n.segments.map(t=>Ix(t)).join("/")}function vl(n,t){if(!n.hasChildren())return zu(n);if(t){let e=n.children[me]?vl(n.children[me],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==me&&r.push(`${i}:${vl(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}else{let e=uN(n,(r,i)=>i===me?[vl(n.children[me],!1)]:[`${i}:${vl(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[me]!=null?`${zu(n)}/${e[0]}`:`${zu(n)}/(${e.join("//")})`}}function Dx(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bu(n){return Dx(n).replace(/%3B/gi,";")}function mN(n){return encodeURI(n)}function bb(n){return Dx(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Hu(n){return decodeURIComponent(n)}function px(n){return Hu(n.replace(/\+/g,"%20"))}function Ix(n){return`${bb(n.path)}${pN(n.parameters)}`}function pN(n){return Object.entries(n).map(([t,e])=>`;${bb(t)}=${bb(e)}`).join("")}function hN(n){let t=Object.entries(n).map(([e,r])=>Array.isArray(r)?r.map(i=>`${Bu(e)}=${Bu(i)}`).join("&"):`${Bu(e)}=${Bu(r)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var gN=/^[^\/()?;#]+/;function ub(n){let t=n.match(gN);return t?t[0]:""}var bN=/^[^\/()?;=#]+/;function vN(n){let t=n.match(bN);return t?t[0]:""}var _N=/^[^=?&#]+/;function yN(n){let t=n.match(_N);return t?t[0]:""}var wN=/^[^&#]+/;function CN(n){let t=n.match(wN);return t?t[0]:""}var vb=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Te([],{}):new Te([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[me]=new Te(t,e)),r}parseSegment(){let t=ub(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new O(4009,!1);return this.capture(t),new yo(Hu(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=vN(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let i=ub(this.remaining);i&&(r=i,this.capture(r))}t[Hu(e)]=Hu(r)}parseQueryParam(t){let e=yN(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let s=CN(this.remaining);s&&(r=s,this.capture(r))}let i=px(e),o=px(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=ub(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new O(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=me);let s=this.parseChildren();e[o]=Object.keys(s).length===1?s[me]:new Te([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new O(4011,!1)}};function Tx(n){return n.segments.length>0?new Te([],{[me]:n}):n}function Mx(n){let t={};for(let[r,i]of Object.entries(n.children)){let o=Mx(i);if(r===me&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let e=new Te(n.segments,t);return EN(e)}function EN(n){if(n.numberOfChildren===1&&n.children[me]){let t=n.children[me];return new Te(n.segments.concat(t.segments),t.children)}return n}function Co(n){return n instanceof ri}function xN(n,t,e=null,r=null){let i=Ax(n);return kx(i,t,e,r)}function Ax(n){let t;function e(o){let s={};for(let l of o.children){let u=e(l);s[l.outlet]=u}let a=new Te(o.url,s);return o===n&&(t=a),a}let r=e(n.root),i=Tx(r);return t??i}function kx(n,t,e,r){let i=n;for(;i.parent;)i=i.parent;if(t.length===0)return fb(i,i,i,e,r);let o=SN(t);if(o.toRoot())return fb(i,i,new Te([],{}),e,r);let s=DN(o,i,n),a=s.processChildren?yl(s.segmentGroup,s.index,o.commands):Ox(s.segmentGroup,s.index,o.commands);return fb(i,s.segmentGroup,a,e,r)}function qu(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function xl(n){return typeof n=="object"&&n!=null&&n.outlets}function fb(n,t,e,r,i){let o={};r&&Object.entries(r).forEach(([l,u])=>{o[l]=Array.isArray(u)?u.map(m=>`${m}`):`${u}`});let s;n===t?s=e:s=Px(n,t,e);let a=Tx(Mx(s));return new ri(a,o,i)}function Px(n,t,e){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===t?r[i]=e:r[i]=Px(o,t,e)}),new Te(n.segments,r)}var Gu=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&qu(r[0]))throw new O(4003,!1);let i=r.find(xl);if(i&&i!==wx(r))throw new O(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function SN(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Gu(!0,0,n);let t=0,e=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,u])=>{a[l]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?e=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Gu(e,t,r)}var Fs=class{segmentGroup;processChildren;index;constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}};function DN(n,t,e){if(n.isAbsolute)return new Fs(t,!0,0);if(!e)return new Fs(t,!1,NaN);if(e.parent===null)return new Fs(e,!0,0);let r=qu(n.commands[0])?0:1,i=e.segments.length-1+r;return IN(e,i,n.numberOfDoubleDots)}function IN(n,t,e){let r=n,i=t,o=e;for(;o>i;){if(o-=i,r=r.parent,!r)throw new O(4005,!1);i=r.segments.length}return new Fs(r,!1,i-o)}function TN(n){return xl(n[0])?n[0].outlets:{[me]:n}}function Ox(n,t,e){if(n??=new Te([],{}),n.segments.length===0&&n.hasChildren())return yl(n,t,e);let r=MN(n,t,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Te(n.segments.slice(0,r.pathIndex),{});return o.children[me]=new Te(n.segments.slice(r.pathIndex),n.children),yl(o,0,i)}else return r.match&&i.length===0?new Te(n.segments,{}):r.match&&!n.hasChildren()?_b(n,t,e):r.match?yl(n,0,i):_b(n,t,e)}function yl(n,t,e){if(e.length===0)return new Te(n.segments,{});{let r=TN(e),i={};if(Object.keys(r).some(o=>o!==me)&&n.children[me]&&n.numberOfChildren===1&&n.children[me].segments.length===0){let o=yl(n.children[me],t,e);return new Te(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Ox(n.children[o],t,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Te(n.segments,i)}}function MN(n,t,e){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=e.length)return o;let s=n.segments[i],a=e[r];if(xl(a))break;let l=`${a}`,u=r<e.length-1?e[r+1]:null;if(i>0&&l===void 0)break;if(l&&u&&typeof u=="object"&&u.outlets===void 0){if(!gx(l,u,s))return o;r+=2}else{if(!gx(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function _b(n,t,e){let r=n.segments.slice(0,t),i=0;for(;i<e.length;){let o=e[i];if(xl(o)){let l=AN(o.outlets);return new Te(r,l)}if(i===0&&qu(e[0])){let l=n.segments[t];r.push(new yo(l.path,hx(e[0]))),i++;continue}let s=xl(o)?o.outlets[me]:`${o}`,a=i<e.length-1?e[i+1]:null;s&&a&&qu(a)?(r.push(new yo(s,hx(a))),i+=2):(r.push(new yo(s,{})),i++)}return new Te(r,{})}function AN(n){let t={};return Object.entries(n).forEach(([e,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[e]=_b(new Te([],{}),0,r))}),t}function hx(n){let t={};return Object.entries(n).forEach(([e,r])=>t[e]=`${r}`),t}function gx(n,t,e){return n==e.path&&Dr(t,e.parameters)}var wl="imperative",St=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(St||{}),Hn=class{id;url;constructor(t,e){this.id=t,this.url=e}},Sl=class extends Hn{type=St.NavigationStart;navigationTrigger;restoredState;constructor(t,e,r="imperative",i=null){super(t,e),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Pi=class extends Hn{urlAfterRedirects;type=St.NavigationEnd;constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},An=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(An||{}),yb=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(yb||{}),ni=class extends Hn{reason;code;type=St.NavigationCancel;constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Eo=class extends Hn{reason;code;type=St.NavigationSkipped;constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i}},Dl=class extends Hn{error;target;type=St.NavigationError;constructor(t,e,r,i){super(t,e),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Wu=class extends Hn{urlAfterRedirects;state;type=St.RoutesRecognized;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wb=class extends Hn{urlAfterRedirects;state;type=St.GuardsCheckStart;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cb=class extends Hn{urlAfterRedirects;state;shouldActivate;type=St.GuardsCheckEnd;constructor(t,e,r,i,o){super(t,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Eb=class extends Hn{urlAfterRedirects;state;type=St.ResolveStart;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xb=class extends Hn{urlAfterRedirects;state;type=St.ResolveEnd;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sb=class{route;type=St.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Db=class{route;type=St.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ib=class{snapshot;type=St.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Tb=class{snapshot;type=St.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Mb=class{snapshot;type=St.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ab=class{snapshot;type=St.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Il=class{},Bs=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function kN(n,t){return n.providers&&!n._injector&&(n._injector=Cg(n.providers,t,`Route: ${n.path}`)),n._injector??t}function sr(n){return n.outlet||me}function PN(n,t){let e=n.filter(r=>sr(r)===t);return e.push(...n.filter(r=>sr(r)!==t)),e}function Ol(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var kb=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ol(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new ef(this.rootInjector)}},ef=(()=>{class n{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,r){let i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){let r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new kb(this.rootInjector),this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(r){return new(r||n)(L(Pt))};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Qu=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=Pb(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){let e=Pb(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=Ob(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Ob(t,this._root).map(e=>e.value)}};function Pb(n,t){if(n===t.value)return t;for(let e of t.children){let r=Pb(n,e);if(r)return r}return null}function Ob(n,t){if(n===t.value)return[t];for(let e of t.children){let r=Ob(n,e);if(r.length)return r.unshift(t),r}return[]}var Mn=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function Ns(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var Ku=class extends Qu{snapshot;constructor(t,e){super(t),this.snapshot=e,zb(this,t)}toString(){return this.snapshot.toString()}};function Rx(n){let t=ON(n),e=new ot([new yo("",{})]),r=new ot({}),i=new ot({}),o=new ot({}),s=new ot(""),a=new kn(e,r,o,s,i,me,n,t.root);return a.snapshot=t.root,new Ku(new Mn(a,[]),t)}function ON(n){let t={},e={},r={},i="",o=new Ls([],t,r,i,e,me,n,null,{});return new Yu("",new Mn(o,[]))}var kn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,r,i,o,s,a,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(K(u=>u[Pl]))??q(void 0),this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(K(t=>js(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(K(t=>js(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Zu(n,t,e="emptyOnly"){let r,{routeConfig:i}=n;return t!==null&&(e==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:k(k({},t.params),n.params),data:k(k({},t.data),n.data),resolve:k(k(k(k({},n.data),t.data),i?.data),n._resolvedData)}:r={params:k({},n.params),data:k({},n.data),resolve:k(k({},n.data),n._resolvedData??{})},i&&Fx(i)&&(r.resolve[Pl]=i.title),r}var Ls=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Pl]}constructor(t,e,r,i,o,s,a,l,u){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=js(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=js(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},Yu=class extends Qu{url;constructor(t,e){super(e),this.url=t,zb(this,e)}toString(){return Nx(this._root)}};function zb(n,t){t.value._routerState=n,t.children.forEach(e=>zb(n,e))}function Nx(n){let t=n.children.length>0?` { ${n.children.map(Nx).join(", ")} } `:"";return`${n.value}${t}`}function mb(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Dr(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Dr(t.params,e.params)||n.paramsSubject.next(e.params),sN(t.url,e.url)||n.urlSubject.next(e.url),Dr(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Rb(n,t){let e=Dr(n.params,t.params)&&dN(n.url,t.url),r=!n.parent!=!t.parent;return e&&!r&&(!n.parent||Rb(n.parent,t.parent))}function Fx(n){return typeof n.title=="string"||n.title===null}var RN=new V(""),Hb=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=me;activateEvents=new J;deactivateEvents=new J;attachEvents=new J;detachEvents=new J;routerOutletData=jw(void 0);parentContexts=y(ef);location=y(Yt);changeDetector=y(ee);inputBinder=y(qb,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new O(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new O(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new O(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new O(4013,!1);this._activatedRoute=e;let i=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Nb(e,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=X({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[cn]})}return n})(),Nb=class n{route;childContexts;parent;outletData;__ngOutletInjector(t){return new n(this.route,this.childContexts,t,this.outletData)}constructor(t,e,r,i){this.route=t,this.childContexts=e,this.parent=r,this.outletData=i}get(t,e){return t===kn?this.route:t===ef?this.childContexts:t===RN?this.outletData:this.parent.get(t,e)}},qb=new V("");function NN(n,t,e){let r=Tl(n,t._root,e?e._root:void 0);return new Ku(r,t)}function Tl(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let r=e.value;r._futureSnapshot=t.value;let i=FN(n,t,e);return new Mn(r,i)}else{if(n.shouldAttach(t.value)){let o=n.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Tl(n,a)),s}}let r=LN(t.value),i=t.children.map(o=>Tl(n,o));return new Mn(r,i)}}function FN(n,t,e){return t.children.map(r=>{for(let i of e.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Tl(n,r,i);return Tl(n,r)})}function LN(n){return new kn(new ot(n.url),new ot(n.params),new ot(n.queryParams),new ot(n.fragment),new ot(n.data),n.outlet,n.component,n)}var Ml=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},Lx="ngNavigationCancelingError";function Ju(n,t){let{redirectTo:e,navigationBehaviorOptions:r}=Co(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=Vx(!1,An.Redirect);return i.url=e,i.navigationBehaviorOptions=r,i}function Vx(n,t){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[Lx]=!0,e.cancellationCode=t,e}function VN(n){return jx(n)&&Co(n.url)}function jx(n){return!!n&&n[Lx]}var jN=(n,t,e,r)=>K(i=>(new Fb(t,i.targetRouterState,i.currentRouterState,e,r).activate(n),i)),Fb=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,r,i,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),mb(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){let i=Ns(e);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,e,r){let i=t.value,o=e?e.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,r);else o&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=Ns(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){let r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=Ns(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,e,r){let i=Ns(e);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Ab(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Tb(t.value.snapshot))}activateRoutes(t,e,r){let i=t.value,o=e?e.value:null;if(mb(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),mb(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},Xu=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Vs=class{component;route;constructor(t,e){this.component=t,this.route=e}};function BN(n,t,e){let r=n._root,i=t?t._root:null;return _l(r,i,e,[r.value])}function UN(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function $s(n,t){let e=Symbol(),r=t.get(n,e);return r===e?typeof n=="function"&&!Oy(n)?n:t.get(n):r}function _l(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ns(t);return n.children.forEach(s=>{$N(s,o[s.value.outlet],e,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Cl(a,e.getContext(s),i)),i}function $N(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=zN(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Xu(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?_l(n,t,a?a.children:null,r,i):_l(n,t,e,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Vs(a.outlet.component,s))}else s&&Cl(t,a,i),i.canActivateChecks.push(new Xu(r)),o.component?_l(n,null,a?a.children:null,r,i):_l(n,null,e,r,i);return i}function zN(n,t,e){if(typeof e=="function")return e(n,t);switch(e){case"pathParamsChange":return!wo(n.url,t.url);case"pathParamsOrQueryParamsChange":return!wo(n.url,t.url)||!Dr(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Rb(n,t)||!Dr(n.queryParams,t.queryParams);case"paramsChange":default:return!Rb(n,t)}}function Cl(n,t,e){let r=Ns(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?t?Cl(s,t.children.getContext(o),e):Cl(s,null,e):Cl(s,t,e)}),i.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new Vs(t.outlet.component,i)):e.canDeactivateChecks.push(new Vs(null,i)):e.canDeactivateChecks.push(new Vs(null,i))}function Rl(n){return typeof n=="function"}function HN(n){return typeof n=="boolean"}function qN(n){return n&&Rl(n.canLoad)}function GN(n){return n&&Rl(n.canActivate)}function WN(n){return n&&Rl(n.canActivateChild)}function QN(n){return n&&Rl(n.canDeactivate)}function KN(n){return n&&Rl(n.canMatch)}function Bx(n){return n instanceof Nr||n?.name==="EmptyError"}var Uu=Symbol("INITIAL_VALUE");function Us(){return At(n=>rs(n.map(t=>t.pipe(rn(1),gr(Uu)))).pipe(K(t=>{for(let e of t)if(e!==!0){if(e===Uu)return Uu;if(e===!1||ZN(e))return e}return!0}),qe(t=>t!==Uu),rn(1)))}function ZN(n){return Co(n)||n instanceof Ml}function YN(n,t){return ut(e=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return s.length===0&&o.length===0?q(W(k({},e),{guardsResult:!0})):JN(s,r,i,n).pipe(ut(a=>a&&HN(a)?XN(r,o,n,t):q(a)),K(a=>W(k({},e),{guardsResult:a})))})}function JN(n,t,e,r){return He(n).pipe(ut(i=>iF(i.component,i.route,e,t,r)),Vr(i=>i!==!0,!0))}function XN(n,t,e,r){return He(t).pipe(hi(i=>pi(tF(i.route.parent,r),eF(i.route,r),rF(n,i.path,e),nF(n,i.route,e))),Vr(i=>i!==!0,!0))}function eF(n,t){return n!==null&&t&&t(new Mb(n)),q(!0)}function tF(n,t){return n!==null&&t&&t(new Ib(n)),q(!0)}function nF(n,t,e){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return q(!0);let i=r.map(o=>Jc(()=>{let s=Ol(t)??e,a=$s(o,s),l=GN(a)?a.canActivate(t,n):Cn(s,()=>a(t,n));return Oi(l).pipe(Vr())}));return q(i).pipe(Us())}function rF(n,t,e){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>UN(s)).filter(s=>s!==null).map(s=>Jc(()=>{let a=s.guards.map(l=>{let u=Ol(s.node)??e,m=$s(l,u),p=WN(m)?m.canActivateChild(r,n):Cn(u,()=>m(r,n));return Oi(p).pipe(Vr())});return q(a).pipe(Us())}));return q(o).pipe(Us())}function iF(n,t,e,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return q(!0);let s=o.map(a=>{let l=Ol(t)??i,u=$s(a,l),m=QN(u)?u.canDeactivate(n,t,e,r):Cn(l,()=>u(n,t,e,r));return Oi(m).pipe(Vr())});return q(s).pipe(Us())}function oF(n,t,e,r){let i=t.canLoad;if(i===void 0||i.length===0)return q(!0);let o=i.map(s=>{let a=$s(s,n),l=qN(a)?a.canLoad(t,e):Cn(n,()=>a(t,e));return Oi(l)});return q(o).pipe(Us(),Ux(r))}function Ux(n){return dp(Qe(t=>{if(typeof t!="boolean")throw Ju(n,t)}),K(t=>t===!0))}function sF(n,t,e,r){let i=t.canMatch;if(!i||i.length===0)return q(!0);let o=i.map(s=>{let a=$s(s,n),l=KN(a)?a.canMatch(t,e):Cn(n,()=>a(t,e));return Oi(l)});return q(o).pipe(Us(),Ux(r))}var Al=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},kl=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function Rs(n){return mi(new Al(n))}function aF(n){return mi(new O(4e3,!1))}function lF(n){return mi(Vx(!1,An.GuardRejected))}var Lb=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return q(r);if(i.numberOfChildren>1||!i.children[me])return aF(`${t.redirectTo}`);i=i.children[me]}}applyRedirectCommands(t,e,r,i,o){if(typeof e!="string"){let a=e,{queryParams:l,fragment:u,routeConfig:m,url:p,outlet:v,params:g,data:_,title:C}=i,S=Cn(o,()=>a({params:g,data:_,queryParams:l,fragment:u,routeConfig:m,url:p,outlet:v,title:C}));if(S instanceof ri)throw new kl(S);e=S}let s=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,r);if(e[0]==="/")throw new kl(s);return s}applyRedirectCreateUrlTree(t,e,r,i){let o=this.createSegmentGroup(t,e.root,r,i);return new ri(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=e[a]}else r[i]=o}),r}createSegmentGroup(t,e,r,i){let o=this.createSegments(t,e.segments,r,i),s={};return Object.entries(e.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,r,i)}),new Te(o,s)}createSegments(t,e,r,i){return e.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,e,r){let i=r[e.path.substring(1)];if(!i)throw new O(4001,!1);return i}findOrReturn(t,e){let r=0;for(let i of e){if(i.path===t.path)return e.splice(r),i;r++}return t}},Vb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function cF(n,t,e,r,i){let o=$x(n,t,e);return o.matched?(r=kN(t,r),sF(r,t,e,i).pipe(K(s=>s===!0?o:k({},Vb)))):q(o)}function $x(n,t,e){if(t.path==="**")return dF(e);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?k({},Vb):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let i=(t.matcher||oN)(e,n,t);if(!i)return k({},Vb);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?k(k({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function dF(n){return{matched:!0,parameters:n.length>0?wx(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function bx(n,t,e,r){return e.length>0&&mF(n,e,r)?{segmentGroup:new Te(t,fF(r,new Te(e,n.children))),slicedSegments:[]}:e.length===0&&pF(n,e,r)?{segmentGroup:new Te(n.segments,uF(n,e,r,n.children)),slicedSegments:e}:{segmentGroup:new Te(n.segments,n.children),slicedSegments:e}}function uF(n,t,e,r){let i={};for(let o of e)if(tf(n,t,o)&&!r[sr(o)]){let s=new Te([],{});i[sr(o)]=s}return k(k({},r),i)}function fF(n,t){let e={};e[me]=t;for(let r of n)if(r.path===""&&sr(r)!==me){let i=new Te([],{});e[sr(r)]=i}return e}function mF(n,t,e){return e.some(r=>tf(n,t,r)&&sr(r)!==me)}function pF(n,t,e){return e.some(r=>tf(n,t,r))}function tf(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function hF(n,t,e){return t.length===0&&!n.children[e]}var jb=class{};function gF(n,t,e,r,i,o,s="emptyOnly"){return new Bb(n,t,e,r,i,s,o).recognize()}var bF=31,Bb=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,r,i,o,s,a){this.injector=t,this.configLoader=e,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Lb(this.urlSerializer,this.urlTree)}noMatchError(t){return new O(4002,`'${t.segmentGroup}'`)}recognize(){let t=bx(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(K(({children:e,rootSnapshot:r})=>{let i=new Mn(r,e),o=new Yu("",i),s=xN(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let e=new Ls([],Object.freeze({}),Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),me,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,me,e).pipe(K(r=>({children:r,rootSnapshot:e})),hr(r=>{if(r instanceof kl)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Al?this.noMatchError(r):r}))}processSegmentGroup(t,e,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,e,r,o):this.processSegment(t,e,r,r.segments,i,!0,o).pipe(K(s=>s instanceof Mn?[s]:[]))}processChildren(t,e,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return He(o).pipe(hi(s=>{let a=r.children[s],l=PN(e,s);return this.processSegmentGroup(t,l,a,s,i)}),bp((s,a)=>(s.push(...a),s)),gi(null),gp(),ut(s=>{if(s===null)return Rs(r);let a=zx(s);return vF(a),q(a)}))}processSegment(t,e,r,i,o,s,a){return He(e).pipe(hi(l=>this.processSegmentAgainstRoute(l._injector??t,e,l,r,i,o,s,a).pipe(hr(u=>{if(u instanceof Al)return q(null);throw u}))),Vr(l=>!!l),hr(l=>{if(Bx(l))return hF(r,i,o)?q(new jb):Rs(r);throw l}))}processSegmentAgainstRoute(t,e,r,i,o,s,a,l){return sr(r)!==s&&(s===me||!tf(i,o,r))?Rs(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,e,r,o,s,l):Rs(i)}expandSegmentAgainstRouteUsingRedirect(t,e,r,i,o,s,a){let{matched:l,parameters:u,consumedSegments:m,positionalParamSegments:p,remainingSegments:v}=$x(e,i,o);if(!l)return Rs(e);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>bF&&(this.allowRedirects=!1));let g=new Ls(o,u,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,vx(i),sr(i),i.component??i._loadedComponent??null,i,_x(i)),_=Zu(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(_.params),g.data=Object.freeze(_.data);let C=this.applyRedirects.applyRedirectCommands(m,i.redirectTo,p,g,t);return this.applyRedirects.lineralizeSegments(i,C).pipe(ut(S=>this.processSegment(t,r,e,S.concat(v),s,!1,a)))}matchSegmentAgainstRoute(t,e,r,i,o,s){let a=cF(e,r,i,t,this.urlSerializer);return r.path==="**"&&(e.children={}),a.pipe(At(l=>l.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(At(({routes:u})=>{let m=r._loadedInjector??t,{parameters:p,consumedSegments:v,remainingSegments:g}=l,_=new Ls(v,p,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,vx(r),sr(r),r.component??r._loadedComponent??null,r,_x(r)),C=Zu(_,s,this.paramsInheritanceStrategy);_.params=Object.freeze(C.params),_.data=Object.freeze(C.data);let{segmentGroup:S,slicedSegments:A}=bx(e,v,g,u);if(A.length===0&&S.hasChildren())return this.processChildren(m,u,S,_).pipe(K(B=>new Mn(_,B)));if(u.length===0&&A.length===0)return q(new Mn(_,[]));let F=sr(r)===o;return this.processSegment(m,u,S,A,F?me:o,!0,_).pipe(K(B=>new Mn(_,B instanceof Mn?[B]:[])))}))):Rs(e)))}getChildConfig(t,e,r){return e.children?q({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?q({routes:e._loadedRoutes,injector:e._loadedInjector}):oF(t,e,r,this.urlSerializer).pipe(ut(i=>i?this.configLoader.loadChildren(t,e).pipe(Qe(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):lF(e))):q({routes:[],injector:t})}};function vF(n){n.sort((t,e)=>t.value.outlet===me?-1:e.value.outlet===me?1:t.value.outlet.localeCompare(e.value.outlet))}function _F(n){let t=n.value.routeConfig;return t&&t.path===""}function zx(n){let t=[],e=new Set;for(let r of n){if(!_F(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),e.add(i)):t.push(r)}for(let r of e){let i=zx(r.children);t.push(new Mn(r.value,i))}return t.filter(r=>!e.has(r))}function vx(n){return n.data||{}}function _x(n){return n.resolve||{}}function yF(n,t,e,r,i,o){return ut(s=>gF(n,t,e,r,s.extractedUrl,i,o).pipe(K(({state:a,tree:l})=>W(k({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function wF(n,t){return ut(e=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return q(e);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let u of Hx(l))s.add(u);let a=0;return He(s).pipe(hi(l=>o.has(l)?CF(l,r,n,t):(l.data=Zu(l,l.parent,n).resolve,q(void 0))),Qe(()=>a++),is(1),ut(l=>a===s.size?q(e):pt))})}function Hx(n){let t=n.children.map(e=>Hx(e)).flat();return[n,...t]}function CF(n,t,e,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!Fx(i)&&(o[Pl]=i.title),EF(o,n,t,r).pipe(K(s=>(n._resolvedData=s,n.data=Zu(n,n.parent,e).resolve,null)))}function EF(n,t,e,r){let i=gb(n);if(i.length===0)return q({});let o={};return He(i).pipe(ut(s=>xF(n[s],t,e,r).pipe(Vr(),Qe(a=>{if(a instanceof Ml)throw Ju(new El,a);o[s]=a}))),is(1),K(()=>o),hr(s=>Bx(s)?pt:mi(s)))}function xF(n,t,e,r){let i=Ol(t)??r,o=$s(n,i),s=o.resolve?o.resolve(t,e):Cn(i,()=>o(t,e));return Oi(s)}function pb(n){return At(t=>{let e=n(t);return e?He(e).pipe(K(()=>t)):q(t)})}var qx=(()=>{class n{buildTitle(e){let r,i=e.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===me);return r}getResolvedTitleForRoute(e){return e.data[Pl]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:()=>y(SF),providedIn:"root"})}return n})(),SF=(()=>{class n extends qx{title;constructor(e){super(),this.title=e}updateTitle(e){let r=this.buildTitle(e);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(L(ux))};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Gb=new V("",{providedIn:"root",factory:()=>({})}),DF=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=j({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&w(0,"router-outlet")},dependencies:[Hb],encapsulation:2})}return n})();function Wb(n){let t=n.children&&n.children.map(Wb),e=t?W(k({},n),{children:t}):k({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==me&&(e.component=DF),e}var Qb=new V(""),IF=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=y(Og);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return q(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let r=Oi(e.loadComponent()).pipe(K(Gx),Qe(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Lr(()=>{this.componentLoaders.delete(e)})),i=new ts(r,()=>new ne).pipe(es());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=TF(r,this.compiler,e,this.onLoadEndListener).pipe(Lr(()=>{this.childrenLoaders.delete(r)})),s=new ts(o,()=>new ne).pipe(es());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function TF(n,t,e,r){return Oi(n.loadChildren()).pipe(K(Gx),ut(i=>i instanceof Wa||Array.isArray(i)?q(i):He(t.compileModuleAsync(i))),K(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(e).injector,s=o.get(Qb,[],{optional:!0,self:!0}).flat()),{routes:s.map(Wb),injector:o}}))}function MF(n){return n&&typeof n=="object"&&"default"in n}function Gx(n){return MF(n)?n.default:n}var Kb=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:()=>y(AF),providedIn:"root"})}return n})(),AF=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),kF=new V("");var PF=new V(""),OF=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ne;transitionAbortSubject=new ne;configLoader=y(IF);environmentInjector=y(Pt);destroyRef=y(po);urlSerializer=y($b);rootContexts=y(ef);location=y(ll);inputBindingEnabled=y(qb,{optional:!0})!==null;titleStrategy=y(qx);options=y(Gb,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=y(Kb);createViewTransition=y(kF,{optional:!0});navigationErrorHandler=y(PF,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>q(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=i=>this.events.next(new Sb(i)),r=i=>this.events.next(new Db(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let r=++this.navigationId;this.transitions?.next(W(k(k({},this.transitions.value),e),{id:r}))}setupNavigations(e,r,i){return this.transitions=new ot({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:wl,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(qe(o=>o.id!==0),K(o=>W(k({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),At(o=>{let s=!1,a=!1;return q(o).pipe(At(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",An.SupersededByNewNavigation),pt;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?W(k({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),m=l.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!u&&m!=="reload"){let p="";return this.events.next(new Eo(l.id,this.urlSerializer.serialize(l.rawUrl),p,yb.IgnoredSameUrlNavigation)),l.resolve(!1),pt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return q(l).pipe(At(p=>{let v=this.transitions?.getValue();return this.events.next(new Sl(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),v!==this.transitions?.getValue()?pt:Promise.resolve(p)}),yF(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),Qe(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=W(k({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let v=new Wu(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(v)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:p,extractedUrl:v,source:g,restoredState:_,extras:C}=l,S=new Sl(p,this.urlSerializer.serialize(v),g,_);this.events.next(S);let A=Rx(this.rootComponentType).snapshot;return this.currentTransition=o=W(k({},l),{targetSnapshot:A,urlAfterRedirects:v,extras:W(k({},C),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=v,q(o)}else{let p="";return this.events.next(new Eo(l.id,this.urlSerializer.serialize(l.extractedUrl),p,yb.IgnoredByUrlHandlingStrategy)),l.resolve(!1),pt}}),Qe(l=>{let u=new wb(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),K(l=>(this.currentTransition=o=W(k({},l),{guards:BN(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),YN(this.environmentInjector,l=>this.events.next(l)),Qe(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Ju(this.urlSerializer,l.guardsResult);let u=new Cb(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),qe(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",An.GuardRejected),!1)),pb(l=>{if(l.guards.canActivateChecks.length)return q(l).pipe(Qe(u=>{let m=new Eb(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(m)}),At(u=>{let m=!1;return q(u).pipe(wF(this.paramsInheritanceStrategy,this.environmentInjector),Qe({next:()=>m=!0,complete:()=>{m||this.cancelNavigationTransition(u,"",An.NoDataFromResolver)}}))}),Qe(u=>{let m=new xb(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(m)}))}),pb(l=>{let u=m=>{let p=[];m.routeConfig?.loadComponent&&!m.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(m.routeConfig).pipe(Qe(v=>{m.component=v}),K(()=>{})));for(let v of m.children)p.push(...u(v));return p};return rs(u(l.targetSnapshot.root)).pipe(gi(null),rn(1))}),pb(()=>this.afterPreactivation()),At(()=>{let{currentSnapshot:l,targetSnapshot:u}=o,m=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return m?He(m).pipe(K(()=>o)):q(o)}),K(l=>{let u=NN(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=W(k({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),Qe(()=>{this.events.next(new Il)}),jN(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),rn(1),Qe({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Pi(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),Wt(this.transitionAbortSubject.pipe(Qe(l=>{throw l}))),Lr(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",An.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),hr(l=>{if(this.destroyed)return o.resolve(!1),pt;if(a=!0,jx(l))this.events.next(new ni(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),VN(l)?this.events.next(new Bs(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let u=new Dl(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let m=Cn(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(m instanceof Ml){let{message:p,cancellationCode:v}=Ju(this.urlSerializer,m);this.events.next(new ni(o.id,this.urlSerializer.serialize(o.extractedUrl),p,v)),this.events.next(new Bs(m.redirectTo,m.navigationBehaviorOptions))}else throw this.events.next(u),l}catch(m){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(m)}}return pt}))}))}cancelNavigationTransition(e,r,i){let o=new ni(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function RF(n){return n!==wl}var NF=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:()=>y(FF),providedIn:"root"})}return n})(),Ub=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},FF=(()=>{class n extends Ub{static \u0275fac=(()=>{let e;return function(i){return(e||(e=gt(n)))(i||n)}})();static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Wx=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:()=>y(LF),providedIn:"root"})}return n})(),LF=(()=>{class n extends Wx{location=y(ll);urlSerializer=y($b);options=y(Gb,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=y(Kb);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new ri;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=Rx(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{r.type==="popstate"&&e(r.url,r.state)})}handleRouterEvent(e,r){if(e instanceof Sl)this.stateMemento=this.createStateMemento();else if(e instanceof Eo)this.rawUrlTree=r.initialUrl;else if(e instanceof Wu){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else e instanceof Il?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):e instanceof ni&&(e.code===An.GuardRejected||e.code===An.NoDataFromResolver)?this.restoreHistory(r):e instanceof Dl?this.restoreHistory(r,!0):e instanceof Pi&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,r){let i=e instanceof ri?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=k(k({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=k(k({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(e,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===e.finalUrl&&o===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=gt(n)))(i||n)}})();static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function VF(n,t){n.events.pipe(qe(e=>e instanceof Pi||e instanceof ni||e instanceof Dl||e instanceof Eo),K(e=>e instanceof Pi||e instanceof Eo?0:(e instanceof ni?e.code===An.Redirect||e.code===An.SupersededByNewNavigation:!1)?2:1),qe(e=>e!==2),rn(1)).subscribe(()=>{t()})}var jF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},BF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Dt=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=y(Sg);stateManager=y(Wx);options=y(Gb,{optional:!0})||{};pendingTasks=y(Qr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=y(OF);urlSerializer=y($b);location=y(ll);urlHandlingStrategy=y(Kb);_events=new ne;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=y(NF);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=y(Qb,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!y(qb,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ee;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof ni&&r.code!==An.Redirect&&r.code!==An.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Pi)this.navigated=!0;else if(r instanceof Bs){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=k({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||RF(i.source)},s);this.scheduleNavigation(a,wl,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}$F(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),wl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",r)},0)})}navigateToSyncWithBrowser(e,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=k({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(e);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Wb),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:s,m=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":m=k(k({},this.currentUrlTree.queryParams),o);break;case"preserve":m=this.currentUrlTree.queryParams;break;default:m=o||null}m!==null&&(m=this.removeEmptyProps(m));let p;try{let v=i?i.snapshot:this.routerState.snapshot.root;p=Ax(v)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),p=this.currentUrlTree.root}return kx(p,e,m,u??null)}navigateByUrl(e,r={skipLocationChange:!1}){let i=Co(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,wl,null,r)}navigate(e,r={skipLocationChange:!1}){return UF(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,r){let i;if(r===!0?i=k({},jF):r===!1?i=k({},BF):i=r,Co(e))return mx(this.currentUrlTree,e,i);let o=this.parseUrl(e);return mx(this.currentUrlTree,o,i)}removeEmptyProps(e){return Object.entries(e).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(e,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,u;s?(a=s.resolve,l=s.reject,u=s.promise):u=new Promise((p,v)=>{a=p,l=v});let m=this.pendingTasks.add();return VF(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(m))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function UF(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new O(4008,!1)}function $F(n){return!(n instanceof Il)&&!(n instanceof Bs)}var Ke=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ne;constructor(e,r,i,o,s,a){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=e.events.subscribe(u=>{u instanceof Pi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Co(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let r=this.href===null?null:dC(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(e,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,e,r):i.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:Co(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(D(Dt),D(kn),su("tabindex"),D(Bt),D(ve),D(Ti))};static \u0275dir=X({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&I("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&bt("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",De],skipLocationChange:[2,"skipLocationChange","skipLocationChange",De],replaceUrl:[2,"replaceUrl","replaceUrl",De],routerLink:"routerLink"},features:[ft,cn]})}return n})();var zF=new V("");function Qx(n,...t){return Cs([{provide:Qb,multi:!0,useValue:n},[],{provide:kn,useFactory:HF,deps:[Dt]},{provide:hu,multi:!0,useFactory:GF},t.map(e=>e.\u0275providers)])}function HF(n){return n.routerState.root}function qF(n,t){return{\u0275kind:n,\u0275providers:t}}function GF(){let n=y(Ue);return t=>{let e=n.get(er);if(t!==e.components[0])return;let r=n.get(Dt),i=n.get(WF);n.get(QF)===1&&r.initialNavigation(),n.get(KF,null,he.Optional)?.setUpPreloading(),n.get(zF,null,he.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var WF=new V("",{factory:()=>new ne}),QF=new V("",{providedIn:"root",factory:()=>1});var KF=new V("");function Kx(){return qF(6,[{provide:Ti,useClass:PE}])}var Yb;try{Yb=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Yb=!1}var Xt=(()=>{class n{_platformId=y(Lt);isBrowser=this._platformId?zn(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||Yb)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Nl;function ZF(){if(Nl==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Nl=!0}))}finally{Nl=Nl||!1}return Nl}function zs(n){return ZF()?n:!!n.capture}var ar=function(n){return n[n.NORMAL=0]="NORMAL",n[n.NEGATED=1]="NEGATED",n[n.INVERTED=2]="INVERTED",n}(ar||{}),nf,So;function Zx(){if(So==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return So=!1,So;if("scrollBehavior"in document.documentElement.style)So=!0;else{let n=Element.prototype.scrollTo;n?So=!/\{\s*\[native code\]\s*\}/.test(n.toString()):So=!1}}return So}function Hs(){if(typeof document!="object"||!document)return ar.NORMAL;if(nf==null){let n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";let e=document.createElement("div"),r=e.style;r.width="2px",r.height="1px",n.appendChild(e),document.body.appendChild(n),nf=ar.NORMAL,n.scrollLeft===0&&(n.scrollLeft=1,nf=n.scrollLeft===0?ar.NEGATED:ar.INVERTED),n.remove()}return nf}var Zb;function YF(){if(Zb==null){let n=typeof document<"u"?document.head:null;Zb=!!(n&&(n.createShadowRoot||n.attachShadow))}return Zb}function Yx(n){if(YF()){let t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function ii(n){return n.composedPath?n.composedPath()[0]:n.target}function Jb(n,t,e,r,i){let o=parseInt(Pg.major),s=parseInt(Pg.minor);return o>19||o===19&&s>0||o===0&&s===0?n.listen(t,e,r,i):(t.addEventListener(e,r,i),()=>{t.removeEventListener(e,r,i)})}var rf=new WeakMap,qs=(()=>{class n{_appRef;_injector=y(Ue);_environmentInjector=y(Pt);load(e){let r=this._appRef=this._appRef||this._injector.get(er),i=rf.get(r);i||(i={loaders:new Set,refs:[]},rf.set(r,i),r.onDestroy(()=>{rf.get(r)?.refs.forEach(o=>o.destroy()),rf.delete(r)})),i.loaders.has(e)||(i.loaders.add(e),i.refs.push(Rg(e,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function of(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function Xb(n,t=0){return JF(n)?Number(n):arguments.length===2?t:0}function JF(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function ev(n){return Array.isArray(n)?n:[n]}function lr(n){return n instanceof ve?n.nativeElement:n}function XF(n){if(n.type==="characterData"&&n.target instanceof Comment)return!0;if(n.type==="childList"){for(let t=0;t<n.addedNodes.length;t++)if(!(n.addedNodes[t]instanceof Comment))return!1;for(let t=0;t<n.removedNodes.length;t++)if(!(n.removedNodes[t]instanceof Comment))return!1;return!0}return!1}var e2=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),t2=(()=>{class n{_mutationObserverFactory=y(e2);_observedElements=new Map;_ngZone=y(ce);constructor(){}ngOnDestroy(){this._observedElements.forEach((e,r)=>this._cleanupObserver(r))}observe(e){let r=lr(e);return new re(i=>{let s=this._observeElement(r).pipe(K(a=>a.filter(l=>!XF(l))),qe(a=>!!a.length)).subscribe(a=>{this._ngZone.run(()=>{i.next(a)})});return()=>{s.unsubscribe(),this._unobserveElement(r)}})}_observeElement(e){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(e))this._observedElements.get(e).count++;else{let r=new ne,i=this._mutationObserverFactory.create(o=>r.next(o));i&&i.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:i,stream:r,count:1})}return this._observedElements.get(e).stream})}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){let{observer:r,stream:i}=this._observedElements.get(e);r&&r.disconnect(),i.complete(),this._observedElements.delete(e)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Jx=(()=>{class n{_contentObserver=y(t2);_elementRef=y(ve);event=new J;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._disabled?this._unsubscribe():this._subscribe()}_disabled=!1;get debounce(){return this._debounce}set debounce(e){this._debounce=Xb(e),this._subscribe()}_debounce;_currentSubscription=null;constructor(){}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();let e=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?e.pipe(Fr(this.debounce)):e).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=X({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",De],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],features:[ft]})}return n})();var Xx=new Set,Do,n2=(()=>{class n{_platform=y(Xt);_nonce=y(nl,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):i2}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&r2(e,this._nonce),this._matchMedia(e)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function r2(n,t){if(!Xx.has(n))try{Do||(Do=document.createElement("style"),t&&Do.setAttribute("nonce",t),Do.setAttribute("type","text/css"),document.head.appendChild(Do)),Do.sheet&&(Do.sheet.insertRule(`@media ${n} {body{ }}`,0),Xx.add(n))}catch(e){console.error(e)}}function i2(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var t1=(()=>{class n{_mediaMatcher=y(n2);_zone=y(ce);_queries=new Map;_destroySubject=new ne;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return e1(ev(e)).some(i=>this._registerQuery(i).mql.matches)}observe(e){let i=e1(ev(e)).map(s=>this._registerQuery(s).observable),o=rs(i);return o=pi(o.pipe(rn(1)),o.pipe(Xi(1),Fr(0))),o.pipe(K(s=>{let a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:u})=>{a.matches=a.matches||l,a.breakpoints[u]=l}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let r=this._mediaMatcher.matchMedia(e),o={observable:new re(s=>{let a=l=>this._zone.run(()=>s.next(l));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(gr(r),K(({matches:s})=>({query:e,matches:s})),Wt(this._destroySubject)),mql:r};return this._queries.set(e,o),o}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function e1(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}var E2=200,rv=class{_letterKeyStream=new ne;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new ne;selectedItem=this._selectedItem;constructor(t,e){let r=typeof e?.debounceInterval=="number"?e.debounceInterval:E2;e?.skipPredicate&&(this._skipPredicateFn=e.skipPredicate),this.setItems(t),this._setupKeyHandler(r)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(t){this._selectedItemIndex=t}setItems(t){this._items=t}handleKey(t){let e=t.keyCode;t.key&&t.key.length===1?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(t){this._letterKeyStream.pipe(Qe(e=>this._pressedLetters.push(e)),Fr(t),qe(()=>this._pressedLetters.length>0),K(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(e=>{for(let r=1;r<this._items.length+1;r++){let i=(this._selectedItemIndex+r)%this._items.length,o=this._items[i];if(!this._skipPredicateFn?.(o)&&o.getLabel?.().toLocaleUpperCase().trim().indexOf(e)===0){this._selectedItem.next(o);break}}this._pressedLetters=[]})}},iv=class{_items;_activeItemIndex=-1;_activeItem=Ft(null);_wrap=!1;_typeaheadSubscription=Ee.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=t=>t.disabled;constructor(t,e){this._items=t,t instanceof Ei?this._itemChangesSubscription=t.changes.subscribe(r=>this._itemsChanged(r.toArray())):el(t)&&(this._effectRef=_o(()=>this._itemsChanged(t()),{injector:e}))}tabOut=new ne;change=new ne;skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){this._typeaheadSubscription.unsubscribe();let e=this._getItemsArray();return this._typeahead=new rv(e,{debounceInterval:typeof t=="number"?t:void 0,skipPredicate:r=>this._skipPredicateFn(r)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(r=>{this.setActiveItem(r)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){let e=this._activeItem();this.updateActiveItem(t),this._activeItem()!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){let e=t.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:this.tabOut.next();return;case 40:if(this._vertical&&i){this.setNextItemActive();break}else return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&i){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&i){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&i){let o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&i){let o=this._activeItemIndex+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}else return;default:(i||of(t,"shiftKey"))&&this._typeahead?.handleKey(t);return}this._typeahead?.reset(),t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){let e=this._getItemsArray(),r=typeof t=="number"?t:e.indexOf(t),i=e[r];this._activeItem.set(i??null),this._activeItemIndex=r,this._typeahead?.setCurrentSelectedItemIndex(r)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){let e=this._getItemsArray();for(let r=1;r<=e.length;r++){let i=(this._activeItemIndex+t*r+e.length)%e.length,o=e[i];if(!this._skipPredicateFn(o)){this.setActiveItem(i);return}}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){let r=this._getItemsArray();if(r[t]){for(;this._skipPredicateFn(r[t]);)if(t+=e,!r[t])return;this.setActiveItem(t)}}_getItemsArray(){return el(this._items)?this._items():this._items instanceof Ei?this._items.toArray():this._items}_itemsChanged(t){this._typeahead?.setItems(t);let e=this._activeItem();if(e){let r=t.indexOf(e);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r,this._typeahead?.setCurrentSelectedItemIndex(r))}}};var lf=class extends iv{_origin="program";setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}};function ov(n){return n.buttons===0||n.detail===0}function sv(n){let t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var x2=new V("cdk-input-modality-detector-options"),S2={ignoreKeys:[18,17,224,91,16]},i1=650,Gs=zs({passive:!0,capture:!0}),D2=(()=>{class n{_platform=y(Xt);modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new ot(null);_options;_lastTouchMs=0;_onKeydown=e=>{this._options?.ignoreKeys?.some(r=>r===e.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=ii(e))};_onMousedown=e=>{Date.now()-this._lastTouchMs<i1||(this._modality.next(ov(e)?"keyboard":"mouse"),this._mostRecentTarget=ii(e))};_onTouchstart=e=>{if(sv(e)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ii(e)};constructor(){let e=y(ce),r=y(ye),i=y(x2,{optional:!0});this._options=k(k({},S2),i),this.modalityDetected=this._modality.pipe(Xi(1)),this.modalityChanged=this.modalityDetected.pipe(ed()),this._platform.isBrowser&&e.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Gs),r.addEventListener("mousedown",this._onMousedown,Gs),r.addEventListener("touchstart",this._onTouchstart,Gs)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Gs),document.removeEventListener("mousedown",this._onMousedown,Gs),document.removeEventListener("touchstart",this._onTouchstart,Gs))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var af=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(af||{}),I2=new V("cdk-focus-monitor-default-options"),sf=zs({passive:!0,capture:!0}),cf=(()=>{class n{_ngZone=y(ce);_platform=y(Xt);_inputModalityDetector=y(D2);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=y(ye,{optional:!0});_stopInputModalityDetector=new ne;constructor(){let e=y(I2,{optional:!0});this._detectionMode=e?.detectionMode||af.IMMEDIATE}_rootNodeFocusAndBlurListener=e=>{let r=ii(e);for(let i=r;i;i=i.parentElement)e.type==="focus"?this._onFocus(e,i):this._onBlur(e,i)};monitor(e,r=!1){let i=lr(e);if(!this._platform.isBrowser||i.nodeType!==1)return q();let o=Yx(i)||this._getDocument(),s=this._elementInfo.get(i);if(s)return r&&(s.checkChildren=!0),s.subject;let a={checkChildren:r,subject:new ne,rootNode:o};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){let r=lr(e),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(e,r,i){let o=lr(e),s=this._getDocument().activeElement;o===s?this._getClosestElementsInfo(o).forEach(([a,l])=>this._originChanged(a,r,l)):(this._setOrigin(r),typeof o.focus=="function"&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((e,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===af.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,r){e.classList.toggle("cdk-focused",!!r),e.classList.toggle("cdk-touch-focused",r==="touch"),e.classList.toggle("cdk-keyboard-focused",r==="keyboard"),e.classList.toggle("cdk-mouse-focused",r==="mouse"),e.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(e,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=e,this._originFromTouchInteraction=e==="touch"&&r,this._detectionMode===af.IMMEDIATE){clearTimeout(this._originTimeoutId);let i=this._originFromTouchInteraction?i1:1;this._originTimeoutId=setTimeout(()=>this._origin=null,i)}})}_onFocus(e,r){let i=this._elementInfo.get(r),o=ii(e);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(e,r){let i=this._elementInfo.get(r);!i||i.checkChildren&&e.relatedTarget instanceof Node&&r.contains(e.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(e,r){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(r))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;let r=e.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,sf),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,sf)}),this._rootNodeFocusListenerCount.set(r,i+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Wt(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){let r=e.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,sf),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,sf),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,r,i){this._setClasses(e,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(e){let r=[];return this._elementInfo.forEach((i,o)=>{(o===e||i.checkChildren&&o.contains(e))&&r.push([o,i])}),r}_isLastInteractionFromInputLabel(e){let{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if(i!=="mouse"||!r||r===e||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"||e.disabled)return!1;let o=e.labels;if(o){for(let s=0;s<o.length;s++)if(o[s].contains(r))return!0}return!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),o1=(()=>{class n{_elementRef=y(ve);_focusMonitor=y(cf);_monitorSubscription;_focusOrigin=null;cdkFocusChange=new J;constructor(){}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){let e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,e.nodeType===1&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(r=>{this._focusOrigin=r,this.cdkFocusChange.emit(r)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=X({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return n})(),Io=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(Io||{}),n1="cdk-high-contrast-black-on-white",r1="cdk-high-contrast-white-on-black",tv="cdk-high-contrast-active",s1=(()=>{class n{_platform=y(Xt);_hasCheckedHighContrastMode;_document=y(ye);_breakpointSubscription;constructor(){this._breakpointSubscription=y(t1).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Io.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(e):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Io.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Io.BLACK_ON_WHITE}return Io.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(tv,n1,r1),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===Io.BLACK_ON_WHITE?e.add(tv,n1):r===Io.WHITE_ON_BLACK&&e.add(tv,r1)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var nv={},av=(()=>{class n{_appId=y(tl);getId(e){return this._appId!=="ng"&&(e+=this._appId),nv.hasOwnProperty(e)||(nv[e]=0),`${e}${nv[e]++}`}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var T2=new V("cdk-dir-doc",{providedIn:"root",factory:M2});function M2(){return y(ye)}var A2=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function k2(n){let t=n?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?A2.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var Fl=(()=>{class n{value="ltr";change=new J;constructor(){let e=y(T2,{optional:!0});if(e){let r=e.body?e.body.dir:null,i=e.documentElement?e.documentElement.dir:null;this.value=k2(r||i||"ltr")}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var df=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Le({type:n});static \u0275inj=Fe({})}return n})();var cr=(()=>{class n{constructor(){y(s1)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Le({type:n});static \u0275inj=Fe({imports:[df,df]})}return n})();var pf=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=j({type:n,selectors:[["structural-styles"]],decls:0,vars:0,template:function(r,i){},styles:['.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}'],encapsulation:2,changeDetection:0})}return n})();var qn=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(qn||{}),dv=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=qn.HIDDEN;constructor(t,e,r,i=!1){this._renderer=t,this.element=e,this.config=r,this._animationForciblyDisabledThroughCss=i}fadeOut(){this._renderer.fadeOutRipple(this)}},a1=zs({passive:!0,capture:!0}),uv=class{_events=new Map;addHandler(t,e,r,i){let o=this._events.get(e);if(o){let s=o.get(r);s?s.add(i):o.set(r,new Set([i]))}else this._events.set(e,new Map([[r,new Set([i])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,a1)})}removeHandler(t,e,r){let i=this._events.get(t);if(!i)return;let o=i.get(e);o&&(o.delete(r),o.size===0&&i.delete(e),i.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,a1)))}_delegateEventHandler=t=>{let e=ii(t);e&&this._events.get(t.type)?.forEach((r,i)=>{(i===e||i.contains(e))&&r.forEach(o=>o.handleEvent(t))})}},ff={enterDuration:225,exitDuration:150},P2=800,l1=zs({passive:!0,capture:!0}),c1=["mousedown","touchstart"],d1=["mouseup","mouseleave","touchend","touchcancel"],O2=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=j({type:n,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(r,i){},styles:[".mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}"],encapsulation:2,changeDetection:0})}return n})(),mf=class n{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new uv;constructor(t,e,r,i,o){this._target=t,this._ngZone=e,this._platform=i,i.isBrowser&&(this._containerElement=lr(r)),o&&o.get(qs).load(O2)}fadeInRipple(t,e,r={}){let i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=k(k({},ff),r.animation);r.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);let s=r.radius||R2(t,e,i),a=t-i.left,l=e-i.top,u=o.enterDuration,m=document.createElement("div");m.classList.add("mat-ripple-element"),m.style.left=`${a-s}px`,m.style.top=`${l-s}px`,m.style.height=`${s*2}px`,m.style.width=`${s*2}px`,r.color!=null&&(m.style.backgroundColor=r.color),m.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(m);let p=window.getComputedStyle(m),v=p.transitionProperty,g=p.transitionDuration,_=v==="none"||g==="0s"||g==="0s, 0s"||i.width===0&&i.height===0,C=new dv(this,m,r,_);m.style.transform="scale3d(1, 1, 1)",C.state=qn.FADING_IN,r.persistent||(this._mostRecentTransientRipple=C);let S=null;return!_&&(u||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let A=()=>{S&&(S.fallbackTimer=null),clearTimeout(B),this._finishRippleTransition(C)},F=()=>this._destroyRipple(C),B=setTimeout(F,u+100);m.addEventListener("transitionend",A),m.addEventListener("transitioncancel",F),S={onTransitionEnd:A,onTransitionCancel:F,fallbackTimer:B}}),this._activeRipples.set(C,S),(_||!u)&&this._finishRippleTransition(C),C}fadeOutRipple(t){if(t.state===qn.FADING_OUT||t.state===qn.HIDDEN)return;let e=t.element,r=k(k({},ff),t.config.animation);e.style.transitionDuration=`${r.exitDuration}ms`,e.style.opacity="0",t.state=qn.FADING_OUT,(t._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let e=lr(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,c1.forEach(r=>{n._eventManager.addHandler(this._ngZone,r,e,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{d1.forEach(e=>{this._triggerElement.addEventListener(e,this,l1)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===qn.FADING_IN?this._startFadeOutTransition(t):t.state===qn.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let e=t===this._mostRecentTransientRipple,{persistent:r}=t.config;t.state=qn.VISIBLE,!r&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=qn.HIDDEN,e!==null&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel),e.fallbackTimer!==null&&clearTimeout(e.fallbackTimer)),t.element.remove()}_onMousedown(t){let e=ov(t),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+P2;!this._target.rippleDisabled&&!e&&!r&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!sv(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let e=t.changedTouches;if(e)for(let r=0;r<e.length;r++)this.fadeInRipple(e[r].clientX,e[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let e=t.state===qn.VISIBLE||t.config.terminateOnPointerUp&&t.state===qn.FADING_IN;!t.config.persistent&&e&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(c1.forEach(e=>n._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&(d1.forEach(e=>t.removeEventListener(e,this,l1)),this._pointerUpEventsRegistered=!1))}};function R2(n,t,e){let r=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),i=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(r*r+i*i)}var fv=new V("mat-ripple-global-options"),mv=(()=>{class n{_elementRef=y(ve);_animationMode=y(nr,{optional:!0});color;unbounded;centered;radius=0;animation;get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){let e=y(ce),r=y(Xt),i=y(fv,{optional:!0}),o=y(Ue);this._globalOptions=i||{},this._rippleRenderer=new mf(this,e,this._elementRef,r,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:k(k(k({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,r=0,i){return typeof e=="number"?this._rippleRenderer.fadeInRipple(e,r,k(k({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,k(k({},this.rippleConfig),e))}static \u0275fac=function(r){return new(r||n)};static \u0275dir=X({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,i){r&2&&Ie("mat-ripple-unbounded",i.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})(),p1=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Le({type:n});static \u0275inj=Fe({imports:[cr,cr]})}return n})();var u1={capture:!0},f1=["focus","mousedown","mouseenter","touchstart"],lv="mat-ripple-loader-uninitialized",cv="mat-ripple-loader-class-name",m1="mat-ripple-loader-centered",uf="mat-ripple-loader-disabled",h1=(()=>{class n{_document=y(ye,{optional:!0});_animationMode=y(nr,{optional:!0});_globalRippleOptions=y(fv,{optional:!0});_platform=y(Xt);_ngZone=y(ce);_injector=y(Ue);_hosts=new Map;constructor(){this._ngZone.runOutsideAngular(()=>{for(let e of f1)this._document?.addEventListener(e,this._onInteraction,u1)})}ngOnDestroy(){let e=this._hosts.keys();for(let r of e)this.destroyRipple(r);for(let r of f1)this._document?.removeEventListener(r,this._onInteraction,u1)}configureRipple(e,r){e.setAttribute(lv,this._globalRippleOptions?.namespace??""),(r.className||!e.hasAttribute(cv))&&e.setAttribute(cv,r.className||""),r.centered&&e.setAttribute(m1,""),r.disabled&&e.setAttribute(uf,"")}setDisabled(e,r){let i=this._hosts.get(e);i?(i.target.rippleDisabled=r,!r&&!i.hasSetUpEvents&&(i.hasSetUpEvents=!0,i.renderer.setupTriggerEvents(e))):r?e.setAttribute(uf,""):e.removeAttribute(uf)}_onInteraction=e=>{let r=ii(e);if(r instanceof HTMLElement){let i=r.closest(`[${lv}="${this._globalRippleOptions?.namespace??""}"]`);i&&this._createRipple(i)}};_createRipple(e){if(!this._document||this._hosts.has(e))return;e.querySelector(".mat-ripple")?.remove();let r=this._document.createElement("span");r.classList.add("mat-ripple",e.getAttribute(cv)),e.append(r);let i=this._animationMode==="NoopAnimations",o=this._globalRippleOptions,s=i?0:o?.animation?.enterDuration??ff.enterDuration,a=i?0:o?.animation?.exitDuration??ff.exitDuration,l={rippleDisabled:i||o?.disabled||e.hasAttribute(uf),rippleConfig:{centered:e.hasAttribute(m1),terminateOnPointerUp:o?.terminateOnPointerUp,animation:{enterDuration:s,exitDuration:a}}},u=new mf(l,this._ngZone,r,this._platform,this._injector),m=!l.rippleDisabled;m&&u.setupTriggerEvents(e),this._hosts.set(e,{target:l,renderer:u,hasSetUpEvents:m}),e.removeAttribute(lv)}destroyRipple(e){let r=this._hosts.get(e);r&&(r.renderer._removeTriggerEvents(),this._hosts.delete(e))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var N2=["*"],hf;function F2(){if(hf===void 0&&(hf=null,typeof window<"u")){let n=window;n.trustedTypes!==void 0&&(hf=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return hf}function Ll(n){return F2()?.createHTML(n)||n}function g1(n){return Error(`Unable to find icon with the name "${n}"`)}function L2(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function b1(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function v1(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}var oi=class{url;svgText;options;svgElement;constructor(t,e,r){this.url=t,this.svgText=e,this.options=r}},V2=(()=>{class n{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(e,r,i,o){this._httpClient=e,this._sanitizer=r,this._errorHandler=o,this._document=i}addSvgIcon(e,r,i){return this.addSvgIconInNamespace("",e,r,i)}addSvgIconLiteral(e,r,i){return this.addSvgIconLiteralInNamespace("",e,r,i)}addSvgIconInNamespace(e,r,i,o){return this._addSvgIconConfig(e,r,new oi(i,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,r,i,o){let s=this._sanitizer.sanitize(Vt.HTML,i);if(!s)throw v1(i);let a=Ll(s);return this._addSvgIconConfig(e,r,new oi("",a,o))}addSvgIconSet(e,r){return this.addSvgIconSetInNamespace("",e,r)}addSvgIconSetLiteral(e,r){return this.addSvgIconSetLiteralInNamespace("",e,r)}addSvgIconSetInNamespace(e,r,i){return this._addSvgIconSetConfig(e,new oi(r,null,i))}addSvgIconSetLiteralInNamespace(e,r,i){let o=this._sanitizer.sanitize(Vt.HTML,r);if(!o)throw v1(r);let s=Ll(o);return this._addSvgIconSetConfig(e,new oi("",s,i))}registerFontClassAlias(e,r=e){return this._fontCssClassesByAlias.set(e,r),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){let r=this._sanitizer.sanitize(Vt.RESOURCE_URL,e);if(!r)throw b1(e);let i=this._cachedIconsByUrl.get(r);return i?q(gf(i)):this._loadSvgIconFromConfig(new oi(e,null)).pipe(Qe(o=>this._cachedIconsByUrl.set(r,o)),K(o=>gf(o)))}getNamedSvgIcon(e,r=""){let i=_1(r,e),o=this._svgIconConfigs.get(i);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(r,e),o)return this._svgIconConfigs.set(i,o),this._getSvgFromConfig(o);let s=this._iconSetConfigs.get(r);return s?this._getSvgFromIconSetConfigs(e,s):mi(g1(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?q(gf(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(K(r=>gf(r)))}_getSvgFromIconSetConfigs(e,r){let i=this._extractIconWithNameFromAnySet(e,r);if(i)return q(i);let o=r.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(hr(a=>{let u=`Loading icon set URL: ${this._sanitizer.sanitize(Vt.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(u)),q(null)})));return Pa(o).pipe(K(()=>{let s=this._extractIconWithNameFromAnySet(e,r);if(!s)throw g1(e);return s}))}_extractIconWithNameFromAnySet(e,r){for(let i=r.length-1;i>=0;i--){let o=r[i];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){let s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,e,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Qe(r=>e.svgText=r),K(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?q(null):this._fetchIcon(e).pipe(Qe(r=>e.svgText=r))}_extractSvgIconFromSet(e,r,i){let o=e.querySelector(`[id="${r}"]`);if(!o)return null;let s=o.cloneNode(!0);if(s.removeAttribute("id"),s.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(s,i);if(s.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(s),i);let a=this._svgElementFromString(Ll("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,i)}_svgElementFromString(e){let r=this._document.createElement("DIV");r.innerHTML=e;let i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(e){let r=this._svgElementFromString(Ll("<svg></svg>")),i=e.attributes;for(let o=0;o<i.length;o++){let{name:s,value:a}=i[o];s!=="id"&&r.setAttribute(s,a)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&r.appendChild(e.childNodes[o].cloneNode(!0));return r}_setSvgAttributes(e,r){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),r&&r.viewBox&&e.setAttribute("viewBox",r.viewBox),e}_fetchIcon(e){let{url:r,options:i}=e,o=i?.withCredentials??!1;if(!this._httpClient)throw L2();if(r==null)throw Error(`Cannot fetch icon from URL "${r}".`);let s=this._sanitizer.sanitize(Vt.RESOURCE_URL,r);if(!s)throw b1(r);let a=this._inProgressUrlFetches.get(s);if(a)return a;let l=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(K(u=>Ll(u)),Lr(()=>this._inProgressUrlFetches.delete(s)),Ra());return this._inProgressUrlFetches.set(s,l),l}_addSvgIconConfig(e,r,i){return this._svgIconConfigs.set(_1(e,r),i),this}_addSvgIconSetConfig(e,r){let i=this._iconSetConfigs.get(e);return i?i.push(r):this._iconSetConfigs.set(e,[r]),this}_svgElementFromConfig(e){if(!e.svgElement){let r=this._svgElementFromString(e.svgText);this._setSvgAttributes(r,e.options),e.svgElement=r}return e.svgElement}_getIconConfigFromResolvers(e,r){for(let i=0;i<this._resolvers.length;i++){let o=this._resolvers[i](r,e);if(o)return j2(o)?new oi(o.url,null,o.options):new oi(o,null)}}static \u0275fac=function(r){return new(r||n)(L(nb,8),L(db),L(ye,8),L(an))};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function gf(n){return n.cloneNode(!0)}function _1(n,t){return n+":"+t}function j2(n){return!!(n.url&&n.options)}var B2=new V("MAT_ICON_DEFAULT_OPTIONS"),U2=new V("mat-icon-location",{providedIn:"root",factory:$2});function $2(){let n=y(ye),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}var y1=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],z2=y1.map(n=>`[${n}]`).join(", "),H2=/^url\(['"]?#(.*?)['"]?\)$/,Ri=(()=>{class n{_elementRef=y(ve);_iconRegistry=y(V2);_location=y(U2);_errorHandler=y(an);_defaultColor;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(e){let r=this._cleanupFontValue(e);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(e){let r=this._cleanupFontValue(e);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=Ee.EMPTY;constructor(){let e=y(new Ha("aria-hidden"),{optional:!0}),r=y(B2,{optional:!0});r&&(r.color&&(this.color=this._defaultColor=r.color),r.fontSet&&(this.fontSet=r.fontSet)),e||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];let r=e.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let e=this._elementsWithExternalReferences;if(e&&e.size){let r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();let r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){let e=this._elementRef.nativeElement,r=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){let i=e.childNodes[r];(i.nodeType!==1||i.nodeName.toLowerCase()==="svg")&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let e=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>e.classList.remove(i)),r.forEach(i=>e.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return typeof e=="string"?e.trim().split(" ")[0]:e}_prependPathToReferences(e){let r=this._elementsWithExternalReferences;r&&r.forEach((i,o)=>{i.forEach(s=>{o.setAttribute(s.name,`url('${e}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(e){let r=e.querySelectorAll(z2),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<r.length;o++)y1.forEach(s=>{let a=r[o],l=a.getAttribute(s),u=l?l.match(H2):null;if(u){let m=i.get(a);m||(m=[],i.set(a,m)),m.push({name:s,value:u[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){let[r,i]=this._splitIconName(e);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(rn(1)).subscribe(o=>this._setSvgElement(o),o=>{let s=`Error retrieving icon ${r}:${i}! ${o.message}`;this._errorHandler.handleError(new Error(s))})}}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=j({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(r,i){r&2&&(bt("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),Er(i.color?"mat-"+i.color:""),Ie("mat-icon-inline",i.inline)("mat-icon-no-color",i.color!=="primary"&&i.color!=="accent"&&i.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",De],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[ft],ngContentSelectors:N2,decls:1,vars:0,template:function(r,i){r&1&&(xr(),Bn(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return n})(),Ni=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Le({type:n});static \u0275inj=Fe({imports:[cr,cr]})}return n})();var w1=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>import("./chunk-MAQGHWLI.js").then(({default:r})=>r(...e)):t=fetch,(...e)=>t(...e)};var Vl=class extends Error{constructor(t,e="FunctionsError",r){super(t),this.name=e,this.context=r}},vf=class extends Vl{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},_f=class extends Vl{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},yf=class extends Vl{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}},pv=function(n){return n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2",n}(pv||{});var q2=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(m){try{u(r.next(m))}catch(p){s(p)}}function l(m){try{u(r.throw(m))}catch(p){s(p)}}function u(m){m.done?o(m.value):i(m.value).then(a,l)}u((r=r.apply(n,t||[])).next())})},jl=class{constructor(t,{headers:e={},customFetch:r,region:i=pv.Any}={}){this.url=t,this.headers=e,this.region=i,this.fetch=w1(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,e={}){var r;return q2(this,void 0,void 0,function*(){try{let{headers:i,method:o,body:s}=e,a={},{region:l}=e;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=s):typeof s=="string"?(a["Content-Type"]="text/plain",u=s):typeof FormData<"u"&&s instanceof FormData?u=s:(a["Content-Type"]="application/json",u=JSON.stringify(s)));let m=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:u}).catch(_=>{throw new vf(_)}),p=m.headers.get("x-relay-error");if(p&&p==="true")throw new _f(m);if(!m.ok)throw new yf(m);let v=((r=m.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return v==="application/json"?g=yield m.json():v==="application/octet-stream"?g=yield m.blob():v==="text/event-stream"?g=m:v==="multipart/form-data"?g=yield m.formData():g=yield m.text(),{data:g,error:null}}catch(i){return{data:null,error:i}}})}};var R1=YD(O1(),1),{PostgrestClient:N1,PostgrestQueryBuilder:eQ,PostgrestFilterBuilder:tQ,PostgrestTransformBuilder:nQ,PostgrestBuilder:rQ,PostgrestError:rL}=R1.default;var F1="2.11.2";var L1={"X-Client-Info":`realtime-js/${F1}`},V1="1.0.0",xf=1e4,j1=1e3,Qs=function(n){return n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed",n}(Qs||{}),Pn=function(n){return n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving",n}(Pn||{}),Gn=function(n){return n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token",n}(Gn||{}),Dv=function(n){return n.websocket="websocket",n}(Dv||{}),To=function(n){return n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed",n}(To||{});var Sf=class{constructor(){this.HEADER_LENGTH=1}decode(t,e){return t.constructor===ArrayBuffer?e(this._binaryDecode(t)):e(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){let e=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,e,r)}_decodeBroadcast(t,e,r){let i=e.getUint8(1),o=e.getUint8(2),s=this.HEADER_LENGTH+2,a=r.decode(t.slice(s,s+i));s=s+i;let l=r.decode(t.slice(s,s+o));s=s+o;let u=JSON.parse(r.decode(t.slice(s,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}};var Ks=class{constructor(t,e){this.callback=t,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Ge=function(n){return n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange",n}(Ge||{}),Tv=(n,t,e={})=>{var r;let i=(r=e.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((o,s)=>(o[s]=iL(s,n,t,i),o),{})},iL=(n,t,e,r)=>{let i=t.find(a=>a.name===n),o=i?.type,s=e[n];return o&&!r.includes(o)?B1(o,s):Iv(s)},B1=(n,t)=>{if(n.charAt(0)==="_"){let e=n.slice(1,n.length);return lL(t,e)}switch(n){case Ge.bool:return oL(t);case Ge.float4:case Ge.float8:case Ge.int2:case Ge.int4:case Ge.int8:case Ge.numeric:case Ge.oid:return sL(t);case Ge.json:case Ge.jsonb:return aL(t);case Ge.timestamp:return cL(t);case Ge.abstime:case Ge.date:case Ge.daterange:case Ge.int4range:case Ge.int8range:case Ge.money:case Ge.reltime:case Ge.text:case Ge.time:case Ge.timestamptz:case Ge.timetz:case Ge.tsrange:case Ge.tstzrange:return Iv(t);default:return Iv(t)}},Iv=n=>n,oL=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},sL=n=>{if(typeof n=="string"){let t=parseFloat(n);if(!Number.isNaN(t))return t}return n},aL=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(t){return console.log(`JSON parse error: ${t}`),n}return n},lL=(n,t)=>{if(typeof n!="string")return n;let e=n.length-1,r=n[e];if(n[0]==="{"&&r==="}"){let o,s=n.slice(1,e);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>B1(t,a))}return n},cL=n=>typeof n=="string"?n.replace(" ","T"):n,Df=n=>{let t=n;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};var Zs=class{constructor(t,e,r={},i=xf){this.channel=t,this.event=e,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,e){var r;return this._hasReceived(t)&&e((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:e}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let t=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:e}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(e))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}};var Gl=class n{constructor(t,e){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=e?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=n.syncState(this.state,i,o,s),this.pendingDiffs.forEach(l=>{this.state=n.syncDiff(this.state,l,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=n.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,e,r,i){let o=this.cloneDeep(t),s=this.transformState(e),a={},l={};return this.map(o,(u,m)=>{s[u]||(l[u]=m)}),this.map(s,(u,m)=>{let p=o[u];if(p){let v=m.map(S=>S.presence_ref),g=p.map(S=>S.presence_ref),_=m.filter(S=>g.indexOf(S.presence_ref)<0),C=p.filter(S=>v.indexOf(S.presence_ref)<0);_.length>0&&(a[u]=_),C.length>0&&(l[u]=C)}else a[u]=m}),this.syncDiff(o,{joins:a,leaves:l},r,i)}static syncDiff(t,e,r,i){let{joins:o,leaves:s}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,l)=>{var u;let m=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),m.length>0){let p=t[a].map(g=>g.presence_ref),v=m.filter(g=>p.indexOf(g.presence_ref)<0);t[a].unshift(...v)}r(a,m,l)}),this.map(s,(a,l)=>{let u=t[a];if(!u)return;let m=l.map(p=>p.presence_ref);u=u.filter(p=>m.indexOf(p.presence_ref)<0),t[a]=u,i(a,u,l),u.length===0&&delete t[a]}),t}static map(t,e){return Object.getOwnPropertyNames(t).map(r=>e(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((e,r)=>{let i=t[r];return"metas"in i?e[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):e[r]=i,e},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var si=function(n){return n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR",n}(si||{});var Wl=class n{constructor(t,e={config:{}},r){this.topic=t,this.params=e,this.socket=r,this.bindings={},this.state=Pn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},e.config),this.timeout=this.socket.timeout,this.joinPush=new Zs(this,Gn.join,this.params,this.timeout),this.rejoinTimer=new Ks(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pn.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Pn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Gn.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new Gl(this),this.broadcastEndpointURL=Df(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,e=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:o,presence:s,private:a}}=this.params;this._onError(m=>t?.(si.CHANNEL_ERROR,m)),this._onClose(()=>t?.(si.CLOSED));let l={},u={broadcast:o,presence:s,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",async({postgres_changes:m})=>{var p;if(this.socket.setAuth(),m===void 0){t?.(si.SUBSCRIBED);return}else{let v=this.bindings.postgres_changes,g=(p=v?.length)!==null&&p!==void 0?p:0,_=[];for(let C=0;C<g;C++){let S=v[C],{filter:{event:A,schema:F,table:B,filter:H}}=S,Y=m&&m[C];if(Y&&Y.event===A&&Y.schema===F&&Y.table===B&&Y.filter===H)_.push(Object.assign(Object.assign({},S),{id:Y.id}));else{this.unsubscribe(),t?.(si.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,t&&t(si.SUBSCRIBED);return}}).receive("error",m=>{t?.(si.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t?.(si.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,e={}){return await this.send({type:"presence",event:"track",payload:t},e.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,e,r){return this._on(t,e,r)}async send(t,e={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){let{event:o,payload:s}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:s,private:this.private}]})};try{let u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=e.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var s,a,l;let u=this._push(t.type,t,e.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(s=this.params)===null||s===void 0?void 0:s.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Pn.leaving;let e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Gn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{let i=new Zs(this,Gn.leave,{},t);i.receive("ok",()=>{e(),r("ok")}).receive("timeout",()=>{e(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(t,e,r){let i=new AbortController,o=setTimeout(()=>i.abort(),r),s=await this.socket.fetch(t,Object.assign(Object.assign({},e),{signal:i.signal}));return clearTimeout(o),s}_push(t,e,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Zs(this,t,e,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,e,r){return e}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,e,r){var i,o;let s=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:m}=Gn;if(r&&[a,l,u,m].indexOf(s)>=0&&r!==this._joinRef())return;let v=this._onMessage(s,e,r);if(e&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var _,C,S;return((_=g.filter)===null||_===void 0?void 0:_.event)==="*"||((S=(C=g.filter)===null||C===void 0?void 0:C.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===s}).map(g=>g.callback(v,r)):(o=this.bindings[s])===null||o===void 0||o.filter(g=>{var _,C,S,A,F,B;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in g){let H=g.id,Y=(_=g.filter)===null||_===void 0?void 0:_.event;return H&&((C=e.ids)===null||C===void 0?void 0:C.includes(H))&&(Y==="*"||Y?.toLocaleLowerCase()===((S=e.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{let H=(F=(A=g?.filter)===null||A===void 0?void 0:A.event)===null||F===void 0?void 0:F.toLocaleLowerCase();return H==="*"||H===((B=e?.event)===null||B===void 0?void 0:B.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===s}).map(g=>{if(typeof v=="object"&&"ids"in v){let _=v.data,{schema:C,table:S,commit_timestamp:A,type:F,errors:B}=_;v=Object.assign(Object.assign({},{schema:C,table:S,commit_timestamp:A,eventType:F,new:{},old:{},errors:B}),this._getPayloadRecords(_))}g.callback(v,r)})}_isClosed(){return this.state===Pn.closed}_isJoined(){return this.state===Pn.joined}_isJoining(){return this.state===Pn.joining}_isLeaving(){return this.state===Pn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,e,r){let i=t.toLocaleLowerCase(),o={type:i,filter:e,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,e){let r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&n.isEqual(i.filter,e))}),this}static isEqual(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(let r in t)if(t[r]!==e[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Gn.close,{},t)}_onError(t){this._on(Gn.error,{},e=>t(e))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){let e={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(e.new=Tv(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(e.old=Tv(t.columns,t.old_record)),e}};var uL=()=>{},fL=typeof WebSocket<"u",mL=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Ql=class{constructor(t,e){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=L1,this.params={},this.timeout=xf,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=uL,this.conn=null,this.sendBuffer=[],this.serializer=new Sf,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...a)=>import("./chunk-MAQGHWLI.js").then(({default:l})=>l(...a)):s=fetch,(...a)=>s(...a)},this.endPoint=`${t}/${Dv.websocket}`,this.httpEndpoint=Df(t),e?.transport?this.transport=e.transport:this.transport=null,e?.params&&(this.params=e.params),e?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),e.headers)),e?.timeout&&(this.timeout=e.timeout),e?.logger&&(this.logger=e.logger),e?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=e.heartbeatIntervalMs);let i=(r=e?.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=e?.reconnectAfterMs?e.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=e?.encode?e.encode:(o,s)=>s(JSON.stringify(o)),this.decode=e?.decode?e.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Ks(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(e?.fetch),e?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=e?.worker||!1,this.workerUrl=e?.workerUrl}this.accessToken=e?.accessToken||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(fL){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Mv(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),import("./chunk-KYSFV2V4.js").then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:V1}))}disconnect(t,e){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,e??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){let e=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),e}async removeAllChannels(){let t=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.disconnect(),t}log(t,e,r){this.logger(t,e,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Qs.connecting:return To.Connecting;case Qs.open:return To.Open;case Qs.closing:return To.Closing;default:return To.Closed}}isConnected(){return this.connectionState()===To.Open}channel(t,e={config:{}}){let r=new Wl(`realtime:${t}`,e,this);return this.channels.push(r),r}push(t){let{topic:e,event:r,payload:i,ref:o}=t,s=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${e} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){let e=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(e){let r=null;try{r=JSON.parse(atob(e.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=e,this.channels.forEach(i=>{e&&i.updateJoinPayload({access_token:e}),i.joinedOnce&&i._isJoined()&&i._push(Gn.access_token,{access_token:e})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(j1,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let e=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));e&&(this.log("transport",`leaving duplicate topic "${t}"`),e.unsubscribe())}_remove(t){this.channels=this.channels.filter(e=>e._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,e=>{let{topic:r,event:i,payload:o,ref:s}=e;s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${i} ${s&&"("+s+")"||""}`,o),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,o,s)),this.stateChangeCallbacks.message.forEach(a=>a(e))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{e.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(e=>e(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(e=>e(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Gn.error))}_appendParams(t,e){if(Object.keys(e).length===0)return t;let r=t.match(/\?/)?"&":"?",i=new URLSearchParams(e);return`${t}${r}${i}`}_workerObjectUrl(t){let e;if(t)e=t;else{let r=new Blob([mL],{type:"application/javascript"});e=URL.createObjectURL(r)}return e}};var Mv=class{constructor(t,e,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Qs.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}};var Ys=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function lt(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var If=class extends Ys{constructor(t,e){super(t),this.name="StorageApiError",this.status=e}toJSON(){return{name:this.name,message:this.message,status:this.status}}},Mo=class extends Ys{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};var pL=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(m){try{u(r.next(m))}catch(p){s(p)}}function l(m){try{u(r.throw(m))}catch(p){s(p)}}function u(m){m.done?o(m.value):i(m.value).then(a,l)}u((r=r.apply(n,t||[])).next())})},Mf=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>import("./chunk-MAQGHWLI.js").then(({default:r})=>r(...e)):t=fetch,(...e)=>t(...e)},U1=()=>pL(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-MAQGHWLI.js")).Response:Response}),Tf=n=>{if(Array.isArray(n))return n.map(e=>Tf(e));if(typeof n=="function"||n!==Object(n))return n;let t={};return Object.entries(n).forEach(([e,r])=>{let i=e.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=Tf(r)}),t};var Ao=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(m){try{u(r.next(m))}catch(p){s(p)}}function l(m){try{u(r.throw(m))}catch(p){s(p)}}function u(m){m.done?o(m.value):i(m.value).then(a,l)}u((r=r.apply(n,t||[])).next())})},Av=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),hL=(n,t,e)=>Ao(void 0,void 0,void 0,function*(){let r=yield U1();n instanceof r&&!e?.noResolveJson?n.json().then(i=>{t(new If(Av(i),n.status||500))}).catch(i=>{t(new Mo(Av(i),i))}):t(new Mo(Av(n),n))}),gL=(n,t,e,r)=>{let i={method:n,headers:t?.headers||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),e))};function Kl(n,t,e,r,i,o){return Ao(this,void 0,void 0,function*(){return new Promise((s,a)=>{n(e,gL(t,r,i,o)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>hL(l,a,r))})})}function Js(n,t,e,r){return Ao(this,void 0,void 0,function*(){return Kl(n,"GET",t,e,r)})}function Ir(n,t,e,r,i){return Ao(this,void 0,void 0,function*(){return Kl(n,"POST",t,r,i,e)})}function $1(n,t,e,r,i){return Ao(this,void 0,void 0,function*(){return Kl(n,"PUT",t,r,i,e)})}function z1(n,t,e,r){return Ao(this,void 0,void 0,function*(){return Kl(n,"HEAD",t,Object.assign(Object.assign({},e),{noResolveJson:!0}),r)})}function Af(n,t,e,r,i){return Ao(this,void 0,void 0,function*(){return Kl(n,"DELETE",t,r,i,e)})}var fn=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(m){try{u(r.next(m))}catch(p){s(p)}}function l(m){try{u(r.throw(m))}catch(p){s(p)}}function u(m){m.done?o(m.value):i(m.value).then(a,l)}u((r=r.apply(n,t||[])).next())})},bL={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},H1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},kf=class{constructor(t,e={},r,i){this.url=t,this.headers=e,this.bucketId=r,this.fetch=Mf(i)}uploadOrUpdate(t,e,r,i){return fn(this,void 0,void 0,function*(){try{let o,s=Object.assign(Object.assign({},H1),i),a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)}),l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));let u=this._removeEmptyFolders(e),m=this._getFinalPath(u),p=yield this.fetch(`${this.url}/object/${m}`,Object.assign({method:t,body:o,headers:a},s?.duplex?{duplex:s.duplex}:{})),v=yield p.json();return p.ok?{data:{path:u,id:v.Id,fullPath:v.Key},error:null}:{data:null,error:v}}catch(o){if(lt(o))return{data:null,error:o};throw o}})}upload(t,e,r){return fn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,e,r)})}uploadToSignedUrl(t,e,r,i){return fn(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(t),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",e);try{let l,u=Object.assign({upsert:H1.upsert},i),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,m["cache-control"]=`max-age=${u.cacheControl}`,m["content-type"]=u.contentType);let p=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:m}),v=yield p.json();return p.ok?{data:{path:o,fullPath:v.Key},error:null}:{data:null,error:v}}catch(l){if(lt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,e){return fn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),i=Object.assign({},this.headers);e?.upsert&&(i["x-upsert"]="true");let o=yield Ir(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new Ys("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:a},error:null}}catch(r){if(lt(r))return{data:null,error:r};throw r}})}update(t,e,r){return fn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,e,r)})}move(t,e,r){return fn(this,void 0,void 0,function*(){try{return{data:yield Ir(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(lt(i))return{data:null,error:i};throw i}})}copy(t,e,r){return fn(this,void 0,void 0,function*(){try{return{data:{path:(yield Ir(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(lt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,e,r){return fn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),o=yield Ir(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(lt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,e,r){return fn(this,void 0,void 0,function*(){try{let i=yield Ir(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:t},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(lt(i))return{data:null,error:i};throw i}})}download(t,e){return fn(this,void 0,void 0,function*(){let i=typeof e?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(e?.transform||{}),s=o?`?${o}`:"";try{let a=this._getFinalPath(t);return{data:yield(yield Js(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(lt(a))return{data:null,error:a};throw a}})}info(t){return fn(this,void 0,void 0,function*(){let e=this._getFinalPath(t);try{let r=yield Js(this.fetch,`${this.url}/object/info/${e}`,{headers:this.headers});return{data:Tf(r),error:null}}catch(r){if(lt(r))return{data:null,error:r};throw r}})}exists(t){return fn(this,void 0,void 0,function*(){let e=this._getFinalPath(t);try{return yield z1(this.fetch,`${this.url}/object/${e}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(lt(r)&&r instanceof Mo){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,e){let r=this._getFinalPath(t),i=[],o=e?.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&i.push(o);let a=typeof e?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(e?.transform||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return fn(this,void 0,void 0,function*(){try{return{data:yield Af(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(e){if(lt(e))return{data:null,error:e};throw e}})}list(t,e,r){return fn(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},bL),e),{prefix:t||""});return{data:yield Ir(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(lt(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){let e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};var q1="2.7.1";var G1={"X-Client-Info":`storage-js/${q1}`};var Xs=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(m){try{u(r.next(m))}catch(p){s(p)}}function l(m){try{u(r.throw(m))}catch(p){s(p)}}function u(m){m.done?o(m.value):i(m.value).then(a,l)}u((r=r.apply(n,t||[])).next())})},Pf=class{constructor(t,e={},r){this.url=t,this.headers=Object.assign(Object.assign({},G1),e),this.fetch=Mf(r)}listBuckets(){return Xs(this,void 0,void 0,function*(){try{return{data:yield Js(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(lt(t))return{data:null,error:t};throw t}})}getBucket(t){return Xs(this,void 0,void 0,function*(){try{return{data:yield Js(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(e){if(lt(e))return{data:null,error:e};throw e}})}createBucket(t,e={public:!1}){return Xs(this,void 0,void 0,function*(){try{return{data:yield Ir(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(lt(r))return{data:null,error:r};throw r}})}updateBucket(t,e){return Xs(this,void 0,void 0,function*(){try{return{data:yield $1(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(lt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Xs(this,void 0,void 0,function*(){try{return{data:yield Ir(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(lt(e))return{data:null,error:e};throw e}})}deleteBucket(t){return Xs(this,void 0,void 0,function*(){try{return{data:yield Af(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(e){if(lt(e))return{data:null,error:e};throw e}})}};var Zl=class extends Pf{constructor(t,e={},r){super(t,e,r)}from(t){return new kf(this.url,this.headers,t,this.fetch)}};var W1="2.48.1";var Yl="";typeof Deno<"u"?Yl="deno":typeof document<"u"?Yl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Yl="react-native":Yl="node";var vL={"X-Client-Info":`supabase-js-${Yl}/${W1}`},Q1={headers:vL},K1={schema:"public"},Z1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Y1={};Y0();var _L=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(m){try{u(r.next(m))}catch(p){s(p)}}function l(m){try{u(r.throw(m))}catch(p){s(p)}}function u(m){m.done?o(m.value):i(m.value).then(a,l)}u((r=r.apply(n,t||[])).next())})},yL=n=>{let t;return n?t=n:typeof fetch>"u"?t=K0:t=fetch,(...e)=>t(...e)},wL=()=>typeof Headers>"u"?Z0:Headers,J1=(n,t,e)=>{let r=yL(e),i=wL();return(o,s)=>_L(void 0,void 0,void 0,function*(){var a;let l=(a=yield t())!==null&&a!==void 0?a:n,u=new i(s?.headers);return u.has("apikey")||u.set("apikey",n),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},s),{headers:u}))})};var CL=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(m){try{u(r.next(m))}catch(p){s(p)}}function l(m){try{u(r.throw(m))}catch(p){s(p)}}function u(m){m.done?o(m.value):i(m.value).then(a,l)}u((r=r.apply(n,t||[])).next())})};function X1(n){return n.replace(/\/$/,"")}function eS(n,t){let{db:e,auth:r,realtime:i,global:o}=n,{db:s,auth:a,realtime:l,global:u}=t,m={db:Object.assign(Object.assign({},s),e),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},u),o),accessToken:()=>CL(this,void 0,void 0,function*(){return""})};return n.accessToken?m.accessToken=n.accessToken:delete m.accessToken,m}function tS(n){return Math.round(Date.now()/1e3)+n}function nS(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){let t=Math.random()*16|0;return(n=="x"?t:t&3|8).toString(16)})}var dr=()=>typeof document<"u",ko={tested:!1,writable:!1},Fi=()=>{if(!dr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ko.tested)return ko.writable;let n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),ko.tested=!0,ko.writable=!0}catch{ko.tested=!0,ko.writable=!1}return ko.writable};function Of(n){let t={},e=new URL(n);if(e.hash&&e.hash[0]==="#")try{new URLSearchParams(e.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return e.searchParams.forEach((r,i)=>{t[i]=r}),t}var Rf=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>import("./chunk-MAQGHWLI.js").then(({default:r})=>r(...e)):t=fetch,(...e)=>t(...e)},rS=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Li=async(n,t,e)=>{await n.setItem(t,JSON.stringify(e))},Xl=async(n,t)=>{let e=await n.getItem(t);if(!e)return null;try{return JSON.parse(e)}catch{return e}},Nf=async(n,t)=>{await n.removeItem(t)};function EL(n){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e="",r,i,o,s,a,l,u,m=0;for(n=n.replace("-","+").replace("_","/");m<n.length;)s=t.indexOf(n.charAt(m++)),a=t.indexOf(n.charAt(m++)),l=t.indexOf(n.charAt(m++)),u=t.indexOf(n.charAt(m++)),r=s<<2|a>>4,i=(a&15)<<4|l>>2,o=(l&3)<<6|u,e=e+String.fromCharCode(r),l!=64&&i!=0&&(e=e+String.fromCharCode(i)),u!=64&&o!=0&&(e=e+String.fromCharCode(o));return e}var Jl=class n{constructor(){this.promise=new n.promiseConstructor((t,e)=>{this.resolve=t,this.reject=e})}};Jl.promiseConstructor=Promise;function kv(n){let t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,e=n.split(".");if(e.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(e[1]))throw new Error("JWT is not valid: payload is not in base64url format");let r=e[1];return JSON.parse(EL(r))}async function iS(n){return await new Promise(t=>{setTimeout(()=>t(null),n)})}function oS(n,t){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{let s=await n(o);if(!t(o,null,s)){r(s);return}}catch(s){if(!t(o,s)){i(s);return}}})()})}function xL(n){return("0"+n.toString(16)).substr(-2)}function Po(){let t=new Uint32Array(56);if(typeof crypto>"u"){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=e.length,i="";for(let o=0;o<56;o++)i+=e.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,xL).join("")}async function SL(n){let e=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",e),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}function DL(n){return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Oo(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;let e=await SL(n);return DL(e)}var ec=class extends Error{constructor(t,e){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=e}};function be(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}var Ff=class extends ec{constructor(t,e){super(t,e),this.name="AuthApiError",this.status=e}toJSON(){return{name:this.name,message:this.message,status:this.status}}};function sS(n){return be(n)&&n.name==="AuthApiError"}var ea=class extends ec{constructor(t,e){super(t),this.name="AuthUnknownError",this.originalError=e}},ai=class extends ec{constructor(t,e,r){super(t),this.name=e,this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}},li=class extends ai{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}},ta=class extends ai{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}},Ro=class extends ai{constructor(t){super(t,"AuthInvalidCredentialsError",400)}},No=class extends ai{constructor(t,e=null){super(t,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},tc=class extends ai{constructor(t,e=null){super(t,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},na=class extends ai{constructor(t,e){super(t,"AuthRetryableFetchError",e)}};function Vf(n){return be(n)&&n.name==="AuthRetryableFetchError"}var Lf=class extends ai{constructor(t,e,r){super(t,"AuthWeakPasswordError",e),this.reasons=r}};var IL=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},ra=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),TL=[502,503,504];async function aS(n){if(!rS(n))throw new na(ra(n),0);if(TL.includes(n.status))throw new na(ra(n),n.status);let t;try{t=await n.json()}catch(e){throw new ea(ra(e),e)}throw typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((e,r)=>e&&typeof r=="string",!0)?new Lf(ra(t),n.status,t.weak_password.reasons):new Ff(ra(t),n.status||500)}var ML=(n,t,e,r)=>{let i={method:n,headers:t?.headers||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),e))};async function _e(n,t,e,r){var i;let o=Object.assign({},r?.headers);r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await AL(n,t,e+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}}async function AL(n,t,e,r,i,o){let s=ML(t,r,i,o),a;try{a=await n(e,s)}catch(l){throw console.error(l),new na(ra(l),0)}if(a.ok||await aS(a),r?.noResolveJson)return a;try{return await a.json()}catch(l){await aS(l)}}function Vi(n){var t;let e=null;kL(n)&&(e=Object.assign({},n),n.expires_at||(e.expires_at=tS(n.expires_in)));let r=(t=n.user)!==null&&t!==void 0?t:n;return{data:{session:e,user:r},error:null}}function Pv(n){let t=Vi(n);return!t.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((e,r)=>e&&typeof r=="string",!0)&&(t.data.weak_password=n.weak_password),t}function Tr(n){var t;return{data:{user:(t=n.user)!==null&&t!==void 0?t:n},error:null}}function lS(n){return{data:n,error:null}}function cS(n){let{action_link:t,email_otp:e,hashed_token:r,redirect_to:i,verification_type:o}=n,s=IL(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:e,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function dS(n){return n}function kL(n){return n.access_token&&n.refresh_token&&n.expires_in}var PL=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},ia=class{constructor({url:t="",headers:e={},fetch:r}){this.url=t,this.headers=e,this.fetch=Rf(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,e="global"){try{return await _e(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,e={}){try{return await _e(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:Tr})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{let{options:e}=t,r=PL(t,["options"]),i=Object.assign(Object.assign({},r),e);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await _e(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:cS,redirectTo:e?.redirectTo})}catch(e){if(be(e))return{data:{properties:null,user:null},error:e};throw e}}async createUser(t){try{return await _e(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Tr})}catch(e){if(be(e))return{data:{user:null},error:e};throw e}}async listUsers(t){var e,r,i,o,s,a,l;try{let u={nextPage:null,lastPage:0,total:0},m=await _e(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(e=t?.page)===null||e===void 0?void 0:e.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:dS});if(m.error)throw m.error;let p=await m.json(),v=(s=m.headers.get("x-total-count"))!==null&&s!==void 0?s:0,g=(l=(a=m.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(_=>{let C=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(_.split(";")[1].split("=")[1]);u[`${S}Page`]=C}),u.total=parseInt(v)),{data:Object.assign(Object.assign({},p),u),error:null}}catch(u){if(be(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await _e(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Tr})}catch(e){if(be(e))return{data:{user:null},error:e};throw e}}async updateUserById(t,e){try{return await _e(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:e,headers:this.headers,xform:Tr})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,e=!1){try{return await _e(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:e},xform:Tr})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{let{data:e,error:r}=await _e(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:e,error:r}}catch(e){if(be(e))return{data:null,error:e};throw e}}async _deleteFactor(t){try{return{data:await _e(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(e){if(be(e))return{data:null,error:e};throw e}}};var jf="2.61.0";var uS="http://localhost:9999",fS="supabase.auth.token";var mS={"X-Client-Info":`gotrue-js/${jf}`},Ov=10;var pS={getItem:n=>Fi()?globalThis.localStorage.getItem(n):null,setItem:(n,t)=>{Fi()&&globalThis.localStorage.setItem(n,t)},removeItem:n=>{Fi()&&globalThis.localStorage.removeItem(n)}};function Rv(n={}){return{getItem:t=>n[t]||null,setItem:(t,e)=>{n[t]=e},removeItem:t=>{delete n[t]}}}function hS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var OL={debug:!!(globalThis&&Fi()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Bf=class extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}};hS();var RL={url:uS,storageKey:fS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:mS,flowType:"implicit",debug:!1},nc=30*1e3,gS=3;async function NL(n,t,e){return await e()}var Nv=(()=>{class n{constructor(e){var r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=n.nextInstanceID,n.nextInstanceID+=1,this.instanceID>0&&dr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let i=Object.assign(Object.assign({},RL),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new ia({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Rf(i.fetch),this.lock=i.lock||NL,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:Fi()?this.storage=pS:(this.memoryStorage={},this.storage=Rv(this.memoryStorage)):(this.memoryStorage={},this.storage=Rv(this.memoryStorage)),dr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${jf}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{let e=dr()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){let{data:r,error:i}=await this._getSessionFromURL(e);if(i)return this._debug("#_initialize()","error detecting session from URL",i),i?.message==="Identity is already linked"||i?.message==="Identity is already linked to another user"?{error:i}:(await this._removeSession(),{error:i});let{session:o,redirectType:s}=r;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return be(e)?{error:e}:{error:new ea("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signUp(e){var r,i,o;try{await this._removeSession();let s;if("email"in e){let{email:p,password:v,options:g}=e,_=null,C=null;if(this.flowType==="pkce"){let S=Po();await Li(this.storage,`${this.storageKey}-code-verifier`,S),_=await Oo(S),C=S===_?"plain":"s256"}s=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g?.emailRedirectTo,body:{email:p,password:v,data:(r=g?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:_,code_challenge_method:C},xform:Vi})}else if("phone"in e){let{phone:p,password:v,options:g}=e;s=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:v,data:(i=g?.data)!==null&&i!==void 0?i:{},channel:(o=g?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:Vi})}else throw new Ro("You must provide either an email or phone number and a password");let{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};let u=a.session,m=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:m,session:u},error:null}}catch(s){if(be(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{await this._removeSession();let r;if("email"in e){let{email:s,password:a,options:l}=e;r=await _e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Pv})}else if("phone"in e){let{phone:s,password:a,options:l}=e;r=await _e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Pv})}else throw new Ro("You must provide either an email or phone number and a password");let{data:i,error:o}=r;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new ta}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(be(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,i,o,s;return await this._removeSession(),await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){let r=await Xl(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/"),{data:s,error:a}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Vi});return await Nf(this.storage,`${this.storageKey}-code-verifier`),a?{data:{user:null,session:null,redirectType:null},error:a}:!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new ta}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})}async signInWithIdToken(e){await this._removeSession();try{let{options:r,provider:i,token:o,access_token:s,nonce:a}=e,l=await _e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Vi}),{data:u,error:m}=l;return m?{data:{user:null,session:null},error:m}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new ta}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:m})}catch(r){if(be(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,i,o,s,a;try{if(await this._removeSession(),"email"in e){let{email:l,options:u}=e,m=null,p=null;if(this.flowType==="pkce"){let g=Po();await Li(this.storage,`${this.storageKey}-code-verifier`,g),m=await Oo(g),p=g===m?"plain":"s256"}let{error:v}=await _e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=u?.data)!==null&&r!==void 0?r:{},create_user:(i=u?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:m,code_challenge_method:p},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in e){let{phone:l,options:u}=e,{data:m,error:p}=await _e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(o=u?.data)!==null&&o!==void 0?o:{},create_user:(s=u?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(a=u?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:m?.message_id},error:p}}throw new Ro("You must provide either an email or phone number.")}catch(l){if(be(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,i;try{e.type!=="email_change"&&e.type!=="phone_change"&&await this._removeSession();let o,s;"options"in e&&(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(i=e.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:l}=await _e(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:Vi});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");let u=a.session,m=a.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:m,session:u},error:null}}catch(o){if(be(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var r,i,o;try{await this._removeSession();let s=null,a=null;if(this.flowType==="pkce"){let l=Po();await Li(this.storage,`${this.storageKey}-code-verifier`,l),s=await Oo(l),a=l===s?"plain":"s256"}return await _e(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:lS})}catch(s){if(be(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{let{data:{session:r},error:i}=e;if(i)throw i;if(!r)throw new li;let{error:o}=await _e(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(be(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{e.type!="email_change"&&e.type!="phone_change"&&await this._removeSession();let r=`${this.url}/resend`;if("email"in e){let{email:i,type:o,options:s}=e,{error:a}=await _e(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){let{phone:i,type:o,options:s}=e,{data:a,error:l}=await _e(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:l}}throw new Ro("You must provide either an email or phone number and a type")}catch(r){if(be(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){let o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{let r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null,r=await Xl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};let i=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i)return{data:{session:e},error:null};let{session:o,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await _e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Tr}):await this._useSession(async r=>{var i,o;let{data:s,error:a}=r;if(a)throw a;return await _e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:Tr})})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async i=>{let{data:o,error:s}=i;if(s)throw s;if(!o.session)throw new li;let a=o.session,l=null,u=null;if(this.flowType==="pkce"&&e.email!=null){let v=Po();await Li(this.storage,`${this.storageKey}-code-verifier`,v),l=await Oo(v),u=v===l?"plain":"s256"}let{data:m,error:p}=await _e(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:u}),jwt:a.access_token,xform:Tr});if(p)throw p;return a.user=m.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(i){if(be(i))return{data:{user:null},error:i};throw i}}_decodeJWT(e){return kv(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new li;let r=Date.now()/1e3,i=r,o=!0,s=null,a=kv(e.access_token);if(a.exp&&(i=a.exp,o=i<=r),o){let{session:l,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!l)return{data:{user:null,session:null},error:null};s=l}else{let{data:l,error:u}=await this._getUser(e.access_token);if(u)throw u;s={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(be(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var i;if(!e){let{data:a,error:l}=r;if(l)throw l;e=(i=a.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new li;let{session:o,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(be(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e){try{if(!dr())throw new No("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new No("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new tc("Not a valid PKCE flow url.");let r=Of(window.location.href);if(e){if(!r.code)throw new tc("No code detected.");let{data:B,error:H}=await this._exchangeCodeForSession(r.code);if(H)throw H;let Y=new URL(window.location.href);return Y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Y.toString()),{data:{session:B.session,redirectType:null},error:null}}if(r.error||r.error_description||r.error_code)throw new No(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});let{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:l,expires_at:u,token_type:m}=r;if(!s||!l||!a||!m)throw new No("No session defined in URL");let p=Math.round(Date.now()/1e3),v=parseInt(l),g=p+v;u&&(g=parseInt(u));let _=g-p;_*1e3<=nc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${v}s`);let C=g-v;p-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,g,p):p-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",C,g,p);let{data:S,error:A}=await this._getUser(s);if(A)throw A;let F={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:v,expires_at:g,refresh_token:a,token_type:m,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:F,redirectType:r.type},error:null}}catch(r){if(be(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantFlow(){let e=Of(window.location.href);return!!(dr()&&(e.access_token||e.error_description))}async _isPKCEFlow(){let e=Of(window.location.href),r=await Xl(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var i;let{data:o,error:s}=r;if(s)return{error:s};let a=(i=o.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:l}=await this.admin.signOut(a,e);if(l&&!(sS(l)&&(l.status===404||l.status===401)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Nf(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(e){let r=nS(),i={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async r=>{var i,o;try{let{data:{session:s},error:a}=r;if(a)throw a;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let i=null,o=null;if(this.flowType==="pkce"){let s=Po();await Li(this.storage,`${this.storageKey}-code-verifier`,`${s}/PASSWORD_RECOVERY`),i=await Oo(s),o=s===i?"plain":"s256"}try{return await _e(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(be(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{let{data:r,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{let{data:i,error:o}=await this._useSession(async s=>{var a,l,u,m,p;let{data:v,error:g}=s;if(g)throw g;let _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await _e(this.fetch,"GET",_,{headers:this.headers,jwt:(p=(m=v.session)===null||m===void 0?void 0:m.access_token)!==null&&p!==void 0?p:void 0})});if(o)throw o;return dr()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:e.provider,url:i?.url},error:null}}catch(i){if(be(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var i,o;let{data:s,error:a}=r;if(a)throw a;return await _e(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(be(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){let r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return await oS(async o=>(await iS(o*200),this._debug(r,"refreshing attempt",o),await _e(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Vi})),(o,s,a)=>a&&a.error&&Vf(a.error)&&Date.now()+(o+1)*200-i<nc)}catch(i){if(this._debug(r,"error",i),be(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){let i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",i),dr()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e;let r="#_recoverAndRefresh()";this._debug(r,"begin");try{let i=await Xl(this.storage,this.storageKey);if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}let o=Math.round(Date.now()/1e3),s=((e=i.expires_at)!==null&&e!==void 0?e:1/0)<o+Ov;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Ov}s`),s){if(this.autoRefreshToken&&i.refresh_token){let{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),Vf(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,i;if(!e)throw new li;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Jl;let{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new li;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(o,"error",s),be(s)){let a={session:null,error:s};return Vf(s)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,r,i=!0){let o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(u){s.push(u)}});if(await Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),await Li(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Nf(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&dr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let e=setInterval(()=>this._autoRefreshTokenTick(),nc);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let e=Date.now();try{return await this._useSession(async r=>{let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-e)/nc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${nc}ms, refresh threshold is ${gS} ticks`),o<=gS&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Bf)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!dr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){let r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,i){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let s=Po();await Li(this.storage,`${this.storageKey}-code-verifier`,s);let a=await Oo(s),l=s===a?"plain":"s256";this._debug("PKCE","code verifier",`${s.substring(0,5)}...`,"code challenge",a,"method",l);let u=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});o.push(u.toString())}if(i?.queryParams){let s=new URLSearchParams(i.queryParams);o.push(s.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var i;let{data:o,error:s}=r;return s?{data:null,error:s}:await _e(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(be(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var i,o;let{data:s,error:a}=r;if(a)return{data:null,error:a};let{data:l,error:u}=await _e(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:e.friendlyName,factor_type:e.factorType,issuer:e.issuer},headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return u?{data:null,error:u}:(!((o=l?.totp)===null||o===void 0)&&o.qr_code&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(be(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;let{data:o,error:s}=r;if(s)return{data:null,error:s};let{data:a,error:l}=await _e(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(r){if(be(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;let{data:o,error:s}=r;return s?{data:null,error:s}:await _e(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(be(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){let{data:r,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){let{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};let i=e?.factors||[],o=i.filter(s=>s.factor_type==="totp"&&s.status==="verified");return{data:{all:i,totp:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,i;let{data:{session:o},error:s}=e;if(s)return{data:null,error:s};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let a=this._decodeJWT(o.access_token),l=null;a.aal&&(l=a.aal);let u=l;((i=(r=o.user.factors)===null||r===void 0?void 0:r.filter(v=>v.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(u="aal2");let p=a.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:p},error:null}}))}}return n.nextInstanceID=0,n})();var FL=Nv,Fv=FL;var Uf=class extends Fv{constructor(t){super(t)}};var LL=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(m){try{u(r.next(m))}catch(p){s(p)}}function l(m){try{u(r.throw(m))}catch(p){s(p)}}function u(m){m.done?o(m.value):i(m.value).then(a,l)}u((r=r.apply(n,t||[])).next())})},$f=class{constructor(t,e,r){var i,o,s;if(this.supabaseUrl=t,this.supabaseKey=e,!t)throw new Error("supabaseUrl is required.");if(!e)throw new Error("supabaseKey is required.");let a=X1(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;let l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:K1,realtime:Y1,auth:Object.assign(Object.assign({},Z1),{storageKey:l}),global:Q1},m=eS(r??{},u);this.storageKey=(i=m.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=m.global.headers)!==null&&o!==void 0?o:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(p,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=m.auth)!==null&&s!==void 0?s:{},this.headers,m.global.fetch),this.fetch=J1(e,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new N1(`${a}/rest/v1`,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),m.accessToken||this._listenForAuthEvents()}get functions(){return new jl(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Zl(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,e;return LL(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(e=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:i,storageKey:o,flowType:s,lock:a,debug:l},u,m){let p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Uf({url:this.authUrl,headers:Object.assign(Object.assign({},p),u),storageKey:o,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:i,flowType:s,lock:a,debug:l,fetch:m,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Ql(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,r)=>{this._handleTokenChanged(e,"CLIENT",r?.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var bS=(n,t,e)=>new $f(n,t,e);var Lv={API_URL:"https://jsgltiaidlacvchyjjha.supabase.co",anon_key:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpzZ2x0aWFpZGxhY3ZjaHlqamhhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzk2NjIzNDIsImV4cCI6MjA1NTIzODM0Mn0.bPtRMhXapLzUgPEIf6GoW9r52umh0F1YZhG1bfLyb0s",supabase_LocalStorage_key:"sb-jsgltiaidlacvchyjjha-auth-token"};var Me=class n{constructor(t){this.platformId=t;this.supabase=bS(Lv.API_URL,Lv.anon_key,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),this.setupAuthStateSignalSync()}supabase;USER_PROFILE_KEY="userProfile";user=Ft(null);currentUsername=Ft(null);loginStatus=Ft(null);GetClient(){return this.supabase}setupAuthStateSignalSync(){zn(this.platformId)&&(this.supabase.auth.getSession().then(({data:t})=>{this.updateSignalsFromSession(t.session)}),this.supabase.auth.onAuthStateChange((t,e)=>{this.updateSignalsFromSession(e)}))}updateSignalsFromSession(t){if(t&&t.user){this.user.set(t.user);let e=t.user?.identities?.[0]?.identity_data?.firstname||null;this.currentUsername.set(e),this.loginStatus.set(!0)}else this.user.set(null),this.currentUsername.set(null),this.loginStatus.set(!1)}supaScream(){return"SupaScream"}static \u0275fac=function(e){return new(e||n)(L(Lt))};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})};var zf=class n{constructor(t){this.supabaseService=t;this.userFirstName=this.supabaseService.currentUsername()}userFirstName;static \u0275fac=function(e){return new(e||n)(D(Me))};static \u0275cmp=j({type:n,selectors:[["app-landing-page"]],decls:66,vars:4,consts:[[1,"container","mt-4"],[1,"mb-4","text-center"],[1,"row","g-4","mb-5"],[1,"col-md-6"],[1,"card","h-100","shadow-sm"],[1,"card-body","d-flex","align-items-center"],[1,"ms-4","me-4","step-icon",2,"--step-color","#2563eb"],[1,"flex-grow-1"],[1,"text-uppercase","fw-bold","text-secondary",2,"letter-spacing","2px"],[1,"fw-semibold","mb-1"],[1,"mb-3","text-secondary"],[1,"btn","btn-lg","fw-bold","w-100",2,"background","#2563eb","color","#fff",3,"routerLink"],[1,"ms-4","me-4","step-icon",2,"--step-color","#15803d"],[1,"btn","btn-lg","fw-bold","w-100",2,"background","#15803d","color","#fff",3,"routerLink"],[1,"ms-4","me-4","step-icon",2,"--step-color","#b45309"],[1,"btn","btn-lg","fw-bold","w-100",2,"background","#b45309","color","#fff",3,"routerLink"],[1,"ms-4","me-4","step-icon",2,"--step-color","#6d28d9"],[1,"btn","btn-lg","fw-bold","w-100",2,"background","#6d28d9","color","#fff",3,"routerLink"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"h2",1),f(2,"Begin Your Trading Transformation"),c(),d(3,"h2",1),f(4,"Your Professional Workflow"),c(),d(5,"div",2)(6,"div",3)(7,"div",4)(8,"div",5)(9,"div",6)(10,"mat-icon"),f(11,"check_circle"),c()(),d(12,"div",7)(13,"div",8),f(14,"Step 1 "),c(),d(15,"h4",9),f(16,"Daily Emotional Check-in"),c(),d(17,"p",10),f(18,"Understand your emotional state before making trading decisions."),c(),d(19,"a",11),f(20,"Begin Assessment"),c()()()()(),d(21,"div",3)(22,"div",4)(23,"div",5)(24,"div",12)(25,"mat-icon"),f(26,"trending_up"),c()(),d(27,"div",7)(28,"div",8),f(29,"Step 2 "),c(),d(30,"h4",9),f(31,"Plan Your Trades"),c(),d(32,"p",10),f(33,"Document your trading plan before executing any trades."),c(),d(34,"a",13),f(35,"Create Trading Plan"),c()()()()(),d(36,"div",3)(37,"div",4)(38,"div",5)(39,"div",14)(40,"mat-icon"),f(41,"candlestick_chart"),c()(),d(42,"div",7)(43,"div",8),f(44,"Step 3 "),c(),d(45,"h4",9),f(46,"Update your Trades"),c(),d(47,"p",10),f(48,"Record results and analyze your trading performance."),c(),d(49,"a",15),f(50,"Manage Positions"),c()()()()(),d(51,"div",3)(52,"div",4)(53,"div",5)(54,"div",16)(55,"mat-icon"),f(56,"psychology"),c()(),d(57,"div",7)(58,"div",8),f(59,"Step 4 "),c(),d(60,"h4",9),f(61,"Reflection & Meditation"),c(),d(62,"p",10),f(63,"Clear your mind with mindfulness practices."),c(),d(64,"a",17),f(65,"Begin Session"),c()()()()()()()),e&2&&(h(19),b("routerLink","/emotions"),h(15),b("routerLink","/tradejournal"),h(15),b("routerLink","/tradejournal"),h(15),b("routerLink","/meditationhub"))},dependencies:[Ke,G,Ni,Ri],styles:[".card[_ngcontent-%COMP%]{border:none;border-radius:8px}.card-body[_ngcontent-%COMP%]{padding-left:0}.card-body[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:600;margin-bottom:.75rem}.card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1rem}.btn-custom[_ngcontent-%COMP%]{border-radius:20px;font-weight:600}.step-icon[_ngcontent-%COMP%]{width:64px;height:64px;background:var(--step-color, --primary-btn-color);border-radius:16px;display:flex;align-items:center;justify-content:center;flex-shrink:0;box-shadow:0 2px 8px #0000000a}.step-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff;font-size:36px;width:36px;height:36px;line-height:36px;display:flex;align-items:center;justify-content:center}.card-body.d-flex.align-items-center[_ngcontent-%COMP%]{gap:1.5rem}@media (max-width: 576px){.card-body[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.1rem}.card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.btn-custom[_ngcontent-%COMP%]{padding:.5rem 1rem}}"]})};var yt=class n{constructor(t,e){this.supabaseService=t;this.router=e}canActivate(t,e){return this.supabaseService.loginStatus()?!0:this.router.createUrlTree([""],{queryParams:{returnUrl:e.url}})}static \u0275fac=function(e){return new(e||n)(L(Me),L(Dt))};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})};var rc=class n{constructor(t,e){this.supabaseService=t;this.router=e}canActivate(t,e){return this.supabaseService.loginStatus()?this.router.createUrlTree(["/home"]):!0}static \u0275fac=function(e){return new(e||n)(L(Me),L(Dt))};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})};var DS=(()=>{class n{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,r){this._renderer=e,this._elementRef=r}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(r){return new(r||n)(D(Bt),D(ve))};static \u0275dir=X({type:n})}return n})(),ca=(()=>{class n extends DS{static \u0275fac=(()=>{let e;return function(i){return(e||(e=gt(n)))(i||n)}})();static \u0275dir=X({type:n,features:[ke]})}return n})(),ci=new V(""),VL={provide:ci,useExisting:Rt(()=>di),multi:!0},di=(()=>{class n extends ca{writeValue(e){this.setProperty("checked",e)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=gt(n)))(i||n)}})();static \u0275dir=X({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&I("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[tt([VL]),ke]})}return n})(),jL={provide:ci,useExisting:Rt(()=>we),multi:!0};function BL(){let n=ei()?ei().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var UL=new V(""),we=(()=>{class n extends DS{_compositionMode;_composing=!1;constructor(e,r,i){super(e,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!BL())}writeValue(e){let r=e??"";this.setProperty("value",r)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(r){return new(r||n)(D(Bt),D(ve),D(UL,8))};static \u0275dir=X({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&I("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[tt([jL]),ke]})}return n})();function ji(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function IS(n){return n!=null&&typeof n.length=="number"}var da=new V(""),em=new V(""),$L=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,N=class{static min(t){return TS(t)}static max(t){return MS(t)}static required(t){return zL(t)}static requiredTrue(t){return HL(t)}static email(t){return qL(t)}static minLength(t){return GL(t)}static maxLength(t){return WL(t)}static pattern(t){return QL(t)}static nullValidator(t){return qf(t)}static compose(t){return NS(t)}static composeAsync(t){return LS(t)}};function TS(n){return t=>{if(ji(t.value)||ji(n))return null;let e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function MS(n){return t=>{if(ji(t.value)||ji(n))return null;let e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function zL(n){return ji(n.value)?{required:!0}:null}function HL(n){return n.value===!0?null:{required:!0}}function qL(n){return ji(n.value)||$L.test(n.value)?null:{email:!0}}function GL(n){return t=>ji(t.value)||!IS(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}function WL(n){return t=>IS(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}function QL(n){if(!n)return qf;let t,e;return typeof n=="string"?(e="",n.charAt(0)!=="^"&&(e+="^"),e+=n,n.charAt(n.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),r=>{if(ji(r.value))return null;let i=r.value;return t.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}function qf(n){return null}function AS(n){return n!=null}function kS(n){return go(n)?He(n):n}function PS(n){let t={};return n.forEach(e=>{t=e!=null?k(k({},t),e):t}),Object.keys(t).length===0?null:t}function OS(n,t){return t.map(e=>e(n))}function KL(n){return!n.validate}function RS(n){return n.map(t=>KL(t)?t:e=>t.validate(e))}function NS(n){if(!n)return null;let t=n.filter(AS);return t.length==0?null:function(e){return PS(OS(e,t))}}function FS(n){return n!=null?NS(RS(n)):null}function LS(n){if(!n)return null;let t=n.filter(AS);return t.length==0?null:function(e){let r=OS(e,t).map(kS);return Pa(r).pipe(K(PS))}}function VS(n){return n!=null?LS(RS(n)):null}function vS(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function jS(n){return n._rawValidators}function BS(n){return n._rawAsyncValidators}function Vv(n){return n?Array.isArray(n)?n:[n]:[]}function Gf(n,t){return Array.isArray(n)?n.includes(t):n===t}function _S(n,t){let e=Vv(t);return Vv(n).forEach(i=>{Gf(e,i)||e.push(i)}),e}function yS(n,t){return Vv(t).filter(e=>!Gf(n,e))}var Wf=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=FS(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=VS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},Fo=class extends Wf{name;get formDirective(){return null}get path(){return null}},Mr=class extends Wf{_parent=null;name=null;valueAccessor=null},Qf=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},ZL={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},QZ=W(k({},ZL),{"[class.ng-submitted]":"isSubmitted"}),xe=(()=>{class n extends Qf{constructor(e){super(e)}static \u0275fac=function(r){return new(r||n)(D(Mr,2))};static \u0275dir=X({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Ie("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[ke]})}return n})(),ze=(()=>{class n extends Qf{constructor(e){super(e)}static \u0275fac=function(r){return new(r||n)(D(Fo,10))};static \u0275dir=X({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Ie("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[ke]})}return n})();var ic="VALID",Hf="INVALID",oa="PENDING",oc="DISABLED",Bi=class{},Kf=class extends Bi{value;source;constructor(t,e){super(),this.value=t,this.source=e}},sc=class extends Bi{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},ac=class extends Bi{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},sa=class extends Bi{status;source;constructor(t,e){super(),this.status=t,this.source=e}},jv=class extends Bi{source;constructor(t){super(),this.source=t}},Bv=class extends Bi{source;constructor(t){super(),this.source=t}};function zv(n){return(tm(n)?n.validators:n)||null}function YL(n){return Array.isArray(n)?FS(n):n||null}function Hv(n,t){return(tm(t)?t.asyncValidators:n)||null}function JL(n){return Array.isArray(n)?VS(n):n||null}function tm(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function US(n,t,e){let r=n.controls;if(!(t?Object.keys(r):r).length)throw new O(1e3,"");if(!r[e])throw new O(1001,"")}function $S(n,t,e){n._forEachChild((r,i)=>{if(e[i]===void 0)throw new O(1002,"")})}var aa=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Zr(this.statusReactive)}set status(t){Zr(()=>this.statusReactive.set(t))}_status=ir(()=>this.statusReactive());statusReactive=Ft(void 0);get valid(){return this.status===ic}get invalid(){return this.status===Hf}get pending(){return this.status==oa}get disabled(){return this.status===oc}get enabled(){return this.status!==oc}errors;get pristine(){return Zr(this.pristineReactive)}set pristine(t){Zr(()=>this.pristineReactive.set(t))}_pristine=ir(()=>this.pristineReactive());pristineReactive=Ft(!0);get dirty(){return!this.pristine}get touched(){return Zr(this.touchedReactive)}set touched(t){Zr(()=>this.touchedReactive.set(t))}_touched=ir(()=>this.touchedReactive());touchedReactive=Ft(!1);get untouched(){return!this.touched}_events=new ne;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(_S(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(_S(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(yS(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(yS(t,this._rawAsyncValidators))}hasValidator(t){return Gf(this._rawValidators,t)}hasAsyncValidator(t){return Gf(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(W(k({},t),{sourceControl:r})),e&&t.emitEvent!==!1&&this._events.next(new ac(!0,r))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),e&&t.emitEvent!==!1&&this._events.next(new ac(!1,r))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(W(k({},t),{sourceControl:r})),e&&t.emitEvent!==!1&&this._events.next(new sc(!1,r))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),e&&t.emitEvent!==!1&&this._events.next(new sc(!0,r))}markAsPending(t={}){this.status=oa;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new sa(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(W(k({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=oc,this.errors=null,this._forEachChild(i=>{i.disable(W(k({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Kf(this.value,r)),this._events.next(new sa(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(W(k({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=ic,this._forEachChild(r=>{r.enable(W(k({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(W(k({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ic||this.status===oa)&&this._runAsyncValidator(r,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Kf(this.value,e)),this._events.next(new sa(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(W(k({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?oc:ic}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=oa,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let r=kS(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(t,e){let r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new sa(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,r)}_initObservables(){this.valueChanges=new J,this.statusChanges=new J}_calculateStatus(){return this._allControlsDisabled()?oc:this.errors?Hf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(oa)?oa:this._anyControlsHaveStatus(Hf)?Hf:ic}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),i&&this._events.next(new sc(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new ac(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){tm(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=YL(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=JL(this._rawAsyncValidators)}},la=class extends aa{constructor(t,e,r){super(zv(e),Hv(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){$S(this,!0,t),Object.keys(t).forEach(r=>{US(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(r=>{let i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>r._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,r]of Object.entries(this.controls))if(this.contains(e)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(t,e){let r=t;return this._forEachChild((i,o)=>{r=e(r,i,o)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Uv=class extends la{};var ua=new V("",{providedIn:"root",factory:()=>cc}),cc="always";function zS(n,t){return[...t.path,n]}function Zf(n,t,e=cc){qv(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),eV(n,t),nV(n,t),tV(n,t),XL(n,t)}function Yf(n,t,e=!0){let r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),Xf(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Jf(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function XL(n,t){if(t.valueAccessor.setDisabledState){let e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function qv(n,t){let e=jS(n);t.validator!==null?n.setValidators(vS(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let r=BS(n);t.asyncValidator!==null?n.setAsyncValidators(vS(r,t.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Jf(t._rawValidators,i),Jf(t._rawAsyncValidators,i)}function Xf(n,t){let e=!1;if(n!==null){if(t.validator!==null){let i=jS(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==t.validator);o.length!==i.length&&(e=!0,n.setValidators(o))}}if(t.asyncValidator!==null){let i=BS(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==t.asyncValidator);o.length!==i.length&&(e=!0,n.setAsyncValidators(o))}}}let r=()=>{};return Jf(t._rawValidators,r),Jf(t._rawAsyncValidators,r),e}function eV(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&HS(n,t)})}function tV(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&HS(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function HS(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function nV(n,t){let e=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function rV(n,t){n==null,qv(n,t)}function iV(n,t){return Xf(n,t)}function Gv(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function oV(n){return Object.getPrototypeOf(n.constructor)===ca}function sV(n,t){n._syncPendingControls(),t.forEach(e=>{let r=e.control;r.updateOn==="submit"&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Wv(n,t){if(!t)return null;Array.isArray(t);let e,r,i;return t.forEach(o=>{o.constructor===we?e=o:oV(o)?r=o:i=o}),i||r||e||null}function aV(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function wS(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function CS(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var lc=class extends aa{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,r){super(zv(e),Hv(r,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),tm(e)&&(e.nonNullable||e.initialValueIsDefault)&&(CS(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){wS(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){wS(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){CS(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var lV=n=>n instanceof lc;var cV={provide:Mr,useExisting:Rt(()=>Lo)},ES=Promise.resolve(),Lo=(()=>{class n extends Mr{_changeDetectorRef;callSetDisabledState;control=new lc;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new J;constructor(e,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Wv(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Gv(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Zf(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){ES.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let r=e.isDisabled.currentValue,i=r!==0&&De(r);ES.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?zS(e,this._parent):[e]}static \u0275fac=function(r){return new(r||n)(D(Fo,9),D(da,10),D(em,10),D(ci,10),D(ee,8),D(ua,8))};static \u0275dir=X({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[tt([cV]),ke,cn]})}return n})(),mn=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=X({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),dV={provide:ci,useExisting:Rt(()=>ur),multi:!0},ur=(()=>{class n extends ca{writeValue(e){let r=e??"";this.setProperty("value",r)}registerOnChange(e){this.onChange=r=>{e(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=gt(n)))(i||n)}})();static \u0275dir=X({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&I("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[tt([dV]),ke]})}return n})(),uV={provide:ci,useExisting:Rt(()=>Rn),multi:!0};var fV=(()=>{class n{_accessors=[];add(e,r){this._accessors.push([e,r])}remove(e){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===e){this._accessors.splice(r,1);return}}select(e){this._accessors.forEach(r=>{this._isSameGroup(r,e)&&r[1]!==e&&r[1].fireUncheck(e.value)})}_isSameGroup(e,r){return e[0].control?e[0]._parent===r._control._parent&&e[1].name===r.name:!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Rn=(()=>{class n extends ca{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=y(ua,{optional:!0})??cc;constructor(e,r,i,o){super(e,r),this._registry=i,this._injector=o}ngOnInit(){this._control=this._injector.get(Mr),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}setDisabledState(e){(this.setDisabledStateFired||e||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",e),this.setDisabledStateFired=!0}fireUncheck(e){this.writeValue(e)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(r){return new(r||n)(D(Bt),D(ve),D(fV),D(Ue))};static \u0275dir=X({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,i){r&1&&I("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[tt([uV]),ke]})}return n})();var Qv=new V(""),mV={provide:Mr,useExisting:Rt(()=>Kv)},Kv=(()=>{class n extends Mr{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(e){}model;update=new J;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,r,i,o,s){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=s,this._setValidators(e),this._setAsyncValidators(r),this.valueAccessor=Wv(this,i)}ngOnChanges(e){if(this._isControlChanged(e)){let r=e.form.previousValue;r&&Yf(r,this,!1),Zf(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Gv(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Yf(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}static \u0275fac=function(r){return new(r||n)(D(da,10),D(em,10),D(ci,10),D(Qv,8),D(ua,8))};static \u0275dir=X({type:n,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[tt([mV]),ke,cn]})}return n})(),pV={provide:Fo,useExisting:Rt(()=>Be)},Be=(()=>{class n extends Fo{callSetDisabledState;get submitted(){return Zr(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=ir(()=>this._submittedReactive());_submittedReactive=Ft(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new J;constructor(e,r,i){super(),this.callSetDisabledState=i,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Xf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let r=this.form.get(e.path);return Zf(r,e,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){Yf(e.control||null,e,!1),aV(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this._submittedReactive.set(!0),sV(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new jv(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new Bv(this.form))}_updateDomValue(){this.directives.forEach(e=>{let r=e.control,i=this.form.get(e.path);r!==i&&(Yf(r||null,e),lV(i)&&(Zf(i,e,this.callSetDisabledState),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let r=this.form.get(e.path);rV(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let r=this.form.get(e.path);r&&iV(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){qv(this.form,this),this._oldForm&&Xf(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(r){return new(r||n)(D(da,10),D(em,10),D(ua,8))};static \u0275dir=X({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&I("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[tt([pV]),ke,cn]})}return n})();var hV={provide:Mr,useExisting:Rt(()=>We)},We=(()=>{class n extends Mr{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new J;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Wv(this,o)}ngOnChanges(e){this._added||this._setUpControl(),Gv(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return zS(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(D(Fo,13),D(da,10),D(em,10),D(ci,10),D(Qv,8))};static \u0275dir=X({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[tt([hV]),ke,cn]})}return n})(),gV={provide:ci,useExisting:Rt(()=>pn),multi:!0};function qS(n,t){return n==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function bV(n){return n.split(":")[0]}var pn=(()=>{class n extends ca{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let r=this._getOptionId(e),i=qS(r,e);this.setProperty("value",i)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){let r=bV(e);return this._optionMap.has(r)?this._optionMap.get(r):e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=gt(n)))(i||n)}})();static \u0275dir=X({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&I("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[tt([gV]),ke]})}return n})(),hn=(()=>{class n{_element;_renderer;_select;id;constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(qS(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(D(ve),D(Bt),D(pn,9))};static \u0275dir=X({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),vV={provide:ci,useExisting:Rt(()=>GS),multi:!0};function xS(n,t){return n==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function _V(n){return n.split(":")[0]}var GS=(()=>{class n extends ca{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let r;if(Array.isArray(e)){let i=e.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],u=this._getOptionValue(l.value);i.push(u)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let u=this._getOptionValue(l.value);i.push(u)}}}this.value=i,e(i)}}_registerOption(e){let r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){let r=_V(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=gt(n)))(i||n)}})();static \u0275dir=X({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&I("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[tt([vV]),ke]})}return n})(),gn=(()=>{class n{_element;_renderer;_select;id;_value;constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(xS(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(xS(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(D(ve),D(Bt),D(GS,9))};static \u0275dir=X({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function WS(n){return typeof n=="number"?n:parseFloat(n)}var QS=(()=>{class n{_validator=qf;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){let r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):qf,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=X({type:n,features:[cn]})}return n})(),yV={provide:da,useExisting:Rt(()=>Zv),multi:!0},Zv=(()=>{class n extends QS{max;inputName="max";normalizeInput=e=>WS(e);createValidator=e=>MS(e);static \u0275fac=(()=>{let e;return function(i){return(e||(e=gt(n)))(i||n)}})();static \u0275dir=X({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&bt("max",i._enabled?i.max:null)},inputs:{max:"max"},standalone:!1,features:[tt([yV]),ke]})}return n})(),wV={provide:da,useExisting:Rt(()=>dc),multi:!0},dc=(()=>{class n extends QS{min;inputName="min";normalizeInput=e=>WS(e);createValidator=e=>TS(e);static \u0275fac=(()=>{let e;return function(i){return(e||(e=gt(n)))(i||n)}})();static \u0275dir=X({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&bt("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[tt([wV]),ke]})}return n})();var KS=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Le({type:n});static \u0275inj=Fe({})}return n})(),$v=class extends aa{constructor(t,e,r){super(zv(e),Hv(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),e&&(this.controls.splice(i,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){$S(this,!1,t),t.forEach((r,i)=>{US(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,r)=>r._syncPendingControls()?!0:e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function SS(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var zt=(()=>{class n{useNonNullable=!1;get nonNullable(){let e=new n;return e.useNonNullable=!0,e}group(e,r=null){let i=this._reduceControls(e),o={};return SS(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new la(i,o)}record(e,r=null){let i=this._reduceControls(e);return new Uv(i,r)}control(e,r,i){let o={};return this.useNonNullable?(SS(r)?o=r:(o.validators=r,o.asyncValidators=i),new lc(e,W(k({},o),{nonNullable:!0}))):new lc(e,r,i)}array(e,r,i){let o=e.map(s=>this._createControl(s));return new $v(o,r,i)}_reduceControls(e){let r={};return Object.keys(e).forEach(i=>{r[i]=this._createControl(e[i])}),r}_createControl(e){if(e instanceof lc)return e;if(e instanceof aa)return e;if(Array.isArray(e)){let r=e[0],i=e.length>1?e[1]:null,o=e.length>2?e[2]:null;return this.control(r,i,o)}else return this.control(e)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ui=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:ua,useValue:e.callSetDisabledState??cc}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Le({type:n});static \u0275inj=Fe({imports:[KS]})}return n})(),Se=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Qv,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:ua,useValue:e.callSetDisabledState??cc}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Le({type:n});static \u0275inj=Fe({imports:[KS]})}return n})();var Tt=[];for(let n=0;n<256;++n)Tt.push((n+256).toString(16).slice(1));function ZS(n,t=0){return(Tt[n[t+0]]+Tt[n[t+1]]+Tt[n[t+2]]+Tt[n[t+3]]+"-"+Tt[n[t+4]]+Tt[n[t+5]]+"-"+Tt[n[t+6]]+Tt[n[t+7]]+"-"+Tt[n[t+8]]+Tt[n[t+9]]+"-"+Tt[n[t+10]]+Tt[n[t+11]]+Tt[n[t+12]]+Tt[n[t+13]]+Tt[n[t+14]]+Tt[n[t+15]]).toLowerCase()}var Yv,CV=new Uint8Array(16);function Jv(){if(!Yv){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Yv=crypto.getRandomValues.bind(crypto)}return Yv(CV)}var EV=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Xv={randomUUID:EV};function xV(n,t,e){if(Xv.randomUUID&&!t&&!n)return Xv.randomUUID();n=n||{};let r=n.random??n.rng?.()??Jv();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){if(e=e||0,e<0||e+16>t.length)throw new RangeError(`UUID byte range ${e}:${e+15} is out of buffer bounds`);for(let i=0;i<16;++i)t[e+i]=r[i];return t}return ZS(r)}var Vo=xV;var Ht=class n{constructor(t){this.supabaseService=t;this.supabase=this.supabaseService.GetClient()}supabase;ngOnInit(){}async addTradeLog(t,e){let r=this.supabaseService.user();if(!r)throw new Error("User not authenticated");t.userid=r.id;let{data:i,error:o}=await this.supabase.from(e).insert([t]);if(o)throw console.error("Error inserting trade log: ",o),o;return typeof window<"u"&&sessionStorage.setItem(`${e}_refresh`,"yes"),i}async getTradeLogs(t){let e=this.supabaseService.user();if(!e)throw new Error("User not authenticated");let r=!1,i=null;if(typeof window<"u"){r=sessionStorage.getItem(`${t}_refresh`)==="yes";let a=sessionStorage.getItem(t);if(a)try{i=JSON.parse(a)}catch(l){console.error("Error parsing cached trade logs:",l),i=null}}if(!r&&i)return i;let{data:o,error:s}=await this.supabase.from(t).select("*").eq("userid",e.id);if(s)throw console.error("Error fetching trade logs:",s),s;return typeof window<"u"&&(sessionStorage.setItem(t,JSON.stringify(o)),sessionStorage.removeItem(`${t}_refresh`)),o}async getTradeLogsOfSelectedAccount(t,e){let r=this.supabaseService.user();if(!r)throw new Error("User not authenticated");let i=`${t}_${e}`,o=`${i}_refresh`,s=!1,a=null;if(typeof window<"u"){s=sessionStorage.getItem(o)==="yes";let m=sessionStorage.getItem(i);if(m)try{a=JSON.parse(m)}catch(p){console.error("Error parsing cached trade logs:",p),a=null}}if(!s&&a)return a;let{data:l,error:u}=await this.supabase.from(t).select("*").eq("userid",r.id).eq("trade_account_id",e);if(u)throw console.error("Error fetching trade logs:",u),u;return typeof window<"u"&&(sessionStorage.setItem(i,JSON.stringify(l)),sessionStorage.removeItem(o)),l}async addTradeLogOfSelectedAccount(t,e,r){let i=this.supabaseService.user();if(!i)throw new Error("User not authenticated");t.userid=i.id;let{data:o,error:s}=await this.supabase.from(e).insert([t]);if(s)throw console.error("Error inserting trade log: ",s),s;return typeof window<"u"&&sessionStorage.setItem(`${e}_${r}_refresh`,"yes"),o}async updateTradeLogOfSelectedAccount(t,e,r){if(!this.supabaseService.user())throw new Error("User not authenticated");let{data:o,error:s}=await this.supabase.from(e).update(t).eq("tradeid",t.tradeid);if(s)throw console.error("Error updating trade log: ",s),s;return typeof window<"u"&&sessionStorage.setItem(`${e}_${r}_refresh`,"yes"),o}async deleteTradeLogOfSelectedAccount(t,e,r){if(!this.supabaseService.user())throw new Error("User not authenticated");let{data:o,error:s}=await this.supabase.from(e).delete().eq("tradeid",t);if(s)throw console.error("Error deleting trade log: ",s),s;return typeof window<"u"&&sessionStorage.setItem(`${e}_${r}_refresh`,"yes"),o}async updateTradeLog(t,e){if(!this.supabaseService.user())throw new Error("User not authenticated");let{data:i,error:o}=await this.supabase.from(e).update(t).eq("tradeid",t.tradeid);if(o)throw console.error("Error updating trade log: ",o),o;return typeof window<"u"&&sessionStorage.setItem(`${e}_refresh`,"yes"),i}async deleteTradeLog(t,e){if(!this.supabaseService.user())throw new Error("User not authenticated");let{data:i,error:o}=await this.supabase.from(e).delete().eq("tradeid",t);if(o)throw console.error("Error deleting trade log: ",o),o;return typeof window<"u"&&sessionStorage.setItem(`${e}_refresh`,"yes"),i}async canLogTrade(){let t=this.supabaseService.user()?.id;if(t===null)throw new Error("User not authenticated");let{data:e,error:r}=await this.supabase.rpc("can_log_trade",{user_id:t});return!r&&e===!0}static \u0275fac=function(e){return new(e||n)(L(Me))};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})};var SV=(n,t)=>({"text-success":n,"text-danger":t});function DV(n,t){if(n&1&&(d(0,"div",138),w(1,"div",139),c()),n&2){let e=E();h(),xn("width",e.calculateFormProgress()+"%")}}function IV(n,t){if(n&1&&(d(0,"span",140),f(1),c()),n&2){let e=E();h(),R("",e.calculateFormProgress(),"% Complete")}}function TV(n,t){n&1&&(d(0,"div",141),f(1," Account name is required "),c())}function MV(n,t){n&1&&(d(0,"div",141),f(1," Please select an instrument type "),c())}function AV(n,t){n&1&&(d(0,"div",141),f(1," Trade symbol is required "),c())}function kV(n,t){n&1&&(d(0,"div",141),f(1," Please select trade direction "),c())}function PV(n,t){n&1&&(d(0,"div",141),f(1," Time frame selection is required "),c())}function OV(n,t){n&1&&(d(0,"div",141),f(1," Please select an analysis type "),c())}function RV(n,t){n&1&&(d(0,"div",141),f(1," Strategy name is required "),c())}function NV(n,t){n&1&&(d(0,"div",141),f(1," Order type is required "),c())}function FV(n,t){n&1&&(d(0,"div",141),f(1," Entry criteria is required (min 10 characters) "),c())}function LV(n,t){n&1&&(d(0,"div",141),f(1," Exit strategy is required (min 10 characters) "),c())}function VV(n,t){n&1&&(d(0,"div",141),f(1," Valid account balance is required "),c())}function jV(n,t){n&1&&(d(0,"div",141),f(1," Position size is required "),c())}function BV(n,t){n&1&&(d(0,"div",141),f(1," Valid entry price is required "),c())}function UV(n,t){n&1&&(d(0,"div",141),f(1," Entry date/time is required "),c())}function $V(n,t){n&1&&(d(0,"div",141),f(1," Stop loss price is required "),c())}function zV(n,t){n&1&&(d(0,"div",141),f(1," Take profit price is required "),c())}function HV(n,t){n&1&&(d(0,"div",141),f(1," Risk percentage is required "),c())}function qV(n,t){n&1&&(d(0,"div",142),w(1,"i",143),f(2," Risk exceeds recommended 2% "),c())}function GV(n,t){n&1&&(d(0,"div",141),f(1," Estimated reward is required "),c())}function WV(n,t){n&1&&(d(0,"div",141),f(1," Please select your emotional state "),c())}function QV(n,t){n&1&&(d(0,"div",142),w(1,"i",143),f(2," Consider if this emotional state might negatively impact your decision making "),c())}function KV(n,t){n&1&&(d(0,"div",144),f(1," Please rate your confidence "),c())}function ZV(n,t){n&1&&(d(0,"div",141),f(1," Please identify potential biases (min 5 characters) "),c())}function YV(n,t){n&1&&(d(0,"li"),f(1,"Complete all required fields in Trade Setup"),c())}function JV(n,t){n&1&&(d(0,"li"),f(1,"Complete all required fields in Strategy Details"),c())}function XV(n,t){n&1&&(d(0,"li"),f(1,"Complete all required fields in Risk Management"),c())}function e3(n,t){n&1&&(d(0,"li"),f(1,"Complete all required fields in Psychological Analysis"),c())}function t3(n,t){if(n&1&&(d(0,"div",145),w(1,"i",146),d(2,"strong"),f(3,"Please fix the errors highlighted above before submitting."),c(),d(4,"ul",147),x(5,YV,2,0,"li",148)(6,JV,2,0,"li",148)(7,XV,2,0,"li",148)(8,e3,2,0,"li",148),c()()),n&2){let e=E();h(5),b("ngIf",e.hasErrors("tradeSetup")),h(),b("ngIf",e.hasErrors("strategyDetails")),h(),b("ngIf",e.hasErrors("riskManagement")),h(),b("ngIf",e.hasErrors("psychologicalAnalysis"))}}function n3(n,t){if(n&1){let e=Q();d(0,"button",149),I("click",function(){T(e);let i=E();return M(i.onCancel())}),w(1,"i",150),f(2,"Cancel "),c()}}function r3(n,t){if(n&1&&(d(0,"div",151),w(1,"i",152),f(2),c()),n&2){let e=E();h(2),R("",e.message," ")}}function i3(n,t){if(n&1&&(d(0,"div",153),w(1,"i",146),f(2),c()),n&2){let e=E();h(2),R("",e.errorMessage," ")}}var fa=class n{constructor(t,e,r){this.fb=t;this.supabaseTradeTableService=e;this.cdr=r}tradeLogData=null;formSubmitted=new J;cancel=new J;preTradeTableName="pretrade";postTradeTableName="posttrade";preTradeForm;postTradeForm;showEmotionalSection=!1;message="";errorMessage="";formSubmitMarker=!1;ngOnInit(){this.formSubmitMarker=!1,this.createForm()}createForm(){var t=Vo();this.preTradeForm=this.fb.group({tradeid:[this.tradeLogData?.tradeid??t],userid:[this.tradeLogData?.userid??"the-db-is-likely-hacked-1234-abcd-5678-efgh"],createdtime:[this.tradeLogData?.createdtime??new Date().toISOString()],accountname:[this.tradeLogData?.accountname??"",N.required],instrumenttype:[this.tradeLogData?.instrumenttype??"",N.required],analysistype:[this.tradeLogData?.analysistype??"",N.required],tradesymbol:[this.tradeLogData?.tradesymbol??"",N.required],tradetype:[this.tradeLogData?.tradetype??"Long",N.required],timeframe:[this.tradeLogData?.timeframe??"Day",N.required],strategyname:[this.tradeLogData?.strategyname??""],typeoforder:[this.tradeLogData?.typeoforder??"",N.required],entrycriteria:[this.tradeLogData?.entrycriteria??""],exitstrategy:[this.tradeLogData?.exitstrategy??""],entrydatetime:[this.tradeLogData?.entrydatetime??""],entryprice:[this.tradeLogData?.entryprice??""],accountbalance:[this.tradeLogData?.accountbalance??null,[N.required,N.min(0)]],positionsize:[this.tradeLogData?.positionsize??"",N.required],estimatedrisk:[this.tradeLogData?.estimatedrisk??null,N.required],estimatedpnl:[this.tradeLogData?.estimatedpnl??null,N.required],estimatedstoploss:[this.tradeLogData?.estimatedstoploss??null,N.required],estimatedtakeprofit:[this.tradeLogData?.estimatedtakeprofit??null,N.required],setupscreenshot:[this.tradeLogData?.setupscreenshot??""],tradeconfidence:[this.tradeLogData?.tradeconfidence??"1"],isopen:!0,emotionalstatebefore:[this.tradeLogData?.emotionalstatebefore??"",N.required],potentialbiases:[this.tradeLogData?.potentialbiases??"",N.required],notes:[this.tradeLogData?.notes??""],updatedtime:[new Date().toISOString()]})}toggleEmotionalSection(){this.showEmotionalSection=!this.showEmotionalSection}onFileSelected(t){let e=t.target;if(!e.files||e.files.length===0)return;let r=e.files[0],i=new FileReader;i.onload=o=>{this.preTradeForm.patchValue({setupscreenshot:o.target.result})},i.readAsDataURL(r)}async onSubmit(){if(this.formSubmitMarker=!0,this.preTradeForm.invalid){this.preTradeForm.markAllAsTouched();return}let t=this.preTradeForm.value;try{this.tradeLogData?await this.supabaseTradeTableService.updateTradeLog(t,this.preTradeTableName):await this.supabaseTradeTableService.addTradeLog(t,this.preTradeTableName),this.message="Trade log updated successfully. Resetting in 5 seconds.",setTimeout(()=>{this.cdr.markForCheck()},0),this.formSubmitted.emit(),this.formSubmitMarker=!1,this.cdr.markForCheck(),setTimeout(()=>{this.preTradeForm.reset(),this.preTradeForm.markAsPristine(),this.message="Form has been reset",this.cdr.markForCheck()},5e3),setTimeout(()=>{this.message="",this.cdr.markForCheck()},3e3)}catch(e){console.error("Error processing trade log:",e),this.errorMessage="Something went wrong.",this.cdr.markForCheck()}}async onDelete(){if(this.tradeLogData)try{await this.supabaseTradeTableService.deleteTradeLog(this.tradeLogData.tradeid,this.preTradeTableName),this.message="Trade log deleted successfully.",this.formSubmitted.emit()}catch(t){console.error("Error deleting trade log:",t),this.errorMessage="Something went wrong while deleting."}finally{this.cdr.markForCheck()}}onCancel(){this.cancel.emit()}calculateFormProgress(){let e=0;return this.preTradeForm.get("accountname")?.valid&&e++,this.preTradeForm.get("instrumenttype")?.valid&&e++,this.preTradeForm.get("tradesymbol")?.valid&&e++,this.preTradeForm.get("tradetype")?.valid&&e++,this.preTradeForm.get("timeframe")?.valid&&e++,this.preTradeForm.get("analysistype")?.valid&&e++,this.preTradeForm.get("strategyname")?.valid&&e++,this.preTradeForm.get("typeoforder")?.valid&&e++,this.preTradeForm.get("entrycriteria")?.valid&&e++,this.preTradeForm.get("exitstrategy")?.valid&&e++,this.preTradeForm.get("accountbalance")?.valid&&e++,this.preTradeForm.get("positionsize")?.valid&&e++,this.preTradeForm.get("entryprice")?.valid&&e++,this.preTradeForm.get("entrydatetime")?.valid&&e++,this.preTradeForm.get("estimatedstoploss")?.valid&&e++,this.preTradeForm.get("estimatedtakeprofit")?.valid&&e++,this.preTradeForm.get("estimatedrisk")?.valid&&e++,this.preTradeForm.get("estimatedpnl")?.valid&&e++,this.preTradeForm.get("emotionalstatebefore")?.valid&&e++,this.preTradeForm.get("tradeConfidence")?.valid&&e++,this.preTradeForm.get("potentialbiases")?.valid&&e++,Math.round(e/18*100)}calculateRiskRewardRatio(){let t=parseFloat(this.preTradeForm.get("estimatedrisk")?.value||"0"),e=parseFloat(this.preTradeForm.get("estimatedpnl")?.value||"0");return t<=0||e<=0?"N/A":`1:${(e/t).toFixed(2)}`}isGoodRiskReward(){let t=parseFloat(this.preTradeForm.get("estimatedrisk")?.value||"0"),e=parseFloat(this.preTradeForm.get("estimatedpnl")?.value||"0");return t<=0||e<=0?!1:e/t>=2}isNegativeEmotionalState(){let t=this.preTradeForm.get("emotionalstatebefore")?.value;return["Anxious","Frustrated","Fearful","Overconfident"].includes(t)}hasErrors(t){switch(t){case"tradeSetup":return this.preTradeForm.get("accountname")?.invalid||this.preTradeForm.get("instrumenttype")?.invalid||this.preTradeForm.get("tradesymbol")?.invalid||this.preTradeForm.get("tradetype")?.invalid||this.preTradeForm.get("timeframe")?.invalid||this.preTradeForm.get("analysistype")?.invalid||!1;case"strategyDetails":return this.preTradeForm.get("strategyname")?.invalid||this.preTradeForm.get("typeoforder")?.invalid||this.preTradeForm.get("entrycriteria")?.invalid||this.preTradeForm.get("exitstrategy")?.invalid||!1;case"riskManagement":return this.preTradeForm.get("accountbalance")?.invalid||this.preTradeForm.get("positionsize")?.invalid||this.preTradeForm.get("entryprice")?.invalid||this.preTradeForm.get("entrydatetime")?.invalid||this.preTradeForm.get("estimatedstoploss")?.invalid||this.preTradeForm.get("estimatedtakeprofit")?.invalid||this.preTradeForm.get("estimatedrisk")?.invalid||this.preTradeForm.get("estimatedpnl")?.invalid||!1;case"psychologicalAnalysis":return this.preTradeForm.get("emotionalstatebefore")?.invalid||this.preTradeForm.get("tradeConfidence")?.invalid||this.preTradeForm.get("potentialbiases")?.invalid||!1;default:return!1}}static \u0275fac=function(e){return new(e||n)(D(zt),D(Ht),D(ee))};static \u0275cmp=j({type:n,selectors:[["app-pre-trade-log"]],inputs:{tradeLogData:"tradeLogData"},outputs:{formSubmitted:"formSubmitted",cancel:"cancel"},decls:332,vars:40,consts:[[1,"container","my-4"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item","text-decoration-none"],["routerLink","/home"],[3,"click"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row","mb-4"],[1,"col-lg-8"],[1,"mb-2"],[1,"text-muted"],[1,"col-lg-4","text-lg-end","d-flex","align-items-center","justify-content-lg-end","mt-3","mt-lg-0"],["class","progress w-100","style","height: 8px;",4,"ngIf"],["class","ms-2 small text-muted",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"card","mb-4","shadow-sm"],[1,"card-header","bg-light","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"bi","bi-1-circle","me-2"],[1,"badge","bg-primary"],[1,"card-body"],[1,"row","g-3"],[1,"col-md-6"],["for","accountname",1,"form-label"],[1,"input-group"],[1,"input-group-text"],[1,"bi","bi-person"],["type","text","id","accountname","formControlName","accountname","placeholder","Enter your account name",1,"form-control"],["class","text-danger mt-1 small",4,"ngIf"],["for","instrumenttype",1,"form-label"],["id","instrumenttype","formControlName","instrumenttype",1,"form-select"],["value","","selected","","disabled",""],["value","Forex"],["value","Stocks"],["value","Futures"],["value","Crypto"],["value","Options"],["value","ETF"],["value","Other"],["for","tradesymbol",1,"form-label"],[1,"bi","bi-tag"],["type","text","id","tradesymbol","formControlName","tradesymbol","placeholder","Enter ticker symbol",1,"form-control"],["for","tradetype",1,"form-label"],["role","group","aria-label","Trade type",1,"btn-group","w-100"],["type","radio","name","tradetype","id","tradetype_long","value","Long","formControlName","tradetype",1,"btn-check"],["for","tradetype_long",1,"btn","btn-outline-success"],["type","radio","name","tradetype","id","tradetype_short","value","Short","formControlName","tradetype",1,"btn-check"],["for","tradetype_short",1,"btn","btn-outline-danger"],["for","timeframe",1,"form-label"],["id","timeframe","formControlName","timeframe",1,"form-select"],["value","Scalp"],["value","Day"],["value","Swing"],["value","Position"],["value","LongTerm"],["for","analysistype",1,"form-label"],["id","analysistype","formControlName","analysistype",1,"form-select"],["value","Technical"],["value","Fundamental"],["value","Both"],["value","Sentiment"],[1,"bi","bi-2-circle","me-2"],["for","strategyname",1,"form-label"],["type","text","id","strategyname","formControlName","strategyname","placeholder","e.g., Breakout, Reversal, Trend Following",1,"form-control"],["for","typeoforder",1,"form-label"],["id","typeoforder","formControlName","typeoforder",1,"form-select"],["value","Market"],["value","Limit"],["value","Stop"],["value","StopLimit"],["value","TrailingStop"],[1,"col-12"],["for","entrycriteria",1,"form-label"],["id","entrycriteria","formControlName","entrycriteria","placeholder","Describe your specific entry conditions (e.g., technical indicators, patterns, fundamental factors)","rows","3",1,"form-control"],[1,"form-text"],["for","exitstrategy",1,"form-label"],["id","exitstrategy","formControlName","exitstrategy","placeholder","Define your profit targets and stop loss levels","rows","3",1,"form-control"],[1,"bi","bi-3-circle","me-2"],["for","accountbalance",1,"form-label"],["type","number","step","0.01","min","0","id","accountbalance","formControlName","accountbalance","placeholder","Current account value",1,"form-control"],["for","positionsize",1,"form-label"],["type","text","id","positionsize","formControlName","positionsize","placeholder","Units/Contracts/Shares",1,"form-control"],["type","button","data-bs-toggle","tooltip","title","Calculate based on risk",1,"btn","btn-outline-secondary"],["for","entryprice",1,"form-label"],["type","number","id","entryprice","formControlName","entryprice","step","0.01","min","0","placeholder","Planned entry price",1,"form-control"],["for","entrydatetime",1,"form-label"],["type","datetime-local","id","entrydatetime","formControlName","entrydatetime",1,"form-control"],["for","estimatedstoploss",1,"form-label"],["type","number","step","0.01","min","0","id","estimatedstoploss","formControlName","estimatedstoploss","placeholder","Stop loss price level",1,"form-control"],["for","estimatedtakeprofit",1,"form-label"],["type","number","step","0.01","min","0","id","estimatedtakeprofit","formControlName","estimatedtakeprofit","placeholder","Target price level",1,"form-control"],[1,"mb-3"],[1,"col-md-4"],["for","estimatedrisk",1,"form-label"],["type","number","step","0.01","min","0","max","100","id","estimatedrisk","formControlName","estimatedrisk","placeholder","1-2% recommended",1,"form-control"],["class","text-warning mt-1 small",4,"ngIf"],["for","estimatedpnl",1,"form-label"],["type","number","step","0.01","min","0","id","estimatedpnl","formControlName","estimatedpnl","placeholder","Expected % gain",1,"form-control"],[1,"form-label"],["type","text","readonly","",1,"form-control","bg-light",3,"value"],[1,"form-text",3,"ngClass"],[1,"bi","bi-5-circle","me-2"],["for","emotionalstatebefore",1,"form-label"],["id","emotionalstatebefore","formControlName","emotionalstatebefore",1,"form-select"],["value","Calm"],["value","Excited"],["value","Anxious"],["value","Frustrated"],["value","Overconfident"],["value","Fearful"],["value","Neutral"],[1,"form-label","d-block"],["role","group",1,"btn-group","w-100"],["type","radio","formControlName","tradeconfidence","id","confidence1","value","1",1,"btn-check"],["for","confidence1",1,"btn","btn-outline-danger"],["type","radio","formControlName","tradeconfidence","id","confidence2","value","2",1,"btn-check"],["for","confidence2",1,"btn","btn-outline-warning"],["type","radio","formControlName","tradeconfidence","id","confidence3","value","3",1,"btn-check"],["for","confidence3",1,"btn","btn-outline-secondary"],["type","radio","formControlName","tradeconfidence","id","confidence4","value","4",1,"btn-check"],["for","confidence4",1,"btn","btn-outline-primary"],["type","radio","formControlName","tradeconfidence","id","confidence5","value","5",1,"btn-check"],["for","confidence5",1,"btn","btn-outline-success"],[1,"form-text","text-center","mt-1"],["class","text-danger mt-1 small text-center",4,"ngIf"],["for","potentialbiases",1,"form-label"],["id","potentialbiases","formControlName","potentialbiases","placeholder","What biases might affect your decision? (e.g., revenge trading, FOMO, overconfidence)","rows","3",1,"form-control"],[1,"bi","bi-6-circle","me-2"],[1,"badge","bg-secondary"],["for","notes",1,"form-label"],["id","notes","formControlName","notes","placeholder","Any additional information or context for this trade","rows","3",1,"form-control"],["class","alert alert-danger mb-3",4,"ngIf"],[1,"d-flex","justify-content-between","align-items-center","mt-4"],["type","button","class","btn btn-outline-secondary",3,"click",4,"ngIf"],["type","submit",1,"btn","btn-success"],[1,"bi","bi-check-circle","me-1"],["class","alert alert-success mt-3",4,"ngIf"],["class","alert alert-danger mt-3",4,"ngIf"],[1,"progress","w-100",2,"height","8px"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-success"],[1,"ms-2","small","text-muted"],[1,"text-danger","mt-1","small"],[1,"text-warning","mt-1","small"],[1,"bi","bi-exclamation-triangle"],[1,"text-danger","mt-1","small","text-center"],[1,"alert","alert-danger","mb-3"],[1,"bi","bi-exclamation-triangle-fill","me-2"],[1,"mb-0","mt-2"],[4,"ngIf"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"bi","bi-x-circle","me-1"],[1,"alert","alert-success","mt-3"],[1,"bi","bi-check-circle-fill","me-2"],[1,"alert","alert-danger","mt-3"]],template:function(e,r){if(e&1&&(d(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),f(5,"Dashboard"),c()(),d(6,"li",3)(7,"a",5),I("click",function(){return r.onCancel()}),f(8,"Pre-Trade Logs"),c()(),d(9,"li",6),f(10,"Pre-Trading Journal"),c()()(),d(11,"div",7)(12,"div",8)(13,"h2",9),f(14),c(),d(15,"p",10),f(16,"Document your strategy before entering positions to maintain discipline and clarity"),c()(),d(17,"div",11),x(18,DV,2,2,"div",12)(19,IV,2,1,"span",13),c()(),d(20,"form",14),I("ngSubmit",function(){return r.onSubmit()}),d(21,"div",15)(22,"div",16)(23,"h5",17),w(24,"i",18),f(25,"Trade Setup "),c(),d(26,"span",19),f(27,"Required"),c()(),d(28,"div",20)(29,"div",21)(30,"div",22)(31,"label",23),f(32,"Account Name"),c(),d(33,"div",24)(34,"span",25),w(35,"i",26),c(),w(36,"input",27),c(),x(37,TV,2,0,"div",28),c(),d(38,"div",22)(39,"label",29),f(40,"Instrument Type"),c(),d(41,"select",30)(42,"option",31),f(43,"Choose instrument type"),c(),d(44,"option",32),f(45,"Forex"),c(),d(46,"option",33),f(47,"Stocks"),c(),d(48,"option",34),f(49,"Futures"),c(),d(50,"option",35),f(51,"Crypto"),c(),d(52,"option",36),f(53,"Options"),c(),d(54,"option",37),f(55,"ETF"),c(),d(56,"option",38),f(57,"Other"),c()(),x(58,MV,2,0,"div",28),c(),d(59,"div",22)(60,"label",39),f(61,"Trade Symbol"),c(),d(62,"div",24)(63,"span",25),w(64,"i",40),c(),w(65,"input",41),c(),x(66,AV,2,0,"div",28),c(),d(67,"div",22)(68,"label",42),f(69,"Trade Direction"),c(),d(70,"div",43),w(71,"input",44),d(72,"label",45),f(73,"Long"),c(),w(74,"input",46),d(75,"label",47),f(76,"Short"),c()(),x(77,kV,2,0,"div",28),c(),d(78,"div",22)(79,"label",48),f(80,"Time Frame"),c(),d(81,"select",49)(82,"option",31),f(83,"Select time frame"),c(),d(84,"option",50),f(85,"Scalp (minutes)"),c(),d(86,"option",51),f(87,"Day Trade (hours)"),c(),d(88,"option",52),f(89,"Swing (days-weeks)"),c(),d(90,"option",53),f(91,"Position (weeks-months)"),c(),d(92,"option",54),f(93,"Long Term (months+)"),c()(),x(94,PV,2,0,"div",28),c(),d(95,"div",22)(96,"label",55),f(97,"Analysis Type"),c(),d(98,"select",56)(99,"option",31),f(100,"Choose analysis method"),c(),d(101,"option",57),f(102,"Technical"),c(),d(103,"option",58),f(104,"Fundamental"),c(),d(105,"option",59),f(106,"Both"),c(),d(107,"option",60),f(108,"Sentiment"),c(),d(109,"option",38),f(110,"Other"),c()(),x(111,OV,2,0,"div",28),c()()()(),d(112,"div",15)(113,"div",16)(114,"h5",17),w(115,"i",61),f(116,"Strategy Details "),c(),d(117,"span",19),f(118,"Required"),c()(),d(119,"div",20)(120,"div",21)(121,"div",22)(122,"label",62),f(123,"Strategy Name"),c(),w(124,"input",63),x(125,RV,2,0,"div",28),c(),d(126,"div",22)(127,"label",64),f(128,"Type of Order"),c(),d(129,"select",65)(130,"option",31),f(131,"Choose order type"),c(),d(132,"option",66),f(133,"Market"),c(),d(134,"option",67),f(135,"Limit"),c(),d(136,"option",68),f(137,"Stop"),c(),d(138,"option",69),f(139,"Stop Limit"),c(),d(140,"option",70),f(141,"Trailing Stop"),c()(),x(142,NV,2,0,"div",28),c(),d(143,"div",71)(144,"label",72),f(145,"Entry Criteria "),d(146,"span",10),f(147,"(Why are you taking this trade?)"),c()(),w(148,"textarea",73),d(149,"div",74),f(150,"Be specific about what signals or conditions must be met for entry."),c(),x(151,FV,2,0,"div",28),c(),d(152,"div",71)(153,"label",75),f(154,"Exit Strategy "),d(155,"span",10),f(156,"(How will you close this position?)"),c()(),w(157,"textarea",76),d(158,"div",74),f(159,"Include both profit-taking and loss-cutting criteria."),c(),x(160,LV,2,0,"div",28),c()()()(),d(161,"div",15)(162,"div",16)(163,"h5",17),w(164,"i",77),f(165,"Risk Management "),c(),d(166,"span",19),f(167,"Required"),c()(),d(168,"div",20)(169,"div",21)(170,"div",22)(171,"label",78),f(172,"Account Balance"),c(),d(173,"div",24)(174,"span",25),f(175,"$"),c(),w(176,"input",79),c(),x(177,VV,2,0,"div",28),c(),d(178,"div",22)(179,"label",80),f(180,"Position Size"),c(),d(181,"div",24),w(182,"input",81),d(183,"button",82),f(184,"Calculate"),c()(),x(185,jV,2,0,"div",28),c(),d(186,"div",22)(187,"label",83),f(188,"Entry Price"),c(),d(189,"div",24)(190,"span",25),f(191,"$"),c(),w(192,"input",84),c(),x(193,BV,2,0,"div",28),c(),d(194,"div",22)(195,"label",85),f(196,"Entry Date/Time"),c(),w(197,"input",86),x(198,UV,2,0,"div",28),c(),d(199,"div",22)(200,"label",87),f(201,"Stop Loss Price"),c(),d(202,"div",24)(203,"span",25),f(204,"$"),c(),w(205,"input",88),c(),x(206,$V,2,0,"div",28),c(),d(207,"div",22)(208,"label",89),f(209,"Take Profit Price"),c(),d(210,"div",24)(211,"span",25),f(212,"$"),c(),w(213,"input",90),c(),x(214,zV,2,0,"div",28),c(),d(215,"div",71),w(216,"hr"),d(217,"h6",91),f(218,"Risk/Reward Analysis"),c()(),d(219,"div",92)(220,"label",93),f(221,"Risk Per Trade"),c(),d(222,"div",24),w(223,"input",94),d(224,"span",25),f(225,"%"),c()(),d(226,"div",74),f(227,"Percentage of account at risk"),c(),x(228,HV,2,0,"div",28)(229,qV,3,0,"div",95),c(),d(230,"div",92)(231,"label",96),f(232,"Estimated Reward"),c(),d(233,"div",24),w(234,"input",97),d(235,"span",25),f(236,"%"),c()(),x(237,GV,2,0,"div",28),c(),d(238,"div",92)(239,"label",98),f(240,"Risk/Reward Ratio"),c(),d(241,"div",24),w(242,"input",99),d(243,"span",25),f(244,"R:R"),c()(),d(245,"div",100),w(246,"i"),f(247),c()()()()(),d(248,"div",15)(249,"div",16)(250,"h5",17),w(251,"i",101),f(252,"Psychological Analysis "),c(),d(253,"span",19),f(254,"Required"),c()(),d(255,"div",20)(256,"div",21)(257,"div",22)(258,"label",102),f(259,"Current Emotional State"),c(),d(260,"select",103)(261,"option",31),f(262,"How are you feeling?"),c(),d(263,"option",104),f(264,"Calm & Focused"),c(),d(265,"option",105),f(266,"Excited"),c(),d(267,"option",106),f(268,"Anxious"),c(),d(269,"option",107),f(270,"Frustrated"),c(),d(271,"option",108),f(272,"Overconfident"),c(),d(273,"option",109),f(274,"Fearful"),c(),d(275,"option",110),f(276,"Neutral"),c(),d(277,"option",38),f(278,"Other"),c()(),x(279,WV,2,0,"div",28)(280,QV,3,0,"div",95),c(),d(281,"div",22)(282,"label",111),f(283,"Trading Confidence"),c(),d(284,"div",112),w(285,"input",113),d(286,"label",114),f(287,"1"),c(),w(288,"input",115),d(289,"label",116),f(290,"2"),c(),w(291,"input",117),d(292,"label",118),f(293,"3"),c(),w(294,"input",119),d(295,"label",120),f(296,"4"),c(),w(297,"input",121),d(298,"label",122),f(299,"5"),c()(),d(300,"div",123),f(301,"Low (1) to High (5)"),c(),x(302,KV,2,0,"div",124),c(),d(303,"div",71)(304,"label",125),f(305,"Potential Biases"),c(),w(306,"textarea",126),d(307,"div",74),f(308,"Identifying biases helps improve future decision making"),c(),x(309,ZV,2,0,"div",28),c()()()(),d(310,"div",15)(311,"div",16)(312,"h5",17),w(313,"i",127),f(314,"Additional Notes "),c(),d(315,"span",128),f(316,"Optional"),c()(),d(317,"div",20)(318,"div",21)(319,"div",71)(320,"label",129),f(321,"Notes"),c(),w(322,"textarea",130),c()()()(),x(323,t3,9,4,"div",131),d(324,"div",132),x(325,n3,3,0,"button",133),d(326,"div")(327,"button",134),w(328,"i",135),f(329),c()()(),x(330,r3,3,1,"div",136)(331,i3,3,1,"div",137),c()()),e&2){let i,o,s,a,l,u,m,p,v,g,_,C,S,A,F,B,H,Y,Ae,Oe,Ze,en;h(14),U(r.tradeLogData?"Edit Pre-Trading Journal":"Create Pre-Trading Journal"),h(4),b("ngIf",!r.tradeLogData),h(),b("ngIf",!r.tradeLogData),h(),b("formGroup",r.preTradeForm),h(17),b("ngIf",((i=r.preTradeForm.get("accountname"))==null?null:i.invalid)&&(((i=r.preTradeForm.get("accountname"))==null?null:i.dirty)||((i=r.preTradeForm.get("accountname"))==null?null:i.touched)||r.formSubmitMarker)),h(21),b("ngIf",((o=r.preTradeForm.get("instrumenttype"))==null?null:o.invalid)&&(((o=r.preTradeForm.get("instrumenttype"))==null?null:o.dirty)||((o=r.preTradeForm.get("instrumenttype"))==null?null:o.touched)||r.formSubmitMarker)),h(8),b("ngIf",((s=r.preTradeForm.get("tradesymbol"))==null?null:s.invalid)&&(((s=r.preTradeForm.get("tradesymbol"))==null?null:s.dirty)||((s=r.preTradeForm.get("tradesymbol"))==null?null:s.touched)||r.formSubmitMarker)),h(11),b("ngIf",((a=r.preTradeForm.get("tradetype"))==null?null:a.invalid)&&(((a=r.preTradeForm.get("tradetype"))==null?null:a.dirty)||((a=r.preTradeForm.get("tradetype"))==null?null:a.touched)||r.formSubmitMarker)),h(17),b("ngIf",((l=r.preTradeForm.get("timeframe"))==null?null:l.invalid)&&(((l=r.preTradeForm.get("timeframe"))==null?null:l.dirty)||((l=r.preTradeForm.get("timeframe"))==null?null:l.touched)||r.formSubmitMarker)),h(17),b("ngIf",((u=r.preTradeForm.get("analysistype"))==null?null:u.invalid)&&(((u=r.preTradeForm.get("analysistype"))==null?null:u.dirty)||((u=r.preTradeForm.get("analysistype"))==null?null:u.touched)||r.formSubmitMarker)),h(14),b("ngIf",((m=r.preTradeForm.get("strategyname"))==null?null:m.invalid)&&(((m=r.preTradeForm.get("strategyname"))==null?null:m.dirty)||((m=r.preTradeForm.get("strategyname"))==null?null:m.touched)||r.formSubmitMarker)),h(17),b("ngIf",((p=r.preTradeForm.get("typeoforder"))==null?null:p.invalid)&&(((p=r.preTradeForm.get("typeoforder"))==null?null:p.dirty)||((p=r.preTradeForm.get("typeoforder"))==null?null:p.touched)||r.formSubmitMarker)),h(9),b("ngIf",((v=r.preTradeForm.get("entrycriteria"))==null?null:v.invalid)&&(((v=r.preTradeForm.get("entrycriteria"))==null?null:v.dirty)||((v=r.preTradeForm.get("entrycriteria"))==null?null:v.touched)||r.formSubmitMarker)),h(9),b("ngIf",((g=r.preTradeForm.get("exitstrategy"))==null?null:g.invalid)&&(((g=r.preTradeForm.get("exitstrategy"))==null?null:g.dirty)||((g=r.preTradeForm.get("exitstrategy"))==null?null:g.touched)||r.formSubmitMarker)),h(17),b("ngIf",((_=r.preTradeForm.get("accountbalance"))==null?null:_.invalid)&&(((_=r.preTradeForm.get("accountbalance"))==null?null:_.dirty)||((_=r.preTradeForm.get("accountbalance"))==null?null:_.touched)||r.formSubmitMarker)),h(8),b("ngIf",((C=r.preTradeForm.get("positionsize"))==null?null:C.invalid)&&(((C=r.preTradeForm.get("positionsize"))==null?null:C.dirty)||((C=r.preTradeForm.get("positionsize"))==null?null:C.touched)||r.formSubmitMarker)),h(8),b("ngIf",((S=r.preTradeForm.get("entryprice"))==null?null:S.invalid)&&(((S=r.preTradeForm.get("entryprice"))==null?null:S.dirty)||((S=r.preTradeForm.get("entryprice"))==null?null:S.touched)||r.formSubmitMarker)),h(5),b("ngIf",((A=r.preTradeForm.get("entrydatetime"))==null?null:A.invalid)&&(((A=r.preTradeForm.get("entrydatetime"))==null?null:A.dirty)||((A=r.preTradeForm.get("entrydatetime"))==null?null:A.touched)||r.formSubmitMarker)),h(8),b("ngIf",((F=r.preTradeForm.get("estimatedstoploss"))==null?null:F.invalid)&&(((F=r.preTradeForm.get("estimatedstoploss"))==null?null:F.dirty)||((F=r.preTradeForm.get("estimatedstoploss"))==null?null:F.touched)||r.formSubmitMarker)),h(8),b("ngIf",((B=r.preTradeForm.get("estimatedtakeprofit"))==null?null:B.invalid)&&(((B=r.preTradeForm.get("estimatedtakeprofit"))==null?null:B.dirty)||((B=r.preTradeForm.get("estimatedtakeprofit"))==null?null:B.touched)||r.formSubmitMarker)),h(14),b("ngIf",((H=r.preTradeForm.get("estimatedrisk"))==null?null:H.invalid)&&(((H=r.preTradeForm.get("estimatedrisk"))==null?null:H.dirty)||((H=r.preTradeForm.get("estimatedrisk"))==null?null:H.touched)||r.formSubmitMarker)),h(),b("ngIf",((Y=r.preTradeForm.get("estimatedrisk"))==null?null:Y.value)>2),h(8),b("ngIf",((Ae=r.preTradeForm.get("estimatedpnl"))==null?null:Ae.invalid)&&(((Ae=r.preTradeForm.get("estimatedpnl"))==null?null:Ae.dirty)||((Ae=r.preTradeForm.get("estimatedpnl"))==null?null:Ae.touched)||r.formSubmitMarker)),h(5),b("value",r.calculateRiskRewardRatio()),h(3),b("ngClass",Dn(37,SV,r.isGoodRiskReward(),!r.isGoodRiskReward())),h(),Er(r.isGoodRiskReward()?"bi bi-check-circle":"bi bi-x-circle"),h(),R(" ",r.isGoodRiskReward()?"Good risk/reward ratio":"Risk/reward should be at least 1:2"," "),h(32),b("ngIf",((Oe=r.preTradeForm.get("emotionalstatebefore"))==null?null:Oe.invalid)&&(((Oe=r.preTradeForm.get("emotionalstatebefore"))==null?null:Oe.dirty)||((Oe=r.preTradeForm.get("emotionalstatebefore"))==null?null:Oe.touched)||r.formSubmitMarker)),h(),b("ngIf",r.isNegativeEmotionalState()),h(22),b("ngIf",((Ze=r.preTradeForm.get("tradeconfidence"))==null?null:Ze.invalid)&&(((Ze=r.preTradeForm.get("tradeconfidence"))==null?null:Ze.dirty)||((Ze=r.preTradeForm.get("tradeconfidence"))==null?null:Ze.touched)||r.formSubmitMarker)),h(7),b("ngIf",((en=r.preTradeForm.get("potentialbiases"))==null?null:en.invalid)&&(((en=r.preTradeForm.get("potentialbiases"))==null?null:en.dirty)||((en=r.preTradeForm.get("potentialbiases"))==null?null:en.touched)||r.formSubmitMarker)),h(14),b("ngIf",r.formSubmitMarker&&r.preTradeForm.invalid),h(2),b("ngIf",r.tradeLogData),h(4),R("",r.tradeLogData?"Update":"Submit"," "),h(),b("ngIf",r.message),h(),b("ngIf",r.errorMessage)}},dependencies:[G,un,ue,Se,mn,hn,gn,we,ur,pn,Rn,xe,ze,dc,Zv,Be,We,Ke],styles:[".card[_ngcontent-%COMP%]{border-radius:8px;box-shadow:0 2px 5px #0000000d;border:1px solid rgba(0,0,0,.1);color:#000}.card-header[_ngcontent-%COMP%]{background-color:#f8f9fa;border-bottom:1px solid rgba(0,0,0,.1);padding:12px 16px}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{border-radius:6px;padding:10px 12px;background-color:#f9f9f9;border:1px solid #ced4da}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{background-color:#fff;border-color:#80bdff;box-shadow:0 0 0 .25rem #0d6efd40}textarea.form-control[_ngcontent-%COMP%]{resize:vertical}.btn[_ngcontent-%COMP%]{padding:8px 16px;border-radius:6px;font-weight:500}.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#dc3545}"]})};function o3(n,t){n&1&&(d(0,"div",12),f(1,"Loading trade logs..."),c())}function s3(n,t){if(n&1&&(d(0,"div",13),f(1),c()),n&2){let e=E();h(),U(e.errorMessage)}}function a3(n,t){if(n&1){let e=Q();d(0,"div",16)(1,"div",17),I("click",function(){let i=T(e).$implicit,o=E(2);return M(o.openEditModal(i))}),d(2,"div",18),w(3,"i",19),f(4," Planned "),c(),d(5,"div",20),I("click",function(i){let o=T(e).$implicit,s=E(2);return M(s.onDeleteTradeLog(o,i))}),w(6,"i",21),c(),d(7,"div",22)(8,"h4",23),f(9),c(),d(10,"h5",24),f(11),c(),d(12,"div",25)(13,"div",26)(14,"div",27)(15,"strong"),f(16,"Analysis:"),c(),f(17),c(),d(18,"div",27)(19,"strong"),f(20,"Order:"),c(),f(21),c()(),d(22,"div",26)(23,"div",27)(24,"strong"),f(25,"Stop Loss:"),c(),f(26),c(),d(27,"div",27)(28,"strong"),f(29,"Take Profit:"),c(),f(30),c()(),d(31,"div",26)(32,"div",27)(33,"strong"),f(34,"Risk:"),c(),f(35),c(),d(36,"div",27)(37,"strong"),f(38,"Est. PnL:"),c(),f(39),c()(),d(40,"div",28)(41,"div",29)(42,"strong"),f(43,"Account:"),c(),f(44),c()()(),d(45,"div",30)(46,"small",31),f(47),vt(48,"date"),c()()()()()}if(n&2){let e=t.$implicit;h(9),U(e.tradesymbol),h(2),sl(" ",e.tradetype," | ",e.instrumenttype," "),h(6),R(" ",e.analysistype," "),h(4),R(" ",e.typeoforder," "),h(5),R(" ",e.estimatedstoploss," "),h(4),R(" ",e.estimatedtakeprofit," "),h(5),R(" ",e.estimatedrisk," "),h(4),R(" ",e.estimatedpnl," "),h(5),R(" ",e.accountname," "),h(3),U(_t(48,11,e.createdtime,"medium"))}}function l3(n,t){if(n&1&&(d(0,"div",14),x(1,a3,49,14,"div",15),c()),n&2){let e=E();h(),b("ngForOf",e.tradeLogs)}}function c3(n,t){n&1&&(d(0,"div",32),f(1," No trade logs found. "),c())}function d3(n,t){if(n&1){let e=Q();d(0,"div",33),I("click",function(i){T(e);let o=E();return M(o.closeModalOnOverlayClick(i))}),d(1,"div",34),I("click",function(i){return T(e),M(i.stopPropagation())}),d(2,"app-pre-trade-log",35),I("formSubmitted",function(){T(e);let i=E();return M(i.onFormSubmitted())})("cancel",function(){T(e);let i=E();return M(i.closeModal())}),c()()()}if(n&2){let e=E();h(2),b("tradeLogData",e.selectedTradeLog)}}var nm=class n{constructor(t,e){this.supabaseTradeTableService=t;this.cdr=e}tableName="pretrade";tradeLogs=[];loading=!1;errorMessage="";showModal=!1;selectedTradeLog=null;async ngOnInit(){this.loading=!0,await this.fetchTradeLogs(),this.loading=!1,this.cdr.markForCheck()}async fetchTradeLogs(){try{this.tradeLogs=await this.supabaseTradeTableService.getTradeLogs(this.tableName)}catch(t){console.error("Error fetching trade logs:",t),this.errorMessage="Error fetching trade logs."}}openEditModal(t){this.selectedTradeLog=t,this.showModal=!0}onFormSubmitted(){this.fetchTradeLogs(),this.closeModal()}closeModal(){this.showModal=!1,this.selectedTradeLog=null,this.cdr.markForCheck()}closeModalOnOverlayClick(t){this.closeModal(),this.cdr.markForCheck()}async onDeleteTradeLog(t,e){e.stopPropagation();try{await this.supabaseTradeTableService.deleteTradeLog(t.tradeid,this.tableName),await this.fetchTradeLogs(),this.cdr.markForCheck()}catch(r){console.error("Error deleting trade log:",r),this.errorMessage="Error deleting trade log."}}static \u0275fac=function(e){return new(e||n)(D(Ht),D(ee))};static \u0275cmp=j({type:n,selectors:[["app-pre-trade-table"]],decls:18,vars:5,consts:[[1,"container","mt-3"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item","text-decoration-none"],["routerLink","/home"],["aria-current","page",1,"breadcrumb-item","active"],["routerLink","/pretradelog"],["class","alert alert-info",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["class","row mt-5",4,"ngIf"],["class","alert alert-warning",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"alert","alert-info"],[1,"alert","alert-danger"],[1,"row","mt-5"],["class","col-md-4 col-12 mb-4",4,"ngFor","ngForOf"],[1,"col-md-4","col-12","mb-4"],[1,"card","h-100","position-relative","shadow",2,"cursor","pointer",3,"click"],[1,"trade-status-indicator","status-planned"],[1,"bi","bi-clipboard-check"],[1,"delete-icon",3,"click"],[1,"bi","bi-trash"],[1,"card-body"],[1,"card-title","mt-5"],[1,"card-subtitle","mb-3","text-muted","fw-bold"],[1,"card-text"],[1,"row","mb-2"],[1,"col-6"],[1,"row"],[1,"col-12"],[1,"mt-3"],[1,"text-muted"],[1,"alert","alert-warning"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[3,"formSubmitted","cancel","tradeLogData"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),f(5,"Dashboard"),c()(),d(6,"li",5),f(7,"Pre-Trade Logs"),c(),d(8,"li",3)(9,"a",6),f(10,"Pre-Trading Journal"),c()()()(),d(11,"h2"),f(12,"Pre Trade Logs"),c(),x(13,o3,2,0,"div",7)(14,s3,2,1,"div",8)(15,l3,2,1,"div",9)(16,c3,2,0,"div",10),c(),x(17,d3,3,1,"div",11)),e&2&&(h(13),b("ngIf",r.loading),h(),b("ngIf",r.errorMessage),h(),b("ngIf",r.tradeLogs&&r.tradeLogs.length),h(),b("ngIf",!r.loading&&(!r.tradeLogs||r.tradeLogs.length===0)),h(),b("ngIf",r.showModal))},dependencies:[Ke,G,nt,ue,Sr,fa],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;max-width:90%;max-height:90%;overflow:auto;position:relative}.card[_ngcontent-%COMP%]{position:relative;border:none;transition:all .2s ease;border-left:4px solid #6c757d!important}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 20px #0000001a!important}.delete-icon[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;display:none;color:#dc3545;background:#fffc;border-radius:50%;padding:5px;z-index:10}.card[_ngcontent-%COMP%]:hover   .delete-icon[_ngcontent-%COMP%]{display:block}.delete-icon[_ngcontent-%COMP%]:hover{cursor:pointer}.trade-status-indicator[_ngcontent-%COMP%]{position:absolute;top:8px;left:8px;padding:5px 10px;border-radius:12px;font-size:.8rem;font-weight:700;z-index:10;color:#fff}.status-planned[_ngcontent-%COMP%]{background-color:#6c757d}.trade-status-indicator[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:3px}"],changeDetection:0})};function u3(n,t){if(n&1&&(d(0,"div",131),w(1,"div",132),c()),n&2){let e=E();h(),xn("width",e.calculateFormProgress()+"%")}}function f3(n,t){if(n&1&&(d(0,"span",133),f(1),c()),n&2){let e=E();h(),R("",e.calculateFormProgress(),"% Complete")}}function m3(n,t){n&1&&(d(0,"div",134),f(1," Account name is required "),c())}function p3(n,t){n&1&&(d(0,"div",134),f(1," Please select an instrument type "),c())}function h3(n,t){n&1&&(d(0,"div",134),f(1," Please select an analysis type "),c())}function g3(n,t){n&1&&(d(0,"div",134),f(1," Trade symbol is required "),c())}function b3(n,t){n&1&&(d(0,"div",134),f(1," Please select trade direction "),c())}function v3(n,t){n&1&&(d(0,"div",134),f(1," Time frame selection is required "),c())}function _3(n,t){n&1&&(d(0,"div",134),f(1," Strategy name is required "),c())}function y3(n,t){n&1&&(d(0,"div",134),f(1," Order type is required "),c())}function w3(n,t){n&1&&(d(0,"div",134),f(1," Entry date/time is required "),c())}function C3(n,t){n&1&&(d(0,"div",134),f(1," Exit date/time is required "),c())}function E3(n,t){n&1&&(d(0,"div",134),f(1," Valid entry price is required "),c())}function x3(n,t){n&1&&(d(0,"div",134),f(1," Valid exit price is required "),c())}function S3(n,t){n&1&&(d(0,"div",134),f(1," Position size is required "),c())}function D3(n,t){n&1&&(d(0,"div",134),f(1," Please select trade outcome "),c())}function I3(n,t){n&1&&(d(0,"li"),f(1,"Complete all required fields in Trade Details"),c())}function T3(n,t){n&1&&(d(0,"li"),f(1,"Complete all required fields in Strategy Information"),c())}function M3(n,t){n&1&&(d(0,"li"),f(1,"Complete all required fields in Trade Execution"),c())}function A3(n,t){n&1&&(d(0,"li"),f(1,"Complete all required fields in Trade Outcome"),c())}function k3(n,t){n&1&&(d(0,"li"),f(1,"Complete all required fields in Post-Trade Analysis"),c())}function P3(n,t){if(n&1&&(d(0,"div",135),w(1,"i",136),d(2,"strong"),f(3,"Please fix the errors highlighted above before submitting."),c(),d(4,"ul",137),x(5,I3,2,0,"li",138)(6,T3,2,0,"li",138)(7,M3,2,0,"li",138)(8,A3,2,0,"li",138)(9,k3,2,0,"li",138),c()()),n&2){let e=E();h(5),b("ngIf",e.hasErrors("tradeDetails")),h(),b("ngIf",e.hasErrors("strategyInformation")),h(),b("ngIf",e.hasErrors("tradeExecution")),h(),b("ngIf",e.hasErrors("tradeOutcome")),h(),b("ngIf",e.hasErrors("postTradeAnalysis"))}}function O3(n,t){if(n&1){let e=Q();d(0,"button",139),I("click",function(){T(e);let i=E();return M(i.onCancel())}),w(1,"i",140),f(2,"Cancel "),c()}}function R3(n,t){if(n&1&&(d(0,"div",141),w(1,"i",142),f(2),c()),n&2){let e=E();h(2),R("",e.message," ")}}function N3(n,t){if(n&1&&(d(0,"div",143),w(1,"i",136),f(2),c()),n&2){let e=E();h(2),R("",e.errorMessage," ")}}var ma=class n{constructor(t,e,r){this.fb=t;this.cdr=e;this.supabaseTradeTableService=r}tradeLogData=null;formSubmitted=new J;cancel=new J;tableName="posttrade";postTradeForm;message="";errorMessage="";formSubmitMarker=!1;tradeOutcomes=["Win","Loss","Breakeven"];tradeDirections=["Long","Short"];ngOnInit(){this.formSubmitMarker=!1,this.createForm()}createForm(){var t=Vo();this.postTradeForm=this.fb.group({tradeid:[this.tradeLogData?.tradeid??t],userid:[this.tradeLogData?.userid??"the-db-is-likely-hacked-1234-abcd-5678-efgh"],createdtime:[new Date().toISOString(),N.required],accountname:[this.tradeLogData?.accountname,[N.required,N.maxLength(255)]],accountbalance:[this.tradeLogData?.accountbalance??""],instrumenttype:[this.tradeLogData?.instrumenttype??"",[N.required,N.maxLength(50)]],analysistype:[this.tradeLogData?.analysistype??"",[N.required,N.maxLength(100)]],tradesymbol:[this.tradeLogData?.tradesymbol??"",[N.required,N.maxLength(50)]],tradetype:[this.tradeLogData?.tradetype??"",[N.required,N.maxLength(50)]],timeframe:[this.tradeLogData?.timeframe??"",[N.required,N.maxLength(50)]],entrydatetime:[this.tradeLogData?.entrydatetime??"",N.required],strategyname:[this.tradeLogData?.strategyname??"",[N.required,N.maxLength(255)]],typeoforder:[this.tradeLogData?.typeoforder??"",[N.required,N.maxLength(50)]],exitstrategy:[this.tradeLogData?.exitstrategy??""],entryprice:[this.tradeLogData?.entryprice??"",[N.required,N.min(0)]],exitprice:[this.tradeLogData?.exitprice??"",[N.required,N.min(0)]],positionsize:[this.tradeLogData?.positionsize??"",[N.required,N.maxLength(50)]],exitdatetime:[this.tradeLogData?.exitdatetime??"",N.required],tradeoutcome:[this.tradeLogData?.tradeoutcome??"",N.required],profitlossamount:[this.tradeLogData?.profitlossamount??""],setupscreenshot:[this.tradeLogData?.setupscreenshot??""],emotionalstateafter:[this.tradeLogData?.emotionalstateafter??""],emotionalimpactondecision:[this.tradeLogData?.emotionalimpactondecision??""],whatwentwell:[this.tradeLogData?.whatwentwell??""],whatcouldimprove:[this.tradeLogData?.whatcouldimprove??""],notes:[this.tradeLogData?.notes??""],isopen:[this.tradeLogData?.isopen??!0,N.required],updatedtime:[new Date().toDateString(),N.required]})}onFileSelected(t){let e=t.target;if(!e.files||e.files.length===0)return;let r=e.files[0],i=new FileReader;i.onload=o=>{this.postTradeForm.patchValue({setupScreenshot:o.target.result})},i.readAsDataURL(r)}async onSubmit(){if(this.formSubmitMarker=!0,this.postTradeForm.invalid){this.postTradeForm.markAllAsTouched();return}let t=this.postTradeForm.value;try{this.tradeLogData?await this.supabaseTradeTableService.updateTradeLog(t,this.tableName):await this.supabaseTradeTableService.addTradeLog(t,this.tableName),this.message="Trade log updated successfully. Resetting in 5 seconds.",setTimeout(()=>{this.cdr.markForCheck()},0),this.formSubmitted.emit(),this.formSubmitMarker=!1,this.cdr.markForCheck()}catch(e){console.error("Error processing trade log:",e),this.errorMessage="Something went wrong.",this.cdr.markForCheck()}}async onDelete(){if(this.tradeLogData)try{await this.supabaseTradeTableService.deleteTradeLog(this.tradeLogData.tradeid,this.tableName),this.message="Trade log deleted successfully.",this.formSubmitted.emit()}catch(t){console.error("Error deleting trade log:",t),this.errorMessage="Something went wrong while deleting."}finally{this.cdr.markForCheck()}}onCancel(){this.cancel.emit()}calculateProfitLoss(){let t=this.postTradeForm.get("entryprice")?.value,e=this.postTradeForm.get("exitprice")?.value,r=parseFloat(this.postTradeForm.get("positionsize")?.value),i=this.postTradeForm.get("tradetype")?.value;if(t&&e&&r&&i){let o=0;i==="Long"?o=(e-t)*r:i==="Short"&&(o=(t-e)*r),this.postTradeForm.get("profitlossamount")?.setValue(o.toFixed(2)),o>0?this.postTradeForm.get("tradeoutcome")?.setValue("Win"):o<0?this.postTradeForm.get("tradeoutcome")?.setValue("Loss"):this.postTradeForm.get("tradeoutcome")?.setValue("Breakeven")}}calculateFormProgress(){let t=Object.keys(this.postTradeForm.controls).filter(r=>this.postTradeForm.get(r)?.validator!==null),e=t.filter(r=>this.postTradeForm.get(r)?.valid);return Math.round(e.length/t.length*100)}hasErrors(t){let e=!1,r={tradeDetails:["accountname","instrumenttype","analysistype","tradesymbol","tradetype","timeframe"],strategyInformation:["strategyname","typeoforder"],tradeExecution:["entrydatetime","exitdatetime","entryprice","exitprice","positionsize"],tradeOutcome:["tradeoutcome"],postTradeAnalysis:["emotionalstateafter","whatwentwell","whatcouldimprove"]};return r[t]&&r[t].forEach(i=>{this.postTradeForm.get(i)?.invalid&&(e=!0)}),e}static \u0275fac=function(e){return new(e||n)(D(zt),D(ee),D(Ht))};static \u0275cmp=j({type:n,selectors:[["app-post-trade-log"]],inputs:{tradeLogData:"tradeLogData"},outputs:{formSubmitted:"formSubmitted",cancel:"cancel"},decls:299,vars:23,consts:[[1,"container","my-4"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item","text-decoration-none"],["routerLink","/home"],["routerLink","/posttrades"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row","mb-4"],[1,"col-lg-8"],[1,"mb-2"],[1,"text-muted"],[1,"col-lg-4","text-lg-end","d-flex","align-items-center","justify-content-lg-end","mt-3","mt-lg-0"],["class","progress w-100","style","height: 8px;",4,"ngIf"],["class","ms-2 small text-muted",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"card","mb-4","shadow-sm"],[1,"card-header","bg-light","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"bi","bi-1-circle","me-2"],[1,"badge","bg-primary"],[1,"card-body"],[1,"row","g-3"],[1,"col-md-6"],["for","accountname",1,"form-label"],[1,"input-group"],[1,"input-group-text"],[1,"bi","bi-person"],["type","text","id","accountname","formControlName","accountname","placeholder","Enter your account name",1,"form-control"],["class","text-danger mt-1 small",4,"ngIf"],["for","accountbalance",1,"form-label"],["type","number","step","0.01","min","0","id","accountbalance","formControlName","accountbalance","placeholder","Current account value",1,"form-control"],["for","instrumenttype",1,"form-label"],["id","instrumenttype","formControlName","instrumenttype",1,"form-select"],["value","","selected","","disabled",""],["value","Forex"],["value","Stocks"],["value","Futures"],["value","Crypto"],["value","Options"],["value","ETF"],["value","Other"],["for","analysistype",1,"form-label"],["id","analysistype","formControlName","analysistype",1,"form-select"],["value","Technical"],["value","Fundamental"],["value","Both"],["value","Sentiment"],["for","tradesymbol",1,"form-label"],[1,"bi","bi-tag"],["type","text","id","tradesymbol","formControlName","tradesymbol","placeholder","Enter ticker symbol",1,"form-control"],["for","tradetype",1,"form-label"],["role","group","aria-label","Trade type",1,"btn-group","w-100"],["type","radio","name","tradetype","id","tradetype_long","value","Long","formControlName","tradetype",1,"btn-check"],["for","tradetype_long",1,"btn","btn-outline-success"],["type","radio","name","tradetype","id","tradetype_short","value","Short","formControlName","tradetype",1,"btn-check"],["for","tradetype_short",1,"btn","btn-outline-danger"],["for","timeframe",1,"form-label"],["id","timeframe","formControlName","timeframe",1,"form-select"],["value","Scalp"],["value","Day"],["value","Swing"],["value","Position"],["value","LongTerm"],[1,"bi","bi-2-circle","me-2"],["for","strategyname",1,"form-label"],["type","text","id","strategyname","formControlName","strategyname","placeholder","e.g., Breakout, Reversal, Trend Following",1,"form-control"],["for","typeoforder",1,"form-label"],["id","typeoforder","formControlName","typeoforder",1,"form-select"],["value","Market"],["value","Limit"],["value","Stop"],["value","StopLimit"],["value","TrailingStop"],[1,"col-12"],["for","exitstrategy",1,"form-label"],["id","exitstrategy","formControlName","exitstrategy","placeholder","Describe the exit strategy you implemented","rows","3",1,"form-control"],[1,"bi","bi-3-circle","me-2"],["for","entrydatetime",1,"form-label"],["type","datetime-local","id","entrydatetime","formControlName","entrydatetime",1,"form-control"],["for","exitdatetime",1,"form-label"],["type","datetime-local","id","exitdatetime","formControlName","exitdatetime",1,"form-control"],[1,"col-md-4"],["for","entryprice",1,"form-label"],["type","number","id","entryprice","formControlName","entryprice","step","0.01","min","0","placeholder","Actual entry price",1,"form-control"],["for","exitprice",1,"form-label"],["type","number","id","exitprice","formControlName","exitprice","step","0.01","min","0","placeholder","Actual exit price",1,"form-control"],["for","positionsize",1,"form-label"],["type","text","id","positionsize","formControlName","positionsize","placeholder","Units/Contracts/Shares",1,"form-control"],[1,"bi","bi-4-circle","me-2"],["for","tradeoutcome",1,"form-label"],["role","group","aria-label","Trade outcome",1,"btn-group","w-100"],["type","radio","name","tradeoutcome","id","tradeoutcome_win","value","Win","formControlName","tradeoutcome",1,"btn-check"],["for","tradeoutcome_win",1,"btn","btn-outline-success"],["type","radio","name","tradeoutcome","id","tradeoutcome_loss","value","Loss","formControlName","tradeoutcome",1,"btn-check"],["for","tradeoutcome_loss",1,"btn","btn-outline-danger"],["type","radio","name","tradeoutcome","id","tradeoutcome_breakeven","value","Breakeven","formControlName","tradeoutcome",1,"btn-check"],["for","tradeoutcome_breakeven",1,"btn","btn-outline-warning"],["for","profitlossamount",1,"form-label"],["type","number","step","0.01","id","profitlossamount","formControlName","profitlossamount","placeholder","e.g. 50.25 or -30.50",1,"form-control"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"bi","bi-6-circle","me-2"],["for","emotionalstateafter",1,"form-label"],["id","emotionalstateafter","formControlName","emotionalstateafter",1,"form-select"],["value","Satisfied"],["value","Excited"],["value","Relieved"],["value","Disappointed"],["value","Frustrated"],["value","Neutral"],["value","Angry"],["for","emotionalimpactondecision",1,"form-label"],["id","emotionalimpactondecision","formControlName","emotionalimpactondecision","placeholder","How did your emotions affect your trading decisions?","rows","3",1,"form-control"],["for","whatwentwell",1,"form-label"],["id","whatwentwell","formControlName","whatwentwell","placeholder","What aspects of this trade did you execute correctly?","rows","3",1,"form-control"],["for","whatcouldimprove",1,"form-label"],["id","whatcouldimprove","formControlName","whatcouldimprove","placeholder","What could you have done better in this trade?","rows","3",1,"form-control"],["for","isopen",1,"form-label"],[1,"form-check","form-switch"],["type","checkbox","id","isopen","formControlName","isopen",1,"form-check-input"],["for","isopen",1,"form-check-label"],[1,"bi","bi-7-circle","me-2"],[1,"badge","bg-secondary"],["for","notes",1,"form-label"],["id","notes","formControlName","notes","placeholder","Any additional information or context for this trade","rows","3",1,"form-control"],["class","alert alert-danger mb-3",4,"ngIf"],[1,"d-flex","justify-content-between","align-items-center","mt-4"],["type","button","class","btn btn-tr-secondary",3,"click",4,"ngIf"],["type","submit",1,"btn","btn-success"],[1,"bi","bi-check-circle","me-1"],["class","alert alert-success mt-3",4,"ngIf"],["class","alert alert-danger mt-3",4,"ngIf"],[1,"progress","w-100",2,"height","8px"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-success"],[1,"ms-2","small","text-muted"],[1,"text-danger","mt-1","small"],[1,"alert","alert-danger","mb-3"],[1,"bi","bi-exclamation-triangle-fill","me-2"],[1,"mb-0","mt-2"],[4,"ngIf"],["type","button",1,"btn","btn-tr-secondary",3,"click"],[1,"bi","bi-x-circle","me-1"],[1,"alert","alert-success","mt-3"],[1,"bi","bi-check-circle-fill","me-2"],[1,"alert","alert-danger","mt-3"]],template:function(e,r){if(e&1&&(d(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),f(5,"Dashboard"),c()(),d(6,"li",3)(7,"a",5),f(8,"Trade Logs"),c()(),d(9,"li",6),f(10,"Post-Trading Journal"),c()()(),d(11,"div",7)(12,"div",8)(13,"h2",9),f(14),c(),d(15,"p",10),f(16,"Document your completed trades to analyze performance and improve your strategy"),c()(),d(17,"div",11),x(18,u3,2,2,"div",12)(19,f3,2,1,"span",13),c()(),d(20,"form",14),I("ngSubmit",function(){return r.onSubmit()}),d(21,"div",15)(22,"div",16)(23,"h5",17),w(24,"i",18),f(25,"Trade Details "),c(),d(26,"span",19),f(27,"Required"),c()(),d(28,"div",20)(29,"div",21)(30,"div",22)(31,"label",23),f(32,"Account Name"),c(),d(33,"div",24)(34,"span",25),w(35,"i",26),c(),w(36,"input",27),c(),x(37,m3,2,0,"div",28),c(),d(38,"div",22)(39,"label",29),f(40,"Account Balance"),c(),d(41,"div",24)(42,"span",25),f(43,"$"),c(),w(44,"input",30),c()(),d(45,"div",22)(46,"label",31),f(47,"Instrument Type"),c(),d(48,"select",32)(49,"option",33),f(50,"Choose instrument type"),c(),d(51,"option",34),f(52,"Forex"),c(),d(53,"option",35),f(54,"Stocks"),c(),d(55,"option",36),f(56,"Futures"),c(),d(57,"option",37),f(58,"Crypto"),c(),d(59,"option",38),f(60,"Options"),c(),d(61,"option",39),f(62,"ETF"),c(),d(63,"option",40),f(64,"Other"),c()(),x(65,p3,2,0,"div",28),c(),d(66,"div",22)(67,"label",41),f(68,"Analysis Type"),c(),d(69,"select",42)(70,"option",33),f(71,"Choose analysis method"),c(),d(72,"option",43),f(73,"Technical"),c(),d(74,"option",44),f(75,"Fundamental"),c(),d(76,"option",45),f(77,"Both"),c(),d(78,"option",46),f(79,"Sentiment"),c(),d(80,"option",40),f(81,"Other"),c()(),x(82,h3,2,0,"div",28),c(),d(83,"div",22)(84,"label",47),f(85,"Trade Symbol"),c(),d(86,"div",24)(87,"span",25),w(88,"i",48),c(),w(89,"input",49),c(),x(90,g3,2,0,"div",28),c(),d(91,"div",22)(92,"label",50),f(93,"Trade Direction"),c(),d(94,"div",51),w(95,"input",52),d(96,"label",53),f(97,"Long"),c(),w(98,"input",54),d(99,"label",55),f(100,"Short"),c()(),x(101,b3,2,0,"div",28),c(),d(102,"div",22)(103,"label",56),f(104,"Time Frame"),c(),d(105,"select",57)(106,"option",33),f(107,"Select time frame"),c(),d(108,"option",58),f(109,"Scalp (minutes)"),c(),d(110,"option",59),f(111,"Day Trade (hours)"),c(),d(112,"option",60),f(113,"Swing (days-weeks)"),c(),d(114,"option",61),f(115,"Position (weeks-months)"),c(),d(116,"option",62),f(117,"Long Term (months+)"),c()(),x(118,v3,2,0,"div",28),c()()()(),d(119,"div",15)(120,"div",16)(121,"h5",17),w(122,"i",63),f(123,"Strategy Information "),c(),d(124,"span",19),f(125,"Required"),c()(),d(126,"div",20)(127,"div",21)(128,"div",22)(129,"label",64),f(130,"Strategy Name"),c(),w(131,"input",65),x(132,_3,2,0,"div",28),c(),d(133,"div",22)(134,"label",66),f(135,"Type of Order"),c(),d(136,"select",67)(137,"option",33),f(138,"Choose order type"),c(),d(139,"option",68),f(140,"Market"),c(),d(141,"option",69),f(142,"Limit"),c(),d(143,"option",70),f(144,"Stop"),c(),d(145,"option",71),f(146,"Stop Limit"),c(),d(147,"option",72),f(148,"Trailing Stop"),c()(),x(149,y3,2,0,"div",28),c(),d(150,"div",73)(151,"label",74),f(152,"Exit Strategy Used"),c(),w(153,"textarea",75),c()()()(),d(154,"div",15)(155,"div",16)(156,"h5",17),w(157,"i",76),f(158,"Trade Execution "),c(),d(159,"span",19),f(160,"Required"),c()(),d(161,"div",20)(162,"div",21)(163,"div",22)(164,"label",77),f(165,"Entry Date/Time"),c(),w(166,"input",78),x(167,w3,2,0,"div",28),c(),d(168,"div",22)(169,"label",79),f(170,"Exit Date/Time"),c(),w(171,"input",80),x(172,C3,2,0,"div",28),c(),d(173,"div",81)(174,"label",82),f(175,"Entry Price"),c(),d(176,"div",24)(177,"span",25),f(178,"$"),c(),w(179,"input",83),c(),x(180,E3,2,0,"div",28),c(),d(181,"div",81)(182,"label",84),f(183,"Exit Price"),c(),d(184,"div",24)(185,"span",25),f(186,"$"),c(),w(187,"input",85),c(),x(188,x3,2,0,"div",28),c(),d(189,"div",81)(190,"label",86),f(191,"Position Size"),c(),d(192,"div",24),w(193,"input",87),c(),x(194,S3,2,0,"div",28),c()()()(),d(195,"div",15)(196,"div",16)(197,"h5",17),w(198,"i",88),f(199,"Trade Outcome "),c(),d(200,"span",19),f(201,"Required"),c()(),d(202,"div",20)(203,"div",21)(204,"div",22)(205,"label",89),f(206,"Trade Result"),c(),d(207,"div",90),w(208,"input",91),d(209,"label",92),f(210,"Win"),c(),w(211,"input",93),d(212,"label",94),f(213,"Loss"),c(),w(214,"input",95),d(215,"label",96),f(216,"Breakeven"),c()(),x(217,D3,2,0,"div",28),c(),d(218,"div",22)(219,"label",97),f(220,"Profit/Loss Amount"),c(),d(221,"div",24)(222,"span",25),f(223,"$"),c(),w(224,"input",98),d(225,"button",99),I("click",function(){return r.calculateProfitLoss()}),f(226," Calculate "),c()()()()()(),d(227,"div",15)(228,"div",16)(229,"h5",17),w(230,"i",100),f(231,"Post-Trade Analysis "),c(),d(232,"span",19),f(233,"Required"),c()(),d(234,"div",20)(235,"div",21)(236,"div",22)(237,"label",101),f(238,"Emotional State After Trade"),c(),d(239,"select",102)(240,"option",33),f(241,"How do you feel now?"),c(),d(242,"option",103),f(243,"Satisfied"),c(),d(244,"option",104),f(245,"Excited"),c(),d(246,"option",105),f(247,"Relieved"),c(),d(248,"option",106),f(249,"Disappointed"),c(),d(250,"option",107),f(251,"Frustrated"),c(),d(252,"option",108),f(253,"Neutral"),c(),d(254,"option",109),f(255,"Angry"),c(),d(256,"option",40),f(257,"Other"),c()()(),d(258,"div",73)(259,"label",110),f(260,"Emotional Impact on Decisions"),c(),w(261,"textarea",111),c(),d(262,"div",73)(263,"label",112),f(264,"What Went Well"),c(),w(265,"textarea",113),c(),d(266,"div",73)(267,"label",114),f(268,"Areas for Improvement"),c(),w(269,"textarea",115),c(),d(270,"div",22)(271,"label",116),f(272,"Trade Status"),c(),d(273,"div",117),w(274,"input",118),d(275,"label",119),f(276,"This position is still open"),c()()()()()(),d(277,"div",15)(278,"div",16)(279,"h5",17),w(280,"i",120),f(281,"Additional Notes "),c(),d(282,"span",121),f(283,"Optional"),c()(),d(284,"div",20)(285,"div",21)(286,"div",73)(287,"label",122),f(288,"Notes"),c(),w(289,"textarea",123),c()()()(),x(290,P3,10,5,"div",124),d(291,"div",125),x(292,O3,3,0,"button",126),d(293,"div")(294,"button",127),w(295,"i",128),f(296),c()()(),x(297,R3,3,1,"div",129)(298,N3,3,1,"div",130),c()()),e&2){let i,o,s,a,l,u,m,p,v,g,_,C,S,A;h(14),U(r.tradeLogData?"Edit Post-Trading Journal":"Create Post-Trading Journal"),h(4),b("ngIf",!r.tradeLogData),h(),b("ngIf",!r.tradeLogData),h(),b("formGroup",r.postTradeForm),h(17),b("ngIf",((i=r.postTradeForm.get("accountname"))==null?null:i.invalid)&&(((i=r.postTradeForm.get("accountname"))==null?null:i.dirty)||((i=r.postTradeForm.get("accountname"))==null?null:i.touched)||r.formSubmitMarker)),h(28),b("ngIf",((o=r.postTradeForm.get("instrumenttype"))==null?null:o.invalid)&&(((o=r.postTradeForm.get("instrumenttype"))==null?null:o.dirty)||((o=r.postTradeForm.get("instrumenttype"))==null?null:o.touched)||r.formSubmitMarker)),h(17),b("ngIf",((s=r.postTradeForm.get("analysistype"))==null?null:s.invalid)&&(((s=r.postTradeForm.get("analysistype"))==null?null:s.dirty)||((s=r.postTradeForm.get("analysistype"))==null?null:s.touched)||r.formSubmitMarker)),h(8),b("ngIf",((a=r.postTradeForm.get("tradesymbol"))==null?null:a.invalid)&&(((a=r.postTradeForm.get("tradesymbol"))==null?null:a.dirty)||((a=r.postTradeForm.get("tradesymbol"))==null?null:a.touched)||r.formSubmitMarker)),h(11),b("ngIf",((l=r.postTradeForm.get("tradetype"))==null?null:l.invalid)&&(((l=r.postTradeForm.get("tradetype"))==null?null:l.dirty)||((l=r.postTradeForm.get("tradetype"))==null?null:l.touched)||r.formSubmitMarker)),h(17),b("ngIf",((u=r.postTradeForm.get("timeframe"))==null?null:u.invalid)&&(((u=r.postTradeForm.get("timeframe"))==null?null:u.dirty)||((u=r.postTradeForm.get("timeframe"))==null?null:u.touched)||r.formSubmitMarker)),h(14),b("ngIf",((m=r.postTradeForm.get("strategyname"))==null?null:m.invalid)&&(((m=r.postTradeForm.get("strategyname"))==null?null:m.dirty)||((m=r.postTradeForm.get("strategyname"))==null?null:m.touched)||r.formSubmitMarker)),h(17),b("ngIf",((p=r.postTradeForm.get("typeoforder"))==null?null:p.invalid)&&(((p=r.postTradeForm.get("typeoforder"))==null?null:p.dirty)||((p=r.postTradeForm.get("typeoforder"))==null?null:p.touched)||r.formSubmitMarker)),h(18),b("ngIf",((v=r.postTradeForm.get("entrydatetime"))==null?null:v.invalid)&&(((v=r.postTradeForm.get("entrydatetime"))==null?null:v.dirty)||((v=r.postTradeForm.get("entrydatetime"))==null?null:v.touched)||r.formSubmitMarker)),h(5),b("ngIf",((g=r.postTradeForm.get("exitdatetime"))==null?null:g.invalid)&&(((g=r.postTradeForm.get("exitdatetime"))==null?null:g.dirty)||((g=r.postTradeForm.get("exitdatetime"))==null?null:g.touched)||r.formSubmitMarker)),h(8),b("ngIf",((_=r.postTradeForm.get("entryprice"))==null?null:_.invalid)&&(((_=r.postTradeForm.get("entryprice"))==null?null:_.dirty)||((_=r.postTradeForm.get("entryprice"))==null?null:_.touched)||r.formSubmitMarker)),h(8),b("ngIf",((C=r.postTradeForm.get("exitprice"))==null?null:C.invalid)&&(((C=r.postTradeForm.get("exitprice"))==null?null:C.dirty)||((C=r.postTradeForm.get("exitprice"))==null?null:C.touched)||r.formSubmitMarker)),h(6),b("ngIf",((S=r.postTradeForm.get("positionsize"))==null?null:S.invalid)&&(((S=r.postTradeForm.get("positionsize"))==null?null:S.dirty)||((S=r.postTradeForm.get("positionsize"))==null?null:S.touched)||r.formSubmitMarker)),h(23),b("ngIf",((A=r.postTradeForm.get("tradeoutcome"))==null?null:A.invalid)&&(((A=r.postTradeForm.get("tradeoutcome"))==null?null:A.dirty)||((A=r.postTradeForm.get("tradeoutcome"))==null?null:A.touched)||r.formSubmitMarker)),h(73),b("ngIf",r.formSubmitMarker&&r.postTradeForm.invalid),h(2),b("ngIf",r.tradeLogData),h(4),R("",r.tradeLogData?"Update":"Submit"," "),h(),b("ngIf",r.message),h(),b("ngIf",r.errorMessage)}},dependencies:[G,ue,Se,mn,hn,gn,we,ur,di,pn,Rn,xe,ze,dc,Be,We,Ke],styles:[".card[_ngcontent-%COMP%]{border-radius:8px;box-shadow:0 2px 5px #0000000d;border:1px solid rgba(0,0,0,.1);color:#000}.card-header[_ngcontent-%COMP%]{background-color:#f8f9fa;border-bottom:1px solid rgba(0,0,0,.1);padding:12px 16px}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{border-radius:6px;padding:10px 12px;background-color:#f9f9f9;border:1px solid #ced4da}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{background-color:#fff;border-color:#80bdff;box-shadow:0 0 0 .25rem #0d6efd40}textarea.form-control[_ngcontent-%COMP%]{resize:vertical}.btn[_ngcontent-%COMP%]{padding:8px 16px;border-radius:6px;font-weight:500}.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#dc3545}"]})};var F3=(n,t,e)=>({"open-trade":n,"win-trade":t,"loss-trade":e}),L3=(n,t,e)=>({"status-open":n,"status-win":t,"status-loss":e}),V3=(n,t,e)=>({"bi-clock-history":n,"bi-check-circle":t,"bi-x-circle":e}),j3=(n,t,e)=>({"text-success":n,"text-danger":t,"text-secondary":e});function B3(n,t){n&1&&(d(0,"div",12),f(1,"Loading trade logs..."),c())}function U3(n,t){if(n&1&&(d(0,"div",13),f(1),c()),n&2){let e=E();h(),U(e.errorMessage)}}function $3(n,t){if(n&1){let e=Q();d(0,"div",16)(1,"div",17),I("click",function(){let i=T(e).$implicit,o=E(2);return M(o.openEditModal(i))}),d(2,"div",18),w(3,"i",19),f(4),c(),d(5,"div",20),I("click",function(i){let o=T(e).$implicit,s=E(2);return M(s.onDeleteTradeLog(o,i))}),w(6,"i",21),c(),d(7,"div",22)(8,"h4",23),f(9),c(),d(10,"h5",24),f(11),c(),d(12,"div",25)(13,"div",26)(14,"div",27)(15,"strong"),f(16,"Strategy:"),c(),f(17),c(),d(18,"div",27)(19,"strong"),f(20,"Analysis:"),c(),f(21),c()(),d(22,"div",26)(23,"div",27)(24,"strong"),f(25,"Entry:"),c(),f(26),c(),d(27,"div",27)(28,"strong"),f(29,"Exit:"),c(),f(30),c()(),d(31,"div",26)(32,"div",27)(33,"strong"),f(34,"Date:"),c(),f(35),vt(36,"date"),c(),d(37,"div",27)(38,"strong"),f(39,"Account:"),c(),f(40),c()(),d(41,"div",28)(42,"div",29)(43,"strong"),f(44,"P/L:"),c(),d(45,"span",30),f(46),c()()()(),d(47,"div",31)(48,"small",32),f(49),vt(50,"date"),c()()()()()}if(n&2){let e=t.$implicit;h(),b("ngClass",vo(23,F3,e.isopen,!e.isopen&&e.tradeoutcome==="Win",!e.isopen&&e.tradeoutcome==="Loss")),h(),b("ngClass",vo(27,L3,e.isopen,!e.isopen&&e.tradeoutcome==="Win",!e.isopen&&e.tradeoutcome==="Loss")),h(),b("ngClass",vo(31,V3,e.isopen,!e.isopen&&e.tradeoutcome==="Win",!e.isopen&&e.tradeoutcome==="Loss")),h(),R(" ",e.isopen?"In Progress":e.tradeoutcome," "),h(5),U(e.tradesymbol),h(2),Mg(" ",e.tradetype," | ",e.instrumenttype," | ",e.timeframe," "),h(6),R(" ",e.strategyname," "),h(4),R(" ",e.analysistype," "),h(5),R(" ",e.entryprice," "),h(4),R(" ",e.isopen?"Pending":e.exitprice," "),h(5),R(" ",_t(36,17,e.entrydatetime,"shortDate")," "),h(5),R(" ",e.accountname," "),h(5),b("ngClass",vo(35,j3,!e.isopen&&e.tradeoutcome==="Win",!e.isopen&&e.tradeoutcome==="Loss",e.isopen)),h(),R(" ",e.isopen?"Trade in progress":e.profitlossamount," "),h(3),U(_t(50,20,e.createdtime,"medium"))}}function z3(n,t){if(n&1&&(d(0,"div",14),x(1,$3,51,39,"div",15),c()),n&2){let e=E();h(),b("ngForOf",e.tradeLogs)}}function H3(n,t){n&1&&(d(0,"div",33),f(1," No trade logs found. "),c())}function q3(n,t){if(n&1){let e=Q();d(0,"div",34),I("click",function(i){T(e);let o=E();return M(o.closeModalOnOverlayClick(i))}),d(1,"div",35),I("click",function(i){return T(e),M(i.stopPropagation())}),d(2,"app-post-trade-log",36),I("formSubmitted",function(){T(e);let i=E();return M(i.onFormSubmitted())})("cancel",function(){T(e);let i=E();return M(i.closeModal())}),c()()()}if(n&2){let e=E();h(2),b("tradeLogData",e.selectedTradeLog)}}var rm=class n{constructor(t,e){this.supabaseTradeTableService=t;this.cdr=e}tableName="posttrade";tradeLogs=[];loading=!1;errorMessage="";showModal=!1;selectedTradeLog=null;async ngOnInit(){this.loading=!0,await this.fetchTradeLogs(),this.loading=!1,this.cdr.detectChanges()}async fetchTradeLogs(){try{this.tradeLogs=await this.supabaseTradeTableService.getTradeLogs(this.tableName),this.cdr.markForCheck()}catch(t){console.error("Error fetching trade logs",t),this.errorMessage="Error fetching trade logs."}}openEditModal(t){this.selectedTradeLog=t,this.showModal=!0}onFormSubmitted(){this.fetchTradeLogs(),this.closeModal()}closeModal(){this.showModal=!1,this.selectedTradeLog=null}closeModalOnOverlayClick(t){this.closeModal(),this.cdr.markForCheck()}async onDeleteTradeLog(t,e){e.stopPropagation();try{await this.supabaseTradeTableService.deleteTradeLog(t.tradeid,this.tableName),await this.fetchTradeLogs()}catch(r){console.error("Error deleting trade log:",r),this.errorMessage="Error deleting trade log."}}static \u0275fac=function(e){return new(e||n)(D(Ht),D(ee))};static \u0275cmp=j({type:n,selectors:[["app-post-trade-table"]],decls:18,vars:5,consts:[[1,"container","mt-3"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item","text-decoration-none"],["routerLink","/home"],["aria-current","page",1,"breadcrumb-item","active"],["routerLink","/posttradelog"],["class","alert alert-info",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["class","row mt-5",4,"ngIf"],["class","alert alert-warning",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"alert","alert-info"],[1,"alert","alert-danger"],[1,"row","mt-5"],["class","col-md-4 col-12 mb-4",4,"ngFor","ngForOf"],[1,"col-md-4","col-12","mb-4"],[1,"card","h-100","position-relative","shadow",2,"cursor","pointer",3,"click","ngClass"],[1,"trade-status-indicator",3,"ngClass"],[1,"bi",3,"ngClass"],[1,"delete-icon",3,"click"],[1,"bi","bi-trash"],[1,"card-body"],[1,"card-title","mt-5"],[1,"card-subtitle","mb-3","text-muted","fw-bold"],[1,"card-text"],[1,"row","mb-2"],[1,"col-6"],[1,"row"],[1,"col-12"],[3,"ngClass"],[1,"mt-3"],[1,"text-muted"],[1,"alert","alert-warning"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[3,"formSubmitted","cancel","tradeLogData"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),f(5,"Dashboard"),c()(),d(6,"li",5),f(7,"Post-Trade Logs"),c(),d(8,"li",3)(9,"a",6),f(10,"Post-Trading Journal"),c()()()(),d(11,"h2"),f(12,"Post Trade Logs"),c(),x(13,B3,2,0,"div",7)(14,U3,2,1,"div",8)(15,z3,2,1,"div",9)(16,H3,2,0,"div",10),c(),x(17,q3,3,1,"div",11)),e&2&&(h(13),b("ngIf",r.loading),h(),b("ngIf",r.errorMessage),h(),b("ngIf",r.tradeLogs&&r.tradeLogs.length),h(),b("ngIf",!r.loading&&(!r.tradeLogs||r.tradeLogs.length===0)),h(),b("ngIf",r.showModal))},dependencies:[Ke,G,un,nt,ue,Sr,ma],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;max-width:90%;max-height:90%;overflow:auto;position:relative}.card[_ngcontent-%COMP%]{position:relative;border:none;transition:all .2s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 20px #0000001a!important}.delete-icon[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;display:none;color:#dc3545;background:#fffc;border-radius:50%;padding:5px;z-index:10}.card[_ngcontent-%COMP%]:hover   .delete-icon[_ngcontent-%COMP%]{display:block}.delete-icon[_ngcontent-%COMP%]:hover{cursor:pointer}.open-trade[_ngcontent-%COMP%]{border-left:4px solid #17a2b8!important}.win-trade[_ngcontent-%COMP%]{border-left:4px solid #28a745!important}.loss-trade[_ngcontent-%COMP%]{border-left:4px solid #dc3545!important}.trade-status-indicator[_ngcontent-%COMP%]{position:absolute;top:8px;left:8px;padding:5px 10px;border-radius:12px;font-size:.8rem;font-weight:700;z-index:10;color:#fff}.status-open[_ngcontent-%COMP%]{background-color:#17a2b8}.status-win[_ngcontent-%COMP%]{background-color:#28a745}.status-loss[_ngcontent-%COMP%]{background-color:#dc3545}.trade-status-indicator[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:3px}"]})};var pa=class n{constructor(t){this.supabaseService=t;this.supabase=this.supabaseService.GetClient()}supabase;ngOnInit(){}async loadQuestions(){let{data:t,error:e}=await this.supabase.rpc("get_random_activequestions");if(e)throw console.error("Error loading questions: ",e),e;return t}async adminLoadQuestions(){let{data:t,error:e}=await this.supabase.from("adminquestions").select("*");if(e)throw console.error("Error loading questions: ",e),e;return t}async adminSaveQuestions(t){let e=null;for(let r of t.filter(i=>i.isModified))if(r.question_id){let{data:i,error:o}=await this.supabase.from("adminquestions").update({question_data:r.question_data,active:r.active}).eq("question_id",r.question_id).select().single();if(o){console.error("Error updating question:",o),e=o;break}else r.updated_at=i.updated_at,r.isModified=!1}else{let{data:i,error:o}=await this.supabase.from("adminquestions").insert([{question_data:r.question_data,active:r.active}]).select().single();if(o){console.error("Error inserting question:",o),e=o;break}else r.question_id=i.question_id,r.created_at=i.created_at,r.updated_at=i.updated_at,r.isModified=!1}return{error:e}}async deleteQuestion(t){let{error:e}=await this.supabase.from("adminquestions").delete().eq("question_id",t.question_id);return{error:e}}async getActiveQuestions(){let{data:t,error:e}=await this.supabase.from("activequestions").select("*");return{data:t,error:e}}async submitUserAnswers(t){let{error:e}=await this.supabase.from("answers").insert(t);return{error:e}}async getLastEmotionCheckInResult(){let t=(await this.supabase.auth.getUser()).data.user?.id,{data:e,error:r}=await this.supabase.from("answers").select("analysis").eq("user_id",t).order("created_at",{ascending:!1}).limit(1);return{data:e,error:r}}async submitUserCheckIn(t){let e=(await this.supabase.auth.getUser()).data.user?.id,{error:r}=await this.supabase.rpc("perform_checkin",{in_user_id:e,in_answers:t.answers,in_analysis:t.analysis});return{error:r}}async canLoadCheckInQuestions(){let t=this.supabaseService.user()?.id;if(t===null)throw new Error("User not authenticated");let{data:e,error:r}=await this.supabase.rpc("can_checkin",{user_id:t});return!r&&e===!0}static \u0275fac=function(e){return new(e||n)(L(Me))};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})};var G3=(n,t)=>({"alert-success":n,"alert-danger":t});function W3(n,t){if(n&1&&(d(0,"div",18),f(1),c()),n&2){let e=E();b("ngClass",Dn(2,G3,e.messageType==="success",e.messageType==="error")),h(),R(" ",e.message," ")}}function Q3(n,t){if(n&1){let e=Q();Ut(0),d(1,"input",27),it("ngModelChange",function(i){T(e);let o=E().$implicit;return st(o.choicesInput,i)||(o.choicesInput=i),M(i)}),I("change",function(){T(e);let i=E().$implicit,o=E();return M(o.updateChoices(i))}),c(),d(2,"div",28),f(3,'e.g., "Option A, Option B, Option C"'),c(),$t()}if(n&2){let e=E().$implicit;h(),rt("ngModel",e.choicesInput)}}function K3(n,t){if(n&1){let e=Q();d(0,"tr")(1,"td")(2,"select",19),it("ngModelChange",function(i){let o=T(e).$implicit;return st(o.question_data.question_type,i)||(o.question_data.question_type=i),M(i)}),I("change",function(){let i=T(e).$implicit,o=E();return M(o.onQuestionChange(i))}),d(3,"option",9),f(4,"Fill"),c(),d(5,"option",10),f(6,"Multiple"),c(),d(7,"option",11),f(8,"Select One"),c()()(),d(9,"td")(10,"input",20),it("ngModelChange",function(i){let o=T(e).$implicit;return st(o.question_data.question_icon,i)||(o.question_data.question_icon=i),M(i)}),I("change",function(){let i=T(e).$implicit,o=E();return M(o.onQuestionChange(i))}),c()(),d(11,"td")(12,"input",21),it("ngModelChange",function(i){let o=T(e).$implicit;return st(o.question_data.question_title,i)||(o.question_data.question_title=i),M(i)}),I("change",function(){let i=T(e).$implicit,o=E();return M(o.onQuestionChange(i))}),c()(),d(13,"td")(14,"textarea",22),it("ngModelChange",function(i){let o=T(e).$implicit;return st(o.question_data.question,i)||(o.question_data.question=i),M(i)}),I("change",function(){let i=T(e).$implicit,o=E();return M(o.onQuestionChange(i))}),c()(),d(15,"td"),x(16,Q3,4,1,"ng-container",23),c(),d(17,"td")(18,"input",24),it("ngModelChange",function(i){let o=T(e).$implicit;return st(o.question_data.placeholder,i)||(o.question_data.placeholder=i),M(i)}),I("change",function(){let i=T(e).$implicit,o=E();return M(o.onQuestionChange(i))}),c()(),d(19,"td")(20,"div",25)(21,"input",26),it("ngModelChange",function(i){let o=T(e).$implicit;return st(o.active,i)||(o.active=i),M(i)}),I("change",function(){let i=T(e).$implicit,o=E();return M(o.onQuestionChange(i))}),c()()(),d(22,"td"),f(23),vt(24,"date"),c()()}if(n&2){let e=t.$implicit;h(2),rt("ngModel",e.question_data.question_type),h(8),rt("ngModel",e.question_data.question_icon),h(2),rt("ngModel",e.question_data.question_title),h(2),rt("ngModel",e.question_data.question),h(2),b("ngIf",e.question_data.question_type!=="fill"),h(2),rt("ngModel",e.question_data.placeholder),h(3),rt("ngModel",e.active),h(2),U(_t(24,8,e.updated_at,"short"))}}function Z3(n,t){if(n&1){let e=Q();d(0,"div",29)(1,"input",30),it("ngModelChange",function(i){T(e);let o=E();return st(o.newQuestionChoices,i)||(o.newQuestionChoices=i),M(i)}),c()()}if(n&2){let e=E();h(),rt("ngModel",e.newQuestionChoices)}}var im=class n{constructor(t,e){this.cdr=t;this.supabaseService=e}questions=[];newQuestionText="";newQuestionType="fill";newQuestionChoices="";message="";messageType="success";async ngOnInit(){let t=await this.supabaseService.adminLoadQuestions();this.questions=t.map(e=>W(k({},e),{choicesInput:e.question_data.choices?.join(", ")||""})),this.cdr.markForCheck()}onQuestionChange(t){t.isModified=!0}updateChoices(t){let e=t.choicesInput??"";t.question_data.choices=e.split(",").map(r=>r.trim()).filter(r=>r),t.isModified=!0}addQuestion(){if(!this.newQuestionText.trim())return;let t={question_type:this.newQuestionType,question:this.newQuestionText.trim(),placeholder:this.newQuestionText.trim()};if(this.newQuestionType!=="fill"){let e=this.newQuestionChoices.split(",").map(r=>r.trim()).filter(r=>r);t.choices=e}this.questions.push({question_data:t,choicesInput:this.newQuestionChoices,active:!0,isModified:!0}),this.newQuestionText="",this.newQuestionChoices="",this.newQuestionType="fill",this.cdr.detectChanges()}async saveChanges(){let{error:t}=await this.supabaseService.adminSaveQuestions(this.questions);t?this.showMessage("Error saving questions","error"):this.showMessage("Questions saved successfully","success"),this.cdr.detectChanges()}async deleteQuestion(t){if(!t.question_id){this.questions=this.questions.filter(r=>r!==t),this.showMessage("Question removed locally","success"),this.cdr.markForCheck();return}let{error:e}=await this.supabaseService.deleteQuestion(t);e?this.showMessage("Error deleting question","error"):(this.questions=this.questions.filter(r=>r.question_id!==t.question_id),this.showMessage("Question deleted successfully","success")),this.cdr.markForCheck()}showMessage(t,e){this.message=t,this.messageType=e,this.cdr.markForCheck(),setTimeout(()=>{this.message="",this.cdr.markForCheck()},4e3)}hasChanges(){return this.questions.some(t=>t.isModified)}static \u0275fac=function(e){return new(e||n)(D(ee),D(pa))};static \u0275cmp=j({type:n,selectors:[["app-admin-emotion-dashboard"]],decls:53,vars:6,consts:[[1,"container-fluid","mt-4","p-5"],["class","alert",3,"ngClass",4,"ngIf"],[1,"table","mt-5"],[4,"ngFor","ngForOf"],["href","https://fonts.google.com/icons","target","_blank"],[1,"mt-4"],[1,"row","g-3","align-items-center","mb-3"],[1,"col-md-3"],[1,"form-select",3,"ngModelChange","ngModel"],["value","fill"],["value","multiple"],["value","select-one"],[1,"col-md-5"],["type","text","placeholder","Enter question text",1,"form-control",3,"ngModelChange","ngModel"],["class","col-md-4",4,"ngIf"],[1,"d-flex","justify-content-between"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-success",3,"click","disabled"],[1,"alert",3,"ngClass"],[1,"form-select",3,"ngModelChange","change","ngModel"],["type","text","placeholder","Enter icon URL or name",1,"form-control",3,"ngModelChange","change","ngModel"],["type","text","placeholder","Enter question title",1,"form-control",3,"ngModelChange","change","ngModel"],["type","text",1,"form-control",3,"ngModelChange","change","ngModel"],[4,"ngIf"],["type","text","placeholder","Enter placeholder text",1,"form-control",3,"ngModelChange","change","ngModel"],[1,"form-check","form-switch"],["type","checkbox",1,"form-check-input",3,"ngModelChange","change","ngModel"],["type","text","placeholder","Comma-separated choices",1,"form-control","mb-1",3,"ngModelChange","change","ngModel"],[1,"text-muted","small"],[1,"col-md-4"],["type","text","placeholder","Comma-separated choices",1,"form-control",3,"ngModelChange","ngModel"]],template:function(e,r){e&1&&(d(0,"div",0),x(1,W3,2,5,"div",1),d(2,"h1"),f(3,"Admin Emotion Question Dashboard"),c(),d(4,"table",2)(5,"thead")(6,"tr")(7,"th"),f(8,"Type"),c(),d(9,"th"),f(10,"Question Icon"),c(),d(11,"th"),f(12,"Question Title"),c(),d(13,"th"),f(14,"Question Text"),c(),d(15,"th"),f(16,"Choices"),c(),d(17,"th"),f(18,"Placeholder"),c(),d(19,"th"),f(20,"Active"),c(),d(21,"th"),f(22,"Last Updated"),c()()(),d(23,"tbody"),x(24,K3,25,11,"tr",3),c()(),d(25,"label"),f(26,"For icons, go to this website: "),d(27,"a",4),f(28,"https://fonts.google.com/icons"),c(),f(29,". "),w(30,"br"),f(31,"Search for favourite icon. When you click your icon, you will look for the name of the icon and "),w(32,"br"),f(33," put it into the space"),c(),d(34,"h4",5),f(35,"Add New Question"),c(),d(36,"div",6)(37,"div",7)(38,"select",8),it("ngModelChange",function(o){return st(r.newQuestionType,o)||(r.newQuestionType=o),o}),d(39,"option",9),f(40,"Fill"),c(),d(41,"option",10),f(42,"Multiple"),c(),d(43,"option",11),f(44,"Select One"),c()()(),d(45,"div",12)(46,"input",13),it("ngModelChange",function(o){return st(r.newQuestionText,o)||(r.newQuestionText=o),o}),c()(),x(47,Z3,2,1,"div",14),c(),d(48,"div",15)(49,"button",16),I("click",function(){return r.addQuestion()}),f(50,"Add Question"),c(),d(51,"button",17),I("click",function(){return r.saveChanges()}),f(52,"Save Changes"),c()()()),e&2&&(h(),b("ngIf",r.message),h(23),b("ngForOf",r.questions),h(14),rt("ngModel",r.newQuestionType),h(8),rt("ngModel",r.newQuestionText),h(),b("ngIf",r.newQuestionType!=="fill"),h(4),b("disabled",!r.hasChanges()))},dependencies:[Ui,hn,gn,we,di,pn,xe,Lo,G,un,nt,ue,Sr],styles:[".container[_ngcontent-%COMP%]{max-width:800px;margin:auto}.question-row[_ngcontent-%COMP%]{position:relative}.delete-button[_ngcontent-%COMP%]{display:none;position:absolute;right:10px;top:50%;transform:translateY(-50%)}.question-row[_ngcontent-%COMP%]:hover   .delete-button[_ngcontent-%COMP%]{display:block}.alert[_ngcontent-%COMP%]{padding:10px 20px;margin-bottom:15px;border-radius:4px;text-align:center}.table[_ngcontent-%COMP%]{--bs-table-bg: transparent}"]})};var n0=(n,t)=>t.some(e=>n instanceof e),JS,XS;function Y3(){return JS||(JS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function J3(){return XS||(XS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var r0=new WeakMap,e0=new WeakMap,om=new WeakMap;function X3(n){let t=new Promise((e,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{e(Bo(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return om.set(t,n),t}function ej(n){if(r0.has(n))return;let t=new Promise((e,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{e(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});r0.set(n,t)}var i0={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return r0.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Bo(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function rD(n){i0=n(i0)}function tj(n){return J3().includes(n)?function(...t){return n.apply(o0(this),t),Bo(this.request)}:function(...t){return Bo(n.apply(o0(this),t))}}function nj(n){return typeof n=="function"?tj(n):(n instanceof IDBTransaction&&ej(n),n0(n,Y3())?new Proxy(n,i0):n)}function Bo(n){if(n instanceof IDBRequest)return X3(n);if(e0.has(n))return e0.get(n);let t=nj(n);return t!==n&&(e0.set(n,t),om.set(t,n)),t}var o0=n=>om.get(n);function uc(n,t,{blocked:e,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,t),a=Bo(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Bo(s.result),l.oldVersion,l.newVersion,Bo(s.transaction),l)}),e&&s.addEventListener("blocked",l=>e(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var rj=["get","getKey","getAll","getAllKeys","count"],ij=["put","add","delete","clear"],t0=new Map;function eD(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(t0.get(t))return t0.get(t);let e=t.replace(/FromIndex$/,""),r=t!==e,i=ij.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(i||rj.includes(e)))return;let o=async function(s,...a){let l=this.transaction(s,i?"readwrite":"readonly"),u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[e](...a),i&&l.done]))[0]};return t0.set(t,o),o}rD(n=>W(k({},n),{get:(t,e,r)=>eD(t,e)||n.get(t,e,r),has:(t,e)=>!!eD(t,e)||n.has(t,e)}));var oj=["continue","continuePrimaryKey","advance"],tD={},s0=new WeakMap,iD=new WeakMap,sj={get(n,t){if(!oj.includes(t))return n[t];let e=tD[t];return e||(e=tD[t]=function(...r){s0.set(this,iD.get(this)[t](...r))}),e}};async function*aj(...n){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...n)),!t)return;t=t;let e=new Proxy(t,sj);for(iD.set(e,t),om.set(e,o0(t));t;)yield e,t=await(s0.get(e)||t.continue()),s0.delete(e)}function nD(n,t){return t===Symbol.asyncIterator&&n0(n,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&n0(n,[IDBIndex,IDBObjectStore])}rD(n=>W(k({},n),{get(t,e,r){return nD(t,e)?aj:n.get(t,e,r)},has(t,e){return nD(t,e)||n.has(t,e)}}));var qt=class n{constructor(t,e){this.supabaseService=t;this.platformId=e;this.supabase=this.supabaseService.GetClient()}supabase;ngOnInit(){}async getUserTradeAccounts(){let t=this.supabaseService.user();if(!t)throw new Error("User not authenticated");let e="tradeaccount",r=!1,i=null;if(typeof window<"u"){r=sessionStorage.getItem(`${e}_refresh`)==="yes";let a=sessionStorage.getItem(e);if(a)try{i=JSON.parse(a)}catch(l){console.error("Error parsing cached trade accounts:",l),i=null}}if(!r&&i)return i;let{data:o,error:s}=await this.supabase.from(e).select("*").eq("user_id",t.id);if(s)throw console.error("Error fetching trade accounts:",s),s;return typeof window<"u"&&(sessionStorage.setItem(e,JSON.stringify(o)),sessionStorage.removeItem(`${e}_refresh`)),o||[]}async addTradeAccount(t){let e=this.supabaseService.user();if(!e)throw new Error("User not authenticated");let u=t,{track_pl:r,include_in_analytics:i,trading_instruments:o}=u,s=Wo(u,["track_pl","include_in_analytics","trading_instruments"]),a={track_pl:r,include_in_analytics:i,trading_instruments:o},{error:l}=await this.supabase.from("tradeaccount").insert([W(k({},s),{user_id:e.id,metadata:a})]);return l?(console.error("Failed to add trade account:",l),!1):(sessionStorage.setItem("tradeaccount_refresh","yes"),!0)}async editTradeAccount(t,e){let r=this.supabaseService.user();if(!r)throw new Error("User not authenticated");let m=e,{track_pl:i,include_in_analytics:o,trading_instruments:s}=m,a=Wo(m,["track_pl","include_in_analytics","trading_instruments"]),l={track_pl:i,include_in_analytics:o,trading_instruments:s},{error:u}=await this.supabase.from("tradeaccount").update(W(k({},a),{metadata:l})).eq("account_id",t).eq("user_id",r.id);return u?(console.error("Failed to update trade account:",u),!1):(sessionStorage.setItem("tradeaccount_refresh","yes"),!0)}async removeTradeAccount(t){let e=this.supabaseService.user();if(!e)throw new Error("User not authenticated");let{error:r}=await this.supabase.from("tradejournal").delete().eq("trade_account_id",t).eq("userid",e.id);if(r)return console.error("Failed to delete associated trade logs:",r),!1;let{error:i}=await this.supabase.from("tradeaccount").delete().eq("account_id",t).eq("user_id",e.id);return i?(console.error("Failed to remove trade account:",i),!1):(typeof window<"u"&&(sessionStorage.setItem("tradeaccount_refresh","yes"),sessionStorage.setItem(`tradejournal_${t}_refresh`,"yes")),!0)}async getProfile(){console.log("getting profile picture");let t=this.supabaseService.user();if(!t)throw new Error("User not authenticated");return this.supabase.from("usersaccount").select("*").eq("user_id",t.id).single()}async createProfile(t){if(!this.supabaseService.user())throw new Error("User not authenticated");return this.supabase.from("usersaccount").insert(t)}async updateProfile(t){let e=this.supabaseService.user();if(!e)throw new Error("User not authenticated");return this.supabase.from("usersaccount").update(t).eq("user_id",e.id)}async uploadProfilePicture(t){let e=this.supabaseService.user();if(!e)throw new Error("User not authenticated");let r=t.name.split(".").pop(),i=`${e.id}/profile.${r}`;await(await uc("profile-cache",1,{upgrade(a){a.createObjectStore("pictures")}})).delete("pictures",i);let{error:s}=await this.supabase.storage.from("user-profile-pictures").upload(i,t,{upsert:!0});return s?null:i}async cacheProfilePictureBlob(t,e){await(await uc("profile-cache",1,{upgrade(i){i.createObjectStore("pictures")}})).put("pictures",e,t)}async getCachedProfilePictureBlobUrl(t){if(!t)return null;let e=await uc("profile-cache",1,{upgrade(a){a.createObjectStore("pictures")}}),r=await e.get("pictures",t);if(r)return URL.createObjectURL(r);let i=await this.getPublicUrl(t);if(!i)return null;let o=await fetch(i);if(!o.ok)return null;let s=await o.blob();return await e.put("pictures",s,t),URL.createObjectURL(s)}clearCachedProfilePictureBlobUrl(){if(zn(this.platformId)){let t=sessionStorage.getItem("profile_picture_blob_url");t&&(URL.revokeObjectURL(t),sessionStorage.removeItem("profile_picture_blob_url"))}}async deleteProfilePicture(){let{data:{user:t}}=await this.supabase.auth.getUser();if(!t)return;let e=`${t.id}/profile.png`,r=`${t.id}/profile.jpg`,i=`${t.id}/profile.jpeg`,o=`${t.id}/profile.webp`;await this.supabase.storage.from("user-profile-pictures").remove([e,r,i,o]);let s=await uc("profile-cache",1,{upgrade(a){a.createObjectStore("pictures")}});await s.delete("pictures",e),await s.delete("pictures",r),await s.delete("pictures",i),await s.delete("pictures",o)}async getPublicUrl(t){let{data:e}=await this.supabase.storage.from("user-profile-pictures").createSignedUrl(t,60);return e?.signedUrl??null}static \u0275fac=function(e){return new(e||n)(L(Me),L(Lt))};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ar=class n{constructor(t,e,r,i){this.supabaseService=t;this.supabaseAccountService=e;this.router=r;this.document=i;this.supabase=this.supabaseService.GetClient(),this.rootDomainName="https://app.tradingrehab.io/auth/update-password"}supabase;rootDomainName;async signIn(t,e){try{let{error:r}=await this.supabase.auth.signInWithPassword({email:t,password:e});if(r)throw r;return{success:!0}}catch(r){return console.error("Sign in error:",r),{success:!1,error:r}}}async logout(t=!0){try{await this.supabase.auth.signOut()}catch(e){console.error("Sign out error:",e)}this.supabaseService.updateSignalsFromSession(null),this.supabaseAccountService.clearCachedProfilePictureBlobUrl(),zn(this.supabaseService.platformId)&&(sessionStorage.clear(),localStorage.clear()),t&&this.router.navigate(["/"])}async signUp(t,e,r,i){let{error:o}=await this.supabase.auth.signUp({email:t,password:e,options:{data:{firstname:r,lastname:i}}});return o?{success:!1,error:o}:{success:!0}}async requestPasswordReset(t){let{error:e}=await this.supabase.auth.resetPasswordForEmail(t,{redirectTo:"https://app.tradingrehab.io/#/?returnUrl=%2Fauth%2Fupdate-password"});return e?{success:!1,error:e}:{success:!0}}async updatePassword(t){let{error:e}=await this.supabase.auth.updateUser({password:t});return e?{success:!1,error:e}:{success:!0}}static \u0275fac=function(e){return new(e||n)(L(Me),L(qt),L(Dt),L(ye))};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})};function lj(n,t){if(n&1&&(d(0,"div",13),f(1),c()),n&2){let e=E();h(),R(" ",e.errorMessage," ")}}function cj(n,t){n&1&&(d(0,"div",28),f(1," A valid email is required. "),c())}function dj(n,t){n&1&&(d(0,"div",28),f(1," Password must be at least 6 characters. "),c())}function uj(n,t){if(n&1){let e=Q();d(0,"form",14),I("ngSubmit",function(){T(e);let i=E();return M(i.onSubmit())}),d(1,"div",15)(2,"label",16),f(3,"Email"),c(),w(4,"input",17),x(5,cj,2,0,"div",18),c(),d(6,"div",15)(7,"label",19),f(8,"Password"),c(),w(9,"input",20),x(10,dj,2,0,"div",18),d(11,"div",21)(12,"a",22),f(13,"Forgot password?"),c()()(),d(14,"div",23)(15,"button",24),f(16,"Continue"),c()(),d(17,"div",25)(18,"p",26),f(19,"Don't have an account? "),d(20,"a",27),I("click",function(){T(e);let i=E();return M(i.setActiveTab("signup"))}),f(21,"Sign up"),c()()()()}if(n&2){let e,r,i=E();b("formGroup",i.signinForm),h(5),b("ngIf",((e=i.signinForm.get("email"))==null?null:e.invalid)&&((e=i.signinForm.get("email"))==null?null:e.touched)),h(5),b("ngIf",((r=i.signinForm.get("password"))==null?null:r.invalid)&&((r=i.signinForm.get("password"))==null?null:r.touched)),h(5),b("disabled",i.signinForm.invalid)}}function fj(n,t){n&1&&(d(0,"small",43),f(1," First name is required "),c())}function mj(n,t){n&1&&(d(0,"small",43),f(1," Last name is required "),c())}function pj(n,t){n&1&&(d(0,"small",43),f(1," Valid email is required "),c())}function hj(n,t){n&1&&(d(0,"small",43),f(1," Password must be at least 6 characters "),c())}function gj(n,t){n&1&&(d(0,"small",43),f(1," Passwords do not match "),c())}function bj(n,t){if(n&1){let e=Q();d(0,"form",14),I("ngSubmit",function(){T(e);let i=E();return M(i.onSignupSubmit())}),d(1,"div",29)(2,"div",30)(3,"label",31),f(4,"First Name"),c(),w(5,"input",32),x(6,fj,2,0,"small",33),c(),d(7,"div",30)(8,"label",34),f(9,"Last Name"),c(),w(10,"input",35),x(11,mj,2,0,"small",33),c()(),d(12,"div",15)(13,"label",36),f(14,"Email"),c(),w(15,"input",37),x(16,pj,2,0,"small",33),c(),d(17,"div",15)(18,"label",38),f(19,"Password"),c(),w(20,"input",39),x(21,hj,2,0,"small",33),c(),d(22,"div",15)(23,"label",40),f(24,"Confirm Password"),c(),w(25,"input",41),x(26,gj,2,0,"small",33),c(),d(27,"div",21)(28,"a",22),f(29,"Forgot password?"),c()(),d(30,"div",23)(31,"button",24),f(32,"Create Account"),c()(),d(33,"div",25)(34,"p",26),f(35,"Already have an account? "),d(36,"a",42),I("click",function(){T(e);let i=E();return M(i.setActiveTab("login"))}),f(37,"Login"),c()()()()}if(n&2){let e,r,i,o,s,a=E();b("formGroup",a.signupForm),h(6),b("ngIf",((e=a.signupForm.get("firstname"))==null?null:e.invalid)&&((e=a.signupForm.get("firstname"))==null?null:e.touched)),h(5),b("ngIf",((r=a.signupForm.get("lastname"))==null?null:r.invalid)&&((r=a.signupForm.get("lastname"))==null?null:r.touched)),h(5),b("ngIf",((i=a.signupForm.get("email"))==null?null:i.invalid)&&((i=a.signupForm.get("email"))==null?null:i.touched)),h(5),b("ngIf",((o=a.signupForm.get("password"))==null?null:o.invalid)&&((o=a.signupForm.get("password"))==null?null:o.touched)),h(5),b("ngIf",a.signupForm.hasError("mismatch")&&((s=a.signupForm.get("confirmPassword"))==null?null:s.touched)),h(5),b("disabled",a.signupForm.invalid)}}var am=class n{constructor(t,e,r,i,o,s,a){this.fb=t;this.router=e;this.route=r;this.cdr=i;this.supabaseService=o;this.supabaseAuthService=s;this.supabaseAccountService=a;this.signinForm=this.fb.group({email:["",[N.required,N.email]],password:["",[N.required,N.minLength(6)]]}),this.signupForm=this.fb.group({firstname:["",N.required],lastname:["",N.required],email:["",[N.required,N.email]],password:["",[N.required,N.minLength(6)]],confirmPassword:["",N.required]},{validators:this.passwordMatchValidator})}activeTab="login";signinForm;signupForm;errorMessage=null;ngOnInit(){this.route.queryParams.subscribe(t=>{t.mode==="signup"&&(this.activeTab="signup")})}passwordMatchValidator(t){let e=t.get("password")?.value,r=t.get("confirmPassword")?.value;return e===r?null:{mismatch:!0}}setActiveTab(t){this.activeTab=t,this.errorMessage=null}async onSubmit(){if(this.signinForm.invalid){this.signinForm.markAllAsTouched();return}let{email:t,password:e}=this.signinForm.getRawValue();try{if(await this.supabaseAuthService.signIn(t,e),!this.supabaseService.currentUsername()){this.errorMessage="Login failed. Please try again.",this.cdr.markForCheck();return}this.signinForm.reset();let r=this.route.snapshot.queryParams.returnUrl||"/home";this.router.navigateByUrl(r),this.cdr.markForCheck()}catch(r){this.errorMessage=r.message||"An unexpected error occurred.",this.cdr.markForCheck()}}async onSignupSubmit(){if(this.signupForm.invalid){this.errorMessage="Please fill them correctly.",this.signupForm.markAllAsTouched(),this.cdr.markForCheck();return}let{email:t,password:e,firstname:r,lastname:i}=this.signupForm.getRawValue();try{let{success:o,error:s}=await this.supabaseAuthService.signUp(t,e,r,i);if(!o){this.errorMessage=s?.message||"Signup failed.",this.cdr.markForCheck();return}let a=this.supabaseService.user();if(!a){this.errorMessage="User not found after signup.",this.cdr.markForCheck();return}await this.supabaseAccountService.createProfile({user_id:a.id,firstname:r,lastname:i,email:t,phone:null,profile_picture_url:null,updated_at:new Date().toISOString(),preferences:{},metadata:{}}),this.signupForm.reset(),this.router.navigateByUrl("/home"),this.cdr.markForCheck()}catch(o){this.errorMessage=o.message||"An unexpected error occurred.",this.cdr.markForCheck()}}static \u0275fac=function(e){return new(e||n)(D(zt),D(Dt),D(kn),D(ee),D(Me),D(Ar),D(qt))};static \u0275cmp=j({type:n,selectors:[["app-login-signup"]],decls:20,vars:7,consts:[[1,"auth-container"],[1,"auth-card"],[1,"text-center","mb-4"],[1,"logo-circle","mx-auto"],["src","/tr_logo.png","alt","Logo",1,"img-fluid"],[1,"brand-name","mt-3"],[1,"brand-tagline"],[1,"auth-tabs","d-flex","justify-content-center","mb-4"],[1,"tabs-container"],[1,"tab",3,"click"],[1,"mx-2","tab-separator"],["class","alert alert-danger mb-3",4,"ngIf"],["class","auth-form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"alert","alert-danger","mb-3"],[1,"auth-form",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","placeholder","Enter your email",1,"form-control"],["class","text-danger small mt-1",4,"ngIf"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password","placeholder","Enter your password",1,"form-control"],[1,"d-flex","justify-content-end","mt-2"],["routerLink","/auth/forgot-password",1,"forgot-link"],[1,"d-grid","gap-2","mt-4"],["type","submit",1,"btn","btn-tr","btn-primary","btn-md",3,"disabled"],[1,"text-center","mt-4"],[1,"mb-0"],["href","javascript:void(0)",1,"signup-link",3,"click"],[1,"text-danger","small","mt-1"],[1,"row"],[1,"col-md-6","mb-3"],["for","firstname",1,"form-label"],["type","text","id","firstname","formControlName","firstname","placeholder","First name",1,"form-control"],["class","text-danger",4,"ngIf"],["for","lastname",1,"form-label"],["type","text","id","lastname","formControlName","lastname","placeholder","Last name",1,"form-control"],["for","signup-email",1,"form-label"],["type","email","id","signup-email","formControlName","email","placeholder","Enter your email",1,"form-control"],["for","signup-password",1,"form-label"],["type","password","id","signup-password","formControlName","password","placeholder","Create a password",1,"form-control"],["for","confirmPassword",1,"form-label"],["type","password","id","confirmPassword","formControlName","confirmPassword","placeholder","Confirm your password",1,"form-control"],["href","javascript:void(0)",1,"login-link",3,"click"],[1,"text-danger"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),w(4,"img",4),c(),d(5,"h2",5),f(6,"TRADING REHAB"),c(),d(7,"p",6),f(8,"Where Disciplined Trading Begins"),c()(),d(9,"div",7)(10,"div",8)(11,"span",9),I("click",function(){return r.setActiveTab("login")}),f(12,"Login"),c(),d(13,"span",10),f(14,"\u2022"),c(),d(15,"span",9),I("click",function(){return r.setActiveTab("signup")}),f(16,"Sign Up"),c()()(),x(17,lj,2,1,"div",11)(18,uj,22,4,"form",12)(19,bj,38,7,"form",12),c()()),e&2&&(h(11),Ie("active",r.activeTab==="login"),h(4),Ie("active",r.activeTab==="signup"),h(2),b("ngIf",r.errorMessage),h(),b("ngIf",r.activeTab==="login"),h(),b("ngIf",r.activeTab==="signup"))},dependencies:[G,ue,Se,mn,we,xe,ze,Be,We,Ke],styles:['.auth-container[_ngcontent-%COMP%]{min-height:100dvh;display:flex;align-items:center;justify-content:center}.auth-card[_ngcontent-%COMP%]{background-color:transparent;border-radius:12px;width:100%;max-width:450px;padding:30px}.logo-circle[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;background-color:transparent;position:relative;display:flex;align-items:center;justify-content:center;margin:0 auto}.dots-circle[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;position:relative;background-image:radial-gradient(circle,#5046e5 3px,transparent 3px);background-size:15px 15px;transform:rotate(45deg)}.brand-name[_ngcontent-%COMP%]{font-weight:700;font-size:24px;margin-bottom:5px;letter-spacing:.5px}.brand-tagline[_ngcontent-%COMP%]{color:#666;font-size:14px;margin:0}.tabs-container[_ngcontent-%COMP%]{display:inline-flex;align-items:center;border-bottom:1px solid #eee;padding-bottom:5px}.tab[_ngcontent-%COMP%]{padding:8px 15px;cursor:pointer;color:#888;font-weight:500;font-size:16px;transition:color .2s}.tab.active[_ngcontent-%COMP%]{color:#5046e5;border-bottom:2px solid #5046e5}.tab-separator[_ngcontent-%COMP%]{color:#ccc}.auth-form[_ngcontent-%COMP%]{margin-top:10px}.form-control[_ngcontent-%COMP%]{height:auto;padding:12px 15px;border-radius:8px;border:1px solid #ddd;transition:border-color .2s,box-shadow .2s}.form-control[_ngcontent-%COMP%]:focus{border-color:#5046e5;box-shadow:0 0 0 .2rem #5046e526}.form-label[_ngcontent-%COMP%]{font-weight:500;color:#555;margin-bottom:8px}.forgot-link[_ngcontent-%COMP%]{font-size:14px;color:#5046e5;text-decoration:none}.forgot-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.signup-link[_ngcontent-%COMP%], .login-link[_ngcontent-%COMP%]{color:#5046e5;font-weight:500;text-decoration:none}.signup-link[_ngcontent-%COMP%]:hover, .login-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.btn-primary[_ngcontent-%COMP%]{background-color:#5046e5;border-color:#5046e5;padding:12px;font-weight:500}.btn-primary[_ngcontent-%COMP%]:hover, .btn-primary[_ngcontent-%COMP%]:focus{background-color:#4238d0;border-color:#4238d0}.btn-primary[_ngcontent-%COMP%]:disabled{background-color:#a8a4e0;border-color:#a8a4e0}.separator[_ngcontent-%COMP%]{display:flex;align-items:center;text-align:center;color:#888;font-size:14px}.separator[_ngcontent-%COMP%]:before, .separator[_ngcontent-%COMP%]:after{content:"";flex:1;border-bottom:1px solid #ddd}.separator[_ngcontent-%COMP%]:before{margin-right:1em}.separator[_ngcontent-%COMP%]:after{margin-left:1em}.google-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#fff;border:1px solid #ddd;color:#333;padding:12px;font-weight:500}.google-btn[_ngcontent-%COMP%]:hover{background-color:#f8f8f8;color:#333}@media (max-width: 576px){.auth-card[_ngcontent-%COMP%]{padding:20px 15px}.brand-name[_ngcontent-%COMP%]{font-size:20px}.form-control[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]{padding:10px}}']})};var ga=class n{constructor(t){this.supabaseService=t;this.supabase=this.supabaseService.GetClient()}supabase;ngOnInit(){}async adminLoadMeditationVideos(){let{data:t,error:e}=await this.supabase.from("adminmeditationvideos").select("*").order("created_at",{ascending:!1});if(e)throw console.error("Error loading meditation videos: ",e),e;return t}async loadActiveMeditationVideos(){let{data:t,error:e}=await this.supabase.from("activemeditationvideos").select("*").order("created_at",{ascending:!1});if(e)throw console.error("Error loading meditation videos: ",e),e;return t}async addMeditationVideo(t){let{error:e}=await this.supabase.from("adminmeditationvideos").insert([{title:t.title,url:t.url,category:t.category,description:t.description,isactive:t.isactive}]);return e&&console.error("Error adding meditation video: ",e),{error:e}}async updateMeditationVideo(t){let{error:e}=await this.supabase.from("adminmeditationvideos").update({title:t.title,url:t.url,category:t.category,description:t.description,isactive:t.isactive,updated_time:t.updated_time}).eq("id",t.id);return e&&console.error("Error updating meditation video: ",e),{error:e}}static \u0275fac=function(e){return new(e||n)(L(Me))};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})};var fc=class{_attachedHost;attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},a0=class extends fc{component;viewContainerRef;injector;componentFactoryResolver;projectableNodes;constructor(t,e,r,i,o){super(),this.component=t,this.viewContainerRef=e,this.injector=r,this.projectableNodes=o}},ba=class extends fc{templateRef;viewContainerRef;context;injector;constructor(t,e,r,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}},l0=class extends fc{element;constructor(t){super(),this.element=t instanceof ve?t.nativeElement:t}},c0=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof a0)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof ba)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof l0)return this._attachedPortal=t,this.attachDomPortal(t)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var oD=(()=>{class n extends ba{constructor(){let e=y(Zt),r=y(Yt);super(e,r)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=X({type:n,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[ke]})}return n})();var lm=(()=>{class n extends c0{_moduleRef=y(wr,{optional:!0});_document=y(ye);_viewContainerRef=y(Yt);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}attached=new J;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);let r=e.viewContainerRef!=null?e.viewContainerRef:this._viewContainerRef,i=r.createComponent(e.component,{index:r.length,injector:e.injector||r.injector,projectableNodes:e.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return r!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),super.setDisposeFn(()=>i.destroy()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}attachTemplatePortal(e){e.setAttachedHost(this);let r=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}attachDomPortal=e=>{let r=e.element;r.parentNode;let i=this._document.createComment("dom-portal");e.setAttachedHost(this),r.parentNode.insertBefore(i,r),this._getRootNode().appendChild(r),this._attachedPortal=e,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(r,i)})};_getRootNode(){let e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static \u0275fac=function(r){return new(r||n)};static \u0275dir=X({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[ke]})}return n})();var d0=class{_box;_destroyed=new ne;_resizeSubject=new ne;_resizeObserver;_elementObservables=new Map;constructor(t){this._box=t,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new re(e=>{let r=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),r.unsubscribe(),this._elementObservables.delete(t)}}).pipe(qe(e=>e.some(r=>r.target===t)),nd({bufferSize:1,refCount:!0}),Wt(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},sD=(()=>{class n{_cleanupErrorListener;_observers=new Map;_ngZone=y(ce);constructor(){typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,e]of this._observers)e.destroy();this._observers.clear(),this._cleanupErrorListener?.()}observe(e,r){let i=r?.box||"content-box";return this._observers.has(i)||this._observers.set(i,new d0(i)),this._observers.get(i).observe(e)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var _j=20,yj=(()=>{class n{_ngZone=y(ce);_platform=y(Xt);_renderer=y(Xn).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new ne;_scrolledCount=0;scrollContainers=new Map;register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let r=this.scrollContainers.get(e);r&&(r.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=_j){return this._platform.isBrowser?new re(r=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let i=e>0?this._scrolled.pipe(Xc(e)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):q()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((e,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(e,r){let i=this.getAncestorScrollContainers(e);return this.scrolled(r).pipe(qe(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(e){let r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,e)&&r.push(o)}),r}_scrollableContainsElement(e,r){let i=lr(r),o=e.getElementRef().nativeElement;do if(i==o)return!0;while(i=i.parentElement);return!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),aD=(()=>{class n{elementRef=y(ve);scrollDispatcher=y(yj);ngZone=y(ce);dir=y(Fl,{optional:!0});_scrollElement=this.elementRef.nativeElement;_destroyed=new ne;_renderer=y(Bt);_cleanupScroll;_elementScrolled=new ne;constructor(){}ngOnInit(){this._cleanupScroll=this.ngZone.runOutsideAngular(()=>this._renderer.listen(this._scrollElement,"scroll",e=>this._elementScrolled.next(e))),this.scrollDispatcher.register(this)}ngOnDestroy(){this._cleanupScroll?.(),this._elementScrolled.complete(),this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){let r=this.elementRef.nativeElement,i=this.dir&&this.dir.value=="rtl";e.left==null&&(e.left=i?e.end:e.start),e.right==null&&(e.right=i?e.start:e.end),e.bottom!=null&&(e.top=r.scrollHeight-r.clientHeight-e.bottom),i&&Hs()!=ar.NORMAL?(e.left!=null&&(e.right=r.scrollWidth-r.clientWidth-e.left),Hs()==ar.INVERTED?e.left=e.right:Hs()==ar.NEGATED&&(e.left=e.right?-e.right:e.right)):e.right!=null&&(e.left=r.scrollWidth-r.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){let r=this.elementRef.nativeElement;Zx()?r.scrollTo(e):(e.top!=null&&(r.scrollTop=e.top),e.left!=null&&(r.scrollLeft=e.left))}measureScrollOffset(e){let r="left",i="right",o=this.elementRef.nativeElement;if(e=="top")return o.scrollTop;if(e=="bottom")return o.scrollHeight-o.clientHeight-o.scrollTop;let s=this.dir&&this.dir.value=="rtl";return e=="start"?e=s?i:r:e=="end"&&(e=s?r:i),s&&Hs()==ar.INVERTED?e==r?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&Hs()==ar.NEGATED?e==r?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==r?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}static \u0275fac=function(r){return new(r||n)};static \u0275dir=X({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]})}return n})(),wj=20,lD=(()=>{class n{_platform=y(Xt);_listeners;_viewportSize;_change=new ne;_document=y(ye,{optional:!0});constructor(){let e=y(ce),r=y(Xn).createRenderer(null,null);e.runOutsideAngular(()=>{if(this._platform.isBrowser){let i=o=>this._change.next(o);this._listeners=[r.listen("window","resize",i),r.listen("window","orientationchange",i)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(e=>e()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,r=this._getWindow(),i=e.documentElement,o=i.getBoundingClientRect(),s=-o.top||e.body.scrollTop||r.scrollY||i.scrollTop||0,a=-o.left||e.body.scrollLeft||r.scrollX||i.scrollLeft||0;return{top:s,left:a}}change(e=wj){return e>0?this._change.pipe(Xc(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var fe=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(fe||{}),kr="*";function va(n,t){return{type:fe.Trigger,name:n,definitions:t,options:{}}}function bn(n,t=null){return{type:fe.Animate,styles:t,timings:n}}function cD(n,t=null){return{type:fe.Sequence,steps:n,options:t}}function ct(n){return{type:fe.Style,styles:n,offset:null}}function Wn(n,t,e){return{type:fe.State,name:n,styles:t,options:e}}function vn(n,t,e=null){return{type:fe.Transition,expr:n,animation:t,options:e}}var $i=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(t=0,e=0){this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}},mc=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(t){this.players=t;let e=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){let e=t*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(i)})}getPosition(){let t=this.players.reduce((e,r)=>e===null||r.totalTime>e.totalTime?r:e,null);return t!=null?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}},cm="!";var p0=["*"];function xj(n,t){n&1&&Bn(0)}var Sj=["tabListContainer"],Dj=["tabList"],Ij=["tabListInner"],Tj=["nextPaginator"],Mj=["previousPaginator"],Aj=n=>({animationDuration:n}),kj=(n,t)=>({value:n,params:t});function Pj(n,t){}var Oj=["tabBodyWrapper"],Rj=["tabHeader"];function Nj(n,t){}function Fj(n,t){if(n&1&&x(0,Nj,0,0,"ng-template",12),n&2){let e=E().$implicit;b("cdkPortalOutlet",e.templateLabel)}}function Lj(n,t){if(n&1&&f(0),n&2){let e=E().$implicit;U(e.textLabel)}}function Vj(n,t){if(n&1){let e=Q();d(0,"div",7,2),I("click",function(){let i=T(e),o=i.$implicit,s=i.$index,a=E(),l=bo(1);return M(a._handleClick(o,l,s))})("cdkFocusChange",function(i){let o=T(e).$index,s=E();return M(s._tabFocusChanged(i,o))}),w(2,"span",8)(3,"div",9),d(4,"span",10)(5,"span",11),x(6,Fj,1,1,null,12)(7,Lj,1,1),c()()()}if(n&2){let e=t.$implicit,r=t.$index,i=bo(1),o=E();Er(e.labelClass),Ie("mdc-tab--active",o.selectedIndex===r),b("id",o._getTabLabelId(r))("disabled",e.disabled)("fitInkBarToContent",o.fitInkBarToContent),bt("tabIndex",o._getTabIndex(r))("aria-posinset",r+1)("aria-setsize",o._tabs.length)("aria-controls",o._getTabContentId(r))("aria-selected",o.selectedIndex===r)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),h(3),b("matRippleTrigger",i)("matRippleDisabled",e.disabled||o.disableRipple),h(3),gu(e.templateLabel?6:7)}}function jj(n,t){n&1&&Bn(0)}function Bj(n,t){if(n&1){let e=Q();d(0,"mat-tab-body",13),I("_onCentered",function(){T(e);let i=E();return M(i._removeTabBodyWrapperHeight())})("_onCentering",function(i){T(e);let o=E();return M(o._setTabBodyWrapperHeight(i))}),c()}if(n&2){let e=t.$implicit,r=t.$index,i=E();Er(e.bodyClass),Ie("mat-mdc-tab-body-active",i.selectedIndex===r),b("id",i._getTabContentId(r))("content",e.content)("position",e.position)("origin",e.origin)("animationDuration",i.animationDuration)("preserveContent",i.preserveContent),bt("tabindex",i.contentTabIndex!=null&&i.selectedIndex===r?i.contentTabIndex:null)("aria-labelledby",i._getTabLabelId(r))("aria-hidden",i.selectedIndex!==r)}}var Uj=new V("MatTabContent"),$j=(()=>{class n{template=y(Zt);constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275dir=X({type:n,selectors:[["","matTabContent",""]],features:[tt([{provide:Uj,useExisting:n}])]})}return n})(),zj=new V("MatTabLabel"),fD=new V("MAT_TAB"),h0=(()=>{class n extends oD{_closestTab=y(fD,{optional:!0});static \u0275fac=(()=>{let e;return function(i){return(e||(e=gt(n)))(i||n)}})();static \u0275dir=X({type:n,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[tt([{provide:zj,useExisting:n}]),ke]})}return n})(),mD=new V("MAT_TAB_GROUP"),g0=(()=>{class n{_viewContainerRef=y(Yt);_closestTabGroup=y(mD,{optional:!0});disabled=!1;get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}_templateLabel;_explicitContent=void 0;_implicitContent;textLabel="";ariaLabel;ariaLabelledby;labelClass;bodyClass;_contentPortal=null;get content(){return this._contentPortal}_stateChanges=new ne;position=null;origin=null;isActive=!1;constructor(){y(qs).load(pf)}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new ba(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=j({type:n,selectors:[["mat-tab"]],contentQueries:function(r,i,o){if(r&1&&(As(o,h0,5),As(o,$j,7,Zt)),r&2){let s;Et(s=xt())&&(i.templateLabel=s.first),Et(s=xt())&&(i._explicitContent=s.first)}},viewQuery:function(r,i){if(r&1&&Un(Zt,7),r&2){let o;Et(o=xt())&&(i._implicitContent=o.first)}},hostAttrs:["hidden",""],inputs:{disabled:[2,"disabled","disabled",De],textLabel:[0,"label","textLabel"],ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],features:[tt([{provide:fD,useExisting:n}]),ft,cn],ngContentSelectors:p0,decls:1,vars:0,template:function(r,i){r&1&&(xr(),x(0,xj,1,0,"ng-template"))},encapsulation:2})}return n})(),u0="mdc-tab-indicator--active",dD="mdc-tab-indicator--no-transition",f0=class{_items;_currentItem;constructor(t){this._items=t}hide(){this._items.forEach(t=>t.deactivateInkBar()),this._currentItem=void 0}alignToElement(t){let e=this._items.find(i=>i.elementRef.nativeElement===t),r=this._currentItem;if(e!==r&&(r?.deactivateInkBar(),e)){let i=r?.elementRef.nativeElement.getBoundingClientRect?.();e.activateInkBar(i),this._currentItem=e}}},Hj=(()=>{class n{_elementRef=y(ve);_inkBarElement;_inkBarContentElement;_fitToContent=!1;get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(e){this._fitToContent!==e&&(this._fitToContent=e,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(e){let r=this._elementRef.nativeElement;if(!e||!r.getBoundingClientRect||!this._inkBarContentElement){r.classList.add(u0);return}let i=r.getBoundingClientRect(),o=e.width/i.width,s=e.left-i.left;r.classList.add(dD),this._inkBarContentElement.style.setProperty("transform",`translateX(${s}px) scaleX(${o})`),r.getBoundingClientRect(),r.classList.remove(dD),r.classList.add(u0),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this._elementRef.nativeElement.classList.remove(u0)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){let e=this._elementRef.nativeElement.ownerDocument||document,r=this._inkBarElement=e.createElement("span"),i=this._inkBarContentElement=e.createElement("span");r.className="mdc-tab-indicator",i.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",r.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){this._inkBarElement;let e=this._fitToContent?this._elementRef.nativeElement.querySelector(".mdc-tab__content"):this._elementRef.nativeElement;e.appendChild(this._inkBarElement)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=X({type:n,inputs:{fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",De]},features:[ft]})}return n})();var pD=(()=>{class n extends Hj{elementRef=y(ve);disabled=!1;focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}static \u0275fac=(()=>{let e;return function(i){return(e||(e=gt(n)))(i||n)}})();static \u0275dir=X({type:n,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(r,i){r&2&&(bt("aria-disabled",!!i.disabled),Ie("mat-mdc-tab-disabled",i.disabled))},inputs:{disabled:[2,"disabled","disabled",De]},features:[ft,ke]})}return n})(),uD={passive:!0},qj=650,Gj=100,Wj=(()=>{class n{_elementRef=y(ve);_changeDetectorRef=y(ee);_viewportRuler=y(lD);_dir=y(Fl,{optional:!0});_ngZone=y(ce);_platform=y(Xt);_sharedResizeObserver=y(sD);_injector=y(Ue);_renderer=y(Bt);_animationMode=y(nr,{optional:!0});_eventCleanups;_scrollDistance=0;_selectedIndexChanged=!1;_destroyed=new ne;_showPaginationControls=!1;_disableScrollAfter=!0;_disableScrollBefore=!0;_tabLabelCount;_scrollDistanceChanged;_keyManager;_currentTextContent;_stopScrolling=new ne;disablePagination=!1;get selectedIndex(){return this._selectedIndex}set selectedIndex(e){let r=isNaN(e)?0:e;this._selectedIndex!=r&&(this._selectedIndexChanged=!0,this._selectedIndex=r,this._keyManager&&this._keyManager.updateActiveItem(r))}_selectedIndex=0;selectFocusedIndex=new J;indexFocused=new J;constructor(){this._eventCleanups=this._ngZone.runOutsideAngular(()=>[this._renderer.listen(this._elementRef.nativeElement,"mouseleave",()=>this._stopInterval())])}ngAfterViewInit(){this._eventCleanups.push(Jb(this._renderer,this._previousPaginator.nativeElement,"touchstart",()=>this._handlePaginatorPress("before"),uD),Jb(this._renderer,this._nextPaginator.nativeElement,"touchstart",()=>this._handlePaginatorPress("after"),uD))}ngAfterContentInit(){let e=this._dir?this._dir.change:q("ltr"),r=this._sharedResizeObserver.observe(this._elementRef.nativeElement).pipe(Fr(32),Wt(this._destroyed)),i=this._viewportRuler.change(150).pipe(Wt(this._destroyed)),o=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new lf(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),Is(o,{injector:this._injector}),Oa(e,i,r,this._items.changes,this._itemsResized()).pipe(Wt(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),o()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(s=>{this.indexFocused.emit(s),this._setTabFocus(s)})}_itemsResized(){return typeof ResizeObserver!="function"?pt:this._items.changes.pipe(gr(this._items),At(e=>new re(r=>this._ngZone.runOutsideAngular(()=>{let i=new ResizeObserver(o=>r.next(o));return e.forEach(o=>i.observe(o.elementRef.nativeElement)),()=>{i.disconnect()}}))),Xi(1),qe(e=>e.some(r=>r.contentRect.width>0&&r.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._eventCleanups.forEach(e=>e()),this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!of(e))switch(e.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){let r=this._items.get(this.focusIndex);r&&!r.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e))}break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){let e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){return this._items?!!this._items.toArray()[e]:!0}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();let r=this._tabListContainer.nativeElement;this._getLayoutDirection()=="ltr"?r.scrollLeft=0:r.scrollLeft=r.scrollWidth-r.offsetWidth}}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;let e=this.scrollDistance,r=this._getLayoutDirection()==="ltr"?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(r)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){let r=this._tabListContainer.nativeElement.offsetWidth,i=(e=="before"?-1:1)*r/3;return this._scrollTo(this._scrollDistance+i)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;let r=this._items?this._items.toArray()[e]:null;if(!r)return;let i=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:o,offsetWidth:s}=r.elementRef.nativeElement,a,l;this._getLayoutDirection()=="ltr"?(a=o,l=a+s):(l=this._tabListInner.nativeElement.offsetWidth-o,a=l-s);let u=this.scrollDistance,m=this.scrollDistance+i;a<u?this.scrollDistance-=u-a:l>m&&(this.scrollDistance+=Math.min(l-m,a-u))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{let e=this._tabListInner.nativeElement.scrollWidth,r=this._elementRef.nativeElement.offsetWidth,i=e-r>=5;i||(this.scrollDistance=0),i!==this._showPaginationControls&&(this._showPaginationControls=i,this._changeDetectorRef.markForCheck())}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=this.scrollDistance==0,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){let e=this._tabListInner.nativeElement.scrollWidth,r=this._tabListContainer.nativeElement.offsetWidth;return e-r||0}_alignInkBarToSelectedTab(){let e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,r=e?e.elementRef.nativeElement:null;r?this._inkBar.alignToElement(r):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,r){r&&r.button!=null&&r.button!==0||(this._stopInterval(),Ji(qj,Gj).pipe(Wt(Oa(this._stopScrolling,this._destroyed))).subscribe(()=>{let{maxScrollDistance:i,distance:o}=this._scrollHeader(e);(o===0||o>=i)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};let r=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(r,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:r,distance:this._scrollDistance}}static \u0275fac=function(r){return new(r||n)};static \u0275dir=X({type:n,inputs:{disablePagination:[2,"disablePagination","disablePagination",De],selectedIndex:[2,"selectedIndex","selectedIndex",Ps]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[ft]})}return n})(),Qj=(()=>{class n extends Wj{_items;_tabListContainer;_tabList;_tabListInner;_nextPaginator;_previousPaginator;_inkBar;ariaLabel;ariaLabelledby;disableRipple=!1;ngAfterContentInit(){this._inkBar=new f0(this._items),super.ngAfterContentInit()}_itemSelected(e){e.preventDefault()}static \u0275fac=(()=>{let e;return function(i){return(e||(e=gt(n)))(i||n)}})();static \u0275cmp=j({type:n,selectors:[["mat-tab-header"]],contentQueries:function(r,i,o){if(r&1&&As(o,pD,4),r&2){let s;Et(s=xt())&&(i._items=s)}},viewQuery:function(r,i){if(r&1&&(Un(Sj,7),Un(Dj,7),Un(Ij,7),Un(Tj,5),Un(Mj,5)),r&2){let o;Et(o=xt())&&(i._tabListContainer=o.first),Et(o=xt())&&(i._tabList=o.first),Et(o=xt())&&(i._tabListInner=o.first),Et(o=xt())&&(i._nextPaginator=o.first),Et(o=xt())&&(i._previousPaginator=o.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(r,i){r&2&&Ie("mat-mdc-tab-header-pagination-controls-enabled",i._showPaginationControls)("mat-mdc-tab-header-rtl",i._getLayoutDirection()=="rtl")},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],disableRipple:[2,"disableRipple","disableRipple",De]},features:[ft,ke],ngContentSelectors:p0,decls:13,vars:10,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"click","mousedown","touchend","matRippleDisabled"],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],[1,"mat-mdc-tab-labels"],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"mousedown","click","touchend","matRippleDisabled"]],template:function(r,i){if(r&1){let o=Q();xr(),d(0,"div",5,0),I("click",function(){return T(o),M(i._handlePaginatorClick("before"))})("mousedown",function(a){return T(o),M(i._handlePaginatorPress("before",a))})("touchend",function(){return T(o),M(i._stopInterval())}),w(2,"div",6),c(),d(3,"div",7,1),I("keydown",function(a){return T(o),M(i._handleKeydown(a))}),d(5,"div",8,2),I("cdkObserveContent",function(){return T(o),M(i._onContentChanges())}),d(7,"div",9,3),Bn(9),c()()(),d(10,"div",10,4),I("mousedown",function(a){return T(o),M(i._handlePaginatorPress("after",a))})("click",function(){return T(o),M(i._handlePaginatorClick("after"))})("touchend",function(){return T(o),M(i._stopInterval())}),w(12,"div",6),c()}r&2&&(Ie("mat-mdc-tab-header-pagination-disabled",i._disableScrollBefore),b("matRippleDisabled",i._disableScrollBefore||i.disableRipple),h(3),Ie("_mat-animation-noopable",i._animationMode==="NoopAnimations"),h(2),bt("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby||null),h(5),Ie("mat-mdc-tab-header-pagination-disabled",i._disableScrollAfter),b("matRippleDisabled",i._disableScrollAfter||i.disableRipple))},dependencies:[mv,Jx],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;outline:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color, var(--mat-sys-on-surface))}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-header-divider-height, 1px);border-bottom-color:var(--mat-tab-header-divider-color, var(--mat-sys-surface-variant))}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-header-divider-height, 1px);border-top-color:var(--mat-tab-header-divider-color, var(--mat-sys-surface-variant))}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.cdk-drop-list .mat-mdc-tab-labels,.mat-mdc-tab-labels.cdk-drop-list{min-height:var(--mdc-secondary-navigation-tab-container-height, 48px)}.mat-mdc-tab::before{margin:5px}@media(forced-colors: active){.mat-mdc-tab[aria-disabled=true]{color:GrayText}}"],encapsulation:2})}return n})(),Kj=new V("MAT_TABS_CONFIG"),Zj={translateTab:va("translateTab",[Wn("center, void, left-origin-center, right-origin-center",ct({transform:"none",visibility:"visible"})),Wn("left",ct({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),Wn("right",ct({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),vn("* => left, * => right, left => center, right => center",bn("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),vn("void => left-origin-center",[ct({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),bn("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),vn("void => right-origin-center",[ct({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),bn("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])},Yj=(()=>{class n extends lm{_host=y(hD);_centeringSub=Ee.EMPTY;_leavingSub=Ee.EMPTY;constructor(){super()}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(gr(this._host._isCenterPosition(this._host._position))).subscribe(e=>{this._host._content&&e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=X({type:n,selectors:[["","matTabBodyHost",""]],features:[ke]})}return n})(),hD=(()=>{class n{_elementRef=y(ve);_dir=y(Fl,{optional:!0});_positionIndex;_dirChangeSubscription=Ee.EMPTY;_position;_translateTabComplete=new ne;_onCentering=new J;_beforeCentering=new J;_afterLeavingCenter=new J;_onCentered=new J(!0);_portalHost;_content;origin;animationDuration="500ms";preserveContent=!1;set position(e){this._positionIndex=e,this._computePositionAnimationState()}constructor(){if(this._dir){let e=y(ee);this._dirChangeSubscription=this._dir.change.subscribe(r=>{this._computePositionAnimationState(r),e.markForCheck()})}this._translateTabComplete.subscribe(e=>{this._isCenterPosition(e.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(e.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){this._position=="center"&&this.origin!=null&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(e){let r=this._isCenterPosition(e.toState);this._beforeCentering.emit(r),r&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_isCenterPosition(e){return e=="center"||e=="left-origin-center"||e=="right-origin-center"}_computePositionAnimationState(e=this._getLayoutDirection()){this._positionIndex<0?this._position=e=="ltr"?"left":"right":this._positionIndex>0?this._position=e=="ltr"?"right":"left":this._position="center"}_computePositionFromOrigin(e){let r=this._getLayoutDirection();return r=="ltr"&&e<=0||r=="rtl"&&e>0?"left-origin-center":"right-origin-center"}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=j({type:n,selectors:[["mat-tab-body"]],viewQuery:function(r,i){if(r&1&&Un(lm,5),r&2){let o;Et(o=xt())&&(i._portalHost=o.first)}},hostAttrs:[1,"mat-mdc-tab-body"],inputs:{_content:[0,"content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"},decls:3,vars:6,consts:[["content",""],["cdkScrollable","",1,"mat-mdc-tab-body-content"],["matTabBodyHost",""]],template:function(r,i){if(r&1){let o=Q();d(0,"div",1,0),I("@translateTab.start",function(a){return T(o),M(i._onTranslateTabStarted(a))})("@translateTab.done",function(a){return T(o),M(i._translateTabComplete.next(a))}),x(2,Pj,0,0,"ng-template",2),c()}r&2&&b("@translateTab",Dn(3,kj,i._position,bu(1,Aj,i.animationDuration)))},dependencies:[Yj,aD],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[Zj.translateTab]}})}return n})(),Jj=!0,gD=(()=>{class n{_elementRef=y(ve);_changeDetectorRef=y(ee);_animationMode=y(nr,{optional:!0});_allTabs;_tabBodyWrapper;_tabHeader;_tabs=new Ei;_indexToSelect=0;_lastFocusedTabIndex=null;_tabBodyWrapperHeight=0;_tabsSubscription=Ee.EMPTY;_tabLabelSubscription=Ee.EMPTY;color;get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(e){this._fitInkBarToContent=e,this._changeDetectorRef.markForCheck()}_fitInkBarToContent=!1;stretchTabs=!0;alignTabs=null;dynamicHeight=!1;get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=isNaN(e)?null:e}_selectedIndex=null;headerPosition="above";get animationDuration(){return this._animationDuration}set animationDuration(e){let r=e+"";this._animationDuration=/^\d+$/.test(r)?e+"ms":r}_animationDuration;get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=isNaN(e)?null:e}_contentTabIndex;disablePagination=!1;disableRipple=!1;preserveContent=!1;get backgroundColor(){return this._backgroundColor}set backgroundColor(e){if(!Jj)throw new Error("mat-tab-group background color must be set through the Sass theming API");let r=this._elementRef.nativeElement.classList;r.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),e&&r.add("mat-tabs-with-background",`mat-background-${e}`),this._backgroundColor=e}_backgroundColor;ariaLabel;ariaLabelledby;selectedIndexChange=new J;focusChange=new J;animationDone=new J;selectedTabChange=new J(!0);_groupId;_isServer=!y(Xt).isBrowser;constructor(){let e=y(Kj,{optional:!0});this._groupId=y(av).getId("mat-tab-group-"),this.animationDuration=e&&e.animationDuration?e.animationDuration:"500ms",this.disablePagination=e&&e.disablePagination!=null?e.disablePagination:!1,this.dynamicHeight=e&&e.dynamicHeight!=null?e.dynamicHeight:!1,e?.contentTabIndex!=null&&(this.contentTabIndex=e.contentTabIndex),this.preserveContent=!!e?.preserveContent,this.fitInkBarToContent=e&&e.fitInkBarToContent!=null?e.fitInkBarToContent:!1,this.stretchTabs=e&&e.stretchTabs!=null?e.stretchTabs:!0,this.alignTabs=e&&e.alignTabs!=null?e.alignTabs:null}ngAfterContentChecked(){let e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){let r=this._selectedIndex==null;if(!r){this.selectedTabChange.emit(this._createChangeEvent(e));let i=this._tabBodyWrapper.nativeElement;i.style.minHeight=i.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((i,o)=>i.isActive=o===e),r||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((r,i)=>{r.position=i-e,this._selectedIndex!=null&&r.position==0&&!r.origin&&(r.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{let e=this._clampTabIndex(this._indexToSelect);if(e===this._selectedIndex){let r=this._tabs.toArray(),i;for(let o=0;o<r.length;o++)if(r[o].isActive){this._indexToSelect=this._selectedIndex=o,this._lastFocusedTabIndex=null,i=r[o];break}!i&&r[e]&&Promise.resolve().then(()=>{r[e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(e))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(gr(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(r=>r._closestTabGroup===this||!r._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(e){let r=this._tabHeader;r&&(r.focusIndex=e)}_focusChanged(e){this._lastFocusedTabIndex=e,this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){let r=new m0;return r.index=e,this._tabs&&this._tabs.length&&(r.tab=this._tabs.toArray()[e]),r}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=Oa(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e){return`${this._groupId}-label-${e}`}_getTabContentId(e){return`${this._groupId}-content-${e}`}_setTabBodyWrapperHeight(e){if(!this.dynamicHeight||!this._tabBodyWrapperHeight)return;let r=this._tabBodyWrapper.nativeElement;r.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(r.style.height=e+"px")}_removeTabBodyWrapperHeight(){let e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this.animationDone.emit()}_handleClick(e,r,i){r.focusIndex=i,e.disabled||(this.selectedIndex=i)}_getTabIndex(e){let r=this._lastFocusedTabIndex??this.selectedIndex;return e===r?0:-1}_tabFocusChanged(e,r){e&&e!=="mouse"&&e!=="touch"&&(this._tabHeader.focusIndex=r)}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=j({type:n,selectors:[["mat-tab-group"]],contentQueries:function(r,i,o){if(r&1&&As(o,g0,5),r&2){let s;Et(s=xt())&&(i._allTabs=s)}},viewQuery:function(r,i){if(r&1&&(Un(Oj,5),Un(Rj,5)),r&2){let o;Et(o=xt())&&(i._tabBodyWrapper=o.first),Et(o=xt())&&(i._tabHeader=o.first)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:11,hostBindings:function(r,i){r&2&&(bt("mat-align-tabs",i.alignTabs),Er("mat-"+(i.color||"primary")),xn("--mat-tab-animation-duration",i.animationDuration),Ie("mat-mdc-tab-group-dynamic-height",i.dynamicHeight)("mat-mdc-tab-group-inverted-header",i.headerPosition==="below")("mat-mdc-tab-group-stretch-tabs",i.stretchTabs))},inputs:{color:"color",fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",De],stretchTabs:[2,"mat-stretch-tabs","stretchTabs",De],alignTabs:[0,"mat-align-tabs","alignTabs"],dynamicHeight:[2,"dynamicHeight","dynamicHeight",De],selectedIndex:[2,"selectedIndex","selectedIndex",Ps],headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:[2,"contentTabIndex","contentTabIndex",Ps],disablePagination:[2,"disablePagination","disablePagination",De],disableRipple:[2,"disableRipple","disableRipple",De],preserveContent:[2,"preserveContent","preserveContent",De],backgroundColor:"backgroundColor",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"]},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},exportAs:["matTabGroup"],features:[tt([{provide:mD,useExisting:n}]),ft],ngContentSelectors:p0,decls:9,vars:8,consts:[["tabHeader",""],["tabBodyWrapper",""],["tabNode",""],[3,"indexFocused","selectFocusedIndex","selectedIndex","disableRipple","disablePagination","aria-label","aria-labelledby"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-focus-indicator",3,"id","mdc-tab--active","class","disabled","fitInkBarToContent"],[1,"mat-mdc-tab-body-wrapper"],["role","tabpanel",3,"id","mat-mdc-tab-body-active","class","content","position","origin","animationDuration","preserveContent"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-focus-indicator",3,"click","cdkFocusChange","id","disabled","fitInkBarToContent"],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"_onCentered","_onCentering","id","content","position","origin","animationDuration","preserveContent"]],template:function(r,i){if(r&1){let o=Q();xr(),d(0,"mat-tab-header",3,0),I("indexFocused",function(a){return T(o),M(i._focusChanged(a))})("selectFocusedIndex",function(a){return T(o),M(i.selectedIndex=a)}),Ig(2,Vj,8,17,"div",4,Dg),c(),x(4,jj,1,0),d(5,"div",5,1),Ig(7,Bj,1,13,"mat-tab-body",6,Dg),c()}r&2&&(b("selectedIndex",i.selectedIndex||0)("disableRipple",i.disableRipple)("disablePagination",i.disablePagination)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby),h(2),Tg(i._tabs),h(2),gu(i._isServer?4:-1),h(),Ie("_mat-animation-noopable",i._animationMode==="NoopAnimations"),h(2),Tg(i._tabs))},dependencies:[Qj,pD,o1,mv,lm,hD],styles:['.mdc-tab{min-width:90px;padding:0 24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;z-index:1}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab--active .mdc-tab__text-label{transition-delay:100ms}._mat-animation-noopable .mdc-tab__text-label{transition:none}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transition:var(--mat-tab-animation-duration, 250ms) transform cubic-bezier(0.4, 0, 0.2, 1);transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}._mat-animation-noopable .mdc-tab-indicator__content,.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mat-mdc-tab-ripple.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;height:var(--mdc-secondary-navigation-tab-container-height, 48px);font-family:var(--mat-tab-header-label-text-font, var(--mat-sys-title-small-font));font-size:var(--mat-tab-header-label-text-size, var(--mat-sys-title-small-size));letter-spacing:var(--mat-tab-header-label-text-tracking, var(--mat-sys-title-small-tracking));line-height:var(--mat-tab-header-label-text-line-height, var(--mat-sys-title-small-line-height));font-weight:var(--mat-tab-header-label-text-weight, var(--mat-sys-title-small-weight))}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mdc-tab-indicator-active-indicator-height, 2px);border-radius:var(--mdc-tab-indicator-active-indicator-shape, 0)}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color, var(--mat-sys-primary))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color, var(--mat-sys-primary))}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color, var(--mat-sys-on-surface));display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2})}return n})(),m0=class{index;tab};var dm=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Le({type:n});static \u0275inj=Fe({imports:[cr,cr]})}return n})();var e4=["mat-button",""],t4=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],n4=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var r4=new V("MAT_BUTTON_CONFIG");var i4=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],o4=(()=>{class n{_elementRef=y(ve);_ngZone=y(ce);_animationMode=y(nr,{optional:!0});_focusMonitor=y(cf);_rippleLoader=y(h1);_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=e,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;constructor(){y(qs).load(pf);let e=y(r4,{optional:!0}),r=this._elementRef.nativeElement,i=r.classList;this.disabledInteractive=e?.disabledInteractive??!1,this.color=e?.color??null,this._rippleLoader?.configureRipple(r,{className:"mat-mdc-button-ripple"});for(let{attribute:o,mdcClasses:s}of i4)r.hasAttribute(o)&&i.add(...s)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",r){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=X({type:n,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",De],disabled:[2,"disabled","disabled",De],ariaDisabled:[2,"aria-disabled","ariaDisabled",De],disabledInteractive:[2,"disabledInteractive","disabledInteractive",De]},features:[ft]})}return n})();var um=(()=>{class n extends o4{static \u0275fac=(()=>{let e;return function(i){return(e||(e=gt(n)))(i||n)}})();static \u0275cmp=j({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(r,i){r&2&&(bt("disabled",i._getDisabledAttribute())("aria-disabled",i._getAriaDisabled()),Er(i.color?"mat-"+i.color:""),Ie("mat-mdc-button-disabled",i.disabled)("mat-mdc-button-disabled-interactive",i.disabledInteractive)("_mat-animation-noopable",i._animationMode==="NoopAnimations")("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[ke],attrs:e4,ngContentSelectors:n4,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){r&1&&(xr(t4),w(0,"span",0),Bn(1),d(2,"span",1),Bn(3,1),c(),Bn(4,2),w(5,"span",2)(6,"span",3)),r&2&&Ie("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 12px);height:var(--mdc-text-button-container-height, 40px);font-family:var(--mdc-text-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display, block)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-filled-button-container-height, 40px);font-family:var(--mdc-filled-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-filled-button-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display, block)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-sys-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-filled-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-sys-level1));height:var(--mdc-protected-button-container-height, 40px);font-family:var(--mdc-protected-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-protected-button-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display, block)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-sys-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-sys-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-protected-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-outlined-button-container-height, 40px);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-sys-corner-full));border-width:var(--mdc-outlined-button-outline-width, 1px);padding:0 var(--mat-outlined-button-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display, block)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-sys-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mdc-outlined-button-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width, 1px);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus>.mat-focus-indicator::before,.mat-mdc-raised-button:focus>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus>.mat-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}',"@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button{outline:solid 1px}}"],encapsulation:2,changeDetection:0})}return n})();var fm=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Le({type:n});static \u0275inj=Fe({imports:[cr,p1,cr]})}return n})();var s4=()=>[1,3,5,10,15,20],a4=n=>({"bg-tradingrehab-purple-light/20 border-tradingrehab-purple text-tradingrehab-purple":n});function l4(n,t){if(n&1){let e=Q();d(0,"button",18),I("click",function(){T(e);let i=E();return M(i.startTimer())}),d(1,"mat-icon",19),f(2,"play_arrow"),c(),f(3," Start "),c()}}function c4(n,t){if(n&1){let e=Q();d(0,"button",20),I("click",function(){T(e);let i=E();return M(i.pauseTimer())}),d(1,"mat-icon",19),f(2,"pause"),c(),f(3," Pause "),c()}}function d4(n,t){if(n&1){let e=Q();d(0,"button",21),I("click",function(){let i=T(e).$implicit,o=E();return M(o.setCustomTime(i))}),f(1),c()}if(n&2){let e=t.$implicit,r=E();b("ngClass",bu(2,a4,r.minutes===e)),h(),R(" ",e," min ")}}var mm=class n{constructor(t){this.cdr=t}isRunning=!1;seconds=0;minutes=5;timeLeft=5*60;timerSubscription;ngOnDestroy(){this.timerSubscription&&this.timerSubscription.unsubscribe()}formatTime(t){let e=Math.floor(t/60),r=t%60;return`${e.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`}startTimer(){!this.isRunning&&this.timeLeft>0&&(this.isRunning=!0,this.timerSubscription=hp(1e3).pipe(_p(()=>this.timeLeft>0&&this.isRunning)).subscribe(()=>{this.timeLeft--,this.cdr.markForCheck(),this.timeLeft===0&&(this.isRunning=!1,this.timerSubscription?.unsubscribe(),this.cdr.markForCheck())}),this.cdr.markForCheck())}pauseTimer(){this.isRunning=!1,this.timerSubscription&&this.timerSubscription.unsubscribe(),this.cdr.markForCheck()}resetTimer(){this.isRunning=!1,this.timerSubscription&&this.timerSubscription.unsubscribe(),this.timeLeft=this.minutes*60,this.cdr.markForCheck()}setCustomTime(t){this.minutes=t,this.timeLeft=t*60,this.isRunning=!1,this.timerSubscription&&this.timerSubscription.unsubscribe(),this.cdr.markForCheck()}static \u0275fac=function(e){return new(e||n)(D(ee))};static \u0275cmp=j({type:n,selectors:[["app-digital-timer"]],decls:32,vars:5,consts:[[1,"lg:col-span-1","order-2","lg:order-1","card","h-full"],[1,"card-header","pb-3"],[1,"text-lg","flex","items-center"],[1,"mr-2"],[1,"card-body","space-y-6"],[1,"text-center"],[1,"text-5xl","font-mono","font-bold","mb-4"],[1,"flex","justify-center","space-x-2","mb-6"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-stroked-button","","color","primary",3,"click",4,"ngIf"],["mat-stroked-button","",3,"click"],[1,"border-t","border-gray-200","pt-4"],[1,"text-sm","text-gray-500","mb-3"],[1,"flex","flex-wrap","justify-center","gap-2"],["mat-stroked-button","","color","basic","size","sm",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"bg-tradingrehab-purple-light/10","p-4","rounded-lg","border","border-tradingrehab-purple-light/20"],[1,"font-medium","text-tradingrehab-purple","mb-2"],[1,"text-sm","space-y-2"],["mat-raised-button","","color","primary",3,"click"],[1,"mr-1",2,"font-size","20px","width","20px","height","20px"],["mat-stroked-button","","color","primary",3,"click"],["mat-stroked-button","","color","basic","size","sm",3,"click","ngClass"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"div",1)(2,"h3",2)(3,"mat-icon",3),f(4,"timer"),c(),f(5," Meditation Timer "),c()(),d(6,"div",4)(7,"div",5)(8,"div",6),f(9),c(),d(10,"div",7),x(11,l4,4,0,"button",8)(12,c4,4,0,"button",9),d(13,"button",10),I("click",function(){return r.resetTimer()}),f(14,"Reset"),c()(),d(15,"div",11)(16,"p",12),f(17,"Quick select:"),c(),d(18,"div",13),x(19,d4,2,4,"button",14),c()()(),d(20,"div",15)(21,"h4",16),f(22,"Meditation Tips"),c(),d(23,"ul",17)(24,"li"),f(25,"\u2022 Find a quiet space where you won't be disturbed"),c(),d(26,"li"),f(27,"\u2022 Sit comfortably with your back straight"),c(),d(28,"li"),f(29,"\u2022 Focus on your breathing, not your thoughts"),c(),d(30,"li"),f(31,"\u2022 Start with shorter sessions and gradually increase"),c()()()()()),e&2&&(h(9),R(" ",r.formatTime(r.timeLeft)," "),h(2),b("ngIf",!r.isRunning),h(),b("ngIf",r.isRunning),h(7),b("ngForOf",Ii(4,s4)))},dependencies:[Ni,Ri,G,un,nt,ue,fm,um,dm],styles:[".min-h-screen[_ngcontent-%COMP%]{min-height:100vh}.bg-gray-100[_ngcontent-%COMP%]{background-color:#f3f4f6}.bg-white[_ngcontent-%COMP%]{background-color:#fff}.shadow-sm[_ngcontent-%COMP%]{box-shadow:0 1px 2px #0000000d}.container[_ngcontent-%COMP%]{width:100%;margin-right:auto;margin-left:auto}@media (min-width: 640px){.container[_ngcontent-%COMP%]{max-width:640px}}@media (min-width: 768px){.container[_ngcontent-%COMP%]{max-width:768px}}@media (min-width: 1024px){.container[_ngcontent-%COMP%]{max-width:1024px}}@media (min-width: 1280px){.container[_ngcontent-%COMP%]{max-width:1280px}}.mx-auto[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.px-4[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem}.py-4[_ngcontent-%COMP%]{padding-top:1rem;padding-bottom:1rem}.py-8[_ngcontent-%COMP%]{padding-top:2rem;padding-bottom:2rem}.flex[_ngcontent-%COMP%]{display:flex}.flex-col[_ngcontent-%COMP%]{flex-direction:column}.flex-row[_ngcontent-%COMP%]{flex-direction:row}.justify-between[_ngcontent-%COMP%]{justify-content:space-between}.items-center[_ngcontent-%COMP%]{align-items:center}.sm\\:mb-0[_ngcontent-%COMP%]{margin-bottom:0}.ml-3[_ngcontent-%COMP%]{margin-left:.75rem}.text-xl[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1.75rem}.font-bold[_ngcontent-%COMP%]{font-weight:700}.text-gray-900[_ngcontent-%COMP%]{color:#111827}.gap-3[_ngcontent-%COMP%]{gap:.75rem}.sm\\:space-x-4[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){margin-right:0;margin-left:calc(1rem * var(--tw-space-x-reverse))}.text-gray-600[_ngcontent-%COMP%]{color:#4b5563}.hover\\:text-tradingrehab-purple[_ngcontent-%COMP%]:hover, .text-tradingrehab-purple[_ngcontent-%COMP%]{color:#6366f1}.font-medium[_ngcontent-%COMP%]{font-weight:500}.text-2xl[_ngcontent-%COMP%]{font-size:1.5rem;line-height:2rem}.grid[_ngcontent-%COMP%]{display:grid}.grid-cols-1[_ngcontent-%COMP%]{grid-template-columns:repeat(1,minmax(0,1fr))}.gap-6[_ngcontent-%COMP%]{gap:1.5rem}.lg\\:col-span-1[_ngcontent-%COMP%]{grid-column:span 1 / span 1}.lg\\:col-span-2[_ngcontent-%COMP%]{grid-column:span 2 / span 2}.order-2[_ngcontent-%COMP%]{order:2}.order-1[_ngcontent-%COMP%], .lg\\:order-1[_ngcontent-%COMP%]{order:1}.lg\\:order-2[_ngcontent-%COMP%]{order:2}.h-full[_ngcontent-%COMP%]{height:100%}.card[_ngcontent-%COMP%]{background-color:#fff;border-radius:.5rem;box-shadow:0 1px 3px #0000001a,0 1px 2px #0000000f}.card-header[_ngcontent-%COMP%], .card-body[_ngcontent-%COMP%]{padding:1.25rem}.pb-3[_ngcontent-%COMP%]{padding-bottom:.75rem}.text-lg[_ngcontent-%COMP%]{font-size:1.125rem;line-height:1.75rem}.mr-2[_ngcontent-%COMP%]{margin-right:.5rem}.space-y-6[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){margin-top:calc(1.5rem * var(--tw-space-y-reverse))}.text-center[_ngcontent-%COMP%]{text-align:center}.text-5xl[_ngcontent-%COMP%]{font-size:3rem;line-height:1}.font-mono[_ngcontent-%COMP%]{font-family:SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}.mb-4[_ngcontent-%COMP%]{margin-bottom:1rem}.flex-wrap[_ngcontent-%COMP%]{flex-wrap:wrap}.justify-center[_ngcontent-%COMP%]{justify-content:center}.space-x-2[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){margin-right:0;margin-left:calc(.5rem * var(--tw-space-x-reverse))}.mb-6[_ngcontent-%COMP%]{margin-bottom:1.5rem}.border-gray-200[_ngcontent-%COMP%]{border-color:#e5e7eb}.pt-4[_ngcontent-%COMP%]{padding-top:1rem}.text-sm[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem}.text-gray-500[_ngcontent-%COMP%]{color:#6b7280}.mb-3[_ngcontent-%COMP%]{margin-bottom:.75rem}.gap-2[_ngcontent-%COMP%]{gap:.5rem}button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;border-radius:.375rem;font-size:.875rem;line-height:1.25rem;padding:.5rem 1rem;cursor:pointer;transition:all .2s ease-in-out;border:1px solid transparent}button.mat-raised-button.mat-primary[_ngcontent-%COMP%]{background-color:#6366f1;color:#fff}button.mat-raised-button.mat-primary[_ngcontent-%COMP%]:hover{background-color:#4f46e5}button.mat-stroked-button[_ngcontent-%COMP%]{background-color:transparent;border:1px solid #e5e7eb;color:#111827}button.mat-stroked-button[_ngcontent-%COMP%]:hover{background-color:#f3f4f6}button.mat-stroked-button.mat-primary[_ngcontent-%COMP%]{border-color:#6366f1;color:#6366f1}.bg-tradingrehab-purple-light\\/20[_ngcontent-%COMP%]{background-color:#6366f133}.border-tradingrehab-purple[_ngcontent-%COMP%]{border-color:#6366f1}.text-tradingrehab-purple[_ngcontent-%COMP%]{color:#6366f1}.rounded-lg[_ngcontent-%COMP%]{border-radius:.5rem}.border[_ngcontent-%COMP%]{border-width:1px}.p-4[_ngcontent-%COMP%]{padding:1rem}.space-y-2[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){margin-top:calc(.5rem * var(--tw-space-y-reverse))}.grid-cols-2[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))}.overflow-hidden[_ngcontent-%COMP%]{overflow:hidden}.hover\\:shadow-md[_ngcontent-%COMP%]:hover{box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f}.transition-shadow[_ngcontent-%COMP%]{transition-property:box-shadow;transition-duration:.15s;transition-timing-function:cubic-bezier(.4,0,.2,1)}.w-full[_ngcontent-%COMP%]{width:100%}.h-40[_ngcontent-%COMP%]{height:10rem}.object-cover[_ngcontent-%COMP%]{object-fit:cover}.p-3[_ngcontent-%COMP%]{padding:.75rem}.mb-1[_ngcontent-%COMP%]{margin-bottom:.25rem}.text-xs[_ngcontent-%COMP%]{font-size:.75rem;line-height:1rem}.border-t[_ngcontent-%COMP%]{border-top-width:1px}.py-6[_ngcontent-%COMP%]{padding-top:1.5rem;padding-bottom:1.5rem}.mt-8[_ngcontent-%COMP%]{margin-top:2rem}"],changeDetection:0})};var u4=()=>["calm","recovery","education","emotional"];function f4(n,t){n&1&&(d(0,"div",15)(1,"mat-icon",16),f(2,"videocam"),c(),d(3,"span",17),f(4,"Calm & Focus"),c(),d(5,"span",18),f(6,"Calm"),c()())}function m4(n,t){if(n&1&&(d(0,"div",19),w(1,"img",20),d(2,"div",21)(3,"h4",22),f(4),c(),d(5,"div",23)(6,"span",24),f(7),c(),d(8,"button",25)(9,"mat-icon",26),f(10,"play_arrow"),c(),f(11," Play "),c()()()()),n&2){let e=t.$implicit;h(),Ms("alt",e.title),b("src",e.thumbnail,En),h(3),U(e.title),h(3),U(e.duration)}}function p4(n,t){n&1&&(d(0,"div",15)(1,"mat-icon",16),f(2,"headset"),c(),d(3,"span",17),f(4,"Trading Recovery"),c(),d(5,"span",18),f(6,"Recovery"),c()())}function h4(n,t){if(n&1&&(d(0,"div",19),w(1,"img",20),d(2,"div",21)(3,"h4",22),f(4),c(),d(5,"div",23)(6,"span",24),f(7),c(),d(8,"button",25)(9,"mat-icon",26),f(10,"play_arrow"),c(),f(11," Play "),c()()()()),n&2){let e=t.$implicit;h(),Ms("alt",e.title),b("src",e.thumbnail,En),h(3),U(e.title),h(3),U(e.duration)}}function g4(n,t){n&1&&(d(0,"div",15)(1,"mat-icon",16),f(2,"book"),c(),d(3,"span",17),f(4,"Education"),c(),d(5,"span",18),f(6,"Learn"),c()())}function b4(n,t){if(n&1&&(d(0,"div",19),w(1,"img",20),d(2,"div",21)(3,"h4",22),f(4),c(),d(5,"div",23)(6,"span",24),f(7),c(),d(8,"button",25)(9,"mat-icon",26),f(10,"play_arrow"),c(),f(11," Play "),c()()()()),n&2){let e=t.$implicit;h(),Ms("alt",e.title),b("src",e.thumbnail,En),h(3),U(e.title),h(3),U(e.duration)}}function v4(n,t){n&1&&(d(0,"div",15)(1,"mat-icon",16),f(2,"sentiment_satisfied_alt"),c(),d(3,"span",17),f(4,"Emotional Balance"),c(),d(5,"span",18),f(6,"Balance"),c()())}function _4(n,t){if(n&1&&(d(0,"div",19),w(1,"img",20),d(2,"div",21)(3,"h4",22),f(4),c(),d(5,"div",23)(6,"span",24),f(7),c(),d(8,"button",25)(9,"mat-icon",26),f(10,"play_arrow"),c(),f(11," Play "),c()()()()),n&2){let e=t.$implicit;h(),Ms("alt",e.title),b("src",e.thumbnail,En),h(3),U(e.title),h(3),U(e.duration)}}var pm=class n{cdr=y(ee);supabaseService=y(Me);supabaseAccountService=y(qt);supabaseMeditationTableService=y(ga);username="";videos=[];resources=[{id:"1",title:"5-Minute Breathing Exercise",duration:"5:00",thumbnail:"https://images.unsplash.com/photo-1649972904349-6e44c42644a7?auto=format&fit=crop&w=800&q=80",category:"calm"},{id:"2",title:"Market Mindfulness Session",duration:"10:30",thumbnail:"https://images.unsplash.com/photo-1487058792275-0ad4aaf24ca7?auto=format&fit=crop&w=800&q=80",category:"calm"},{id:"3",title:"Recovering from Trading Loss",duration:"15:45",thumbnail:"https://images.unsplash.com/photo-1518770660439-4636190af475?auto=format&fit=crop&w=800&q=80",category:"recovery"},{id:"4",title:"Patience in Trading",duration:"8:20",thumbnail:"https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?auto=format&fit=crop&w=800&q=80",category:"recovery"},{id:"5",title:"Technical Analysis Basics",duration:"12:15",thumbnail:"https://images.unsplash.com/photo-1526374965328-7f61d4dc18c5?auto=format&fit=crop&w=800&q=80",category:"education"},{id:"6",title:"Risk Management 101",duration:"18:30",thumbnail:"https://images.unsplash.com/photo-1649972904349-6e44c42644a7?auto=format&fit=crop&w=800&q=80",category:"education"},{id:"7",title:"Balancing FOMO",duration:"7:45",thumbnail:"https://images.unsplash.com/photo-1487058792275-0ad4aaf24ca7?auto=format&fit=crop&w=800&q=80",category:"emotional"},{id:"8",title:"Managing Trading Anxiety",duration:"14:20",thumbnail:"https://images.unsplash.com/photo-1526374965328-7f61d4dc18c5?auto=format&fit=crop&w=800&q=80",category:"emotional"}];selectedCategory="calm";async ngOnInit(){this.loadActiveVideos();let{data:t}=await this.supabaseAccountService.getProfile();this.username=t.firstname,this.cdr.markForCheck()}async loadActiveVideos(){try{let t=await this.supabaseMeditationTableService.loadActiveMeditationVideos();this.videos=t.map(e=>{let r=this.extractVideoId(e.url);return r?{url:e.url,id:r,title:e.title??"",description:e.description??"",thumbnail:`https://img.youtube.com/vi/${r}/hqdefault.jpg`}:null}).filter(e=>e!==null),this.cdr.markForCheck()}catch(t){console.error("Failed to load active meditation videos:",t)}}filterResources(t){return this.resources.filter(e=>e.category===t)}onTabChange(t){this.selectedCategory=t.tab.textLabel.toLowerCase().split(" ")[0],this.cdr.markForCheck()}extractVideoId(t){let e=t.match(/(?:youtube\.com\/(?:.*v=|.*\/|.*embed\/)|youtu\.be\/)([a-zA-Z0-9_-]{11})/);return e?e[1]:null}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=j({type:n,selectors:[["app-meditation-hub"]],decls:28,vars:7,consts:[[1,"min-h-screen"],[1,"container","ps-3"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-6"],[1,"lg:col-span-2","order-1","lg:order-2","mb-6","lg:mb-0","card"],[1,"card-header","pb-3"],[1,"text-lg"],[1,"card-body"],["animationDuration","0ms",3,"selectedTabChange","selectedIndex"],["label","Calm & Focus"],["matTabLabel",""],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4","mt-4"],["class","border rounded-lg overflow-hidden hover:shadow-md transition-shadow",4,"ngFor","ngForOf"],["label","Trading Recovery"],["label","Education"],["label","Emotional Balance"],[1,"flex","flex-col","items-center","sm:flex-row","sm:space-x-2"],[2,"font-size","16px","width","16px","height","16px"],[1,"hidden","sm:inline"],[1,"inline","sm:hidden"],[1,"border","rounded-lg","overflow-hidden","hover:shadow-md","transition-shadow"],[1,"w-full","h-40","object-cover",3,"src","alt"],[1,"p-3"],[1,"font-medium","mb-1","text-sm","sm:text-base"],[1,"flex","justify-between","items-center","flex-wrap","gap-2"],[1,"text-xs","sm:text-sm","text-gray-500"],["mat-raised-button","","color","primary","size","sm",1,"text-xs","sm:text-sm"],[1,"mr-1",2,"font-size","12px","width","12px","height","12px"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"main",1)(2,"h3"),f(3),c(),d(4,"div",2),w(5,"app-digital-timer"),d(6,"div",3)(7,"div",4)(8,"h3",5),f(9,"Resource Library"),c()(),d(10,"div",6)(11,"mat-tab-group",7),I("selectedTabChange",function(o){return r.onTabChange(o)}),d(12,"mat-tab",8),x(13,f4,7,0,"ng-template",9),d(14,"div",10),x(15,m4,12,4,"div",11),c()(),d(16,"mat-tab",12),x(17,p4,7,0,"ng-template",9),d(18,"div",10),x(19,h4,12,4,"div",11),c()(),d(20,"mat-tab",13),x(21,g4,7,0,"ng-template",9),d(22,"div",10),x(23,b4,12,4,"div",11),c()(),d(24,"mat-tab",14),x(25,v4,7,0,"ng-template",9),d(26,"div",10),x(27,_4,12,4,"div",11),c()()()()()()()()),e&2&&(h(3),R(" Welcome to Meditation Center, ",r.username," "),h(8),b("selectedIndex",Ii(6,u4).indexOf(r.selectedCategory)),h(4),b("ngForOf",r.filterResources("calm")),h(4),b("ngForOf",r.filterResources("recovery")),h(4),b("ngForOf",r.filterResources("education")),h(4),b("ngForOf",r.filterResources("emotional")))},dependencies:[G,nt,Ni,Ri,dm,h0,g0,gD,fm,um,mm],styles:[".min-h-screen[_ngcontent-%COMP%]{min-height:100vh}.bg-gray-100[_ngcontent-%COMP%]{background-color:#f3f4f6}.bg-white[_ngcontent-%COMP%]{background-color:#fff}.shadow-sm[_ngcontent-%COMP%]{box-shadow:0 1px 2px #0000000d}.container[_ngcontent-%COMP%]{width:100%;margin-right:auto;margin-left:auto}@media (min-width: 640px){.container[_ngcontent-%COMP%]{max-width:640px}}@media (min-width: 768px){.container[_ngcontent-%COMP%]{max-width:768px}}@media (min-width: 1024px){.container[_ngcontent-%COMP%]{max-width:1024px}}@media (min-width: 1280px){.container[_ngcontent-%COMP%]{max-width:1280px}}.mx-auto[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.px-4[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem}.py-4[_ngcontent-%COMP%]{padding-top:1rem;padding-bottom:1rem}.py-8[_ngcontent-%COMP%]{padding-top:2rem;padding-bottom:2rem}.flex[_ngcontent-%COMP%]{display:flex}.flex-col[_ngcontent-%COMP%]{flex-direction:column}.flex-row[_ngcontent-%COMP%]{flex-direction:row}.justify-between[_ngcontent-%COMP%]{justify-content:space-between}.items-center[_ngcontent-%COMP%]{align-items:center}.sm\\:mb-0[_ngcontent-%COMP%]{margin-bottom:0}.ml-3[_ngcontent-%COMP%]{margin-left:.75rem}.text-xl[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1.75rem}.font-bold[_ngcontent-%COMP%]{font-weight:700}.text-gray-900[_ngcontent-%COMP%]{color:#111827}.gap-3[_ngcontent-%COMP%]{gap:.75rem}.sm\\:space-x-4[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){margin-right:0;margin-left:calc(1rem * var(--tw-space-x-reverse))}.text-gray-600[_ngcontent-%COMP%]{color:#4b5563}.hover\\:text-tradingrehab-purple[_ngcontent-%COMP%]:hover, .text-tradingrehab-purple[_ngcontent-%COMP%]{color:#6366f1}.font-medium[_ngcontent-%COMP%]{font-weight:500}.text-2xl[_ngcontent-%COMP%]{font-size:1.5rem;line-height:2rem}.grid[_ngcontent-%COMP%]{display:grid}.grid-cols-1[_ngcontent-%COMP%]{grid-template-columns:repeat(1,minmax(0,1fr))}.gap-6[_ngcontent-%COMP%]{gap:1.5rem}.lg\\:col-span-1[_ngcontent-%COMP%]{grid-column:span 1 / span 1}.lg\\:col-span-2[_ngcontent-%COMP%]{grid-column:span 2 / span 2}.order-2[_ngcontent-%COMP%]{order:2}.order-1[_ngcontent-%COMP%], .lg\\:order-1[_ngcontent-%COMP%]{order:1}.lg\\:order-2[_ngcontent-%COMP%]{order:2}.h-full[_ngcontent-%COMP%]{height:100%}.card[_ngcontent-%COMP%]{background-color:#fff;border-radius:.5rem;box-shadow:0 1px 3px #0000001a,0 1px 2px #0000000f}.card-header[_ngcontent-%COMP%], .card-body[_ngcontent-%COMP%]{padding:1.25rem}.pb-3[_ngcontent-%COMP%]{padding-bottom:.75rem}.text-lg[_ngcontent-%COMP%]{font-size:1.125rem;line-height:1.75rem}.mr-2[_ngcontent-%COMP%]{margin-right:.5rem}.space-y-6[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){margin-top:calc(1.5rem * var(--tw-space-y-reverse))}.text-center[_ngcontent-%COMP%]{text-align:center}.text-5xl[_ngcontent-%COMP%]{font-size:3rem;line-height:1}.font-mono[_ngcontent-%COMP%]{font-family:SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}.mb-4[_ngcontent-%COMP%]{margin-bottom:1rem}.flex-wrap[_ngcontent-%COMP%]{flex-wrap:wrap}.justify-center[_ngcontent-%COMP%]{justify-content:center}.space-x-2[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){margin-right:0;margin-left:calc(.5rem * var(--tw-space-x-reverse))}.mb-6[_ngcontent-%COMP%]{margin-bottom:1.5rem}.border-gray-200[_ngcontent-%COMP%]{border-color:#e5e7eb}.pt-4[_ngcontent-%COMP%]{padding-top:1rem}.text-sm[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem}.text-gray-500[_ngcontent-%COMP%]{color:#6b7280}.mb-3[_ngcontent-%COMP%]{margin-bottom:.75rem}.gap-2[_ngcontent-%COMP%]{gap:.5rem}button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;border-radius:.375rem;font-size:.875rem;line-height:1.25rem;padding:.5rem 1rem;cursor:pointer;transition:all .2s ease-in-out;border:1px solid transparent}button.mat-raised-button.mat-primary[_ngcontent-%COMP%]{background-color:#6366f1;color:#fff}button.mat-raised-button.mat-primary[_ngcontent-%COMP%]:hover{background-color:#4f46e5}button.mat-stroked-button[_ngcontent-%COMP%]{background-color:transparent;border:1px solid #e5e7eb;color:#111827}button.mat-stroked-button[_ngcontent-%COMP%]:hover{background-color:#f3f4f6}button.mat-stroked-button.mat-primary[_ngcontent-%COMP%]{border-color:#6366f1;color:#6366f1}.bg-tradingrehab-purple-light\\/20[_ngcontent-%COMP%]{background-color:#6366f133}.border-tradingrehab-purple[_ngcontent-%COMP%]{border-color:#6366f1}.text-tradingrehab-purple[_ngcontent-%COMP%]{color:#6366f1}.rounded-lg[_ngcontent-%COMP%]{border-radius:.5rem}.border[_ngcontent-%COMP%]{border-width:1px}.p-4[_ngcontent-%COMP%]{padding:1rem}.space-y-2[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){margin-top:calc(.5rem * var(--tw-space-y-reverse))}.grid-cols-2[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))}.overflow-hidden[_ngcontent-%COMP%]{overflow:hidden}.hover\\:shadow-md[_ngcontent-%COMP%]:hover{box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f}.transition-shadow[_ngcontent-%COMP%]{transition-property:box-shadow;transition-duration:.15s;transition-timing-function:cubic-bezier(.4,0,.2,1)}.w-full[_ngcontent-%COMP%]{width:100%}.h-40[_ngcontent-%COMP%]{height:10rem}.object-cover[_ngcontent-%COMP%]{object-fit:cover}.p-3[_ngcontent-%COMP%]{padding:.75rem}.mb-1[_ngcontent-%COMP%]{margin-bottom:.25rem}.text-xs[_ngcontent-%COMP%]{font-size:.75rem;line-height:1rem}.border-t[_ngcontent-%COMP%]{border-top-width:1px}.py-6[_ngcontent-%COMP%]{padding-top:1.5rem;padding-bottom:1.5rem}.mt-8[_ngcontent-%COMP%]{margin-top:2rem}"],changeDetection:0})};var hm=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=j({type:n,selectors:[["app-analytics"]],decls:2,vars:0,consts:[[1,"position-absolute","top-50","start-50","translate-middle"]],template:function(e,r){e&1&&(d(0,"h1",0),f(1,"Analytics Coming soon"),c())},encapsulation:2})};function y4(n,t){if(n&1&&(d(0,"option",31),f(1),c()),n&2){let e=t.$implicit;b("value",e),h(),U(e)}}var gm=class n{formGroup;currencyPairs=["AUD/USD","EUR/USD","GBP/USD","USD/JPY","USD/CHF","USD/CAD","NZD/USD","Gold","Silver","Oil"];static \u0275fac=function(e){return new(e||n)};static \u0275cmp=j({type:n,selectors:[["app-trade-setup"]],inputs:{formGroup:"formGroup"},decls:56,vars:2,consts:[[1,"card","mb-4","shadow-sm",3,"formGroup"],[1,"card-header","bg-light","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"bi","bi-1-circle","me-2"],[1,"badge","bg-primary"],[1,"card-body"],[1,"row","g-3"],[1,"col-md-6"],["for","trade_symbol",1,"form-label"],["id","trade_symbol","formControlName","trade_symbol",1,"form-select"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["for","trade_analysis",1,"form-label"],["id","trade_analysis","formControlName","trade_analysis",1,"form-select"],["value","Technical"],["value","Fundamental"],["value","Both"],["value","Sentiment"],["value","Other"],["for","trade_instrument",1,"form-label"],["type","text","id","trade_instrument","formControlName","trade_instrument",1,"form-control"],["for","type_of_order",1,"form-label"],["id","type_of_order","formControlName","type_of_order",1,"form-select"],["value","Market"],["value","Limit"],["value","Stop"],["value","StopLimit"],["value","TrailingStop"],[1,"col-12"],["for","market_condition",1,"form-label"],["id","market_condition","rows","3","formControlName","market_condition","placeholder","Describe current market conditions and relevant factors",1,"form-control"],[3,"value"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"div",1)(2,"h5",2),w(3,"i",3),f(4,"Trade Setup "),c(),d(5,"span",4),f(6,"Required"),c()(),d(7,"div",5)(8,"div",6)(9,"div",7)(10,"label",8),f(11,"Currency Pair/Commodities"),c(),d(12,"select",9)(13,"option",10),f(14,"Select..."),c(),x(15,y4,2,2,"option",11),c()(),d(16,"div",7)(17,"label",12),f(18,"Trade Analysis"),c(),d(19,"select",13)(20,"option",10),f(21,"Choose analysis method"),c(),d(22,"option",14),f(23,"Technical"),c(),d(24,"option",15),f(25,"Fundamental"),c(),d(26,"option",16),f(27,"Both"),c(),d(28,"option",17),f(29,"Sentiment"),c(),d(30,"option",18),f(31,"Other"),c()()(),d(32,"div",7)(33,"label",19),f(34,"Trade Instrument"),c(),w(35,"input",20),c(),d(36,"div",7)(37,"label",21),f(38,"Type of Order"),c(),d(39,"select",22)(40,"option",10),f(41,"Choose order type"),c(),d(42,"option",23),f(43,"Market"),c(),d(44,"option",24),f(45,"Limit"),c(),d(46,"option",25),f(47,"Stop"),c(),d(48,"option",26),f(49,"Stop Limit"),c(),d(50,"option",27),f(51,"Trailing Stop"),c()()(),d(52,"div",28)(53,"label",29),f(54,"Market Condition"),c(),w(55,"textarea",30),c()()()()),e&2&&(b("formGroup",r.formGroup),h(15),b("ngForOf",r.currencyPairs))},dependencies:[G,nt,Se,hn,gn,we,pn,xe,ze,Be,We],encapsulation:2})};var bm=class n{control;disabled=!1;getIcon(t){switch(t){case"Planned":return"bi bi-hourglass";case"Executing":return"bi bi-play-fill";case"Completed":return"bi bi-check-circle";default:return"bi bi-question-circle"}}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=j({type:n,selectors:[["app-trade-status-selector"]],inputs:{control:"control",disabled:"disabled"},decls:4,vars:2,consts:[["role","group","aria-label","Trade status display",1,"btn-group","w-100","shadow-sm","mb-3"],[1,"btn","btn-tr","w-100"],[1,"me-1",3,"ngClass"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"div",1),w(2,"i",2),f(3),c()()),e&2&&(h(2),b("ngClass",r.getIcon(r.control==null?null:r.control.value)),h(),R(" ",r.control==null?null:r.control.value," "))},dependencies:[G,un,Se],encapsulation:2})};var vm=class n{formGroup;get entryWordCount(){let t=this.formGroup?.get("entry_criteria")?.value||"";return t.trim().length===0?0:t.trim().split(/\s+/).length}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=j({type:n,selectors:[["app-trade-strategy"]],inputs:{formGroup:"formGroup"},decls:26,vars:2,consts:[[1,"card","mb-4","shadow-sm",3,"formGroup"],[1,"card-header","bg-light","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"bi","bi-2-circle","me-2"],[1,"badge","bg-primary"],[1,"card-body","col-12"],["for","strategy_name",1,"form-label"],["type","text","id","strategy_name","formControlName","strategy_name","placeholder","e.g., Breakout, Reversal, Trend Following",1,"form-control"],[1,"card-body"],[1,"mb-4"],["for","entry_criteria",1,"form-label","fw-bold"],[1,"text-danger"],["id","entry_criteria","rows","5","formControlName","entry_criteria","placeholder","Explain in detail why you are taking this trade. Include your technical analysis, fundamental reasoning, market conditions, setup confirmation, etc.",1,"form-control"],[1,"form-text","text-muted"],["for","exit_criteria",1,"form-label","fw-bold"],["id","exit_criteria","rows","3","formControlName","exit_criteria","placeholder","Explain your plan to exit the trade. What would make you close the position? Include specific targets, stop-loss thresholds, trailing exits, or indicator-based signals.",1,"form-control"],[1,"form-text"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"div",1)(2,"h5",2),w(3,"i",3),f(4,"Trade Strategy "),c(),d(5,"span",4),f(6,"Required"),c()(),d(7,"div",5)(8,"label",6),f(9,"Strategy Name"),c(),w(10,"input",7),c(),d(11,"div",8)(12,"div",9)(13,"label",10),f(14,"Entry Criteria (Why are you taking this trade?) "),d(15,"span",11),f(16,"*"),c()(),w(17,"textarea",12),d(18,"div",13),f(19),c()(),d(20,"div")(21,"label",14),f(22,"Exit Criteria"),c(),w(23,"textarea",15),d(24,"div",16),f(25," Include both profit-taking and loss-cutting criteria. "),c()()()()),e&2&&(b("formGroup",r.formGroup),h(19),R(" Minimum 100 words recommended. Current: ",r.entryWordCount," words "))},dependencies:[G,Se,we,xe,ze,Be,We],encapsulation:2})};var w4=()=>[1,2,3,4,5];function C4(n,t){if(n&1&&(d(0,"option",20),f(1),c()),n&2){let e=t.$implicit;b("value",e),h(),U(e)}}function E4(n,t){if(n&1&&(d(0,"option",20),f(1),c()),n&2){let e=t.$implicit;b("value",e),h(),U(e)}}function x4(n,t){if(n&1&&(d(0,"div",8)(1,"label",9),f(2,"Potential Bias"),c(),d(3,"select",21)(4,"option",11),f(5,"Select potential bias"),c(),x(6,E4,2,2,"option",12),c()()),n&2){let e=E(2);h(6),b("ngForOf",e.biases)}}function S4(n,t){if(n&1&&(Ut(0),w(1,"input",22),d(2,"label",23),f(3),c(),$t()),n&2){let e=t.$implicit;h(),b("id","confidence_"+e)("value",e),h(),b("for","confidence_"+e),h(),U(e)}}function D4(n,t){if(n&1&&(d(0,"div",1)(1,"div",2)(2,"h5",3),w(3,"i",4),f(4),c(),d(5,"span",5),f(6,"Required"),c()(),d(7,"div",6)(8,"div",7)(9,"div",8)(10,"label",9),f(11,"Emotional State"),c(),d(12,"select",10)(13,"option",11),f(14,"How are you feeling?"),c(),x(15,C4,2,2,"option",12),c()(),x(16,x4,7,1,"div",13),d(17,"div",14)(18,"label",9),f(19,"Trade Confidence"),c(),d(20,"div",15),x(21,S4,4,4,"ng-container",16),c(),d(22,"div",17),f(23,"Low (1) to High (5)"),c()(),d(24,"div",18)(25,"label",9),f(26,"Reflection"),c(),w(27,"textarea",19),c()()()()),n&2){let e=E();h(4),R("",e.label," Emotional Analysis "),h(3),b("formGroup",e.formGroup),h(8),b("ngForOf",e.emotionalStates),h(),b("ngIf",e.showBias),h(5),b("ngForOf",Ii(5,w4))}}var _m=class n{formGroup;label="Pre-Trade";showBias=!1;emotionalStates=["Calm","Excited","Anxious","Frustrated","Overconfident","Fearful","Neutral","Other","Satisfied","Disappointed"];biases=["None - Clear Mindset","FOMO (Fear of Missing Out)","Recency Bias (Overweighting Recent Events)","Confirmation Bias O","Anchoring Bias","Loss Aversion O","Overconfidence","Revenge Trading"];static \u0275fac=function(e){return new(e||n)};static \u0275cmp=j({type:n,selectors:[["app-emotional-analysis"]],inputs:{formGroup:"formGroup",label:"label",showBias:"showBias"},decls:1,vars:1,consts:[["class","card mb-4 shadow-sm",4,"ngIf"],[1,"card","mb-4","shadow-sm"],[1,"card-header","bg-light","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"bi","bi-4-circle","me-2"],[1,"badge","bg-primary"],[1,"card-body",3,"formGroup"],[1,"row","g-3"],[1,"col-md-6"],[1,"form-label"],["formControlName","emotional_state",1,"form-select"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["class","col-md-6",4,"ngIf"],[1,"col-md-12"],["role","group",1,"btn-group","w-100"],[4,"ngFor","ngForOf"],[1,"form-text","text-center"],[1,"col-12"],["rows","2","formControlName","reflection",1,"form-control"],[3,"value"],["formControlName","potential_bisa",1,"form-select"],["type","radio","formControlName","trade_confidence",1,"btn-check",3,"id","value"],[1,"btn","btn-outline-primary",3,"for"]],template:function(e,r){e&1&&x(0,D4,28,6,"div",0),e&2&&b("ngIf",r.formGroup)},dependencies:[G,nt,ue,Se,hn,gn,we,pn,Rn,xe,ze,Be,We],encapsulation:2})};var ym=class n{data;static \u0275fac=function(e){return new(e||n)};static \u0275cmp=j({type:n,selectors:[["app-profit-analysis"]],inputs:{data:"data"},decls:36,vars:12,consts:[[1,"card","mb-4","shadow-sm"],[1,"card-header","bg-light","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"bi","bi-4-circle","me-2"],[1,"badge","bg-primary"],[1,"card-body"],[1,"row","g-3"],[1,"col-md-4"],[1,"form-label"],[1,"input-group"],[1,"input-group-text"],[1,"form-control","bg-light"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"div",1)(2,"h5",2),w(3,"i",3),f(4,"Profit Analysis "),c(),d(5,"span",4),f(6,"Required"),c()(),d(7,"div",5)(8,"div",6)(9,"div",7)(10,"label",8),f(11,"Realized Profit"),c(),d(12,"div",9)(13,"span",10),f(14,"$"),c(),d(15,"span",11),f(16),vt(17,"number"),c()()(),d(18,"div",7)(19,"label",8),f(20,"Unrealized Profit"),c(),d(21,"div",9)(22,"span",10),f(23,"$"),c(),d(24,"span",11),f(25),vt(26,"number"),c()()(),d(27,"div",7)(28,"label",8),f(29,"Total Profit"),c(),d(30,"div",9)(31,"span",10),f(32,"$"),c(),d(33,"span",11),f(34),vt(35,"number"),c()()()()()()),e&2&&(h(16),R(" ",r.data!=null&&r.data.missing?"Data missing":_t(17,3,r.data==null?null:r.data.realized,"1.2-2")," "),h(9),R(" ",r.data!=null&&r.data.missing?"Data missing":_t(26,6,r.data==null?null:r.data.unrealized,"1.2-2")," "),h(9),R(" ",r.data!=null&&r.data.missing?"Data missing":_t(35,9,r.data==null?null:r.data.total,"1.2-2")," "))},dependencies:[G,ku],encapsulation:2})};var wm=class n{control;static \u0275fac=function(e){return new(e||n)};static \u0275cmp=j({type:n,selectors:[["app-notes"]],inputs:{control:"control"},decls:10,vars:1,consts:[[1,"card","mb-4","shadow-sm"],[1,"card-header","bg-light","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"bi","bi-6-circle","me-2"],[1,"badge","bg-secondary"],[1,"p-3"],["rows","3","placeholder","Any additional information or context for this trade",1,"form-control",3,"formControl"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"div",1)(2,"h5",2),w(3,"i",3),f(4,"Additional Notes "),c(),d(5,"span",4),f(6,"Optional"),c()(),d(7,"div",5)(8,"textarea",6),f(9,"        "),c()()()),e&2&&(h(8),b("formControl",r.control))},dependencies:[G,Se,we,xe,Kv],encapsulation:2})};var Cm=class n{calculateRewardRiskRatio(t,e,r){let i=Math.abs(t-e),o=Math.abs(r-t);return i>0?o/i:0}calculateRiskDollar(t,e,r,i=10){return Math.abs(t-e)*i*r}calculateRiskPercent(t,e){return e>0?t/e*100:0}calculateProfit(t,e,r,i,o=10){return(i==="Long"?e-t:t-e)*o*r}aggregateProfit(t){if(!t?.length)return{realized:0,unrealized:0,total:0,missing:!0};let e=0,r=0;for(let i of t){let{entry_price:o,exit_price:s,lot_size:a,trade_direction:l,exit:u}=i,m=this.calculateProfit(o,s,a,l);u?e+=m:r+=m}return{realized:e,unrealized:r,total:e+r,missing:!1}}getPipDifference(t,e){return Math.round(Math.abs(e-t)*1e4)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})};function I4(n,t){if(n&1&&(d(0,"div",1)(1,"div",2)(2,"h5",3),w(3,"i",4),f(4,"Planned Trade "),c(),d(5,"span",5),f(6,"Required"),c()(),d(7,"div",6)(8,"div",7)(9,"div",8)(10,"label",9),f(11,"Direction"),c(),d(12,"div",10),w(13,"input",11),d(14,"label",12),f(15,"Long"),c(),w(16,"input",13),d(17,"label",14),f(18,"Short"),c()()(),d(19,"div",8)(20,"label",9),f(21,"Entry Price"),c(),w(22,"input",15),c(),d(23,"div",8)(24,"label",9),f(25,"Lot Size"),c(),w(26,"input",16),c(),d(27,"div",8)(28,"label",9),f(29,"Stop Loss"),c(),w(30,"input",17),c(),d(31,"div",8)(32,"label",9),f(33,"Take Profit"),c(),w(34,"input",18),c()()()()),n&2){let e=E();h(7),b("formGroup",e.formGroup)}}var Em=class n{formGroup;static \u0275fac=function(e){return new(e||n)};static \u0275cmp=j({type:n,selectors:[["app-planned-trade"]],inputs:{formGroup:"formGroup"},decls:1,vars:1,consts:[["class","card mb-4 shadow-sm",4,"ngIf"],[1,"card","mb-4","shadow-sm"],[1,"card-header","bg-light","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"bi","bi-3-circle","me-2"],[1,"badge","bg-primary"],[1,"card-body",3,"formGroup"],[1,"row","g-3"],[1,"col-md-2"],[1,"form-label"],["role","group",1,"btn-group","w-100"],["type","radio","id","planned_long","value","Long","formControlName","trade_direction",1,"btn-check"],["for","planned_long",1,"btn","btn-outline-success"],["type","radio","id","planned_short","value","Short","formControlName","trade_direction",1,"btn-check"],["for","planned_short",1,"btn","btn-outline-danger"],["type","number","step","0.00001","formControlName","entry_price",1,"form-control"],["type","number","step","0.01","formControlName","lot_size",1,"form-control"],["type","number","step","0.00001","formControlName","stop_loss_price",1,"form-control"],["type","number","step","0.00001","formControlName","take_profit_price",1,"form-control"]],template:function(e,r){e&1&&x(0,I4,35,1,"div",0),e&2&&b("ngIf",r.formGroup)},dependencies:[G,ue,Se,we,ur,Rn,xe,ze,Be,We],encapsulation:2})};function T4(n,t){if(n&1&&(d(0,"div",1)(1,"div",2)(2,"h5",3),w(3,"i",4),f(4,"Executing Trade "),c(),d(5,"span",5),f(6,"Required"),c()(),d(7,"div",6)(8,"div",7)(9,"div",8)(10,"label",9),f(11,"Direction"),c(),d(12,"div",10),w(13,"input",11),d(14,"label",12),f(15,"Long"),c(),w(16,"input",13),d(17,"label",14),f(18,"Short"),c()()(),d(19,"div",8)(20,"label",9),f(21,"Entry Price"),c(),w(22,"input",15),c(),d(23,"div",8)(24,"label",9),f(25,"Lot Size"),c(),w(26,"input",16),c(),d(27,"div",8)(28,"label",9),f(29,"Stop Loss"),c(),w(30,"input",17),c(),d(31,"div",8)(32,"label",9),f(33,"Take Profit"),c(),w(34,"input",18),c(),d(35,"div",8)(36,"label",9),f(37,"Exit Price"),c(),w(38,"input",19),c(),d(39,"div",20)(40,"label",9),f(41,"Entry Time"),c(),w(42,"input",21),c(),d(43,"div",20)(44,"label",9),f(45,"Exit Time"),c(),w(46,"input",22),c(),d(47,"div",20)(48,"label",9),f(49,"Exit Type"),c(),d(50,"select",23)(51,"option",24),f(52,"Select exit type"),c(),d(53,"option",25),f(54,"Target"),c(),d(55,"option",26),f(56,"Stop Loss"),c(),d(57,"option",27),f(58,"Manual"),c()()()()()()),n&2){let e=E();h(7),b("formGroup",e.formGroup)}}var xm=class n{formGroup;static \u0275fac=function(e){return new(e||n)};static \u0275cmp=j({type:n,selectors:[["app-executing-trade"]],inputs:{formGroup:"formGroup"},decls:1,vars:1,consts:[["class","card mb-4 shadow-sm",4,"ngIf"],[1,"card","mb-4","shadow-sm"],[1,"card-header","bg-light","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"bi","bi-3-circle","me-2"],[1,"badge","bg-primary"],[1,"card-body",3,"formGroup"],[1,"row","g-3"],[1,"col-md-2"],[1,"form-label"],["role","group",1,"btn-group","w-100"],["type","radio","id","exec_long","value","Long","formControlName","trade_direction",1,"btn-check"],["for","exec_long",1,"btn","btn-outline-success"],["type","radio","id","exec_short","value","Short","formControlName","trade_direction",1,"btn-check"],["for","exec_short",1,"btn","btn-outline-danger"],["type","number","formControlName","entry_price",1,"form-control"],["type","number","formControlName","lot_size",1,"form-control"],["type","number","formControlName","stop_loss_price",1,"form-control"],["type","number","formControlName","take_profit_price",1,"form-control"],["type","number","formControlName","exit_price",1,"form-control"],[1,"col-md-4"],["type","datetime-local","formControlName","entry_time",1,"form-control"],["type","datetime-local","formControlName","exit_time",1,"form-control"],["formControlName","exit",1,"form-select"],["value","","disabled",""],["value","Target"],["value","StopLoss"],["value","Manual"]],template:function(e,r){e&1&&x(0,T4,59,1,"div",0),e&2&&b("ngIf",r.formGroup)},dependencies:[G,ue,Se,hn,gn,we,ur,pn,Rn,xe,ze,Be,We],encapsulation:2})};var _a=class n{constructor(t){this.supabase=t}async callEdgeFunction(t,e){let{data:r,error:i}=await this.supabase.GetClient().functions.invoke(t,{body:e});return{data:r,error:i}}static \u0275fac=function(e){return new(e||n)(L(Me))};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})};function M4(n,t){if(n&1&&(d(0,"div",19),f(1),c()),n&2){let e=E();h(),R("Selected File: ",e.fileName,"")}}function A4(n,t){if(n&1&&(d(0,"div",20),w(1,"img",21),c()),n&2){let e=E();h(),b("src",e.imagePreviewUrl,En)}}function k4(n,t){if(n&1&&(d(0,"div",22),w(1,"i",23),f(2),c()),n&2){let e=E();h(2),R("",e.errorMessage," ")}}function P4(n,t){n&1&&(d(0,"span"),w(1,"i",24),f(2,"Extract Trade Data "),c())}function O4(n,t){n&1&&(d(0,"span"),w(1,"span",25),f(2," Extracting... "),c())}var Sm=class n{constructor(t,e){this.supabase=t;this.cdr=e}file=null;fileName="";isLoading=!1;errorMessage=null;imagePreviewUrl=null;MAX_FILE_SIZE_BYTES=10*1024*1024;ALLOWED_FILE_TYPES=["image/png","image/jpeg"];extractTradeData=new J;onFileSelected(t){this.errorMessage=null,this.file=null,this.fileName="",this.imagePreviewUrl=null;let e=t.target;if(!e.files||e.files.length===0)return;let r=e.files[0];if(!this.ALLOWED_FILE_TYPES.includes(r.type)){this.errorMessage="Invalid file type. Please upload a PNG or JPEG image.",e.value="";return}if(r.size>this.MAX_FILE_SIZE_BYTES){this.errorMessage=`File is too large. Maximum size is ${this.MAX_FILE_SIZE_BYTES/1024/1024}MB.`,e.value="";return}this.file=r,this.fileName=this.file.name;let i=new FileReader;i.onload=()=>{this.imagePreviewUrl=i.result},i.readAsDataURL(r),this.cdr.markForCheck()}async extractTextFromImage(){if(!this.file){this.errorMessage="Please select a file first.";return}this.isLoading=!0,this.errorMessage=null;try{let{base64:t,mimeType:e}=await this.convertToBase64(this.file),{data:r,error:i}=await this.supabase.callEdgeFunction("trade-chart-extract-gemini",{imageData:t,mimeType:e});if(i){this.errorMessage="Failed to extract data from the image. Please try again.";return}this.extractTradeData.emit(JSON.parse(r))}catch{this.errorMessage="An unexpected error occurred while processing the image.",this.cdr.markForCheck()}finally{this.isLoading=!1,this.cdr.markForCheck()}}convertToBase64(t){return new Promise((e,r)=>{let i=new FileReader;i.readAsDataURL(t),i.onload=()=>{let s=i.result.split(",");if(s.length!==2){r(new Error("Invalid Base64 string format"));return}let a=s[1],l=t.type;e({base64:a,mimeType:l})},i.onerror=o=>r(o)})}static \u0275fac=function(e){return new(e||n)(D(_a),D(ee))};static \u0275cmp=j({type:n,selectors:[["app-chart-upload"]],outputs:{extractTradeData:"extractTradeData"},decls:24,vars:8,consts:[["fileInput",""],[1,"card","mb-4","shadow-sm","border-primary"],[1,"card-header","bg-primary","text-white"],[1,"mb-0"],[1,"bi","bi-image","me-2"],[1,"card-body"],[1,"mb-3","text-muted"],[1,"border","rounded","border-dashed","p-4","text-center","bg-light"],["type","file","accept","image/png, image/jpeg","hidden","",3,"change","disabled"],[1,"mb-2"],[1,"bi","bi-cloud-upload","display-4","text-primary"],[1,"btn","btn-outline-primary",3,"click","disabled"],[1,"text-muted","mt-2"],["class","mt-3 fw-bold",4,"ngIf"],["class","mt-3",4,"ngIf"],["class","alert alert-danger mt-3","role","alert",4,"ngIf"],[1,"text-end","mt-3"],[1,"btn","btn-success",3,"click","disabled"],[4,"ngIf"],[1,"mt-3","fw-bold"],[1,"mt-3"],["alt","Image Preview",1,"img-fluid","rounded","shadow-sm",2,"max-height","700px",3,"src"],["role","alert",1,"alert","alert-danger","mt-3"],[1,"bi","bi-exclamation-triangle-fill","me-2"],[1,"bi","bi-magic","me-2"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-2"]],template:function(e,r){if(e&1){let i=Q();d(0,"div",1)(1,"div",2)(2,"h5",3),w(3,"i",4),f(4,"Chart Image Analysis "),c()(),d(5,"div",5)(6,"div",6),f(7," Upload your analyzed chart image and let AI automatically fill your trade fields "),c(),d(8,"div",7)(9,"input",8,0),I("change",function(s){return T(i),M(r.onFileSelected(s))}),c(),d(11,"div",9),w(12,"i",10),c(),d(13,"button",11),I("click",function(){T(i);let s=bo(10);return M(s.click())}),f(14," Upload Chart Image "),c(),d(15,"div",12),f(16,"Support for PNG, JPG, JPEG files up to 10MB"),c(),x(17,M4,2,1,"div",13)(18,A4,2,1,"div",14),c(),x(19,k4,3,1,"div",15),d(20,"div",16)(21,"button",17),I("click",function(){return T(i),M(r.extractTextFromImage())}),x(22,P4,3,0,"span",18)(23,O4,3,0,"span",18),c()()()()}e&2&&(h(9),b("disabled",r.isLoading),h(4),b("disabled",r.isLoading),h(4),b("ngIf",r.fileName),h(),b("ngIf",r.imagePreviewUrl),h(),b("ngIf",r.errorMessage),h(2),b("disabled",!r.file||r.isLoading),h(),b("ngIf",!r.isLoading),h(),b("ngIf",r.isLoading))},dependencies:[G,ue,Ui],encapsulation:2})};function R4(n,t){if(n&1&&(d(0,"div",1)(1,"div",2)(2,"h5",3),w(3,"i",4),f(4,"Risk Management "),c()(),d(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8),f(9,"Risk % per Trade"),c(),d(10,"div",9),f(11),c()(),d(12,"div",7)(13,"div",8),f(14,"Risk $ per Trade"),c(),d(15,"div",9),f(16),c()(),d(17,"div",7)(18,"div",8),f(19,"Reward:Risk Ratio"),c(),d(20,"div",9),f(21),c()()(),d(22,"div",10),f(23,"Auto-calculated based on your inputs. Not stored to the database."),c()()()),n&2){let e=E();h(11),R("",e.riskPercent.toFixed(2),"%"),h(5),R("$",e.riskDollar.toFixed(2),""),h(5),U(e.rrRatio)}}var Dm=class n{entryPrice=0;stopLoss=0;takeProfit=0;lotSize=.01;metrics;get riskDollar(){return Math.abs(this.entryPrice-this.stopLoss)*this.lotSize*1e5}get riskPercent(){return this.entryPrice?Math.abs((this.entryPrice-this.stopLoss)/this.entryPrice)*100:0}get rrRatio(){let t=Math.abs(this.entryPrice-this.stopLoss),e=Math.abs(this.takeProfit-this.entryPrice);return t?`${(e/t).toFixed(2)}:1`:"0:1"}get hasAllInputs(){return this.entryPrice!==0&&this.stopLoss!==0&&this.takeProfit!==0&&this.lotSize!==0}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=j({type:n,selectors:[["app-risk-summary"]],inputs:{entryPrice:"entryPrice",stopLoss:"stopLoss",takeProfit:"takeProfit",lotSize:"lotSize",metrics:"metrics"},decls:1,vars:1,consts:[["class","card shadow-sm mb-4",4,"ngIf"],[1,"card","shadow-sm","mb-4"],[1,"card-header","bg-danger","bg-opacity-10","border-danger"],[1,"mb-0","text-danger"],[1,"bi","bi-exclamation-triangle","me-2"],[1,"card-body"],[1,"row","text-center"],[1,"col-md-4"],[1,"fw-bold","text-muted"],[1,"fs-5"],[1,"text-muted","small","mt-2"]],template:function(e,r){e&1&&x(0,R4,24,3,"div",0),e&2&&b("ngIf",r.hasAllInputs)},dependencies:[G,ue],encapsulation:2})};function N4(n,t){if(n&1&&w(0,"app-planned-trade",3),n&2){let e=E();b("formGroup",e.plannedTradeGroup)}}function F4(n,t){if(n&1&&w(0,"app-executing-trade",3),n&2){let e=E();b("formGroup",e.executingTradeGroup)}}function L4(n,t){if(n&1&&w(0,"app-profit-analysis",14),n&2){let e=E();b("data",e.aggregatedProfitData())}}function V4(n,t){if(n&1&&w(0,"app-emotional-analysis",15),n&2){let e=E();b("formGroup",e.emotionBeforeGroup)("showBias",!0)}}function j4(n,t){if(n&1&&w(0,"app-emotional-analysis",16),n&2){let e=E();b("formGroup",e.emotionAfterGroup)}}var ya=class n{constructor(t,e,r){this.supabase=t;this.supabaseTradeService=e;this.cdr=r;_o(()=>{this.tradeData&&(this.tradeForm().patchValue(W(k({},this.tradeData),{tradeid:this.tradeData.tradeid,planned_trade:this.tradeData.planned_trade?.[0]||{},executing_trade:this.tradeData.executing_trades?.[0]||{}})),this.mode==="complete"&&this.tradeForm().patchValue({trade_status:"Completed"}))})}fb=y(zt);tradeFormService=y(Cm);mode="create";tradeData=null;tradeAccountId=null;formSubmitted=new J;cancel=new J;tradeForm=Ft(this.createForm());tradeStatus=ir(()=>this.tradeForm().get("trade_status")?.value);aggregatedProfitData=ir(()=>{let t=this.tradeForm().get("executing_trade")?.value;return this.tradeFormService.aggregateProfit([t])});riskMetrics=ir(()=>this.calculateRiskMetrics(this.tradeForm().get("planned_trade")?.value));createForm(){return this.fb.group({tradeid:[""],userid:[""],trade_status:["Planned",N.required],trade_symbol:["",N.required],trade_analysis:["",[N.minLength(1)]],trade_instrument:["",N.required],type_of_order:["",N.required],market_condition:["",N.required],strategy_name:["",N.required],entry_criteria:["",[N.minLength(1)]],exit_criteria:["",[N.minLength(1)]],planned_trade:this.fb.group({trade_direction:["Long"],entry_price:[0],lot_size:[.01],stop_loss_price:[0],take_profit_price:[0]}),executing_trade:this.fb.group({trade_direction:["Long"],entry_price:[0],lot_size:[.01],stop_loss_price:[0],take_profit_price:[0],exit_price:[0],entry_time:[""],exit_time:[""],exit:[""]}),emotion_before:this.fb.group({emotional_state:[""],potential_bisa:[""],trade_confidence:[""],reflection:[""]}),emotion_after:this.fb.group({emotional_state:[""],trade_confidence:[""],reflection:[""]}),notes:[""]})}async onSubmit(){if(this.tradeForm().valid){let t=this.tradeForm(),e=t.get("tradeid")?.value;if(this.mode==="create")(!e||typeof e!="string"||e.trim()==="")&&(e=Vo(),t.patchValue({tradeid:e}));else if(!e||typeof e!="string"||e.trim()===""){console.error("Missing tradeid for edit/complete mode!");return}let r=this.supabase.user()?.id;t.patchValue({trade_account_id:this.tradeAccountId,updated_time:new Date().toISOString()});let i={tradeid:e,userid:r,trade_account_id:this.tradeAccountId,trade_symbol:t.get("trade_symbol")?.value,trade_analysis:t.get("trade_analysis")?.value,trade_instrument:t.get("trade_instrument")?.value,type_of_order:t.get("type_of_order")?.value,market_condition:t.get("market_condition")?.value,trade_status:t.get("trade_status")?.value,strategy_name:t.get("strategy_name")?.value,entry_criteria:t.get("entry_criteria")?.value,exit_criteria:t.get("exit_criteria")?.value,planned_trade:[t.get("planned_trade")?.value],executing_trades:[t.get("executing_trade")?.value],planned_profit:null,realized_profit:null,unrealized_profit:null,emotion_before:t.get("emotion_before")?.value,emotion_after:t.get("emotion_after")?.value,notes:t.get("notes")?.value,updated_time:new Date().toISOString()};try{this.mode==="create"?(console.log(i),await this.supabaseTradeService.addTradeLogOfSelectedAccount(i,"tradejournal",this.tradeAccountId)):["edit","complete"].includes(this.mode)&&await this.supabaseTradeService.updateTradeLogOfSelectedAccount(i,"tradejournal",this.tradeAccountId),this.formSubmitted.emit(),this.cdr.markForCheck()}catch(o){console.error("Error submitting trade:",o)}}else{let t=this.tradeForm();this.logInvalidControls(t),console.log("Invalid form")}}logInvalidControls(t,e=""){Object.keys(t.controls).forEach(r=>{let i=t.get(r),o=e?`${e}.${r}`:r;i instanceof la?this.logInvalidControls(i,o):i&&i.invalid&&console.warn(`Invalid control: ${o}`,i.errors)})}onCancel(){this.cancel.emit()}calculateRiskMetrics(t){let e=t?.entry_price||0,r=t?.stop_loss_price||0,i=t?.lot_size||0,o=Math.abs(e-r),s=o*i,a=e?o/e*100:0;return{riskPerLot:o,totalRisk:s,riskPercent:+a.toFixed(2)}}get tradeStatusControl(){return this.tradeForm().get("trade_status")}get notesControl(){return this.tradeForm().get("notes")}get emotionBeforeGroup(){return this.tradeForm().get("emotion_before")}get emotionAfterGroup(){return this.tradeForm().get("emotion_after")}get plannedTradeGroup(){return this.tradeForm().get("planned_trade")}get executingTradeGroup(){return this.tradeForm().get("executing_trade")}applyExtractedChartData(t){let e={};t.trade_status&&(e.trade_status=t.trade_status),t.trade_symbol&&(e.trade_symbol=t.trade_symbol),t.symbol&&!t.trade_symbol&&(e.trade_symbol=t.symbol),t.trade_analysis&&(e.trade_analysis=t.trade_analysis),t.trade_instrument&&(e.trade_instrument=t.trade_instrument),t.type_of_order&&(e.type_of_order=t.type_of_order),t.market_condition&&(e.market_condition=t.market_condition),t.strategy_name&&(e.strategy_name=t.strategy_name),t.entry_criteria&&(e.entry_criteria=t.entry_criteria),t.exit_criteria&&(e.exit_criteria=t.exit_criteria),t.planned_trade&&(e.planned_trade=t.planned_trade),t.executing_trade&&(e.executing_trade=t.executing_trade),t.emotion_before&&(e.emotion_before=t.emotion_before),t.emotion_after&&(e.emotion_after=t.emotion_after),t.notes&&(e.notes=t.notes),this.tradeForm().patchValue(e)}static \u0275fac=function(e){return new(e||n)(D(Me),D(Ht),D(ee))};static \u0275cmp=j({type:n,selectors:[["app-individual-trade"]],inputs:{mode:"mode",tradeData:"tradeData",tradeAccountId:"tradeAccountId"},outputs:{formSubmitted:"formSubmitted",cancel:"cancel"},decls:19,vars:12,consts:[[1,"container"],[1,"mb-4"],[3,"control","disabled"],[3,"formGroup"],[3,"extractTradeData"],[3,"metrics"],[3,"formGroup",4,"ngIf"],[3,"data",4,"ngIf"],["label","Pre-Trade",3,"formGroup","showBias",4,"ngIf"],["label","Post-Trade",3,"formGroup",4,"ngIf"],[3,"control"],[1,"d-flex","justify-content-end","mt-4","border-top","pt-3"],["type","button",1,"btn","btn-primary","me-2",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"],[3,"data"],["label","Pre-Trade",3,"formGroup","showBias"],["label","Post-Trade",3,"formGroup"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"h1",1),f(2,"Add Trade"),c(),w(3,"app-trade-status-selector",2)(4,"app-trade-setup",3),d(5,"app-chart-upload",4),I("extractTradeData",function(o){return r.applyExtractedChartData(o)}),c(),w(6,"app-trade-strategy",3)(7,"app-risk-summary",5),x(8,N4,1,1,"app-planned-trade",6)(9,F4,1,1,"app-executing-trade",6)(10,L4,1,1,"app-profit-analysis",7)(11,V4,1,2,"app-emotional-analysis",8)(12,j4,1,1,"app-emotional-analysis",9),w(13,"app-notes",10),d(14,"div",11)(15,"button",12),I("click",function(){return r.onSubmit()}),f(16,"Save"),c(),d(17,"button",13),I("click",function(){return r.onCancel()}),f(18),c()()()),e&2&&(h(3),b("control",r.tradeStatusControl)("disabled",r.mode==="view"),h(),b("formGroup",r.tradeForm()),h(2),b("formGroup",r.tradeForm()),h(),b("metrics",r.riskMetrics()),h(),b("ngIf",r.tradeStatusControl.value==="Planned"),h(),b("ngIf",r.tradeStatusControl.value!=="Planned"),h(),b("ngIf",r.tradeStatusControl.value==="Completed"),h(),b("ngIf",r.tradeStatusControl.value==="Planned"),h(),b("ngIf",r.tradeStatusControl.value!=="Planned"),h(),b("control",r.notesControl),h(5),R(" ",r.mode==="view"?"Close":"Cancel"," "))},dependencies:[G,ue,Se,ze,Be,gm,bm,vm,Em,xm,_m,ym,wm,Sm,Dm],encapsulation:2})};function B4(n,t){if(n&1&&(d(0,"div",14),f(1),c()),n&2){let e=E();h(),U(e.actionSuccess)}}function U4(n,t){if(n&1&&(d(0,"div",15),f(1),c()),n&2){let e=E();h(),U(e.actionError)}}function $4(n,t){if(n&1){let e=Q();d(0,"li",16)(1,"div",17)(2,"i",18),I("click",function(){let i=T(e).$implicit,o=E();return M(o.onRowClick(i))}),c(),d(3,"div",19),I("click",function(){let i=T(e).$implicit,o=E();return M(o.onRowClick(i))}),d(4,"h5",20),f(5),c(),d(6,"span",21)(7,"span",22),f(8),c(),f(9," | "),d(10,"span",22),f(11),c(),f(12," | "),d(13,"span",22),f(14),vt(15,"date"),c()()(),d(16,"div",23),I("click",function(){let i=T(e).$implicit,o=E();return M(o.deleteAccount(i.account_id))}),w(17,"i",24),c()()()}if(n&2){let e=t.$implicit;h(5),U(e.account_name),h(3),R("Broker: ",e.broker_name,""),h(3),sl("Balance: ",e.balance," ",e.currency,""),h(3),R("Created At: ",_t(15,5,e.created_at,"y, MMMM, d h:mm a"),"")}}function z4(n,t){if(n&1&&(d(0,"div",15),f(1),c()),n&2){let e=E(2);h(),U(e.formError)}}function H4(n,t){if(n&1){let e=Q();d(0,"div",25),I("click",function(i){T(e);let o=E();return M(o.closeFormOnOutside(i))})("keydown.escape",function(){T(e);let i=E();return M(i.toggleForm())}),d(1,"div",26),I("click",function(i){return T(e),M(i.stopPropagation())}),d(2,"nav",27)(3,"ol",28)(4,"li",3)(5,"a",4),f(6,"Dashboard"),c()(),d(7,"li",3)(8,"a",29),I("click",function(i){T(e);let o=E();return M(o.closeFormOnOutside(i))}),f(9,"Trading Accounts"),c()(),d(10,"li",5),f(11,"Create Manual Account"),c()()(),d(12,"h4",30),f(13,"Create Manual Account"),c(),d(14,"p",31),f(15,"Set up a manual trading account to track your trades"),c(),d(16,"form",32),I("ngSubmit",function(){T(e);let i=E();return M(i.submitForm())}),d(17,"div",33)(18,"label",34),f(19,"Account Name"),c(),w(20,"input",35),c(),d(21,"div",33)(22,"label",34),f(23,"Broker Name"),c(),w(24,"input",36),c(),d(25,"div",33)(26,"label",34),f(27,"Account Type"),c(),w(28,"input",37),c(),d(29,"div",33)(30,"label",34),f(31,"Currency"),c(),w(32,"input",38),c(),d(33,"div",33)(34,"label",34),f(35,"Initial Balance"),c(),w(36,"input",39),c(),d(37,"div",33)(38,"label",34),f(39,"Account Notes (Optional)"),c(),w(40,"textarea",40),c(),d(41,"h5",8),f(42,"Trading Preferences"),c(),d(43,"div",41),w(44,"input",42),d(45,"label",43),f(46,"Track P&L"),c(),d(47,"small",44),f(48,"Enable profit and loss tracking for this account"),c()(),d(49,"div",41),w(50,"input",45),d(51,"label",46),f(52,"Include in Analytics"),c(),d(53,"small",44),f(54,"Include this account in overall performance metrics"),c()(),x(55,z4,2,1,"div",10),d(56,"div",47)(57,"button",48),I("click",function(){T(e);let i=E();return M(i.toggleForm())}),f(58,"Cancel"),c(),d(59,"button",49),f(60,"Create Account"),c()()()()()}if(n&2){let e=E();h(16),b("formGroup",e.tradeAccountForm),h(39),b("ngIf",e.formError)}}function q4(n,t){if(n&1){let e=Q();d(0,"div",25),I("click",function(){T(e);let i=E();return M(i.cancelDelete())})("keydown.escape",function(){T(e);let i=E();return M(i.cancelDelete())}),d(1,"div",26),I("click",function(i){return T(e),M(i.stopPropagation())}),d(2,"h5",33),f(3,"Confirm Deletion"),c(),d(4,"p"),f(5,"Are you sure you want to delete this trading account and all its associated data?"),c(),d(6,"div",47)(7,"button",50),I("click",function(){T(e);let i=E();return M(i.cancelDelete())}),f(8,"Cancel"),c(),d(9,"button",7),I("click",function(){T(e);let i=E();return M(i.confirmDelete())}),f(10,"Delete"),c()()()()}}var Im=class n{constructor(t,e,r,i){this.fb=t;this.supabaseService=e;this.supabaseAccountService=r;this.cdr=i;this.tradeAccountForm=this.fb.group({account_name:["",N.required],broker_name:[""],account_type:[""],currency:["USD"],balance:[0,N.min(0)],track_pl:[!1],include_in_analytics:[!1]})}tradeAccounts=[];showForm=!1;tradeAccountForm;formError=null;actionError=null;actionSuccess=null;selectedAccountId=null;showDeleteConfirm=!1;pendingDeleteAccountId=null;funMaterialIcons=["movie","music_note","videogame_asset","theater_comedy","sports_esports","fastfood","local_cafe","restaurant_menu","icecream","emoji_food_beverage","flight_takeoff","directions_car","hiking","beach_access","camping","smartphone","computer","memory","developer_mode","settings","mood","sentiment_satisfied","sentiment_very_dissatisfied","celebration","favorite","auto_awesome","nightlight","stars","magic_wand","castle"];ngOnInit(){this.loadAccounts()}async loadAccounts(){try{this.tradeAccounts=await this.supabaseAccountService.getUserTradeAccounts()}catch{this.actionError="Failed to load accounts. Please try again."}finally{this.cdr.markForCheck()}}async onRowClick(t){this.selectedAccountId=t.account_id,this.tradeAccountForm.patchValue({account_name:t.account_name,broker_name:t.broker_name,account_type:t.account_type,currency:t.currency,balance:t.balance,track_pl:t.metadata?.track_pl||!1,include_in_analytics:t.metadata?.include_in_analytics||!1}),this.showForm=!0}toggleForm(){this.showForm=!this.showForm,this.formError=null,this.actionSuccess=null,this.actionError=null,this.selectedAccountId=null,this.showForm||this.tradeAccountForm.reset({currency:"USD",balance:0})}async submitForm(){if(this.formError="",this.tradeAccountForm.valid){let t=this.tradeAccountForm.value;this.selectedAccountId?await this.supabaseAccountService.editTradeAccount(this.selectedAccountId,t)?(this.actionSuccess="Account updated successfully",this.loadAccounts(),this.toggleForm()):this.formError="Failed to update account":await this.supabaseAccountService.addTradeAccount(t)?(this.actionSuccess="Account added successfully",this.loadAccounts(),this.toggleForm()):this.formError="Failed to add account"}this.cdr.markForCheck()}async deleteAccount(t){this.showDeleteConfirm=!0,this.pendingDeleteAccountId=t}confirmDelete(){this.pendingDeleteAccountId&&this.performAccountDeletion(this.pendingDeleteAccountId),this.showDeleteConfirm=!1,this.pendingDeleteAccountId=null}cancelDelete(){this.showDeleteConfirm=!1,this.pendingDeleteAccountId=null}async performAccountDeletion(t){this.actionError=null,this.actionSuccess=null;try{await this.supabaseAccountService.removeTradeAccount(t)?(this.loadAccounts(),this.actionSuccess="Account deleted successfully."):this.actionError="Failed to delete account."}catch{this.actionError="An unexpected error occurred while deleting."}finally{this.cdr.markForCheck(),setTimeout(()=>{this.actionSuccess="",this.cdr.markForCheck()},5e3)}}handleEscape(t){this.showForm&&this.toggleForm()}closeFormOnOutside(t){t.target===t.currentTarget&&this.toggleForm()}static \u0275fac=function(e){return new(e||n)(D(zt),D(Ht),D(qt),D(ee))};static \u0275cmp=j({type:n,selectors:[["app-tradeaccountmanage"]],hostBindings:function(e,r){e&1&&I("keydown.escape",function(o){return r.handleEscape(o)},!1,fC)},decls:23,vars:5,consts:[[1,"container","mt-4"],["aria-label","breadcrumb",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/home",1,"text-decoration-none"],["aria-current","page",1,"breadcrumb-item","active"],[1,"d-flex","justify-content-between","align-items-center","mt-4"],[1,"btn","btn-tr",3,"click"],[1,"mt-4"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"list-group"],["class","list-group-item bg-transparent",4,"ngFor","ngForOf"],["class","overlay","tabindex","0",3,"click","keydown.escape",4,"ngIf"],[1,"alert","alert-success"],[1,"alert","alert-danger"],[1,"list-group-item","bg-transparent"],[1,"d-flex","align-items-center"],[1,"logo-circle","bi","bi-star-fill","text-primary",2,"font-size","2rem",3,"click"],[1,"ms-3",3,"click"],[1,"mt-2"],[1,"d-block","row","text-muted"],[1,"col-4"],["title","Delete Account",1,"delete-button","justify-content-end",3,"click"],[1,"bi","bi-trash"],["tabindex","0",1,"overlay",3,"click","keydown.escape"],[1,"modal-card",3,"click"],["aria-label","breadcrumb"],[1,"breadcrumb","small"],[3,"click"],[1,"mb-1"],[1,"text-muted","mb-3"],[3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"form-label"],["type","text","formControlName","account_name","placeholder","e.g., My Futures Account",1,"form-control"],["type","text","formControlName","broker_name","placeholder","e.g., NinjaTrader, TastyWorks",1,"form-control"],["type","text","formControlName","account_type","placeholder","e.g., Margin, Cash",1,"form-control"],["type","text","formControlName","currency","placeholder","USD",1,"form-control"],["type","number","formControlName","balance",1,"form-control"],["rows","3","placeholder","Add any additional information about this account","disabled","",1,"form-control"],[1,"form-check","form-switch","mb-2"],["type","checkbox","formControlName","track_pl","id","track_pl",1,"form-check-input"],["for","track_pl",1,"form-check-label"],[1,"text-muted","d-block","ms-4"],["type","checkbox","formControlName","include_in_analytics","id","include_in_analytics",1,"form-check-input"],["for","include_in_analytics",1,"form-check-label"],[1,"d-flex","justify-content-end","gap-2","mt-3"],["type","button",1,"btn","btn-tr-secondary",3,"click"],["type","submit",1,"btn","btn-tr"],[1,"btn","btn-tr-secondary",3,"click"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),f(5,"Dashboard"),c()(),d(6,"li",5),f(7,"Trading Accounts"),c()()(),d(8,"div",6)(9,"h3"),f(10,"Your Trade Accounts"),c(),d(11,"button",7),I("click",function(){return r.toggleForm()}),f(12,"Add Account"),c()(),d(13,"div",8)(14,"h5"),f(15,"Manage your trading accounts"),c()(),x(16,B4,2,1,"div",9)(17,U4,2,1,"div",10),d(18,"div",0)(19,"ul",11),x(20,$4,18,8,"li",12),c()(),x(21,H4,61,2,"div",13)(22,q4,11,0,"div",13),c()),e&2&&(h(16),b("ngIf",r.actionSuccess),h(),b("ngIf",r.actionError),h(3),b("ngForOf",r.tradeAccounts),h(),b("ngIf",r.showForm),h(),b("ngIf",r.showDeleteConfirm))},dependencies:[Se,mn,we,ur,di,xe,ze,Be,We,G,nt,ue,Sr,Ke],styles:[".modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;z-index:1050}.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1050}.modal-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:2rem;width:100%;max-width:600px;max-height:90dvh;overflow-y:auto;box-shadow:0 10px 25px #00000026}.list-group-item[_ngcontent-%COMP%]{cursor:pointer}.delete-button[_ngcontent-%COMP%]{color:red;display:none;margin-left:auto}.list-group-item[_ngcontent-%COMP%]:hover   .delete-button[_ngcontent-%COMP%]{color:red;display:block}"]})};function G4(n,t){if(n&1&&w(0,"img",35),n&2){let e=E();b("src",e.currentImageUrl,En)}}function W4(n,t){if(n&1&&w(0,"img",36),n&2){let e=E();b("src",e.previewUrl,En)}}function Q4(n,t){n&1&&(d(0,"div",14),f(1,"No new image selected"),c())}function K4(n,t){if(n&1&&(d(0,"div",23)(1,"div",37),f(2),c()()),n&2){let e=E();h(2),U(e.errorMessage)}}function Z4(n,t){if(n&1&&(d(0,"button",38),f(1," Save Changes "),c()),n&2){let e=E();b("disabled",e.profileForm.invalid)}}var Tm=class n{constructor(t,e,r){this.fb=t;this.supabaseService=e;this.cdr=r;this.profileForm=this.fb.group({firstname:["",N.required],lastname:[""],email:["",[N.required,N.email]],phone:[""]})}profileForm;currentImageUrl=null;previewUrl=null;selectedFile=null;userId="";originalFormValue;formChanged=!1;errorMessage="";async ngOnInit(){await this.loadProfile(),this.trackFormChanges()}async loadProfile(){try{let{data:t,error:e}=await this.supabaseService.getProfile();if(e){this.errorMessage="Failed to load profile: "+e.message,console.error("Supabase profile load error:",e);return}t?(this.profileForm.patchValue({firstname:t.firstname,lastname:t.lastname,email:t.email,phone:t.phone}),this.originalFormValue=this.profileForm.getRawValue(),t.profile_picture_url?(this.currentImageUrl=await this.supabaseService.getCachedProfilePictureBlobUrl(t.profile_picture_url),this.previewUrl=this.currentImageUrl):(this.currentImageUrl=null,this.previewUrl=null)):(this.errorMessage="No profile data found. Please complete your profile.",console.warn("No profile data received from Supabase."))}catch(t){this.errorMessage="An unexpected error occurred while loading profile.",console.error("Error in loadProfile:",t)}finally{this.cdr.markForCheck()}}async removeProfilePicture(){try{this.errorMessage="",await this.supabaseService.deleteProfilePicture(),this.supabaseService.clearCachedProfilePictureBlobUrl(),await this.supabaseService.updateProfile({profile_picture_url:null}),this.currentImageUrl=null,this.previewUrl=null,this.selectedFile=null,this.formChanged=!0}catch(t){this.errorMessage="Failed to remove profile picture: "+(t.message||t.toString()),console.error("Error removing profile picture:",t)}finally{this.cdr.markForCheck()}}trackFormChanges(){this.profileForm.valueChanges.subscribe(()=>{this.formChanged=this.profileForm.dirty||!!this.selectedFile,this.cdr.markForCheck()})}onFileChange(t){this.errorMessage="";let e=t.target,r=e?.files?.[0];if(!r){this.selectedFile=null;return}if(!["image/jpeg","image/png","image/webp"].includes(r.type)){this.errorMessage="Only JPG, PNG, or WEBP images are allowed.",this.selectedFile=null,e.value="";return}if(r.size>1024*1024){this.errorMessage="File size must be less than 1MB.",this.selectedFile=null,e.value="";return}this.selectedFile=r,this.previewUrl&&URL.revokeObjectURL(this.previewUrl),this.previewUrl=URL.createObjectURL(r),this.formChanged=!0,this.cdr.markForCheck()}async saveChanges(){if(this.errorMessage="",!this.formChanged){this.errorMessage="No changes detected.";return}if(this.profileForm.invalid){this.errorMessage="Please correct the highlighted form errors.",this.profileForm.markAllAsTouched(),this.cdr.markForCheck();return}let t=this.originalFormValue.profile_picture_url??null;if(this.selectedFile)try{if(t=await this.supabaseService.uploadProfilePicture(this.selectedFile),!t){this.errorMessage="Failed to upload profile picture. Please try again.",console.error("Supabase uploadProfilePicture returned null filePath");return}}catch(i){this.errorMessage="Error uploading profile picture: "+(i.message||i.toString()),console.error("Error during profile picture upload:",i);return}let e=this.profileForm.getRawValue(),r={firstname:e.firstname,lastname:e.lastname,email:e.email,phone:e.phone,profile_picture_url:t,updated_at:new Date().toISOString(),preferences:{},metadata:{}};try{await this.supabaseService.updateProfile(r),t&&(this.supabaseService.clearCachedProfilePictureBlobUrl(),this.currentImageUrl=await this.supabaseService.getCachedProfilePictureBlobUrl(t),this.previewUrl=this.currentImageUrl),this.formChanged=!1,this.selectedFile=null,this.originalFormValue=this.profileForm.getRawValue(),this.errorMessage=""}catch(i){this.errorMessage="Failed to save changes: "+(i.message||i.toString()),console.error("Error during profile update:",i)}finally{this.cdr.markForCheck()}}static \u0275fac=function(e){return new(e||n)(D(zt),D(qt),D(ee))};static \u0275cmp=j({type:n,selectors:[["app-user-account-settings"]],decls:58,vars:6,consts:[[1,"container","mb-5"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/home"],["aria-current","page",1,"breadcrumb-item","active"],[1,"mb-2"],[1,"text-muted","mb-4"],[1,"row","g-3","mb-4"],[1,""],[1,"card","border-0","shadow-sm","p-3","h-100"],[1,"d-flex","align-items-center","mb-2"],["alt","Profile","class","rounded-circle me-2","style","width: 40px; height: 40px; object-fit: cover;",3,"src",4,"ngIf"],[1,"mb-0"],[1,"text-muted"],[1,"row","g-4",3,"ngSubmit","formGroup"],[1,"fw-bold"],[1,"col-md-6"],[1,"form-label"],["formControlName","firstname","placeholder","First name",1,"form-control"],["formControlName","lastname","placeholder","Last name",1,"form-control"],["formControlName","email","placeholder","Email","type","email",1,"form-control"],["formControlName","phone","placeholder","+1 (123) 456-7890",1,"form-control"],[1,"col-12"],[1,"fw-bold","mt-3"],[1,"card","p-3","shadow-sm","border-light","bg-light-subtle"],[1,"form-label","d-block"],["alt","Preview","class","img-thumbnail","style","width: 120px;",3,"src",4,"ngIf"],["class","text-muted",4,"ngIf"],["type","file",1,"form-control","mt-2",3,"change"],[1,"mt-2","d-flex","gap-2"],["type","button",1,"btn","btn-outline-secondary","btn-sm",3,"click"],["class","col-12",4,"ngIf"],[1,"col-12","text-end"],["type","submit","class","btn btn-tr",3,"disabled",4,"ngIf"],["alt","Profile",1,"rounded-circle","me-2",2,"width","40px","height","40px","object-fit","cover",3,"src"],["alt","Preview",1,"img-thumbnail",2,"width","120px",3,"src"],[1,"alert","alert-danger"],["type","submit",1,"btn","btn-tr",3,"disabled"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),f(5,"Dashboard"),c()(),d(6,"li",5),f(7,"Account Settings"),c()()(),d(8,"h2",6),f(9,"Account Settings"),c(),d(10,"p",7),f(11,"Manage your profile, subscription, and preferences"),c(),d(12,"div",8)(13,"div",9)(14,"div",10)(15,"div",11),x(16,G4,1,1,"img",12),d(17,"h5",13),f(18,"Profile Information"),c()(),d(19,"small",14),f(20,"Update your personal details and public profile"),c()()()(),d(21,"form",15),I("ngSubmit",function(){return r.saveChanges()}),d(22,"h5",16),f(23,"Personal Information"),c(),d(24,"div",17)(25,"label",18),f(26,"First Name"),c(),w(27,"input",19),c(),d(28,"div",17)(29,"label",18),f(30,"Last Name"),c(),w(31,"input",20),c(),d(32,"div",17)(33,"label",18),f(34,"Email Address"),c(),w(35,"input",21),c(),d(36,"div",17)(37,"label",18),f(38,"Phone"),c(),w(39,"input",22),c(),d(40,"div",23)(41,"h6",24),f(42,"Profile Picture"),c(),d(43,"div",25)(44,"div",6)(45,"label",26),f(46,"Preview New Photo"),c(),x(47,W4,1,1,"img",27)(48,Q4,2,0,"div",28),c(),d(49,"input",29),I("change",function(o){return r.onFileChange(o)}),c(),d(50,"small",14),f(51,"JPG, PNG or GIF. Max 1MB."),c(),d(52,"div",30)(53,"button",31),I("click",function(){return r.removeProfilePicture()}),f(54,"Remove"),c()()()(),x(55,K4,3,1,"div",32),d(56,"div",33),x(57,Z4,2,1,"button",34),c()()()),e&2&&(h(16),b("ngIf",r.currentImageUrl),h(5),b("formGroup",r.profileForm),h(26),b("ngIf",r.previewUrl),h(),b("ngIf",!r.previewUrl),h(7),b("ngIf",r.errorMessage),h(2),b("ngIf",r.formChanged))},dependencies:[Se,mn,we,xe,ze,Be,We,G,ue,Ke],encapsulation:2})};var Y4=(n,t)=>({"alert-success":n,"alert-danger":t});function J4(n,t){if(n&1&&(d(0,"div",7),f(1),c()),n&2){let e=E();b("ngClass",Dn(2,Y4,e.messageType==="success",e.messageType==="error")),h(),R(" ",e.message," ")}}function X4(n,t){if(n&1){let e=Q();d(0,"tr")(1,"td")(2,"input",8),it("ngModelChange",function(i){let o=T(e).$implicit;return st(o.title,i)||(o.title=i),M(i)}),I("ngModelChange",function(){let i=T(e).$implicit,o=E();return M(o.onFieldChange(i))}),c()(),d(3,"td")(4,"input",8),it("ngModelChange",function(i){let o=T(e).$implicit;return st(o.url,i)||(o.url=i),M(i)}),I("ngModelChange",function(){let i=T(e).$implicit,o=E();return M(o.onFieldChange(i))}),c()(),d(5,"td")(6,"input",8),it("ngModelChange",function(i){let o=T(e).$implicit;return st(o.category,i)||(o.category=i),M(i)}),I("ngModelChange",function(){let i=T(e).$implicit,o=E();return M(o.onFieldChange(i))}),c()(),d(7,"td")(8,"textarea",8),it("ngModelChange",function(i){let o=T(e).$implicit;return st(o.description,i)||(o.description=i),M(i)}),I("ngModelChange",function(){let i=T(e).$implicit,o=E();return M(o.onFieldChange(i))}),c()(),d(9,"td")(10,"input",9),it("ngModelChange",function(i){let o=T(e).$implicit;return st(o.isactive,i)||(o.isactive=i),M(i)}),I("change",function(){let i=T(e).$implicit,o=E();return M(o.onFieldChange(i))}),c()(),d(11,"td"),f(12),vt(13,"date"),c()()}if(n&2){let e=t.$implicit;h(2),rt("ngModel",e.title),h(2),rt("ngModel",e.url),h(2),rt("ngModel",e.category),h(2),rt("ngModel",e.description),h(2),rt("ngModel",e.isactive),h(2),U(_t(13,6,e.updated_time,"short"))}}var Mm=class n{constructor(t,e){this.cdr=t;this.supabaseMeditationTableService=e}videos=[];message="";messageType="success";async ngOnInit(){let t=await this.supabaseMeditationTableService.adminLoadMeditationVideos();this.videos=t.map(e=>W(k({},e),{isModified:!1})),this.cdr.markForCheck()}onFieldChange(t){t.isModified=!0}addVideo(){this.videos.push({title:"",url:"",category:"",description:"",isactive:!0,isModified:!0}),this.cdr.detectChanges()}async saveChanges(){let t=this.videos.filter(e=>e.isModified);for(let e of t){if(e.id){e.updated_time=new Date().toISOString();let{error:r}=await this.supabaseMeditationTableService.updateMeditationVideo(e);if(r)return this.showMessage("Error saving some videos","error")}else{let{error:r}=await this.supabaseMeditationTableService.addMeditationVideo(e);if(r)return this.showMessage("Error adding new video","error")}e.isModified=!1}this.showMessage("Videos saved successfully","success"),this.cdr.detectChanges()}hasChanges(){return this.videos.some(t=>t.isModified)}showMessage(t,e){this.message=t,this.messageType=e,this.cdr.markForCheck(),setTimeout(()=>{this.message="",this.cdr.markForCheck()},4e3)}static \u0275fac=function(e){return new(e||n)(D(ee),D(ga))};static \u0275cmp=j({type:n,selectors:[["app-admin-meditation-dashboard"]],decls:26,vars:3,consts:[[1,"container","mt-4","p-4"],["class","alert",3,"ngClass",4,"ngIf"],[1,"table","mt-4"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","mt-3"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-success",3,"click","disabled"],[1,"alert",3,"ngClass"],["type","text",1,"form-control",3,"ngModelChange","ngModel"],["type","checkbox",1,"form-check-input",3,"ngModelChange","change","ngModel"]],template:function(e,r){e&1&&(d(0,"div",0),x(1,J4,2,5,"div",1),d(2,"h2"),f(3,"Meditation Video Admin Dashboard"),c(),d(4,"table",2)(5,"thead")(6,"tr")(7,"th"),f(8,"Title"),c(),d(9,"th"),f(10,"URL"),c(),d(11,"th"),f(12,"Category"),c(),d(13,"th"),f(14,"Description"),c(),d(15,"th"),f(16,"Active"),c(),d(17,"th"),f(18,"Last Updated"),c()()(),d(19,"tbody"),x(20,X4,14,9,"tr",3),c()(),d(21,"div",4)(22,"button",5),I("click",function(){return r.addVideo()}),f(23,"Add Video"),c(),d(24,"button",6),I("click",function(){return r.saveChanges()}),f(25,"Save Changes"),c()()()),e&2&&(h(),b("ngIf",r.message),h(19),b("ngForOf",r.videos),h(4),b("disabled",!r.hasChanges()))},dependencies:[G,un,nt,ue,Sr,Ui,we,di,xe,Lo],encapsulation:2})};function eB(n,t){if(n&1&&(d(0,"div",16),w(1,"div",17),c()),n&2){let e=E(2);h(),xn("width",e.progressBarWidth)}}function tB(n,t){if(n&1&&(Ut(0),d(1,"i",25),f(2),c(),$t()),n&2){let e=E(3);h(2),U(e.currentQuestion.question_data.question_icon)}}function nB(n,t){if(n&1&&(d(0,"h2"),f(1),c()),n&2){let e=E(3);h(),U(e.currentQuestion.question_data.question_title)}}function rB(n,t){if(n&1){let e=Q();d(0,"div",26)(1,"input",27),it("ngModelChange",function(i){T(e);let o=E(3);return st(o.currentQuestion.answer,i)||(o.currentQuestion.answer=i),M(i)}),I("input",function(i){T(e);let o=E(3);return M(o.onAnswerChange(i))})("keydown.enter",function(){T(e);let i=E(3);return M(i.onEnterKey())}),c()()}if(n&2){let e=E(3);h(),rt("ngModel",e.currentQuestion.answer),b("placeholder",e.currentQuestion.question_data.placeholder||"Your answer here...")}}function iB(n,t){if(n&1){let e=Q();d(0,"div",30)(1,"input",31),it("ngModelChange",function(i){T(e);let o=E(4);return st(o.currentQuestion.answer,i)||(o.currentQuestion.answer=i),M(i)}),I("ngModelChange",function(){T(e);let i=E(4);return M(i.onRadioAnswerChange())})("keydown.enter",function(){T(e);let i=E(4);return M(i.onEnterKey())}),c(),d(2,"label",32),f(3),c()()}if(n&2){let e=t.$implicit,r=E(4);h(),b("id",r.currentQuestion.question_id+"-"+e)("name",r.currentQuestion.question_id)("value",e),rt("ngModel",r.currentQuestion.answer),h(),b("for",r.currentQuestion.question_id+"-"+e),h(),U(e)}}function oB(n,t){if(n&1&&(d(0,"div",28),x(1,iB,4,6,"div",29),c()),n&2){let e=E(3);h(),b("ngForOf",e.currentQuestion.question_data.choices)}}function sB(n,t){if(n&1){let e=Q();d(0,"div",35)(1,"input",36),I("change",function(i){let o=T(e).$implicit,s=E(4);return M(s.onMultipleAnswerChange(o,i))})("keydown.enter",function(){T(e);let i=E(4);return M(i.onEnterKey())}),c(),d(2,"label",32),f(3),c()()}if(n&2){let e=t.$implicit,r=E(4);h(),b("id",r.currentQuestion.question_id+"-"+e)("value",e)("checked",r.currentQuestion.multipleAnswers==null?null:r.currentQuestion.multipleAnswers.includes(e)),h(),b("for",r.currentQuestion.question_id+"-"+e),h(),U(e)}}function aB(n,t){if(n&1&&(d(0,"div",33),x(1,sB,4,5,"div",34),c()),n&2){let e=E(3);h(),b("ngForOf",e.currentQuestion.question_data.choices)}}function lB(n,t){if(n&1&&(Ut(0),d(1,"div",18),x(2,tB,3,1,"ng-container",10)(3,nB,2,1,"h2",10),c(),d(4,"p",19),f(5),c(),d(6,"div",20),Ut(7,21),x(8,rB,2,2,"div",22)(9,oB,2,1,"div",23)(10,aB,2,1,"div",24),$t(),c(),$t()),n&2){let e=E(2);h(2),b("ngIf",e.currentQuestion.question_data.question_icon),h(),b("ngIf",e.currentQuestion.question_data.question_title),h(2),U(e.currentQuestion.question_data.question),h(2),b("ngSwitch",e.currentQuestion.question_data.question_type),h(),b("ngSwitchCase","fill"),h(),b("ngSwitchCase","select-one"),h(),b("ngSwitchCase","multiple")}}function cB(n,t){if(n&1){let e=Q();d(0,"button",37),I("click",function(){T(e);let i=E(2);return M(i.nextQuestion())}),f(1,"Next"),c()}}function dB(n,t){if(n&1){let e=Q();d(0,"button",12),I("click",function(){T(e);let i=E(2);return M(i.submitAnswers())}),f(1),c()}if(n&2){let e=E(2);b("disabled",e.loading),h(),R(" ",e.loading?"Submitting...":"Submit"," ")}}function uB(n,t){if(n&1&&(d(0,"div",38),f(1),c()),n&2){let e=E(2);b("@messageAnimation",void 0),h(),R(" ",e.errorMessage," ")}}function fB(n,t){if(n&1){let e=Q();Ut(0),x(1,eB,2,2,"div",8),d(2,"div",9),x(3,lB,11,7,"ng-container",10),c(),d(4,"div",11)(5,"button",12),I("click",function(){T(e);let i=E();return M(i.previousQuestion())}),f(6,"Previous"),c(),x(7,cB,2,0,"button",13)(8,dB,2,2,"button",14),c(),x(9,uB,2,2,"div",15),$t()}if(n&2){let e=E();h(),b("ngIf",!e.showCompleteScreen),h(),b("@questionAnimation",e.questionAnimationState),h(),b("ngIf",e.currentQuestion),h(2),b("disabled",e.currentQuestionIndex===0),h(2),b("ngIf",e.currentQuestionIndex<e.questions.length-1),h(),b("ngIf",e.currentQuestionIndex===e.questions.length-1),h(),b("ngIf",e.errorMessage)}}function mB(n,t){if(n&1&&(d(0,"div",43),f(1),c()),n&2){let e=E(2);b("@messageAnimation",void 0),h(),R(" ",e.errorMessage," ")}}function pB(n,t){if(n&1&&(d(0,"div",53)(1,"mat-icon"),f(2),c(),d(3,"div",54),f(4),c(),d(5,"div",55),w(6,"div",56),c(),d(7,"div",57),f(8),c()()),n&2){let e=t.$implicit;h(2),U(e.icon),h(2),U(e.emotion),h(2),xn("width",e.percentage),h(2),U(e.percentage)}}function hB(n,t){if(n&1&&(d(0,"div",49)(1,"div",46)(2,"mat-icon"),f(3),c(),d(4,"h4"),f(5),c()(),d(6,"p"),f(7),c()()),n&2){let e=t.$implicit;h(),xn("color",e.color),h(2),U(e.icon),h(2),U(e.category),h(2),R("Focus on ",e.category," related improvements.")}}function gB(n,t){if(n&1&&(d(0,"li"),f(1),c()),n&2){let e=t.$implicit;h(),U(e)}}function bB(n,t){if(n&1&&(d(0,"div",44)(1,"div",45)(2,"div",46)(3,"mat-icon"),f(4,"lightbulb"),c(),d(5,"h4"),f(6,"Emotional State Summary"),c()(),d(7,"div",47),x(8,pB,9,5,"div",48),c()(),d(9,"div",49)(10,"div",50)(11,"mat-icon"),f(12,"timer"),c(),d(13,"h4"),f(14,"Trade Readiness"),c()(),d(15,"article"),f(16),c()(),x(17,hB,8,5,"div",51),d(18,"div",49)(19,"div",50)(20,"mat-icon"),f(21,"lightbulb"),c(),d(22,"h4"),f(23,"Recommendations:"),c()(),d(24,"ul"),x(25,gB,2,1,"li",52),c()(),d(26,"div",49)(27,"div",50)(28,"mat-icon"),f(29,"directions_run"),c(),d(30,"h4"),f(31,"Recommened Actionable Item:"),c()(),d(32,"article"),f(33),c()()()),n&2){let e=E(2);h(8),b("ngForOf",e.analysisResult.emotion),h(8),U(e.analysisResult.readiness),h(),b("ngForOf",e.analysisResult.behaviorPattern),h(8),b("ngForOf",e.analysisResult.recommendation),h(8),U(e.analysisResult.actionableitem)}}function vB(n,t){if(n&1&&(d(0,"div",39)(1,"div",40)(2,"mat-icon"),f(3,"check"),c()(),x(4,mB,2,2,"div",41),d(5,"h3"),f(6,"Check-in Complete!"),c(),d(7,"p"),f(8,"Here are your AI insights for today"),c(),x(9,bB,34,5,"div",42),c()),n&2){let e=E();b("@checkInCompleteAnimation",void 0),h(4),b("ngIf",e.errorMessage),h(5),b("ngIf",e.analysisResult)}}var Am=class n{constructor(t,e,r,i){this.supabaseService=t;this.supabaseEmotionService=e;this.supabaseFunctionService=r;this.cdr=i}questions=[];currentQuestionIndex=0;currentQuestion;questionAnimationState="visible";showCompleteScreen=!1;analysisResult=null;loading=!1;errorMessage=null;todayCheckInCompleted=!1;userId="";async ngOnInit(){this.loading=!0;try{await this.supabaseEmotionService.canLoadCheckInQuestions()?(await this.loadQuestions(),this.showCompleteScreen=!1):(this.todayCheckInCompleted=!0,await this.loadLastCheckInResult(),this.showCompleteScreen=!0,this.errorMessage="You have already completed today's check-in.")}catch{this.errorMessage="Failed to initialize check-in. Please try again later."}finally{this.loading=!1,this.cdr.markForCheck()}}onEnterKey(){this.currentQuestionIndex<this.questions.length-1&&this.nextQuestion()}get progressBarWidth(){return this.questions.length===0?"0%":`${this.currentQuestionIndex/this.questions.length*100}%`}shuffleArray(t){let e=[...t];for(let r=e.length-1;r>0;r--){let i=Math.floor(Math.random()*(r+1));[e[r],e[i]]=[e[i],e[r]]}return e}async loadQuestions(){try{this.questions=await this.supabaseEmotionService.loadQuestions(),this.questions.length>0&&(this.currentQuestion=this.questions[this.currentQuestionIndex]),this.cdr.markForCheck()}catch(t){console.error("Error loading questions:",t),this.errorMessage="Failed to load questions. Please try again later.",this.cdr.markForCheck()}}nextQuestion(){this.currentQuestionIndex<this.questions.length-1&&(this.questionAnimationState="hidden-left",setTimeout(()=>{this.currentQuestionIndex++,this.currentQuestion=this.questions[this.currentQuestionIndex],this.questionAnimationState="visible",this.cdr.markForCheck()},300))}previousQuestion(){this.currentQuestionIndex>0&&(this.questionAnimationState="hidden-right",setTimeout(()=>{this.currentQuestionIndex--,this.currentQuestion=this.questions[this.currentQuestionIndex],this.questionAnimationState="visible",this.cdr.markForCheck()},300))}onAnswerChange(t){this.currentQuestion?.question_data.question_type==="fill"&&(this.currentQuestion.answer=t.target.value,this.cdr.markForCheck())}onRadioAnswerChange(){this.cdr.markForCheck()}onMultipleAnswerChange(t,e){if(this.currentQuestion?.question_data.question_type==="multiple"){this.currentQuestion.multipleAnswers||(this.currentQuestion.multipleAnswers=[]);let r=e.target.checked;r&&!this.currentQuestion.multipleAnswers.includes(t)?this.currentQuestion.multipleAnswers.push(t):!r&&this.currentQuestion.multipleAnswers.includes(t)&&(this.currentQuestion.multipleAnswers=this.currentQuestion.multipleAnswers.filter(i=>i!==t)),this.cdr.markForCheck()}}async submitAnswers(){this.loading=!0,this.errorMessage=null;try{let t=this.compileTraderInput(),e=await this.sendToSupabaseEdgeFunction(t);this.analysisResult=e,await this.saveAnswersToTable(e),this.showCompleteScreen=!0}catch(t){console.error("Error during submission:",t),this.errorMessage="An error occurred during submission. Please try again."}finally{this.cdr.markForCheck(),this.loading=!1}}compileTraderInput(){let t="";return this.questions.forEach((e,r)=>{let i="";e.question_data.question_type==="fill"||e.question_data.question_type==="select-one"?i=e.answer||"No answer provided.":e.question_data.question_type==="multiple"&&(i=e.multipleAnswers?.join(", ")||"No answer provided."),t+=`Q: ${e.question_data.question} A:${i}${r<this.questions.length-1?" ":""}`}),t}async sendToSupabaseEdgeFunction(t){let{data:e,error:r}=await this.supabaseFunctionService.callEdgeFunction("emotion-analyst-gemini",{prompt:t});if(r)throw new Error(`Failed to get analysis from Edge Function: ${r.message}`);if(!e||!Array.isArray(e)||e.length===0)throw new Error("Invalid or empty analysis response from Edge Function");let i={emotion:[],behaviorPattern:[],recommendation:[],readiness:"",actionableitem:""};return e.forEach(o=>{o.emotion&&Array.isArray(o.emotion)?i.emotion=o.emotion.map(s=>({emotion:s.emotion,percentage:String(s.percentage),icon:s.icon,color:s.color})):o.behaviorPattern&&Array.isArray(o.behaviorPattern)?i.behaviorPattern=o.behaviorPattern.map(s=>({category:s.category,icon:s.icon,color:s.color})):o.recommendation&&(Array.isArray(o.recommendation)||typeof o.recommendation=="string")?i.recommendation=Array.isArray(o.recommendation)?o.recommendation:[o.recommendation]:o.readiness&&typeof o.readiness=="string"?i.readiness=o.readiness:o.actionableitem&&typeof o.actionableitem=="string"&&(i.actionableitem=o.actionableitem)}),i}async saveAnswersToTable(t){let e=this.questions.map(o=>{let s="";return o.question_data.question_type==="fill"||o.question_data.question_type==="select-one"?s=o.answer||"":o.question_data.question_type==="multiple"&&(s=o.multipleAnswers||[]),{question_id:o.question_id,answer:s}}),r={user_id:this.supabaseService.user()?.id,answers:e,analysis:t},{error:i}=await this.supabaseEmotionService.submitUserAnswers(r);if(i)throw console.error("Error saving answers to database:",i),new Error(`Failed to save answers: ${i.message}`)}async loadLastCheckInResult(){try{let{data:t,error:e}=await this.supabaseEmotionService.getLastEmotionCheckInResult();if(e){this.errorMessage="Failed to load last check-in result.";return}if(Array.isArray(t)&&t.length>0&&t[0].analysis){let r=t[0].analysis;if(typeof r=="string")try{r=JSON.parse(r)}catch{}if(Array.isArray(r)){let i={emotion:[],behaviorPattern:[],recommendation:[],readiness:"",actionableitem:""};r.forEach(o=>{o.emotion&&Array.isArray(o.emotion)?i.emotion=o.emotion.map(s=>({emotion:s.emotion,percentage:String(s.percentage),icon:s.icon,color:s.color})):o.behaviorPattern&&Array.isArray(o.behaviorPattern)?i.behaviorPattern=o.behaviorPattern.map(s=>({category:s.category,icon:s.icon,color:s.color})):o.recommendation&&(Array.isArray(o.recommendation)||typeof o.recommendation=="string")?i.recommendation=Array.isArray(o.recommendation)?o.recommendation:[o.recommendation]:o.readiness&&typeof o.readiness=="string"?i.readiness=o.readiness:o.actionableitem&&typeof o.actionableitem=="string"&&(i.actionableitem=o.actionableitem)}),this.analysisResult=i}else this.analysisResult=r}}catch{this.errorMessage="Failed to load last check-in result."}}static \u0275fac=function(e){return new(e||n)(D(Me),D(pa),D(_a),D(ee))};static \u0275cmp=j({type:n,selectors:[["app-user-emotion-analysis"]],decls:11,vars:2,consts:[["completeScreen",""],[1,"container-fluid"],["aria-label","breadcrumb",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/home",1,"text-decoration-none"],["aria-current","page",1,"breadcrumb-item","active"],[4,"ngIf","ngIfElse"],["class","progress-bar-container",4,"ngIf"],[1,"question-card"],[4,"ngIf"],[1,"navigation-buttons"],[1,"btn-tr",3,"click","disabled"],["class","btn-tr",3,"click",4,"ngIf"],["class","btn-tr",3,"disabled","click",4,"ngIf"],["class","error-message",4,"ngIf"],[1,"progress-bar-container"],[1,"progress-bar"],[1,"question-header"],[1,"question-text"],[1,"answer-area"],[3,"ngSwitch"],["class","fill-input-container",4,"ngSwitchCase"],["class","select-one-options",4,"ngSwitchCase"],["class","multiple-options",4,"ngSwitchCase"],[1,"material-icons"],[1,"fill-input-container"],["type","text",3,"ngModelChange","input","keydown.enter","ngModel","placeholder"],[1,"select-one-options"],["class","radio-option",4,"ngFor","ngForOf"],[1,"radio-option"],["type","radio",3,"ngModelChange","keydown.enter","id","name","value","ngModel"],[3,"for"],[1,"multiple-options"],["class","checkbox-option",4,"ngFor","ngForOf"],[1,"checkbox-option"],["type","checkbox",3,"change","keydown.enter","id","value","checked"],[1,"btn-tr",3,"click"],[1,"error-message"],[1,"check-in-complete-screen"],[1,"complete-icon-circle"],["class","complete-message",4,"ngIf"],["class","analysis-results-new",4,"ngIf"],[1,"complete-message"],[1,"analysis-results-new"],[1,"analysis-card","emotional-summary-card"],[1,"analysis-card-header"],[1,"emotion-progress-list"],["class","emotion-item",4,"ngFor","ngForOf"],[1,"analysis-card"],[1,"analysis-card-header",2,"color","var(--primary-color)"],["class","analysis-card",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"emotion-item"],[1,"emotion-label"],[1,"emotion-bar-container"],[1,"emotion-bar"],[1,"emotion-percentage"]],template:function(e,r){if(e&1&&(d(0,"div",1)(1,"nav",2)(2,"ol",3)(3,"li",4)(4,"a",5),f(5,"Dashboard"),c()(),d(6,"li",6),f(7,"Emotion Questions"),c()()(),x(8,fB,10,7,"ng-container",7)(9,vB,10,3,"ng-template",null,0,hE),c()),e&2){let i=bo(10);h(8),b("ngIf",!r.showCompleteScreen)("ngIfElse",i)}},dependencies:[G,nt,ue,Gg,LE,Ui,we,Rn,xe,Lo,Ni,Ri,Ke],styles:[".progress-bar-container[_ngcontent-%COMP%]{width:calc(100% - 40px);height:8px;background-color:#e0e0e0;border-radius:4px;margin-bottom:30px;overflow:hidden}.progress-bar[_ngcontent-%COMP%]{height:100%;background-color:var(--primary-color);border-radius:4px;transition:width .3s ease-in-out}.question-card[_ngcontent-%COMP%]{background-color:#fff;padding:30px;border-radius:10px;box-shadow:0 3px 12px #00000012;width:100%;box-sizing:border-box;text-align:center;position:relative;overflow:hidden}.question-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-bottom:20px}.question-header[_ngcontent-%COMP%]   i.material-icons[_ngcontent-%COMP%]{font-size:40px;color:#3f51b5;margin-right:15px}.question-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#333;font-size:1.8em;margin:0}.question-text[_ngcontent-%COMP%]{font-size:1.2em;color:#555;margin-bottom:25px;line-height:1.5}.answer-area[_ngcontent-%COMP%]{margin-top:20px}.fill-input-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:calc(100% - 20px);padding:12px 10px;border:1px solid #ddd;border-radius:5px;font-size:1em;box-sizing:border-box}.fill-input-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus{outline:none;border-color:#3f51b5;box-shadow:0 0 0 2px #3f51b533}.select-one-options[_ngcontent-%COMP%], .multiple-options[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;width:fit-content;margin:0 auto}.radio-option[_ngcontent-%COMP%], .checkbox-option[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:15px;cursor:pointer}.radio-option[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%], .checkbox-option[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin-right:10px;width:20px;height:20px;accent-color:#3f51b5}.radio-option[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .checkbox-option[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1.1em;color:#444;cursor:pointer}.navigation-buttons[_ngcontent-%COMP%]{margin-top:30px;display:flex;justify-content:space-between;width:100%}.navigation-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:12px 25px;border:none;border-radius:5px;color:#fff;font-size:1em;cursor:pointer;transition:background-color .3s ease,transform .2s ease;min-width:120px}.navigation-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px)}.navigation-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.error-message[_ngcontent-%COMP%]{color:#d32f2f;background-color:#ffebee;border:1px solid #ef9a9a;padding:10px 20px;border-radius:5px;margin-top:20px;text-align:center;font-weight:700}.complete-message[_ngcontent-%COMP%]{background-color:#c5f4d9;border:1px solid #2fd373;padding:10px 20px;border-radius:5px;margin-top:20px;margin-bottom:20px;text-align:center;font-weight:700}.check-in-complete-screen[_ngcontent-%COMP%]{background-color:#fff;padding:40px;border-radius:10px;box-shadow:0 4px 15px #0000001a;text-align:center;color:#333;width:100%;box-sizing:border-box}.complete-icon-circle[_ngcontent-%COMP%]{width:70px;height:70px;border-radius:50%;background-color:#4caf50;display:flex;align-items:center;justify-content:center;margin:0 auto 25px;color:#fff}.complete-icon-circle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{height:40px;width:40px;font-size:40px}.check-in-complete-screen[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#333;font-size:2.2em;margin-bottom:10px}.check-in-complete-screen[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1em;color:#666;margin-bottom:30px}.analysis-results-new[_ngcontent-%COMP%]{margin-top:20px;text-align:left}.analysis-card[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:8px;padding:20px;margin-bottom:15px;box-shadow:0 2px 8px #0000000d}.analysis-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px;color:#3f51b5}.analysis-card-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;margin-right:10px}.analysis-card-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.3em;margin:0;color:inherit}.analysis-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em;color:#555;line-height:1.5;margin-bottom:0}.analysis-results-new[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin-top:15px}.analysis-results-new[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#e3f2fd;padding:12px 18px;margin-bottom:10px;border-radius:8px;border-left:5px solid var(--primary-color);color:#333;line-height:1.4;font-size:.95em;box-shadow:0 1px 4px #0000000a}.emotional-summary-card[_ngcontent-%COMP%]{background-color:#fff;padding:25px;margin-bottom:20px}.emotional-summary-card[_ngcontent-%COMP%]   .analysis-card-header[_ngcontent-%COMP%]{justify-content:flex-start;margin-bottom:25px;color:#333}.emotion-progress-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:18px}.emotion-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.emotion-label[_ngcontent-%COMP%]{flex-basis:120px;min-width:120px;font-size:1em;color:#555;text-align:right}.emotion-bar-container[_ngcontent-%COMP%]{flex-grow:1;height:8px;background-color:#e0e0e0;border-radius:4px;overflow:hidden}.emotion-bar[_ngcontent-%COMP%]{height:100%;background-color:var(--primary-color);border-radius:4px;transition:width .5s ease-out}.emotion-percentage[_ngcontent-%COMP%]{flex-basis:40px;min-width:40px;font-size:.95em;color:#666;font-weight:500;text-align:right}"],data:{animation:[va("questionAnimation",[Wn("visible",ct({opacity:1,transform:"translateX(0)",filter:"blur(0px)"})),Wn("hidden-right",ct({opacity:0,transform:"translateX(100%)",filter:"blur(5px)"})),Wn("hidden-left",ct({opacity:0,transform:"translateX(-100%)",filter:"blur(5px)"})),vn(":enter",[ct({opacity:0,transform:"translateX(100%)",filter:"blur(5px)"}),bn("500ms ease-out",ct({opacity:1,transform:"translateX(0)",filter:"blur(0px)"}))]),vn(":leave",[bn("500ms ease-out",ct({opacity:0,transform:"translateX(-100%)",filter:"blur(5px)"}))]),vn("visible => hidden-left",bn("300ms ease-out")),vn("hidden-right => visible",bn("300ms ease-in")),vn("visible => hidden-right",bn("300ms ease-out")),vn("hidden-left => visible",bn("300ms ease-in"))]),va("messageAnimation",[Wn("void",ct({opacity:0,transform:"scale(0.8)"})),Wn("*",ct({opacity:1,transform:"scale(1)"})),vn("void => *",bn("500ms ease-out")),vn("* => void",bn("500ms ease-in"))]),va("checkInCompleteAnimation",[Wn("void",ct({opacity:0,transform:"translateY(20px)"})),Wn("*",ct({opacity:1,transform:"translateY(0)"})),vn("void => *",bn("600ms ease-out"))])]}})};function _B(n,t){if(n&1&&(d(0,"div",19),f(1),c()),n&2){let e=E();h(),R(" ",e.message," ")}}function yB(n,t){if(n&1&&(d(0,"div",20),f(1),c()),n&2){let e=E();h(),R(" ",e.errorMessage," ")}}function wB(n,t){n&1&&(d(0,"div",21),f(1," A valid email is required. "),c())}var km=class n{constructor(t,e,r,i){this.fb=t;this.router=e;this.cdr=r;this.supabaseAuthService=i;this.forgotPasswordForm=this.fb.group({email:["",[N.required,N.email]]})}forgotPasswordForm;message=null;errorMessage=null;async onSubmit(){if(this.forgotPasswordForm.invalid){this.forgotPasswordForm.markAllAsTouched();return}let{email:t}=this.forgotPasswordForm.getRawValue();this.errorMessage=null,this.message=null;try{let{success:e,error:r}=await this.supabaseAuthService.requestPasswordReset(t);e?this.message="If an account with that email exists, you will receive a password reset link!":this.errorMessage=r?.message||"Failed to send reset link. Please try again.",this.cdr.markForCheck()}catch(e){this.errorMessage=e.message||"An unexpected error occurred.",this.cdr.markForCheck()}}static \u0275fac=function(e){return new(e||n)(D(zt),D(Dt),D(ee),D(Ar))};static \u0275cmp=j({type:n,selectors:[["app-forgot-password"]],decls:26,vars:5,consts:[[1,"auth-container"],[1,"auth-card"],[1,"text-center","mb-4"],[1,"logo-circle","mx-auto"],["src","/tr_logo.png","alt","Logo",1,"img-fluid"],[1,"brand-name","mt-3"],[1,"brand-tagline"],["class","alert alert-info mb-3",4,"ngIf"],["class","alert alert-danger mb-3",4,"ngIf"],[1,"auth-form",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","placeholder","Enter your email",1,"form-control"],["class","text-danger small mt-1",4,"ngIf"],[1,"d-grid","gap-2","mt-4"],["type","submit",1,"btn","btn-tr","btn-primary","btn-md",3,"disabled"],[1,"text-center","mt-4"],[1,"mb-0"],["routerLink","",1,"login-link"],[1,"alert","alert-info","mb-3"],[1,"alert","alert-danger","mb-3"],[1,"text-danger","small","mt-1"]],template:function(e,r){if(e&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),w(4,"img",4),c()(),d(5,"div",2)(6,"h2",5),f(7,"Forgot Password"),c(),d(8,"p",6),f(9,"Enter your email to receive a password reset link."),c()(),x(10,_B,2,1,"div",7)(11,yB,2,1,"div",8),d(12,"form",9),I("ngSubmit",function(){return r.onSubmit()}),d(13,"div",10)(14,"label",11),f(15,"Email"),c(),w(16,"input",12),x(17,wB,2,0,"div",13),c(),d(18,"div",14)(19,"button",15),f(20,"Send Reset Link"),c()(),d(21,"div",16)(22,"p",17),f(23,"Remember your password? "),d(24,"a",18),f(25,"Login"),c()()()()()()),e&2){let i;h(10),b("ngIf",r.message),h(),b("ngIf",r.errorMessage),h(),b("formGroup",r.forgotPasswordForm),h(5),b("ngIf",((i=r.forgotPasswordForm.get("email"))==null?null:i.invalid)&&((i=r.forgotPasswordForm.get("email"))==null?null:i.touched)),h(2),b("disabled",r.forgotPasswordForm.invalid)}},dependencies:[G,ue,Se,mn,we,xe,ze,Be,We,Ke],styles:['.auth-container[_ngcontent-%COMP%]{min-height:100dvh;display:flex;align-items:center;justify-content:center}.auth-card[_ngcontent-%COMP%]{background-color:transparent;border-radius:12px;width:100%;max-width:450px;padding:30px}.logo-circle[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;background-color:transparent;position:relative;display:flex;align-items:center;justify-content:center;margin:0 auto}.dots-circle[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;position:relative;background-image:radial-gradient(circle,#5046e5 3px,transparent 3px);background-size:15px 15px;transform:rotate(45deg)}.brand-name[_ngcontent-%COMP%]{font-weight:700;font-size:24px;margin-bottom:5px;letter-spacing:.5px}.brand-tagline[_ngcontent-%COMP%]{color:#666;font-size:14px;margin:0}.tabs-container[_ngcontent-%COMP%]{display:inline-flex;align-items:center;border-bottom:1px solid #eee;padding-bottom:5px}.tab[_ngcontent-%COMP%]{padding:8px 15px;cursor:pointer;color:#888;font-weight:500;font-size:16px;transition:color .2s}.tab.active[_ngcontent-%COMP%]{color:#5046e5;border-bottom:2px solid #5046e5}.tab-separator[_ngcontent-%COMP%]{color:#ccc}.auth-form[_ngcontent-%COMP%]{margin-top:10px}.form-control[_ngcontent-%COMP%]{height:auto;padding:12px 15px;border-radius:8px;border:1px solid #ddd;transition:border-color .2s,box-shadow .2s}.form-control[_ngcontent-%COMP%]:focus{border-color:#5046e5;box-shadow:0 0 0 .2rem #5046e526}.form-label[_ngcontent-%COMP%]{font-weight:500;color:#555;margin-bottom:8px}.forgot-link[_ngcontent-%COMP%]{font-size:14px;color:#5046e5;text-decoration:none}.forgot-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.signup-link[_ngcontent-%COMP%], .login-link[_ngcontent-%COMP%]{color:#5046e5;font-weight:500;text-decoration:none}.signup-link[_ngcontent-%COMP%]:hover, .login-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.btn-primary[_ngcontent-%COMP%]{background-color:#5046e5;border-color:#5046e5;padding:12px;font-weight:500}.btn-primary[_ngcontent-%COMP%]:hover, .btn-primary[_ngcontent-%COMP%]:focus{background-color:#4238d0;border-color:#4238d0}.btn-primary[_ngcontent-%COMP%]:disabled{background-color:#a8a4e0;border-color:#a8a4e0}.separator[_ngcontent-%COMP%]{display:flex;align-items:center;text-align:center;color:#888;font-size:14px}.separator[_ngcontent-%COMP%]:before, .separator[_ngcontent-%COMP%]:after{content:"";flex:1;border-bottom:1px solid #ddd}.separator[_ngcontent-%COMP%]:before{margin-right:1em}.separator[_ngcontent-%COMP%]:after{margin-left:1em}.google-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#fff;border:1px solid #ddd;color:#333;padding:12px;font-weight:500}.google-btn[_ngcontent-%COMP%]:hover{background-color:#f8f8f8;color:#333}@media (max-width: 576px){.auth-card[_ngcontent-%COMP%]{padding:20px 15px}.brand-name[_ngcontent-%COMP%]{font-size:20px}.form-control[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]{padding:10px}}']})};function CB(n,t){if(n&1&&(d(0,"div",22),f(1),c()),n&2){let e=E();h(),R(" ",e.errorMessage," ")}}function EB(n,t){if(n&1&&(d(0,"div",23),f(1),c()),n&2){let e=E();h(),R(" ",e.successMessage," ")}}function xB(n,t){n&1&&(d(0,"div",24),f(1," Password must be at least 6 characters. "),c())}function SB(n,t){n&1&&(d(0,"small",25),f(1," Passwords do not match "),c())}var Pm=class n{constructor(t,e,r,i,o){this.fb=t;this.router=e;this.route=r;this.cdr=i;this.supabaseAuthService=o;this.updatePasswordForm=this.fb.group({newPassword:["",[N.required,N.minLength(6)]],confirmNewPassword:["",N.required]},{validators:this.passwordMatchValidator})}updatePasswordForm;errorMessage=null;successMessage=null;ngOnInit(){}passwordMatchValidator(t){let e=t.get("newPassword")?.value,r=t.get("confirmNewPassword")?.value;return e===r?null:{mismatch:!0}}async onSubmit(){if(this.updatePasswordForm.invalid){this.updatePasswordForm.markAllAsTouched();return}let{newPassword:t}=this.updatePasswordForm.getRawValue();this.errorMessage=null,this.successMessage=null;try{let{success:e,error:r}=await this.supabaseAuthService.updatePassword(t);e?(this.successMessage="Your password has been updated successfully! Redirecting to login...",this.updatePasswordForm.reset(),setTimeout(()=>{this.router.navigate(["/auth"])},3e3)):this.errorMessage=r?.message||"Failed to update password. Please try again.",this.cdr.markForCheck()}catch(e){this.errorMessage=e.message||"An unexpected error occurred.",this.cdr.markForCheck()}}static \u0275fac=function(e){return new(e||n)(D(zt),D(Dt),D(kn),D(ee),D(Ar))};static \u0275cmp=j({type:n,selectors:[["app-update-password"]],decls:31,vars:6,consts:[[1,"auth-container"],[1,"auth-card"],[1,"text-center","mb-4"],[1,"logo-circle","mx-auto"],["src","/tr_logo.png","alt","Logo",1,"img-fluid"],[1,"brand-name","mt-3"],[1,"brand-tagline"],["class","alert alert-danger mb-3",4,"ngIf"],["class","alert alert-success mb-3",4,"ngIf"],[1,"auth-form",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","newPassword",1,"form-label"],["type","password","id","newPassword","formControlName","newPassword","placeholder","Enter new password",1,"form-control"],["class","text-danger small mt-1",4,"ngIf"],["for","confirmNewPassword",1,"form-label"],["type","password","id","confirmNewPassword","formControlName","confirmNewPassword","placeholder","Confirm new password",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"d-grid","gap-2","mt-4"],["type","submit",1,"btn","btn-tr","btn-primary","btn-md",3,"disabled"],[1,"text-center","mt-4"],[1,"mb-0"],["routerLink","/auth",1,"login-link"],[1,"alert","alert-danger","mb-3"],[1,"alert","alert-success","mb-3"],[1,"text-danger","small","mt-1"],[1,"text-danger"]],template:function(e,r){if(e&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),w(4,"img",4),c()(),d(5,"div",2)(6,"h2",5),f(7,"Set New Password"),c(),d(8,"p",6),f(9,"Please enter your new password."),c()(),x(10,CB,2,1,"div",7)(11,EB,2,1,"div",8),d(12,"form",9),I("ngSubmit",function(){return r.onSubmit()}),d(13,"div",10)(14,"label",11),f(15,"New Password"),c(),w(16,"input",12),x(17,xB,2,0,"div",13),c(),d(18,"div",10)(19,"label",14),f(20,"Confirm New Password"),c(),w(21,"input",15),x(22,SB,2,0,"small",16),c(),d(23,"div",17)(24,"button",18),f(25,"Update Password"),c()(),d(26,"div",19)(27,"p",20),f(28,"Go back to "),d(29,"a",21),f(30,"Login"),c()()()()()()),e&2){let i,o;h(10),b("ngIf",r.errorMessage),h(),b("ngIf",r.successMessage),h(),b("formGroup",r.updatePasswordForm),h(5),b("ngIf",((i=r.updatePasswordForm.get("newPassword"))==null?null:i.invalid)&&((i=r.updatePasswordForm.get("newPassword"))==null?null:i.touched)),h(5),b("ngIf",r.updatePasswordForm.hasError("mismatch")&&((o=r.updatePasswordForm.get("confirmNewPassword"))==null?null:o.touched)),h(2),b("disabled",r.updatePasswordForm.invalid)}},dependencies:[G,ue,Se,mn,we,xe,ze,Be,We],styles:['.auth-container[_ngcontent-%COMP%]{min-height:100dvh;display:flex;align-items:center;justify-content:center}.auth-card[_ngcontent-%COMP%]{background-color:transparent;border-radius:12px;width:100%;max-width:450px;padding:30px}.logo-circle[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;background-color:transparent;position:relative;display:flex;align-items:center;justify-content:center;margin:0 auto}.dots-circle[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;position:relative;background-image:radial-gradient(circle,#5046e5 3px,transparent 3px);background-size:15px 15px;transform:rotate(45deg)}.brand-name[_ngcontent-%COMP%]{font-weight:700;font-size:24px;margin-bottom:5px;letter-spacing:.5px}.brand-tagline[_ngcontent-%COMP%]{color:#666;font-size:14px;margin:0}.tabs-container[_ngcontent-%COMP%]{display:inline-flex;align-items:center;border-bottom:1px solid #eee;padding-bottom:5px}.tab[_ngcontent-%COMP%]{padding:8px 15px;cursor:pointer;color:#888;font-weight:500;font-size:16px;transition:color .2s}.tab.active[_ngcontent-%COMP%]{color:#5046e5;border-bottom:2px solid #5046e5}.tab-separator[_ngcontent-%COMP%]{color:#ccc}.auth-form[_ngcontent-%COMP%]{margin-top:10px}.form-control[_ngcontent-%COMP%]{height:auto;padding:12px 15px;border-radius:8px;border:1px solid #ddd;transition:border-color .2s,box-shadow .2s}.form-control[_ngcontent-%COMP%]:focus{border-color:#5046e5;box-shadow:0 0 0 .2rem #5046e526}.form-label[_ngcontent-%COMP%]{font-weight:500;color:#555;margin-bottom:8px}.forgot-link[_ngcontent-%COMP%]{font-size:14px;color:#5046e5;text-decoration:none}.forgot-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.signup-link[_ngcontent-%COMP%], .login-link[_ngcontent-%COMP%]{color:#5046e5;font-weight:500;text-decoration:none}.signup-link[_ngcontent-%COMP%]:hover, .login-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.btn-primary[_ngcontent-%COMP%]{background-color:#5046e5;border-color:#5046e5;padding:12px;font-weight:500}.btn-primary[_ngcontent-%COMP%]:hover, .btn-primary[_ngcontent-%COMP%]:focus{background-color:#4238d0;border-color:#4238d0}.btn-primary[_ngcontent-%COMP%]:disabled{background-color:#a8a4e0;border-color:#a8a4e0}.separator[_ngcontent-%COMP%]{display:flex;align-items:center;text-align:center;color:#888;font-size:14px}.separator[_ngcontent-%COMP%]:before, .separator[_ngcontent-%COMP%]:after{content:"";flex:1;border-bottom:1px solid #ddd}.separator[_ngcontent-%COMP%]:before{margin-right:1em}.separator[_ngcontent-%COMP%]:after{margin-left:1em}.google-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#fff;border:1px solid #ddd;color:#333;padding:12px;font-weight:500}.google-btn[_ngcontent-%COMP%]:hover{background-color:#f8f8f8;color:#333}@media (max-width: 576px){.auth-card[_ngcontent-%COMP%]{padding:20px 15px}.brand-name[_ngcontent-%COMP%]{font-size:20px}.form-control[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]{padding:10px}}']})};var DB=()=>["Planned","Executing","Completed"],Om=(n,t)=>({"text-success":n,"text-danger":t}),IB=(n,t,e)=>({"bg-warning text-dark":n,"bg-info text-dark":t,"bg-success":e});function TB(n,t){if(n&1&&(d(0,"option",21),f(1),c()),n&2){let e=t.$implicit,r=E();b("value",e.account_id)("selected",e.account_id===r.tradeAccountId),h(),R(" ",e.account_name," ")}}function MB(n,t){if(n&1){let e=Q();d(0,"li",22)(1,"a",23),I("click",function(){let i=T(e).$implicit,o=E();return M(o.activeTab=i)}),f(2),c()()}if(n&2){let e=t.$implicit,r=E();h(),Ie("active",r.activeTab===e),h(),U(e==="Executing"?"Executing Trades":e==="Planned"?"Planned Trades":"Completed Trades")}}function AB(n,t){n&1&&(d(0,"div",24),f(1,"Loading trade logs..."),c())}function kB(n,t){if(n&1&&(d(0,"div",25),f(1),c()),n&2){let e=E();h(),U(e.errorMessage)}}function PB(n,t){n&1&&(d(0,"tr")(1,"th"),f(2,"Symbol"),c(),d(3,"th"),f(4,"Direction"),c(),d(5,"th"),f(6,"Entry Price"),c(),d(7,"th"),f(8,"Strategy"),c(),d(9,"th"),f(10,"Emotional State"),c(),d(11,"th"),f(12,"Date"),c(),d(13,"th"),f(14,"Status"),c(),d(15,"th"),f(16,"Actions"),c()())}function OB(n,t){n&1&&(d(0,"tr")(1,"th"),f(2,"Symbol"),c(),d(3,"th"),f(4,"Direction"),c(),d(5,"th"),f(6,"Entry Price"),c(),d(7,"th"),f(8,"Exit Price"),c(),d(9,"th"),f(10,"P&L"),c(),d(11,"th"),f(12,"Margin %"),c(),d(13,"th"),f(14,"RR Ratio"),c(),d(15,"th"),f(16,"Entry Date"),c(),d(17,"th"),f(18,"Exit Date"),c(),d(19,"th"),f(20,"Actions"),c()())}function RB(n,t){if(n&1){let e=Q();d(0,"button",39),I("click",function(i){T(e);let o=E().$implicit,s=E(3);return M(s.markAsExecuted(o,i))}),f(1,"Trade Executed"),c()}}function NB(n,t){if(n&1){let e=Q();d(0,"button",40),I("click",function(i){T(e);let o=E().$implicit,s=E(3);return M(s.openCompleteModal(o,i))}),f(1,"Complete Trade"),c()}}function FB(n,t){if(n&1){let e=Q();d(0,"tr")(1,"td",32),f(2),c(),d(3,"td",33),f(4),c(),d(5,"td"),f(6),c(),d(7,"td"),f(8),c(),d(9,"td"),f(10),c(),d(11,"td"),f(12),c(),d(13,"td")(14,"span",34),f(15),c()(),d(16,"td")(17,"button",35),I("click",function(){let i=T(e).$implicit,o=E(3);return M(o.openEditModal(i))}),f(18,"Edit"),c(),x(19,RB,2,0,"button",36)(20,NB,2,0,"button",37),d(21,"button",38),I("click",function(i){let o=T(e).$implicit,s=E(3);return M(s.onDeleteTradeLog(o,i))}),f(22,"Delete"),c()()()}if(n&2){let e=t.$implicit,r=E(3);h(2),U(e.trade_symbol),h(),b("ngClass",Dn(11,Om,r.getDirection(e)==="LONG",r.getDirection(e)==="SHORT")),h(),U(r.getDirection(e)),h(2),R("$",r.getEntryPrice(e),""),h(2),U(e.strategy_name),h(2),U(r.getEmotion(e)),h(2),U(r.getTradeDate(e)),h(2),b("ngClass",vo(14,IB,e.trade_status==="Planned",e.trade_status==="Executing",e.trade_status==="Completed")),h(),U(e.trade_status.toLowerCase()),h(4),b("ngIf",e.trade_status==="Planned"),h(),b("ngIf",e.trade_status==="Executing")}}function LB(n,t){if(n&1&&(Ut(0),x(1,FB,23,18,"tr",31),$t()),n&2){let e=E(2);h(),b("ngForOf",e.filteredTrades)}}function VB(n,t){if(n&1){let e=Q();d(0,"tr")(1,"td",32),f(2),c(),d(3,"td",33),f(4),c(),d(5,"td"),f(6),c(),d(7,"td"),f(8),c(),d(9,"td",33),f(10),vt(11,"number"),c(),d(12,"td",33),f(13),vt(14,"number"),c(),d(15,"td"),f(16),c(),d(17,"td"),f(18),c(),d(19,"td"),f(20),c(),d(21,"td")(22,"button",41),I("click",function(){let i=T(e).$implicit,o=E(3);return M(o.viewAnalysis(i))}),f(23,"View Analysis"),c()()()}if(n&2){let e=t.$implicit,r=E(3);h(2),U(e.trade_symbol),h(),b("ngClass",Dn(18,Om,r.getDirection(e)==="LONG",r.getDirection(e)==="SHORT")),h(),U(r.getDirection(e)),h(2),R("$",r.getEntryPrice(e),""),h(2),R("$",r.getExitPrice(e),""),h(),b("ngClass",Dn(21,Om,r.getPL(e)>0,r.getPL(e)<0)),h(),R("$",_t(11,12,r.getPL(e),"1.2-2"),""),h(2),b("ngClass",Dn(24,Om,r.getMargin(e)>0,r.getMargin(e)<0)),h(),R("",_t(14,15,r.getMargin(e),"1.2-2"),"%"),h(3),U(r.getRR(e)),h(2),U(r.getEntryDate(e)),h(2),U(r.getExitDate(e))}}function jB(n,t){if(n&1&&(Ut(0),x(1,VB,24,27,"tr",31),$t()),n&2){let e=E(2);h(),b("ngForOf",e.filteredTrades)}}function BB(n,t){if(n&1&&(d(0,"div")(1,"div",26)(2,"div",27)(3,"h4",7),f(4),c(),d(5,"div",8),f(6),c()(),d(7,"div",28)(8,"table",29)(9,"thead"),x(10,PB,17,0,"tr",18)(11,OB,21,0,"tr",18),c(),d(12,"tbody"),x(13,LB,2,1,"ng-container",18)(14,jB,2,1,"ng-container",18),c()()(),d(15,"div",30),f(16),c()()()),n&2){let e=E();h(4),R(" ",e.activeTab==="Completed"?"Your Completed Trades":"Your Trade Plans"," "),h(2),R(" ",e.activeTab==="Completed"?"Review the performance of your completed trades":"Review and manage your "+e.activeTab.toLowerCase()+" trades"," "),h(4),b("ngIf",e.activeTab!=="Completed"),h(),b("ngIf",e.activeTab==="Completed"),h(2),b("ngIf",e.activeTab!=="Completed"),h(),b("ngIf",e.activeTab==="Completed"),h(2),R(" ",e.activeTab==="Completed"?"A list of your completed trades with performance metrics.":"A list of your recent trade plans."," ")}}function UB(n,t){n&1&&(d(0,"div",42),f(1," No trade logs found for this tab. "),c())}function $B(n,t){if(n&1){let e=Q();d(0,"div",43),I("click",function(i){T(e);let o=E();return M(o.closeModalOnOverlayClick(i))}),d(1,"div",44),I("click",function(i){return T(e),M(i.stopPropagation())}),d(2,"app-individual-trade",45),I("formSubmitted",function(){T(e);let i=E();return M(i.onFormSubmitted())})("cancel",function(){T(e);let i=E();return M(i.closeModal())}),c()()()}if(n&2){let e=E();h(2),b("tradeData",e.selectedTradeLog)("mode",e.modalMode)("tradeAccountId",e.tradeAccountId)}}var Rm=class n{constructor(t,e,r){this.supabaseTradeTableService=t;this.supabaseAccountService=e;this.cdr=r}tableName="tradejournal";tradeLogs=[];tradeAccounts=[];loading=!1;errorMessage="";tradeAccountId="";activeTab="Planned";get filteredTrades(){return this.tradeLogs.filter(t=>(t.trade_status||"").toLowerCase()===this.activeTab.toLowerCase())}showModal=!1;selectedTradeLog=null;modalMode="create";tradeStatus=[{status:"Planned",title:"Planning Phase"},{status:"Executing",title:"Executing Phase"},{status:"Completed",title:"Completed Phase"}];async ngOnInit(){this.loading=!0;try{await this.fetchTradeAccounts(),await this.fetchTradeLogs(),this.loading=!1,this.cdr.markForCheck()}catch{this.loading=!1,this.cdr.markForCheck()}}async fetchTradeLogs(){try{let t=await this.supabaseTradeTableService.getTradeLogsOfSelectedAccount(this.tableName,this.tradeAccountId);this.tradeLogs=t.sort((e,r)=>new Date(r.updated_time).getTime()-new Date(e.updated_time).getTime()),this.cdr.markForCheck()}catch(t){console.error("Error fetching trade logs:",t),this.errorMessage="Error fetching trade logs."}}getDirection(t){let e="";return t.planned_trade&&Array.isArray(t.planned_trade)&&t.planned_trade[0]?.trade_direction?e=t.planned_trade[0].trade_direction:t.executing_trades&&Array.isArray(t.executing_trades)&&t.executing_trades[0]?.trade_direction?e=t.executing_trades[0].trade_direction:t.trade_direction&&(e=t.trade_direction),e?e.toUpperCase():""}getEntryPrice(t){let e="";return t.planned_trade&&Array.isArray(t.planned_trade)&&t.planned_trade[0]?.entry_price?e=t.planned_trade[0].entry_price:t.executing_trades&&Array.isArray(t.executing_trades)&&t.executing_trades[0]?.entry_price?e=t.executing_trades[0].entry_price:t.entry_price&&(e=t.entry_price),e!==void 0?e:""}getExitPrice(t){return t.executing_trades&&Array.isArray(t.executing_trades)&&t.executing_trades[0]?.exit_price?t.executing_trades[0].exit_price:t.exit_price?t.exit_price:""}getPL(t){let e=parseFloat(this.getEntryPrice(t)),r=parseFloat(this.getExitPrice(t));return!isNaN(e)&&!isNaN(r)?+(r-e).toFixed(2):0}getMargin(t){let e=parseFloat(this.getEntryPrice(t)),r=parseFloat(this.getExitPrice(t));return!isNaN(e)&&e!==0&&!isNaN(r)?+((r-e)/e*100).toFixed(2):0}getRR(t){return t.rr_ratio!==void 0?t.rr_ratio:t.executing_trades&&Array.isArray(t.executing_trades)&&t.executing_trades[0]?.rr_ratio!==void 0?t.executing_trades[0].rr_ratio:""}getEntryDate(t){return t.executing_trades&&Array.isArray(t.executing_trades)&&t.executing_trades[0]?.entry_time?new Date(t.executing_trades[0].entry_time).toLocaleDateString():t.created_at?new Date(t.created_at).toLocaleDateString():""}getExitDate(t){return t.executing_trades&&Array.isArray(t.executing_trades)&&t.executing_trades[0]?.exit_time?new Date(t.executing_trades[0].exit_time).toLocaleDateString():t.updated_time?new Date(t.updated_time).toLocaleDateString():""}getTradeDate(t){return t.created_at?new Date(t.created_at).toLocaleDateString():""}viewAnalysis(t){this.selectedTradeLog=t,this.showModal=!0,this.modalMode="view"}async markAsExecuted(t,e){e.stopPropagation();try{let r=W(k({},t),{trade_status:"Executing"});await this.supabaseTradeTableService.updateTradeLogOfSelectedAccount(r,this.tableName,this.tradeAccountId),await this.fetchTradeLogs(),this.cdr.markForCheck()}catch{this.errorMessage="Error updating trade status."}}async fetchTradeAccounts(){try{if(this.tradeAccounts=await this.supabaseAccountService.getUserTradeAccounts(),this.tradeAccounts.length===0)throw this.errorMessage="No trade accounts found. Create trade account before logging trades.",new Error("No trade accounts found.");!this.tradeAccountId&&this.tradeAccounts.length>0&&(this.tradeAccountId=this.tradeAccounts[0].account_id),this.cdr.markForCheck()}catch{throw this.errorMessage="No trade accounts found. Create trade account before logging trades.",this.cdr.markForCheck(),new Error("No trade accounts found.")}}onAccountChange(t){let e=t.target;this.tradeAccountId=e.value,this.fetchTradeLogs(),this.cdr.markForCheck()}openCompleteModal(t,e){e&&e.stopPropagation(),this.selectedTradeLog=t,this.showModal=!0,this.modalMode="complete"}openEditModal(t){this.selectedTradeLog=t,this.showModal=!0,this.modalMode="edit"}async openAddModal(){await this.supabaseTradeTableService.canLogTrade()?(this.selectedTradeLog=null,this.showModal=!0,this.modalMode="create",this.cdr.markForCheck()):(this.errorMessage="You have reached the limit for today's trades logging",this.cdr.markForCheck())}onFormSubmitted(){this.fetchTradeLogs(),this.closeModal(),this.cdr.markForCheck()}closeModal(){this.showModal=!1,this.selectedTradeLog=null,this.cdr.markForCheck()}closeModalOnOverlayClick(t){this.closeModal(),this.cdr.markForCheck()}getEmotion(t){var e="None";return t.trade_status!=="Completed"?e=t.emotion_before.emotional_state_before:e=t.emotion_after.emotional_state_after,e}async onDeleteTradeLog(t,e){e.stopPropagation();try{await this.supabaseTradeTableService.deleteTradeLogOfSelectedAccount(t.tradeid,this.tableName,this.tradeAccountId),await this.fetchTradeLogs(),this.cdr.markForCheck()}catch(r){console.error("Error deleting trade log:",r),this.errorMessage="Error deleting trade log."}}static \u0275fac=function(e){return new(e||n)(D(Ht),D(qt),D(ee))};static \u0275cmp=j({type:n,selectors:[["app-trade-journal"]],decls:29,vars:8,consts:[[1,"container","mt-3"],["aria-label","breadcrumb",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/home",1,"text-decoration-none"],["aria-current","page",1,"breadcrumb-item","active"],[1,"d-flex","justify-content-between","align-items-center"],[1,"fw-bold","mb-0"],[1,"text-muted"],[1,"btn","btn-primary",3,"click"],[1,"form-group","mt-4","mb-3"],["for","accountSelector"],["id","accountSelector",1,"form-control","w-auto","d-inline-block","ms-2","btn","btn-tr",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],[1,"nav","nav-tabs","mt-4","mb-3"],["class","nav-item",4,"ngFor","ngForOf"],["class","alert alert-info",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[4,"ngIf"],["class","alert alert-warning mt-4",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[3,"value","selected"],[1,"nav-item"],[1,"nav-link",3,"click"],[1,"alert","alert-info"],[1,"alert","alert-danger"],[1,"card","p-4"],[1,"mb-2"],[1,"table-responsive"],[1,"table","align-middle"],[1,"text-muted","mt-2",2,"font-size","0.95em"],[4,"ngFor","ngForOf"],[1,"fw-bold"],[3,"ngClass"],[1,"badge",3,"ngClass"],[1,"btn","btn-outline-secondary","btn-sm","me-1",3,"click"],["class","btn btn-outline-warning btn-sm me-1",3,"click",4,"ngIf"],["class","btn btn-outline-success btn-sm me-1",3,"click",4,"ngIf"],[1,"btn","btn-outline-danger","btn-sm",3,"click"],[1,"btn","btn-outline-warning","btn-sm","me-1",3,"click"],[1,"btn","btn-outline-success","btn-sm","me-1",3,"click"],[1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"alert","alert-warning","mt-4"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[3,"formSubmitted","cancel","tradeData","mode","tradeAccountId"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),f(5,"Dashboard"),c()(),d(6,"li",5),f(7,"Trade Journal"),c()()(),d(8,"div",6)(9,"div")(10,"h2",7),f(11,"Trading Dashboard"),c(),d(12,"div",8),f(13,"Manage your trades from planning to completion"),c()(),d(14,"button",9),I("click",function(){return r.openAddModal()}),f(15," New Trade Plan "),c()(),d(16,"div",10)(17,"label",11)(18,"strong"),f(19,"Trading Account:"),c()(),d(20,"select",12),I("change",function(o){return r.onAccountChange(o)}),x(21,TB,2,3,"option",13),c()(),d(22,"ul",14),x(23,MB,3,3,"li",15),c(),x(24,AB,2,0,"div",16)(25,kB,2,1,"div",17)(26,BB,17,7,"div",18)(27,UB,2,0,"div",19),c(),x(28,$B,3,3,"div",20)),e&2&&(h(21),b("ngForOf",r.tradeAccounts),h(2),b("ngForOf",Ii(7,DB)),h(),b("ngIf",r.loading),h(),b("ngIf",r.errorMessage),h(),b("ngIf",r.filteredTrades.length>0),h(),b("ngIf",!r.loading&&r.filteredTrades.length===0),h(),b("ngIf",r.showModal))},dependencies:[Se,hn,gn,G,un,nt,ue,ku,ya,Ke],styles:[".card[_ngcontent-%COMP%]{transition:transform .2s}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.trade-status-indicator[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px;padding:5px 10px;border-radius:5px;color:#fff;font-size:.7rem}.status-planned[_ngcontent-%COMP%]{background-color:#007bff}.status-executing[_ngcontent-%COMP%]{background-color:#ffc107}.status-completed[_ngcontent-%COMP%]{background-color:#28a745}.status-planned-card[_ngcontent-%COMP%]{border-left:4px solid #007bff!important}.status-executing-card[_ngcontent-%COMP%]{border-left:4px solid #ffc107!important}.status-completed-card[_ngcontent-%COMP%]{border-left:4px solid #28a745!important}.delete-icon[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;display:none;color:red;cursor:pointer}.card[_ngcontent-%COMP%]:hover   .delete-icon[_ngcontent-%COMP%]{display:block}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100dvw;height:100dvh;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1050}.modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:8px;max-width:90vw;position:relative;max-height:98dvh;overflow-y:auto}"]})};var _D=[{path:"",component:am,canActivate:[rc]},{path:"home",component:zf,canActivate:[yt]},{path:"pretrades",component:nm,canActivate:[yt]},{path:"pretradelog",component:fa,canActivate:[yt]},{path:"posttrades",component:rm,canActivate:[yt]},{path:"posttradelog",component:ma,canActivate:[yt]},{path:"emotions",component:Am,canActivate:[yt]},{path:"tradejournal",component:Rm,canActivate:[yt]},{path:"individualTrade",component:ya,canActivate:[yt]},{path:"meditationhub",component:pm,canActivate:[yt]},{path:"analytics",component:hm,canActivate:[yt]},{path:"tradeaccounts",component:Im,canActivate:[yt]},{path:"useraccount",component:Tm,canActivate:[yt]},{path:"admin/emotionquestion",component:im,canActivate:[yt]},{path:"admin/meditationvideo",component:Mm,canActivate:[yt]},{path:"auth/forgot-password",component:km,canActivate:[rc]},{path:"auth/update-password",component:Pm,canActivate:[yt]},{path:"**",redirectTo:""}];function yD(n){return new O(3e3,!1)}function zB(){return new O(3100,!1)}function HB(){return new O(3101,!1)}function qB(n){return new O(3001,!1)}function GB(n){return new O(3003,!1)}function WB(n){return new O(3004,!1)}function QB(n,t){return new O(3005,!1)}function KB(){return new O(3006,!1)}function ZB(){return new O(3007,!1)}function YB(n,t){return new O(3008,!1)}function JB(n){return new O(3002,!1)}function XB(n,t,e,r,i){return new O(3010,!1)}function eU(){return new O(3011,!1)}function tU(){return new O(3012,!1)}function nU(){return new O(3200,!1)}function rU(){return new O(3202,!1)}function iU(){return new O(3013,!1)}function oU(n){return new O(3014,!1)}function sU(n){return new O(3015,!1)}function aU(n){return new O(3016,!1)}function lU(n,t){return new O(3404,!1)}function cU(n){return new O(3502,!1)}function dU(n){return new O(3503,!1)}function uU(){return new O(3300,!1)}function fU(n){return new O(3504,!1)}function mU(n){return new O(3301,!1)}function pU(n,t){return new O(3302,!1)}function hU(n){return new O(3303,!1)}function gU(n,t){return new O(3400,!1)}function bU(n){return new O(3401,!1)}function vU(n){return new O(3402,!1)}function _U(n,t){return new O(3505,!1)}function zi(n){switch(n.length){case 0:return new $i;case 1:return n[0];default:return new mc(n)}}function RD(n,t,e=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(t.forEach(l=>{let u=l.get("offset"),m=u==s,p=m&&a||new Map;l.forEach((v,g)=>{let _=g,C=v;if(g!=="offset")switch(_=n.normalizePropertyName(_,i),C){case cm:C=e.get(g);break;case kr:C=r.get(g);break;default:C=n.normalizeStyleValue(g,_,C,i);break}p.set(_,C)}),m||o.push(p),a=p,s=u}),i.length)throw cU(i);return o}function V0(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&b0(e,"start",n)));break;case"done":n.onDone(()=>r(e&&b0(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&b0(e,"destroy",n)));break}}function b0(n,t,e){let r=e.totalTime,i=!!e.disabled,o=j0(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,r??n.totalTime,i),s=n._data;return s!=null&&(o._data=s),o}function j0(n,t,e,r,i="",o=0,s){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Fn(n,t,e){let r=n.get(t);return r||n.set(t,r=e),r}function wD(n){let t=n.indexOf(":"),e=n.substring(1,t),r=n.slice(t+1);return[e,r]}var yU=typeof document>"u"?null:document.documentElement;function B0(n){let t=n.parentNode||n.host||null;return t===yU?null:t}function wU(n){return n.substring(1,6)=="ebkit"}var Uo=null,CD=!1;function CU(n){Uo||(Uo=EU()||{},CD=Uo.style?"WebkitAppearance"in Uo.style:!1);let t=!0;return Uo.style&&!wU(n)&&(t=n in Uo.style,!t&&CD&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Uo.style)),t}function EU(){return typeof document<"u"?document.body:null}function ND(n,t){for(;t;){if(t===n)return!0;t=B0(t)}return!1}function FD(n,t,e){if(e)return Array.from(n.querySelectorAll(t));let r=n.querySelector(t);return r?[r]:[]}var U0=(()=>{class n{validateStyleProperty(e){return CU(e)}containsElement(e,r){return ND(e,r)}getParentElement(e){return B0(e)}query(e,r,i){return FD(e,r,i)}computeStyle(e,r,i){return i||""}animate(e,r,i,o,s,a=[],l){return new $i(i,o)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac})}return n})(),Ho=class{static NOOP=new U0},qo=class{};var xU=1e3,LD="{{",SU="}}",VD="ng-enter",E0="ng-leave",Nm="ng-trigger",Bm=".ng-trigger",ED="ng-animating",x0=".ng-animating";function ui(n){if(typeof n=="number")return n;let t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:S0(parseFloat(t[1]),t[2])}function S0(n,t){switch(t){case"s":return n*xU;default:return n}}function Um(n,t,e){return n.hasOwnProperty("duration")?n:DU(n,t,e)}function DU(n,t,e){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof n=="string"){let a=n.match(r);if(a===null)return t.push(yD(n)),{duration:0,delay:0,easing:""};i=S0(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(o=S0(parseFloat(l),a[4]));let u=a[5];u&&(s=u)}else i=n;if(!e){let a=!1,l=t.length;i<0&&(t.push(zB()),a=!0),o<0&&(t.push(HB()),a=!0),a&&t.splice(l,0,yD(n))}return{duration:i,delay:o,easing:s}}function IU(n){return n.length?n[0]instanceof Map?n:n.map(t=>new Map(Object.entries(t))):[]}function Pr(n,t,e){t.forEach((r,i)=>{let o=$0(i);e&&!e.has(i)&&e.set(i,n.style[o]),n.style[o]=r})}function zo(n,t){t.forEach((e,r)=>{let i=$0(r);n.style[i]=""})}function pc(n){return Array.isArray(n)?n.length==1?n[0]:cD(n):n}function TU(n,t,e){let r=t.params||{},i=jD(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||e.push(qB(o))})}var D0=new RegExp(`${LD}\\s*(.+?)\\s*${SU}`,"g");function jD(n){let t=[];if(typeof n=="string"){let e;for(;e=D0.exec(n);)t.push(e[1]);D0.lastIndex=0}return t}function gc(n,t,e){let r=`${n}`,i=r.replace(D0,(o,s)=>{let a=t[s];return a==null&&(e.push(GB(s)),a=""),a.toString()});return i==r?n:i}var MU=/-+([a-z0-9])/g;function $0(n){return n.replace(MU,(...t)=>t[1].toUpperCase())}function AU(n,t){return n===0||t===0}function kU(n,t,e){if(e.size&&t.length){let r=t[0],i=[];if(e.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<t.length;o++){let s=t[o];i.forEach(a=>s.set(a,z0(n,a)))}}return t}function Nn(n,t,e){switch(t.type){case fe.Trigger:return n.visitTrigger(t,e);case fe.State:return n.visitState(t,e);case fe.Transition:return n.visitTransition(t,e);case fe.Sequence:return n.visitSequence(t,e);case fe.Group:return n.visitGroup(t,e);case fe.Animate:return n.visitAnimate(t,e);case fe.Keyframes:return n.visitKeyframes(t,e);case fe.Style:return n.visitStyle(t,e);case fe.Reference:return n.visitReference(t,e);case fe.AnimateChild:return n.visitAnimateChild(t,e);case fe.AnimateRef:return n.visitAnimateRef(t,e);case fe.Query:return n.visitQuery(t,e);case fe.Stagger:return n.visitStagger(t,e);default:throw WB(t.type)}}function z0(n,t){return window.getComputedStyle(n)[t]}var PU=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),$m=class extends qo{normalizePropertyName(t,e){return $0(t)}normalizeStyleValue(t,e,r,i){let o="",s=r.toString().trim();if(PU.has(e)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(QB(t,r))}return s+o}};var zm="*";function OU(n,t){let e=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>RU(r,e,t)):e.push(n),e}function RU(n,t,e){if(n[0]==":"){let l=NU(n,e);if(typeof l=="function"){t.push(l);return}n=l}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return e.push(sU(n)),t;let i=r[1],o=r[2],s=r[3];t.push(xD(i,s));let a=i==zm&&s==zm;o[0]=="<"&&!a&&t.push(xD(s,i))}function NU(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(aU(n)),"* => *"}}var Fm=new Set(["true","1"]),Lm=new Set(["false","0"]);function xD(n,t){let e=Fm.has(n)||Lm.has(n),r=Fm.has(t)||Lm.has(t);return(i,o)=>{let s=n==zm||n==i,a=t==zm||t==o;return!s&&e&&typeof i=="boolean"&&(s=i?Fm.has(n):Lm.has(n)),!a&&r&&typeof o=="boolean"&&(a=o?Fm.has(t):Lm.has(t)),s&&a}}var BD=":self",FU=new RegExp(`s*${BD}s*,?`,"g");function UD(n,t,e,r){return new I0(n).build(t,e,r)}var SD="",I0=class{_driver;constructor(t){this._driver=t}build(t,e,r){let i=new T0(e);return this._resetContextStyleTimingState(i),Nn(this,pc(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector=SD,t.collectedStyles=new Map,t.collectedStyles.set(SD,new Map),t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,i=e.depCount=0,o=[],s=[];return t.name.charAt(0)=="@"&&e.errors.push(KB()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),a.type==fe.State){let l=a,u=l.name;u.toString().split(/\s*,\s*/).forEach(m=>{l.name=m,o.push(this.visitState(l,e))}),l.name=u}else if(a.type==fe.Transition){let l=this.visitTransition(a,e);r+=l.queryCount,i+=l.depCount,s.push(l)}else e.errors.push(ZB())}),{type:fe.Trigger,name:t.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(t,e){let r=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{jD(l).forEach(u=>{s.hasOwnProperty(u)||o.add(u)})})}),o.size&&e.errors.push(YB(t.name,[...o.values()]))}return{type:fe.State,name:t.name,style:r,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;let r=Nn(this,pc(t.animation),e),i=OU(t.expr,e.errors);return{type:fe.Transition,matchers:i,animation:r,queryCount:e.queryCount,depCount:e.depCount,options:$o(t.options)}}visitSequence(t,e){return{type:fe.Sequence,steps:t.steps.map(r=>Nn(this,r,e)),options:$o(t.options)}}visitGroup(t,e){let r=e.currentTime,i=0,o=t.steps.map(s=>{e.currentTime=r;let a=Nn(this,s,e);return i=Math.max(i,e.currentTime),a});return e.currentTime=i,{type:fe.Group,steps:o,options:$o(t.options)}}visitAnimate(t,e){let r=BU(t.timings,e.errors);e.currentAnimateTimings=r;let i,o=t.styles?t.styles:ct({});if(o.type==fe.Keyframes)i=this.visitKeyframes(o,e);else{let s=t.styles,a=!1;if(!s){a=!0;let u={};r.easing&&(u.easing=r.easing),s=ct(u)}e.currentTime+=r.duration+r.delay;let l=this.visitStyle(s,e);l.isEmptyStep=a,i=l}return e.currentAnimateTimings=null,{type:fe.Animate,timings:r,style:i,options:null}}visitStyle(t,e){let r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){let r=[],i=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of i)typeof a=="string"?a===kr?r.push(a):e.errors.push(JB(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let l of a.values())if(l.toString().indexOf(LD)>=0){o=!0;break}}}),{type:fe.Style,styles:r,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){let r=e.currentAnimateTimings,i=e.currentTime,o=e.currentTime;r&&o>0&&(o-=r.duration+r.delay),t.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,l)=>{let u=e.collectedStyles.get(e.currentQuerySelector),m=u.get(l),p=!0;m&&(o!=i&&o>=m.startTime&&i<=m.endTime&&(e.errors.push(XB(l,m.startTime,m.endTime,o,i)),p=!1),o=m.startTime),p&&u.set(l,{startTime:o,endTime:i}),e.options&&TU(a,e.options,e.errors)})})}visitKeyframes(t,e){let r={type:fe.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(eU()),r;let i=1,o=0,s=[],a=!1,l=!1,u=0,m=t.steps.map(A=>{let F=this._makeStyleAst(A,e),B=F.offset!=null?F.offset:jU(F.styles),H=0;return B!=null&&(o++,H=F.offset=B),l=l||H<0||H>1,a=a||H<u,u=H,s.push(H),F});l&&e.errors.push(tU()),a&&e.errors.push(nU());let p=t.steps.length,v=0;o>0&&o<p?e.errors.push(rU()):o==0&&(v=i/(p-1));let g=p-1,_=e.currentTime,C=e.currentAnimateTimings,S=C.duration;return m.forEach((A,F)=>{let B=v>0?F==g?1:v*F:s[F],H=B*S;e.currentTime=_+C.delay+H,C.duration=H,this._validateStyleAst(A,e),A.offset=B,r.styles.push(A)}),r}visitReference(t,e){return{type:fe.Reference,animation:Nn(this,pc(t.animation),e),options:$o(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:fe.AnimateChild,options:$o(t.options)}}visitAnimateRef(t,e){return{type:fe.AnimateRef,animation:this.visitReference(t.animation,e),options:$o(t.options)}}visitQuery(t,e){let r=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;let[o,s]=LU(t.selector);e.currentQuerySelector=r.length?r+" "+o:o,Fn(e.collectedStyles,e.currentQuerySelector,new Map);let a=Nn(this,pc(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:fe.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:$o(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(iU());let r=t.timings==="full"?{duration:0,delay:0,easing:"full"}:Um(t.timings,e.errors,!0);return{type:fe.Stagger,animation:Nn(this,pc(t.animation),e),timings:r,options:null}}};function LU(n){let t=!!n.split(/\s*,\s*/).find(e=>e==BD);return t&&(n=n.replace(FU,"")),n=n.replace(/@\*/g,Bm).replace(/@\w+/g,e=>Bm+"-"+e.slice(1)).replace(/:animating/g,x0),[n,t]}function VU(n){return n?k({},n):null}var T0=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(t){this.errors=t}};function jU(n){if(typeof n=="string")return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){let r=e;t=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}function BU(n,t){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=Um(n,t).duration;return v0(o,0,"")}let e=n;if(e.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=v0(0,0,"");return o.dynamic=!0,o.strValue=e,o}let i=Um(e,t);return v0(i.duration,i.delay,i.easing)}function $o(n){return n?(n=k({},n),n.params&&(n.params=VU(n.params))):n={},n}function v0(n,t,e){return{duration:n,delay:t,easing:e}}function H0(n,t,e,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var bc=class{_map=new Map;get(t){return this._map.get(t)||[]}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}},UU=1,$U=":enter",zU=new RegExp($U,"g"),HU=":leave",qU=new RegExp(HU,"g");function $D(n,t,e,r,i,o=new Map,s=new Map,a,l,u=[]){return new M0().buildKeyframes(n,t,e,r,i,o,s,a,l,u)}var M0=class{buildKeyframes(t,e,r,i,o,s,a,l,u,m=[]){u=u||new bc;let p=new A0(t,e,u,i,o,m,[]);p.options=l;let v=l.delay?ui(l.delay):0;p.currentTimeline.delayNextStep(v),p.currentTimeline.setStyles([s],null,p.errors,l),Nn(this,r,p);let g=p.timelines.filter(_=>_.containsAnimation());if(g.length&&a.size){let _;for(let C=g.length-1;C>=0;C--){let S=g[C];if(S.element===e){_=S;break}}_&&!_.allowOnlyTimelineStyles()&&_.setStyles([a],null,p.errors,l)}return g.length?g.map(_=>_.buildKeyframes()):[H0(e,[],[],[],0,v,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){let r=e.subInstructions.get(e.element);if(r){let i=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){let r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,r),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,r){for(let i of t){let o=i?.delay;if(o){let s=typeof o=="number"?o:ui(gc(o,i?.params??{},e.errors));r.delayNextStep(s)}}}_visitSubInstructions(t,e,r){let o=e.currentTimeline.currentTime,s=r.duration!=null?ui(r.duration):null,a=r.delay!=null?ui(r.delay):null;return s!==0&&t.forEach(l=>{let u=e.appendInstructionToTimeline(l,s,a);o=Math.max(o,u.duration+u.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Nn(this,t.animation,e),e.previousNode=t}visitSequence(t,e){let r=e.subContextCount,i=e,o=t.options;if(o&&(o.params||o.delay)&&(i=e.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==fe.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Hm);let s=ui(o.delay);i.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>Nn(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){let r=[],i=e.currentTimeline.currentTime,o=t.options&&t.options.delay?ui(t.options.delay):0;t.steps.forEach(s=>{let a=e.createSubContext(t.options);o&&a.delayNextStep(o),Nn(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){let r=t.strValue,i=e.params?gc(r,e.params,e.errors):r;return Um(i,e.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){let r=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),i.snapshotCurrentStyles());let o=t.style;o.type==fe.Keyframes?this.visitKeyframes(o,e):(e.incrementTime(r.duration),this.visitStyle(o,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){let r=e.currentTimeline,i=e.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(o):r.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){let r=e.currentAnimateTimings,i=e.currentTimeline.duration,o=r.duration,a=e.createSubContext().currentTimeline;a.easing=r.easing,t.styles.forEach(l=>{let u=l.offset||0;a.forwardTime(u*o),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(i+o),e.previousNode=t}visitQuery(t,e){let r=e.currentTimeline.currentTime,i=t.options||{},o=i.delay?ui(i.delay):0;o&&(e.previousNode.type===fe.Style||r==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Hm);let s=r,a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((u,m)=>{e.currentQueryIndex=m;let p=e.createSubContext(t.options,u);o&&p.delayNextStep(o),u===e.element&&(l=p.currentTimeline),Nn(this,t.animation,p),p.currentTimeline.applyStylesToKeyframe();let v=p.currentTimeline.currentTime;s=Math.max(s,v)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){let r=e.parentContext,i=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1),l=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime;break}let m=e.currentTimeline;l&&m.delayNextStep(l);let p=m.currentTime;Nn(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=i.currentTime-p+(i.startTime-r.currentTimeline.startTime)}},Hm={},A0=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Hm;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(t,e,r,i,o,s,a,l){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.currentTimeline=l||new qm(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;let r=t,i=this.options;r.duration!=null&&(i.duration=ui(r.duration)),r.delay!=null&&(i.delay=ui(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=gc(o[a],s,this.errors))})}}_copyOptions(){let t={};if(this.options){let e=this.options.params;if(e){let r=t.params={};Object.keys(e).forEach(i=>{r[i]=e[i]})}}return t}createSubContext(t=null,e,r){let i=e||this.element,o=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=Hm,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){let i={duration:e??t.duration,delay:this.currentTimeline.currentTime+(r??0)+t.delay,easing:""},o=new k0(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,i,o,s){let a=[];if(i&&a.push(this.element),t.length>0){t=t.replace(zU,"."+this._enterClassName),t=t.replace(qU,"."+this._leaveClassName);let l=r!=1,u=this._driver.query(this.element,t,l);r!==0&&(u=r<0?u.slice(u.length+r,u.length):u.slice(0,r)),a.push(...u)}return!o&&a.length==0&&s.push(oU(e)),a}},qm=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(t,e,r,i){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new n(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=UU,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,r]of this._globalTimelineStyles)this._backFill.set(e,r||kr),this._currentKeyframe.set(e,kr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,i){e&&this._previousKeyframe.set("easing",e);let o=i&&i.params||{},s=GU(t,this._globalTimelineStyles);for(let[a,l]of s){let u=gc(l,o,r);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??kr),this._updateStyle(a,u)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,r)=>{let i=this._styleSummary.get(r);(!i||e.time>i.time)&&this._updateStyle(r,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,e=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,l)=>{let u=new Map([...this._backFill,...a]);u.forEach((m,p)=>{m===cm?t.add(p):m===kr&&e.add(p)}),r||u.set("offset",l/this.duration),i.push(u)});let o=[...t.values()],s=[...e.values()];if(r){let a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return H0(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},k0=class extends qm{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(t,e,r,i,o,s,a=!1){super(t,e,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){let o=[],s=r+e,a=e/s,l=new Map(t[0]);l.set("offset",0),o.push(l);let u=new Map(t[0]);u.set("offset",DD(a)),o.push(u);let m=t.length-1;for(let p=1;p<=m;p++){let v=new Map(t[p]),g=v.get("offset"),_=e+g*r;v.set("offset",DD(_/s)),o.push(v)}r=s,e=0,i="",t=o}return H0(this.element,t,this.preStyleProps,this.postStyleProps,r,e,i,!0)}};function DD(n,t=3){let e=Math.pow(10,t-1);return Math.round(n*e)/e}function GU(n,t){let e=new Map,r;return n.forEach(i=>{if(i==="*"){r??=t.keys();for(let o of r)e.set(o,kr)}else for(let[o,s]of i)e.set(o,s)}),e}function ID(n,t,e,r,i,o,s,a,l,u,m,p,v){return{type:0,element:n,triggerName:t,isRemovalTransition:i,fromState:e,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:m,totalTime:p,errors:v}}var _0={},Gm=class{_triggerName;ast;_stateStyles;constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,i){return WU(this.ast.matchers,t,e,r,i)}buildStyles(t,e,r){let i=this._stateStyles.get("*");return t!==void 0&&(i=this._stateStyles.get(t?.toString())||i),i?i.buildStyles(e,r):new Map}build(t,e,r,i,o,s,a,l,u,m){let p=[],v=this.ast.options&&this.ast.options.params||_0,g=a&&a.params||_0,_=this.buildStyles(r,g,p),C=l&&l.params||_0,S=this.buildStyles(i,C,p),A=new Set,F=new Map,B=new Map,H=i==="void",Y={params:zD(C,v),delay:this.ast.options?.delay},Ae=m?[]:$D(t,e,this.ast.animation,o,s,_,S,Y,u,p),Oe=0;return Ae.forEach(Ze=>{Oe=Math.max(Ze.duration+Ze.delay,Oe)}),p.length?ID(e,this._triggerName,r,i,H,_,S,[],[],F,B,Oe,p):(Ae.forEach(Ze=>{let en=Ze.element,Go=Fn(F,en,new Set);Ze.preStyleProps.forEach(Hi=>Go.add(Hi));let q0=Fn(B,en,new Set);Ze.postStyleProps.forEach(Hi=>q0.add(Hi)),en!==e&&A.add(en)}),ID(e,this._triggerName,r,i,H,_,S,Ae,[...A.values()],F,B,Oe))}};function WU(n,t,e,r,i){return n.some(o=>o(t,e,r,i))}function zD(n,t){let e=k({},t);return Object.entries(n).forEach(([r,i])=>{i!=null&&(e[r]=i)}),e}var P0=class{styles;defaultParams;normalizer;constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){let r=new Map,i=zD(t,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=gc(s,i,e));let l=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,l,s,e),r.set(a,s)})}),r}};function QU(n,t,e){return new O0(n,t,e)}var O0=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,e.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new P0(i.style,o,r))}),TD(this.states,"true","1"),TD(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new Gm(t,i,this.states))}),this.fallbackTransition=KU(t,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,i){return this.transitionFactories.find(s=>s.match(t,e,r,i))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}};function KU(n,t,e){let r=[(s,a)=>!0],i={type:fe.Sequence,steps:[],options:null},o={type:fe.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new Gm(n,o,t)}function TD(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}var ZU=new bc,R0=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r}register(t,e){let r=[],i=[],o=UD(this._driver,e,r,i);if(r.length)throw dU(r);this._animations.set(t,o)}_buildPlayer(t,e,r){let i=t.element,o=RD(this._normalizer,t.keyframes,e,r);return this._driver.animate(i,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){let i=[],o=this._animations.get(t),s,a=new Map;if(o?(s=$D(this._driver,e,o,VD,E0,new Map,new Map,r,ZU,i),s.forEach(m=>{let p=Fn(a,m.element,new Map);m.postStyleProps.forEach(v=>p.set(v,null))})):(i.push(uU()),s=[]),i.length)throw fU(i);a.forEach((m,p)=>{m.forEach((v,g)=>{m.set(g,this._driver.computeStyle(p,g,kr))})});let l=s.map(m=>{let p=a.get(m.element);return this._buildPlayer(m,new Map,p)}),u=zi(l);return this._playersById.set(t,u),u.onDestroy(()=>this.destroy(t)),this.players.push(u),u}destroy(t){let e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);let r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){let e=this._playersById.get(t);if(!e)throw mU(t);return e}listen(t,e,r,i){let o=j0(e,"","","");return V0(this._getPlayer(t),r,o,i),()=>{}}command(t,e,r,i){if(r=="register"){this.register(t,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(t,e,s);return}let o=this._getPlayer(t);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t);break}}},MD="ng-animate-queued",YU=".ng-animate-queued",y0="ng-animate-disabled",JU=".ng-animate-disabled",XU="ng-star-inserted",e5=".ng-star-inserted",t5=[],HD={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},n5={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},fr="__ng_removed",vc=class{namespaceId;value;options;get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;let r=t&&t.hasOwnProperty("value"),i=r?t.value:t;if(this.value=i5(i),r){let o=t,{value:s}=o,a=Wo(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let e=t.params;if(e){let r=this.options.params;Object.keys(e).forEach(i=>{r[i]==null&&(r[i]=e[i])})}}},hc="void",w0=new vc(hc),N0=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this._hostClassName="ng-tns-"+t,Qn(e,this._hostClassName)}listen(t,e,r,i){if(!this._triggers.has(e))throw pU(r,e);if(r==null||r.length==0)throw hU(e);if(!o5(r))throw gU(r,e);let o=Fn(this._elementListeners,t,[]),s={name:e,phase:r,callback:i};o.push(s);let a=Fn(this._engine.statesByElement,t,new Map);return a.has(e)||(Qn(t,Nm),Qn(t,Nm+"-"+e),a.set(e,w0)),()=>{this._engine.afterFlush(()=>{let l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return this._triggers.has(t)?!1:(this._triggers.set(t,e),!0)}_getTrigger(t){let e=this._triggers.get(t);if(!e)throw bU(t);return e}trigger(t,e,r,i=!0){let o=this._getTrigger(e),s=new _c(this.id,e,t),a=this._engine.statesByElement.get(t);a||(Qn(t,Nm),Qn(t,Nm+"-"+e),this._engine.statesByElement.set(t,a=new Map));let l=a.get(e),u=new vc(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),a.set(e,u),l||(l=w0),!(u.value===hc)&&l.value===u.value){if(!l5(l.params,u.params)){let C=[],S=o.matchStyles(l.value,l.params,C),A=o.matchStyles(u.value,u.params,C);C.length?this._engine.reportError(C):this._engine.afterFlush(()=>{zo(t,S),Pr(t,A)})}return}let v=Fn(this._engine.playersByElement,t,[]);v.forEach(C=>{C.namespaceId==this.id&&C.triggerName==e&&C.queued&&C.destroy()});let g=o.matchTransition(l.value,u.value,t,u.params),_=!1;if(!g){if(!i)return;g=o.fallbackTransition,_=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:g,fromState:l,toState:u,player:s,isFallbackTransition:_}),_||(Qn(t,MD),s.onStart(()=>{wa(t,MD)})),s.onDone(()=>{let C=this.players.indexOf(s);C>=0&&this.players.splice(C,1);let S=this._engine.playersByElement.get(t);if(S){let A=S.indexOf(s);A>=0&&S.splice(A,1)}}),this.players.push(s),v.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(i=>i.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){let r=this._engine.driver.query(t,Bm,!0);r.forEach(i=>{if(i[fr])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(t,e,r,i){let o=this._engine.statesByElement.get(t),s=new Map;if(o){let a=[];if(o.forEach((l,u)=>{if(s.set(u,l.value),this._triggers.has(u)){let m=this.trigger(t,u,hc,i);m&&a.push(m)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),r&&zi(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){let i=new Set;e.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let l=this._triggers.get(s).fallbackTransition,u=r.get(s)||w0,m=new vc(hc),p=new _c(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:l,fromState:u,toState:m,player:p,isFallbackTransition:!0})})}}removeNode(t,e){let r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else{let s=t;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,e);else{let o=t[fr];(!o||o===HD)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){Qn(t,this._hostClassName)}drainQueuedTransitions(t){let e=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let l=j0(o,r.triggerName,r.fromState.value,r.toState.value);l._data=t,V0(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(r)}),this._queue=[],e.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},F0=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(t,e)=>{};_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r}get queuedPlayers(){let t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){let r=new N0(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){let l=i.get(a);if(l){let u=r.indexOf(l);r.splice(u+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(t)}else r.push(t);return i.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let i=this._namespaceLookup[t];i&&i.register(e,r)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(t);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let e=new Set,r=this.statesByElement.get(t);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&e.add(o)}}return e}trigger(t,e,r,i){if(Vm(e)){let o=this._fetchNamespace(t);if(o)return o.trigger(e,r,i),!0}return!1}insertNode(t,e,r,i){if(!Vm(e))return;let o=e[fr];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){let s=this._fetchNamespace(t);s&&s.insertNode(e,r)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Qn(t,y0)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),wa(t,y0))}removeNode(t,e,r){if(Vm(e)){let i=t?this._fetchNamespace(t):null;i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r);let o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,r)}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,r,i,o){this.collectedLeaveElements.push(e),e[fr]={namespaceId:t,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,r,i,o){return Vm(e)?this._fetchNamespace(t).listen(e,r,i,o):()=>{}}_buildInstruction(t,e,r,i,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,i,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,Bm,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(t,x0,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){let e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){let e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return zi(this.players).onDone(()=>t());t()})}processLeaveNode(t){let e=t[fr];if(e&&e.setForRemoval){if(t[fr]=HD,e.namespaceId){this.destroyInnerAnimations(t);let r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(y0)&&this.markElementAsDisabled(t,!1),this.driver.query(t,JU,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];Qn(i,XU)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{e=this._flushAnimations(r,t)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],e.length?zi(e).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(t){throw vU(t)}_flushAnimations(t,e){let r=new bc,i=[],o=new Map,s=[],a=new Map,l=new Map,u=new Map,m=new Set;this.disabledNodes.forEach($=>{m.add($);let Z=this.driver.query($,YU,!0);for(let te=0;te<Z.length;te++)m.add(Z[te])});let p=this.bodyNode,v=Array.from(this.statesByElement.keys()),g=PD(v,this.collectedEnterElements),_=new Map,C=0;g.forEach(($,Z)=>{let te=VD+C++;_.set(Z,te),$.forEach(Ce=>Qn(Ce,te))});let S=[],A=new Set,F=new Set;for(let $=0;$<this.collectedLeaveElements.length;$++){let Z=this.collectedLeaveElements[$],te=Z[fr];te&&te.setForRemoval&&(S.push(Z),A.add(Z),te.hasAnimation?this.driver.query(Z,e5,!0).forEach(Ce=>A.add(Ce)):F.add(Z))}let B=new Map,H=PD(v,Array.from(A));H.forEach(($,Z)=>{let te=E0+C++;B.set(Z,te),$.forEach(Ce=>Qn(Ce,te))}),t.push(()=>{g.forEach(($,Z)=>{let te=_.get(Z);$.forEach(Ce=>wa(Ce,te))}),H.forEach(($,Z)=>{let te=B.get(Z);$.forEach(Ce=>wa(Ce,te))}),S.forEach($=>{this.processLeaveNode($)})});let Y=[],Ae=[];for(let $=this._namespaceList.length-1;$>=0;$--)this._namespaceList[$].drainQueuedTransitions(e).forEach(te=>{let Ce=te.player,mt=te.element;if(Y.push(Ce),this.collectedEnterElements.length){let Mt=mt[fr];if(Mt&&Mt.setForMove){if(Mt.previousTriggersValues&&Mt.previousTriggersValues.has(te.triggerName)){let qi=Mt.previousTriggersValues.get(te.triggerName),Ln=this.statesByElement.get(te.element);if(Ln&&Ln.has(te.triggerName)){let yc=Ln.get(te.triggerName);yc.value=qi,Ln.set(te.triggerName,yc)}}Ce.destroy();return}}let mr=!p||!this.driver.containsElement(p,mt),_n=B.get(mt),fi=_.get(mt),Ye=this._buildInstruction(te,r,fi,_n,mr);if(Ye.errors&&Ye.errors.length){Ae.push(Ye);return}if(mr){Ce.onStart(()=>zo(mt,Ye.fromStyles)),Ce.onDestroy(()=>Pr(mt,Ye.toStyles)),i.push(Ce);return}if(te.isFallbackTransition){Ce.onStart(()=>zo(mt,Ye.fromStyles)),Ce.onDestroy(()=>Pr(mt,Ye.toStyles)),i.push(Ce);return}let Q0=[];Ye.timelines.forEach(Mt=>{Mt.stretchStartingKeyframe=!0,this.disabledNodes.has(Mt.element)||Q0.push(Mt)}),Ye.timelines=Q0,r.append(mt,Ye.timelines);let ZD={instruction:Ye,player:Ce,element:mt};s.push(ZD),Ye.queriedElements.forEach(Mt=>Fn(a,Mt,[]).push(Ce)),Ye.preStyleProps.forEach((Mt,qi)=>{if(Mt.size){let Ln=l.get(qi);Ln||l.set(qi,Ln=new Set),Mt.forEach((yc,Xm)=>Ln.add(Xm))}}),Ye.postStyleProps.forEach((Mt,qi)=>{let Ln=u.get(qi);Ln||u.set(qi,Ln=new Set),Mt.forEach((yc,Xm)=>Ln.add(Xm))})});if(Ae.length){let $=[];Ae.forEach(Z=>{$.push(_U(Z.triggerName,Z.errors))}),Y.forEach(Z=>Z.destroy()),this.reportError($)}let Oe=new Map,Ze=new Map;s.forEach($=>{let Z=$.element;r.has(Z)&&(Ze.set(Z,Z),this._beforeAnimationBuild($.player.namespaceId,$.instruction,Oe))}),i.forEach($=>{let Z=$.element;this._getPreviousPlayers(Z,!1,$.namespaceId,$.triggerName,null).forEach(Ce=>{Fn(Oe,Z,[]).push(Ce),Ce.destroy()})});let en=S.filter($=>OD($,l,u)),Go=new Map;kD(Go,this.driver,F,u,kr).forEach($=>{OD($,l,u)&&en.push($)});let Hi=new Map;g.forEach(($,Z)=>{kD(Hi,this.driver,new Set($),l,cm)}),en.forEach($=>{let Z=Go.get($),te=Hi.get($);Go.set($,new Map([...Z?.entries()??[],...te?.entries()??[]]))});let Jm=[],G0=[],W0={};s.forEach($=>{let{element:Z,player:te,instruction:Ce}=$;if(r.has(Z)){if(m.has(Z)){te.onDestroy(()=>Pr(Z,Ce.toStyles)),te.disabled=!0,te.overrideTotalTime(Ce.totalTime),i.push(te);return}let mt=W0;if(Ze.size>1){let _n=Z,fi=[];for(;_n=_n.parentNode;){let Ye=Ze.get(_n);if(Ye){mt=Ye;break}fi.push(_n)}fi.forEach(Ye=>Ze.set(Ye,mt))}let mr=this._buildAnimation(te.namespaceId,Ce,Oe,o,Hi,Go);if(te.setRealPlayer(mr),mt===W0)Jm.push(te);else{let _n=this.playersByElement.get(mt);_n&&_n.length&&(te.parentPlayer=zi(_n)),i.push(te)}}else zo(Z,Ce.fromStyles),te.onDestroy(()=>Pr(Z,Ce.toStyles)),G0.push(te),m.has(Z)&&i.push(te)}),G0.forEach($=>{let Z=o.get($.element);if(Z&&Z.length){let te=zi(Z);$.setRealPlayer(te)}}),i.forEach($=>{$.parentPlayer?$.syncPlayerEvents($.parentPlayer):$.destroy()});for(let $=0;$<S.length;$++){let Z=S[$],te=Z[fr];if(wa(Z,E0),te&&te.hasAnimation)continue;let Ce=[];if(a.size){let mr=a.get(Z);mr&&mr.length&&Ce.push(...mr);let _n=this.driver.query(Z,x0,!0);for(let fi=0;fi<_n.length;fi++){let Ye=a.get(_n[fi]);Ye&&Ye.length&&Ce.push(...Ye)}}let mt=Ce.filter(mr=>!mr.destroyed);mt.length?s5(this,Z,mt):this.processLeaveNode(Z)}return S.length=0,Jm.forEach($=>{this.players.push($),$.onDone(()=>{$.destroy();let Z=this.players.indexOf($);this.players.splice(Z,1)}),$.play()}),Jm}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,i,o){let s=[];if(e){let a=this.playersByQueriedElement.get(t);a&&(s=a)}else{let a=this.playersByElement.get(t);if(a){let l=!o||o==hc;a.forEach(u=>{u.queued||!l&&u.triggerName!=i||s.push(u)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(t,e,r){let i=e.triggerName,o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:i;for(let l of e.timelines){let u=l.element,m=u!==o,p=Fn(r,u,[]);this._getPreviousPlayers(u,m,s,a,e.toState).forEach(g=>{let _=g.getRealPlayer();_.beforeDestroy&&_.beforeDestroy(),g.destroy(),p.push(g)})}zo(o,e.fromStyles)}_buildAnimation(t,e,r,i,o,s){let a=e.triggerName,l=e.element,u=[],m=new Set,p=new Set,v=e.timelines.map(_=>{let C=_.element;m.add(C);let S=C[fr];if(S&&S.removedBeforeQueried)return new $i(_.duration,_.delay);let A=C!==l,F=a5((r.get(C)||t5).map(Oe=>Oe.getRealPlayer())).filter(Oe=>{let Ze=Oe;return Ze.element?Ze.element===C:!1}),B=o.get(C),H=s.get(C),Y=RD(this._normalizer,_.keyframes,B,H),Ae=this._buildPlayer(_,Y,F);if(_.subTimeline&&i&&p.add(C),A){let Oe=new _c(t,a,C);Oe.setRealPlayer(Ae),u.push(Oe)}return Ae});u.forEach(_=>{Fn(this.playersByQueriedElement,_.element,[]).push(_),_.onDone(()=>r5(this.playersByQueriedElement,_.element,_))}),m.forEach(_=>Qn(_,ED));let g=zi(v);return g.onDestroy(()=>{m.forEach(_=>wa(_,ED)),Pr(l,e.toStyles)}),p.forEach(_=>{Fn(i,_,[]).push(g)}),g}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new $i(t.duration,t.delay)}},_c=class{namespaceId;triggerName;element;_player=new $i;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,r)=>{e.forEach(i=>V0(t,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Fn(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let e=this._player;e.triggerCallback&&e.triggerCallback(t)}};function r5(n,t,e){let r=n.get(t);if(r){if(r.length){let i=r.indexOf(e);r.splice(i,1)}r.length==0&&n.delete(t)}return r}function i5(n){return n??null}function Vm(n){return n&&n.nodeType===1}function o5(n){return n=="start"||n=="done"}function AD(n,t){let e=n.style.display;return n.style.display=t??"none",e}function kD(n,t,e,r,i){let o=[];e.forEach(l=>o.push(AD(l)));let s=[];r.forEach((l,u)=>{let m=new Map;l.forEach(p=>{let v=t.computeStyle(u,p,i);m.set(p,v),(!v||v.length==0)&&(u[fr]=n5,s.push(u))}),n.set(u,m)});let a=0;return e.forEach(l=>AD(l,o[a++])),s}function PD(n,t){let e=new Map;if(n.forEach(a=>e.set(a,[])),t.length==0)return e;let r=1,i=new Set(t),o=new Map;function s(a){if(!a)return r;let l=o.get(a);if(l)return l;let u=a.parentNode;return e.has(u)?l=u:i.has(u)?l=r:l=s(u),o.set(a,l),l}return t.forEach(a=>{let l=s(a);l!==r&&e.get(l).push(a)}),e}function Qn(n,t){n.classList?.add(t)}function wa(n,t){n.classList?.remove(t)}function s5(n,t,e){zi(e).onDone(()=>n.processLeaveNode(t))}function a5(n){let t=[];return qD(n,t),t}function qD(n,t){for(let e=0;e<n.length;e++){let r=n[e];r instanceof mc?qD(r.players,t):t.push(r)}}function l5(n,t){let e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let i=0;i<e.length;i++){let o=e[i];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}function OD(n,t,e){let r=e.get(n);if(!r)return!1;let i=t.get(n);return i?r.forEach(o=>i.add(o)):t.set(n,r),e.delete(n),!0}var Ca=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(t,e)=>{};constructor(t,e,r){this._driver=e,this._normalizer=r,this._transitionEngine=new F0(t.body,e,r),this._timelineEngine=new R0(t.body,e,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(t,e,r,i,o){let s=t+"-"+i,a=this._triggerCache[s];if(!a){let l=[],u=[],m=UD(this._driver,o,l,u);if(l.length)throw lU(i,l);a=QU(i,m,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,i,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,i){this._transitionEngine.insertNode(t,e,r,i)}onRemove(t,e,r){this._transitionEngine.removeNode(t,e,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,i){if(r.charAt(0)=="@"){let[o,s]=wD(r),a=i;this._timelineEngine.command(o,e,s,a)}else this._transitionEngine.trigger(t,e,r,i)}listen(t,e,r,i,o){if(r.charAt(0)=="@"){let[s,a]=wD(r);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(t,e,r,i,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function c5(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=C0(t[0]),t.length>1&&(r=C0(t[t.length-1]))):t instanceof Map&&(e=C0(t)),e||r?new d5(n,e,r):null}var d5=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(e,r,i){this._element=e,this._startStyles=r,this._endStyles=i;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Pr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Pr(this._element,this._initialStyles),this._endStyles&&(Pr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(zo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(zo(this._element,this._endStyles),this._endStyles=null),Pr(this._element,this._initialStyles),this._state=3)}}return n})();function C0(n){let t=null;return n.forEach((e,r)=>{u5(r)&&(t=t||new Map,t.set(r,e))}),t}function u5(n){return n==="display"||n==="position"}var Wm=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(t,e,r,i){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=i,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){let e=[];return t.forEach(r=>{e.push(Object.fromEntries(r))}),e}_triggerWebAnimation(t,e,r){return t.animate(this._convertKeyframesToObject(e),r)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&t.set(i,this._finished?r:z0(this.element,i))}),this.currentSnapshot=t}triggerCallback(t){let e=t==="start"?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}},Qm=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,e){return ND(t,e)}getParentElement(t){return B0(t)}query(t,e,r){return FD(t,e,r)}computeStyle(t,e,r){return z0(t,e)}animate(t,e,r,i,o,s=[]){let a=i==0?"both":"forwards",l={duration:r,delay:i,fill:a};o&&(l.easing=o);let u=new Map,m=s.filter(g=>g instanceof Wm);AU(r,i)&&m.forEach(g=>{g.currentSnapshot.forEach((_,C)=>u.set(C,_))});let p=IU(e).map(g=>new Map(g));p=kU(t,p,u);let v=c5(t,p);return new Wm(t,p,l,v)}};var jm="@",GD="@.disabled",Km=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(t,e,r,i){this.namespaceId=t,this.delegate=e,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,i=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,r){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,i){this.delegate.setAttribute(t,e,r,i)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,i){this.delegate.setStyle(t,e,r,i)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){e.charAt(0)==jm&&e==GD?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r,i){return this.delegate.listen(t,e,r,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},L0=class extends Km{factory;constructor(t,e,r,i,o){super(e,r,i,o),this.factory=t,this.namespaceId=e}setProperty(t,e,r){e.charAt(0)==jm?e.charAt(1)=="."&&e==GD?(r=r===void 0?!0:!!r,this.disableAnimations(t,r)):this.engine.process(this.namespaceId,t,e.slice(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r,i){if(e.charAt(0)==jm){let o=f5(t),s=e.slice(1),a="";return s.charAt(0)!=jm&&([s,a]=m5(s)),this.engine.listen(this.namespaceId,o,s,a,l=>{let u=l._data||-1;this.factory.scheduleListenerCallback(u,r,l)})}return this.delegate.listen(t,e,r,i)}};function f5(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function m5(n){let t=n.indexOf("."),e=n.substring(0,t),r=n.slice(t+1);return[e,r]}var Zm=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(t,e,r){this.delegate=t,this.engine=e,this._zone=r,e.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(t,e){let r="",i=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){let u=this._rendererCache,m=u.get(i);if(!m){let p=()=>u.delete(i);m=new Km(r,i,this.engine,p),u.set(i,m)}return m}let o=e.id,s=e.id+"-"+this._currentId;this._currentId++,this.engine.register(s,t);let a=u=>{Array.isArray(u)?u.forEach(a):this.engine.registerTrigger(o,s,t,u.name,u)};return e.data.animation.forEach(a),new L0(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,r){if(t>=0&&t<this._microtaskId){this._zone.run(()=>e(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([e,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(t){this.engine.flush(),this.delegate.componentReplaced?.(t)}};var h5=(()=>{class n extends Ca{constructor(e,r,i){super(e,r,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(r){return new(r||n)(L(ye),L(Ho),L(qo))};static \u0275prov=P({token:n,factory:n.\u0275fac})}return n})();function g5(){return new $m}function b5(n,t,e){return new Zm(n,t,e)}var WD=[{provide:qo,useFactory:g5},{provide:Ca,useClass:h5},{provide:Xn,useFactory:b5,deps:[Vu,Ca,ce]}],v5=[{provide:Ho,useFactory:()=>new Qm},{provide:nr,useValue:"BrowserAnimations"},...WD],xne=[{provide:Ho,useClass:U0},{provide:nr,useValue:"NoopAnimations"},...WD];function QD(){return dn("NgEagerAnimations"),[...v5]}var KD={providers:[bE(),Qx(_D,Kx()),ex(tx()),QD()]};function _5(n,t){n&1&&(Ut(0),d(1,"div",2),w(2,"router-outlet"),c(),$t())}function y5(n,t){if(n&1){let e=Q();d(0,"div",21)(1,"a",22),I("click",function(){T(e);let i=E(2);return i.navigateToUrl("/home"),M(i.onNavLinkClick())}),w(2,"i",23),f(3,"Dashboard"),c(),d(4,"a",22),I("click",function(){T(e);let i=E(2);return i.navigateToUrl("/emotions"),M(i.onNavLinkClick())}),w(5,"i",24),f(6,"Morning Check-In"),c(),d(7,"a",22),I("click",function(){T(e);let i=E(2);return i.navigateToUrl("/tradejournal"),M(i.onNavLinkClick())}),w(8,"i",25),f(9,"Trade Journal"),c(),d(10,"a",22),I("click",function(){T(e);let i=E(2);return i.navigateToUrl("/meditationhub"),M(i.onNavLinkClick())}),w(11,"i",26),f(12,"Meditation Hub"),c(),d(13,"a",22),I("click",function(){T(e);let i=E(2);return i.navigateToUrl("/analytics"),M(i.onNavLinkClick())}),w(14,"i",27),f(15,"Analytics"),c(),d(16,"a",22),I("click",function(){T(e);let i=E(2);return i.navigateToUrl("/tradeaccounts"),M(i.onNavLinkClick())}),w(17,"i",28),f(18,"Trade Accounts"),c()()}}function w5(n,t){if(n&1&&(d(0,"div"),w(1,"img",34),c()),n&2){let e=E(3);h(),b("src",e.profile_image_blob_url,En)}}function C5(n,t){n&1&&(d(0,"div"),w(1,"i",35),c())}function E5(n,t){if(n&1){let e=Q();d(0,"div",29)(1,"div",30),I("click",function(){T(e);let i=E(2);return M(i.onNavLinkClick())}),x(2,w5,2,1,"div",0)(3,C5,2,0,"div",0),f(4," \xA0\xA0 "),d(5,"p",31),f(6),c()(),d(7,"button",32),I("click",function(){T(e);let i=E(2);return M(i.logOut())}),f(8,"Logout\xA0\xA0\xA0"),w(9,"i",33),c()()}if(n&2){let e=E(2);h(2),b("ngIf",e.profile_image_blob_url),h(),b("ngIf",!e.profile_image_blob_url),h(3),R("Welcome, ",e.user_firstname,"!")}}function x5(n,t){if(n&1){let e=Q();d(0,"div",36),I("click",function(){T(e);let i=E(2);return M(i.closeSidebar())}),c()}}function S5(n,t){if(n&1){let e=Q();d(0,"button",37),I("click",function(){T(e);let i=E(2);return M(i.navigateToUrl("/home"))}),w(1,"img",38),c()}}function D5(n,t){if(n&1){let e=Q();Ut(0),d(1,"div",3)(2,"nav",4)(3,"div",5)(4,"div",6)(5,"button",7),I("click",function(){T(e);let i=E();return i.navigateToUrl("/home"),M(i.onNavLinkClick())}),d(6,"img",8),I("click",function(){T(e);let i=E();return i.navigateToUrl("/home"),M(i.onNavLinkClick())}),c()(),d(7,"button",9),I("click",function(){T(e);let i=E();return M(i.closeSidebar())}),c()(),x(8,y5,19,0,"div",10),c(),x(9,E5,10,3,"div",11),c(),x(10,x5,1,0,"div",12),d(11,"div",13)(12,"nav",14)(13,"div",15)(14,"div",16)(15,"button",17),I("click",function(){T(e);let i=E();return M(i.toggleSidebar())}),w(16,"span",18),c(),x(17,S5,2,0,"button",19),c()()(),d(18,"div",20),w(19,"router-outlet"),c()()(),$t()}if(n&2){let e=E();h(2),Ie("collapsed",e.sidebarCollapsed()),h(6),b("ngIf",e.loginStatus()),h(),b("ngIf",e.loginStatus()),h(),b("ngIf",e.isMobile()&&!e.sidebarCollapsed()),h(),Ie("expanded",e.sidebarCollapsed()),h(6),b("ngIf",e.sidebarCollapsed())}}var Ym=class n{constructor(t,e,r,i,o,s,a){this.cdr=t;this.supabaseService=e;this.supabaseAuthService=r;this.supabaseAccountService=i;this.router=o;this.route=s;this.platformId=a;this.loginStatus=ir(()=>e.loginStatus()),_o(()=>{this.loginStatus()&&(this.route.queryParams.subscribe(l=>{let u=l.returnUrl;u?this.router.navigate([u]):(this.router.url==="/"||this.router.url==="/login")&&this.router.navigate(["/home"])}),this.loginStatus()&&!this.userProfileLoaded&&(this.userProfileLoaded=!0,this.loadUserProfile()))}),ig(()=>{})}title="TR-prototype";profile_image_blob_url="";loginStatus;sidebarCollapsed=Ft(!1);isMobile=Ft(!1);user_firstname="";resizeObserver;userProfileLoaded=!1;async ngOnInit(){this.checkScreenSize(),zn(this.platformId)&&(this.sidebarCollapsed.set(this.isMobile()),this.resizeObserver=new ResizeObserver(()=>{this.checkScreenSize(),this.cdr.detectChanges()}),this.resizeObserver.observe(document.body))}ngOnDestroy(){zn(this.platformId)&&this.resizeObserver&&this.resizeObserver.disconnect()}async loadUserProfile(){let{data:t}=await this.supabaseAccountService.getProfile();t&&(this.user_firstname=t.firstname,t.profile_picture_url&&(this.profile_image_blob_url=await this.supabaseAccountService.getCachedProfilePictureBlobUrl(t.profile_picture_url)),this.cdr.markForCheck())}async logOut(){await this.supabaseAuthService.logout(),this.router.navigateByUrl("/")}toggleSidebar(){this.sidebarCollapsed.update(t=>!t),this.cdr.detectChanges()}navigateToUrl(t){this.router.navigateByUrl(t)}closeSidebar(){this.sidebarCollapsed.set(!0),this.cdr.detectChanges()}onNavLinkClick(){this.isMobile()&&this.closeSidebar()}checkScreenSize(){zn(this.platformId)&&this.isMobile.set(window.innerWidth<768)}static \u0275fac=function(e){return new(e||n)(D(ee),D(Me),D(Ar),D(qt),D(Dt),D(kn),D(Lt))};static \u0275cmp=j({type:n,selectors:[["app-root"]],decls:4,vars:2,consts:[[4,"ngIf"],["align","center",1,"m-5"],[1,"container-fluid","p-0"],[1,"sidebar-container"],["id","sidebar",1,"d-flex","flex-column","h-100"],[1,"p-3","flex-grow-1"],[1,"mb-3","d-flex","align-items-center","justify-content-between"],[1,"text-decoration-none","me-auto","btn","btn-link","p-0","me-3",3,"click"],["src","/tr_logo.png",1,"img-fluid",2,"height","36px",3,"click"],["type","button",1,"btn-close","d-md-none",3,"click"],["class","nav flex-column",4,"ngIf"],["class","p-3 border-top mt-auto",4,"ngIf"],["class","sidebar-overlay",3,"click",4,"ngIf"],[1,"content"],[1,"navbar","navbar-expand-lg"],[1,"container-fluid"],[1,"d-flex","align-items-center"],[1,"btn","me-2",3,"click"],[1,"navbar-toggler-icon"],["class","btn navbar-branding text-decoration-none me-auto",3,"click",4,"ngIf"],[1,"container-fluid","ps-3"],[1,"nav","flex-column"],[1,"nav-link",3,"click"],[1,"bi","bi-columns-gap","me-3"],[1,"bi","bi-brightness-high","me-3"],[1,"bi","bi-bookmark-check","me-3"],[1,"bi","bi-person-arms-up","me-3"],[1,"bi","bi-clipboard-data","me-3"],[1,"bi","bi-journals","me-3"],[1,"p-3","border-top","mt-auto"],["routerLink","/useraccount",1,"d-flex","align-items-center","mb-2",2,"cursor","pointer",3,"click"],[1,"text-black","mb-0"],[1,"btn","btn-outline-secondary","btn-tr","w-100",3,"click"],[1,"bi","bi-box-arrow-right"],["alt","Profile",1,"rounded-circle","me-2",2,"width","40px","height","40px","object-fit","cover",3,"src"],[1,"bi","bi-person-circle","text-black",2,"font-size","30px"],[1,"sidebar-overlay",3,"click"],[1,"btn","navbar-branding","text-decoration-none","me-auto",3,"click"],["src","/tr_logo.png","width","50px",1,"img-fluid"]],template:function(e,r){e&1&&(x(0,_5,3,0,"ng-container",0)(1,D5,20,8,"ng-container",0),d(2,"footer",1),f(3,"\xA9 2025 Trading Rehab AI. All rights reserved."),c()),e&2&&(b("ngIf",!r.supabaseService.loginStatus()),h(),b("ngIf",r.supabaseService.loginStatus()))},dependencies:[G,ue,Hb,Ke],styles:[".sidebar-container[_ngcontent-%COMP%]{display:flex;position:relative}#sidebar[_ngcontent-%COMP%]{width:250px;position:fixed;top:0;left:0;height:100dvh;z-index:999;background:#634aff0d;-webkit-backdrop-filter:blur(50px);backdrop-filter:blur(50px);transition:all .3s;box-shadow:0 0 10px #0000001a}#sidebar.collapsed[_ngcontent-%COMP%]{margin-left:-250px}.content[_ngcontent-%COMP%]{width:calc(100% - 250px);margin-left:250px;transition:all .3s;min-height:100dvh;background-color:transparent}.content.expanded[_ngcontent-%COMP%]{width:100%;margin-left:0}@media (max-width: 768px){#sidebar[_ngcontent-%COMP%]{margin-left:-250px}#sidebar[_ngcontent-%COMP%]:not(.collapsed){margin-left:0}.content[_ngcontent-%COMP%]{width:100%;margin-left:0}}.nav-link[_ngcontent-%COMP%]{padding:15px 20px;color:#333;border-bottom:1px solid #ddd;cursor:pointer}.nav-link[_ngcontent-%COMP%]:hover{background-color:#e9ecef}.navbar[_ngcontent-%COMP%]{padding:15px 10px}.sidebar-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100dvw;height:100dvh;z-index:998;display:block}"]})};dx(Ym,KD).catch(n=>console.error(n));
