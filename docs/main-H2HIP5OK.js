import{b as Ov,c as Rv,f as hD,g as Pv}from"./chunk-65CJINC2.js";import{a as N,b as q,c as mo,e as nr,g as dD,h as fD}from"./chunk-VOSPIT4N.js";var lg=nr(ag=>{"use strict";Object.defineProperty(ag,"__esModule",{value:!0});var sg=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};ag.default=sg});var ug=nr(ka=>{"use strict";var OE=ka&&ka.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ka,"__esModule",{value:!0});var YO=OE((Pv(),fD(hD))),JO=OE(lg()),cg=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=YO.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=Object.assign({},this.headers),this.headers[t]=e,this}then(t,e){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var s,a,l;let d=null,h=null,p=null,v=o.status,g=o.statusText;if(o.ok){if(this.method!=="HEAD"){let k=await o.text();k===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?h=k:h=JSON.parse(k))}let w=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),C=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");w&&C&&C.length>1&&(p=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,p=null,v=406,g="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{let w=await o.text();try{d=JSON.parse(w),Array.isArray(d)&&o.status===404&&(h=[],d=null,v=200,g="OK")}catch{o.status===404&&w===""?(v=204,g="No Content"):d={message:w}}if(d&&this.isMaybeSingle&&(!((l=d?.details)===null||l===void 0)&&l.includes("0 rows"))&&(d=null,v=200,g="OK"),d&&this.shouldThrowOnError)throw new JO.default(d)}return{error:d,data:h,count:p,status:v,statusText:g}});return this.shouldThrowOnError||(i=i.catch(o=>{var s,a,l;return{error:{message:`${(s=o?.name)!==null&&s!==void 0?s:"FetchError"}: ${o?.message}`,details:`${(a=o?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=o?.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}};ka.default=cg});var fg=nr(Na=>{"use strict";var XO=Na&&Na.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Na,"__esModule",{value:!0});var eR=XO(ug()),dg=class extends eR.default{select(t){let e=!1,r=(t??"*").split("").map(i=>/\s/.test(i)&&!e?"":(i==='"'&&(e=!e),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){let s=o?`${o}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){let i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:i=r}={}){let o=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(s,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){var a;let l=[t?"analyze":null,e?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),d=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${d}"; options=${l};`,s==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Na.default=dg});var $u=nr(Oa=>{"use strict";var tR=Oa&&Oa.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Oa,"__esModule",{value:!0});var nR=tR(fg()),hg=class extends nR.default{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}in(t,e){let r=Array.from(new Set(e)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${s}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){let i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}};Oa.default=hg});var mg=nr(Pa=>{"use strict";var rR=Pa&&Pa.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Pa,"__esModule",{value:!0});var Ra=rR($u()),pg=class{constructor(t,{headers:e={},schema:r,fetch:i}){this.url=t,this.headers=e,this.schema=r,this.fetch=i}select(t,{head:e=!1,count:r}={}){let i=e?"HEAD":"GET",o=!1,s=(t??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new Ra.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:e,defaultToNull:r=!0}={}){let i="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),e&&o.push(`count=${e}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){let s=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(s.length>0){let a=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Ra.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){let s="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(e!==void 0&&this.url.searchParams.set("on_conflict",e),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){let l=t.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(l.length>0){let d=[...new Set(l)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new Ra.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:e}={}){let r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),e&&i.push(`count=${e}`),this.headers.Prefer=i.join(","),new Ra.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){let e="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Ra.default({method:e,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Pa.default=pg});var RE=nr(Hu=>{"use strict";Object.defineProperty(Hu,"__esModule",{value:!0});Hu.version=void 0;Hu.version="0.0.0-automated"});var PE=nr(qu=>{"use strict";Object.defineProperty(qu,"__esModule",{value:!0});qu.DEFAULT_HEADERS=void 0;var iR=RE();qu.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${iR.version}`}});var LE=nr(Fa=>{"use strict";var FE=Fa&&Fa.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Fa,"__esModule",{value:!0});var oR=FE(mg()),sR=FE($u()),aR=PE(),gg=class n{constructor(t,{headers:e={},schema:r,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},aR.DEFAULT_HEADERS),e),this.schemaName=r,this.fetch=i}from(t){let e=new URL(`${this.url}/${t}`);return new oR.default(e,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new n(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,e={},{head:r=!1,get:i=!1,count:o}={}){let s,a=new URL(`${this.url}/rpc/${t}`),l;r||i?(s=r?"HEAD":"GET",Object.entries(e).filter(([h,p])=>p!==void 0).map(([h,p])=>[h,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([h,p])=>{a.searchParams.append(h,p)})):(s="POST",l=e);let d=Object.assign({},this.headers);return o&&(d.Prefer=`count=${o}`),new sR.default({method:s,url:a,headers:d,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Fa.default=gg});var qE=nr(lt=>{"use strict";var rs=lt&&lt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(lt,"__esModule",{value:!0});lt.PostgrestError=lt.PostgrestBuilder=lt.PostgrestTransformBuilder=lt.PostgrestFilterBuilder=lt.PostgrestQueryBuilder=lt.PostgrestClient=void 0;var VE=rs(LE());lt.PostgrestClient=VE.default;var jE=rs(mg());lt.PostgrestQueryBuilder=jE.default;var UE=rs($u());lt.PostgrestFilterBuilder=UE.default;var BE=rs(fg());lt.PostgrestTransformBuilder=BE.default;var $E=rs(ug());lt.PostgrestBuilder=$E.default;var HE=rs(lg());lt.PostgrestError=HE.default;lt.default={PostgrestClient:VE.default,PostgrestQueryBuilder:jE.default,PostgrestFilterBuilder:UE.default,PostgrestTransformBuilder:BE.default,PostgrestBuilder:$E.default,PostgrestError:HE.default}});function Lv(n,t){return Object.is(n,t)}var Qe=null,Ss=!1,mf=1,It=Symbol("SIGNAL");function he(n){let t=Qe;return Qe=n,t}function Vv(){return Qe}function pD(){return Ss}var yi={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function hl(n){if(Ss)throw new Error("");if(Qe===null)return;Qe.consumerOnSignalRead(n);let t=Qe.nextProducerIndex++;if(ml(Qe),t<Qe.producerNode.length&&Qe.producerNode[t]!==n&&Ds(Qe)){let e=Qe.producerNode[t];pl(e,Qe.producerIndexOfThis[t])}Qe.producerNode[t]!==n&&(Qe.producerNode[t]=n,Qe.producerIndexOfThis[t]=Ds(Qe)?Hv(n,Qe,t):0),Qe.producerLastReadVersion[t]=n.version}function mD(){mf++}function jv(n){if(!(Ds(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===mf)){if(!n.producerMustRecompute(n)&&!Ts(n)){Fv(n);return}n.producerRecomputeValue(n),Fv(n)}}function Uv(n){if(n.liveConsumerNode===void 0)return;let t=Ss;Ss=!0;try{for(let e of n.liveConsumerNode)e.dirty||$v(e)}finally{Ss=t}}function Bv(){return Qe?.consumerAllowSignalWrites!==!1}function $v(n){n.dirty=!0,Uv(n),n.consumerMarkedDirty?.(n)}function Fv(n){n.dirty=!1,n.lastCleanEpoch=mf}function go(n){return n&&(n.nextProducerIndex=0),he(n)}function Is(n,t){if(he(t),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Ds(n))for(let e=n.nextProducerIndex;e<n.producerNode.length;e++)pl(n.producerNode[e],n.producerIndexOfThis[e]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Ts(n){ml(n);for(let t=0;t<n.producerNode.length;t++){let e=n.producerNode[t],r=n.producerLastReadVersion[t];if(r!==e.version||(jv(e),r!==e.version))return!0}return!1}function vo(n){if(ml(n),Ds(n))for(let t=0;t<n.producerNode.length;t++)pl(n.producerNode[t],n.producerIndexOfThis[t]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Hv(n,t,e){if(qv(n),n.liveConsumerNode.length===0&&zv(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=Hv(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(e),n.liveConsumerNode.push(t)-1}function pl(n,t){if(qv(n),n.liveConsumerNode.length===1&&zv(n))for(let r=0;r<n.producerNode.length;r++)pl(n.producerNode[r],n.producerIndexOfThis[r]);let e=n.liveConsumerNode.length-1;if(n.liveConsumerNode[t]=n.liveConsumerNode[e],n.liveConsumerIndexOfThis[t]=n.liveConsumerIndexOfThis[e],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,t<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[t],i=n.liveConsumerNode[t];ml(i),i.producerIndexOfThis[r]=t}}function Ds(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function ml(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function qv(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function zv(n){return n.producerNode!==void 0}function Gv(n){let t=Object.create(gD);t.computation=n;let e=()=>{if(jv(t),hl(t),t.value===fl)throw t.error;return t.value};return e[It]=t,e}var ff=Symbol("UNSET"),hf=Symbol("COMPUTING"),fl=Symbol("ERRORED"),gD=q(N({},yi),{value:ff,dirty:!0,error:null,equal:Lv,kind:"computed",producerMustRecompute(n){return n.value===ff||n.value===hf},producerRecomputeValue(n){if(n.value===hf)throw new Error("Detected cycle in computations.");let t=n.value;n.value=hf;let e=go(n),r,i=!1;try{r=n.computation(),he(null),i=t!==ff&&t!==fl&&r!==fl&&n.equal(t,r)}catch(o){r=fl,n.error=o}finally{Is(n,e)}if(i){n.value=t;return}n.value=r,n.version++}});function vD(){throw new Error}var Wv=vD;function Qv(){Wv()}function Kv(n){Wv=n}var yD=null;function Zv(n){let t=Object.create(gf);t.value=n;let e=()=>(hl(t),t.value);return e[It]=t,e}function gl(n,t){Bv()||Qv(),n.equal(n.value,t)||(n.value=t,_D(n))}function Yv(n,t){Bv()||Qv(),gl(n,t(n.value))}var gf=q(N({},yi),{equal:Lv,value:void 0,kind:"signal"});function _D(n){n.version++,mD(),Uv(n),yD?.()}function Jv(n,t,e){let r=Object.create(bD);e&&(r.consumerAllowSignalWrites=!0),r.fn=n,r.schedule=t;let i=l=>{r.cleanupFn=l};function o(l){return l.fn===null&&l.schedule===null}function s(l){o(l)||(vo(l),l.cleanupFn(),l.fn=null,l.schedule=null,l.cleanupFn=pf)}let a=()=>{if(r.fn===null)return;if(pD())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!Ts(r))return;r.hasRun=!0;let l=go(r);try{r.cleanupFn(),r.cleanupFn=pf,r.fn(i)}finally{Is(r,l)}};return r.ref={notify:()=>$v(r),run:a,cleanup:()=>r.cleanupFn(),destroy:()=>s(r),[It]:r},r.ref}var pf=()=>{},bD=q(N({},yi),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule!==null&&n.schedule(n.ref)},hasRun:!1,cleanupFn:pf});function Y(n){return typeof n=="function"}function yo(n){let e=n(r=>{Error.call(r),r.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var vl=yo(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function _i(n,t){if(n){let e=n.indexOf(t);0<=e&&n.splice(e,1)}}var Te=class n{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let o of e)o.remove(this);else e.remove(this);let{initialTeardown:r}=this;if(Y(r))try{r()}catch(o){t=o instanceof vl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Xv(o)}catch(s){t=t??[],s instanceof vl?t=[...t,...s.errors]:t.push(s)}}if(t)throw new vl(t)}}add(t){var e;if(t&&t!==this)if(this.closed)Xv(t);else{if(t instanceof n){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(t)}}_hasParent(t){let{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){let{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&_i(e,t)}remove(t){let{_finalizers:e}=this;e&&_i(e,t),t instanceof n&&t._removeParent(this)}};Te.EMPTY=(()=>{let n=new Te;return n.closed=!0,n})();var vf=Te.EMPTY;function yl(n){return n instanceof Te||n&&"closed"in n&&Y(n.remove)&&Y(n.add)&&Y(n.unsubscribe)}function Xv(n){Y(n)?n():n.unsubscribe()}var bn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var _o={setTimeout(n,t,...e){let{delegate:r}=_o;return r?.setTimeout?r.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){let{delegate:t}=_o;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function _l(n){_o.setTimeout(()=>{let{onUnhandledError:t}=bn;if(t)t(n);else throw n})}function xs(){}var e0=yf("C",void 0,void 0);function t0(n){return yf("E",void 0,n)}function n0(n){return yf("N",n,void 0)}function yf(n,t,e){return{kind:n,value:t,error:e}}var bi=null;function bo(n){if(bn.useDeprecatedSynchronousErrorHandling){let t=!bi;if(t&&(bi={errorThrown:!1,error:null}),n(),t){let{errorThrown:e,error:r}=bi;if(bi=null,e)throw r}}else n()}function r0(n){bn.useDeprecatedSynchronousErrorHandling&&bi&&(bi.errorThrown=!0,bi.error=n)}var wi=class extends Te{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,yl(t)&&t.add(this)):this.destination=CD}static create(t,e,r){return new rr(t,e,r)}next(t){this.isStopped?bf(n0(t),this):this._next(t)}error(t){this.isStopped?bf(t0(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?bf(e0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},wD=Function.prototype.bind;function _f(n,t){return wD.call(n,t)}var wf=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(r){bl(r)}}error(t){let{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(r){bl(r)}else bl(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){bl(e)}}},rr=class extends wi{constructor(t,e,r){super();let i;if(Y(t)||!t)i={next:t??void 0,error:e??void 0,complete:r??void 0};else{let o;this&&bn.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&_f(t.next,o),error:t.error&&_f(t.error,o),complete:t.complete&&_f(t.complete,o)}):i=t}this.destination=new wf(i)}};function bl(n){bn.useDeprecatedSynchronousErrorHandling?r0(n):_l(n)}function ED(n){throw n}function bf(n,t){let{onStoppedNotification:e}=bn;e&&_o.setTimeout(()=>e(n,t))}var CD={closed:!0,next:xs,error:ED,complete:xs};var wo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ut(n){return n}function Ef(...n){return Cf(n)}function Cf(n){return n.length===0?Ut:n.length===1?n[0]:function(e){return n.reduce((r,i)=>i(r),e)}}var ue=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){let r=new n;return r.source=this,r.operator=e,r}subscribe(e,r,i){let o=DD(e)?e:new rr(e,r,i);return bo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return r=i0(r),new r((i,o)=>{let s=new rr({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)}[wo](){return this}pipe(...e){return Cf(e)(this)}toPromise(e){return e=i0(e),new e((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=t=>new n(t),n})();function i0(n){var t;return(t=n??bn.Promise)!==null&&t!==void 0?t:Promise}function SD(n){return n&&Y(n.next)&&Y(n.error)&&Y(n.complete)}function DD(n){return n&&n instanceof wi||SD(n)&&yl(n)}function Sf(n){return Y(n?.lift)}function ie(n){return t=>{if(Sf(t))return t.lift(function(e){try{return n(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function oe(n,t,e,r,i){return new Df(n,t,e,r,i)}var Df=class extends wi{constructor(t,e,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Eo(){return ie((n,t)=>{let e=null;n._refCount++;let r=oe(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){e=null;return}let i=n._connection,o=e;e=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}var Co=class extends ue{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Sf(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Te;let e=this.getSubject();t.add(this.source.subscribe(oe(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Te.EMPTY)}return t}refCount(){return Eo()(this)}};var o0=yo(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var xe=(()=>{class n extends ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let r=new wl(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new o0}next(e){bo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(e)}})}error(e){bo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){bo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:r,isStopped:i,observers:o}=this;return r||i?vf:(this.currentObservers=null,o.push(e),new Te(()=>{this.currentObservers=null,_i(o,e)}))}_checkFinalizedStatuses(e){let{hasError:r,thrownError:i,isStopped:o}=this;r?e.error(i):o&&e.complete()}asObservable(){let e=new ue;return e.source=this,e}}return n.create=(t,e)=>new wl(t,e),n})(),wl=class extends xe{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.next)===null||r===void 0||r.call(e,t)}error(t){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.error)===null||r===void 0||r.call(e,t)}complete(){var t,e;(e=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||e===void 0||e.call(t)}_subscribe(t){var e,r;return(r=(e=this.source)===null||e===void 0?void 0:e.subscribe(t))!==null&&r!==void 0?r:vf}};var rt=class extends xe{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){let{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var If={now(){return(If.delegate||Date).now()},delegate:void 0};var El=class extends Te{constructor(t,e){super()}schedule(t,e=0){return this}};var Ms={setInterval(n,t,...e){let{delegate:r}=Ms;return r?.setInterval?r.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){let{delegate:t}=Ms;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};var Cl=class extends El{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var r;if(this.closed)return this;this.state=t;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,e)),this.pending=!0,this.delay=e,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,e),this}requestAsyncId(t,e,r=0){return Ms.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,e,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return e;e!=null&&Ms.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(t,e);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r=!1,i;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:t,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,_i(r,this),t!=null&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}};var So=class n{constructor(t,e=n.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,r){return new this.schedulerActionCtor(this,t).schedule(r,e)}};So.now=If.now;var Sl=class extends So{constructor(t,e=So.now){super(t,e),this.actions=[],this._active=!1}flush(t){let{actions:e}=this;if(this._active){e.push(t);return}let r;this._active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=e.shift());if(this._active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}};var s0=new Sl(Cl);var Tt=new ue(n=>n.complete());function a0(n){return n&&Y(n.schedule)}function l0(n){return n[n.length-1]}function Dl(n){return Y(l0(n))?n.pop():void 0}function Lr(n){return a0(l0(n))?n.pop():void 0}function u0(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(h){try{d(r.next(h))}catch(p){s(p)}}function l(h){try{d(r.throw(h))}catch(p){s(p)}}function d(h){h.done?o(h.value):i(h.value).then(a,l)}d((r=r.apply(n,t||[])).next())})}function c0(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ei(n){return this instanceof Ei?(this.v=n,this):new Ei(n)}function d0(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(n,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(b){return Promise.resolve(b).then(g,p)}}function a(g,b){r[g]&&(i[g]=function(w){return new Promise(function(C,k){o.push([g,w,C,k])>1||l(g,w)})},b&&(i[g]=b(i[g])))}function l(g,b){try{d(r[g](b))}catch(w){v(o[0][3],w)}}function d(g){g.value instanceof Ei?Promise.resolve(g.value.v).then(h,p):v(o[0][2],g)}function h(g){l("next",g)}function p(g){l("throw",g)}function v(g,b){g(b),o.shift(),o.length&&l(o[0][0],o[0][1])}}function f0(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],e;return t?t.call(n):(n=typeof c0=="function"?c0(n):n[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(o){e[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(d){o({value:d,done:a})},s)}}var Il=n=>n&&typeof n.length=="number"&&typeof n!="function";function Tl(n){return Y(n?.then)}function xl(n){return Y(n[wo])}function Ml(n){return Symbol.asyncIterator&&Y(n?.[Symbol.asyncIterator])}function Al(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function ID(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var kl=ID();function Nl(n){return Y(n?.[kl])}function Ol(n){return d0(this,arguments,function*(){let e=n.getReader();try{for(;;){let{value:r,done:i}=yield Ei(e.read());if(i)return yield Ei(void 0);yield yield Ei(r)}}finally{e.releaseLock()}})}function Rl(n){return Y(n?.getReader)}function ke(n){if(n instanceof ue)return n;if(n!=null){if(xl(n))return TD(n);if(Il(n))return xD(n);if(Tl(n))return MD(n);if(Ml(n))return h0(n);if(Nl(n))return AD(n);if(Rl(n))return kD(n)}throw Al(n)}function TD(n){return new ue(t=>{let e=n[wo]();if(Y(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function xD(n){return new ue(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}function MD(n){return new ue(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,_l)})}function AD(n){return new ue(t=>{for(let e of n)if(t.next(e),t.closed)return;t.complete()})}function h0(n){return new ue(t=>{ND(n,t).catch(e=>t.error(e))})}function kD(n){return h0(Ol(n))}function ND(n,t){var e,r,i,o;return u0(this,void 0,void 0,function*(){try{for(e=f0(n);r=yield e.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=e.return)&&(yield o.call(e))}finally{if(i)throw i.error}}t.complete()})}function xt(n,t,e,r=0,i=!1){let o=t.schedule(function(){e(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Pl(n,t=0){return ie((e,r)=>{e.subscribe(oe(r,i=>xt(r,n,()=>r.next(i),t),()=>xt(r,n,()=>r.complete(),t),i=>xt(r,n,()=>r.error(i),t)))})}function Fl(n,t=0){return ie((e,r)=>{r.add(n.schedule(()=>e.subscribe(r),t))})}function p0(n,t){return ke(n).pipe(Fl(t),Pl(t))}function m0(n,t){return ke(n).pipe(Fl(t),Pl(t))}function g0(n,t){return new ue(e=>{let r=0;return t.schedule(function(){r===n.length?e.complete():(e.next(n[r++]),e.closed||this.schedule())})})}function v0(n,t){return new ue(e=>{let r;return xt(e,t,()=>{r=n[kl](),xt(e,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){e.error(s);return}o?e.complete():e.next(i)},0,!0)}),()=>Y(r?.return)&&r.return()})}function Ll(n,t){if(!n)throw new Error("Iterable cannot be null");return new ue(e=>{xt(e,t,()=>{let r=n[Symbol.asyncIterator]();xt(e,t,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function y0(n,t){return Ll(Ol(n),t)}function _0(n,t){if(n!=null){if(xl(n))return p0(n,t);if(Il(n))return g0(n,t);if(Tl(n))return m0(n,t);if(Ml(n))return Ll(n,t);if(Nl(n))return v0(n,t);if(Rl(n))return y0(n,t)}throw Al(n)}function Ne(n,t){return t?_0(n,t):ke(n)}function z(...n){let t=Lr(n);return Ne(n,t)}function Vr(n,t){let e=Y(n)?n:()=>n,r=i=>i.error(e());return new ue(t?i=>t.schedule(r,0,i):r)}function Tf(n){return!!n&&(n instanceof ue||Y(n.lift)&&Y(n.subscribe))}var ir=yo(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function W(n,t){return ie((e,r)=>{let i=0;e.subscribe(oe(r,o=>{r.next(n.call(t,o,i++))}))})}var{isArray:OD}=Array;function RD(n,t){return OD(t)?n(...t):n(t)}function Vl(n){return W(t=>RD(n,t))}var{isArray:PD}=Array,{getPrototypeOf:FD,prototype:LD,keys:VD}=Object;function jl(n){if(n.length===1){let t=n[0];if(PD(t))return{args:t,keys:null};if(jD(t)){let e=VD(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}function jD(n){return n&&typeof n=="object"&&FD(n)===LD}function Ul(n,t){return n.reduce((e,r,i)=>(e[r]=t[i],e),{})}function Do(...n){let t=Lr(n),e=Dl(n),{args:r,keys:i}=jl(n);if(r.length===0)return Ne([],t);let o=new ue(UD(r,t,i?s=>Ul(i,s):Ut));return e?o.pipe(Vl(e)):o}function UD(n,t,e=Ut){return r=>{b0(t,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)b0(t,()=>{let d=Ne(n[l],t),h=!1;d.subscribe(oe(r,p=>{o[l]=p,h||(h=!0,a--),a||r.next(e(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function b0(n,t,e){n?xt(e,n,t):t()}function w0(n,t,e,r,i,o,s,a){let l=[],d=0,h=0,p=!1,v=()=>{p&&!l.length&&!d&&t.complete()},g=w=>d<r?b(w):l.push(w),b=w=>{o&&t.next(w),d++;let C=!1;ke(e(w,h++)).subscribe(oe(t,k=>{i?.(k),o?g(k):t.next(k)},()=>{C=!0},void 0,()=>{if(C)try{for(d--;l.length&&d<r;){let k=l.shift();s?xt(t,s,()=>b(k)):b(k)}v()}catch(k){t.error(k)}}))};return n.subscribe(oe(t,g,()=>{p=!0,v()})),()=>{a?.()}}function Ke(n,t,e=1/0){return Y(t)?Ke((r,i)=>W((o,s)=>t(r,o,i,s))(ke(n(r,i))),e):(typeof t=="number"&&(e=t),ie((r,i)=>w0(r,i,n,e)))}function xf(n=1/0){return Ke(Ut,n)}function E0(){return xf(1)}function jr(...n){return E0()(Ne(n,Lr(n)))}function Bl(n){return new ue(t=>{ke(n()).subscribe(t)})}function As(...n){let t=Dl(n),{args:e,keys:r}=jl(n),i=new ue(o=>{let{length:s}=e;if(!s){o.complete();return}let a=new Array(s),l=s,d=s;for(let h=0;h<s;h++){let p=!1;ke(e[h]).subscribe(oe(o,v=>{p||(p=!0,d--),a[h]=v},()=>l--,void 0,()=>{(!l||!p)&&(d||o.next(r?Ul(r,a):a),o.complete())}))}});return t?i.pipe(Vl(t)):i}function yt(n,t){return ie((e,r)=>{let i=0;e.subscribe(oe(r,o=>n.call(t,o,i++)&&r.next(o)))})}function Fn(n){return ie((t,e)=>{let r=null,i=!1,o;r=t.subscribe(oe(e,void 0,void 0,s=>{o=ke(n(s,Fn(n)(t))),r?(r.unsubscribe(),r=null,o.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(e))})}function C0(n,t,e,r,i){return(o,s)=>{let a=e,l=t,d=0;o.subscribe(oe(s,h=>{let p=d++;l=a?n(l,h,p):(a=!0,h),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function Ur(n,t){return Y(t)?Ke(n,t,1):Ke(n,1)}function Mf(n,t=s0){return ie((e,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let d=o;o=null,r.next(d)}};function l(){let d=s+n,h=t.now();if(h<d){i=this.schedule(void 0,d-h),r.add(i);return}a()}e.subscribe(oe(r,d=>{o=d,s=t.now(),i||(i=t.schedule(l,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function Br(n){return ie((t,e)=>{let r=!1;t.subscribe(oe(e,i=>{r=!0,e.next(i)},()=>{r||e.next(n),e.complete()}))})}function Bt(n){return n<=0?()=>Tt:ie((t,e)=>{let r=0;t.subscribe(oe(e,i=>{++r<=n&&(e.next(i),n<=r&&e.complete())}))})}function $l(n=BD){return ie((t,e)=>{let r=!1;t.subscribe(oe(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(n())))})}function BD(){return new ir}function or(n){return ie((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function sr(n,t){let e=arguments.length>=2;return r=>r.pipe(n?yt((i,o)=>n(i,o,r)):Ut,Bt(1),e?Br(t):$l(()=>new ir))}function Io(n){return n<=0?()=>Tt:ie((t,e)=>{let r=[];t.subscribe(oe(e,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function Af(n,t){let e=arguments.length>=2;return r=>r.pipe(n?yt((i,o)=>n(i,o,r)):Ut,Io(1),e?Br(t):$l(()=>new ir))}function kf(n,t){return ie(C0(n,t,arguments.length>=2,!0))}function Of(n={}){let{connector:t=()=>new xe,resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,l,d=0,h=!1,p=!1,v=()=>{a?.unsubscribe(),a=void 0},g=()=>{v(),s=l=void 0,h=p=!1},b=()=>{let w=s;g(),w?.unsubscribe()};return ie((w,C)=>{d++,!p&&!h&&v();let k=l=l??t();C.add(()=>{d--,d===0&&!p&&!h&&(a=Nf(b,i))}),k.subscribe(C),!s&&d>0&&(s=new rr({next:L=>k.next(L),error:L=>{p=!0,v(),a=Nf(g,e,L),k.error(L)},complete:()=>{h=!0,v(),a=Nf(g,r),k.complete()}}),ke(w).subscribe(s))})(o)}}function Nf(n,t,...e){if(t===!0){n();return}if(t===!1)return;let r=new rr({next:()=>{r.unsubscribe(),n()}});return ke(t(...e)).subscribe(r)}function Rf(n){return yt((t,e)=>n<=e)}function ks(...n){let t=Lr(n);return ie((e,r)=>{(t?jr(n,e,t):jr(n,e)).subscribe(r)})}function $t(n,t){return ie((e,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();e.subscribe(oe(r,l=>{i?.unsubscribe();let d=0,h=o++;ke(n(l,h)).subscribe(i=oe(r,p=>r.next(t?t(l,p,h,d++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Ns(n){return ie((t,e)=>{ke(n).subscribe(oe(e,()=>e.complete(),xs)),!e.closed&&t.subscribe(e)})}function Pe(n,t,e){let r=Y(n)||t||e?{next:n,error:t,complete:e}:n;return r?ie((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(oe(o,l=>{var d;(d=r.next)===null||d===void 0||d.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var d;a=!1,(d=r.error)===null||d===void 0||d.call(r,l),o.error(l)},()=>{var l,d;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):Ut}var cy="https://g.co/ng/security#xss",A=class extends Error{code;constructor(t,e){super(Mc(t,e)),this.code=t}};function Mc(n,t){return`${`NG0${Math.abs(n)}`}${t?": "+t:""}`}var uy=Symbol("InputSignalNode#UNSET"),$D=q(N({},gf),{transformFn:void 0,applyValueToInputSignal(n,t){gl(n,t)}});function dy(n,t){let e=Object.create($D);e.value=n,e.transformFn=t?.transform;function r(){if(hl(e),e.value===uy)throw new A(-950,!1);return e.value}return r[It]=e,r}function Ws(n){return{toString:n}.toString()}var Hl="__parameters__";function HD(n){return function(...e){if(n){let r=n(...e);for(let i in r)this[i]=r[i]}}}function fy(n,t,e){return Ws(()=>{let r=HD(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,d,h){let p=l.hasOwnProperty(Hl)?l[Hl]:Object.defineProperty(l,Hl,{value:[]})[Hl];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),l}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var ar=globalThis;function Ce(n){for(let t in n)if(n[t]===Ce)return t;throw Error("Could not find renamed property on target object.")}function qD(n,t){for(let e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function bt(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(bt).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let t=n.toString();if(t==null)return""+t;let e=t.indexOf(`
`);return e===-1?t:t.substring(0,e)}function Wf(n,t){return n==null||n===""?t===null?"":t:t==null||t===""?n:n+" "+t}var zD=Ce({__forward_ref__:Ce});function pt(n){return n.__forward_ref__=pt,n.toString=function(){return bt(this())},n}function _t(n){return hy(n)?n():n}function hy(n){return typeof n=="function"&&n.hasOwnProperty(zD)&&n.__forward_ref__===pt}function O(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ze(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ac(n){return S0(n,my)||S0(n,gy)}function py(n){return Ac(n)!==null}function S0(n,t){return n.hasOwnProperty(t)?n[t]:null}function GD(n){let t=n&&(n[my]||n[gy]);return t||null}function D0(n){return n&&(n.hasOwnProperty(I0)||n.hasOwnProperty(WD))?n[I0]:null}var my=Ce({\u0275prov:Ce}),I0=Ce({\u0275inj:Ce}),gy=Ce({ngInjectableDef:Ce}),WD=Ce({ngInjectorDef:Ce}),V=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,e){this._desc=t,this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=O({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function vy(n){return n&&!!n.\u0275providers}var QD=Ce({\u0275cmp:Ce}),KD=Ce({\u0275dir:Ce}),ZD=Ce({\u0275pipe:Ce}),YD=Ce({\u0275mod:Ce}),nc=Ce({\u0275fac:Ce}),Fs=Ce({__NG_ELEMENT_ID__:Ce}),T0=Ce({__NG_ENV_ID__:Ce});function lr(n){return typeof n=="string"?n:n==null?"":String(n)}function JD(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():lr(n)}function XD(n,t){let e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new A(-200,n)}function Yh(n,t){throw new A(-201,!1)}var te=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(te||{}),Qf;function yy(){return Qf}function Mt(n){let t=Qf;return Qf=n,t}function _y(n,t,e){let r=Ac(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(e&te.Optional)return null;if(t!==void 0)return t;Yh(n,"Injector")}var e1={},Ls=e1,Kf="__NG_DI_FLAG__",rc="ngTempTokenPath",t1="ngTokenPath",n1=/\n/gm,r1="\u0275",x0="__source",ko;function i1(){return ko}function $r(n){let t=ko;return ko=n,t}function o1(n,t=te.Default){if(ko===void 0)throw new A(-203,!1);return ko===null?_y(n,void 0,t):ko.get(n,t&te.Optional?null:void 0,t)}function P(n,t=te.Default){return(yy()||o1)(_t(n),t)}function I(n,t=te.Default){return P(n,kc(t))}function kc(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Zf(n){let t=[];for(let e=0;e<n.length;e++){let r=_t(n[e]);if(Array.isArray(r)){if(r.length===0)throw new A(900,!1);let i,o=te.Default;for(let s=0;s<r.length;s++){let a=r[s],l=s1(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}t.push(P(i,o))}else t.push(P(r))}return t}function by(n,t){return n[Kf]=t,n.prototype[Kf]=t,n}function s1(n){return n[Kf]}function a1(n,t,e,r){let i=n[rc];throw t[x0]&&i.unshift(t[x0]),n.message=l1(`
`+n.message,i,e,r),n[t1]=i,n[rc]=null,n}function l1(n,t,e,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==r1?n.slice(2):n;let i=bt(t);if(Array.isArray(t))i=t.map(bt).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):bt(a)))}i=`{${o.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${n.replace(n1,`
  `)}`}var Jh=by(fy("Optional"),8);var wy=by(fy("SkipSelf"),4);function Di(n,t){let e=n.hasOwnProperty(nc);return e?n[nc]:null}function c1(n,t,e){if(n.length!==t.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=t[r];if(e&&(i=e(i),o=e(o)),o!==i)return!1}return!0}function u1(n){return n.flat(Number.POSITIVE_INFINITY)}function Xh(n,t){n.forEach(e=>Array.isArray(e)?Xh(e,t):t(e))}function Ey(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function ic(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function d1(n,t){let e=[];for(let r=0;r<n;r++)e.push(t);return e}function f1(n,t,e,r){let i=n.length;if(i==t)n.push(e,r);else if(i===1)n.push(r,n[0]),n[0]=e;else{for(i--,n.push(n[i-1],n[i]);i>t;){let o=i-2;n[i]=n[o],i--}n[t]=e,n[t+1]=r}}function ep(n,t,e){let r=Qs(n,t);return r>=0?n[r|1]=e:(r=~r,f1(n,r,t,e)),r}function Pf(n,t){let e=Qs(n,t);if(e>=0)return n[e|1]}function Qs(n,t){return h1(n,t,1)}function h1(n,t,e){let r=0,i=n.length>>e;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<e];if(t===s)return o<<e;s>t?i=o:r=o+1}return~(i<<e)}var Oo={},At=[],Ro=new V(""),Cy=new V("",-1),Sy=new V(""),oc=class{get(t,e=Ls){if(e===Ls){let r=new Error(`NullInjectorError: No provider for ${bt(t)}!`);throw r.name="NullInjectorError",r}return e}};function Dy(n,t){let e=n[YD]||null;if(!e&&t===!0)throw new Error(`Type ${bt(n)} does not have '\u0275mod' property.`);return e}function Ii(n){return n[QD]||null}function Iy(n){return n[KD]||null}function Ty(n){return n[ZD]||null}function xy(n){let t=Ii(n)||Iy(n)||Ty(n);return t!==null&&t.standalone}function Bo(n){return{\u0275providers:n}}function p1(...n){return{\u0275providers:My(!0,n),\u0275fromNgModule:!0}}function My(n,...t){let e=[],r=new Set,i,o=s=>{e.push(s)};return Xh(t,s=>{let a=s;Yf(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Ay(i,o),e}function Ay(n,t){for(let e=0;e<n.length;e++){let{ngModule:r,providers:i}=n[e];tp(i,o=>{t(o,r)})}}function Yf(n,t,e,r){if(n=_t(n),!n)return!1;let i=null,o=D0(n),s=!o&&Ii(n);if(!o&&!s){let l=n.ngModule;if(o=D0(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let d of l)Yf(d,t,e,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let d;try{Xh(o.imports,h=>{Yf(h,t,e,r)&&(d||=[],d.push(h))})}finally{}d!==void 0&&Ay(d,t)}if(!a){let d=Di(i)||(()=>new i);t({provide:i,useFactory:d,deps:At},i),t({provide:Sy,useValue:i,multi:!0},i),t({provide:Ro,useValue:()=>P(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let d=n;tp(l,h=>{t(h,d)})}}else return!1;return i!==n&&n.providers!==void 0}function tp(n,t){for(let e of n)vy(e)&&(e=e.\u0275providers),Array.isArray(e)?tp(e,t):t(e)}var m1=Ce({provide:String,useValue:Ce});function ky(n){return n!==null&&typeof n=="object"&&m1 in n}function g1(n){return!!(n&&n.useExisting)}function v1(n){return!!(n&&n.useFactory)}function Po(n){return typeof n=="function"}function y1(n){return!!n.useClass}var Nc=new V(""),Kl={},_1={},Ff;function np(){return Ff===void 0&&(Ff=new oc),Ff}var kt=class{},Vs=class extends kt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,e,r,i){super(),this.parent=e,this.source=r,this.scopes=i,Xf(t,s=>this.processProvider(s)),this.records.set(Cy,To(void 0,this)),i.has("environment")&&this.records.set(kt,To(void 0,this));let o=this.records.get(Nc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Sy,At,te.Self))}destroy(){Rs(this),this._destroyed=!0;let t=he(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of e)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),he(t)}}onDestroy(t){return Rs(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Rs(this);let e=$r(this),r=Mt(void 0),i;try{return t()}finally{$r(e),Mt(r)}}get(t,e=Ls,r=te.Default){if(Rs(this),t.hasOwnProperty(T0))return t[T0](this);r=kc(r);let i,o=$r(this),s=Mt(void 0);try{if(!(r&te.SkipSelf)){let l=this.records.get(t);if(l===void 0){let d=S1(t)&&Ac(t);d&&this.injectableDefInScope(d)?l=To(Jf(t),Kl):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l)}let a=r&te.Self?np():this.parent;return e=r&te.Optional&&e===Ls?null:e,a.get(t,e)}catch(a){if(a.name==="NullInjectorError"){if((a[rc]=a[rc]||[]).unshift(bt(t)),o)throw a;return a1(a,t,"R3InjectorError",this.source)}else throw a}finally{Mt(s),$r(o)}}resolveInjectorInitializers(){let t=he(null),e=$r(this),r=Mt(void 0),i;try{let o=this.get(Ro,At,te.Self);for(let s of o)s()}finally{$r(e),Mt(r),he(t)}}toString(){let t=[],e=this.records;for(let r of e.keys())t.push(bt(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=_t(t);let e=Po(t)?t:_t(t&&t.provide),r=w1(t);if(!Po(t)&&t.multi===!0){let i=this.records.get(e);i||(i=To(void 0,Kl,!0),i.factory=()=>Zf(i.multi),this.records.set(e,i)),e=t,i.multi.push(t)}this.records.set(e,r)}hydrate(t,e){let r=he(null);try{return e.value===Kl&&(e.value=_1,e.value=e.factory()),typeof e.value=="object"&&e.value&&C1(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{he(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;let e=_t(t.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){let e=this._onDestroyHooks.indexOf(t);e!==-1&&this._onDestroyHooks.splice(e,1)}};function Jf(n){let t=Ac(n),e=t!==null?t.factory:Di(n);if(e!==null)return e;if(n instanceof V)throw new A(204,!1);if(n instanceof Function)return b1(n);throw new A(204,!1)}function b1(n){if(n.length>0)throw new A(204,!1);let e=GD(n);return e!==null?()=>e.factory(n):()=>new n}function w1(n){if(ky(n))return To(void 0,n.useValue);{let t=Ny(n);return To(t,Kl)}}function Ny(n,t,e){let r;if(Po(n)){let i=_t(n);return Di(i)||Jf(i)}else if(ky(n))r=()=>_t(n.useValue);else if(v1(n))r=()=>n.useFactory(...Zf(n.deps||[]));else if(g1(n))r=()=>P(_t(n.useExisting));else{let i=_t(n&&(n.useClass||n.provide));if(E1(n))r=()=>new i(...Zf(n.deps));else return Di(i)||Jf(i)}return r}function Rs(n){if(n.destroyed)throw new A(205,!1)}function To(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function E1(n){return!!n.deps}function C1(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function S1(n){return typeof n=="function"||typeof n=="object"&&n instanceof V}function Xf(n,t){for(let e of n)Array.isArray(e)?Xf(e,t):e&&vy(e)?Xf(e.\u0275providers,t):t(e)}function it(n,t){n instanceof Vs&&Rs(n);let e,r=$r(n),i=Mt(void 0);try{return t()}finally{$r(r),Mt(i)}}function Oy(){return yy()!==void 0||i1()!=null}function rp(n){if(!Oy())throw new A(-203,!1)}function D1(n){return typeof n=="function"}var gr=0,se=1,Z=2,ht=3,Cn=4,Ot=5,js=6,sc=7,sn=8,Us=9,cr=10,Oe=11,Bs=12,M0=13,$o=14,an=15,Ti=16,xo=17,ur=18,Oc=19,Ry=20,Hr=21,Zl=22,xi=23,Ht=24,wt=25,Py=1;var Mi=7,ac=8,Fo=9,qt=10;function qr(n){return Array.isArray(n)&&typeof n[Py]=="object"}function vr(n){return Array.isArray(n)&&n[Py]===!0}function ip(n){return(n.flags&4)!==0}function Pi(n){return n.componentOffset>-1}function Rc(n){return(n.flags&1)===1}function dr(n){return!!n.template}function lc(n){return(n[Z]&512)!==0}function Ks(n){return(n[Z]&256)===256}var eh=class{previousValue;currentValue;firstChange;constructor(t,e,r){this.previousValue=t,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}};function Fy(n,t,e,r){t!==null?t.applyValueToInputSignal(t,r):n[e]=r}var ln=(()=>{let n=()=>Ly;return n.ngInherit=!0,n})();function Ly(n){return n.type.prototype.ngOnChanges&&(n.setInput=T1),I1}function I1(){let n=jy(this),t=n?.current;if(t){let e=n.previous;if(e===Oo)n.previous=t;else for(let r in t)e[r]=t[r];n.current=null,this.ngOnChanges(t)}}function T1(n,t,e,r,i){let o=this.declaredInputs[r],s=jy(n)||x1(n,{previous:Oo,current:null}),a=s.current||(s.current={}),l=s.previous,d=l[o];a[o]=new eh(d&&d.currentValue,e,l===Oo),Fy(n,t,i,e)}var Vy="__ngSimpleChanges__";function jy(n){return n[Vy]||null}function x1(n,t){return n[Vy]=t}var A0=null;var on=function(n,t,e){A0?.(n,t,e)},M1="svg",A1="math";function Vn(n){for(;Array.isArray(n);)n=n[gr];return n}function Uy(n,t){return Vn(t[n])}function Sn(n,t){return Vn(t[n.index])}function By(n,t){return n.data[t]}function $y(n,t){return n[t]}function jn(n,t){let e=t[n];return qr(e)?e:e[gr]}function k1(n){return(n[Z]&4)===4}function op(n){return(n[Z]&128)===128}function N1(n){return vr(n[ht])}function Lo(n,t){return t==null?null:n[t]}function Hy(n){n[xo]=0}function sp(n){n[Z]&1024||(n[Z]|=1024,op(n)&&Zs(n))}function O1(n,t){for(;n>0;)t=t[$o],n--;return t}function Pc(n){return!!(n[Z]&9216||n[Ht]?.dirty)}function th(n){n[cr].changeDetectionScheduler?.notify(9),n[Z]&64&&(n[Z]|=1024),Pc(n)&&Zs(n)}function Zs(n){n[cr].changeDetectionScheduler?.notify(0);let t=Ai(n);for(;t!==null&&!(t[Z]&8192||(t[Z]|=8192,!op(t)));)t=Ai(t)}function qy(n,t){if(Ks(n))throw new A(911,!1);n[Hr]===null&&(n[Hr]=[]),n[Hr].push(t)}function R1(n,t){if(n[Hr]===null)return;let e=n[Hr].indexOf(t);e!==-1&&n[Hr].splice(e,1)}function Ai(n){let t=n[ht];return vr(t)?t[ht]:t}function zy(n){return n[sc]??=[]}function Gy(n){return n.cleanup??=[]}function P1(n,t,e,r){let i=zy(t);i.push(e),n.firstCreatePass&&Gy(n).push(r,i.length-1)}var ee={lFrame:t_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var nh=!1;function F1(){return ee.lFrame.elementDepthCount}function L1(){ee.lFrame.elementDepthCount++}function V1(){ee.lFrame.elementDepthCount--}function Wy(){return ee.bindingsEnabled}function Qy(){return ee.skipHydrationRootTNode!==null}function j1(n){return ee.skipHydrationRootTNode===n}function U1(){ee.skipHydrationRootTNode=null}function ne(){return ee.lFrame.lView}function Ve(){return ee.lFrame.tView}function x(n){return ee.lFrame.contextLView=n,n[sn]}function M(n){return ee.lFrame.contextLView=null,n}function Et(){let n=Ky();for(;n!==null&&n.type===64;)n=n.parent;return n}function Ky(){return ee.lFrame.currentTNode}function B1(){let n=ee.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}function Fi(n,t){let e=ee.lFrame;e.currentTNode=n,e.isParent=t}function ap(){return ee.lFrame.isParent}function lp(){ee.lFrame.isParent=!1}function $1(){return ee.lFrame.contextLView}function Zy(){return nh}function cc(n){let t=nh;return nh=n,t}function cp(){let n=ee.lFrame,t=n.bindingRootIndex;return t===-1&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function Yy(){return ee.lFrame.bindingIndex}function H1(n){return ee.lFrame.bindingIndex=n}function Fc(){return ee.lFrame.bindingIndex++}function Lc(n){let t=ee.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function q1(){return ee.lFrame.inI18n}function z1(n,t){let e=ee.lFrame;e.bindingIndex=e.bindingRootIndex=n,rh(t)}function G1(){return ee.lFrame.currentDirectiveIndex}function rh(n){ee.lFrame.currentDirectiveIndex=n}function W1(n){let t=ee.lFrame.currentDirectiveIndex;return t===-1?null:n[t]}function Jy(){return ee.lFrame.currentQueryIndex}function up(n){ee.lFrame.currentQueryIndex=n}function Q1(n){let t=n[se];return t.type===2?t.declTNode:t.type===1?n[Ot]:null}function Xy(n,t,e){if(e&te.SkipSelf){let i=t,o=n;for(;i=i.parent,i===null&&!(e&te.Host);)if(i=Q1(o),i===null||(o=o[$o],i.type&10))break;if(i===null)return!1;t=i,n=o}let r=ee.lFrame=e_();return r.currentTNode=t,r.lView=n,!0}function dp(n){let t=e_(),e=n[se];ee.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function e_(){let n=ee.lFrame,t=n===null?null:n.child;return t===null?t_(n):t}function t_(n){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=t),t}function n_(){let n=ee.lFrame;return ee.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var r_=n_;function fp(){let n=n_();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function K1(n){return(ee.lFrame.contextLView=O1(n,ee.lFrame.contextLView))[sn]}function yr(){return ee.lFrame.selectedIndex}function ki(n){ee.lFrame.selectedIndex=n}function Vc(){let n=ee.lFrame;return By(n.tView,n.selectedIndex)}function Z1(){return ee.lFrame.currentNamespace}var i_=!0;function jc(){return i_}function Uc(n){i_=n}function Y1(n,t,e){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=Ly(t);(e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s)}i&&(e.preOrderHooks??=[]).push(0-n,i),o&&((e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o))}function Bc(n,t){for(let e=t.directiveStart,r=t.directiveEnd;e<r;e++){let o=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:d,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-e,s),a&&((n.contentHooks??=[]).push(e,a),(n.contentCheckHooks??=[]).push(e,a)),l&&(n.viewHooks??=[]).push(-e,l),d&&((n.viewHooks??=[]).push(e,d),(n.viewCheckHooks??=[]).push(e,d)),h!=null&&(n.destroyHooks??=[]).push(e,h)}}function Yl(n,t,e){o_(n,t,3,e)}function Jl(n,t,e,r){(n[Z]&3)===e&&o_(n,t,e,r)}function Lf(n,t){let e=n[Z];(e&3)===t&&(e&=16383,e+=1,n[Z]=e)}function o_(n,t,e,r){let i=r!==void 0?n[xo]&65535:0,o=r??-1,s=t.length-1,a=0;for(let l=i;l<s;l++)if(typeof t[l+1]=="number"){if(a=t[l],r!=null&&a>=r)break}else t[l]<0&&(n[xo]+=65536),(a<o||o==-1)&&(J1(n,e,t,l),n[xo]=(n[xo]&4294901760)+l+2),l++}function k0(n,t){on(4,n,t);let e=he(null);try{t.call(n)}finally{he(e),on(5,n,t)}}function J1(n,t,e,r){let i=e[r]<0,o=e[r+1],s=i?-e[r]:e[r],a=n[s];i?n[Z]>>14<n[xo]>>16&&(n[Z]&3)===t&&(n[Z]+=16384,k0(a,o)):k0(a,o)}var No=-1,Ni=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,e,r){this.factory=t,this.canSeeViewProviders=e,this.injectImpl=r}};function X1(n){return n instanceof Ni}function eI(n){return(n.flags&8)!==0}function tI(n){return(n.flags&16)!==0}function nI(n,t,e){let r=0;for(;r<e.length;){let i=e[r];if(typeof i=="number"){if(i!==0)break;r++;let o=e[r++],s=e[r++],a=e[r++];n.setAttribute(t,s,a,o)}else{let o=i,s=e[++r];rI(o)?n.setProperty(t,o,s):n.setAttribute(t,o,s),r++}}return r}function s_(n){return n===3||n===4||n===6}function rI(n){return n.charCodeAt(0)===64}function Vo(n,t){if(!(t===null||t.length===0))if(n===null||n.length===0)n=t.slice();else{let e=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?e=i:e===0||(e===-1||e===2?N0(n,e,i,null,t[++r]):N0(n,e,i,null,null))}}return n}function N0(n,t,e,r,i){let o=0,s=n.length;if(t===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===e){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,t),o=s+1),n.splice(o++,0,e),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}var Vf={},ih=class{injector;parentInjector;constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,r){r=kc(r);let i=this.injector.get(t,Vf,r);return i!==Vf||e===Vf?i:this.parentInjector.get(t,e,r)}};function a_(n){return n!==No}function uc(n){return n&32767}function iI(n){return n>>16}function dc(n,t){let e=iI(n),r=t;for(;e>0;)r=r[$o],e--;return r}var oh=!0;function fc(n){let t=oh;return oh=n,t}var oI=256,l_=oI-1,c_=5,sI=0,Ln={};function aI(n,t,e){let r;typeof e=="string"?r=e.charCodeAt(0)||0:e.hasOwnProperty(Fs)&&(r=e[Fs]),r==null&&(r=e[Fs]=sI++);let i=r&l_,o=1<<i;t.data[n+(i>>c_)]|=o}function hc(n,t){let e=u_(n,t);if(e!==-1)return e;let r=t[se];r.firstCreatePass&&(n.injectorIndex=t.length,jf(r.data,n),jf(t,null),jf(r.blueprint,null));let i=hp(n,t),o=n.injectorIndex;if(a_(i)){let s=uc(i),a=dc(i,t),l=a[se].data;for(let d=0;d<8;d++)t[o+d]=a[s+d]|l[s+d]}return t[o+8]=i,o}function jf(n,t){n.push(0,0,0,0,0,0,0,0,t)}function u_(n,t){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||t[n.injectorIndex+8]===null?-1:n.injectorIndex}function hp(n,t){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let e=0,r=null,i=t;for(;i!==null;){if(r=m_(i),r===null)return No;if(e++,i=i[$o],r.injectorIndex!==-1)return r.injectorIndex|e<<16}return No}function sh(n,t,e){aI(n,t,e)}function lI(n,t){if(t==="class")return n.classes;if(t==="style")return n.styles;let e=n.attrs;if(e){let r=e.length,i=0;for(;i<r;){let o=e[i];if(s_(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof e[i]=="string";)i++;else{if(o===t)return e[i+1];i=i+2}}}return null}function d_(n,t,e){if(e&te.Optional||n!==void 0)return n;Yh(t,"NodeInjector")}function f_(n,t,e,r){if(e&te.Optional&&r===void 0&&(r=null),!(e&(te.Self|te.Host))){let i=n[Us],o=Mt(void 0);try{return i?i.get(t,r,e&te.Optional):_y(t,r,e&te.Optional)}finally{Mt(o)}}return d_(r,t,e)}function h_(n,t,e,r=te.Default,i){if(n!==null){if(t[Z]&2048&&!(r&te.Self)){let s=fI(n,t,e,r,Ln);if(s!==Ln)return s}let o=p_(n,t,e,r,Ln);if(o!==Ln)return o}return f_(t,e,r,i)}function p_(n,t,e,r,i){let o=uI(e);if(typeof o=="function"){if(!Xy(t,n,r))return r&te.Host?d_(i,e,r):f_(t,e,r,i);try{let s;if(s=o(r),s==null&&!(r&te.Optional))Yh(e);else return s}finally{r_()}}else if(typeof o=="number"){let s=null,a=u_(n,t),l=No,d=r&te.Host?t[an][Ot]:null;for((a===-1||r&te.SkipSelf)&&(l=a===-1?hp(n,t):t[a+8],l===No||!R0(r,!1)?a=-1:(s=t[se],a=uc(l),t=dc(l,t)));a!==-1;){let h=t[se];if(O0(o,a,h.data)){let p=cI(a,t,e,s,r,d);if(p!==Ln)return p}l=t[a+8],l!==No&&R0(r,t[se].data[a+8]===d)&&O0(o,a,t)?(s=h,a=uc(l),t=dc(l,t)):a=-1}}return i}function cI(n,t,e,r,i,o){let s=t[se],a=s.data[n+8],l=r==null?Pi(a)&&oh:r!=s&&(a.type&3)!==0,d=i&te.Host&&o===a,h=Xl(a,s,e,l,d);return h!==null?$s(t,s,h,a):Ln}function Xl(n,t,e,r,i){let o=n.providerIndexes,s=t.data,a=o&1048575,l=n.directiveStart,d=n.directiveEnd,h=o>>20,p=r?a:a+h,v=i?a+h:d;for(let g=p;g<v;g++){let b=s[g];if(g<l&&e===b||g>=l&&b.type===e)return g}if(i){let g=s[l];if(g&&dr(g)&&g.type===e)return l}return null}function $s(n,t,e,r){let i=n[e],o=t.data;if(X1(i)){let s=i;s.resolving&&XD(JD(o[e]));let a=fc(s.canSeeViewProviders);s.resolving=!0;let l,d=s.injectImpl?Mt(s.injectImpl):null,h=Xy(n,r,te.Default);try{i=n[e]=s.factory(void 0,o,n,r),t.firstCreatePass&&e>=r.directiveStart&&Y1(e,o[e],t)}finally{d!==null&&Mt(d),fc(a),s.resolving=!1,r_()}}return i}function uI(n){if(typeof n=="string")return n.charCodeAt(0)||0;let t=n.hasOwnProperty(Fs)?n[Fs]:void 0;return typeof t=="number"?t>=0?t&l_:dI:t}function O0(n,t,e){let r=1<<n;return!!(e[t+(n>>c_)]&r)}function R0(n,t){return!(n&te.Self)&&!(n&te.Host&&t)}var Si=class{_tNode;_lView;constructor(t,e){this._tNode=t,this._lView=e}get(t,e,r){return h_(this._tNode,this._lView,t,kc(r),e)}};function dI(){return new Si(Et(),ne())}function cn(n){return Ws(()=>{let t=n.prototype.constructor,e=t[nc]||ah(t),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[nc]||ah(i);if(o&&o!==e)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function ah(n){return hy(n)?()=>{let t=ah(_t(n));return t&&t()}:Di(n)}function fI(n,t,e,r,i){let o=n,s=t;for(;o!==null&&s!==null&&s[Z]&2048&&!lc(s);){let a=p_(o,s,e,r|te.Self,Ln);if(a!==Ln)return a;let l=o.parent;if(!l){let d=s[Ry];if(d){let h=d.get(e,Ln,r);if(h!==Ln)return h}l=m_(s),s=s[$o]}o=l}return i}function m_(n){let t=n[se],e=t.type;return e===2?t.declTNode:e===1?n[Ot]:null}function $c(n){return lI(Et(),n)}function P0(n,t=null,e=null,r){let i=g_(n,t,e,r);return i.resolveInjectorInitializers(),i}function g_(n,t=null,e=null,r,i=new Set){let o=[e||At,p1(n)];return r=r||(typeof n=="object"?void 0:bt(n)),new Vs(o,t||np(),r||null,i)}var Le=class n{static THROW_IF_NOT_FOUND=Ls;static NULL=new oc;static create(t,e){if(Array.isArray(t))return P0({name:""},e,t,"");{let r=t.name??"";return P0({name:r},t.parent,t.providers,r)}}static \u0275prov=O({token:n,providedIn:"any",factory:()=>P(Cy)});static __NG_ELEMENT_ID__=-1};var pc=class{attributeName;constructor(t){this.attributeName=t}__NG_ELEMENT_ID__=()=>$c(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},hI=new V("");hI.__NG_ELEMENT_ID__=n=>{let t=Et();if(t===null)throw new A(204,!1);if(t.type&2)return t.value;if(n&te.Optional)return null;throw new A(204,!1)};var v_=!1,Li=(()=>{class n{static __NG_ELEMENT_ID__=pI;static __NG_ENV_ID__=e=>e}return n})(),mc=class extends Li{_lView;constructor(t){super(),this._lView=t}onDestroy(t){return qy(this._lView,t),()=>R1(this._lView,t)}};function pI(){return new mc(ne())}var zr=class{},Hc=new V("",{providedIn:"root",factory:()=>!1});var y_=new V(""),pp=new V(""),_r=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new rt(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=O({token:n,providedIn:"root",factory:()=>new n})}return n})();var lh=class extends xe{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,Oy()&&(this.destroyRef=I(Li,{optional:!0})??void 0,this.pendingTasks=I(_r,{optional:!0})??void 0)}emit(t){let e=he(null);try{super.next(t)}finally{he(e)}}subscribe(t,e,r){let i=t,o=e||(()=>null),s=r;if(t&&typeof t=="object"){let l=t;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof Te&&t.add(a),a}wrapInTimeout(t){return e=>{let r=this.pendingTasks?.add();setTimeout(()=>{t(e),r!==void 0&&this.pendingTasks?.remove(r)})}}},ve=lh;function Hs(...n){}function __(n){let t,e;function r(){n=Hs;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{n(),r()})),()=>r()}function F0(n){return queueMicrotask(()=>n()),()=>{n=Hs}}var mp="isAngularZone",gc=mp+"_ID",mI=0,Ee=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ve(!1);onMicrotaskEmpty=new ve(!1);onStable=new ve(!1);onError=new ve(!1);constructor(t){let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=v_}=t;if(typeof Zone>"u")throw new A(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,yI(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(mp)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new A(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new A(909,!1)}run(t,e,r){return this._inner.run(t,e,r)}runTask(t,e,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,gI,Hs,Hs);try{return o.runTask(s,e,r)}finally{o.cancelTask(s)}}runGuarded(t,e,r){return this._inner.runGuarded(t,e,r)}runOutsideAngular(t){return this._outer.run(t)}},gI={};function gp(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function vI(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function t(){__(()=>{n.callbackScheduled=!1,ch(n),n.isCheckStableRunning=!0,gp(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{t()}):n._outer.run(()=>{t()}),ch(n)}function yI(n){let t=()=>{vI(n)},e=mI++;n._inner=n._inner.fork({name:"angular",properties:{[mp]:!0,[gc]:e,[gc+e]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(_I(l))return r.invokeTask(o,s,a,l);try{return L0(n),r.invokeTask(o,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&t(),V0(n)}},onInvoke:(r,i,o,s,a,l,d)=>{try{return L0(n),r.invoke(o,s,a,l,d)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!bI(l)&&t(),V0(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,ch(n),gp(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function ch(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function L0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function V0(n){n._nesting--,gp(n)}var vc=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ve;onMicrotaskEmpty=new ve;onStable=new ve;onError=new ve;run(t,e,r){return t.apply(e,r)}runGuarded(t,e,r){return t.apply(e,r)}runOutsideAngular(t){return t()}runTask(t,e,r,i){return t.apply(e,r)}};function _I(n){return b_(n,"__ignore_ng_zone__")}function bI(n){return b_(n,"__scheduler_tick__")}function b_(n,t){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[t]===!0}var Nt=class{_console=console;handleError(t){this._console.error("ERROR",t)}},wI=new V("",{providedIn:"root",factory:()=>{let n=I(Ee),t=I(Nt);return e=>n.runOutsideAngular(()=>t.handleError(e))}});function j0(n,t){return dy(n,t)}function EI(n){return dy(uy,n)}var w_=(j0.required=EI,j0);function CI(){return Ho(Et(),ne())}function Ho(n,t){return new Ye(Sn(n,t))}var Ye=(()=>{class n{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=CI}return n})();function SI(n){return n instanceof Ye?n.nativeElement:n}var U0=new Set;function Dn(n){U0.has(n)||(U0.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function vp(n){return typeof n=="function"&&n[It]!==void 0}function zt(n,t){Dn("NgSignals");let e=Zv(n),r=e[It];return t?.equal&&(r.equal=t.equal),e.set=i=>gl(r,i),e.update=i=>Yv(r,i),e.asReadonly=DI.bind(e),e}function DI(){let n=this[It];if(n.readonlyFn===void 0){let t=()=>this();t[It]=n,n.readonlyFn=t}return n.readonlyFn}function E_(n){return vp(n)&&typeof n.set=="function"}function II(){return this._results[Symbol.iterator]()}var yc=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new xe}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;let r=u1(t);(this._changesDetected=!c1(this._results,r,e))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=II};function C_(n){return(n.flags&128)===128}var S_=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(S_||{}),D_=new Map,TI=0;function xI(){return TI++}function MI(n){D_.set(n[Oc],n)}function uh(n){D_.delete(n[Oc])}var B0="__ngContext__";function Vi(n,t){qr(t)?(n[B0]=t[Oc],MI(t)):n[B0]=t}function I_(n){return x_(n[Bs])}function T_(n){return x_(n[Cn])}function x_(n){for(;n!==null&&!vr(n);)n=n[Cn];return n}var dh;function M_(n){dh=n}function A_(){if(dh!==void 0)return dh;if(typeof document<"u")return document;throw new A(210,!1)}var Ys=new V("",{providedIn:"root",factory:()=>AI}),AI="ng",yp=new V(""),Ct=new V("",{providedIn:"platform",factory:()=>"unknown"});var qc=new V(""),Js=new V("",{providedIn:"root",factory:()=>A_().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function kI(){let n=new zc;return I(Ct)==="browser"&&(n.store=NI(A_(),I(Ys))),n}var zc=(()=>{class n{static \u0275prov=O({token:n,providedIn:"root",factory:kI});store={};onSerializeCallbacks={};get(e,r){return this.store[e]!==void 0?this.store[e]:r}set(e,r){this.store[e]=r}remove(e){delete this.store[e]}hasKey(e){return this.store.hasOwnProperty(e)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(e,r){this.onSerializeCallbacks[e]=r}toJson(){for(let e in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(e))try{this.store[e]=this.onSerializeCallbacks[e]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return n})();function NI(n,t){let e=n.getElementById(t+"-state");if(e?.textContent)try{return JSON.parse(e.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+t,r)}return{}}var OI="h",RI="b";var k_=!1,PI=new V("",{providedIn:"root",factory:()=>k_});var _p=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(_p||{}),qo=new V("");var Mo=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Mo||{}),N_=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=O({token:n,providedIn:"root",factory:()=>new n})}return n})(),FI=[Mo.EarlyRead,Mo.Write,Mo.MixedReadWrite,Mo.Read],LI=(()=>{class n{ngZone=I(Ee);scheduler=I(zr);errorHandler=I(Nt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){I(qo,{optional:!0})}execute(){this.executing=!0;for(let e of FI)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[e]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>r.hooks[e](r.pipelinedValue),r.snapshot))}catch(i){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(8),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(7))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}maybeTrace(e,r){return r?r.run(_p.AFTER_NEXT_RENDER,e):e()}static \u0275prov=O({token:n,providedIn:"root",factory:()=>new n})}return n})(),fh=class{impl;hooks;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,e,r,i,o=null){this.impl=t,this.hooks=e,this.once=r,this.snapshot=o,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function bp(n,t){!t?.injector&&rp(bp);let e=t?.injector??I(Le);return Dn("NgAfterRender"),jI(n,e,t,!1)}function VI(n,t){if(n instanceof Function){let e=[void 0,void 0,void 0,void 0];return e[t]=n,e}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function jI(n,t,e,r){let i=t.get(N_);i.impl??=t.get(LI);let o=t.get(qo,null,{optional:!0}),s=e?.phase??Mo.MixedReadWrite,a=e?.manualCleanup!==!0?t.get(Li):null,l=new fh(i.impl,VI(n,s),r,a,o?.snapshot(null));return i.impl.register(l),l}var UI=()=>null;function O_(n,t,e=!1){return UI(n,t,e)}function R_(n,t){let e=n.contentQueries;if(e!==null){let r=he(null);try{for(let i=0;i<e.length;i+=2){let o=e[i],s=e[i+1];if(s!==-1){let a=n.data[s];up(o),a.contentQueries(2,t[s],s)}}}finally{he(r)}}}function hh(n,t,e){up(0);let r=he(null);try{t(n,e)}finally{he(r)}}function wp(n,t,e){if(ip(t)){let r=he(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let l=e[s];a.contentQueries(1,l,s)}}}finally{he(r)}}}var Un=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Un||{}),ql;function BI(){if(ql===void 0&&(ql=null,ar.trustedTypes))try{ql=ar.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return ql}function Gc(n){return BI()?.createHTML(n)||n}var zl;function $I(){if(zl===void 0&&(zl=null,ar.trustedTypes))try{zl=ar.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return zl}function $0(n){return $I()?.createScriptURL(n)||n}var fr=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${cy})`}},ph=class extends fr{getTypeName(){return"HTML"}},mh=class extends fr{getTypeName(){return"Style"}},gh=class extends fr{getTypeName(){return"Script"}},vh=class extends fr{getTypeName(){return"URL"}},yh=class extends fr{getTypeName(){return"ResourceURL"}};function In(n){return n instanceof fr?n.changingThisBreaksApplicationSecurity:n}function Zr(n,t){let e=HI(n);if(e!=null&&e!==t){if(e==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${cy})`)}return e===t}function HI(n){return n instanceof fr&&n.getTypeName()||null}function P_(n){return new ph(n)}function F_(n){return new mh(n)}function L_(n){return new gh(n)}function V_(n){return new vh(n)}function j_(n){return new yh(n)}function qI(n){let t=new bh(n);return zI()?new _h(t):t}var _h=class{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{let e=new window.DOMParser().parseFromString(Gc(t),"text/html").body;return e===null?this.inertDocumentHelper.getInertBodyElement(t):(e.firstChild?.remove(),e)}catch{return null}}},bh=class{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){let e=this.inertDocument.createElement("template");return e.innerHTML=Gc(t),e}};function zI(){try{return!!new window.DOMParser().parseFromString(Gc(""),"text/html")}catch{return!1}}var GI=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Wc(n){return n=String(n),n.match(GI)?n:"unsafe:"+n}function br(n){let t={};for(let e of n.split(","))t[e]=!0;return t}function Xs(...n){let t={};for(let e of n)for(let r in e)e.hasOwnProperty(r)&&(t[r]=!0);return t}var U_=br("area,br,col,hr,img,wbr"),B_=br("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$_=br("rp,rt"),WI=Xs($_,B_),QI=Xs(B_,br("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),KI=Xs($_,br("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),H0=Xs(U_,QI,KI,WI),H_=br("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ZI=br("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),YI=br("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),JI=Xs(H_,ZI,YI),XI=br("script,style,template"),wh=class{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let e=t.firstChild,r=!0,i=[];for(;e;){if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild){i.push(e),e=nT(e);continue}for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let o=tT(e);if(o){e=o;break}e=i.pop()}}return this.buf.join("")}startElement(t){let e=q0(t).toLowerCase();if(!H0.hasOwnProperty(e))return this.sanitizedSomething=!0,!XI.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);let r=t.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!JI.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;H_[a]&&(l=Wc(l)),this.buf.push(" ",s,'="',z0(l),'"')}return this.buf.push(">"),!0}endElement(t){let e=q0(t).toLowerCase();H0.hasOwnProperty(e)&&!U_.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(z0(t))}};function eT(n,t){return(n.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function tT(n){let t=n.nextSibling;if(t&&n!==t.previousSibling)throw q_(t);return t}function nT(n){let t=n.firstChild;if(t&&eT(n,t))throw q_(t);return t}function q0(n){let t=n.nodeName;return typeof t=="string"?t:"FORM"}function q_(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var rT=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,iT=/([^\#-~ |!])/g;function z0(n){return n.replace(/&/g,"&amp;").replace(rT,function(t){let e=t.charCodeAt(0),r=t.charCodeAt(1);return"&#"+((e-55296)*1024+(r-56320)+65536)+";"}).replace(iT,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Gl;function z_(n,t){let e=null;try{Gl=Gl||qI(n);let r=t?String(t):"";e=Gl.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=e.innerHTML,e=Gl.getInertBodyElement(r)}while(r!==o);let a=new wh().sanitizeChildren(G0(e)||e);return Gc(a)}finally{if(e){let r=G0(e)||e;for(;r.firstChild;)r.firstChild.remove()}}}function G0(n){return"content"in n&&oT(n)?n.content:null}function oT(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var mt=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(mt||{});function Bn(n){let t=W_();return t?t.sanitize(mt.URL,n)||"":Zr(n,"URL")?In(n):Wc(lr(n))}function sT(n){let t=W_();if(t)return $0(t.sanitize(mt.RESOURCE_URL,n)||"");if(Zr(n,"ResourceURL"))return $0(In(n));throw new A(904,!1)}function aT(n,t){return t==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||t==="href"&&(n==="base"||n==="link")?sT:Bn}function G_(n,t,e){return aT(t,e)(n)}function W_(){let n=ne();return n&&n[cr].sanitizer}var lT=/^>|^->|<!--|-->|--!>|<!-$/g,cT=/(<|>)/g,uT="\u200B$1\u200B";function dT(n){return n.replace(lT,t=>t.replace(cT,uT))}function Q_(n){return n.ownerDocument}function K_(n){return n instanceof Function?n():n}var Gr=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Gr||{});function fT(n,t,e){let r=n.length;for(;;){let i=n.indexOf(t,e);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}e=i+1}}var Z_="ng-template";function hT(n,t,e,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&fT(t[i+1].toLowerCase(),e,0)!==-1)return!0}else if(Ep(n))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===e)return!0}return!1}function Ep(n){return n.type===4&&n.value!==Z_}function pT(n,t,e){let r=n.type===4&&!e?Z_:n.value;return t===r}function mT(n,t,e){let r=4,i=n.attrs,o=i!==null?yT(i):0,s=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!s&&!wn(r)&&!wn(l))return!1;if(s&&wn(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!pT(n,l,e)||l===""&&t.length===1){if(wn(r))return!1;s=!0}}else if(r&8){if(i===null||!hT(n,i,l,e)){if(wn(r))return!1;s=!0}}else{let d=t[++a],h=gT(l,i,Ep(n),e);if(h===-1){if(wn(r))return!1;s=!0;continue}if(d!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&d!==p){if(wn(r))return!1;s=!0}}}}return wn(r)||s}function wn(n){return(n&1)===0}function gT(n,t,e,r){if(t===null)return-1;let i=0;if(r||!e){let o=!1;for(;i<t.length;){let s=t[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return _T(t,n)}function Y_(n,t,e=!1){for(let r=0;r<t.length;r++)if(mT(n,t[r],e))return!0;return!1}function vT(n){let t=n.attrs;if(t!=null){let e=t.indexOf(5);if(!(e&1))return t[e+1]}return null}function yT(n){for(let t=0;t<n.length;t++){let e=n[t];if(s_(e))return t}return n.length}function _T(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){let r=n[e];if(typeof r=="number")return-1;if(r===t)return e;e++}return-1}function bT(n,t){e:for(let e=0;e<t.length;e++){let r=t[e];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function W0(n,t){return n?":not("+t.trim()+")":t}function wT(n){let t=n[0],e=1,r=2,i="",o=!1;for(;e<n.length;){let s=n[e];if(typeof s=="string")if(r&2){let a=n[++e];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!wn(s)&&(t+=W0(o,i),i=""),r=s,o=o||!wn(r);e++}return i!==""&&(t+=W0(o,i)),t}function ET(n){return n.map(wT).join(",")}function CT(n){let t=[],e=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&t.push(o,n[++r]):i===8&&e.push(o);else{if(!wn(i))break;i=o}r++}return e.length&&t.push(1,...e),t}var Rt={};function ST(n,t){return n.createText(t)}function DT(n,t,e){n.setValue(t,e)}function IT(n,t){return n.createComment(dT(t))}function J_(n,t,e){return n.createElement(t,e)}function _c(n,t,e,r,i){n.insertBefore(t,e,r,i)}function X_(n,t,e){n.appendChild(t,e)}function Q0(n,t,e,r,i){r!==null?_c(n,t,e,r,i):X_(n,t,e)}function TT(n,t,e){n.removeChild(null,t,e)}function xT(n,t,e){n.setAttribute(t,"style",e)}function MT(n,t,e){e===""?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function eb(n,t,e){let{mergedAttrs:r,classes:i,styles:o}=e;r!==null&&nI(n,t,r),i!==null&&MT(n,t,i),o!==null&&xT(n,t,o)}function m(n=1){tb(Ve(),ne(),yr()+n,!1)}function tb(n,t,e,r){if(!r)if((t[Z]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Yl(t,o,e)}else{let o=n.preOrderHooks;o!==null&&Jl(t,o,0,e)}ki(e)}function T(n,t=te.Default){let e=ne();if(e===null)return P(n,t);let r=Et();return h_(r,e,_t(n),t)}function nb(n,t,e,r,i,o){let s=he(null);try{let a=null;i&Gr.SignalBased&&(a=t[r][It]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Gr.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(t,o)),n.setInput!==null?n.setInput(t,a,o,e,r):Fy(t,a,r,o)}finally{he(s)}}function Cp(n,t,e,r,i,o,s,a,l,d,h){let p=t.blueprint.slice();return p[gr]=i,p[Z]=r|4|128|8|64|1024,(d!==null||n&&n[Z]&2048)&&(p[Z]|=2048),Hy(p),p[ht]=p[$o]=n,p[sn]=e,p[cr]=s||n&&n[cr],p[Oe]=a||n&&n[Oe],p[Us]=l||n&&n[Us]||null,p[Ot]=o,p[Oc]=xI(),p[js]=h,p[Ry]=d,p[an]=t.type==2?n[an]:p,p}function rb(n,t,e,r){if(e===0)return-1;let i=t.length;for(let o=0;o<e;o++)t.push(r),n.blueprint.push(r),n.data.push(null);return i}function ib(n,t,e,r,i){let o=yr(),s=r&2;try{ki(-1),s&&t.length>wt&&tb(n,t,wt,!1),on(s?2:0,i),e(r,i)}finally{ki(o),on(s?3:1,i)}}function Sp(n,t,e){Wy()&&(Vi(Sn(e,t),t),ob(n,t,e))}function ob(n,t,e){UT(n,t,e),(e.flags&64)===64&&BT(n,t,e)}function Dp(n,t,e=Sn){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?e(t,n):n[s];n[i++]=a}}}function AT(n){let t=n.tView;return t===null||t.incompleteFirstPass?n.tView=Ip(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function Ip(n,t,e,r,i,o,s,a,l,d,h){let p=wt+r,v=p+i,g=kT(p,v),b=typeof d=="function"?d():d;return g[se]={type:n,blueprint:g,template:e,queries:null,viewQuery:a,declTNode:t,data:g.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:b,incompleteFirstPass:!1,ssrId:h}}function kT(n,t){let e=[];for(let r=0;r<t;r++)e.push(r<n?null:Rt);return e}function NT(n,t,e,r){let o=r.get(PI,k_)||e===Un.ShadowDom,s=n.selectRootElement(t,o);return OT(s),s}function OT(n){RT(n)}var RT=()=>null;function K0(n,t,e,r,i){for(let o in t){if(!t.hasOwnProperty(o))continue;let s=t[o];if(s===void 0)continue;r??={};let a,l=Gr.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let d=o;if(i!==null){if(!i.hasOwnProperty(o))continue;d=i[o]}n===0?Z0(r,e,d,a,l):Z0(r,e,d,a)}return r}function Z0(n,t,e,r,i){let o;n.hasOwnProperty(e)?(o=n[e]).push(t,r):o=n[e]=[t,r],i!==void 0&&o.push(i)}function PT(n,t,e){let r=t.directiveStart,i=t.directiveEnd,o=n.data,s=t.attrs,a=[],l=null,d=null;for(let h=r;h<i;h++){let p=o[h],v=e?e.get(p):null,g=v?v.inputs:null,b=v?v.outputs:null;l=K0(0,p.inputs,h,l,g),d=K0(1,p.outputs,h,d,b);let w=l!==null&&s!==null&&!Ep(t)?ex(l,h,s):null;a.push(w)}l!==null&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=d}function FT(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Tp(n,t,e,r,i,o,s,a){let l=Sn(t,e),d=t.inputs,h;!a&&d!=null&&(h=d[r])?(Ap(n,e,h,r,i),Pi(t)&&LT(e,t.index)):t.type&3?(r=FT(r),i=s!=null?s(i,t.value||"",r):i,o.setProperty(l,r,i)):t.type&12}function LT(n,t){let e=jn(t,n);e[Z]&16||(e[Z]|=64)}function xp(n,t,e,r){if(Wy()){let i=r===null?null:{"":-1},o=HT(n,e);if(o!==null){let[s,a]=ab(n,e,o);sb(n,t,e,s,i,a)}i&&zT(e,r,i)}e.mergedAttrs=Vo(e.mergedAttrs,e.attrs)}function sb(n,t,e,r,i,o){for(let d=0;d<r.length;d++)sh(hc(e,t),n,r[d].type);WT(e,n.data.length,r.length);for(let d=0;d<r.length;d++){let h=r[d];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,l=rb(n,t,r.length,null);for(let d=0;d<r.length;d++){let h=r[d];e.mergedAttrs=Vo(e.mergedAttrs,h.hostAttrs),QT(n,e,t,l,h),GT(l,h,i),h.contentQueries!==null&&(e.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(e.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),a=!0),l++}PT(n,e,o)}function VT(n,t,e,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~t.index;jT(s)!=a&&s.push(a),s.push(e,r,o)}}function jT(n){let t=n.length;for(;t>0;){let e=n[--t];if(typeof e=="number"&&e<0)return e}return 0}function UT(n,t,e){let r=e.directiveStart,i=e.directiveEnd;Pi(e)&&ZT(t,e,n.data[r+e.componentOffset]),n.firstCreatePass||hc(e,t);let o=e.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],l=$s(t,n,s,e);if(Vi(l,t),o!==null&&XT(t,s-r,l,a,e,o),dr(a)){let d=jn(e.index,t);d[sn]=$s(t,n,s,e)}}}function BT(n,t,e){let r=e.directiveStart,i=e.directiveEnd,o=e.index,s=G1();try{ki(o);for(let a=r;a<i;a++){let l=n.data[a],d=t[a];rh(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&$T(l,d)}}finally{ki(-1),rh(s)}}function $T(n,t){n.hostBindings!==null&&n.hostBindings(1,t)}function HT(n,t){let e=n.directiveRegistry,r=null;if(e)for(let i=0;i<e.length;i++){let o=e[i];Y_(t,o.selectors,!1)&&(r??=[],dr(o)?r.unshift(o):r.push(o))}return r}function ab(n,t,e){let r=[],i=null;for(let o of e)o.findHostDirectiveDefs!==null&&(i??=new Map,o.findHostDirectiveDefs(o,r,i)),dr(o)&&(r.push(o),qT(n,t,r.length-1));return Pi(t)?r.push(...e.slice(1)):r.push(...e),[r,i]}function qT(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function zT(n,t,e){if(t){let r=n.localNames=[];for(let i=0;i<t.length;i+=2){let o=e[t[i+1]];if(o==null)throw new A(-301,!1);r.push(t[i],o)}}}function GT(n,t,e){if(e){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)e[t.exportAs[r]]=n;dr(t)&&(e[""]=n)}}function WT(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function QT(n,t,e,r,i){n.data[r]=i;let o=i.factory||(i.factory=Di(i.type,!0)),s=new Ni(o,dr(i),T);n.blueprint[r]=s,e[r]=s,VT(n,t,r,rb(n,e,i.hostVars,Rt),i)}function KT(n){let t=16;return n.signals?t=4096:n.onPush&&(t=64),t}function ZT(n,t,e){let r=Sn(t,n),i=AT(e),o=n[cr].rendererFactory,s=Mp(n,Cp(n,i,null,KT(e),r,t,null,o.createRenderer(r,e),null,null,null));return n[t.index]=s}function YT(n,t,e,r,i,o){let s=Sn(n,t);JT(t[Oe],s,o,n.value,e,r,i)}function JT(n,t,e,r,i,o,s){if(o==null)n.removeAttribute(t,i,e);else{let a=s==null?lr(o):s(o,r||"",i);n.setAttribute(t,i,a,e)}}function XT(n,t,e,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],d=s[a++],h=s[a++],p=s[a++];nb(r,e,l,d,h,p)}}function ex(n,t,e){let r=null,i=0;for(;i<e.length;){let o=e[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===t){r.push(o,s[a+1],s[a+2],e[i+1]);break}}i+=2}return r}function lb(n,t,e,r){return[n,!0,0,t,null,r,null,e,null,null]}function Mp(n,t){return n[Bs]?n[M0][Cn]=t:n[Bs]=t,n[M0]=t,t}function cb(n,t){let e=n[Us],r=e?e.get(Nt,null):null;r&&r.handleError(t)}function Ap(n,t,e,r,i){for(let o=0;o<e.length;){let s=e[o++],a=e[o++],l=e[o++],d=t[s],h=n.data[s];nb(h,d,r,a,l,i)}}function tx(n,t){let e=jn(t,n),r=e[se];nx(r,e);let i=e[gr];i!==null&&e[js]===null&&(e[js]=O_(i,e[Us])),kp(r,e,e[sn])}function nx(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}function kp(n,t,e){dp(t);try{let r=n.viewQuery;r!==null&&hh(1,r,e);let i=n.template;i!==null&&ib(n,t,i,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),t[ur]?.finishViewCreation(n),n.staticContentQueries&&R_(n,t),n.staticViewQueries&&hh(2,n.viewQuery,e);let o=n.components;o!==null&&rx(t,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{t[Z]&=-5,fp()}}function rx(n,t){for(let e=0;e<t.length;e++)tx(n,t[e])}var hr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(hr||{}),ix;function Np(n,t){return ix(n,t)}function Op(n){return(n.flags&32)===32}function Ao(n,t,e,r,i){if(r!=null){let o,s=!1;vr(r)?o=r:qr(r)&&(s=!0,r=r[gr]);let a=Vn(r);n===0&&e!==null?i==null?X_(t,e,a):_c(t,e,a,i||null,!0):n===1&&e!==null?_c(t,e,a,i||null,!0):n===2?TT(t,a,s):n===3&&t.destroyNode(a),o!=null&&mx(t,n,o,e,i)}}function ox(n,t){ub(n,t),t[gr]=null,t[Ot]=null}function sx(n,t,e,r,i,o){r[gr]=i,r[Ot]=t,Kc(n,r,e,1,i,o)}function ub(n,t){t[cr].changeDetectionScheduler?.notify(10),Kc(n,t,t[Oe],2,null,null)}function ax(n){let t=n[Bs];if(!t)return Uf(n[se],n);for(;t;){let e=null;if(qr(t))e=t[Bs];else{let r=t[qt];r&&(e=r)}if(!e){for(;t&&!t[Cn]&&t!==n;)qr(t)&&Uf(t[se],t),t=t[ht];t===null&&(t=n),qr(t)&&Uf(t[se],t),e=t&&t[Cn]}t=e}}function lx(n,t,e,r){let i=qt+r,o=e.length;r>0&&(e[i-1][Cn]=t),r<o-qt?(t[Cn]=e[i],Ey(e,qt+r,t)):(e.push(t),t[Cn]=null),t[ht]=e;let s=t[Ti];s!==null&&e!==s&&db(s,t);let a=t[ur];a!==null&&a.insertView(n),th(t),t[Z]|=128}function db(n,t){let e=n[Fo],r=t[ht];if(qr(r))n[Z]|=2;else{let i=r[ht][an];t[an]!==i&&(n[Z]|=2)}e===null?n[Fo]=[t]:e.push(t)}function Rp(n,t){let e=n[Fo],r=e.indexOf(t);e.splice(r,1)}function Eh(n,t){if(n.length<=qt)return;let e=qt+t,r=n[e];if(r){let i=r[Ti];i!==null&&i!==n&&Rp(i,r),t>0&&(n[e-1][Cn]=r[Cn]);let o=ic(n,qt+t);ox(r[se],r);let s=o[ur];s!==null&&s.detachView(o[se]),r[ht]=null,r[Cn]=null,r[Z]&=-129}return r}function fb(n,t){if(Ks(t))return;let e=t[Oe];e.destroyNode&&Kc(n,t,e,3,null,null),ax(t)}function Uf(n,t){if(Ks(t))return;let e=he(null);try{t[Z]&=-129,t[Z]|=256,t[Ht]&&vo(t[Ht]),ux(n,t),cx(n,t),t[se].type===1&&t[Oe].destroy();let r=t[Ti];if(r!==null&&vr(t[ht])){r!==t[ht]&&Rp(r,t);let i=t[ur];i!==null&&i.detachView(n)}uh(t)}finally{he(e)}}function cx(n,t){let e=n.cleanup,r=t[sc];if(e!==null)for(let s=0;s<e.length-1;s+=2)if(typeof e[s]=="string"){let a=e[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[e[s+1]];e[s].call(a)}r!==null&&(t[sc]=null);let i=t[Hr];if(i!==null){t[Hr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=t[xi];if(o!==null){t[xi]=null;for(let s of o)s.destroy()}}function ux(n,t){let e;if(n!=null&&(e=n.destroyHooks)!=null)for(let r=0;r<e.length;r+=2){let i=t[e[r]];if(!(i instanceof Ni)){let o=e[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];on(4,a,l);try{l.call(a)}finally{on(5,a,l)}}else{on(4,i,o);try{o.call(i)}finally{on(5,i,o)}}}}}function hb(n,t,e){return dx(n,t.parent,e)}function dx(n,t,e){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return e[gr];if(Pi(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Un.None||i===Un.Emulated)return null}return Sn(r,e)}function pb(n,t,e){return hx(n,t,e)}function fx(n,t,e){return n.type&40?Sn(n,e):null}var hx=fx,Y0;function Qc(n,t,e,r){let i=hb(n,r,t),o=t[Oe],s=r.parent||t[Ot],a=pb(s,r,t);if(i!=null)if(Array.isArray(e))for(let l=0;l<e.length;l++)Q0(o,i,e[l],a,!1);else Q0(o,i,e,a,!1);Y0!==void 0&&Y0(o,r,t,e,i)}function Ps(n,t){if(t!==null){let e=t.type;if(e&3)return Sn(t,n);if(e&4)return Ch(-1,n[t.index]);if(e&8){let r=t.child;if(r!==null)return Ps(n,r);{let i=n[t.index];return vr(i)?Ch(-1,i):Vn(i)}}else{if(e&128)return Ps(n,t.next);if(e&32)return Np(t,n)()||Vn(n[t.index]);{let r=mb(n,t);if(r!==null){if(Array.isArray(r))return r[0];let i=Ai(n[an]);return Ps(i,r)}else return Ps(n,t.next)}}}return null}function mb(n,t){if(t!==null){let r=n[an][Ot],i=t.projection;return r.projection[i]}return null}function Ch(n,t){let e=qt+n+1;if(e<t.length){let r=t[e],i=r[se].firstChild;if(i!==null)return Ps(r,i)}return t[Mi]}function Pp(n,t,e,r,i,o,s){for(;e!=null;){if(e.type===128){e=e.next;continue}let a=r[e.index],l=e.type;if(s&&t===0&&(a&&Vi(Vn(a),r),e.flags|=2),!Op(e))if(l&8)Pp(n,t,e.child,r,i,o,!1),Ao(t,n,i,a,o);else if(l&32){let d=Np(e,r),h;for(;h=d();)Ao(t,n,i,h,o);Ao(t,n,i,a,o)}else l&16?gb(n,t,r,e,i,o):Ao(t,n,i,a,o);e=s?e.projectionNext:e.next}}function Kc(n,t,e,r,i,o){Pp(e,r,n.firstChild,t,i,o,!1)}function px(n,t,e){let r=t[Oe],i=hb(n,e,t),o=e.parent||t[Ot],s=pb(o,e,t);gb(r,0,t,e,i,s)}function gb(n,t,e,r,i,o){let s=e[an],l=s[Ot].projection[r.projection];if(Array.isArray(l))for(let d=0;d<l.length;d++){let h=l[d];Ao(t,n,i,h,o)}else{let d=l,h=s[ht];C_(r)&&(d.flags|=128),Pp(n,t,d,h,i,o,!0)}}function mx(n,t,e,r,i){let o=e[Mi],s=Vn(e);o!==s&&Ao(t,n,r,o,i);for(let a=qt;a<e.length;a++){let l=e[a];Kc(l[se],l,n,t,r,o)}}function gx(n,t,e,r,i){if(t)i?n.addClass(e,r):n.removeClass(e,r);else{let o=r.indexOf("-")===-1?void 0:hr.DashCase;i==null?n.removeStyle(e,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=hr.Important),n.setStyle(e,r,i,o))}}function vb(n,t,e,r){let i=he(null);try{let o=t.tView,a=n[Z]&4096?4096:16,l=Cp(n,o,e,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=n[t.index];l[Ti]=d;let h=n[ur];return h!==null&&(l[ur]=h.createEmbeddedView(o)),kp(o,l,e),l}finally{he(i)}}function Sh(n,t){return!t||t.firstChild===null||C_(n)}function yb(n,t,e,r=!0){let i=t[se];if(lx(i,t,n,e),r){let s=Ch(e,n),a=t[Oe],l=a.parentNode(n[Mi]);l!==null&&sx(i,n[Ot],a,t,l,s)}let o=t[js];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function bc(n,t,e,r,i=!1){for(;e!==null;){if(e.type===128){e=i?e.projectionNext:e.next;continue}let o=t[e.index];o!==null&&r.push(Vn(o)),vr(o)&&vx(o,r);let s=e.type;if(s&8)bc(n,t,e.child,r);else if(s&32){let a=Np(e,t),l;for(;l=a();)r.push(l)}else if(s&16){let a=mb(t,e);if(Array.isArray(a))r.push(...a);else{let l=Ai(t[an]);bc(l[se],l,a,r,!0)}}e=i?e.projectionNext:e.next}return r}function vx(n,t){for(let e=qt;e<n.length;e++){let r=n[e],i=r[se].firstChild;i!==null&&bc(r[se],r,i,t)}n[Mi]!==n[gr]&&t.push(n[Mi])}var _b=[];function yx(n){return n[Ht]??_x(n)}function _x(n){let t=_b.pop()??Object.create(wx);return t.lView=n,t}function bx(n){n.lView[Ht]!==n&&(n.lView=null,_b.push(n))}var wx=q(N({},yi),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Zs(n.lView)},consumerOnSignalRead(){this.lView[Ht]=this}});function Ex(n){let t=n[Ht]??Object.create(Cx);return t.lView=n,t}var Cx=q(N({},yi),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let t=Ai(n.lView);for(;t&&!bb(t[se]);)t=Ai(t);t&&sp(t)},consumerOnSignalRead(){this.lView[Ht]=this}});function bb(n){return n.type!==2}function wb(n){if(n[xi]===null)return;let t=!0;for(;t;){let e=!1;for(let r of n[xi])r.dirty&&(e=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=e&&!!(n[Z]&8192)}}var Sx=100;function Eb(n,t=!0,e=0){let i=n[cr].rendererFactory,o=!1;o||i.begin?.();try{Dx(n,e)}catch(s){throw t&&cb(n,s),s}finally{o||i.end?.()}}function Dx(n,t){let e=Zy();try{cc(!0),Dh(n,t);let r=0;for(;Pc(n);){if(r===Sx)throw new A(103,!1);r++,Dh(n,1)}}finally{cc(e)}}function Ix(n,t,e,r){if(Ks(t))return;let i=t[Z],o=!1,s=!1;dp(t);let a=!0,l=null,d=null;o||(bb(n)?(d=yx(t),l=go(d)):Vv()===null?(a=!1,d=Ex(t),l=go(d)):t[Ht]&&(vo(t[Ht]),t[Ht]=null));try{Hy(t),H1(n.bindingStartIndex),e!==null&&ib(n,t,e,2,r);let h=(i&3)===3;if(!o)if(h){let g=n.preOrderCheckHooks;g!==null&&Yl(t,g,null)}else{let g=n.preOrderHooks;g!==null&&Jl(t,g,0,null),Lf(t,0)}if(s||Tx(t),wb(t),Cb(t,0),n.contentQueries!==null&&R_(n,t),!o)if(h){let g=n.contentCheckHooks;g!==null&&Yl(t,g)}else{let g=n.contentHooks;g!==null&&Jl(t,g,1),Lf(t,1)}Mx(n,t);let p=n.components;p!==null&&Db(t,p,0);let v=n.viewQuery;if(v!==null&&hh(2,v,r),!o)if(h){let g=n.viewCheckHooks;g!==null&&Yl(t,g)}else{let g=n.viewHooks;g!==null&&Jl(t,g,2),Lf(t,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),t[Zl]){for(let g of t[Zl])g();t[Zl]=null}o||(t[Z]&=-73)}catch(h){throw o||Zs(t),h}finally{d!==null&&(Is(d,l),a&&bx(d)),fp()}}function Cb(n,t){for(let e=I_(n);e!==null;e=T_(e))for(let r=qt;r<e.length;r++){let i=e[r];Sb(i,t)}}function Tx(n){for(let t=I_(n);t!==null;t=T_(t)){if(!(t[Z]&2))continue;let e=t[Fo];for(let r=0;r<e.length;r++){let i=e[r];sp(i)}}}function xx(n,t,e){let r=jn(t,n);Sb(r,e)}function Sb(n,t){op(n)&&Dh(n,t)}function Dh(n,t){let r=n[se],i=n[Z],o=n[Ht],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&Ts(o)),s||=!1,o&&(o.dirty=!1),n[Z]&=-9217,s)Ix(r,n,r.template,n[sn]);else if(i&8192){wb(n),Cb(n,1);let a=r.components;a!==null&&Db(n,a,1)}}function Db(n,t,e){for(let r=0;r<t.length;r++)xx(n,t[r],e)}function Mx(n,t){let e=n.hostBindingOpCodes;if(e!==null)try{for(let r=0;r<e.length;r++){let i=e[r];if(i<0)ki(~i);else{let o=i,s=e[++r],a=e[++r];z1(s,o);let l=t[o];on(24,l),a(2,l),on(25,l)}}}finally{ki(-1)}}function Fp(n,t){let e=Zy()?64:1088;for(n[cr].changeDetectionScheduler?.notify(t);n;){n[Z]|=e;let r=Ai(n);if(lc(n)&&!r)return n;n=r}return null}var Oi=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let t=this._lView,e=t[se];return bc(e,t,e.firstChild,[])}constructor(t,e,r=!0){this._lView=t,this._cdRefInjectingView=e,this.notifyErrorHandler=r}get context(){return this._lView[sn]}get dirty(){return!!(this._lView[Z]&9280)||!!this._lView[Ht]?.dirty}set context(t){this._lView[sn]=t}get destroyed(){return Ks(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[ht];if(vr(t)){let e=t[ac],r=e?e.indexOf(this):-1;r>-1&&(Eh(t,r),ic(e,r))}this._attachedToViewContainer=!1}fb(this._lView[se],this._lView)}onDestroy(t){qy(this._lView,t)}markForCheck(){Fp(this._cdRefInjectingView||this._lView,4)}markForRefresh(){sp(this._cdRefInjectingView||this._lView)}detach(){this._lView[Z]&=-129}reattach(){th(this._lView),this._lView[Z]|=128}detectChanges(){this._lView[Z]|=1024,Eb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new A(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=lc(this._lView),e=this._lView[Ti];e!==null&&!t&&Rp(e,this._lView),ub(this._lView[se],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new A(902,!1);this._appRef=t;let e=lc(this._lView),r=this._lView[Ti];r!==null&&!e&&db(r,this._lView),th(this._lView)}},Wr=(()=>{class n{static __NG_ELEMENT_ID__=Nx}return n})(),Ax=Wr,kx=class extends Ax{_declarationLView;_declarationTContainer;elementRef;constructor(t,e,r){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,r){let i=vb(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:e,dehydratedView:r});return new Oi(i)}};function Nx(){return Zc(Et(),ne())}function Zc(n,t){return n.type&4?new kx(t,n,Ho(n,t)):null}function zo(n,t,e,r,i){let o=n.data[t];if(o===null)o=Ox(n,t,e,r,i),q1()&&(o.flags|=32);else if(o.type&64){o.type=e,o.value=r,o.attrs=i;let s=B1();o.injectorIndex=s===null?-1:s.injectorIndex}return Fi(o,!0),o}function Ox(n,t,e,r,i){let o=Ky(),s=ap(),a=s?o:o&&o.parent,l=n.data[t]=Px(n,a,e,t,r,i);return Rx(n,l,o,s),l}function Rx(n,t,e,r){n.firstChild===null&&(n.firstChild=t),e!==null&&(r?e.child==null&&t.parent!==null&&(e.child=t):e.next===null&&(e.next=t,t.prev=e))}function Px(n,t,e,r,i,o){let s=t?t.injectorIndex:-1,a=0;return Qy()&&(a|=128),{type:e,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var Z5=new RegExp(`^(\\d+)*(${RI}|${OI})*(.*)`);var Fx=()=>null;function Ih(n,t){return Fx(n,t)}var Th=class{},wc=class{},xh=class{resolveComponentFactory(t){throw Error(`No component factory found for ${bt(t)}.`)}},jo=class{static NULL=new xh},Qr=class{},Tn=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>Lx()}return n})();function Lx(){let n=ne(),t=Et(),e=jn(t.index,n);return(qr(e)?e:n)[Oe]}var Vx=(()=>{class n{static \u0275prov=O({token:n,providedIn:"root",factory:()=>null})}return n})();function Ec(n,t,e){let r=e?n.styles:null,i=e?n.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=Wf(i,a);else if(o==2){let l=a,d=t[++s];r=Wf(r,l+": "+d+";")}}e?n.styles=r:n.stylesWithoutHost=r,e?n.classes=i:n.classesWithoutHost=i}var Cc=class extends jo{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let e=Ii(t);return new qs(e,this.ngModule)}};function J0(n,t){let e=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:Gr.None;t?e.push({propName:s,templateName:r,isSignal:(a&Gr.SignalBased)!==0}):e.push({propName:s,templateName:r})}return e}function jx(n){let t=n.toLowerCase();return t==="svg"?M1:t==="math"?A1:null}var qs=class extends wc{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){let t=this.componentDef,e=t.inputTransforms,r=J0(t.inputs,!0);if(e!==null)for(let i of r)e.hasOwnProperty(i.propName)&&(i.transform=e[i.propName]);return r}get outputs(){return J0(this.componentDef.outputs,!1)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=ET(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!e}create(t,e,r,i){let o=he(null);try{i=i||this.ngModule;let s=i instanceof kt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new ih(t,s):t,l=a.get(Qr,null);if(l===null)throw new A(407,!1);let d=a.get(Vx,null),h=a.get(zr,null),p={rendererFactory:l,sanitizer:d,changeDetectionScheduler:h},v=l.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",b=r?NT(v,r,this.componentDef.encapsulation,a):J_(v,g,jx(g)),w=512;this.componentDef.signals?w|=4096:this.componentDef.onPush||(w|=16);let C=null;b!==null&&(C=O_(b,a,!0));let k=Ip(0,null,null,1,0,null,null,null,null,null,null),L=Cp(null,k,null,w,null,null,p,v,a,null,C);L[wt]=b,dp(L);let F=null;try{let B=r?["ng-version","19.1.4"]:CT(this.componentDef.selectors[0]),Q=zo(k,wt,2,"#host",B),[be,we]=ab(k,Q,[this.componentDef]);sb(k,L,Q,be,{},we);for(let Me of be)Q.mergedAttrs=Vo(Q.mergedAttrs,Me.hostAttrs);Q.mergedAttrs=Vo(Q.mergedAttrs,B),Ec(Q,Q.mergedAttrs,!0),b&&(eb(v,b,Q),Vi(b,L)),e!==void 0&&Ux(Q,this.ngContentSelectors,e),ob(k,L,Q),wp(k,Q,L),Bc(k,Q),F=jn(Q.index,L),L[sn]=F[sn],kp(k,L,null)}catch(B){throw F!==null&&uh(F),uh(L),B}finally{fp()}return new Mh(this.componentType,L)}finally{he(o)}}},Mh=class extends Th{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,e){super(),this._rootLView=e,this._tNode=By(e[se],wt),this.location=Ho(this._tNode,e),this.instance=jn(this._tNode.index,e)[sn],this.hostView=this.changeDetectorRef=new Oi(e,void 0,!1),this.componentType=t}setInput(t,e){let r=this._tNode.inputs,i;if(r!==null&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;let o=this._rootLView;Ap(o[se],o,i,t,e),this.previousInputValues.set(t,e);let s=jn(this._tNode.index,o);Fp(s,1)}}get injector(){return new Si(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function Ux(n,t,e){let r=n.projection=[];for(let i=0;i<t.length;i++){let o=e[i];r.push(o!=null&&o.length?Array.from(o):null)}}var wr=(()=>{class n{static __NG_ELEMENT_ID__=Bx}return n})();function Bx(){let n=Et();return Tb(n,ne())}var $x=wr,Ib=class extends $x{_lContainer;_hostTNode;_hostLView;constructor(t,e,r){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=r}get element(){return Ho(this._hostTNode,this._hostLView)}get injector(){return new Si(this._hostTNode,this._hostLView)}get parentInjector(){let t=hp(this._hostTNode,this._hostLView);if(a_(t)){let e=dc(t,this._hostLView),r=uc(t),i=e[se].data[r+8];return new Si(i,e)}else return new Si(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let e=X0(this._lContainer);return e!==null&&e[t]||null}get length(){return this._lContainer.length-qt}createEmbeddedView(t,e,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Ih(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(e||{},o,s);return this.insertImpl(a,i,Sh(this._hostTNode,s)),a}createComponent(t,e,r,i,o){let s=t&&!D1(t),a;if(s)a=e;else{let b=e||{};a=b.index,r=b.injector,i=b.projectableNodes,o=b.environmentInjector||b.ngModuleRef}let l=s?t:new qs(Ii(t)),d=r||this.parentInjector;if(!o&&l.ngModule==null){let w=(s?d:this.parentInjector).get(kt,null);w&&(o=w)}let h=Ii(l.componentType??{}),p=Ih(this._lContainer,h?.id??null),v=p?.firstChild??null,g=l.create(d,i,v,o);return this.insertImpl(g.hostView,a,Sh(this._hostTNode,p)),g}insert(t,e){return this.insertImpl(t,e,!0)}insertImpl(t,e,r){let i=t._lView;if(N1(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=i[ht],d=new Ib(l,l[Ot],l[ht]);d.detach(d.indexOf(t))}}let o=this._adjustIndex(e),s=this._lContainer;return yb(s,i,o,r),t.attachToViewContainerRef(),Ey(Bf(s),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){let e=X0(this._lContainer);return e!==null?e.indexOf(t):-1}remove(t){let e=this._adjustIndex(t,-1),r=Eh(this._lContainer,e);r&&(ic(Bf(this._lContainer),e),fb(r[se],r))}detach(t){let e=this._adjustIndex(t,-1),r=Eh(this._lContainer,e);return r&&ic(Bf(this._lContainer),e)!=null?new Oi(r):null}_adjustIndex(t,e=0){return t??this.length+e}};function X0(n){return n[ac]}function Bf(n){return n[ac]||(n[ac]=[])}function Tb(n,t){let e,r=t[n.index];return vr(r)?e=r:(e=lb(r,t,null,n),t[n.index]=e,Mp(t,e)),qx(e,t,n,r),new Ib(e,n,t)}function Hx(n,t){let e=n[Oe],r=e.createComment(""),i=Sn(t,n),o=e.parentNode(i);return _c(e,o,r,e.nextSibling(i),!1),r}var qx=Wx,zx=()=>!1;function Gx(n,t,e){return zx(n,t,e)}function Wx(n,t,e,r){if(n[Mi])return;let i;e.type&8?i=Vn(r):i=Hx(t,e),n[Mi]=i}var Ah=class n{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},kh=class n{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let e=t.queries;if(e!==null){let r=t.contentQueries!==null?t.contentQueries[0]:e.length,i=[];for(let o=0;o<r;o++){let s=e.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)Lp(t,e).matches!==null&&this.queries[e].setDirty()}},Nh=class{flags;read;predicate;constructor(t,e,r=null){this.flags=e,this.read=r,typeof t=="string"?this.predicate=tM(t):this.predicate=t}},Oh=class n{queries;constructor(t=[]){this.queries=t}elementStart(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let r=0;r<this.length;r++){let i=e!==null?e.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,e!==null?e.push(o):e=[o])}return e!==null?new n(e):null}template(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},Rh=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,e=-1){this.metadata=t,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new n(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,r=t.parent;for(;r!==null&&r.type&8&&r.index!==e;)r=r.parent;return e===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(t,e){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(t,e,Qx(e,o)),this.matchTNodeWithReadOption(t,e,Xl(e,t,o,!1,!1))}else r===Wr?e.type&4&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Xl(e,t,r,!1,!1))}matchTNodeWithReadOption(t,e,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Ye||i===wr||i===Wr&&e.type&4)this.addMatch(e.index,-2);else{let o=Xl(e,t,i,!1,!1);o!==null&&this.addMatch(e.index,o)}else this.addMatch(e.index,r)}}addMatch(t,e){this.matches===null?this.matches=[t,e]:this.matches.push(t,e)}};function Qx(n,t){let e=n.localNames;if(e!==null){for(let r=0;r<e.length;r+=2)if(e[r]===t)return e[r+1]}return null}function Kx(n,t){return n.type&11?Ho(n,t):n.type&4?Zc(n,t):null}function Zx(n,t,e,r){return e===-1?Kx(t,n):e===-2?Yx(n,t,r):$s(n,n[se],e,t)}function Yx(n,t,e){if(e===Ye)return Ho(t,n);if(e===Wr)return Zc(t,n);if(e===wr)return Tb(t,n)}function xb(n,t,e,r){let i=t[ur].queries[r];if(i.matches===null){let o=n.data,s=e.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let d=s[l];if(d<0)a.push(null);else{let h=o[d];a.push(Zx(t,h,s[l+1],e.metadata.read))}}i.matches=a}return i.matches}function Ph(n,t,e,r){let i=n.queries.getByIndex(e),o=i.matches;if(o!==null){let s=xb(n,t,i,e);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)r.push(s[a/2]);else{let d=o[a+1],h=t[-l];for(let p=qt;p<h.length;p++){let v=h[p];v[Ti]===v[ht]&&Ph(v[se],v,d,r)}if(h[Fo]!==null){let p=h[Fo];for(let v=0;v<p.length;v++){let g=p[v];Ph(g[se],g,d,r)}}}}}return r}function Jx(n,t){return n[ur].queries[t].queryList}function Xx(n,t,e){let r=new yc((e&4)===4);return P1(n,t,r,r.destroy),(t[ur]??=new kh).queries.push(new Ah(r))-1}function eM(n,t,e){let r=Ve();return r.firstCreatePass&&(nM(r,new Nh(n,t,e),-1),(t&2)===2&&(r.staticViewQueries=!0)),Xx(r,ne(),t)}function tM(n){return n.split(",").map(t=>t.trim())}function nM(n,t,e){n.queries===null&&(n.queries=new Oh),n.queries.track(new Rh(t,e))}function Lp(n,t){return n.queries.getByIndex(t)}function rM(n,t){let e=n[se],r=Lp(e,t);return r.crossesNgTemplate?Ph(e,n,t,[]):xb(e,n,r,t)}var Kr=class{},zs=class{};var Fh=class extends Kr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Cc(this);constructor(t,e,r,i=!0){super(),this.ngModuleType=t,this._parent=e;let o=Dy(t);this._bootstrapComponents=K_(o.bootstrap),this._r3Injector=g_(t,e,[{provide:Kr,useValue:this},{provide:jo,useValue:this.componentFactoryResolver},...r],bt(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Lh=class extends zs{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new Fh(this.moduleType,t,[])}};var Sc=class extends Kr{injector;componentFactoryResolver=new Cc(this);instance=null;constructor(t){super();let e=new Vs([...t.providers,{provide:Kr,useValue:this},{provide:jo,useValue:this.componentFactoryResolver}],t.parent||np(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Vp(n,t,e=null){return new Sc({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}var iM=(()=>{class n{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let r=My(!1,e.type),i=r.length>0?Vp([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,i)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=O({token:n,providedIn:"environment",factory:()=>new n(P(kt))})}return n})();function re(n){return Ws(()=>{let t=Ab(n),e=q(N({},t),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===S_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(iM).getOrCreateStandaloneInjector(e):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Un.Emulated,styles:n.styles||At,_:null,schemas:n.schemas||null,tView:null,id:""});t.standalone&&Dn("NgStandalone"),kb(e);let r=n.dependencies;return e.directiveDefs=ty(r,!1),e.pipeDefs=ty(r,!0),e.id=aM(e),e})}function oM(n){return Ii(n)||Iy(n)}function sM(n){return n!==null}function Je(n){return Ws(()=>({type:n.type,bootstrap:n.bootstrap||At,declarations:n.declarations||At,imports:n.imports||At,exports:n.exports||At,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function ey(n,t){if(n==null)return Oo;let e={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=Gr.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),t?(e[o]=a!==Gr.None?[r,a]:r,t[o]=s):e[o]=r}return e}function fe(n){return Ws(()=>{let t=Ab(n);return kb(t),t})}function Mb(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function Ab(n){let t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:n.inputs||Oo,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||At,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ey(n.inputs,t),outputs:ey(n.outputs),debugInfo:null}}function kb(n){n.features?.forEach(t=>t(n))}function ty(n,t){if(!n)return null;let e=t?Ty:oM;return()=>(typeof n=="function"?n():n).map(r=>e(r)).filter(sM)}function aM(n){let t=0,e=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,e,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function lM(n){return Object.getPrototypeOf(n.prototype).constructor}function Xe(n){let t=lM(n.type),e=!0,r=[n];for(;t;){let i;if(dr(n))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new A(903,!1);i=t.\u0275dir}if(i){if(e){r.push(i);let s=n;s.inputs=Wl(n.inputs),s.inputTransforms=Wl(n.inputTransforms),s.declaredInputs=Wl(n.declaredInputs),s.outputs=Wl(n.outputs);let a=i.hostBindings;a&&hM(n,a);let l=i.viewQuery,d=i.contentQueries;if(l&&dM(n,l),d&&fM(n,d),cM(n,i),qD(n.outputs,i.outputs),dr(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Xe&&(e=!1)}}t=Object.getPrototypeOf(t)}uM(r)}function cM(n,t){for(let e in t.inputs){if(!t.inputs.hasOwnProperty(e)||n.inputs.hasOwnProperty(e))continue;let r=t.inputs[e];if(r!==void 0&&(n.inputs[e]=r,n.declaredInputs[e]=t.declaredInputs[e],t.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!t.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=t.inputTransforms[i]}}}function uM(n){let t=0,e=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Vo(i.hostAttrs,e=Vo(e,i.hostAttrs))}}function Wl(n){return n===Oo?{}:n===At?[]:n}function dM(n,t){let e=n.viewQuery;e?n.viewQuery=(r,i)=>{t(r,i),e(r,i)}:n.viewQuery=t}function fM(n,t){let e=n.contentQueries;e?n.contentQueries=(r,i,o)=>{t(r,i,o),e(r,i,o)}:n.contentQueries=t}function hM(n,t){let e=n.hostBindings;e?n.hostBindings=(r,i)=>{t(r,i),e(r,i)}:n.hostBindings=t}function ji(n){let t=n.inputConfig,e={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r];Array.isArray(i)&&i[3]&&(e[r]=i[3])}n.inputTransforms=e}function Nb(n){return mM(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function pM(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{let e=n[Symbol.iterator](),r;for(;!(r=e.next()).done;)t(r.value)}}function mM(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Ob(n,t,e){return n[t]=e}function pr(n,t,e){let r=n[t];return Object.is(r,e)?!1:(n[t]=e,!0)}function jp(n,t,e,r){let i=pr(n,t,e);return pr(n,t+1,r)||i}function Rb(n,t,e,r,i){let o=jp(n,t,e,r);return pr(n,t+2,i)||o}function gM(n,t,e,r,i,o,s,a,l){let d=t.consts,h=zo(t,n,4,s||null,a||null);xp(t,e,h,Lo(d,l)),Bc(t,h);let p=h.tView=Ip(2,h,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,d,null);return t.queries!==null&&(t.queries.template(t,h),p.queries=t.queries.embeddedTView(h)),h}function Pb(n,t,e,r,i,o,s,a,l,d){let h=e+wt,p=t.firstCreatePass?gM(h,t,n,r,i,o,s,a,l):t.data[h];Fi(p,!1);let v=vM(t,n,p,e);jc()&&Qc(t,n,v,p),Vi(v,n);let g=lb(v,n,v,p);return n[h]=g,Mp(n,g),Gx(g,p,n),Rc(p)&&Sp(t,n,p),l!=null&&Dp(n,p,d),p}function S(n,t,e,r,i,o,s,a){let l=ne(),d=Ve(),h=Lo(d.consts,o);return Pb(l,d,n,t,e,r,i,h,s,a),S}var vM=yM;function yM(n,t,e,r){return Uc(!0),t[Oe].createComment("")}var Up=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var Fb=new V("");function Ui(n){return!!n&&typeof n.then=="function"}function Lb(n){return!!n&&typeof n.subscribe=="function"}var Vb=new V("");var jb=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,r)=>{this.resolve=e,this.reject=r});appInits=I(Vb,{optional:!0})??[];injector=I(Le);constructor(){}runInitializers(){if(this.initialized)return;let e=[];for(let i of this.appInits){let o=it(this.injector,i);if(Ui(o))e.push(o);else if(Lb(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),e.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ub=(()=>{class n{static \u0275prov=O({token:n,providedIn:"root",factory:()=>new Dc})}return n})(),Dc=class{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){let e=t.zone,r=this.queues.get(e);r.has(t)&&(r.delete(t),this.queuedEffectCount--)}enqueue(t){let e=t.zone;this.queues.has(e)||this.queues.set(e,new Set);let r=this.queues.get(e);r.has(t)||(this.queuedEffectCount++,r.add(t))}flush(){for(;this.queuedEffectCount>0;)for(let[t,e]of this.queues)t===null?this.flushQueue(e):t.run(()=>this.flushQueue(e))}flushQueue(t){for(let e of t)t.delete(e),this.queuedEffectCount--,e.run()}},Yc=new V("");function _M(){Kv(()=>{throw new A(600,!1)})}function bM(n){return n.isBoundToModule}var wM=10;function EM(n,t,e){try{let r=e();return Ui(r)?r.catch(i=>{throw t.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>n.handleError(r)),r}}var mr=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=I(wI);afterRenderManager=I(N_);zonelessEnabled=I(Hc);rootEffectScheduler=I(Ub);dirtyFlags=0;deferredDirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new xe;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=I(_r).hasPendingTasks.pipe(W(e=>!e));constructor(){I(qo,{optional:!0})}whenStable(){let e;return new Promise(r=>{e=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{e.unsubscribe()})}_injector=I(kt);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,r){let i=e instanceof wc;if(!this._injector.get(jb).done){let v=!i&&xy(e),g=!1;throw new A(405,g)}let s;i?s=e:s=this._injector.get(jo).resolveComponentFactory(e),this.componentTypes.push(s.componentType);let a=bM(s)?void 0:this._injector.get(Kr),l=r||s.selector,d=s.create(Le.NULL,[],l,a),h=d.location.nativeElement,p=d.injector.get(Fb,null);return p?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),ec(this.components,d),p?.unregisterApplication(h)}),this._loadComponent(d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick=()=>{if(this.tracingSnapshot!==null){let r=this.tracingSnapshot;this.tracingSnapshot=null,r.run(_p.CHANGE_DETECTION,this._tick),r.dispose();return}if(this._runningTick)throw new A(101,!1);let e=he(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,he(e),this.afterTick.next()}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Qr,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let e=0;for(;this.dirtyFlags!==0&&e++<wM;)this.synchronizeOnce()}synchronizeOnce(){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let e=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)CM(r,i,e,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>Pc(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){let r=e;ec(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Yc,[]).forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>ec(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new A(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ec(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function CM(n,t,e,r){if(!e&&!Pc(n))return;Eb(n,t,e&&!r?0:1)}function $n(n,t,e,r){let i=ne(),o=Fc();if(pr(i,o,t)){let s=Ve(),a=Vc();YT(a,i,n,t,e,r)}return $n}function Bb(n,t,e,r){return pr(n,Fc(),e)?t+lr(e)+r:Rt}function SM(n,t,e,r,i,o){let s=Yy(),a=jp(n,s,e,i);return Lc(2),a?t+lr(e)+r+lr(i)+o:Rt}function DM(n,t,e,r,i,o,s,a){let l=Yy(),d=Rb(n,l,e,i,s);return Lc(3),d?t+lr(e)+r+lr(i)+o+lr(s)+a:Rt}function Ql(n,t){return n<<17|t<<2}function Ri(n){return n>>17&32767}function IM(n){return(n&2)==2}function TM(n,t){return n&131071|t<<17}function Vh(n){return n|2}function Uo(n){return(n&131068)>>2}function $f(n,t){return n&-131069|t<<2}function xM(n){return(n&1)===1}function jh(n){return n|1}function MM(n,t,e,r,i,o){let s=o?t.classBindings:t.styleBindings,a=Ri(s),l=Uo(s);n[r]=e;let d=!1,h;if(Array.isArray(e)){let p=e;h=p[1],(h===null||Qs(p,h)>0)&&(d=!0)}else h=e;if(i)if(l!==0){let v=Ri(n[a+1]);n[r+1]=Ql(v,a),v!==0&&(n[v+1]=$f(n[v+1],r)),n[a+1]=TM(n[a+1],r)}else n[r+1]=Ql(a,0),a!==0&&(n[a+1]=$f(n[a+1],r)),a=r;else n[r+1]=Ql(l,0),a===0?a=r:n[l+1]=$f(n[l+1],r),l=r;d&&(n[r+1]=Vh(n[r+1])),ny(n,h,r,!0),ny(n,h,r,!1),AM(t,h,n,r,o),s=Ql(a,l),o?t.classBindings=s:t.styleBindings=s}function AM(n,t,e,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof t=="string"&&Qs(o,t)>=0&&(e[r+1]=jh(e[r+1]))}function ny(n,t,e,r){let i=n[e+1],o=t===null,s=r?Ri(i):Uo(i),a=!1;for(;s!==0&&(a===!1||o);){let l=n[s],d=n[s+1];kM(l,t)&&(a=!0,n[s+1]=r?jh(d):Vh(d)),s=r?Ri(d):Uo(d)}a&&(n[e+1]=r?Vh(i):jh(i))}function kM(n,t){return n===null||t==null||(Array.isArray(n)?n[1]:n)===t?!0:Array.isArray(n)&&typeof t=="string"?Qs(n,t)>=0:!1}var En={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function NM(n){return n.substring(En.key,En.keyEnd)}function OM(n){return RM(n),$b(n,Hb(n,0,En.textEnd))}function $b(n,t){let e=En.textEnd;return e===t?-1:(t=En.keyEnd=PM(n,En.key=t,e),Hb(n,t,e))}function RM(n){En.key=0,En.keyEnd=0,En.value=0,En.valueEnd=0,En.textEnd=n.length}function Hb(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function PM(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}function y(n,t,e){let r=ne(),i=Fc();if(pr(r,i,t)){let o=Ve(),s=Vc();Tp(o,s,r,n,t,r[Oe],e,!1)}return y}function Uh(n,t,e,r,i){let o=t.inputs,s=i?"class":"style";Ap(n,e,o[s],s,r)}function Hn(n,t,e){return qb(n,t,e,!1),Hn}function Gt(n,t){return qb(n,t,null,!0),Gt}function Jc(n){LM(HM,FM,n,!0)}function FM(n,t){for(let e=OM(t);e>=0;e=$b(t,e))ep(n,NM(t),!0)}function qb(n,t,e,r){let i=ne(),o=Ve(),s=Lc(2);if(o.firstUpdatePass&&Gb(o,n,s,r),t!==Rt&&pr(i,s,t)){let a=o.data[yr()];Wb(o,a,i,i[Oe],n,i[s+1]=zM(t,e),r,s)}}function LM(n,t,e,r){let i=Ve(),o=Lc(2);i.firstUpdatePass&&Gb(i,null,o,r);let s=ne();if(e!==Rt&&pr(s,o,e)){let a=i.data[yr()];if(Qb(a,r)&&!zb(i,o)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(e=Wf(l,e||"")),Uh(i,a,s,e,r)}else qM(i,a,s,s[Oe],s[o+1],s[o+1]=$M(n,t,e),r,o)}}function zb(n,t){return t>=n.expandoStartIndex}function Gb(n,t,e,r){let i=n.data;if(i[e+1]===null){let o=i[yr()],s=zb(n,e);Qb(o,r)&&t===null&&!s&&(t=!1),t=VM(i,o,t,r),MM(i,o,t,e,s,r)}}function VM(n,t,e,r){let i=W1(n),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(e=Hf(null,n,t,e,r),e=Gs(e,t.attrs,r),o=null);else{let s=t.directiveStylingLast;if(s===-1||n[s]!==i)if(e=Hf(i,n,t,e,r),o===null){let l=jM(n,t,r);l!==void 0&&Array.isArray(l)&&(l=Hf(null,n,t,l[1],r),l=Gs(l,t.attrs,r),UM(n,t,r,l))}else o=BM(n,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),e}function jM(n,t,e){let r=e?t.classBindings:t.styleBindings;if(Uo(r)!==0)return n[Ri(r)]}function UM(n,t,e,r){let i=e?t.classBindings:t.styleBindings;n[Ri(i)]=r}function BM(n,t,e){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Gs(r,s,e)}return Gs(r,t.attrs,e)}function Hf(n,t,e,r,i){let o=null,s=e.directiveEnd,a=e.directiveStylingLast;for(a===-1?a=e.directiveStart:a++;a<s&&(o=t[a],r=Gs(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(e.directiveStylingLast=a),r}function Gs(n,t,e){let r=e?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),ep(n,s,e?!0:t[++o]))}return n===void 0?null:n}function $M(n,t,e){if(e==null||e==="")return At;let r=[],i=In(e);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&t(r,i);return r}function HM(n,t,e){let r=String(t);r!==""&&!r.includes(" ")&&ep(n,r,e)}function qM(n,t,e,r,i,o,s,a){i===Rt&&(i=At);let l=0,d=0,h=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;h!==null||p!==null;){let v=l<i.length?i[l+1]:void 0,g=d<o.length?o[d+1]:void 0,b=null,w;h===p?(l+=2,d+=2,v!==g&&(b=p,w=g)):p===null||h!==null&&h<p?(l+=2,b=h):(d+=2,b=p,w=g),b!==null&&Wb(n,t,e,r,b,w,s,a),h=l<i.length?i[l]:null,p=d<o.length?o[d]:null}}function Wb(n,t,e,r,i,o,s,a){if(!(t.type&3))return;let l=n.data,d=l[a+1],h=xM(d)?ry(l,t,e,i,Uo(d),s):void 0;if(!Ic(h)){Ic(o)||IM(d)&&(o=ry(l,null,e,i,a,s));let p=Uy(yr(),e);gx(r,s,p,i,o)}}function ry(n,t,e,r,i,o){let s=t===null,a;for(;i>0;){let l=n[i],d=Array.isArray(l),h=d?l[1]:l,p=h===null,v=e[i+1];v===Rt&&(v=p?At:void 0);let g=p?Pf(v,r):h===r?v:void 0;if(d&&!Ic(g)&&(g=Pf(l,r)),Ic(g)&&(a=g,s))return a;let b=n[i+1];i=s?Ri(b):Uo(b)}if(t!==null){let l=o?t.residualClasses:t.residualStyles;l!=null&&(a=Pf(l,r))}return a}function Ic(n){return n!==void 0}function zM(n,t){return n==null||n===""||(typeof t=="string"?n=n+t:typeof n=="object"&&(n=bt(In(n)))),n}function Qb(n,t){return(n.flags&(t?8:16))!==0}function GM(n,t,e,r,i,o){let s=t.consts,a=Lo(s,i),l=zo(t,n,2,r,a);return xp(t,e,l,Lo(s,o)),l.attrs!==null&&Ec(l,l.attrs,!1),l.mergedAttrs!==null&&Ec(l,l.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,l),l}function u(n,t,e,r){let i=ne(),o=Ve(),s=wt+n,a=i[Oe],l=o.firstCreatePass?GM(s,o,i,t,e,r):o.data[s],d=WM(o,i,l,a,t,n);i[s]=d;let h=Rc(l);return Fi(l,!0),eb(a,d,l),!Op(l)&&jc()&&Qc(o,i,d,l),F1()===0&&Vi(d,i),L1(),h&&(Sp(o,i,l),wp(o,l,i)),r!==null&&Dp(i,l),u}function c(){let n=Et();ap()?lp():(n=n.parent,Fi(n,!1));let t=n;j1(t)&&U1(),V1();let e=Ve();return e.firstCreatePass&&(Bc(e,n),ip(n)&&e.queries.elementEnd(n)),t.classesWithoutHost!=null&&eI(t)&&Uh(e,t,ne(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&tI(t)&&Uh(e,t,ne(),t.stylesWithoutHost,!1),c}function _(n,t,e,r){return u(n,t,e,r),c(),_}var WM=(n,t,e,r,i,o)=>(Uc(!0),J_(r,i,Z1()));function QM(n,t,e,r,i){let o=t.consts,s=Lo(o,r),a=zo(t,n,8,"ng-container",s);s!==null&&Ec(a,s,!0);let l=Lo(o,i);return xp(t,e,a,l),t.queries!==null&&t.queries.elementStart(t,a),a}function ot(n,t,e){let r=ne(),i=Ve(),o=n+wt,s=i.firstCreatePass?QM(o,i,r,t,e):i.data[o];Fi(s,!0);let a=KM(i,r,s,n);return r[o]=a,jc()&&Qc(i,r,a,s),Vi(a,r),Rc(s)&&(Sp(i,r,s),wp(i,s,r)),e!=null&&Dp(r,s),ot}function st(){let n=Et(),t=Ve();return ap()?lp():(n=n.parent,Fi(n,!1)),t.firstCreatePass&&(Bc(t,n),ip(n)&&t.queries.elementEnd(n)),st}var KM=(n,t,e,r)=>(Uc(!0),IT(t[Oe],""));function H(){return ne()}var Ci=void 0;function ZM(n){let t=n,e=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&r===0?1:5}var YM=["en",[["a","p"],["AM","PM"],Ci],[["AM","PM"],Ci,Ci],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ci,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ci,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ci,"{1} 'at' {0}",Ci],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",ZM],qf={};function un(n){let t=JM(n),e=iy(t);if(e)return e;let r=t.split("-")[0];if(e=iy(r),e)return e;if(r==="en")return YM;throw new A(701,!1)}function iy(n){return n in qf||(qf[n]=ar.ng&&ar.ng.common&&ar.ng.common.locales&&ar.ng.common.locales[n]),qf[n]}var je=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(je||{});function JM(n){return n.toLowerCase().replace(/_/g,"-")}var Tc="en-US";var XM=Tc;function eA(n){typeof n=="string"&&(XM=n.toLowerCase().replace(/_/g,"-"))}var tA=(n,t,e)=>{};function D(n,t,e,r){let i=ne(),o=Ve(),s=Et();return Kb(o,i,i[Oe],s,n,t,r),D}function nA(n,t,e,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===e&&i[o+1]===r){let a=t[sc],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function Kb(n,t,e,r,i,o,s){let a=Rc(r),d=n.firstCreatePass&&Gy(n),h=t[sn],p=zy(t),v=!0;if(r.type&3||s){let w=Sn(r,t),C=s?s(w):w,k=p.length,L=s?B=>s(Vn(B[r.index])):r.index,F=null;if(!s&&a&&(F=nA(n,t,i,r.index)),F!==null){let B=F.__ngLastListenerFn__||F;B.__ngNextListenerFn__=o,F.__ngLastListenerFn__=o,v=!1}else{o=sy(r,t,h,o),tA(w,i,o);let B=e.listen(C,i,o);p.push(o,B),d&&d.push(i,L,k,k+1)}}else o=sy(r,t,h,o);let g=r.outputs,b;if(v&&g!==null&&(b=g[i])){let w=b.length;if(w)for(let C=0;C<w;C+=2){let k=b[C],L=b[C+1],Q=t[k][L].subscribe(o),be=p.length;p.push(o,Q),d&&d.push(i,r.index,be,-(be+1))}}}function oy(n,t,e,r){let i=he(null);try{return on(6,t,e),e(r)!==!1}catch(o){return cb(n,o),!1}finally{on(7,t,e),he(i)}}function sy(n,t,e,r){return function i(o){if(o===Function)return r;let s=Pi(n)?jn(n.index,t):t;Fp(s,5);let a=oy(t,e,r,o),l=i.__ngNextListenerFn__;for(;l;)a=oy(t,e,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function E(n=1){return K1(n)}function rA(n,t){let e=null,r=vT(n);for(let i=0;i<t.length;i++){let o=t[i];if(o==="*"){e=i;continue}if(r===null?Y_(n,o,!0):bT(r,o))return i}return e}function Bp(n){let t=ne()[an][Ot];if(!t.projection){let e=n?n.length:1,r=t.projection=d1(e,null),i=r.slice(),o=t.child;for(;o!==null;){if(o.type!==128){let s=n?rA(o,n):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function $p(n,t=0,e,r,i,o){let s=ne(),a=Ve(),l=r?n+1:null;l!==null&&Pb(s,a,l,r,i,o,null,e);let d=zo(a,wt+n,16,null,e||null);d.projection===null&&(d.projection=t),lp();let p=!s[js]||Qy();s[an][Ot].projection[d.projection]===null&&l!==null?iA(s,a,l):p&&!Op(d)&&px(a,s,d)}function iA(n,t,e){let r=wt+e,i=t.data[r],o=n[r],s=Ih(o,i.tView.ssrId),a=vb(n,i,void 0,{dehydratedView:s});yb(o,a,0,Sh(i,s))}function Hp(n,t,e){return Zb(n,"",t,"",e),Hp}function Zb(n,t,e,r,i){let o=ne(),s=Bb(o,t,e,r);if(s!==Rt){let a=Ve(),l=Vc();Tp(a,l,o,n,s,o[Oe],i,!1)}return Zb}function qp(n,t,e){eM(n,t,e)}function Xc(n){let t=ne(),e=Ve(),r=Jy();up(r+1);let i=Lp(e,r);if(n.dirty&&k1(t)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=rM(t,r);n.reset(o,SI),n.notifyOnChanges()}return!0}return!1}function eu(){return Jx(ne(),Jy())}function oA(n,t,e,r){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=r}function Yb(n){let t=$1();return $y(t,wt+n)}function f(n,t=""){let e=ne(),r=Ve(),i=n+wt,o=r.firstCreatePass?zo(r,i,1,t,null):r.data[i],s=sA(r,e,o,t,n);e[i]=s,jc()&&Qc(r,e,s,o),Fi(o,!1)}var sA=(n,t,e,r,i)=>(Uc(!0),ST(t[Oe],r));function G(n){return U("",n,""),G}function U(n,t,e){let r=ne(),i=Bb(r,n,t,e);return i!==Rt&&zp(r,yr(),i),U}function Bi(n,t,e,r,i){let o=ne(),s=SM(o,n,t,e,r,i);return s!==Rt&&zp(o,yr(),s),Bi}function ea(n,t,e,r,i,o,s){let a=ne(),l=DM(a,n,t,e,r,i,o,s);return l!==Rt&&zp(a,yr(),l),ea}function zp(n,t,e){let r=Uy(t,n);DT(n[Oe],r,e)}function Ue(n,t,e){E_(t)&&(t=t());let r=ne(),i=Fc();if(pr(r,i,t)){let o=Ve(),s=Vc();Tp(o,s,r,n,t,r[Oe],e,!1)}return Ue}function $e(n,t){let e=E_(n);return e&&n.set(t),e}function Be(n,t){let e=ne(),r=Ve(),i=Et();return Kb(r,e,e[Oe],i,n,t),Be}function aA(n,t,e){let r=Ve();if(r.firstCreatePass){let i=dr(n);Bh(e,r.data,r.blueprint,i,!0),Bh(t,r.data,r.blueprint,i,!1)}}function Bh(n,t,e,r,i){if(n=_t(n),Array.isArray(n))for(let o=0;o<n.length;o++)Bh(n[o],t,e,r,i);else{let o=Ve(),s=ne(),a=Et(),l=Po(n)?n:_t(n.provide),d=Ny(n),h=a.providerIndexes&1048575,p=a.directiveStart,v=a.providerIndexes>>20;if(Po(n)||!n.multi){let g=new Ni(d,i,T),b=Gf(l,t,i?h:h+v,p);b===-1?(sh(hc(a,s),o,l),zf(o,n,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),e.push(g),s.push(g)):(e[b]=g,s[b]=g)}else{let g=Gf(l,t,h+v,p),b=Gf(l,t,h,h+v),w=g>=0&&e[g],C=b>=0&&e[b];if(i&&!C||!i&&!w){sh(hc(a,s),o,l);let k=uA(i?cA:lA,e.length,i,r,d);!i&&C&&(e[b].providerFactory=k),zf(o,n,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),e.push(k),s.push(k)}else{let k=Jb(e[i?b:g],d,!i&&r);zf(o,n,g>-1?g:b,k)}!i&&r&&C&&e[b].componentProviders++}}}function zf(n,t,e,r){let i=Po(t),o=y1(t);if(i||o){let l=(o?_t(t.useClass):t).prototype.ngOnDestroy;if(l){let d=n.destroyHooks||(n.destroyHooks=[]);if(!i&&t.multi){let h=d.indexOf(e);h===-1?d.push(e,[r,l]):d[h+1].push(r,l)}else d.push(e,l)}}}function Jb(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function Gf(n,t,e,r){for(let i=e;i<r;i++)if(t[i]===n)return i;return-1}function lA(n,t,e,r){return $h(this.multi,[])}function cA(n,t,e,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=$s(e,e[se],this.providerFactory.index,r);o=a.slice(0,s),$h(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],$h(i,o);return o}function $h(n,t){for(let e=0;e<n.length;e++){let r=n[e];t.push(r())}return t}function uA(n,t,e,r,i){let o=new Ni(n,e,T);return o.multi=[],o.index=t,o.componentProviders=0,Jb(o,i,r&&!e),o}function gt(n,t=[]){return e=>{e.providersResolver=(r,i)=>aA(r,i?i(n):n,t)}}function qn(n,t,e,r,i){return ew(ne(),cp(),n,t,e,r,i)}function Yr(n,t,e,r,i,o){return dA(ne(),cp(),n,t,e,r,i,o)}function Xb(n,t){let e=n[t];return e===Rt?void 0:e}function ew(n,t,e,r,i,o,s){let a=t+e;return jp(n,a,i,o)?Ob(n,a+2,s?r.call(s,i,o):r(i,o)):Xb(n,a+2)}function dA(n,t,e,r,i,o,s,a){let l=t+e;return Rb(n,l,i,o,s)?Ob(n,l+3,a?r.call(a,i,o,s):r(i,o,s)):Xb(n,l+3)}function Wt(n,t){let e=Ve(),r,i=n+wt;e.firstCreatePass?(r=fA(t,e.pipeRegistry),e.data[i]=r,r.onDestroy&&(e.destroyHooks??=[]).push(i,r.onDestroy)):r=e.data[i];let o=r.factory||(r.factory=Di(r.type,!0)),s,a=Mt(T);try{let l=fc(!1),d=o();return fc(l),oA(e,ne(),i,d),d}finally{Mt(a)}}function fA(n,t){if(t)for(let e=t.length-1;e>=0;e--){let r=t[e];if(n===r.name)return r}}function Qt(n,t,e,r){let i=n+wt,o=ne(),s=$y(o,i);return hA(o,i)?ew(o,cp(),t,s.transform,e,r,s):s.transform(e,r)}function hA(n,t){return n[se].data[t].pure}function tw(n,t){return Zc(n,t)}var Hh=class{ngModuleFactory;componentFactories;constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}},Gp=(()=>{class n{compileModuleSync(e){return new Lh(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let r=this.compileModuleSync(e),i=Dy(e),o=K_(i.declarations).reduce((s,a)=>{let l=Ii(a);return l&&s.push(new qs(l)),s},[]);return new Hh(r,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var pA=(()=>{class n{zone=I(Ee);changeDetectionScheduler=I(zr);applicationRef=I(mr);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function mA({ngZoneFactory:n,ignoreChangesOutsideZone:t,scheduleInRootZone:e}){return n??=()=>new Ee(q(N({},gA()),{scheduleInRootZone:e})),[{provide:Ee,useFactory:n},{provide:Ro,multi:!0,useFactory:()=>{let r=I(pA,{optional:!0});return()=>r.initialize()}},{provide:Ro,multi:!0,useFactory:()=>{let r=I(vA);return()=>{r.initialize()}}},t===!0?{provide:y_,useValue:!0}:[],{provide:pp,useValue:e??v_}]}function gA(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var vA=(()=>{class n{subscription=new Te;initialized=!1;zone=I(Ee);pendingTasks=I(_r);initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ee.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ee.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var nw=(()=>{class n{appRef=I(mr);taskService=I(_r);ngZone=I(Ee);zonelessEnabled=I(Hc);tracing=I(qo,{optional:!0});disableScheduling=I(y_,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Te;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(gc):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(I(pp,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof vc||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;let r=!1;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 8:{this.appRef.deferredDirtyFlags|=8;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 13:{this.appRef.dirtyFlags|=16,r=!0;break}case 14:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{r=!0;break}case 10:case 9:case 7:case 11:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?F0:__;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(e){return!(this.disableScheduling&&!e||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(gc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(e),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,F0(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function rw(){return Dn("NgZoneless"),Bo([{provide:zr,useExisting:nw},{provide:Ee,useClass:vc},{provide:Hc,useValue:!0},{provide:pp,useValue:!1},[]])}function yA(){return typeof $localize<"u"&&$localize.locale||Tc}var ta=new V("",{providedIn:"root",factory:()=>I(ta,te.Optional|te.SkipSelf)||yA()});var qh=new V(""),_A=new V("");function Os(n){return!n.moduleRef}function bA(n){let t=Os(n)?n.r3Injector:n.moduleRef.injector,e=t.get(Ee);return e.run(()=>{Os(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=t.get(Nt,null),i;if(e.runOutsideAngular(()=>{i=e.onError.subscribe({next:o=>{r.handleError(o)}})}),Os(n)){let o=()=>t.destroy(),s=n.platformInjector.get(qh);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(qh);s.add(o),n.moduleRef.onDestroy(()=>{ec(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return EM(r,e,()=>{let o=t.get(jb);return o.runInitializers(),o.donePromise.then(()=>{let s=t.get(ta,Tc);if(eA(s||Tc),!t.get(_A,!0))return Os(n)?t.get(mr):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Os(n)){let l=t.get(mr);return n.rootComponent!==void 0&&l.bootstrap(n.rootComponent),l}else return wA(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function wA(n,t){let e=n.injector.get(mr);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>e.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(e);else throw new A(-403,!1);t.push(n)}var tc=null;function EA(n=[],t){return Le.create({name:t,providers:[{provide:Nc,useValue:"platform"},{provide:qh,useValue:new Set([()=>tc=null])},...n]})}function CA(n=[]){if(tc)return tc;let t=EA(n);return tc=t,_M(),SA(t),t}function SA(n){let t=n.get(yp,null);it(n,()=>{t?.forEach(e=>e())})}var ce=(()=>{class n{static __NG_ELEMENT_ID__=DA}return n})();function DA(n){return IA(Et(),ne(),(n&16)===16)}function IA(n,t,e){if(Pi(n)&&!e){let r=jn(n.index,t);return new Oi(r,r)}else if(n.type&175){let r=t[an];return new Oi(r,t)}return null}var zh=class{constructor(){}supports(t){return Nb(t)}create(t){return new Gh(t)}},TA=(n,t)=>t,Gh=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||TA}forEachItem(t){let e;for(e=this._itHead;e!==null;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,r=this._removalsHead,i=0,o=null;for(;e||r;){let s=!r||e&&e.currentIndex<ay(r,i,o)?e:r,a=ay(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(e=e._next,s.previousIndex==null)i++;else{o||(o=[]);let d=a-i,h=l-i;if(d!=h){for(let v=0;v<d;v++){let g=v<o.length?o[v]:o[v]=0,b=g+v;h<=b&&b<d&&(o[v]=g+1)}let p=s.previousIndex;o[p]=h-d}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)t(e)}diff(t){if(t==null&&(t=[]),!Nb(t))throw new A(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._itHead,r=!1,i,o,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,o,s,a),r=!0):(r&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)),e=e._next}else i=0,pM(t,a=>{s=this._trackByFn(i,a),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,a,s,i),r=!0):(r&&(e=this._verifyReinsertion(e,a,s,i)),Object.is(e.item,a)||this._addIdentityChange(e,a)),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,r,i){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,i)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,i),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,i)):t=this._addAfter(new Wh(e,r),o,i)),t}_verifyReinsertion(t,e,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;t!==null;){let e=t._next;this._addToRemovals(this._unlink(t)),t=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let i=t._prevRemoved,o=t._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,e,r),this._addToMoves(t,r),t}_moveAfter(t,e,r){return this._unlink(t),this._insertAfter(t,e,r),this._addToMoves(t,r),t}_addAfter(t,e,r){return this._insertAfter(t,e,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,e,r){let i=e===null?this._itHead:e._next;return t._next=i,t._prev=e,i===null?this._itTail=t:i._prev=t,e===null?this._itHead=t:e._next=t,this._linkedRecords===null&&(this._linkedRecords=new xc),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let e=t._prev,r=t._next;return e===null?this._itHead=r:e._next=r,r===null?this._itTail=e:r._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new xc),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},Wh=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,e){this.item=t,this.trackById=e}},Qh=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let r;for(r=this._head;r!==null;r=r._nextDup)if((e===null||e<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let e=t._prevDup,r=t._nextDup;return e===null?this._head=r:e._nextDup=r,r===null?this._tail=e:r._prevDup=e,this._head===null}},xc=class{map=new Map;put(t){let e=t.trackById,r=this.map.get(e);r||(r=new Qh,this.map.set(e,r)),r.add(t)}get(t,e){let r=t,i=this.map.get(r);return i?i.get(t,e):null}remove(t){let e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function ay(n,t,e){let r=n.previousIndex;if(r===null)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+t+i}function ly(){return new Wp([new zh])}var Wp=(()=>{class n{factories;static \u0275prov=O({token:n,providedIn:"root",factory:ly});constructor(e){this.factories=e}static create(e,r){if(r!=null){let i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||ly()),deps:[[n,new wy,new Jh]]}}find(e){let r=this.factories.find(i=>i.supports(e));if(r!=null)return r;throw new A(901,!1)}}return n})();function iw(n){try{let{rootComponent:t,appProviders:e,platformProviders:r}=n,i=CA(r),o=[mA({}),{provide:zr,useExisting:nw},...e||[]],s=new Sc({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return bA({r3Injector:s.injector,platformInjector:i,rootComponent:t})}catch(t){return Promise.reject(t)}}function xn(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function $i(n,t){Dn("NgSignals");let e=Gv(n);return t?.equal&&(e[It].equal=t.equal),e}function Er(n){let t=he(null);try{return n()}finally{he(t)}}var ow=(()=>{class n{view;node;constructor(e,r){this.view=e,this.node=r}static __NG_ELEMENT_ID__=xA}return n})();function xA(){return new ow(ne(),Et())}var MA=!1,AA=(()=>{class n extends Dc{pendingTasks=I(_r);taskId=null;schedule(e){super.schedule(e),this.taskId===null&&(this.taskId=this.pendingTasks.add(),queueMicrotask(()=>this.flush()))}flush(){try{super.flush()}finally{this.taskId!==null&&(this.pendingTasks.remove(this.taskId),this.taskId=null)}}static \u0275prov=O({token:n,providedIn:"root",factory:()=>new n})}return n})(),Kh=class{scheduler;effectFn;zone;injector;unregisterOnDestroy;watcher;constructor(t,e,r,i,o,s){this.scheduler=t,this.effectFn=e,this.zone=r,this.injector=o,this.watcher=Jv(a=>this.runEffect(a),()=>this.schedule(),s),this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}runEffect(t){try{this.effectFn(t)}catch(e){this.injector.get(Nt,null,{optional:!0})?.handleError(e)}}run(){this.watcher.run()}schedule(){this.scheduler.schedule(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function kA(){}function NA(n,t){Dn("NgSignals"),!t?.injector&&rp(kA);let e=t?.injector??I(Le),r=t?.manualCleanup!==!0?e.get(Li):null,i=new Kh(e.get(AA),n,typeof Zone>"u"?null:Zone.current,r,e,t?.allowSignalWrites??!1),o=e.get(ce,null,{optional:!0});return!o||!(o._lView[Z]&8)?i.watcher.notify():(o._lView[Zl]??=[]).push(i.watcher.notify),i}var OA=MA;var Zh=class{[It];constructor(t){this[It]=t}destroy(){this[It].destroy()}};function Jr(n,t){if(OA)return NA(n,t);Dn("NgSignals"),!t?.injector&&rp(Jr);let e=t?.injector??I(Le),r=t?.manualCleanup!==!0?e.get(Li):null,i,o=e.get(ow,null,{optional:!0}),s=e.get(zr);return o!==null&&!t?.forceRoot?(i=FA(o.view,s,n),r instanceof mc&&r._lView===o.view&&(r=null)):i=LA(n,e.get(Ub),s),i.injector=e,r!==null&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new Zh(i)}var sw=q(N({},yi),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:Hs,run(){if(this.dirty=!1,this.hasRun&&!Ts(this))return;this.hasRun=!0;let n=r=>(this.cleanupFns??=[]).push(r),t=go(this),e=cc(!1);try{this.maybeCleanup(),this.fn(n)}finally{cc(e),Is(this,t)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}}),RA=q(N({},sw),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(13)},destroy(){vo(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),PA=q(N({},sw),{consumerMarkedDirty(){this.view[Z]|=8192,Zs(this.view),this.notifier.notify(14)},destroy(){vo(this),this.onDestroyFn(),this.maybeCleanup(),this.view[xi]?.delete(this)}});function FA(n,t,e){let r=Object.create(PA);return r.view=n,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=t,r.fn=e,n[xi]??=new Set,n[xi].add(r),r.consumerMarkedDirty(r),r}function LA(n,t,e){let r=Object.create(RA);return r.fn=n,r.scheduler=t,r.notifier=e,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.schedule(r),r.notifier.notify(13),r}var hw=null;function Sr(){return hw}function pw(n){hw??=n}var cu=class{};var Fe=new V(""),mw=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>I(VA),providedIn:"platform"})}return n})();var VA=(()=>{class n extends mw{_location;_history;_doc=I(Fe);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Sr().getBaseHref(this._doc)}onPopState(e){let r=Sr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){let r=Sr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){this._history.pushState(e,r,i)}replaceState(e,r,i){this._history.replaceState(e,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function gw(n,t){return n?t?n.endsWith("/")?t.startsWith("/")?n+t.slice(1):n+t:t.startsWith("/")?n+t:`${n}/${t}`:n:t}function aw(n){let t=n.match(/#|\?|$/),e=t&&t.index||n.length,r=e-(n[e-1]==="/"?1:0);return n.slice(0,r)+n.slice(e)}function Hi(n){return n&&n[0]!=="?"?"?"+n:n}var Wo=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>I(vw),providedIn:"root"})}return n})(),jA=new V(""),vw=(()=>{class n extends Wo{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??I(Fe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return gw(this._baseHref,e)}path(e=!1){let r=this._platformLocation.pathname+Hi(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,o){let s=this.prepareExternalUrl(i+Hi(o));this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){let s=this.prepareExternalUrl(i+Hi(o));this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||n)(P(mw),P(jA,8))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var na=(()=>{class n{_subject=new xe;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let r=this._locationStrategy.getBaseHref();this._basePath=$A(aw(lw(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Hi(r))}normalize(e){return n.stripTrailingSlash(BA(this._basePath,lw(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Hi(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Hi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Hi;static joinWithSlash=gw;static stripTrailingSlash=aw;static \u0275fac=function(r){return new(r||n)(P(Wo))};static \u0275prov=O({token:n,factory:()=>UA(),providedIn:"root"})}return n})();function UA(){return new na(P(Wo))}function BA(n,t){if(!n||!t.startsWith(n))return t;let e=t.substring(n.length);return e===""||["/",";","?","#"].includes(e[0])?e:t}function lw(n){return n.replace(/\/index.html$/,"")}function $A(n){if(new RegExp("^(https?:)?//").test(n)){let[,e]=n.split(/\/\/[^\/]+/);return e}return n}var St=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(St||{}),Se=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Se||{}),Kt=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Kt||{}),Xr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function HA(n){return un(n)[je.LocaleId]}function qA(n,t,e){let r=un(n),i=[r[je.DayPeriodsFormat],r[je.DayPeriodsStandalone]],o=dn(i,t);return dn(o,e)}function zA(n,t,e){let r=un(n),i=[r[je.DaysFormat],r[je.DaysStandalone]],o=dn(i,t);return dn(o,e)}function GA(n,t,e){let r=un(n),i=[r[je.MonthsFormat],r[je.MonthsStandalone]],o=dn(i,t);return dn(o,e)}function WA(n,t){let r=un(n)[je.Eras];return dn(r,t)}function tu(n,t){let e=un(n);return dn(e[je.DateFormat],t)}function nu(n,t){let e=un(n);return dn(e[je.TimeFormat],t)}function ru(n,t){let r=un(n)[je.DateTimeFormat];return dn(r,t)}function fu(n,t){let e=un(n),r=e[je.NumberSymbols][t];if(typeof r>"u"){if(t===Xr.CurrencyDecimal)return e[je.NumberSymbols][Xr.Decimal];if(t===Xr.CurrencyGroup)return e[je.NumberSymbols][Xr.Group]}return r}function yw(n){if(!n[je.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[je.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function QA(n){let t=un(n);return yw(t),(t[je.ExtraData][2]||[]).map(r=>typeof r=="string"?Qp(r):[Qp(r[0]),Qp(r[1])])}function KA(n,t,e){let r=un(n);yw(r);let i=[r[je.ExtraData][0],r[je.ExtraData][1]],o=dn(i,t)||[];return dn(o,e)||[]}function dn(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function Qp(n){let[t,e]=n.split(":");return{hours:+t,minutes:+e}}var ZA=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,iu={},YA=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function JA(n,t,e,r){let i=ak(n);t=Cr(e,t)||t;let s=[],a;for(;t;)if(a=YA.exec(t),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;t=h}else{s.push(t);break}let l=i.getTimezoneOffset();r&&(l=bw(r,l),i=sk(i,r,!0));let d="";return s.forEach(h=>{let p=ik(h);d+=p?p(i,e,l):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),d}function uu(n,t,e){let r=new Date(0);return r.setFullYear(n,t,e),r.setHours(0,0,0),r}function Cr(n,t){let e=HA(n);if(iu[e]??={},iu[e][t])return iu[e][t];let r="";switch(t){case"shortDate":r=tu(n,Kt.Short);break;case"mediumDate":r=tu(n,Kt.Medium);break;case"longDate":r=tu(n,Kt.Long);break;case"fullDate":r=tu(n,Kt.Full);break;case"shortTime":r=nu(n,Kt.Short);break;case"mediumTime":r=nu(n,Kt.Medium);break;case"longTime":r=nu(n,Kt.Long);break;case"fullTime":r=nu(n,Kt.Full);break;case"short":let i=Cr(n,"shortTime"),o=Cr(n,"shortDate");r=ou(ru(n,Kt.Short),[i,o]);break;case"medium":let s=Cr(n,"mediumTime"),a=Cr(n,"mediumDate");r=ou(ru(n,Kt.Medium),[s,a]);break;case"long":let l=Cr(n,"longTime"),d=Cr(n,"longDate");r=ou(ru(n,Kt.Long),[l,d]);break;case"full":let h=Cr(n,"fullTime"),p=Cr(n,"fullDate");r=ou(ru(n,Kt.Full),[h,p]);break}return r&&(iu[e][t]=r),r}function ou(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,r){return t!=null&&r in t?t[r]:e})),n}function Mn(n,t,e="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=e));let s=String(n);for(;s.length<t;)s="0"+s;return r&&(s=s.slice(s.length-t)),o+s}function XA(n,t){return Mn(n,3).substring(0,t)}function He(n,t,e=0,r=!1,i=!1){return function(o,s){let a=ek(n,o);if((e>0||a>-e)&&(a+=e),n===3)a===0&&e===-12&&(a=12);else if(n===6)return XA(a,t);let l=fu(s,Xr.MinusSign);return Mn(a,t,l,r,i)}}function ek(n,t){switch(n){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate();case 3:return t.getHours();case 4:return t.getMinutes();case 5:return t.getSeconds();case 6:return t.getMilliseconds();case 7:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function De(n,t,e=St.Format,r=!1){return function(i,o){return tk(i,o,n,t,e,r)}}function tk(n,t,e,r,i,o){switch(e){case 2:return GA(t,i,r)[n.getMonth()];case 1:return zA(t,i,r)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let d=QA(t),h=KA(t,i,r),p=d.findIndex(v=>{if(Array.isArray(v)){let[g,b]=v,w=s>=g.hours&&a>=g.minutes,C=s<b.hours||s===b.hours&&a<b.minutes;if(g.hours<b.hours){if(w&&C)return!0}else if(w||C)return!0}else if(v.hours===s&&v.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return qA(t,i,r)[s<12?0:1];case 3:return WA(t,r)[n.getFullYear()<=0?0:1];default:let l=e;throw new Error(`unexpected translation type ${l}`)}}function su(n){return function(t,e,r){let i=-1*r,o=fu(e,Xr.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+Mn(s,2,o)+Mn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+Mn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+Mn(s,2,o)+":"+Mn(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+Mn(s,2,o)+":"+Mn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}var nk=0,lu=4;function rk(n){let t=uu(n,nk,1).getDay();return uu(n,0,1+(t<=lu?lu:lu+7)-t)}function _w(n){let t=n.getDay(),e=t===0?-3:lu-t;return uu(n.getFullYear(),n.getMonth(),n.getDate()+e)}function Kp(n,t=!1){return function(e,r){let i;if(t){let o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();i=1+Math.floor((s+o)/7)}else{let o=_w(e),s=rk(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Mn(i,n,fu(r,Xr.MinusSign))}}function au(n,t=!1){return function(e,r){let o=_w(e).getFullYear();return Mn(o,n,fu(r,Xr.MinusSign),t)}}var Zp={};function ik(n){if(Zp[n])return Zp[n];let t;switch(n){case"G":case"GG":case"GGG":t=De(3,Se.Abbreviated);break;case"GGGG":t=De(3,Se.Wide);break;case"GGGGG":t=De(3,Se.Narrow);break;case"y":t=He(0,1,0,!1,!0);break;case"yy":t=He(0,2,0,!0,!0);break;case"yyy":t=He(0,3,0,!1,!0);break;case"yyyy":t=He(0,4,0,!1,!0);break;case"Y":t=au(1);break;case"YY":t=au(2,!0);break;case"YYY":t=au(3);break;case"YYYY":t=au(4);break;case"M":case"L":t=He(1,1,1);break;case"MM":case"LL":t=He(1,2,1);break;case"MMM":t=De(2,Se.Abbreviated);break;case"MMMM":t=De(2,Se.Wide);break;case"MMMMM":t=De(2,Se.Narrow);break;case"LLL":t=De(2,Se.Abbreviated,St.Standalone);break;case"LLLL":t=De(2,Se.Wide,St.Standalone);break;case"LLLLL":t=De(2,Se.Narrow,St.Standalone);break;case"w":t=Kp(1);break;case"ww":t=Kp(2);break;case"W":t=Kp(1,!0);break;case"d":t=He(2,1);break;case"dd":t=He(2,2);break;case"c":case"cc":t=He(7,1);break;case"ccc":t=De(1,Se.Abbreviated,St.Standalone);break;case"cccc":t=De(1,Se.Wide,St.Standalone);break;case"ccccc":t=De(1,Se.Narrow,St.Standalone);break;case"cccccc":t=De(1,Se.Short,St.Standalone);break;case"E":case"EE":case"EEE":t=De(1,Se.Abbreviated);break;case"EEEE":t=De(1,Se.Wide);break;case"EEEEE":t=De(1,Se.Narrow);break;case"EEEEEE":t=De(1,Se.Short);break;case"a":case"aa":case"aaa":t=De(0,Se.Abbreviated);break;case"aaaa":t=De(0,Se.Wide);break;case"aaaaa":t=De(0,Se.Narrow);break;case"b":case"bb":case"bbb":t=De(0,Se.Abbreviated,St.Standalone,!0);break;case"bbbb":t=De(0,Se.Wide,St.Standalone,!0);break;case"bbbbb":t=De(0,Se.Narrow,St.Standalone,!0);break;case"B":case"BB":case"BBB":t=De(0,Se.Abbreviated,St.Format,!0);break;case"BBBB":t=De(0,Se.Wide,St.Format,!0);break;case"BBBBB":t=De(0,Se.Narrow,St.Format,!0);break;case"h":t=He(3,1,-12);break;case"hh":t=He(3,2,-12);break;case"H":t=He(3,1);break;case"HH":t=He(3,2);break;case"m":t=He(4,1);break;case"mm":t=He(4,2);break;case"s":t=He(5,1);break;case"ss":t=He(5,2);break;case"S":t=He(6,1);break;case"SS":t=He(6,2);break;case"SSS":t=He(6,3);break;case"Z":case"ZZ":case"ZZZ":t=su(0);break;case"ZZZZZ":t=su(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=su(1);break;case"OOOO":case"ZZZZ":case"zzzz":t=su(2);break;default:return null}return Zp[n]=t,t}function bw(n,t){n=n.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function ok(n,t){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+t),n}function sk(n,t,e){let r=e?-1:1,i=n.getTimezoneOffset(),o=bw(t,i);return ok(n,r*(o-i))}function ak(n){if(cw(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return uu(i,o-1,s)}let e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let r;if(r=n.match(ZA))return lk(r)}let t=new Date(n);if(!cw(t))throw new Error(`Unable to convert "${n}" into a date`);return t}function lk(n){let t=new Date(0),e=0,r=0,i=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-e,a=Number(n[5]||0)-r,l=Number(n[6]||0),d=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(t,s,a,l,d),t}function cw(n){return n instanceof Date&&!isNaN(n.valueOf())}function hu(n,t){t=encodeURIComponent(t);for(let e of n.split(";")){let r=e.indexOf("="),[i,o]=r==-1?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var Yp=/\s+/,uw=[],fn=(()=>{class n{_ngEl;_renderer;initialClasses=uw;rawClass;stateMap=new Map;constructor(e,r){this._ngEl=e,this._renderer=r}set klass(e){this.initialClasses=e!=null?e.trim().split(Yp):uw}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(Yp):e}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let r of e)this._updateState(r,!0);else if(e!=null)for(let r of Object.keys(e))this._updateState(r,!!e[r]);this._applyStateDiff()}_updateState(e,r){let i=this.stateMap.get(e);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let r=e[0],i=e[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(e,r){e=e.trim(),e.length>0&&e.split(Yp).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(T(Ye),T(Tn))};static \u0275dir=fe({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var Jp=class{$implicit;ngForOf;index;count;constructor(t,e,r,i){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},qe=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let r=this._viewContainer;e.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Jp(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),dw(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);dw(o,i)})}static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||n)(T(wr),T(Wr),T(Wp))};static \u0275dir=fe({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function dw(n,t){n.context.$implicit=t.item}var ye=(()=>{class n{_viewContainer;_context=new Xp;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,r){this._viewContainer=e,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){fw("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){fw("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||n)(T(wr),T(Wr))};static \u0275dir=fe({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Xp=class{$implicit=null;ngIf=null};function fw(n,t){if(!!!(!t||t.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${bt(t)}'.`)}var em=class{_viewContainerRef;_templateRef;_created=!1;constructor(t,e){this._viewContainerRef=t,this._templateRef=e}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}},tm=(()=>{class n{_defaultViews=[];_defaultUsed=!1;_caseCount=0;_lastCaseCheckIndex=0;_lastCasesMatched=!1;_ngSwitch;set ngSwitch(e){this._ngSwitch=e,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){let r=e===this._ngSwitch;return this._lastCasesMatched||=r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(let r of this._defaultViews)r.enforceState(e)}}static \u0275fac=function(r){return new(r||n)};static \u0275dir=fe({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}})}return n})(),ww=(()=>{class n{ngSwitch;_view;ngSwitchCase;constructor(e,r,i){this.ngSwitch=i,i._addCase(),this._view=new em(e,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static \u0275fac=function(r){return new(r||n)(T(wr),T(Wr),T(tm,9))};static \u0275dir=fe({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}})}return n})();function ck(n,t){return new A(2100,!1)}var uk="mediumDate",dk=new V(""),fk=new V(""),hn=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(e,r,i){this.locale=e,this.defaultTimezone=r,this.defaultOptions=i}transform(e,r,i,o){if(e==null||e===""||e!==e)return null;try{let s=r??this.defaultOptions?.dateFormat??uk,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return JA(e,s,o||this.locale,a)}catch(s){throw ck(n,s.message)}}static \u0275fac=function(r){return new(r||n)(T(ta,16),T(dk,24),T(fk,24))};static \u0275pipe=Mb({name:"date",type:n,pure:!0})}return n})();var ge=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Je({type:n});static \u0275inj=Ze({})}return n})(),nm="browser",hk="server";function Re(n){return n===nm}function rm(n){return n===hk}var Go=class{};var oa=class{},sa=class{},Dr=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let r=e.indexOf(":");if(r>0){let i=e.slice(0,r),o=e.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,r)=>{this.addHeaderEntry(r,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,r])=>{this.setHeaderEntries(e,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new n;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,e);let i=(t.op==="a"?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":let o=t.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let s=this.headers.get(e);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}break}}addHeaderEntry(t,e){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(e):this.headers.set(r,[e])}setHeaderEntries(t,e){let r=(Array.isArray(e)?e:[e]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var sm=class{encodeKey(t){return Ew(t)}encodeValue(t){return Ew(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function mk(n,t){let e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}var gk=/%(\d[a-f0-9])/gi,vk={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ew(n){return encodeURIComponent(n).replace(gk,(t,e)=>vk[e]??t)}function pu(n){return`${n}`}var ti=class n{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new sm,t.fromString){if(t.fromObject)throw new A(2805,!1);this.map=mk(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let r=t.fromObject[e],i=Array.isArray(r)?r.map(pu):[pu(r)];this.map.set(e,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(r=>{let i=t[r];Array.isArray(i)?i.forEach(o=>{e.push({param:r,value:o,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new n({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(pu(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],i=r.indexOf(pu(t.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var am=class{map=new Map;set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function yk(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Cw(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Sw(n){return typeof Blob<"u"&&n instanceof Blob}function Dw(n){return typeof FormData<"u"&&n instanceof FormData}function _k(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var ra="Content-Type",mu="Accept",um="X-Request-URL",Mw="text/plain",Aw="application/json",kw=`${Aw}, ${Mw}, */*`,ia=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,e,r,i){this.url=e,this.method=t.toUpperCase();let o;if(yk(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Dr,this.context??=new am,!this.params)this.params=new ti,this.urlWithParams=e;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=e;else{let a=e.indexOf("?"),l=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Cw(this.body)||Sw(this.body)||Dw(this.body)||_k(this.body)?this.body:this.body instanceof ti?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Dw(this.body)?null:Sw(this.body)?this.body.type||null:Cw(this.body)?null:typeof this.body=="string"?Mw:this.body instanceof ti?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?Aw:null}clone(t={}){let e=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=t.transferCache??this.transferCache,s=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,d=t.headers||this.headers,h=t.params||this.params,p=t.context??this.context;return t.setHeaders!==void 0&&(d=Object.keys(t.setHeaders).reduce((v,g)=>v.set(g,t.setHeaders[g]),d)),t.setParams&&(h=Object.keys(t.setParams).reduce((v,g)=>v.set(g,t.setParams[g]),h)),new n(e,r,s,{params:h,headers:d,context:p,reportProgress:l,responseType:i,withCredentials:a,transferCache:o})}},ni=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(ni||{}),aa=class{headers;status;statusText;url;ok;type;constructor(t,e=200,r="OK"){this.headers=t.headers||new Dr,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},gu=class n extends aa{constructor(t={}){super(t)}type=ni.ResponseHeader;clone(t={}){return new n({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},la=class n extends aa{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=ni.Response;clone(t={}){return new n({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},ei=class extends aa{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},Nw=200,bk=204;function im(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var dm=(()=>{class n{handler;constructor(e){this.handler=e}request(e,r,i={}){let o;if(e instanceof ia)o=e;else{let l;i.headers instanceof Dr?l=i.headers:l=new Dr(i.headers);let d;i.params&&(i.params instanceof ti?d=i.params:d=new ti({fromObject:i.params})),o=new ia(e,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:d,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=z(o).pipe(Ur(l=>this.handler.handle(l)));if(e instanceof ia||i.observe==="events")return s;let a=s.pipe(yt(l=>l instanceof la));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(W(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new A(2806,!1);return l.body}));case"blob":return a.pipe(W(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new A(2807,!1);return l.body}));case"text":return a.pipe(W(l=>{if(l.body!==null&&typeof l.body!="string")throw new A(2808,!1);return l.body}));case"json":default:return a.pipe(W(l=>l.body))}case"response":return a;default:throw new A(2809,!1)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:new ti().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,im(i,r))}post(e,r,i={}){return this.request("POST",e,im(i,r))}put(e,r,i={}){return this.request("PUT",e,im(i,r))}static \u0275fac=function(r){return new(r||n)(P(oa))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),wk=/^\)\]\}',?\n/;function Iw(n){if(n.url)return n.url;let t=um.toLocaleLowerCase();return n.headers.get(t)}var Ow=new V(""),om=(()=>{class n{fetchImpl=I(lm,{optional:!0})?.fetch??((...e)=>globalThis.fetch(...e));ngZone=I(Ee);handle(e){return new ue(r=>{let i=new AbortController;return this.doRequest(e,i.signal,r).then(cm,o=>r.error(new ei({error:o}))),()=>i.abort()})}async doRequest(e,r,i){let o=this.createRequestInit(e),s;try{let g=this.ngZone.runOutsideAngular(()=>this.fetchImpl(e.urlWithParams,N({signal:r},o)));Ek(g),i.next({type:ni.Sent}),s=await g}catch(g){i.error(new ei({error:g,status:g.status??0,statusText:g.statusText,url:e.urlWithParams,headers:g.headers}));return}let a=new Dr(s.headers),l=s.statusText,d=Iw(s)??e.urlWithParams,h=s.status,p=null;if(e.reportProgress&&i.next(new gu({headers:a,status:h,statusText:l,url:d})),s.body){let g=s.headers.get("content-length"),b=[],w=s.body.getReader(),C=0,k,L,F=typeof Zone<"u"&&Zone.current;await this.ngZone.runOutsideAngular(async()=>{for(;;){let{done:Q,value:be}=await w.read();if(Q)break;if(b.push(be),C+=be.length,e.reportProgress){L=e.responseType==="text"?(L??"")+(k??=new TextDecoder).decode(be,{stream:!0}):void 0;let we=()=>i.next({type:ni.DownloadProgress,total:g?+g:void 0,loaded:C,partialText:L});F?F.run(we):we()}}});let B=this.concatChunks(b,C);try{let Q=s.headers.get(ra)??"";p=this.parseBody(e,B,Q)}catch(Q){i.error(new ei({error:Q,headers:new Dr(s.headers),status:s.status,statusText:s.statusText,url:Iw(s)??e.urlWithParams}));return}}h===0&&(h=p?Nw:0),h>=200&&h<300?(i.next(new la({body:p,headers:a,status:h,statusText:l,url:d})),i.complete()):i.error(new ei({error:p,headers:a,status:h,statusText:l,url:d}))}parseBody(e,r,i){switch(e.responseType){case"json":let o=new TextDecoder().decode(r).replace(wk,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(e){let r={},i=e.withCredentials?"include":void 0;if(e.headers.forEach((o,s)=>r[o]=s.join(",")),e.headers.has(mu)||(r[mu]=kw),!e.headers.has(ra)){let o=e.detectContentTypeHeader();o!==null&&(r[ra]=o)}return{body:e.serializeBody(),method:e.method,headers:r,credentials:i}}concatChunks(e,r){let i=new Uint8Array(r),o=0;for(let s of e)i.set(s,o),o+=s.length;return i}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),lm=class{};function cm(){}function Ek(n){n.then(cm,cm)}function Ck(n,t){return t(n)}function Sk(n,t,e){return(r,i)=>it(e,()=>t(r,o=>n(o,i)))}var Rw=new V(""),Dk=new V(""),Ik=new V("",{providedIn:"root",factory:()=>!0});var Tw=(()=>{class n extends oa{backend;injector;chain=null;pendingTasks=I(_r);contributeToStability=I(Ik);constructor(e,r){super(),this.backend=e,this.injector=r}handle(e){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Rw),...this.injector.get(Dk,[])]));this.chain=r.reduceRight((i,o)=>Sk(i,o,this.injector),Ck)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(e,i=>this.backend.handle(i)).pipe(or(()=>this.pendingTasks.remove(r)))}else return this.chain(e,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(P(sa),P(kt))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})();var Tk=/^\)\]\}',?\n/,xk=RegExp(`^${um}:`,"m");function Mk(n){return"responseURL"in n&&n.responseURL?n.responseURL:xk.test(n.getAllResponseHeaders())?n.getResponseHeader(um):null}var xw=(()=>{class n{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new A(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Ne(r.\u0275loadImpl()):z(null)).pipe($t(()=>new ue(o=>{let s=r.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((w,C)=>s.setRequestHeader(w,C.join(","))),e.headers.has(mu)||s.setRequestHeader(mu,kw),!e.headers.has(ra)){let w=e.detectContentTypeHeader();w!==null&&s.setRequestHeader(ra,w)}if(e.responseType){let w=e.responseType.toLowerCase();s.responseType=w!=="json"?w:"text"}let a=e.serializeBody(),l=null,d=()=>{if(l!==null)return l;let w=s.statusText||"OK",C=new Dr(s.getAllResponseHeaders()),k=Mk(s)||e.url;return l=new gu({headers:C,status:s.status,statusText:w,url:k}),l},h=()=>{let{headers:w,status:C,statusText:k,url:L}=d(),F=null;C!==bk&&(F=typeof s.response>"u"?s.responseText:s.response),C===0&&(C=F?Nw:0);let B=C>=200&&C<300;if(e.responseType==="json"&&typeof F=="string"){let Q=F;F=F.replace(Tk,"");try{F=F!==""?JSON.parse(F):null}catch(be){F=Q,B&&(B=!1,F={error:be,text:F})}}B?(o.next(new la({body:F,headers:w,status:C,statusText:k,url:L||void 0})),o.complete()):o.error(new ei({error:F,headers:w,status:C,statusText:k,url:L||void 0}))},p=w=>{let{url:C}=d(),k=new ei({error:w,status:s.status||0,statusText:s.statusText||"Unknown Error",url:C||void 0});o.error(k)},v=!1,g=w=>{v||(o.next(d()),v=!0);let C={type:ni.DownloadProgress,loaded:w.loaded};w.lengthComputable&&(C.total=w.total),e.responseType==="text"&&s.responseText&&(C.partialText=s.responseText),o.next(C)},b=w=>{let C={type:ni.UploadProgress,loaded:w.loaded};w.lengthComputable&&(C.total=w.total),o.next(C)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),e.reportProgress&&(s.addEventListener("progress",g),a!==null&&s.upload&&s.upload.addEventListener("progress",b)),s.send(a),o.next({type:ni.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),e.reportProgress&&(s.removeEventListener("progress",g),a!==null&&s.upload&&s.upload.removeEventListener("progress",b)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(P(Go))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),Pw=new V(""),Ak="XSRF-TOKEN",kk=new V("",{providedIn:"root",factory:()=>Ak}),Nk="X-XSRF-TOKEN",Ok=new V("",{providedIn:"root",factory:()=>Nk}),vu=class{},Rk=(()=>{class n{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,r,i){this.doc=e,this.platform=r,this.cookieName=i}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=hu(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(r){return new(r||n)(P(Fe),P(Ct),P(kk))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})();function Pk(n,t){let e=n.url.toLowerCase();if(!I(Pw)||n.method==="GET"||n.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return t(n);let r=I(vu).getToken(),i=I(Ok);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),t(n)}var Fw=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Fw||{});function Fk(n,t){return{\u0275kind:n,\u0275providers:t}}function Lw(...n){let t=[dm,xw,Tw,{provide:oa,useExisting:Tw},{provide:sa,useFactory:()=>I(Ow,{optional:!0})??I(xw)},{provide:Rw,useValue:Pk,multi:!0},{provide:Pw,useValue:!0},{provide:vu,useClass:Rk}];for(let e of n)t.push(...e.\u0275providers);return Bo(t)}function Vw(){return Fk(Fw.Fetch,[om,{provide:Ow,useExisting:om},{provide:sa,useExisting:om}])}var hm=class extends cu{supportsDOMEvents=!0},pm=class n extends hm{static makeCurrent(){pw(new n)}onAndCancel(t,e,r,i){return t.addEventListener(e,r,i),()=>{t.removeEventListener(e,r,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=Vk();return e==null?null:jk(e)}resetBaseElement(){ca=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return hu(document.cookie,t)}},ca=null;function Vk(){return ca=ca||document.querySelector("base"),ca?ca.getAttribute("href"):null}function jk(n){return new URL(n,document.baseURI).pathname}var Uk=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),mm=new V(""),Hw=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,r){this._zone=r,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,i,o){return this._findPluginFor(r).addEventListener(e,r,i,o)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(o=>o.supports(e)),!r)throw new A(5101,!1);return this._eventNameToPlugin.set(e,r),r}static \u0275fac=function(r){return new(r||n)(P(mm),P(Ee))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),_u=class{_doc;constructor(t){this._doc=t}manager},yu="ng-app-id";function jw(n){for(let t of n)t.remove()}function Uw(n,t){let e=t.createElement("style");return e.textContent=n,e}function Bk(n,t,e,r){let i=n.head?.querySelectorAll(`style[${yu}="${t}"],link[${yu}="${t}"]`);if(i)for(let o of i)o.removeAttribute(yu),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&e.set(o.textContent,{usage:0,elements:[o]})}function gm(n,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",n),e}var qw=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,r,i,o={}){this.doc=e,this.appId=r,this.nonce=i,this.isServer=rm(o),Bk(e,r,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,r){for(let i of e)this.addUsage(i,this.inline,Uw);r?.forEach(i=>this.addUsage(i,this.external,gm))}removeStyles(e,r){for(let i of e)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(e,r,i){let o=r.get(e);o?o.usage++:r.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(e,this.doc)))})}removeUsage(e,r){let i=r.get(e);i&&(i.usage--,i.usage<=0&&(jw(i.elements),r.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])jw(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(e,Uw(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(e,gm(r,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(yu,this.appId),e.appendChild(r)}static \u0275fac=function(r){return new(r||n)(P(Fe),P(Ys),P(Js,8),P(Ct))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),fm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},ym=/%COMP%/g;var zw="%COMP%",$k=`_nghost-${zw}`,Hk=`_ngcontent-${zw}`,qk=!0,zk=new V("",{providedIn:"root",factory:()=>qk});function Gk(n){return Hk.replace(ym,n)}function Wk(n){return $k.replace(ym,n)}function Gw(n,t){return t.map(e=>e.replace(ym,n))}var bu=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,r,i,o,s,a,l,d=null,h=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=d,this.tracingService=h,this.platformIsServer=rm(a),this.defaultRenderer=new ua(e,s,l,this.platformIsServer,this.tracingService)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Un.ShadowDom&&(r=q(N({},r),{encapsulation:Un.Emulated}));let i=this.getOrCreateRenderer(e,r);return i instanceof wu?i.applyToHost(e):i instanceof da&&i.applyStyles(),i}getOrCreateRenderer(e,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,d=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,v=this.tracingService;switch(r.encapsulation){case Un.Emulated:o=new wu(l,d,r,this.appId,h,s,a,p,v);break;case Un.ShadowDom:return new vm(l,d,e,r,s,a,this.nonce,p,v);default:o=new da(l,d,r,h,s,a,p,v);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(r){return new(r||n)(P(Hw),P(qw),P(Ys),P(zk),P(Fe),P(Ct),P(Ee),P(Js),P(qo,8))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),ua=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,r,i,o){this.eventManager=t,this.doc=e,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(fm[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(Bw(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(Bw(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){e.remove()}selectRootElement(t,e){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new A(-5104,!1);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;let o=fm[i];o?t.setAttributeNS(o,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){let i=fm[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(hr.DashCase|hr.Important)?t.style.setProperty(e,r,i&hr.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&hr.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t!=null&&(t[e]=r)}setValue(t,e){t.nodeValue=e}listen(t,e,r,i){if(typeof t=="string"&&(t=Sr().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${e}`);let o=this.decoratePreventDefault(r);return this.tracingService!==null&&this.tracingService.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,e,o)),this.eventManager.addEventListener(t,e,o,i)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function Bw(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var vm=class extends ua{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,r,i,o,s,a,l,d){super(t,o,s,l,d),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=Gw(i.id,h);for(let v of h){let g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=v,this.shadowRoot.appendChild(g)}let p=i.getExternalStyles?.();if(p)for(let v of p){let g=gm(v,o);a&&g.setAttribute("nonce",a),this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},da=class extends ua{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,r,i,o,s,a,l,d){super(t,o,s,a,l),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=d?Gw(d,h):h,this.styleUrls=r.getExternalStyles?.(d)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},wu=class extends da{contentAttr;hostAttr;constructor(t,e,r,i,o,s,a,l,d){let h=i+"-"+r.id;super(t,e,r,o,s,a,l,d,h),this.contentAttr=Gk(h),this.hostAttr=Wk(h)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}},Qk=(()=>{class n extends _u{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i,o){return e.addEventListener(r,i,o),()=>this.removeEventListener(e,r,i,o)}removeEventListener(e,r,i,o){return e.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(P(Fe))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),$w=["alt","control","meta","shift"],Kk={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Zk={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},Yk=(()=>{class n extends _u{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Sr().onAndCancel(e,s.domEventName,a,o))}static parseEventName(e){let r=e.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),$w.forEach(d=>{let h=r.indexOf(d);h>-1&&(r.splice(h,1),s+=d+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(e,r){let i=Kk[e.key]||e.key,o="";return r.indexOf("code.")>-1&&(i=e.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),$w.forEach(s=>{if(s!==i){let a=Zk[s];a(e)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(e,r,i){return o=>{n.matchEventFullKeyCode(o,e)&&i.runGuarded(()=>r(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(r){return new(r||n)(P(Fe))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})();function Ww(n,t){return iw(N({rootComponent:n},Jk(t)))}function Jk(n){return{appProviders:[...rN,...n?.providers??[]],platformProviders:nN}}function Xk(){pm.makeCurrent()}function eN(){return new Nt}function tN(){return M_(document),document}var nN=[{provide:Ct,useValue:nm},{provide:yp,useValue:Xk,multi:!0},{provide:Fe,useFactory:tN,deps:[]}];var rN=[{provide:Nc,useValue:"root"},{provide:Nt,useFactory:eN,deps:[]},{provide:mm,useClass:Qk,multi:!0,deps:[Fe,Ee,Ct]},{provide:mm,useClass:Yk,multi:!0,deps:[Fe]},bu,qw,Hw,{provide:Qr,useExisting:bu},{provide:Go,useClass:Uk,deps:[]},[]];var Qw=(()=>{class n{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(r){return new(r||n)(P(Fe))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var _m=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=P(iN),i},providedIn:"root"})}return n})(),iN=(()=>{class n extends _m{_doc;constructor(e){super(),this._doc=e}sanitize(e,r){if(r==null)return null;switch(e){case mt.NONE:return r;case mt.HTML:return Zr(r,"HTML")?In(r):z_(this._doc,String(r)).toString();case mt.STYLE:return Zr(r,"Style")?In(r):r;case mt.SCRIPT:if(Zr(r,"Script"))return In(r);throw new A(5200,!1);case mt.URL:return Zr(r,"URL")?In(r):Wc(String(r));case mt.RESOURCE_URL:if(Zr(r,"ResourceURL"))return In(r);throw new A(5201,!1);default:throw new A(5202,!1)}}bypassSecurityTrustHtml(e){return P_(e)}bypassSecurityTrustStyle(e){return F_(e)}bypassSecurityTrustScript(e){return L_(e)}bypassSecurityTrustUrl(e){return V_(e)}bypassSecurityTrustResourceUrl(e){return j_(e)}static \u0275fac=function(r){return new(r||n)(P(Fe))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var X="primary",Ia=Symbol("RouteTitle"),Sm=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Xo(n){return new Sm(n)}function sN(n,t,e){let r=e.path.split("/");if(r.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function aN(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!zn(n[e],t[e]))return!1;return!0}function zn(n,t){let e=n?Dm(n):void 0,r=t?Dm(t):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let o=0;o<e.length;o++)if(i=e[o],!rE(n[i],t[i]))return!1;return!0}function Dm(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function rE(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),r=[...t].sort();return e.every((i,o)=>r[o]===i)}else return n===t}function iE(n){return n.length>0?n[n.length-1]:null}function ii(n){return Tf(n)?n:Ui(n)?Ne(Promise.resolve(n)):z(n)}var lN={exact:sE,subset:aE},oE={exact:cN,subset:uN,ignored:()=>!0};function Zw(n,t,e){return lN[e.paths](n.root,t.root,e.matrixParams)&&oE[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function cN(n,t){return zn(n,t)}function sE(n,t,e){if(!zi(n.segments,t.segments)||!Su(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!n.children[r]||!sE(n.children[r],t.children[r],e))return!1;return!0}function uN(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>rE(n[e],t[e]))}function aE(n,t,e){return lE(n,t,t.segments,e)}function lE(n,t,e,r){if(n.segments.length>e.length){let i=n.segments.slice(0,e.length);return!(!zi(i,e)||t.hasChildren()||!Su(i,e,r))}else if(n.segments.length===e.length){if(!zi(n.segments,e)||!Su(n.segments,e,r))return!1;for(let i in t.children)if(!n.children[i]||!aE(n.children[i],t.children[i],r))return!1;return!0}else{let i=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!zi(n.segments,i)||!Su(n.segments,i,r)||!n.children[X]?!1:lE(n.children[X],t,o,r)}}function Su(n,t,e){return t.every((r,i)=>oE[e](n[i].parameters,r.parameters))}var Tr=class{root;queryParams;fragment;_queryParamMap;constructor(t=new _e([],{}),e={},r=null){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Xo(this.queryParams),this._queryParamMap}toString(){return hN.serialize(this)}},_e=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Du(this)}},qi=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=Xo(this.parameters),this._parameterMap}toString(){return uE(this)}};function dN(n,t){return zi(n,t)&&n.every((e,r)=>zn(e.parameters,t[r].parameters))}function zi(n,t){return n.length!==t.length?!1:n.every((e,r)=>e.path===t[r].path)}function fN(n,t){let e=[];return Object.entries(n.children).forEach(([r,i])=>{r===X&&(e=e.concat(t(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==X&&(e=e.concat(t(i,r)))}),e}var Ym=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>new va,providedIn:"root"})}return n})(),va=class{parse(t){let e=new Tm(t);return new Tr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${fa(t.root,!0)}`,r=gN(t.queryParams),i=typeof t.fragment=="string"?`#${pN(t.fragment)}`:"";return`${e}${r}${i}`}},hN=new va;function Du(n){return n.segments.map(t=>uE(t)).join("/")}function fa(n,t){if(!n.hasChildren())return Du(n);if(t){let e=n.children[X]?fa(n.children[X],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==X&&r.push(`${i}:${fa(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}else{let e=fN(n,(r,i)=>i===X?[fa(n.children[X],!1)]:[`${i}:${fa(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[X]!=null?`${Du(n)}/${e[0]}`:`${Du(n)}/(${e.join("//")})`}}function cE(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Eu(n){return cE(n).replace(/%3B/gi,";")}function pN(n){return encodeURI(n)}function Im(n){return cE(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Iu(n){return decodeURIComponent(n)}function Yw(n){return Iu(n.replace(/\+/g,"%20"))}function uE(n){return`${Im(n.path)}${mN(n.parameters)}`}function mN(n){return Object.entries(n).map(([t,e])=>`;${Im(t)}=${Im(e)}`).join("")}function gN(n){let t=Object.entries(n).map(([e,r])=>Array.isArray(r)?r.map(i=>`${Eu(e)}=${Eu(i)}`).join("&"):`${Eu(e)}=${Eu(r)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var vN=/^[^\/()?;#]+/;function bm(n){let t=n.match(vN);return t?t[0]:""}var yN=/^[^\/()?;=#]+/;function _N(n){let t=n.match(yN);return t?t[0]:""}var bN=/^[^=?&#]+/;function wN(n){let t=n.match(bN);return t?t[0]:""}var EN=/^[^&#]+/;function CN(n){let t=n.match(EN);return t?t[0]:""}var Tm=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new _e([],{}):new _e([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[X]=new _e(t,e)),r}parseSegment(){let t=bm(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new A(4009,!1);return this.capture(t),new qi(Iu(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=_N(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let i=bm(this.remaining);i&&(r=i,this.capture(r))}t[Iu(e)]=Iu(r)}parseQueryParam(t){let e=wN(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let s=CN(this.remaining);s&&(r=s,this.capture(r))}let i=Yw(e),o=Yw(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=bm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new A(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=X);let s=this.parseChildren();e[o]=Object.keys(s).length===1?s[X]:new _e([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new A(4011,!1)}};function dE(n){return n.segments.length>0?new _e([],{[X]:n}):n}function fE(n){let t={};for(let[r,i]of Object.entries(n.children)){let o=fE(i);if(r===X&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let e=new _e(n.segments,t);return SN(e)}function SN(n){if(n.numberOfChildren===1&&n.children[X]){let t=n.children[X];return new _e(n.segments.concat(t.segments),t.children)}return n}function Gi(n){return n instanceof Tr}function DN(n,t,e=null,r=null){let i=hE(n);return pE(i,t,e,r)}function hE(n){let t;function e(o){let s={};for(let l of o.children){let d=e(l);s[l.outlet]=d}let a=new _e(o.url,s);return o===n&&(t=a),a}let r=e(n.root),i=dE(r);return t??i}function pE(n,t,e,r){let i=n;for(;i.parent;)i=i.parent;if(t.length===0)return wm(i,i,i,e,r);let o=IN(t);if(o.toRoot())return wm(i,i,new _e([],{}),e,r);let s=TN(o,i,n),a=s.processChildren?pa(s.segmentGroup,s.index,o.commands):gE(s.segmentGroup,s.index,o.commands);return wm(i,s.segmentGroup,a,e,r)}function Tu(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function ya(n){return typeof n=="object"&&n!=null&&n.outlets}function wm(n,t,e,r,i){let o={};r&&Object.entries(r).forEach(([l,d])=>{o[l]=Array.isArray(d)?d.map(h=>`${h}`):`${d}`});let s;n===t?s=e:s=mE(n,t,e);let a=dE(fE(s));return new Tr(a,o,i)}function mE(n,t,e){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===t?r[i]=e:r[i]=mE(o,t,e)}),new _e(n.segments,r)}var xu=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&Tu(r[0]))throw new A(4003,!1);let i=r.find(ya);if(i&&i!==iE(r))throw new A(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function IN(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new xu(!0,0,n);let t=0,e=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,d])=>{a[l]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?e=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new xu(e,t,r)}var Zo=class{segmentGroup;processChildren;index;constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}};function TN(n,t,e){if(n.isAbsolute)return new Zo(t,!0,0);if(!e)return new Zo(t,!1,NaN);if(e.parent===null)return new Zo(e,!0,0);let r=Tu(n.commands[0])?0:1,i=e.segments.length-1+r;return xN(e,i,n.numberOfDoubleDots)}function xN(n,t,e){let r=n,i=t,o=e;for(;o>i;){if(o-=i,r=r.parent,!r)throw new A(4005,!1);i=r.segments.length}return new Zo(r,!1,i-o)}function MN(n){return ya(n[0])?n[0].outlets:{[X]:n}}function gE(n,t,e){if(n??=new _e([],{}),n.segments.length===0&&n.hasChildren())return pa(n,t,e);let r=AN(n,t,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new _e(n.segments.slice(0,r.pathIndex),{});return o.children[X]=new _e(n.segments.slice(r.pathIndex),n.children),pa(o,0,i)}else return r.match&&i.length===0?new _e(n.segments,{}):r.match&&!n.hasChildren()?xm(n,t,e):r.match?pa(n,0,i):xm(n,t,e)}function pa(n,t,e){if(e.length===0)return new _e(n.segments,{});{let r=MN(e),i={};if(Object.keys(r).some(o=>o!==X)&&n.children[X]&&n.numberOfChildren===1&&n.children[X].segments.length===0){let o=pa(n.children[X],t,e);return new _e(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=gE(n.children[o],t,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new _e(n.segments,i)}}function AN(n,t,e){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=e.length)return o;let s=n.segments[i],a=e[r];if(ya(a))break;let l=`${a}`,d=r<e.length-1?e[r+1]:null;if(i>0&&l===void 0)break;if(l&&d&&typeof d=="object"&&d.outlets===void 0){if(!Xw(l,d,s))return o;r+=2}else{if(!Xw(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function xm(n,t,e){let r=n.segments.slice(0,t),i=0;for(;i<e.length;){let o=e[i];if(ya(o)){let l=kN(o.outlets);return new _e(r,l)}if(i===0&&Tu(e[0])){let l=n.segments[t];r.push(new qi(l.path,Jw(e[0]))),i++;continue}let s=ya(o)?o.outlets[X]:`${o}`,a=i<e.length-1?e[i+1]:null;s&&a&&Tu(a)?(r.push(new qi(s,Jw(a))),i+=2):(r.push(new qi(s,{})),i++)}return new _e(r,{})}function kN(n){let t={};return Object.entries(n).forEach(([e,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[e]=xm(new _e([],{}),0,r))}),t}function Jw(n){let t={};return Object.entries(n).forEach(([e,r])=>t[e]=`${r}`),t}function Xw(n,t,e){return n==e.path&&zn(t,e.parameters)}var ma="imperative",at=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(at||{}),pn=class{id;url;constructor(t,e){this.id=t,this.url=e}},_a=class extends pn{type=at.NavigationStart;navigationTrigger;restoredState;constructor(t,e,r="imperative",i=null){super(t,e),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ri=class extends pn{urlAfterRedirects;type=at.NavigationEnd;constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Yt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Yt||{}),Mm=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Mm||{}),Ir=class extends pn{reason;code;type=at.NavigationCancel;constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Wi=class extends pn{reason;code;type=at.NavigationSkipped;constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i}},ba=class extends pn{error;target;type=at.NavigationError;constructor(t,e,r,i){super(t,e),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Mu=class extends pn{urlAfterRedirects;state;type=at.RoutesRecognized;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Am=class extends pn{urlAfterRedirects;state;type=at.GuardsCheckStart;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},km=class extends pn{urlAfterRedirects;state;shouldActivate;type=at.GuardsCheckEnd;constructor(t,e,r,i,o){super(t,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Nm=class extends pn{urlAfterRedirects;state;type=at.ResolveStart;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Om=class extends pn{urlAfterRedirects;state;type=at.ResolveEnd;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Rm=class{route;type=at.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Pm=class{route;type=at.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Fm=class{snapshot;type=at.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Lm=class{snapshot;type=at.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vm=class{snapshot;type=at.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jm=class{snapshot;type=at.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var wa=class{},es=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function NN(n,t){return n.providers&&!n._injector&&(n._injector=Vp(n.providers,t,`Route: ${n.path}`)),n._injector??t}function An(n){return n.outlet||X}function ON(n,t){let e=n.filter(r=>An(r)===t);return e.push(...n.filter(r=>An(r)!==t)),e}function Ta(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Um=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ta(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Fu(this.rootInjector)}},Fu=(()=>{class n{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,r){let i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){let r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new Um(this.rootInjector),this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(r){return new(r||n)(P(kt))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Au=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=Bm(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){let e=Bm(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=$m(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return $m(t,this._root).map(e=>e.value)}};function Bm(n,t){if(n===t.value)return t;for(let e of t.children){let r=Bm(n,e);if(r)return r}return null}function $m(n,t){if(n===t.value)return[t];for(let e of t.children){let r=$m(n,e);if(r.length)return r.unshift(t),r}return[]}var Zt=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function Ko(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var ku=class extends Au{snapshot;constructor(t,e){super(t),this.snapshot=e,Jm(this,t)}toString(){return this.snapshot.toString()}};function vE(n){let t=RN(n),e=new rt([new qi("",{})]),r=new rt({}),i=new rt({}),o=new rt({}),s=new rt(""),a=new kn(e,r,o,s,i,X,n,t.root);return a.snapshot=t.root,new ku(new Zt(a,[]),t)}function RN(n){let t={},e={},r={},i="",o=new Yo([],t,r,i,e,X,n,null,{});return new Ou("",new Zt(o,[]))}var kn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,r,i,o,s,a,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(W(d=>d[Ia]))??z(void 0),this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(W(t=>Xo(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(W(t=>Xo(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Nu(n,t,e="emptyOnly"){let r,{routeConfig:i}=n;return t!==null&&(e==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:N(N({},t.params),n.params),data:N(N({},t.data),n.data),resolve:N(N(N(N({},n.data),t.data),i?.data),n._resolvedData)}:r={params:N({},n.params),data:N({},n.data),resolve:N(N({},n.data),n._resolvedData??{})},i&&_E(i)&&(r.resolve[Ia]=i.title),r}var Yo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Ia]}constructor(t,e,r,i,o,s,a,l,d){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Xo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Xo(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},Ou=class extends Au{url;constructor(t,e){super(e),this.url=t,Jm(this,e)}toString(){return yE(this._root)}};function Jm(n,t){t.value._routerState=n,t.children.forEach(e=>Jm(n,e))}function yE(n){let t=n.children.length>0?` { ${n.children.map(yE).join(", ")} } `:"";return`${n.value}${t}`}function Em(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,zn(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),zn(t.params,e.params)||n.paramsSubject.next(e.params),aN(t.url,e.url)||n.urlSubject.next(e.url),zn(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Hm(n,t){let e=zn(n.params,t.params)&&dN(n.url,t.url),r=!n.parent!=!t.parent;return e&&!r&&(!n.parent||Hm(n.parent,t.parent))}function _E(n){return typeof n.title=="string"||n.title===null}var PN=new V(""),Xm=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=X;activateEvents=new ve;deactivateEvents=new ve;attachEvents=new ve;detachEvents=new ve;routerOutletData=w_(void 0);parentContexts=I(Fu);location=I(wr);changeDetector=I(ce);inputBinder=I(eg,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new A(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new A(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new A(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new A(4013,!1);this._activatedRoute=e;let i=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new qm(e,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=fe({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[ln]})}return n})(),qm=class n{route;childContexts;parent;outletData;__ngOutletInjector(t){return new n(this.route,this.childContexts,t,this.outletData)}constructor(t,e,r,i){this.route=t,this.childContexts=e,this.parent=r,this.outletData=i}get(t,e){return t===kn?this.route:t===Fu?this.childContexts:t===PN?this.outletData:this.parent.get(t,e)}},eg=new V("");function FN(n,t,e){let r=Ea(n,t._root,e?e._root:void 0);return new ku(r,t)}function Ea(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let r=e.value;r._futureSnapshot=t.value;let i=LN(n,t,e);return new Zt(r,i)}else{if(n.shouldAttach(t.value)){let o=n.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Ea(n,a)),s}}let r=VN(t.value),i=t.children.map(o=>Ea(n,o));return new Zt(r,i)}}function LN(n,t,e){return t.children.map(r=>{for(let i of e.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ea(n,r,i);return Ea(n,r)})}function VN(n){return new kn(new rt(n.url),new rt(n.params),new rt(n.queryParams),new rt(n.fragment),new rt(n.data),n.outlet,n.component,n)}var Ca=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},bE="ngNavigationCancelingError";function Ru(n,t){let{redirectTo:e,navigationBehaviorOptions:r}=Gi(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=wE(!1,Yt.Redirect);return i.url=e,i.navigationBehaviorOptions=r,i}function wE(n,t){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[bE]=!0,e.cancellationCode=t,e}function jN(n){return EE(n)&&Gi(n.url)}function EE(n){return!!n&&n[bE]}var UN=(n,t,e,r)=>W(i=>(new zm(t,i.targetRouterState,i.currentRouterState,e,r).activate(n),i)),zm=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,r,i,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),Em(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){let i=Ko(e);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,e,r){let i=t.value,o=e?e.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,r);else o&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=Ko(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){let r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=Ko(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,e,r){let i=Ko(e);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new jm(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Lm(t.value.snapshot))}activateRoutes(t,e,r){let i=t.value,o=e?e.value:null;if(Em(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Em(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},Pu=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Jo=class{component;route;constructor(t,e){this.component=t,this.route=e}};function BN(n,t,e){let r=n._root,i=t?t._root:null;return ha(r,i,e,[r.value])}function $N(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function ns(n,t){let e=Symbol(),r=t.get(n,e);return r===e?typeof n=="function"&&!py(n)?n:t.get(n):r}function ha(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ko(t);return n.children.forEach(s=>{HN(s,o[s.value.outlet],e,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ga(a,e.getContext(s),i)),i}function HN(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=qN(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Pu(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ha(n,t,a?a.children:null,r,i):ha(n,t,e,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Jo(a.outlet.component,s))}else s&&ga(t,a,i),i.canActivateChecks.push(new Pu(r)),o.component?ha(n,null,a?a.children:null,r,i):ha(n,null,e,r,i);return i}function qN(n,t,e){if(typeof e=="function")return e(n,t);switch(e){case"pathParamsChange":return!zi(n.url,t.url);case"pathParamsOrQueryParamsChange":return!zi(n.url,t.url)||!zn(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Hm(n,t)||!zn(n.queryParams,t.queryParams);case"paramsChange":default:return!Hm(n,t)}}function ga(n,t,e){let r=Ko(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?t?ga(s,t.children.getContext(o),e):ga(s,null,e):ga(s,t,e)}),i.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new Jo(t.outlet.component,i)):e.canDeactivateChecks.push(new Jo(null,i)):e.canDeactivateChecks.push(new Jo(null,i))}function xa(n){return typeof n=="function"}function zN(n){return typeof n=="boolean"}function GN(n){return n&&xa(n.canLoad)}function WN(n){return n&&xa(n.canActivate)}function QN(n){return n&&xa(n.canActivateChild)}function KN(n){return n&&xa(n.canDeactivate)}function ZN(n){return n&&xa(n.canMatch)}function CE(n){return n instanceof ir||n?.name==="EmptyError"}var Cu=Symbol("INITIAL_VALUE");function ts(){return $t(n=>Do(n.map(t=>t.pipe(Bt(1),ks(Cu)))).pipe(W(t=>{for(let e of t)if(e!==!0){if(e===Cu)return Cu;if(e===!1||YN(e))return e}return!0}),yt(t=>t!==Cu),Bt(1)))}function YN(n){return Gi(n)||n instanceof Ca}function JN(n,t){return Ke(e=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return s.length===0&&o.length===0?z(q(N({},e),{guardsResult:!0})):XN(s,r,i,n).pipe(Ke(a=>a&&zN(a)?eO(r,o,n,t):z(a)),W(a=>q(N({},e),{guardsResult:a})))})}function XN(n,t,e,r){return Ne(n).pipe(Ke(i=>oO(i.component,i.route,e,t,r)),sr(i=>i!==!0,!0))}function eO(n,t,e,r){return Ne(t).pipe(Ur(i=>jr(nO(i.route.parent,r),tO(i.route,r),iO(n,i.path,e),rO(n,i.route,e))),sr(i=>i!==!0,!0))}function tO(n,t){return n!==null&&t&&t(new Vm(n)),z(!0)}function nO(n,t){return n!==null&&t&&t(new Fm(n)),z(!0)}function rO(n,t,e){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return z(!0);let i=r.map(o=>Bl(()=>{let s=Ta(t)??e,a=ns(o,s),l=WN(a)?a.canActivate(t,n):it(s,()=>a(t,n));return ii(l).pipe(sr())}));return z(i).pipe(ts())}function iO(n,t,e){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>$N(s)).filter(s=>s!==null).map(s=>Bl(()=>{let a=s.guards.map(l=>{let d=Ta(s.node)??e,h=ns(l,d),p=QN(h)?h.canActivateChild(r,n):it(d,()=>h(r,n));return ii(p).pipe(sr())});return z(a).pipe(ts())}));return z(o).pipe(ts())}function oO(n,t,e,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return z(!0);let s=o.map(a=>{let l=Ta(t)??i,d=ns(a,l),h=KN(d)?d.canDeactivate(n,t,e,r):it(l,()=>d(n,t,e,r));return ii(h).pipe(sr())});return z(s).pipe(ts())}function sO(n,t,e,r){let i=t.canLoad;if(i===void 0||i.length===0)return z(!0);let o=i.map(s=>{let a=ns(s,n),l=GN(a)?a.canLoad(t,e):it(n,()=>a(t,e));return ii(l)});return z(o).pipe(ts(),SE(r))}function SE(n){return Ef(Pe(t=>{if(typeof t!="boolean")throw Ru(n,t)}),W(t=>t===!0))}function aO(n,t,e,r){let i=t.canMatch;if(!i||i.length===0)return z(!0);let o=i.map(s=>{let a=ns(s,n),l=ZN(a)?a.canMatch(t,e):it(n,()=>a(t,e));return ii(l)});return z(o).pipe(ts(),SE(r))}var Sa=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},Da=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function Qo(n){return Vr(new Sa(n))}function lO(n){return Vr(new A(4e3,!1))}function cO(n){return Vr(wE(!1,Yt.GuardRejected))}var Gm=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return z(r);if(i.numberOfChildren>1||!i.children[X])return lO(`${t.redirectTo}`);i=i.children[X]}}applyRedirectCommands(t,e,r,i,o){if(typeof e!="string"){let a=e,{queryParams:l,fragment:d,routeConfig:h,url:p,outlet:v,params:g,data:b,title:w}=i,C=it(o,()=>a({params:g,data:b,queryParams:l,fragment:d,routeConfig:h,url:p,outlet:v,title:w}));if(C instanceof Tr)throw new Da(C);e=C}let s=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,r);if(e[0]==="/")throw new Da(s);return s}applyRedirectCreateUrlTree(t,e,r,i){let o=this.createSegmentGroup(t,e.root,r,i);return new Tr(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=e[a]}else r[i]=o}),r}createSegmentGroup(t,e,r,i){let o=this.createSegments(t,e.segments,r,i),s={};return Object.entries(e.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,r,i)}),new _e(o,s)}createSegments(t,e,r,i){return e.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,e,r){let i=r[e.path.substring(1)];if(!i)throw new A(4001,!1);return i}findOrReturn(t,e){let r=0;for(let i of e){if(i.path===t.path)return e.splice(r),i;r++}return t}},Wm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function uO(n,t,e,r,i){let o=DE(n,t,e);return o.matched?(r=NN(t,r),aO(r,t,e,i).pipe(W(s=>s===!0?o:N({},Wm)))):z(o)}function DE(n,t,e){if(t.path==="**")return dO(e);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?N({},Wm):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let i=(t.matcher||sN)(e,n,t);if(!i)return N({},Wm);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?N(N({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function dO(n){return{matched:!0,parameters:n.length>0?iE(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function eE(n,t,e,r){return e.length>0&&pO(n,e,r)?{segmentGroup:new _e(t,hO(r,new _e(e,n.children))),slicedSegments:[]}:e.length===0&&mO(n,e,r)?{segmentGroup:new _e(n.segments,fO(n,e,r,n.children)),slicedSegments:e}:{segmentGroup:new _e(n.segments,n.children),slicedSegments:e}}function fO(n,t,e,r){let i={};for(let o of e)if(Lu(n,t,o)&&!r[An(o)]){let s=new _e([],{});i[An(o)]=s}return N(N({},r),i)}function hO(n,t){let e={};e[X]=t;for(let r of n)if(r.path===""&&An(r)!==X){let i=new _e([],{});e[An(r)]=i}return e}function pO(n,t,e){return e.some(r=>Lu(n,t,r)&&An(r)!==X)}function mO(n,t,e){return e.some(r=>Lu(n,t,r))}function Lu(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function gO(n,t,e){return t.length===0&&!n.children[e]}var Qm=class{};function vO(n,t,e,r,i,o,s="emptyOnly"){return new Km(n,t,e,r,i,s,o).recognize()}var yO=31,Km=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,r,i,o,s,a){this.injector=t,this.configLoader=e,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Gm(this.urlSerializer,this.urlTree)}noMatchError(t){return new A(4002,`'${t.segmentGroup}'`)}recognize(){let t=eE(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(W(({children:e,rootSnapshot:r})=>{let i=new Zt(r,e),o=new Ou("",i),s=DN(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let e=new Yo([],Object.freeze({}),Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),X,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,X,e).pipe(W(r=>({children:r,rootSnapshot:e})),Fn(r=>{if(r instanceof Da)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Sa?this.noMatchError(r):r}))}processSegmentGroup(t,e,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,e,r,o):this.processSegment(t,e,r,r.segments,i,!0,o).pipe(W(s=>s instanceof Zt?[s]:[]))}processChildren(t,e,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ne(o).pipe(Ur(s=>{let a=r.children[s],l=ON(e,s);return this.processSegmentGroup(t,l,a,s,i)}),kf((s,a)=>(s.push(...a),s)),Br(null),Af(),Ke(s=>{if(s===null)return Qo(r);let a=IE(s);return _O(a),z(a)}))}processSegment(t,e,r,i,o,s,a){return Ne(e).pipe(Ur(l=>this.processSegmentAgainstRoute(l._injector??t,e,l,r,i,o,s,a).pipe(Fn(d=>{if(d instanceof Sa)return z(null);throw d}))),sr(l=>!!l),Fn(l=>{if(CE(l))return gO(r,i,o)?z(new Qm):Qo(r);throw l}))}processSegmentAgainstRoute(t,e,r,i,o,s,a,l){return An(r)!==s&&(s===X||!Lu(i,o,r))?Qo(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,e,r,o,s,l):Qo(i)}expandSegmentAgainstRouteUsingRedirect(t,e,r,i,o,s,a){let{matched:l,parameters:d,consumedSegments:h,positionalParamSegments:p,remainingSegments:v}=DE(e,i,o);if(!l)return Qo(e);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>yO&&(this.allowRedirects=!1));let g=new Yo(o,d,Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,tE(i),An(i),i.component??i._loadedComponent??null,i,nE(i)),b=Nu(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(b.params),g.data=Object.freeze(b.data);let w=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,g,t);return this.applyRedirects.lineralizeSegments(i,w).pipe(Ke(C=>this.processSegment(t,r,e,C.concat(v),s,!1,a)))}matchSegmentAgainstRoute(t,e,r,i,o,s){let a=uO(e,r,i,t,this.urlSerializer);return r.path==="**"&&(e.children={}),a.pipe($t(l=>l.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe($t(({routes:d})=>{let h=r._loadedInjector??t,{parameters:p,consumedSegments:v,remainingSegments:g}=l,b=new Yo(v,p,Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,tE(r),An(r),r.component??r._loadedComponent??null,r,nE(r)),w=Nu(b,s,this.paramsInheritanceStrategy);b.params=Object.freeze(w.params),b.data=Object.freeze(w.data);let{segmentGroup:C,slicedSegments:k}=eE(e,v,g,d);if(k.length===0&&C.hasChildren())return this.processChildren(h,d,C,b).pipe(W(F=>new Zt(b,F)));if(d.length===0&&k.length===0)return z(new Zt(b,[]));let L=An(r)===o;return this.processSegment(h,d,C,k,L?X:o,!0,b).pipe(W(F=>new Zt(b,F instanceof Zt?[F]:[])))}))):Qo(e)))}getChildConfig(t,e,r){return e.children?z({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?z({routes:e._loadedRoutes,injector:e._loadedInjector}):sO(t,e,r,this.urlSerializer).pipe(Ke(i=>i?this.configLoader.loadChildren(t,e).pipe(Pe(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):cO(e))):z({routes:[],injector:t})}};function _O(n){n.sort((t,e)=>t.value.outlet===X?-1:e.value.outlet===X?1:t.value.outlet.localeCompare(e.value.outlet))}function bO(n){let t=n.value.routeConfig;return t&&t.path===""}function IE(n){let t=[],e=new Set;for(let r of n){if(!bO(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),e.add(i)):t.push(r)}for(let r of e){let i=IE(r.children);t.push(new Zt(r.value,i))}return t.filter(r=>!e.has(r))}function tE(n){return n.data||{}}function nE(n){return n.resolve||{}}function wO(n,t,e,r,i,o){return Ke(s=>vO(n,t,e,r,s.extractedUrl,i,o).pipe(W(({state:a,tree:l})=>q(N({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function EO(n,t){return Ke(e=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return z(e);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let d of TE(l))s.add(d);let a=0;return Ne(s).pipe(Ur(l=>o.has(l)?CO(l,r,n,t):(l.data=Nu(l,l.parent,n).resolve,z(void 0))),Pe(()=>a++),Io(1),Ke(l=>a===s.size?z(e):Tt))})}function TE(n){let t=n.children.map(e=>TE(e)).flat();return[n,...t]}function CO(n,t,e,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!_E(i)&&(o[Ia]=i.title),SO(o,n,t,r).pipe(W(s=>(n._resolvedData=s,n.data=Nu(n,n.parent,e).resolve,null)))}function SO(n,t,e,r){let i=Dm(n);if(i.length===0)return z({});let o={};return Ne(i).pipe(Ke(s=>DO(n[s],t,e,r).pipe(sr(),Pe(a=>{if(a instanceof Ca)throw Ru(new va,a);o[s]=a}))),Io(1),W(()=>o),Fn(s=>CE(s)?Tt:Vr(s)))}function DO(n,t,e,r){let i=Ta(t)??r,o=ns(n,i),s=o.resolve?o.resolve(t,e):it(i,()=>o(t,e));return ii(s)}function Cm(n){return $t(t=>{let e=n(t);return e?Ne(e).pipe(W(()=>t)):z(t)})}var xE=(()=>{class n{buildTitle(e){let r,i=e.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===X);return r}getResolvedTitleForRoute(e){return e.data[Ia]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>I(IO),providedIn:"root"})}return n})(),IO=(()=>{class n extends xE{title;constructor(e){super(),this.title=e}updateTitle(e){let r=this.buildTitle(e);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(P(Qw))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),tg=new V("",{providedIn:"root",factory:()=>({})}),TO=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=re({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&_(0,"router-outlet")},dependencies:[Xm],encapsulation:2})}return n})();function ng(n){let t=n.children&&n.children.map(ng),e=t?q(N({},n),{children:t}):N({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==X&&(e.component=TO),e}var rg=new V(""),xO=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=I(Gp);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return z(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let r=ii(e.loadComponent()).pipe(W(ME),Pe(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),or(()=>{this.componentLoaders.delete(e)})),i=new Co(r,()=>new xe).pipe(Eo());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return z({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=MO(r,this.compiler,e,this.onLoadEndListener).pipe(or(()=>{this.childrenLoaders.delete(r)})),s=new Co(o,()=>new xe).pipe(Eo());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function MO(n,t,e,r){return ii(n.loadChildren()).pipe(W(ME),Ke(i=>i instanceof zs||Array.isArray(i)?z(i):Ne(t.compileModuleAsync(i))),W(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(e).injector,s=o.get(rg,[],{optional:!0,self:!0}).flat()),{routes:s.map(ng),injector:o}}))}function AO(n){return n&&typeof n=="object"&&"default"in n}function ME(n){return AO(n)?n.default:n}var ig=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>I(kO),providedIn:"root"})}return n})(),kO=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),NO=new V("");var OO=new V(""),RO=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new xe;transitionAbortSubject=new xe;configLoader=I(xO);environmentInjector=I(kt);destroyRef=I(Li);urlSerializer=I(Ym);rootContexts=I(Fu);location=I(na);inputBindingEnabled=I(eg,{optional:!0})!==null;titleStrategy=I(xE);options=I(tg,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=I(ig);createViewTransition=I(NO,{optional:!0});navigationErrorHandler=I(OO,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>z(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=i=>this.events.next(new Rm(i)),r=i=>this.events.next(new Pm(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let r=++this.navigationId;this.transitions?.next(q(N(N({},this.transitions.value),e),{id:r}))}setupNavigations(e,r,i){return this.transitions=new rt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ma,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(yt(o=>o.id!==0),W(o=>q(N({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),$t(o=>{let s=!1,a=!1;return z(o).pipe($t(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Yt.SupersededByNewNavigation),Tt;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?q(N({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=l.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!d&&h!=="reload"){let p="";return this.events.next(new Wi(l.id,this.urlSerializer.serialize(l.rawUrl),p,Mm.IgnoredSameUrlNavigation)),l.resolve(!1),Tt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return z(l).pipe($t(p=>{let v=this.transitions?.getValue();return this.events.next(new _a(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),v!==this.transitions?.getValue()?Tt:Promise.resolve(p)}),wO(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),Pe(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=q(N({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let v=new Mu(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(v)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:p,extractedUrl:v,source:g,restoredState:b,extras:w}=l,C=new _a(p,this.urlSerializer.serialize(v),g,b);this.events.next(C);let k=vE(this.rootComponentType).snapshot;return this.currentTransition=o=q(N({},l),{targetSnapshot:k,urlAfterRedirects:v,extras:q(N({},w),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=v,z(o)}else{let p="";return this.events.next(new Wi(l.id,this.urlSerializer.serialize(l.extractedUrl),p,Mm.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Tt}}),Pe(l=>{let d=new Am(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),W(l=>(this.currentTransition=o=q(N({},l),{guards:BN(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),JN(this.environmentInjector,l=>this.events.next(l)),Pe(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Ru(this.urlSerializer,l.guardsResult);let d=new km(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(d)}),yt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Yt.GuardRejected),!1)),Cm(l=>{if(l.guards.canActivateChecks.length)return z(l).pipe(Pe(d=>{let h=new Nm(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}),$t(d=>{let h=!1;return z(d).pipe(EO(this.paramsInheritanceStrategy,this.environmentInjector),Pe({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(d,"",Yt.NoDataFromResolver)}}))}),Pe(d=>{let h=new Om(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}))}),Cm(l=>{let d=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(Pe(v=>{h.component=v}),W(()=>{})));for(let v of h.children)p.push(...d(v));return p};return Do(d(l.targetSnapshot.root)).pipe(Br(null),Bt(1))}),Cm(()=>this.afterPreactivation()),$t(()=>{let{currentSnapshot:l,targetSnapshot:d}=o,h=this.createViewTransition?.(this.environmentInjector,l.root,d.root);return h?Ne(h).pipe(W(()=>o)):z(o)}),W(l=>{let d=FN(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=q(N({},l),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),Pe(()=>{this.events.next(new wa)}),UN(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Bt(1),Pe({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ri(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),Ns(this.transitionAbortSubject.pipe(Pe(l=>{throw l}))),or(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Yt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Fn(l=>{if(this.destroyed)return o.resolve(!1),Tt;if(a=!0,EE(l))this.events.next(new Ir(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),jN(l)?this.events.next(new es(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let d=new ba(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let h=it(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(h instanceof Ca){let{message:p,cancellationCode:v}=Ru(this.urlSerializer,h);this.events.next(new Ir(o.id,this.urlSerializer.serialize(o.extractedUrl),p,v)),this.events.next(new es(h.redirectTo,h.navigationBehaviorOptions))}else throw this.events.next(d),l}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return Tt}))}))}cancelNavigationTransition(e,r,i){let o=new Ir(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function PO(n){return n!==ma}var FO=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>I(LO),providedIn:"root"})}return n})(),Zm=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},LO=(()=>{class n extends Zm{static \u0275fac=(()=>{let e;return function(i){return(e||(e=cn(n)))(i||n)}})();static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),AE=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>I(VO),providedIn:"root"})}return n})(),VO=(()=>{class n extends AE{location=I(na);urlSerializer=I(Ym);options=I(tg,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=I(ig);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Tr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=vE(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{r.type==="popstate"&&e(r.url,r.state)})}handleRouterEvent(e,r){if(e instanceof _a)this.stateMemento=this.createStateMemento();else if(e instanceof Wi)this.rawUrlTree=r.initialUrl;else if(e instanceof Mu){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else e instanceof wa?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):e instanceof Ir&&(e.code===Yt.GuardRejected||e.code===Yt.NoDataFromResolver)?this.restoreHistory(r):e instanceof ba?this.restoreHistory(r,!0):e instanceof ri&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,r){let i=e instanceof Tr?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=N(N({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=N(N({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(e,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===e.finalUrl&&o===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=cn(n)))(i||n)}})();static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function jO(n,t){n.events.pipe(yt(e=>e instanceof ri||e instanceof Ir||e instanceof ba||e instanceof Wi),W(e=>e instanceof ri||e instanceof Wi?0:(e instanceof Ir?e.code===Yt.Redirect||e.code===Yt.SupersededByNewNavigation:!1)?2:1),yt(e=>e!==2),Bt(1)).subscribe(()=>{t()})}var UO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},BO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Nn=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=I(Up);stateManager=I(AE);options=I(tg,{optional:!0})||{};pendingTasks=I(_r);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=I(RO);urlSerializer=I(Ym);location=I(na);urlHandlingStrategy=I(ig);_events=new xe;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=I(FO);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=I(rg,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!I(eg,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Te;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Ir&&r.code!==Yt.Redirect&&r.code!==Yt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ri)this.navigated=!0;else if(r instanceof es){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=N({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||PO(i.source)},s);this.scheduleNavigation(a,ma,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}HO(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ma,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",r)},0)})}navigateToSyncWithBrowser(e,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=N({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(e);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(ng),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,d=l?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=N(N({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let v=i?i.snapshot:this.routerState.snapshot.root;p=hE(v)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),p=this.currentUrlTree.root}return pE(p,e,h,d??null)}navigateByUrl(e,r={skipLocationChange:!1}){let i=Gi(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ma,null,r)}navigate(e,r={skipLocationChange:!1}){return $O(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,r){let i;if(r===!0?i=N({},UO):r===!1?i=N({},BO):i=r,Gi(e))return Zw(this.currentUrlTree,e,i);let o=this.parseUrl(e);return Zw(this.currentUrlTree,o,i)}removeEmptyProps(e){return Object.entries(e).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(e,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,d;s?(a=s.resolve,l=s.reject,d=s.promise):d=new Promise((p,v)=>{a=p,l=v});let h=this.pendingTasks.add();return jO(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:a,reject:l,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $O(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new A(4008,!1)}function HO(n){return!(n instanceof wa)&&!(n instanceof es)}var ze=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new xe;constructor(e,r,i,o,s,a){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=e.events.subscribe(d=>{d instanceof ri&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Gi(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let r=this.href===null?null:G_(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(e,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,e,r):i.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:Gi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(T(Nn),T(kn),$c("tabindex"),T(Tn),T(Ye),T(Wo))};static \u0275dir=fe({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&D("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&$n("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",xn],skipLocationChange:[2,"skipLocationChange","skipLocationChange",xn],replaceUrl:[2,"replaceUrl","replaceUrl",xn],routerLink:"routerLink"},features:[ji,ln]})}return n})();var qO=new V("");function kE(n,...t){return Bo([{provide:rg,multi:!0,useValue:n},[],{provide:kn,useFactory:zO,deps:[Nn]},{provide:Yc,multi:!0,useFactory:GO},t.map(e=>e.\u0275providers)])}function zO(n){return n.routerState.root}function GO(){let n=I(Le);return t=>{let e=n.get(mr);if(t!==e.components[0])return;let r=n.get(Nn),i=n.get(WO);n.get(QO)===1&&r.initialNavigation(),n.get(KO,null,te.Optional)?.setUpPreloading(),n.get(qO,null,te.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var WO=new V("",{factory:()=>new xe}),QO=new V("",{providedIn:"root",factory:()=>1});var KO=new V("");var NE=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>import("./chunk-MAQGHWLI.js").then(({default:r})=>r(...e)):t=fetch,(...e)=>t(...e)};var Ma=class extends Error{constructor(t,e="FunctionsError",r){super(t),this.name=e,this.context=r}},ju=class extends Ma{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Uu=class extends Ma{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},Bu=class extends Ma{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}},og=function(n){return n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2",n}(og||{});var ZO=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(h){try{d(r.next(h))}catch(p){s(p)}}function l(h){try{d(r.throw(h))}catch(p){s(p)}}function d(h){h.done?o(h.value):i(h.value).then(a,l)}d((r=r.apply(n,t||[])).next())})},Aa=class{constructor(t,{headers:e={},customFetch:r,region:i=og.Any}={}){this.url=t,this.headers=e,this.region=i,this.fetch=NE(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,e={}){var r;return ZO(this,void 0,void 0,function*(){try{let{headers:i,method:o,body:s}=e,a={},{region:l}=e;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let d;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",d=s):typeof s=="string"?(a["Content-Type"]="text/plain",d=s):typeof FormData<"u"&&s instanceof FormData?d=s:(a["Content-Type"]="application/json",d=JSON.stringify(s)));let h=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:d}).catch(b=>{throw new ju(b)}),p=h.headers.get("x-relay-error");if(p&&p==="true")throw new Uu(h);if(!h.ok)throw new Bu(h);let v=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return v==="application/json"?g=yield h.json():v==="application/octet-stream"?g=yield h.blob():v==="text/event-stream"?g=h:v==="multipart/form-data"?g=yield h.formData():g=yield h.text(),{data:g,error:null}}catch(i){return{data:null,error:i}}})}};var zE=dD(qE(),1),{PostgrestClient:GE,PostgrestQueryBuilder:jH,PostgrestFilterBuilder:UH,PostgrestTransformBuilder:BH,PostgrestBuilder:$H,PostgrestError:lR}=zE.default;var WE="2.11.2";var QE={"X-Client-Info":`realtime-js/${WE}`},KE="1.0.0",zu=1e4,ZE=1e3,is=function(n){return n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed",n}(is||{}),Jt=function(n){return n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving",n}(Jt||{}),mn=function(n){return n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token",n}(mn||{}),vg=function(n){return n.websocket="websocket",n}(vg||{}),Qi=function(n){return n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed",n}(Qi||{});var Gu=class{constructor(){this.HEADER_LENGTH=1}decode(t,e){return t.constructor===ArrayBuffer?e(this._binaryDecode(t)):e(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){let e=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,e,r)}_decodeBroadcast(t,e,r){let i=e.getUint8(1),o=e.getUint8(2),s=this.HEADER_LENGTH+2,a=r.decode(t.slice(s,s+i));s=s+i;let l=r.decode(t.slice(s,s+o));s=s+o;let d=JSON.parse(r.decode(t.slice(s,t.byteLength)));return{ref:null,topic:a,event:l,payload:d}}};var os=class{constructor(t,e){this.callback=t,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Ie=function(n){return n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange",n}(Ie||{}),_g=(n,t,e={})=>{var r;let i=(r=e.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((o,s)=>(o[s]=cR(s,n,t,i),o),{})},cR=(n,t,e,r)=>{let i=t.find(a=>a.name===n),o=i?.type,s=e[n];return o&&!r.includes(o)?YE(o,s):yg(s)},YE=(n,t)=>{if(n.charAt(0)==="_"){let e=n.slice(1,n.length);return hR(t,e)}switch(n){case Ie.bool:return uR(t);case Ie.float4:case Ie.float8:case Ie.int2:case Ie.int4:case Ie.int8:case Ie.numeric:case Ie.oid:return dR(t);case Ie.json:case Ie.jsonb:return fR(t);case Ie.timestamp:return pR(t);case Ie.abstime:case Ie.date:case Ie.daterange:case Ie.int4range:case Ie.int8range:case Ie.money:case Ie.reltime:case Ie.text:case Ie.time:case Ie.timestamptz:case Ie.timetz:case Ie.tsrange:case Ie.tstzrange:return yg(t);default:return yg(t)}},yg=n=>n,uR=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},dR=n=>{if(typeof n=="string"){let t=parseFloat(n);if(!Number.isNaN(t))return t}return n},fR=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(t){return console.log(`JSON parse error: ${t}`),n}return n},hR=(n,t)=>{if(typeof n!="string")return n;let e=n.length-1,r=n[e];if(n[0]==="{"&&r==="}"){let o,s=n.slice(1,e);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>YE(t,a))}return n},pR=n=>typeof n=="string"?n.replace(" ","T"):n,Wu=n=>{let t=n;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};var ss=class{constructor(t,e,r={},i=zu){this.channel=t,this.event=e,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,e){var r;return this._hasReceived(t)&&e((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:e}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let t=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:e}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(e))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}};var La=class n{constructor(t,e){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=e?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=n.syncState(this.state,i,o,s),this.pendingDiffs.forEach(l=>{this.state=n.syncDiff(this.state,l,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=n.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,e,r,i){let o=this.cloneDeep(t),s=this.transformState(e),a={},l={};return this.map(o,(d,h)=>{s[d]||(l[d]=h)}),this.map(s,(d,h)=>{let p=o[d];if(p){let v=h.map(C=>C.presence_ref),g=p.map(C=>C.presence_ref),b=h.filter(C=>g.indexOf(C.presence_ref)<0),w=p.filter(C=>v.indexOf(C.presence_ref)<0);b.length>0&&(a[d]=b),w.length>0&&(l[d]=w)}else a[d]=h}),this.syncDiff(o,{joins:a,leaves:l},r,i)}static syncDiff(t,e,r,i){let{joins:o,leaves:s}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,l)=>{var d;let h=(d=t[a])!==null&&d!==void 0?d:[];if(t[a]=this.cloneDeep(l),h.length>0){let p=t[a].map(g=>g.presence_ref),v=h.filter(g=>p.indexOf(g.presence_ref)<0);t[a].unshift(...v)}r(a,h,l)}),this.map(s,(a,l)=>{let d=t[a];if(!d)return;let h=l.map(p=>p.presence_ref);d=d.filter(p=>h.indexOf(p.presence_ref)<0),t[a]=d,i(a,d,l),d.length===0&&delete t[a]}),t}static map(t,e){return Object.getOwnPropertyNames(t).map(r=>e(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((e,r)=>{let i=t[r];return"metas"in i?e[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):e[r]=i,e},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var xr=function(n){return n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR",n}(xr||{});var Va=class n{constructor(t,e={config:{}},r){this.topic=t,this.params=e,this.socket=r,this.bindings={},this.state=Jt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},e.config),this.timeout=this.socket.timeout,this.joinPush=new ss(this,mn.join,this.params,this.timeout),this.rejoinTimer=new os(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Jt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Jt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Jt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(mn.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new La(this),this.broadcastEndpointURL=Wu(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,e=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:o,presence:s,private:a}}=this.params;this._onError(h=>t?.(xr.CHANNEL_ERROR,h)),this._onClose(()=>t?.(xr.CLOSED));let l={},d={broadcast:o,presence:s,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},l)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",async({postgres_changes:h})=>{var p;if(this.socket.setAuth(),h===void 0){t?.(xr.SUBSCRIBED);return}else{let v=this.bindings.postgres_changes,g=(p=v?.length)!==null&&p!==void 0?p:0,b=[];for(let w=0;w<g;w++){let C=v[w],{filter:{event:k,schema:L,table:F,filter:B}}=C,Q=h&&h[w];if(Q&&Q.event===k&&Q.schema===L&&Q.table===F&&Q.filter===B)b.push(Object.assign(Object.assign({},C),{id:Q.id}));else{this.unsubscribe(),t?.(xr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(xr.SUBSCRIBED);return}}).receive("error",h=>{t?.(xr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t?.(xr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,e={}){return await this.send({type:"presence",event:"track",payload:t},e.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,e,r){return this._on(t,e,r)}async send(t,e={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){let{event:o,payload:s}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:s,private:this.private}]})};try{let d=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=e.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var s,a,l;let d=this._push(t.type,t,e.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(s=this.params)===null||s===void 0?void 0:s.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),d.receive("ok",()=>o("ok")),d.receive("error",()=>o("error")),d.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Jt.leaving;let e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(mn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{let i=new ss(this,mn.leave,{},t);i.receive("ok",()=>{e(),r("ok")}).receive("timeout",()=>{e(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(t,e,r){let i=new AbortController,o=setTimeout(()=>i.abort(),r),s=await this.socket.fetch(t,Object.assign(Object.assign({},e),{signal:i.signal}));return clearTimeout(o),s}_push(t,e,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new ss(this,t,e,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,e,r){return e}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,e,r){var i,o;let s=t.toLocaleLowerCase(),{close:a,error:l,leave:d,join:h}=mn;if(r&&[a,l,d,h].indexOf(s)>=0&&r!==this._joinRef())return;let v=this._onMessage(s,e,r);if(e&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var b,w,C;return((b=g.filter)===null||b===void 0?void 0:b.event)==="*"||((C=(w=g.filter)===null||w===void 0?void 0:w.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===s}).map(g=>g.callback(v,r)):(o=this.bindings[s])===null||o===void 0||o.filter(g=>{var b,w,C,k,L,F;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in g){let B=g.id,Q=(b=g.filter)===null||b===void 0?void 0:b.event;return B&&((w=e.ids)===null||w===void 0?void 0:w.includes(B))&&(Q==="*"||Q?.toLocaleLowerCase()===((C=e.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{let B=(L=(k=g?.filter)===null||k===void 0?void 0:k.event)===null||L===void 0?void 0:L.toLocaleLowerCase();return B==="*"||B===((F=e?.event)===null||F===void 0?void 0:F.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===s}).map(g=>{if(typeof v=="object"&&"ids"in v){let b=v.data,{schema:w,table:C,commit_timestamp:k,type:L,errors:F}=b;v=Object.assign(Object.assign({},{schema:w,table:C,commit_timestamp:k,eventType:L,new:{},old:{},errors:F}),this._getPayloadRecords(b))}g.callback(v,r)})}_isClosed(){return this.state===Jt.closed}_isJoined(){return this.state===Jt.joined}_isJoining(){return this.state===Jt.joining}_isLeaving(){return this.state===Jt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,e,r){let i=t.toLocaleLowerCase(),o={type:i,filter:e,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,e){let r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&n.isEqual(i.filter,e))}),this}static isEqual(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(let r in t)if(t[r]!==e[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(mn.close,{},t)}_onError(t){this._on(mn.error,{},e=>t(e))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Jt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){let e={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(e.new=_g(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(e.old=_g(t.columns,t.old_record)),e}};var gR=()=>{},vR=typeof WebSocket<"u",yR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,ja=class{constructor(t,e){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=QE,this.params={},this.timeout=zu,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=gR,this.conn=null,this.sendBuffer=[],this.serializer=new Gu,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...a)=>import("./chunk-MAQGHWLI.js").then(({default:l})=>l(...a)):s=fetch,(...a)=>s(...a)},this.endPoint=`${t}/${vg.websocket}`,this.httpEndpoint=Wu(t),e?.transport?this.transport=e.transport:this.transport=null,e?.params&&(this.params=e.params),e?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),e.headers)),e?.timeout&&(this.timeout=e.timeout),e?.logger&&(this.logger=e.logger),e?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=e.heartbeatIntervalMs);let i=(r=e?.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=e?.reconnectAfterMs?e.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=e?.encode?e.encode:(o,s)=>s(JSON.stringify(o)),this.decode=e?.decode?e.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new os(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(e?.fetch),e?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=e?.worker||!1,this.workerUrl=e?.workerUrl}this.accessToken=e?.accessToken||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(vR){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new bg(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),import("./chunk-KYSFV2V4.js").then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:KE}))}disconnect(t,e){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,e??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){let e=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),e}async removeAllChannels(){let t=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.disconnect(),t}log(t,e,r){this.logger(t,e,r)}connectionState(){switch(this.conn&&this.conn.readyState){case is.connecting:return Qi.Connecting;case is.open:return Qi.Open;case is.closing:return Qi.Closing;default:return Qi.Closed}}isConnected(){return this.connectionState()===Qi.Open}channel(t,e={config:{}}){let r=new Va(`realtime:${t}`,e,this);return this.channels.push(r),r}push(t){let{topic:e,event:r,payload:i,ref:o}=t,s=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${e} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){let e=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(e){let r=null;try{r=JSON.parse(atob(e.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=e,this.channels.forEach(i=>{e&&i.updateJoinPayload({access_token:e}),i.joinedOnce&&i._isJoined()&&i._push(mn.access_token,{access_token:e})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(ZE,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let e=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));e&&(this.log("transport",`leaving duplicate topic "${t}"`),e.unsubscribe())}_remove(t){this.channels=this.channels.filter(e=>e._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,e=>{let{topic:r,event:i,payload:o,ref:s}=e;s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${i} ${s&&"("+s+")"||""}`,o),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,o,s)),this.stateChangeCallbacks.message.forEach(a=>a(e))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{e.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(e=>e(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(e=>e(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(mn.error))}_appendParams(t,e){if(Object.keys(e).length===0)return t;let r=t.match(/\?/)?"&":"?",i=new URLSearchParams(e);return`${t}${r}${i}`}_workerObjectUrl(t){let e;if(t)e=t;else{let r=new Blob([yR],{type:"application/javascript"});e=URL.createObjectURL(r)}return e}};var bg=class{constructor(t,e,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=is.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}};var as=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function Ge(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var Qu=class extends as{constructor(t,e){super(t),this.name="StorageApiError",this.status=e}toJSON(){return{name:this.name,message:this.message,status:this.status}}},Ki=class extends as{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};var _R=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(h){try{d(r.next(h))}catch(p){s(p)}}function l(h){try{d(r.throw(h))}catch(p){s(p)}}function d(h){h.done?o(h.value):i(h.value).then(a,l)}d((r=r.apply(n,t||[])).next())})},Zu=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>import("./chunk-MAQGHWLI.js").then(({default:r})=>r(...e)):t=fetch,(...e)=>t(...e)},JE=()=>_R(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-MAQGHWLI.js")).Response:Response}),Ku=n=>{if(Array.isArray(n))return n.map(e=>Ku(e));if(typeof n=="function"||n!==Object(n))return n;let t={};return Object.entries(n).forEach(([e,r])=>{let i=e.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=Ku(r)}),t};var Zi=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(h){try{d(r.next(h))}catch(p){s(p)}}function l(h){try{d(r.throw(h))}catch(p){s(p)}}function d(h){h.done?o(h.value):i(h.value).then(a,l)}d((r=r.apply(n,t||[])).next())})},wg=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),bR=(n,t,e)=>Zi(void 0,void 0,void 0,function*(){let r=yield JE();n instanceof r&&!e?.noResolveJson?n.json().then(i=>{t(new Qu(wg(i),n.status||500))}).catch(i=>{t(new Ki(wg(i),i))}):t(new Ki(wg(n),n))}),wR=(n,t,e,r)=>{let i={method:n,headers:t?.headers||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),e))};function Ua(n,t,e,r,i,o){return Zi(this,void 0,void 0,function*(){return new Promise((s,a)=>{n(e,wR(t,r,i,o)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>bR(l,a,r))})})}function ls(n,t,e,r){return Zi(this,void 0,void 0,function*(){return Ua(n,"GET",t,e,r)})}function Gn(n,t,e,r,i){return Zi(this,void 0,void 0,function*(){return Ua(n,"POST",t,r,i,e)})}function XE(n,t,e,r,i){return Zi(this,void 0,void 0,function*(){return Ua(n,"PUT",t,r,i,e)})}function eC(n,t,e,r){return Zi(this,void 0,void 0,function*(){return Ua(n,"HEAD",t,Object.assign(Object.assign({},e),{noResolveJson:!0}),r)})}function Yu(n,t,e,r,i){return Zi(this,void 0,void 0,function*(){return Ua(n,"DELETE",t,r,i,e)})}var Pt=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(h){try{d(r.next(h))}catch(p){s(p)}}function l(h){try{d(r.throw(h))}catch(p){s(p)}}function d(h){h.done?o(h.value):i(h.value).then(a,l)}d((r=r.apply(n,t||[])).next())})},ER={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},tC={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},Ju=class{constructor(t,e={},r,i){this.url=t,this.headers=e,this.bucketId=r,this.fetch=Zu(i)}uploadOrUpdate(t,e,r,i){return Pt(this,void 0,void 0,function*(){try{let o,s=Object.assign(Object.assign({},tC),i),a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)}),l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));let d=this._removeEmptyFolders(e),h=this._getFinalPath(d),p=yield this.fetch(`${this.url}/object/${h}`,Object.assign({method:t,body:o,headers:a},s?.duplex?{duplex:s.duplex}:{})),v=yield p.json();return p.ok?{data:{path:d,id:v.Id,fullPath:v.Key},error:null}:{data:null,error:v}}catch(o){if(Ge(o))return{data:null,error:o};throw o}})}upload(t,e,r){return Pt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,e,r)})}uploadToSignedUrl(t,e,r,i){return Pt(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(t),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",e);try{let l,d=Object.assign({upsert:tC.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",d.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",d.cacheControl)):(l=r,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType);let p=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:h}),v=yield p.json();return p.ok?{data:{path:o,fullPath:v.Key},error:null}:{data:null,error:v}}catch(l){if(Ge(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,e){return Pt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),i=Object.assign({},this.headers);e?.upsert&&(i["x-upsert"]="true");let o=yield Gn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new as("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:a},error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}})}update(t,e,r){return Pt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,e,r)})}move(t,e,r){return Pt(this,void 0,void 0,function*(){try{return{data:yield Gn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Ge(i))return{data:null,error:i};throw i}})}copy(t,e,r){return Pt(this,void 0,void 0,function*(){try{return{data:{path:(yield Gn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Ge(i))return{data:null,error:i};throw i}})}createSignedUrl(t,e,r){return Pt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),o=yield Gn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(Ge(i))return{data:null,error:i};throw i}})}createSignedUrls(t,e,r){return Pt(this,void 0,void 0,function*(){try{let i=yield Gn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:t},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(Ge(i))return{data:null,error:i};throw i}})}download(t,e){return Pt(this,void 0,void 0,function*(){let i=typeof e?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(e?.transform||{}),s=o?`?${o}`:"";try{let a=this._getFinalPath(t);return{data:yield(yield ls(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Ge(a))return{data:null,error:a};throw a}})}info(t){return Pt(this,void 0,void 0,function*(){let e=this._getFinalPath(t);try{let r=yield ls(this.fetch,`${this.url}/object/info/${e}`,{headers:this.headers});return{data:Ku(r),error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}})}exists(t){return Pt(this,void 0,void 0,function*(){let e=this._getFinalPath(t);try{return yield eC(this.fetch,`${this.url}/object/${e}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Ge(r)&&r instanceof Ki){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,e){let r=this._getFinalPath(t),i=[],o=e?.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&i.push(o);let a=typeof e?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(e?.transform||{});l!==""&&i.push(l);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${d}`)}}}remove(t){return Pt(this,void 0,void 0,function*(){try{return{data:yield Yu(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(e){if(Ge(e))return{data:null,error:e};throw e}})}list(t,e,r){return Pt(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},ER),e),{prefix:t||""});return{data:yield Gn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Ge(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){let e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};var nC="2.7.1";var rC={"X-Client-Info":`storage-js/${nC}`};var cs=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(h){try{d(r.next(h))}catch(p){s(p)}}function l(h){try{d(r.throw(h))}catch(p){s(p)}}function d(h){h.done?o(h.value):i(h.value).then(a,l)}d((r=r.apply(n,t||[])).next())})},Xu=class{constructor(t,e={},r){this.url=t,this.headers=Object.assign(Object.assign({},rC),e),this.fetch=Zu(r)}listBuckets(){return cs(this,void 0,void 0,function*(){try{return{data:yield ls(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ge(t))return{data:null,error:t};throw t}})}getBucket(t){return cs(this,void 0,void 0,function*(){try{return{data:yield ls(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(e){if(Ge(e))return{data:null,error:e};throw e}})}createBucket(t,e={public:!1}){return cs(this,void 0,void 0,function*(){try{return{data:yield Gn(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}})}updateBucket(t,e){return cs(this,void 0,void 0,function*(){try{return{data:yield XE(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}})}emptyBucket(t){return cs(this,void 0,void 0,function*(){try{return{data:yield Gn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(Ge(e))return{data:null,error:e};throw e}})}deleteBucket(t){return cs(this,void 0,void 0,function*(){try{return{data:yield Yu(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(e){if(Ge(e))return{data:null,error:e};throw e}})}};var Ba=class extends Xu{constructor(t,e={},r){super(t,e,r)}from(t){return new Ju(this.url,this.headers,t,this.fetch)}};var iC="2.48.1";var $a="";typeof Deno<"u"?$a="deno":typeof document<"u"?$a="web":typeof navigator<"u"&&navigator.product==="ReactNative"?$a="react-native":$a="node";var CR={"X-Client-Info":`supabase-js-${$a}/${iC}`},oC={headers:CR},sC={schema:"public"},aC={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},lC={};Pv();var SR=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(h){try{d(r.next(h))}catch(p){s(p)}}function l(h){try{d(r.throw(h))}catch(p){s(p)}}function d(h){h.done?o(h.value):i(h.value).then(a,l)}d((r=r.apply(n,t||[])).next())})},DR=n=>{let t;return n?t=n:typeof fetch>"u"?t=Ov:t=fetch,(...e)=>t(...e)},IR=()=>typeof Headers>"u"?Rv:Headers,cC=(n,t,e)=>{let r=DR(e),i=IR();return(o,s)=>SR(void 0,void 0,void 0,function*(){var a;let l=(a=yield t())!==null&&a!==void 0?a:n,d=new i(s?.headers);return d.has("apikey")||d.set("apikey",n),d.has("Authorization")||d.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},s),{headers:d}))})};var TR=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(h){try{d(r.next(h))}catch(p){s(p)}}function l(h){try{d(r.throw(h))}catch(p){s(p)}}function d(h){h.done?o(h.value):i(h.value).then(a,l)}d((r=r.apply(n,t||[])).next())})};function uC(n){return n.replace(/\/$/,"")}function dC(n,t){let{db:e,auth:r,realtime:i,global:o}=n,{db:s,auth:a,realtime:l,global:d}=t,h={db:Object.assign(Object.assign({},s),e),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},d),o),accessToken:()=>TR(this,void 0,void 0,function*(){return""})};return n.accessToken?h.accessToken=n.accessToken:delete h.accessToken,h}function fC(n){return Math.round(Date.now()/1e3)+n}function hC(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){let t=Math.random()*16|0;return(n=="x"?t:t&3|8).toString(16)})}var On=()=>typeof document<"u",Yi={tested:!1,writable:!1},oi=()=>{if(!On())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Yi.tested)return Yi.writable;let n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Yi.tested=!0,Yi.writable=!0}catch{Yi.tested=!0,Yi.writable=!1}return Yi.writable};function ed(n){let t={},e=new URL(n);if(e.hash&&e.hash[0]==="#")try{new URLSearchParams(e.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return e.searchParams.forEach((r,i)=>{t[i]=r}),t}var td=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>import("./chunk-MAQGHWLI.js").then(({default:r})=>r(...e)):t=fetch,(...e)=>t(...e)},pC=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",si=async(n,t,e)=>{await n.setItem(t,JSON.stringify(e))},qa=async(n,t)=>{let e=await n.getItem(t);if(!e)return null;try{return JSON.parse(e)}catch{return e}},nd=async(n,t)=>{await n.removeItem(t)};function xR(n){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e="",r,i,o,s,a,l,d,h=0;for(n=n.replace("-","+").replace("_","/");h<n.length;)s=t.indexOf(n.charAt(h++)),a=t.indexOf(n.charAt(h++)),l=t.indexOf(n.charAt(h++)),d=t.indexOf(n.charAt(h++)),r=s<<2|a>>4,i=(a&15)<<4|l>>2,o=(l&3)<<6|d,e=e+String.fromCharCode(r),l!=64&&i!=0&&(e=e+String.fromCharCode(i)),d!=64&&o!=0&&(e=e+String.fromCharCode(o));return e}var Ha=class n{constructor(){this.promise=new n.promiseConstructor((t,e)=>{this.resolve=t,this.reject=e})}};Ha.promiseConstructor=Promise;function Eg(n){let t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,e=n.split(".");if(e.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(e[1]))throw new Error("JWT is not valid: payload is not in base64url format");let r=e[1];return JSON.parse(xR(r))}async function mC(n){return await new Promise(t=>{setTimeout(()=>t(null),n)})}function gC(n,t){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{let s=await n(o);if(!t(o,null,s)){r(s);return}}catch(s){if(!t(o,s)){i(s);return}}})()})}function MR(n){return("0"+n.toString(16)).substr(-2)}function Ji(){let t=new Uint32Array(56);if(typeof crypto>"u"){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=e.length,i="";for(let o=0;o<56;o++)i+=e.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,MR).join("")}async function AR(n){let e=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",e),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}function kR(n){return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Xi(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;let e=await AR(n);return kR(e)}var za=class extends Error{constructor(t,e){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=e}};function ae(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}var rd=class extends za{constructor(t,e){super(t,e),this.name="AuthApiError",this.status=e}toJSON(){return{name:this.name,message:this.message,status:this.status}}};function vC(n){return ae(n)&&n.name==="AuthApiError"}var us=class extends za{constructor(t,e){super(t),this.name="AuthUnknownError",this.originalError=e}},Mr=class extends za{constructor(t,e,r){super(t),this.name=e,this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}},Ar=class extends Mr{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}},ds=class extends Mr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}},eo=class extends Mr{constructor(t){super(t,"AuthInvalidCredentialsError",400)}},to=class extends Mr{constructor(t,e=null){super(t,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Ga=class extends Mr{constructor(t,e=null){super(t,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},fs=class extends Mr{constructor(t,e){super(t,"AuthRetryableFetchError",e)}};function od(n){return ae(n)&&n.name==="AuthRetryableFetchError"}var id=class extends Mr{constructor(t,e,r){super(t,"AuthWeakPasswordError",e),this.reasons=r}};var NR=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},hs=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),OR=[502,503,504];async function yC(n){if(!pC(n))throw new fs(hs(n),0);if(OR.includes(n.status))throw new fs(hs(n),n.status);let t;try{t=await n.json()}catch(e){throw new us(hs(e),e)}throw typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((e,r)=>e&&typeof r=="string",!0)?new id(hs(t),n.status,t.weak_password.reasons):new rd(hs(t),n.status||500)}var RR=(n,t,e,r)=>{let i={method:n,headers:t?.headers||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),e))};async function de(n,t,e,r){var i;let o=Object.assign({},r?.headers);r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await PR(n,t,e+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}}async function PR(n,t,e,r,i,o){let s=RR(t,r,i,o),a;try{a=await n(e,s)}catch(l){throw console.error(l),new fs(hs(l),0)}if(a.ok||await yC(a),r?.noResolveJson)return a;try{return await a.json()}catch(l){await yC(l)}}function ai(n){var t;let e=null;FR(n)&&(e=Object.assign({},n),n.expires_at||(e.expires_at=fC(n.expires_in)));let r=(t=n.user)!==null&&t!==void 0?t:n;return{data:{session:e,user:r},error:null}}function Cg(n){let t=ai(n);return!t.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((e,r)=>e&&typeof r=="string",!0)&&(t.data.weak_password=n.weak_password),t}function Wn(n){var t;return{data:{user:(t=n.user)!==null&&t!==void 0?t:n},error:null}}function _C(n){return{data:n,error:null}}function bC(n){let{action_link:t,email_otp:e,hashed_token:r,redirect_to:i,verification_type:o}=n,s=NR(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:e,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function wC(n){return n}function FR(n){return n.access_token&&n.refresh_token&&n.expires_in}var LR=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},ps=class{constructor({url:t="",headers:e={},fetch:r}){this.url=t,this.headers=e,this.fetch=td(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,e="global"){try{return await de(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,e={}){try{return await de(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:Wn})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{let{options:e}=t,r=LR(t,["options"]),i=Object.assign(Object.assign({},r),e);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await de(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:bC,redirectTo:e?.redirectTo})}catch(e){if(ae(e))return{data:{properties:null,user:null},error:e};throw e}}async createUser(t){try{return await de(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Wn})}catch(e){if(ae(e))return{data:{user:null},error:e};throw e}}async listUsers(t){var e,r,i,o,s,a,l;try{let d={nextPage:null,lastPage:0,total:0},h=await de(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(e=t?.page)===null||e===void 0?void 0:e.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:wC});if(h.error)throw h.error;let p=await h.json(),v=(s=h.headers.get("x-total-count"))!==null&&s!==void 0?s:0,g=(l=(a=h.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(b=>{let w=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(b.split(";")[1].split("=")[1]);d[`${C}Page`]=w}),d.total=parseInt(v)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(ae(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){try{return await de(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Wn})}catch(e){if(ae(e))return{data:{user:null},error:e};throw e}}async updateUserById(t,e){try{return await de(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:e,headers:this.headers,xform:Wn})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,e=!1){try{return await de(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:e},xform:Wn})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{let{data:e,error:r}=await de(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:e,error:r}}catch(e){if(ae(e))return{data:null,error:e};throw e}}async _deleteFactor(t){try{return{data:await de(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(e){if(ae(e))return{data:null,error:e};throw e}}};var sd="2.61.0";var EC="http://localhost:9999",CC="supabase.auth.token";var SC={"X-Client-Info":`gotrue-js/${sd}`},Sg=10;var DC={getItem:n=>oi()?globalThis.localStorage.getItem(n):null,setItem:(n,t)=>{oi()&&globalThis.localStorage.setItem(n,t)},removeItem:n=>{oi()&&globalThis.localStorage.removeItem(n)}};function Dg(n={}){return{getItem:t=>n[t]||null,setItem:(t,e)=>{n[t]=e},removeItem:t=>{delete n[t]}}}function IC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var VR={debug:!!(globalThis&&oi()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},ad=class extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}};IC();var jR={url:EC,storageKey:CC,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:SC,flowType:"implicit",debug:!1},Wa=30*1e3,TC=3;async function UR(n,t,e){return await e()}var Ig=(()=>{class n{constructor(e){var r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=n.nextInstanceID,n.nextInstanceID+=1,this.instanceID>0&&On()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let i=Object.assign(Object.assign({},jR),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new ps({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=td(i.fetch),this.lock=i.lock||UR,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:oi()?this.storage=DC:(this.memoryStorage={},this.storage=Dg(this.memoryStorage)):(this.memoryStorage={},this.storage=Dg(this.memoryStorage)),On()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${sd}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{let e=On()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){let{data:r,error:i}=await this._getSessionFromURL(e);if(i)return this._debug("#_initialize()","error detecting session from URL",i),i?.message==="Identity is already linked"||i?.message==="Identity is already linked to another user"?{error:i}:(await this._removeSession(),{error:i});let{session:o,redirectType:s}=r;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return ae(e)?{error:e}:{error:new us("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signUp(e){var r,i,o;try{await this._removeSession();let s;if("email"in e){let{email:p,password:v,options:g}=e,b=null,w=null;if(this.flowType==="pkce"){let C=Ji();await si(this.storage,`${this.storageKey}-code-verifier`,C),b=await Xi(C),w=C===b?"plain":"s256"}s=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g?.emailRedirectTo,body:{email:p,password:v,data:(r=g?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:b,code_challenge_method:w},xform:ai})}else if("phone"in e){let{phone:p,password:v,options:g}=e;s=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:v,data:(i=g?.data)!==null&&i!==void 0?i:{},channel:(o=g?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:ai})}else throw new eo("You must provide either an email or phone number and a password");let{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};let d=a.session,h=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(s){if(ae(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{await this._removeSession();let r;if("email"in e){let{email:s,password:a,options:l}=e;r=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Cg})}else if("phone"in e){let{phone:s,password:a,options:l}=e;r=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Cg})}else throw new eo("You must provide either an email or phone number and a password");let{data:i,error:o}=r;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new ds}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(ae(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,i,o,s;return await this._removeSession(),await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){let r=await qa(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/"),{data:s,error:a}=await de(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:ai});return await nd(this.storage,`${this.storageKey}-code-verifier`),a?{data:{user:null,session:null,redirectType:null},error:a}:!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new ds}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})}async signInWithIdToken(e){await this._removeSession();try{let{options:r,provider:i,token:o,access_token:s,nonce:a}=e,l=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:ai}),{data:d,error:h}=l;return h?{data:{user:null,session:null},error:h}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new ds}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:h})}catch(r){if(ae(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,i,o,s,a;try{if(await this._removeSession(),"email"in e){let{email:l,options:d}=e,h=null,p=null;if(this.flowType==="pkce"){let g=Ji();await si(this.storage,`${this.storageKey}-code-verifier`,g),h=await Xi(g),p=g===h?"plain":"s256"}let{error:v}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=d?.data)!==null&&r!==void 0?r:{},create_user:(i=d?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:h,code_challenge_method:p},redirectTo:d?.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in e){let{phone:l,options:d}=e,{data:h,error:p}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(o=d?.data)!==null&&o!==void 0?o:{},create_user:(s=d?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(a=d?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:h?.message_id},error:p}}throw new eo("You must provide either an email or phone number.")}catch(l){if(ae(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,i;try{e.type!=="email_change"&&e.type!=="phone_change"&&await this._removeSession();let o,s;"options"in e&&(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(i=e.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:l}=await de(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:ai});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");let d=a.session,h=a.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(o){if(ae(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var r,i,o;try{await this._removeSession();let s=null,a=null;if(this.flowType==="pkce"){let l=Ji();await si(this.storage,`${this.storageKey}-code-verifier`,l),s=await Xi(l),a=l===s?"plain":"s256"}return await de(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:_C})}catch(s){if(ae(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{let{data:{session:r},error:i}=e;if(i)throw i;if(!r)throw new Ar;let{error:o}=await de(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(ae(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{e.type!="email_change"&&e.type!="phone_change"&&await this._removeSession();let r=`${this.url}/resend`;if("email"in e){let{email:i,type:o,options:s}=e,{error:a}=await de(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){let{phone:i,type:o,options:s}=e,{data:a,error:l}=await de(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:l}}throw new eo("You must provide either an email or phone number and a type")}catch(r){if(ae(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){let o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{let r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null,r=await qa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};let i=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i)return{data:{session:e},error:null};let{session:o,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Wn}):await this._useSession(async r=>{var i,o;let{data:s,error:a}=r;if(a)throw a;return await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:Wn})})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async i=>{let{data:o,error:s}=i;if(s)throw s;if(!o.session)throw new Ar;let a=o.session,l=null,d=null;if(this.flowType==="pkce"&&e.email!=null){let v=Ji();await si(this.storage,`${this.storageKey}-code-verifier`,v),l=await Xi(v),d=v===l?"plain":"s256"}let{data:h,error:p}=await de(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:d}),jwt:a.access_token,xform:Wn});if(p)throw p;return a.user=h.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(i){if(ae(i))return{data:{user:null},error:i};throw i}}_decodeJWT(e){return Eg(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ar;let r=Date.now()/1e3,i=r,o=!0,s=null,a=Eg(e.access_token);if(a.exp&&(i=a.exp,o=i<=r),o){let{session:l,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!l)return{data:{user:null,session:null},error:null};s=l}else{let{data:l,error:d}=await this._getUser(e.access_token);if(d)throw d;s={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(ae(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var i;if(!e){let{data:a,error:l}=r;if(l)throw l;e=(i=a.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new Ar;let{session:o,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ae(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e){try{if(!On())throw new to("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new to("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new Ga("Not a valid PKCE flow url.");let r=ed(window.location.href);if(e){if(!r.code)throw new Ga("No code detected.");let{data:F,error:B}=await this._exchangeCodeForSession(r.code);if(B)throw B;let Q=new URL(window.location.href);return Q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Q.toString()),{data:{session:F.session,redirectType:null},error:null}}if(r.error||r.error_description||r.error_code)throw new to(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});let{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:l,expires_at:d,token_type:h}=r;if(!s||!l||!a||!h)throw new to("No session defined in URL");let p=Math.round(Date.now()/1e3),v=parseInt(l),g=p+v;d&&(g=parseInt(d));let b=g-p;b*1e3<=Wa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${v}s`);let w=g-v;p-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,g,p):p-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",w,g,p);let{data:C,error:k}=await this._getUser(s);if(k)throw k;let L={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:v,expires_at:g,refresh_token:a,token_type:h,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:L,redirectType:r.type},error:null}}catch(r){if(ae(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantFlow(){let e=ed(window.location.href);return!!(On()&&(e.access_token||e.error_description))}async _isPKCEFlow(){let e=ed(window.location.href),r=await qa(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var i;let{data:o,error:s}=r;if(s)return{error:s};let a=(i=o.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:l}=await this.admin.signOut(a,e);if(l&&!(vC(l)&&(l.status===404||l.status===401)))return{error:l}}return e!=="others"&&(await this._removeSession(),await nd(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(e){let r=hC(),i={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async r=>{var i,o;try{let{data:{session:s},error:a}=r;if(a)throw a;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let i=null,o=null;if(this.flowType==="pkce"){let s=Ji();await si(this.storage,`${this.storageKey}-code-verifier`,`${s}/PASSWORD_RECOVERY`),i=await Xi(s),o=s===i?"plain":"s256"}try{return await de(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(ae(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{let{data:r,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{let{data:i,error:o}=await this._useSession(async s=>{var a,l,d,h,p;let{data:v,error:g}=s;if(g)throw g;let b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await de(this.fetch,"GET",b,{headers:this.headers,jwt:(p=(h=v.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:void 0})});if(o)throw o;return On()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:e.provider,url:i?.url},error:null}}catch(i){if(ae(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var i,o;let{data:s,error:a}=r;if(a)throw a;return await de(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){let r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return await gC(async o=>(await mC(o*200),this._debug(r,"refreshing attempt",o),await de(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ai})),(o,s,a)=>a&&a.error&&od(a.error)&&Date.now()+(o+1)*200-i<Wa)}catch(i){if(this._debug(r,"error",i),ae(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){let i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",i),On()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e;let r="#_recoverAndRefresh()";this._debug(r,"begin");try{let i=await qa(this.storage,this.storageKey);if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}let o=Math.round(Date.now()/1e3),s=((e=i.expires_at)!==null&&e!==void 0?e:1/0)<o+Sg;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Sg}s`),s){if(this.autoRefreshToken&&i.refresh_token){let{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),od(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,i;if(!e)throw new Ar;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Ha;let{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new Ar;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(o,"error",s),ae(s)){let a={session:null,error:s};return od(s)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,r,i=!0){let o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(d){s.push(d)}});if(await Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),await si(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await nd(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&On()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let e=setInterval(()=>this._autoRefreshTokenTick(),Wa);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let e=Date.now();try{return await this._useSession(async r=>{let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-e)/Wa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Wa}ms, refresh threshold is ${TC} ticks`),o<=TC&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof ad)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!On()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){let r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,i){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let s=Ji();await si(this.storage,`${this.storageKey}-code-verifier`,s);let a=await Xi(s),l=s===a?"plain":"s256";this._debug("PKCE","code verifier",`${s.substring(0,5)}...`,"code challenge",a,"method",l);let d=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});o.push(d.toString())}if(i?.queryParams){let s=new URLSearchParams(i.queryParams);o.push(s.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var i;let{data:o,error:s}=r;return s?{data:null,error:s}:await de(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var i,o;let{data:s,error:a}=r;if(a)return{data:null,error:a};let{data:l,error:d}=await de(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:e.friendlyName,factor_type:e.factorType,issuer:e.issuer},headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return d?{data:null,error:d}:(!((o=l?.totp)===null||o===void 0)&&o.qr_code&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;let{data:o,error:s}=r;if(s)return{data:null,error:s};let{data:a,error:l}=await de(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(r){if(ae(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;let{data:o,error:s}=r;return s?{data:null,error:s}:await de(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(ae(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){let{data:r,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){let{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};let i=e?.factors||[],o=i.filter(s=>s.factor_type==="totp"&&s.status==="verified");return{data:{all:i,totp:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,i;let{data:{session:o},error:s}=e;if(s)return{data:null,error:s};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let a=this._decodeJWT(o.access_token),l=null;a.aal&&(l=a.aal);let d=l;((i=(r=o.user.factors)===null||r===void 0?void 0:r.filter(v=>v.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(d="aal2");let p=a.amr||[];return{data:{currentLevel:l,nextLevel:d,currentAuthenticationMethods:p},error:null}}))}}return n.nextInstanceID=0,n})();var BR=Ig,Tg=BR;var ld=class extends Tg{constructor(t){super(t)}};var $R=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(h){try{d(r.next(h))}catch(p){s(p)}}function l(h){try{d(r.throw(h))}catch(p){s(p)}}function d(h){h.done?o(h.value):i(h.value).then(a,l)}d((r=r.apply(n,t||[])).next())})},cd=class{constructor(t,e,r){var i,o,s;if(this.supabaseUrl=t,this.supabaseKey=e,!t)throw new Error("supabaseUrl is required.");if(!e)throw new Error("supabaseKey is required.");let a=uC(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;let l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,d={db:sC,realtime:lC,auth:Object.assign(Object.assign({},aC),{storageKey:l}),global:oC},h=dC(r??{},d);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(p,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=h.auth)!==null&&s!==void 0?s:{},this.headers,h.global.fetch),this.fetch=cC(e,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new GE(`${a}/rest/v1`,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new Aa(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Ba(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,e;return $R(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(e=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:i,storageKey:o,flowType:s,lock:a,debug:l},d,h){let p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ld({url:this.authUrl,headers:Object.assign(Object.assign({},p),d),storageKey:o,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:i,flowType:s,lock:a,debug:l,fetch:h,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new ja(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,r)=>{this._handleTokenChanged(e,"CLIENT",r?.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var xC=(n,t,e)=>new cd(n,t,e);var Ag=(n,t)=>t.some(e=>n instanceof e),MC,AC;function HR(){return MC||(MC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qR(){return AC||(AC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var kg=new WeakMap,xg=new WeakMap,ud=new WeakMap;function zR(n){let t=new Promise((e,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{e(no(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return ud.set(t,n),t}function GR(n){if(kg.has(n))return;let t=new Promise((e,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{e(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});kg.set(n,t)}var Ng={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return kg.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return no(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function RC(n){Ng=n(Ng)}function WR(n){return qR().includes(n)?function(...t){return n.apply(Og(this),t),no(this.request)}:function(...t){return no(n.apply(Og(this),t))}}function QR(n){return typeof n=="function"?WR(n):(n instanceof IDBTransaction&&GR(n),Ag(n,HR())?new Proxy(n,Ng):n)}function no(n){if(n instanceof IDBRequest)return zR(n);if(xg.has(n))return xg.get(n);let t=QR(n);return t!==n&&(xg.set(n,t),ud.set(t,n)),t}var Og=n=>ud.get(n);function Pg(n,t,{blocked:e,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,t),a=no(s);return r&&s.addEventListener("upgradeneeded",l=>{r(no(s.result),l.oldVersion,l.newVersion,no(s.transaction),l)}),e&&s.addEventListener("blocked",l=>e(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}var KR=["get","getKey","getAll","getAllKeys","count"],ZR=["put","add","delete","clear"],Mg=new Map;function kC(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Mg.get(t))return Mg.get(t);let e=t.replace(/FromIndex$/,""),r=t!==e,i=ZR.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(i||KR.includes(e)))return;let o=async function(s,...a){let l=this.transaction(s,i?"readwrite":"readonly"),d=l.store;return r&&(d=d.index(a.shift())),(await Promise.all([d[e](...a),i&&l.done]))[0]};return Mg.set(t,o),o}RC(n=>q(N({},n),{get:(t,e,r)=>kC(t,e)||n.get(t,e,r),has:(t,e)=>!!kC(t,e)||n.has(t,e)}));var YR=["continue","continuePrimaryKey","advance"],NC={},Rg=new WeakMap,PC=new WeakMap,JR={get(n,t){if(!YR.includes(t))return n[t];let e=NC[t];return e||(e=NC[t]=function(...r){Rg.set(this,PC.get(this)[t](...r))}),e}};async function*XR(...n){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...n)),!t)return;t=t;let e=new Proxy(t,JR);for(PC.set(e,t),ud.set(e,Og(t));t;)yield e,t=await(Rg.get(e)||t.continue()),Rg.delete(e)}function OC(n,t){return t===Symbol.asyncIterator&&Ag(n,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&Ag(n,[IDBIndex,IDBObjectStore])}RC(n=>q(N({},n),{get(t,e,r){return OC(t,e)?XR:n.get(t,e,r)},has(t,e){return OC(t,e)||n.has(t,e)}}));var Fg={API_URL:"https://jsgltiaidlacvchyjjha.supabase.co",anon_key:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpzZ2x0aWFpZGxhY3ZjaHlqamhhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzk2NjIzNDIsImV4cCI6MjA1NTIzODM0Mn0.bPtRMhXapLzUgPEIf6GoW9r52umh0F1YZhG1bfLyb0s",supabase_LocalStorage_key:"sb-jsgltiaidlacvchyjjha-auth-token"};var le=class n{constructor(t,e){this.platformId=t;this.transferState=e;this.supabase=xC(Fg.API_URL,Fg.anon_key,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),this.setupAuthStateSignalSync()}supabase;USER_PROFILE_KEY="userProfile";user=zt(null);currentUsername=zt(null);loginStatus=zt(null);ngOnInit(){}GetClient(){return this.supabase}setupAuthStateSignalSync(){Re(this.platformId)&&(this.supabase.auth.getSession().then(({data:t})=>{this.updateSignalsFromSession(t.session)}),this.supabase.auth.onAuthStateChange((t,e)=>{this.updateSignalsFromSession(e)}))}updateSignalsFromSession(t){if(t&&t.user){this.user.set(t.user);let e=t.user?.identities?.[0]?.identity_data?.firstname||null;this.currentUsername.set(e),this.loginStatus.set(!0)}else this.user.set(null),this.currentUsername.set(null),this.loginStatus.set(!1)}async signIn(t,e){try{let{error:r}=await this.supabase.auth.signInWithPassword({email:t,password:e});if(r)throw r;return{success:!0}}catch(r){return console.error("Sign in error:",r),{success:!1,error:r}}}async signOut(){try{let{error:t}=await this.supabase.auth.signOut();if(t)throw t;return this.clearStorages(),this.updateSignalsFromSession(null),{success:!0}}catch(t){return console.error("Sign out error:",t),{success:!1,error:t}}}async signUp(t,e,r,i){let{data:o,error:s}=await this.supabase.auth.signUp({email:t,password:e,options:{data:{firstname:r,lastname:i}}});if(s)throw s;setTimeout(()=>{o.user?.id&&this.createUserAccount(t,r,i)},500)}clearStorages(){Re(this.platformId)&&(localStorage.clear(),sessionStorage.clear())}async addTradeLog(t,e){let r=this.user();if(!r)throw new Error("User not authenticated");t.userid=r.id;let{data:i,error:o}=await this.supabase.from(e).insert([t]);if(o)throw console.error("Error inserting trade log: ",o),o;return Re(this.platformId)&&sessionStorage.setItem(`${e}_refresh`,"yes"),i}async getTradeLogs(t){let e=this.user();if(!e)throw new Error("User not authenticated");let r=!1,i=null;if(Re(this.platformId)){r=sessionStorage.getItem(`${t}_refresh`)==="yes";let a=sessionStorage.getItem(t);if(a)try{i=JSON.parse(a)}catch(l){console.error("Error parsing cached trade logs:",l),i=null}}if(!r&&i)return i;let{data:o,error:s}=await this.supabase.from(t).select("*").eq("userid",e.id);if(s)throw console.error("Error fetching trade logs:",s),s;return Re(this.platformId)&&(sessionStorage.setItem(t,JSON.stringify(o)),sessionStorage.removeItem(`${t}_refresh`)),o}async getTradeLogsOfSelectedAccount(t,e){let r=this.user();if(!r)throw new Error("User not authenticated");let i=`${t}_${e}`,o=`${i}_refresh`,s=!1,a=null;if(Re(this.platformId)){s=sessionStorage.getItem(o)==="yes";let h=sessionStorage.getItem(i);if(h)try{a=JSON.parse(h)}catch(p){console.error("Error parsing cached trade logs:",p),a=null}}if(!s&&a)return a;let{data:l,error:d}=await this.supabase.from(t).select("*").eq("userid",r.id).eq("trade_account_id",e);if(d)throw console.error("Error fetching trade logs:",d),d;return Re(this.platformId)&&(sessionStorage.setItem(i,JSON.stringify(l)),sessionStorage.removeItem(o)),l}async addTradeLogOfSelectedAccount(t,e,r){let i=this.user();if(!i)throw new Error("User not authenticated");t.userid=i.id;let{data:o,error:s}=await this.supabase.from(e).insert([t]);if(s)throw console.error("Error inserting trade log: ",s),s;return Re(this.platformId)&&sessionStorage.setItem(`${e}_${r}_refresh`,"yes"),o}async updateTradeLogOfSelectedAccount(t,e,r){if(!this.user())throw new Error("User not authenticated");let{data:o,error:s}=await this.supabase.from(e).update(t).eq("tradeid",t.tradeid);if(s)throw console.error("Error updating trade log: ",s),s;return Re(this.platformId)&&sessionStorage.setItem(`${e}_${r}_refresh`,"yes"),o}async deleteTradeLogOfSelectedAccount(t,e,r){if(!this.user())throw new Error("User not authenticated");let{data:o,error:s}=await this.supabase.from(e).delete().eq("tradeid",t);if(s)throw console.error("Error deleting trade log: ",s),s;return Re(this.platformId)&&sessionStorage.setItem(`${e}_${r}_refresh`,"yes"),o}async updateTradeLog(t,e){if(!this.user())throw new Error("User not authenticated");let{data:i,error:o}=await this.supabase.from(e).update(t).eq("tradeid",t.tradeid);if(o)throw console.error("Error updating trade log: ",o),o;return Re(this.platformId)&&sessionStorage.setItem(`${e}_refresh`,"yes"),i}async deleteTradeLog(t,e){if(!this.user())throw new Error("User not authenticated");let{data:i,error:o}=await this.supabase.from(e).delete().eq("tradeid",t);if(o)throw console.error("Error deleting trade log: ",o),o;return Re(this.platformId)&&sessionStorage.setItem(`${e}_refresh`,"yes"),i}async loadQuestions(){let{data:t,error:e}=await this.supabase.from("activequestions").select("*");if(e)throw console.error("Error loading questions: ",e),e;return t}async adminLoadQuestions(){let{data:t,error:e}=await this.supabase.from("adminquestions").select("*");if(e)throw console.error("Error loading questions: ",e),e;return t}async adminSaveQuestions(t){let e=null;for(let r of t.filter(i=>i.isModified))if(r.question_id){let{data:i,error:o}=await this.supabase.from("adminquestions").update({question_data:r.question_data,active:r.active}).eq("question_id",r.question_id).select().single();if(o){console.error("Error updating question:",o),e=o;break}else r.updated_at=i.updated_at,r.isModified=!1}else{let{data:i,error:o}=await this.supabase.from("adminquestions").insert([{question_data:r.question_data,active:r.active}]).select().single();if(o){console.error("Error inserting question:",o),e=o;break}else r.question_id=i.question_id,r.created_at=i.created_at,r.updated_at=i.updated_at,r.isModified=!1}return{error:e}}async deleteQuestion(t){let{error:e}=await this.supabase.from("adminquestions").delete().eq("question_id",t.question_id);return{error:e}}async getActiveQuestions(){let{data:t,error:e}=await this.supabase.from("activequestions").select("*");return{data:t,error:e}}async submitUserAnswers(t){let{error:e}=await this.supabase.from("answers").insert(t);return{error:e}}async getUserTradeAccounts(){let t=this.user();if(!t)throw new Error("User not authenticated");let e="tradeaccount",r=!1,i=null;if(Re(this.platformId)){r=sessionStorage.getItem(`${e}_refresh`)==="yes";let a=sessionStorage.getItem(e);if(a)try{i=JSON.parse(a)}catch(l){console.error("Error parsing cached trade accounts:",l),i=null}}if(!r&&i)return i;let{data:o,error:s}=await this.supabase.from(e).select("*").eq("user_id",t.id);if(s)throw console.error("Error fetching trade accounts:",s),s;return Re(this.platformId)&&(sessionStorage.setItem(e,JSON.stringify(o)),sessionStorage.removeItem(`${e}_refresh`)),o||[]}async addTradeAccount(t){let e=this.user();if(!e)throw new Error("User not authenticated");let d=t,{track_pl:r,include_in_analytics:i,trading_instruments:o}=d,s=mo(d,["track_pl","include_in_analytics","trading_instruments"]),a={track_pl:r,include_in_analytics:i,trading_instruments:o},{error:l}=await this.supabase.from("tradeaccount").insert([q(N({},s),{user_id:e.id,metadata:a})]);return l?(console.error("Failed to add trade account:",l),!1):(sessionStorage.setItem("tradeaccount_refresh","yes"),!0)}async editTradeAccount(t,e){let r=this.user();if(!r)throw new Error("User not authenticated");let h=e,{track_pl:i,include_in_analytics:o,trading_instruments:s}=h,a=mo(h,["track_pl","include_in_analytics","trading_instruments"]),l={track_pl:i,include_in_analytics:o,trading_instruments:s},{error:d}=await this.supabase.from("tradeaccount").update(q(N({},a),{metadata:l})).eq("account_id",t).eq("user_id",r.id);return d?(console.error("Failed to update trade account:",d),!1):(sessionStorage.setItem("tradeaccount_refresh","yes"),!0)}async RemoveTradeAccount(t){let e=this.user();if(!e)throw new Error("User not authenticated");let{error:r}=await this.supabase.from("tradejournal").delete().eq("trade_account_id",t).eq("userid",e.id);if(r)return console.error("Failed to delete associated trade logs:",r),!1;let{error:i}=await this.supabase.from("tradeaccount").delete().eq("account_id",t).eq("user_id",e.id);return i?(console.error("Failed to remove trade account:",i),!1):(Re(this.platformId)&&(sessionStorage.setItem("tradeaccount_refresh","yes"),sessionStorage.setItem(`tradejournal_${t}_refresh`,"yes")),!0)}async createUserAccount(t,e,r){let i=this.user();if(!i)throw new Error("User not authenticated");let{error:o}=await this.supabase.from("usersaccount").insert({user_id:i.id,email:t||"",firstname:e||"",lastname:r||""});if(o)throw console.error("Error creating user account:",o),o}async updateUserAccount(t,e,r){let i=this.user();if(!i)throw new Error("User not authenticated");let o=N(N(N({},e&&{firstname:e}),r&&{lastname:r}),t&&{email:t}),{error:s}=await this.supabase.from("usersaccount").update(o).eq("user_id",i.id);if(s)throw console.error("Error updating user account:",s),s}async loadUserAccount(){let t=this.user();if(!t)throw new Error("User not authenticated");let{data:e,error:r}=await this.supabase.from("usersaccount").select("*").eq("user_id",t.id).single();if(r)throw console.error("Error loading user account:",r),r;return e}async getProfile(){console.log("getting profile picture");let t=this.user();if(!t)throw new Error("User not authenticated");return this.supabase.from("usersaccount").select("*").eq("user_id",t.id).single()}async updateProfile(t){let e=this.user();if(!e)throw new Error("User not authenticated");return this.supabase.from("usersaccount").update(t).eq("user_id",e.id)}async uploadProfilePicture(t){let e=this.user();if(!e)throw new Error("User not authenticated");let r=t.name.split(".").pop(),i=`${e.id}/profile.${r}`,{error:o}=await this.supabase.storage.from("user-profile-pictures").upload(i,t,{upsert:!0});return o?null:i}async cacheProfilePictureBlob(t,e){await(await Pg("profile-cache",1,{upgrade(i){i.createObjectStore("pictures")}})).put("pictures",e,t)}async getCachedProfilePictureBlobUrl(t){if(!t)return null;let e=await Pg("profile-cache",1,{upgrade(a){a.createObjectStore("pictures")}}),r=await e.get("pictures",t);if(r)return URL.createObjectURL(r);let i=await this.getPublicUrl(t);if(!i)return null;let o=await fetch(i);if(!o.ok)return null;let s=await o.blob();return await e.put("pictures",s,t),URL.createObjectURL(s)}clearCachedProfilePictureBlobUrl(){if(Re(this.platformId)){let t=sessionStorage.getItem("profile_picture_blob_url");t&&(URL.revokeObjectURL(t),sessionStorage.removeItem("profile_picture_blob_url"))}}async deleteProfilePicture(){let{data:{user:t}}=await this.supabase.auth.getUser();if(!t)return;let e=`profile-pictures/${t.id}`;await this.supabase.storage.from("user-profile-pictures").remove([e])}async getPublicUrl(t){let{data:e}=await this.supabase.storage.from("user-profile-pictures").createSignedUrl(t,60);return e?.signedUrl??null}async adminLoadMeditationVideos(){let{data:t,error:e}=await this.supabase.from("adminmeditationvideos").select("*").order("created_at",{ascending:!1});if(e)throw console.error("Error loading meditation videos: ",e),e;return t}async loadActiveMeditationVideos(){let{data:t,error:e}=await this.supabase.from("activemeditationvideos").select("*").order("created_at",{ascending:!1});if(e)throw console.error("Error loading meditation videos: ",e),e;return t}async addMeditationVideo(t){let{error:e}=await this.supabase.from("adminmeditationvideos").insert([{title:t.title,url:t.url,category:t.category,description:t.description,isactive:t.isactive}]);return e&&console.error("Error adding meditation video: ",e),{error:e}}async updateMeditationVideo(t){let{error:e}=await this.supabase.from("adminmeditationvideos").update({title:t.title,url:t.url,category:t.category,description:t.description,isactive:t.isactive,updated_time:t.updated_time}).eq("id",t.id);return e&&console.error("Error updating meditation video: ",e),{error:e}}supaScream(){return"SupaScream"}static \u0275fac=function(e){return new(e||n)(P(Ct),P(zc))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})};function eP(n,t){if(n&1&&(u(0,"div",11)(1,"div",12)(2,"div",8)(3,"h5",13),f(4),c(),u(5,"p",14),f(6),c(),u(7,"a",15),f(8),c()()()()),n&2){let e=t.$implicit;m(4),G(e.title),m(2),G(e.description),m(),y("routerLink",e.link),m(),G(e.buttonText)}}var dd=class n{constructor(t){this.supabaseService=t;this.userFirstName=this.supabaseService.currentUsername()}userFirstName;steps=[{title:"Step 1: Daily Emotional Check-in",description:"Understand your emotional state before making trading decisions.",buttonText:"Begin Emotional Check-in",link:"/emotions"},{title:"Step 2: Plan Your Trades",description:"Document your trading plan before executing any trades.",buttonText:"Plan your trade",link:"/tradejournal"},{title:"Step 3: Update your Trades",description:"Record results and analyze your trading performance.",buttonText:"Execute your trades",link:"/tradejournal"},{title:"Step 4: Reflection & Meditation",description:"Clear your mind with mindfulness practices.",buttonText:"Start Reflection",link:"/reflection"}];static \u0275fac=function(e){return new(e||n)(T(le))};static \u0275cmp=re({type:n,selectors:[["app-landing-page"]],decls:22,vars:1,consts:[[1,"container","mt-4"],[1,"mb-4"],[1,""],[1,"mt-3"],["class","col-12 mt-3",4,"ngFor","ngForOf"],[1,"row","mb-5"],[1,"col-12"],[1,"card","h-100","bg-transparent"],[1,"card-body"],[1,"card-title"],["routerLink","/meditationhub",1,"btn","btn-secondary","btn-tr"],[1,"col-12","mt-3"],[1,"card","h-100","bg-transparent","mt-3"],[1,"card-title","mt-3"],[1,"card-text","mt-3"],[1,"btn","btn-primary","btn-tr","mt-3",3,"routerLink"]],template:function(e,r){e&1&&(u(0,"div",0)(1,"h2",1),f(2,"Begin Your Trading Transformation"),c(),u(3,"h3",1),f(4,"Your Daily Trading Routine"),c(),u(5,"p",2),f(6," Welcome to your personalized trading journey. Each day follows a structured approach designed to build discipline and improve your trading performance. "),c(),u(7,"div",3),S(8,eP,9,4,"div",4),c(),_(9,"hr"),u(10,"h2",1),f(11,"Additional Resources"),c(),u(12,"div",5)(13,"div",6)(14,"div",7)(15,"div",8)(16,"h5",9),f(17,"Meditation Hub"),c(),u(18,"p"),f(19,"Clear your mind and reduce emotional reactivity with guided meditations."),c(),u(20,"a",10),f(21,"Visit Meditation Hub"),c()()()()()()),e&2&&(m(8),y("ngForOf",r.steps))},dependencies:[ze,ge,qe],styles:[".card[_ngcontent-%COMP%]{border:none;border-radius:8px}.card-body[_ngcontent-%COMP%]{padding-left:0}.card-body[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:600;margin-bottom:.75rem}.card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1rem}.btn-custom[_ngcontent-%COMP%]{border-radius:20px;font-weight:600}@media (max-width: 576px){.card-body[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.1rem}.card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.btn-custom[_ngcontent-%COMP%]{padding:.5rem 1rem}}"]})};var ut=class n{constructor(t,e,r){this.supabaseService=t;this.router=e;this.injector=r}canActivate(t,e){let r=this.supabaseService.loginStatus();return new Promise(i=>{it(this.injector,()=>{Jr(()=>{this.supabaseService.loginStatus()&&i(!0)})}),setTimeout(()=>{this.supabaseService.loginStatus()||i(this.router.createUrlTree([""],{queryParams:{returnUrl:e.url}}))},100)})}static \u0275fac=function(e){return new(e||n)(P(le),P(Nn),P(Le))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})};var fd=class n{constructor(t,e,r){this.supabaseService=t;this.router=e;this.injector=r}canActivate(t,e){let r=this.supabaseService.loginStatus();return r?!1:r?new Promise(i=>{it(this.injector,()=>{Jr(()=>{this.supabaseService.loginStatus()||i(!0)})}),setTimeout(()=>{this.supabaseService.loginStatus()&&i(this.router.createUrlTree(["/home"]))},100)}):!0}static \u0275fac=function(e){return new(e||n)(P(le),P(Nn),P(Le))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})};var zC=(()=>{class n{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,r){this._renderer=e,this._elementRef=r}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(r){return new(r||n)(T(Tn),T(Ye))};static \u0275dir=fe({type:n})}return n})(),ys=(()=>{class n extends zC{static \u0275fac=(()=>{let e;return function(i){return(e||(e=cn(n)))(i||n)}})();static \u0275dir=fe({type:n,features:[Xe]})}return n})(),di=new V(""),tP={provide:di,useExisting:pt(()=>kr),multi:!0},kr=(()=>{class n extends ys{writeValue(e){this.setProperty("checked",e)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=cn(n)))(i||n)}})();static \u0275dir=fe({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&D("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[gt([tP]),Xe]})}return n})(),nP={provide:di,useExisting:pt(()=>We),multi:!0};function rP(){let n=Sr()?Sr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var iP=new V(""),We=(()=>{class n extends zC{_compositionMode;_composing=!1;constructor(e,r,i){super(e,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!rP())}writeValue(e){let r=e??"";this.setProperty("value",r)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(r){return new(r||n)(T(Tn),T(Ye),T(iP,8))};static \u0275dir=fe({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&D("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[gt([nP]),Xe]})}return n})();function li(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function GC(n){return n!=null&&typeof n.length=="number"}var ro=new V(""),Xa=new V(""),oP=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,R=class{static min(t){return WC(t)}static max(t){return QC(t)}static required(t){return sP(t)}static requiredTrue(t){return aP(t)}static email(t){return lP(t)}static minLength(t){return cP(t)}static maxLength(t){return uP(t)}static pattern(t){return dP(t)}static nullValidator(t){return pd(t)}static compose(t){return eS(t)}static composeAsync(t){return nS(t)}};function WC(n){return t=>{if(li(t.value)||li(n))return null;let e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function QC(n){return t=>{if(li(t.value)||li(n))return null;let e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function sP(n){return li(n.value)?{required:!0}:null}function aP(n){return n.value===!0?null:{required:!0}}function lP(n){return li(n.value)||oP.test(n.value)?null:{email:!0}}function cP(n){return t=>li(t.value)||!GC(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}function uP(n){return t=>GC(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}function dP(n){if(!n)return pd;let t,e;return typeof n=="string"?(e="",n.charAt(0)!=="^"&&(e+="^"),e+=n,n.charAt(n.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),r=>{if(li(r.value))return null;let i=r.value;return t.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}function pd(n){return null}function KC(n){return n!=null}function ZC(n){return Ui(n)?Ne(n):n}function YC(n){let t={};return n.forEach(e=>{t=e!=null?N(N({},t),e):t}),Object.keys(t).length===0?null:t}function JC(n,t){return t.map(e=>e(n))}function fP(n){return!n.validate}function XC(n){return n.map(t=>fP(t)?t:e=>t.validate(e))}function eS(n){if(!n)return null;let t=n.filter(KC);return t.length==0?null:function(e){return YC(JC(e,t))}}function tS(n){return n!=null?eS(XC(n)):null}function nS(n){if(!n)return null;let t=n.filter(KC);return t.length==0?null:function(e){let r=JC(e,t).map(ZC);return As(r).pipe(W(YC))}}function rS(n){return n!=null?nS(XC(n)):null}function FC(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function iS(n){return n._rawValidators}function oS(n){return n._rawAsyncValidators}function Lg(n){return n?Array.isArray(n)?n:[n]:[]}function md(n,t){return Array.isArray(n)?n.includes(t):n===t}function LC(n,t){let e=Lg(t);return Lg(n).forEach(i=>{md(e,i)||e.push(i)}),e}function VC(n,t){return Lg(t).filter(e=>!md(n,e))}var gd=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=tS(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=rS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},Xt=class extends gd{name;get formDirective(){return null}get path(){return null}},ci=class extends gd{_parent=null;name=null;valueAccessor=null},vd=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},hP={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Hz=q(N({},hP),{"[class.ng-submitted]":"isSubmitted"}),nt=(()=>{class n extends vd{constructor(e){super(e)}static \u0275fac=function(r){return new(r||n)(T(ci,2))};static \u0275dir=fe({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Gt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Xe]})}return n})(),gn=(()=>{class n extends vd{constructor(e){super(e)}static \u0275fac=function(r){return new(r||n)(T(Xt,10))};static \u0275dir=fe({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Gt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Xe]})}return n})();var Qa="VALID",hd="INVALID",ms="PENDING",Ka="DISABLED",ui=class{},yd=class extends ui{value;source;constructor(t,e){super(),this.value=t,this.source=e}},Za=class extends ui{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},Ya=class extends ui{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},gs=class extends ui{status;source;constructor(t,e){super(),this.status=t,this.source=e}},Vg=class extends ui{source;constructor(t){super(),this.source=t}},jg=class extends ui{source;constructor(t){super(),this.source=t}};function Hg(n){return(Ed(n)?n.validators:n)||null}function pP(n){return Array.isArray(n)?tS(n):n||null}function qg(n,t){return(Ed(t)?t.asyncValidators:n)||null}function mP(n){return Array.isArray(n)?rS(n):n||null}function Ed(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function sS(n,t,e){let r=n.controls;if(!(t?Object.keys(r):r).length)throw new A(1e3,"");if(!r[e])throw new A(1001,"")}function aS(n,t,e){n._forEachChild((r,i)=>{if(e[i]===void 0)throw new A(1002,"")})}var vs=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Er(this.statusReactive)}set status(t){Er(()=>this.statusReactive.set(t))}_status=$i(()=>this.statusReactive());statusReactive=zt(void 0);get valid(){return this.status===Qa}get invalid(){return this.status===hd}get pending(){return this.status==ms}get disabled(){return this.status===Ka}get enabled(){return this.status!==Ka}errors;get pristine(){return Er(this.pristineReactive)}set pristine(t){Er(()=>this.pristineReactive.set(t))}_pristine=$i(()=>this.pristineReactive());pristineReactive=zt(!0);get dirty(){return!this.pristine}get touched(){return Er(this.touchedReactive)}set touched(t){Er(()=>this.touchedReactive.set(t))}_touched=$i(()=>this.touchedReactive());touchedReactive=zt(!1);get untouched(){return!this.touched}_events=new xe;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(LC(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(LC(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(VC(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(VC(t,this._rawAsyncValidators))}hasValidator(t){return md(this._rawValidators,t)}hasAsyncValidator(t){return md(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(q(N({},t),{sourceControl:r})),e&&t.emitEvent!==!1&&this._events.next(new Ya(!0,r))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),e&&t.emitEvent!==!1&&this._events.next(new Ya(!1,r))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(q(N({},t),{sourceControl:r})),e&&t.emitEvent!==!1&&this._events.next(new Za(!1,r))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),e&&t.emitEvent!==!1&&this._events.next(new Za(!0,r))}markAsPending(t={}){this.status=ms;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new gs(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(q(N({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Ka,this.errors=null,this._forEachChild(i=>{i.disable(q(N({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new yd(this.value,r)),this._events.next(new gs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(q(N({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Qa,this._forEachChild(r=>{r.enable(q(N({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(q(N({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Qa||this.status===ms)&&this._runAsyncValidator(r,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new yd(this.value,e)),this._events.next(new gs(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(q(N({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ka:Qa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=ms,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let r=ZC(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(t,e){let r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new gs(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,r)}_initObservables(){this.valueChanges=new ve,this.statusChanges=new ve}_calculateStatus(){return this._allControlsDisabled()?Ka:this.errors?hd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ms)?ms:this._anyControlsHaveStatus(hd)?hd:Qa}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),i&&this._events.next(new Za(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new Ya(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Ed(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=pP(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=mP(this._rawAsyncValidators)}},_d=class extends vs{constructor(t,e,r){super(Hg(e),qg(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){aS(this,!0,t),Object.keys(t).forEach(r=>{sS(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(r=>{let i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>r._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,r]of Object.entries(this.controls))if(this.contains(e)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(t,e){let r=t;return this._forEachChild((i,o)=>{r=e(r,i,o)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Ug=class extends _d{};var el=new V("",{providedIn:"root",factory:()=>tl}),tl="always";function Cd(n,t){return[...t.path,n]}function Bg(n,t,e=tl){zg(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),vP(n,t),_P(n,t),yP(n,t),gP(n,t)}function jC(n,t,e=!0){let r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),wd(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function bd(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function gP(n,t){if(t.valueAccessor.setDisabledState){let e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function zg(n,t){let e=iS(n);t.validator!==null?n.setValidators(FC(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let r=oS(n);t.asyncValidator!==null?n.setAsyncValidators(FC(r,t.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();bd(t._rawValidators,i),bd(t._rawAsyncValidators,i)}function wd(n,t){let e=!1;if(n!==null){if(t.validator!==null){let i=iS(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==t.validator);o.length!==i.length&&(e=!0,n.setValidators(o))}}if(t.asyncValidator!==null){let i=oS(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==t.asyncValidator);o.length!==i.length&&(e=!0,n.setAsyncValidators(o))}}}let r=()=>{};return bd(t._rawValidators,r),bd(t._rawAsyncValidators,r),e}function vP(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&lS(n,t)})}function yP(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&lS(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function lS(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function _P(n,t){let e=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function bP(n,t){n==null,zg(n,t)}function wP(n,t){return wd(n,t)}function cS(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function EP(n){return Object.getPrototypeOf(n.constructor)===ys}function CP(n,t){n._syncPendingControls(),t.forEach(e=>{let r=e.control;r.updateOn==="submit"&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function uS(n,t){if(!t)return null;Array.isArray(t);let e,r,i;return t.forEach(o=>{o.constructor===We?e=o:EP(o)?r=o:i=o}),i||r||e||null}function SP(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function UC(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function BC(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Ja=class extends vs{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,r){super(Hg(e),qg(r,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ed(e)&&(e.nonNullable||e.initialValueIsDefault)&&(BC(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){UC(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){UC(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){BC(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var DP=n=>n instanceof Ja,IP=(()=>{class n extends Xt{_parent;ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Cd(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static \u0275fac=(()=>{let e;return function(i){return(e||(e=cn(n)))(i||n)}})();static \u0275dir=fe({type:n,standalone:!1,features:[Xe]})}return n})();var TP={provide:ci,useExisting:pt(()=>io)},$C=Promise.resolve(),io=(()=>{class n extends ci{_changeDetectorRef;callSetDisabledState;control=new Ja;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new ve;constructor(e,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=uS(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),cS(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Bg(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){$C.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let r=e.isDisabled.currentValue,i=r!==0&&xn(r);$C.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?Cd(e,this._parent):[e]}static \u0275fac=function(r){return new(r||n)(T(Xt,9),T(ro,10),T(Xa,10),T(di,10),T(ce,8),T(el,8))};static \u0275dir=fe({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[gt([TP]),Xe,ln]})}return n})(),vn=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=fe({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),xP={provide:di,useExisting:pt(()=>Nr),multi:!0},Nr=(()=>{class n extends ys{writeValue(e){let r=e??"";this.setProperty("value",r)}registerOnChange(e){this.onChange=r=>{e(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=cn(n)))(i||n)}})();static \u0275dir=fe({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&D("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[gt([xP]),Xe]})}return n})(),MP={provide:di,useExisting:pt(()=>Or),multi:!0};var AP=(()=>{class n{_accessors=[];add(e,r){this._accessors.push([e,r])}remove(e){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===e){this._accessors.splice(r,1);return}}select(e){this._accessors.forEach(r=>{this._isSameGroup(r,e)&&r[1]!==e&&r[1].fireUncheck(e.value)})}_isSameGroup(e,r){return e[0].control?e[0]._parent===r._control._parent&&e[1].name===r.name:!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Or=(()=>{class n extends ys{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=I(el,{optional:!0})??tl;constructor(e,r,i,o){super(e,r),this._registry=i,this._injector=o}ngOnInit(){this._control=this._injector.get(ci),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}setDisabledState(e){(this.setDisabledStateFired||e||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",e),this.setDisabledStateFired=!0}fireUncheck(e){this.writeValue(e)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(r){return new(r||n)(T(Tn),T(Ye),T(AP),T(Le))};static \u0275dir=fe({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,i){r&1&&D("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[gt([MP]),Xe]})}return n})();var dS=new V("");var kP={provide:Xt,useExisting:pt(()=>Ft)},Ft=(()=>{class n extends Xt{callSetDisabledState;get submitted(){return Er(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=$i(()=>this._submittedReactive());_submittedReactive=zt(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new ve;constructor(e,r,i){super(),this.callSetDisabledState=i,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(wd(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let r=this.form.get(e.path);return Bg(r,e,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){jC(e.control||null,e,!1),SP(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this._submittedReactive.set(!0),CP(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new Vg(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new jg(this.form))}_updateDomValue(){this.directives.forEach(e=>{let r=e.control,i=this.form.get(e.path);r!==i&&(jC(r||null,e),DP(i)&&(Bg(i,e,this.callSetDisabledState),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let r=this.form.get(e.path);bP(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let r=this.form.get(e.path);r&&wP(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){zg(this.form,this),this._oldForm&&wd(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(r){return new(r||n)(T(ro,10),T(Xa,10),T(el,8))};static \u0275dir=fe({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&D("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[gt([kP]),Xe,ln]})}return n})(),NP={provide:Xt,useExisting:pt(()=>Sd)},Sd=(()=>{class n extends IP{name=null;constructor(e,r,i){super(),this._parent=e,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){fS(this._parent)}static \u0275fac=function(r){return new(r||n)(T(Xt,13),T(ro,10),T(Xa,10))};static \u0275dir=fe({type:n,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},standalone:!1,features:[gt([NP]),Xe]})}return n})(),OP={provide:Xt,useExisting:pt(()=>Dd)},Dd=(()=>{class n extends Xt{_parent;name=null;constructor(e,r,i){super(),this._parent=e,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Cd(this.name==null?this.name:this.name.toString(),this._parent)}_checkParentType(){fS(this._parent)}static \u0275fac=function(r){return new(r||n)(T(Xt,13),T(ro,10),T(Xa,10))};static \u0275dir=fe({type:n,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},standalone:!1,features:[gt([OP]),Xe]})}return n})();function fS(n){return!(n instanceof Sd)&&!(n instanceof Ft)&&!(n instanceof Dd)}var RP={provide:ci,useExisting:pt(()=>en)},en=(()=>{class n extends ci{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new ve;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=uS(this,o)}ngOnChanges(e){this._added||this._setUpControl(),cS(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return Cd(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(T(Xt,13),T(ro,10),T(Xa,10),T(di,10),T(dS,8))};static \u0275dir=fe({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[gt([RP]),Xe,ln]})}return n})(),PP={provide:di,useExisting:pt(()=>Qn),multi:!0};function hS(n,t){return n==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function FP(n){return n.split(":")[0]}var Qn=(()=>{class n extends ys{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let r=this._getOptionId(e),i=hS(r,e);this.setProperty("value",i)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){let r=FP(e);return this._optionMap.has(r)?this._optionMap.get(r):e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=cn(n)))(i||n)}})();static \u0275dir=fe({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&D("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[gt([PP]),Xe]})}return n})(),Kn=(()=>{class n{_element;_renderer;_select;id;constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(hS(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(T(Ye),T(Tn),T(Qn,9))};static \u0275dir=fe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),LP={provide:di,useExisting:pt(()=>pS),multi:!0};function HC(n,t){return n==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function VP(n){return n.split(":")[0]}var pS=(()=>{class n extends ys{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let r;if(Array.isArray(e)){let i=e.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],d=this._getOptionValue(l.value);i.push(d)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let d=this._getOptionValue(l.value);i.push(d)}}}this.value=i,e(i)}}_registerOption(e){let r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){let r=VP(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=cn(n)))(i||n)}})();static \u0275dir=fe({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&D("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[gt([LP]),Xe]})}return n})(),Zn=(()=>{class n{_element;_renderer;_select;id;_value;constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(HC(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(HC(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(T(Ye),T(Tn),T(pS,9))};static \u0275dir=fe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function mS(n){return typeof n=="number"?n:parseFloat(n)}var gS=(()=>{class n{_validator=pd;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){let r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):pd,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=fe({type:n,features:[ln]})}return n})(),jP={provide:ro,useExisting:pt(()=>Gg),multi:!0},Gg=(()=>{class n extends gS{max;inputName="max";normalizeInput=e=>mS(e);createValidator=e=>QC(e);static \u0275fac=(()=>{let e;return function(i){return(e||(e=cn(n)))(i||n)}})();static \u0275dir=fe({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&$n("max",i._enabled?i.max:null)},inputs:{max:"max"},standalone:!1,features:[gt([jP]),Xe]})}return n})(),UP={provide:ro,useExisting:pt(()=>nl),multi:!0},nl=(()=>{class n extends gS{min;inputName="min";normalizeInput=e=>mS(e);createValidator=e=>WC(e);static \u0275fac=(()=>{let e;return function(i){return(e||(e=cn(n)))(i||n)}})();static \u0275dir=fe({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&$n("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[gt([UP]),Xe]})}return n})();var vS=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Je({type:n});static \u0275inj=Ze({})}return n})(),$g=class extends vs{constructor(t,e,r){super(Hg(e),qg(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),e&&(this.controls.splice(i,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){aS(this,!1,t),t.forEach((r,i)=>{sS(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,r)=>r._syncPendingControls()?!0:e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function qC(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var yn=(()=>{class n{useNonNullable=!1;get nonNullable(){let e=new n;return e.useNonNullable=!0,e}group(e,r=null){let i=this._reduceControls(e),o={};return qC(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new _d(i,o)}record(e,r=null){let i=this._reduceControls(e);return new Ug(i,r)}control(e,r,i){let o={};return this.useNonNullable?(qC(r)?o=r:(o.validators=r,o.asyncValidators=i),new Ja(e,q(N({},o),{nonNullable:!0}))):new Ja(e,r,i)}array(e,r,i){let o=e.map(s=>this._createControl(s));return new $g(o,r,i)}_reduceControls(e){let r={};return Object.keys(e).forEach(i=>{r[i]=this._createControl(e[i])}),r}_createControl(e){if(e instanceof Ja)return e;if(e instanceof vs)return e;if(Array.isArray(e)){let r=e[0],i=e.length>1?e[1]:null,o=e.length>2?e[2]:null;return this.control(r,i,o)}else return this.control(e)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var fi=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:el,useValue:e.callSetDisabledState??tl}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Je({type:n});static \u0275inj=Ze({imports:[vS]})}return n})(),Lt=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:dS,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:el,useValue:e.callSetDisabledState??tl}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Je({type:n});static \u0275inj=Ze({imports:[vS]})}return n})();var dt=[];for(let n=0;n<256;++n)dt.push((n+256).toString(16).slice(1));function yS(n,t=0){return(dt[n[t+0]]+dt[n[t+1]]+dt[n[t+2]]+dt[n[t+3]]+"-"+dt[n[t+4]]+dt[n[t+5]]+"-"+dt[n[t+6]]+dt[n[t+7]]+"-"+dt[n[t+8]]+dt[n[t+9]]+"-"+dt[n[t+10]]+dt[n[t+11]]+dt[n[t+12]]+dt[n[t+13]]+dt[n[t+14]]+dt[n[t+15]]).toLowerCase()}var Wg,BP=new Uint8Array(16);function Qg(){if(!Wg){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Wg=crypto.getRandomValues.bind(crypto)}return Wg(BP)}var $P=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Kg={randomUUID:$P};function HP(n,t,e){if(Kg.randomUUID&&!t&&!n)return Kg.randomUUID();n=n||{};let r=n.random??n.rng?.()??Qg();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){if(e=e||0,e<0||e+16>t.length)throw new RangeError(`UUID byte range ${e}:${e+15} is out of buffer bounds`);for(let i=0;i<16;++i)t[e+i]=r[i];return t}return yS(r)}var oo=HP;var qP=(n,t)=>({"text-success":n,"text-danger":t});function zP(n,t){if(n&1&&(u(0,"div",138),_(1,"div",139),c()),n&2){let e=E();m(),Hn("width",e.calculateFormProgress()+"%")}}function GP(n,t){if(n&1&&(u(0,"span",140),f(1),c()),n&2){let e=E();m(),U("",e.calculateFormProgress(),"% Complete")}}function WP(n,t){n&1&&(u(0,"div",141),f(1," Account name is required "),c())}function QP(n,t){n&1&&(u(0,"div",141),f(1," Please select an instrument type "),c())}function KP(n,t){n&1&&(u(0,"div",141),f(1," Trade symbol is required "),c())}function ZP(n,t){n&1&&(u(0,"div",141),f(1," Please select trade direction "),c())}function YP(n,t){n&1&&(u(0,"div",141),f(1," Time frame selection is required "),c())}function JP(n,t){n&1&&(u(0,"div",141),f(1," Please select an analysis type "),c())}function XP(n,t){n&1&&(u(0,"div",141),f(1," Strategy name is required "),c())}function eF(n,t){n&1&&(u(0,"div",141),f(1," Order type is required "),c())}function tF(n,t){n&1&&(u(0,"div",141),f(1," Entry criteria is required (min 10 characters) "),c())}function nF(n,t){n&1&&(u(0,"div",141),f(1," Exit strategy is required (min 10 characters) "),c())}function rF(n,t){n&1&&(u(0,"div",141),f(1," Valid account balance is required "),c())}function iF(n,t){n&1&&(u(0,"div",141),f(1," Position size is required "),c())}function oF(n,t){n&1&&(u(0,"div",141),f(1," Valid entry price is required "),c())}function sF(n,t){n&1&&(u(0,"div",141),f(1," Entry date/time is required "),c())}function aF(n,t){n&1&&(u(0,"div",141),f(1," Stop loss price is required "),c())}function lF(n,t){n&1&&(u(0,"div",141),f(1," Take profit price is required "),c())}function cF(n,t){n&1&&(u(0,"div",141),f(1," Risk percentage is required "),c())}function uF(n,t){n&1&&(u(0,"div",142),_(1,"i",143),f(2," Risk exceeds recommended 2% "),c())}function dF(n,t){n&1&&(u(0,"div",141),f(1," Estimated reward is required "),c())}function fF(n,t){n&1&&(u(0,"div",141),f(1," Please select your emotional state "),c())}function hF(n,t){n&1&&(u(0,"div",142),_(1,"i",143),f(2," Consider if this emotional state might negatively impact your decision making "),c())}function pF(n,t){n&1&&(u(0,"div",144),f(1," Please rate your confidence "),c())}function mF(n,t){n&1&&(u(0,"div",141),f(1," Please identify potential biases (min 5 characters) "),c())}function gF(n,t){n&1&&(u(0,"li"),f(1,"Complete all required fields in Trade Setup"),c())}function vF(n,t){n&1&&(u(0,"li"),f(1,"Complete all required fields in Strategy Details"),c())}function yF(n,t){n&1&&(u(0,"li"),f(1,"Complete all required fields in Risk Management"),c())}function _F(n,t){n&1&&(u(0,"li"),f(1,"Complete all required fields in Psychological Analysis"),c())}function bF(n,t){if(n&1&&(u(0,"div",145),_(1,"i",146),u(2,"strong"),f(3,"Please fix the errors highlighted above before submitting."),c(),u(4,"ul",147),S(5,gF,2,0,"li",148)(6,vF,2,0,"li",148)(7,yF,2,0,"li",148)(8,_F,2,0,"li",148),c()()),n&2){let e=E();m(5),y("ngIf",e.hasErrors("tradeSetup")),m(),y("ngIf",e.hasErrors("strategyDetails")),m(),y("ngIf",e.hasErrors("riskManagement")),m(),y("ngIf",e.hasErrors("psychologicalAnalysis"))}}function wF(n,t){if(n&1){let e=H();u(0,"button",149),D("click",function(){x(e);let i=E();return M(i.onCancel())}),_(1,"i",150),f(2,"Cancel "),c()}}function EF(n,t){if(n&1&&(u(0,"div",151),_(1,"i",152),f(2),c()),n&2){let e=E();m(2),U("",e.message," ")}}function CF(n,t){if(n&1&&(u(0,"div",153),_(1,"i",146),f(2),c()),n&2){let e=E();m(2),U("",e.errorMessage," ")}}var _s=class n{constructor(t,e,r){this.fb=t;this.supabaseService=e;this.cdr=r}tradeLogData=null;formSubmitted=new ve;cancel=new ve;preTradeTableName="pretrade";postTradeTableName="posttrade";preTradeForm;postTradeForm;showEmotionalSection=!1;message="";errorMessage="";formSubmitMarker=!1;ngOnInit(){this.formSubmitMarker=!1,this.createForm()}createForm(){var t=oo();this.preTradeForm=this.fb.group({tradeid:[this.tradeLogData?.tradeid??t],userid:[this.tradeLogData?.userid??"the-db-is-likely-hacked-1234-abcd-5678-efgh"],createdtime:[this.tradeLogData?.createdtime??new Date().toISOString()],accountname:[this.tradeLogData?.accountname??"",R.required],instrumenttype:[this.tradeLogData?.instrumenttype??"",R.required],analysistype:[this.tradeLogData?.analysistype??"",R.required],tradesymbol:[this.tradeLogData?.tradesymbol??"",R.required],tradetype:[this.tradeLogData?.tradetype??"Long",R.required],timeframe:[this.tradeLogData?.timeframe??"Day",R.required],strategyname:[this.tradeLogData?.strategyname??""],typeoforder:[this.tradeLogData?.typeoforder??"",R.required],entrycriteria:[this.tradeLogData?.entrycriteria??""],exitstrategy:[this.tradeLogData?.exitstrategy??""],entrydatetime:[this.tradeLogData?.entrydatetime??""],entryprice:[this.tradeLogData?.entryprice??""],accountbalance:[this.tradeLogData?.accountbalance??null,[R.required,R.min(0)]],positionsize:[this.tradeLogData?.positionsize??"",R.required],estimatedrisk:[this.tradeLogData?.estimatedrisk??null,R.required],estimatedpnl:[this.tradeLogData?.estimatedpnl??null,R.required],estimatedstoploss:[this.tradeLogData?.estimatedstoploss??null,R.required],estimatedtakeprofit:[this.tradeLogData?.estimatedtakeprofit??null,R.required],setupscreenshot:[this.tradeLogData?.setupscreenshot??""],tradeconfidence:[this.tradeLogData?.tradeconfidence??"1"],isopen:!0,emotionalstatebefore:[this.tradeLogData?.emotionalstatebefore??"",R.required],potentialbiases:[this.tradeLogData?.potentialbiases??"",R.required],notes:[this.tradeLogData?.notes??""],updatedtime:[new Date().toISOString()]})}toggleEmotionalSection(){this.showEmotionalSection=!this.showEmotionalSection}onFileSelected(t){let e=t.target;if(!e.files||e.files.length===0)return;let r=e.files[0],i=new FileReader;i.onload=o=>{this.preTradeForm.patchValue({setupscreenshot:o.target.result})},i.readAsDataURL(r)}async onSubmit(){if(this.formSubmitMarker=!0,this.preTradeForm.invalid){this.preTradeForm.markAllAsTouched();return}let t=this.preTradeForm.value;try{this.tradeLogData?await this.supabaseService.updateTradeLog(t,this.preTradeTableName):await this.supabaseService.addTradeLog(t,this.preTradeTableName),this.message="Trade log updated successfully. Resetting in 5 seconds.",setTimeout(()=>{this.cdr.markForCheck()},0),this.formSubmitted.emit(),this.formSubmitMarker=!1,this.cdr.markForCheck(),setTimeout(()=>{this.preTradeForm.reset(),this.preTradeForm.markAsPristine(),this.message="Form has been reset",this.cdr.markForCheck()},5e3),setTimeout(()=>{this.message="",this.cdr.markForCheck()},3e3)}catch(e){console.error("Error processing trade log:",e),this.errorMessage="Something went wrong.",this.cdr.markForCheck()}}async onDelete(){if(this.tradeLogData)try{await this.supabaseService.deleteTradeLog(this.tradeLogData.tradeid,this.preTradeTableName),this.message="Trade log deleted successfully.",this.formSubmitted.emit()}catch(t){console.error("Error deleting trade log:",t),this.errorMessage="Something went wrong while deleting."}finally{this.cdr.markForCheck()}}onCancel(){this.cancel.emit()}calculateFormProgress(){let e=0;return this.preTradeForm.get("accountname")?.valid&&e++,this.preTradeForm.get("instrumenttype")?.valid&&e++,this.preTradeForm.get("tradesymbol")?.valid&&e++,this.preTradeForm.get("tradetype")?.valid&&e++,this.preTradeForm.get("timeframe")?.valid&&e++,this.preTradeForm.get("analysistype")?.valid&&e++,this.preTradeForm.get("strategyname")?.valid&&e++,this.preTradeForm.get("typeoforder")?.valid&&e++,this.preTradeForm.get("entrycriteria")?.valid&&e++,this.preTradeForm.get("exitstrategy")?.valid&&e++,this.preTradeForm.get("accountbalance")?.valid&&e++,this.preTradeForm.get("positionsize")?.valid&&e++,this.preTradeForm.get("entryprice")?.valid&&e++,this.preTradeForm.get("entrydatetime")?.valid&&e++,this.preTradeForm.get("estimatedstoploss")?.valid&&e++,this.preTradeForm.get("estimatedtakeprofit")?.valid&&e++,this.preTradeForm.get("estimatedrisk")?.valid&&e++,this.preTradeForm.get("estimatedpnl")?.valid&&e++,this.preTradeForm.get("emotionalstatebefore")?.valid&&e++,this.preTradeForm.get("tradeConfidence")?.valid&&e++,this.preTradeForm.get("potentialbiases")?.valid&&e++,Math.round(e/18*100)}calculateRiskRewardRatio(){let t=parseFloat(this.preTradeForm.get("estimatedrisk")?.value||"0"),e=parseFloat(this.preTradeForm.get("estimatedpnl")?.value||"0");return t<=0||e<=0?"N/A":`1:${(e/t).toFixed(2)}`}isGoodRiskReward(){let t=parseFloat(this.preTradeForm.get("estimatedrisk")?.value||"0"),e=parseFloat(this.preTradeForm.get("estimatedpnl")?.value||"0");return t<=0||e<=0?!1:e/t>=2}isNegativeEmotionalState(){let t=this.preTradeForm.get("emotionalstatebefore")?.value;return["Anxious","Frustrated","Fearful","Overconfident"].includes(t)}hasErrors(t){switch(t){case"tradeSetup":return this.preTradeForm.get("accountname")?.invalid||this.preTradeForm.get("instrumenttype")?.invalid||this.preTradeForm.get("tradesymbol")?.invalid||this.preTradeForm.get("tradetype")?.invalid||this.preTradeForm.get("timeframe")?.invalid||this.preTradeForm.get("analysistype")?.invalid||!1;case"strategyDetails":return this.preTradeForm.get("strategyname")?.invalid||this.preTradeForm.get("typeoforder")?.invalid||this.preTradeForm.get("entrycriteria")?.invalid||this.preTradeForm.get("exitstrategy")?.invalid||!1;case"riskManagement":return this.preTradeForm.get("accountbalance")?.invalid||this.preTradeForm.get("positionsize")?.invalid||this.preTradeForm.get("entryprice")?.invalid||this.preTradeForm.get("entrydatetime")?.invalid||this.preTradeForm.get("estimatedstoploss")?.invalid||this.preTradeForm.get("estimatedtakeprofit")?.invalid||this.preTradeForm.get("estimatedrisk")?.invalid||this.preTradeForm.get("estimatedpnl")?.invalid||!1;case"psychologicalAnalysis":return this.preTradeForm.get("emotionalstatebefore")?.invalid||this.preTradeForm.get("tradeConfidence")?.invalid||this.preTradeForm.get("potentialbiases")?.invalid||!1;default:return!1}}static \u0275fac=function(e){return new(e||n)(T(yn),T(le),T(ce))};static \u0275cmp=re({type:n,selectors:[["app-pre-trade-log"]],inputs:{tradeLogData:"tradeLogData"},outputs:{formSubmitted:"formSubmitted",cancel:"cancel"},decls:332,vars:40,consts:[[1,"container","my-4"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item","text-decoration-none"],["routerLink","/home"],[3,"click"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row","mb-4"],[1,"col-lg-8"],[1,"mb-2"],[1,"text-muted"],[1,"col-lg-4","text-lg-end","d-flex","align-items-center","justify-content-lg-end","mt-3","mt-lg-0"],["class","progress w-100","style","height: 8px;",4,"ngIf"],["class","ms-2 small text-muted",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"card","mb-4","shadow-sm"],[1,"card-header","bg-light","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"bi","bi-1-circle","me-2"],[1,"badge","bg-primary"],[1,"card-body"],[1,"row","g-3"],[1,"col-md-6"],["for","accountname",1,"form-label"],[1,"input-group"],[1,"input-group-text"],[1,"bi","bi-person"],["type","text","id","accountname","formControlName","accountname","placeholder","Enter your account name",1,"form-control"],["class","text-danger mt-1 small",4,"ngIf"],["for","instrumenttype",1,"form-label"],["id","instrumenttype","formControlName","instrumenttype",1,"form-select"],["value","","selected","","disabled",""],["value","Forex"],["value","Stocks"],["value","Futures"],["value","Crypto"],["value","Options"],["value","ETF"],["value","Other"],["for","tradesymbol",1,"form-label"],[1,"bi","bi-tag"],["type","text","id","tradesymbol","formControlName","tradesymbol","placeholder","Enter ticker symbol",1,"form-control"],["for","tradetype",1,"form-label"],["role","group","aria-label","Trade type",1,"btn-group","w-100"],["type","radio","name","tradetype","id","tradetype_long","value","Long","formControlName","tradetype",1,"btn-check"],["for","tradetype_long",1,"btn","btn-outline-success"],["type","radio","name","tradetype","id","tradetype_short","value","Short","formControlName","tradetype",1,"btn-check"],["for","tradetype_short",1,"btn","btn-outline-danger"],["for","timeframe",1,"form-label"],["id","timeframe","formControlName","timeframe",1,"form-select"],["value","Scalp"],["value","Day"],["value","Swing"],["value","Position"],["value","LongTerm"],["for","analysistype",1,"form-label"],["id","analysistype","formControlName","analysistype",1,"form-select"],["value","Technical"],["value","Fundamental"],["value","Both"],["value","Sentiment"],[1,"bi","bi-2-circle","me-2"],["for","strategyname",1,"form-label"],["type","text","id","strategyname","formControlName","strategyname","placeholder","e.g., Breakout, Reversal, Trend Following",1,"form-control"],["for","typeoforder",1,"form-label"],["id","typeoforder","formControlName","typeoforder",1,"form-select"],["value","Market"],["value","Limit"],["value","Stop"],["value","StopLimit"],["value","TrailingStop"],[1,"col-12"],["for","entrycriteria",1,"form-label"],["id","entrycriteria","formControlName","entrycriteria","placeholder","Describe your specific entry conditions (e.g., technical indicators, patterns, fundamental factors)","rows","3",1,"form-control"],[1,"form-text"],["for","exitstrategy",1,"form-label"],["id","exitstrategy","formControlName","exitstrategy","placeholder","Define your profit targets and stop loss levels","rows","3",1,"form-control"],[1,"bi","bi-3-circle","me-2"],["for","accountbalance",1,"form-label"],["type","number","step","0.01","min","0","id","accountbalance","formControlName","accountbalance","placeholder","Current account value",1,"form-control"],["for","positionsize",1,"form-label"],["type","text","id","positionsize","formControlName","positionsize","placeholder","Units/Contracts/Shares",1,"form-control"],["type","button","data-bs-toggle","tooltip","title","Calculate based on risk",1,"btn","btn-outline-secondary"],["for","entryprice",1,"form-label"],["type","number","id","entryprice","formControlName","entryprice","step","0.01","min","0","placeholder","Planned entry price",1,"form-control"],["for","entrydatetime",1,"form-label"],["type","datetime-local","id","entrydatetime","formControlName","entrydatetime",1,"form-control"],["for","estimatedstoploss",1,"form-label"],["type","number","step","0.01","min","0","id","estimatedstoploss","formControlName","estimatedstoploss","placeholder","Stop loss price level",1,"form-control"],["for","estimatedtakeprofit",1,"form-label"],["type","number","step","0.01","min","0","id","estimatedtakeprofit","formControlName","estimatedtakeprofit","placeholder","Target price level",1,"form-control"],[1,"mb-3"],[1,"col-md-4"],["for","estimatedrisk",1,"form-label"],["type","number","step","0.01","min","0","max","100","id","estimatedrisk","formControlName","estimatedrisk","placeholder","1-2% recommended",1,"form-control"],["class","text-warning mt-1 small",4,"ngIf"],["for","estimatedpnl",1,"form-label"],["type","number","step","0.01","min","0","id","estimatedpnl","formControlName","estimatedpnl","placeholder","Expected % gain",1,"form-control"],[1,"form-label"],["type","text","readonly","",1,"form-control","bg-light",3,"value"],[1,"form-text",3,"ngClass"],[1,"bi","bi-5-circle","me-2"],["for","emotionalstatebefore",1,"form-label"],["id","emotionalstatebefore","formControlName","emotionalstatebefore",1,"form-select"],["value","Calm"],["value","Excited"],["value","Anxious"],["value","Frustrated"],["value","Overconfident"],["value","Fearful"],["value","Neutral"],[1,"form-label","d-block"],["role","group",1,"btn-group","w-100"],["type","radio","formControlName","tradeconfidence","id","confidence1","value","1",1,"btn-check"],["for","confidence1",1,"btn","btn-outline-danger"],["type","radio","formControlName","tradeconfidence","id","confidence2","value","2",1,"btn-check"],["for","confidence2",1,"btn","btn-outline-warning"],["type","radio","formControlName","tradeconfidence","id","confidence3","value","3",1,"btn-check"],["for","confidence3",1,"btn","btn-outline-secondary"],["type","radio","formControlName","tradeconfidence","id","confidence4","value","4",1,"btn-check"],["for","confidence4",1,"btn","btn-outline-primary"],["type","radio","formControlName","tradeconfidence","id","confidence5","value","5",1,"btn-check"],["for","confidence5",1,"btn","btn-outline-success"],[1,"form-text","text-center","mt-1"],["class","text-danger mt-1 small text-center",4,"ngIf"],["for","potentialbiases",1,"form-label"],["id","potentialbiases","formControlName","potentialbiases","placeholder","What biases might affect your decision? (e.g., revenge trading, FOMO, overconfidence)","rows","3",1,"form-control"],[1,"bi","bi-6-circle","me-2"],[1,"badge","bg-secondary"],["for","notes",1,"form-label"],["id","notes","formControlName","notes","placeholder","Any additional information or context for this trade","rows","3",1,"form-control"],["class","alert alert-danger mb-3",4,"ngIf"],[1,"d-flex","justify-content-between","align-items-center","mt-4"],["type","button","class","btn btn-outline-secondary",3,"click",4,"ngIf"],["type","submit",1,"btn","btn-success"],[1,"bi","bi-check-circle","me-1"],["class","alert alert-success mt-3",4,"ngIf"],["class","alert alert-danger mt-3",4,"ngIf"],[1,"progress","w-100",2,"height","8px"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-success"],[1,"ms-2","small","text-muted"],[1,"text-danger","mt-1","small"],[1,"text-warning","mt-1","small"],[1,"bi","bi-exclamation-triangle"],[1,"text-danger","mt-1","small","text-center"],[1,"alert","alert-danger","mb-3"],[1,"bi","bi-exclamation-triangle-fill","me-2"],[1,"mb-0","mt-2"],[4,"ngIf"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"bi","bi-x-circle","me-1"],[1,"alert","alert-success","mt-3"],[1,"bi","bi-check-circle-fill","me-2"],[1,"alert","alert-danger","mt-3"]],template:function(e,r){if(e&1&&(u(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),f(5,"Dashboard"),c()(),u(6,"li",3)(7,"a",5),D("click",function(){return r.onCancel()}),f(8,"Pre-Trade Logs"),c()(),u(9,"li",6),f(10,"Pre-Trading Journal"),c()()(),u(11,"div",7)(12,"div",8)(13,"h2",9),f(14),c(),u(15,"p",10),f(16,"Document your strategy before entering positions to maintain discipline and clarity"),c()(),u(17,"div",11),S(18,zP,2,2,"div",12)(19,GP,2,1,"span",13),c()(),u(20,"form",14),D("ngSubmit",function(){return r.onSubmit()}),u(21,"div",15)(22,"div",16)(23,"h5",17),_(24,"i",18),f(25,"Trade Setup "),c(),u(26,"span",19),f(27,"Required"),c()(),u(28,"div",20)(29,"div",21)(30,"div",22)(31,"label",23),f(32,"Account Name"),c(),u(33,"div",24)(34,"span",25),_(35,"i",26),c(),_(36,"input",27),c(),S(37,WP,2,0,"div",28),c(),u(38,"div",22)(39,"label",29),f(40,"Instrument Type"),c(),u(41,"select",30)(42,"option",31),f(43,"Choose instrument type"),c(),u(44,"option",32),f(45,"Forex"),c(),u(46,"option",33),f(47,"Stocks"),c(),u(48,"option",34),f(49,"Futures"),c(),u(50,"option",35),f(51,"Crypto"),c(),u(52,"option",36),f(53,"Options"),c(),u(54,"option",37),f(55,"ETF"),c(),u(56,"option",38),f(57,"Other"),c()(),S(58,QP,2,0,"div",28),c(),u(59,"div",22)(60,"label",39),f(61,"Trade Symbol"),c(),u(62,"div",24)(63,"span",25),_(64,"i",40),c(),_(65,"input",41),c(),S(66,KP,2,0,"div",28),c(),u(67,"div",22)(68,"label",42),f(69,"Trade Direction"),c(),u(70,"div",43),_(71,"input",44),u(72,"label",45),f(73,"Long"),c(),_(74,"input",46),u(75,"label",47),f(76,"Short"),c()(),S(77,ZP,2,0,"div",28),c(),u(78,"div",22)(79,"label",48),f(80,"Time Frame"),c(),u(81,"select",49)(82,"option",31),f(83,"Select time frame"),c(),u(84,"option",50),f(85,"Scalp (minutes)"),c(),u(86,"option",51),f(87,"Day Trade (hours)"),c(),u(88,"option",52),f(89,"Swing (days-weeks)"),c(),u(90,"option",53),f(91,"Position (weeks-months)"),c(),u(92,"option",54),f(93,"Long Term (months+)"),c()(),S(94,YP,2,0,"div",28),c(),u(95,"div",22)(96,"label",55),f(97,"Analysis Type"),c(),u(98,"select",56)(99,"option",31),f(100,"Choose analysis method"),c(),u(101,"option",57),f(102,"Technical"),c(),u(103,"option",58),f(104,"Fundamental"),c(),u(105,"option",59),f(106,"Both"),c(),u(107,"option",60),f(108,"Sentiment"),c(),u(109,"option",38),f(110,"Other"),c()(),S(111,JP,2,0,"div",28),c()()()(),u(112,"div",15)(113,"div",16)(114,"h5",17),_(115,"i",61),f(116,"Strategy Details "),c(),u(117,"span",19),f(118,"Required"),c()(),u(119,"div",20)(120,"div",21)(121,"div",22)(122,"label",62),f(123,"Strategy Name"),c(),_(124,"input",63),S(125,XP,2,0,"div",28),c(),u(126,"div",22)(127,"label",64),f(128,"Type of Order"),c(),u(129,"select",65)(130,"option",31),f(131,"Choose order type"),c(),u(132,"option",66),f(133,"Market"),c(),u(134,"option",67),f(135,"Limit"),c(),u(136,"option",68),f(137,"Stop"),c(),u(138,"option",69),f(139,"Stop Limit"),c(),u(140,"option",70),f(141,"Trailing Stop"),c()(),S(142,eF,2,0,"div",28),c(),u(143,"div",71)(144,"label",72),f(145,"Entry Criteria "),u(146,"span",10),f(147,"(Why are you taking this trade?)"),c()(),_(148,"textarea",73),u(149,"div",74),f(150,"Be specific about what signals or conditions must be met for entry."),c(),S(151,tF,2,0,"div",28),c(),u(152,"div",71)(153,"label",75),f(154,"Exit Strategy "),u(155,"span",10),f(156,"(How will you close this position?)"),c()(),_(157,"textarea",76),u(158,"div",74),f(159,"Include both profit-taking and loss-cutting criteria."),c(),S(160,nF,2,0,"div",28),c()()()(),u(161,"div",15)(162,"div",16)(163,"h5",17),_(164,"i",77),f(165,"Risk Management "),c(),u(166,"span",19),f(167,"Required"),c()(),u(168,"div",20)(169,"div",21)(170,"div",22)(171,"label",78),f(172,"Account Balance"),c(),u(173,"div",24)(174,"span",25),f(175,"$"),c(),_(176,"input",79),c(),S(177,rF,2,0,"div",28),c(),u(178,"div",22)(179,"label",80),f(180,"Position Size"),c(),u(181,"div",24),_(182,"input",81),u(183,"button",82),f(184,"Calculate"),c()(),S(185,iF,2,0,"div",28),c(),u(186,"div",22)(187,"label",83),f(188,"Entry Price"),c(),u(189,"div",24)(190,"span",25),f(191,"$"),c(),_(192,"input",84),c(),S(193,oF,2,0,"div",28),c(),u(194,"div",22)(195,"label",85),f(196,"Entry Date/Time"),c(),_(197,"input",86),S(198,sF,2,0,"div",28),c(),u(199,"div",22)(200,"label",87),f(201,"Stop Loss Price"),c(),u(202,"div",24)(203,"span",25),f(204,"$"),c(),_(205,"input",88),c(),S(206,aF,2,0,"div",28),c(),u(207,"div",22)(208,"label",89),f(209,"Take Profit Price"),c(),u(210,"div",24)(211,"span",25),f(212,"$"),c(),_(213,"input",90),c(),S(214,lF,2,0,"div",28),c(),u(215,"div",71),_(216,"hr"),u(217,"h6",91),f(218,"Risk/Reward Analysis"),c()(),u(219,"div",92)(220,"label",93),f(221,"Risk Per Trade"),c(),u(222,"div",24),_(223,"input",94),u(224,"span",25),f(225,"%"),c()(),u(226,"div",74),f(227,"Percentage of account at risk"),c(),S(228,cF,2,0,"div",28)(229,uF,3,0,"div",95),c(),u(230,"div",92)(231,"label",96),f(232,"Estimated Reward"),c(),u(233,"div",24),_(234,"input",97),u(235,"span",25),f(236,"%"),c()(),S(237,dF,2,0,"div",28),c(),u(238,"div",92)(239,"label",98),f(240,"Risk/Reward Ratio"),c(),u(241,"div",24),_(242,"input",99),u(243,"span",25),f(244,"R:R"),c()(),u(245,"div",100),_(246,"i"),f(247),c()()()()(),u(248,"div",15)(249,"div",16)(250,"h5",17),_(251,"i",101),f(252,"Psychological Analysis "),c(),u(253,"span",19),f(254,"Required"),c()(),u(255,"div",20)(256,"div",21)(257,"div",22)(258,"label",102),f(259,"Current Emotional State"),c(),u(260,"select",103)(261,"option",31),f(262,"How are you feeling?"),c(),u(263,"option",104),f(264,"Calm & Focused"),c(),u(265,"option",105),f(266,"Excited"),c(),u(267,"option",106),f(268,"Anxious"),c(),u(269,"option",107),f(270,"Frustrated"),c(),u(271,"option",108),f(272,"Overconfident"),c(),u(273,"option",109),f(274,"Fearful"),c(),u(275,"option",110),f(276,"Neutral"),c(),u(277,"option",38),f(278,"Other"),c()(),S(279,fF,2,0,"div",28)(280,hF,3,0,"div",95),c(),u(281,"div",22)(282,"label",111),f(283,"Trading Confidence"),c(),u(284,"div",112),_(285,"input",113),u(286,"label",114),f(287,"1"),c(),_(288,"input",115),u(289,"label",116),f(290,"2"),c(),_(291,"input",117),u(292,"label",118),f(293,"3"),c(),_(294,"input",119),u(295,"label",120),f(296,"4"),c(),_(297,"input",121),u(298,"label",122),f(299,"5"),c()(),u(300,"div",123),f(301,"Low (1) to High (5)"),c(),S(302,pF,2,0,"div",124),c(),u(303,"div",71)(304,"label",125),f(305,"Potential Biases"),c(),_(306,"textarea",126),u(307,"div",74),f(308,"Identifying biases helps improve future decision making"),c(),S(309,mF,2,0,"div",28),c()()()(),u(310,"div",15)(311,"div",16)(312,"h5",17),_(313,"i",127),f(314,"Additional Notes "),c(),u(315,"span",128),f(316,"Optional"),c()(),u(317,"div",20)(318,"div",21)(319,"div",71)(320,"label",129),f(321,"Notes"),c(),_(322,"textarea",130),c()()()(),S(323,bF,9,4,"div",131),u(324,"div",132),S(325,wF,3,0,"button",133),u(326,"div")(327,"button",134),_(328,"i",135),f(329),c()()(),S(330,EF,3,1,"div",136)(331,CF,3,1,"div",137),c()()),e&2){let i,o,s,a,l,d,h,p,v,g,b,w,C,k,L,F,B,Q,be,we,Me,Dt;m(14),G(r.tradeLogData?"Edit Pre-Trading Journal":"Create Pre-Trading Journal"),m(4),y("ngIf",!r.tradeLogData),m(),y("ngIf",!r.tradeLogData),m(),y("formGroup",r.preTradeForm),m(17),y("ngIf",((i=r.preTradeForm.get("accountname"))==null?null:i.invalid)&&(((i=r.preTradeForm.get("accountname"))==null?null:i.dirty)||((i=r.preTradeForm.get("accountname"))==null?null:i.touched)||r.formSubmitMarker)),m(21),y("ngIf",((o=r.preTradeForm.get("instrumenttype"))==null?null:o.invalid)&&(((o=r.preTradeForm.get("instrumenttype"))==null?null:o.dirty)||((o=r.preTradeForm.get("instrumenttype"))==null?null:o.touched)||r.formSubmitMarker)),m(8),y("ngIf",((s=r.preTradeForm.get("tradesymbol"))==null?null:s.invalid)&&(((s=r.preTradeForm.get("tradesymbol"))==null?null:s.dirty)||((s=r.preTradeForm.get("tradesymbol"))==null?null:s.touched)||r.formSubmitMarker)),m(11),y("ngIf",((a=r.preTradeForm.get("tradetype"))==null?null:a.invalid)&&(((a=r.preTradeForm.get("tradetype"))==null?null:a.dirty)||((a=r.preTradeForm.get("tradetype"))==null?null:a.touched)||r.formSubmitMarker)),m(17),y("ngIf",((l=r.preTradeForm.get("timeframe"))==null?null:l.invalid)&&(((l=r.preTradeForm.get("timeframe"))==null?null:l.dirty)||((l=r.preTradeForm.get("timeframe"))==null?null:l.touched)||r.formSubmitMarker)),m(17),y("ngIf",((d=r.preTradeForm.get("analysistype"))==null?null:d.invalid)&&(((d=r.preTradeForm.get("analysistype"))==null?null:d.dirty)||((d=r.preTradeForm.get("analysistype"))==null?null:d.touched)||r.formSubmitMarker)),m(14),y("ngIf",((h=r.preTradeForm.get("strategyname"))==null?null:h.invalid)&&(((h=r.preTradeForm.get("strategyname"))==null?null:h.dirty)||((h=r.preTradeForm.get("strategyname"))==null?null:h.touched)||r.formSubmitMarker)),m(17),y("ngIf",((p=r.preTradeForm.get("typeoforder"))==null?null:p.invalid)&&(((p=r.preTradeForm.get("typeoforder"))==null?null:p.dirty)||((p=r.preTradeForm.get("typeoforder"))==null?null:p.touched)||r.formSubmitMarker)),m(9),y("ngIf",((v=r.preTradeForm.get("entrycriteria"))==null?null:v.invalid)&&(((v=r.preTradeForm.get("entrycriteria"))==null?null:v.dirty)||((v=r.preTradeForm.get("entrycriteria"))==null?null:v.touched)||r.formSubmitMarker)),m(9),y("ngIf",((g=r.preTradeForm.get("exitstrategy"))==null?null:g.invalid)&&(((g=r.preTradeForm.get("exitstrategy"))==null?null:g.dirty)||((g=r.preTradeForm.get("exitstrategy"))==null?null:g.touched)||r.formSubmitMarker)),m(17),y("ngIf",((b=r.preTradeForm.get("accountbalance"))==null?null:b.invalid)&&(((b=r.preTradeForm.get("accountbalance"))==null?null:b.dirty)||((b=r.preTradeForm.get("accountbalance"))==null?null:b.touched)||r.formSubmitMarker)),m(8),y("ngIf",((w=r.preTradeForm.get("positionsize"))==null?null:w.invalid)&&(((w=r.preTradeForm.get("positionsize"))==null?null:w.dirty)||((w=r.preTradeForm.get("positionsize"))==null?null:w.touched)||r.formSubmitMarker)),m(8),y("ngIf",((C=r.preTradeForm.get("entryprice"))==null?null:C.invalid)&&(((C=r.preTradeForm.get("entryprice"))==null?null:C.dirty)||((C=r.preTradeForm.get("entryprice"))==null?null:C.touched)||r.formSubmitMarker)),m(5),y("ngIf",((k=r.preTradeForm.get("entrydatetime"))==null?null:k.invalid)&&(((k=r.preTradeForm.get("entrydatetime"))==null?null:k.dirty)||((k=r.preTradeForm.get("entrydatetime"))==null?null:k.touched)||r.formSubmitMarker)),m(8),y("ngIf",((L=r.preTradeForm.get("estimatedstoploss"))==null?null:L.invalid)&&(((L=r.preTradeForm.get("estimatedstoploss"))==null?null:L.dirty)||((L=r.preTradeForm.get("estimatedstoploss"))==null?null:L.touched)||r.formSubmitMarker)),m(8),y("ngIf",((F=r.preTradeForm.get("estimatedtakeprofit"))==null?null:F.invalid)&&(((F=r.preTradeForm.get("estimatedtakeprofit"))==null?null:F.dirty)||((F=r.preTradeForm.get("estimatedtakeprofit"))==null?null:F.touched)||r.formSubmitMarker)),m(14),y("ngIf",((B=r.preTradeForm.get("estimatedrisk"))==null?null:B.invalid)&&(((B=r.preTradeForm.get("estimatedrisk"))==null?null:B.dirty)||((B=r.preTradeForm.get("estimatedrisk"))==null?null:B.touched)||r.formSubmitMarker)),m(),y("ngIf",((Q=r.preTradeForm.get("estimatedrisk"))==null?null:Q.value)>2),m(8),y("ngIf",((be=r.preTradeForm.get("estimatedpnl"))==null?null:be.invalid)&&(((be=r.preTradeForm.get("estimatedpnl"))==null?null:be.dirty)||((be=r.preTradeForm.get("estimatedpnl"))==null?null:be.touched)||r.formSubmitMarker)),m(5),y("value",r.calculateRiskRewardRatio()),m(3),y("ngClass",qn(37,qP,r.isGoodRiskReward(),!r.isGoodRiskReward())),m(),Jc(r.isGoodRiskReward()?"bi bi-check-circle":"bi bi-x-circle"),m(),U(" ",r.isGoodRiskReward()?"Good risk/reward ratio":"Risk/reward should be at least 1:2"," "),m(32),y("ngIf",((we=r.preTradeForm.get("emotionalstatebefore"))==null?null:we.invalid)&&(((we=r.preTradeForm.get("emotionalstatebefore"))==null?null:we.dirty)||((we=r.preTradeForm.get("emotionalstatebefore"))==null?null:we.touched)||r.formSubmitMarker)),m(),y("ngIf",r.isNegativeEmotionalState()),m(22),y("ngIf",((Me=r.preTradeForm.get("tradeconfidence"))==null?null:Me.invalid)&&(((Me=r.preTradeForm.get("tradeconfidence"))==null?null:Me.dirty)||((Me=r.preTradeForm.get("tradeconfidence"))==null?null:Me.touched)||r.formSubmitMarker)),m(7),y("ngIf",((Dt=r.preTradeForm.get("potentialbiases"))==null?null:Dt.invalid)&&(((Dt=r.preTradeForm.get("potentialbiases"))==null?null:Dt.dirty)||((Dt=r.preTradeForm.get("potentialbiases"))==null?null:Dt.touched)||r.formSubmitMarker)),m(14),y("ngIf",r.formSubmitMarker&&r.preTradeForm.invalid),m(2),y("ngIf",r.tradeLogData),m(4),U("",r.tradeLogData?"Update":"Submit"," "),m(),y("ngIf",r.message),m(),y("ngIf",r.errorMessage)}},dependencies:[ge,fn,ye,Lt,vn,Kn,Zn,We,Nr,Qn,Or,nt,gn,nl,Gg,Ft,en,ze],styles:[".card[_ngcontent-%COMP%]{border-radius:8px;box-shadow:0 2px 5px #0000000d;border:1px solid rgba(0,0,0,.1);color:#000}.card-header[_ngcontent-%COMP%]{background-color:#f8f9fa;border-bottom:1px solid rgba(0,0,0,.1);padding:12px 16px}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{border-radius:6px;padding:10px 12px;background-color:#f9f9f9;border:1px solid #ced4da}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{background-color:#fff;border-color:#80bdff;box-shadow:0 0 0 .25rem #0d6efd40}textarea.form-control[_ngcontent-%COMP%]{resize:vertical}.btn[_ngcontent-%COMP%]{padding:8px 16px;border-radius:6px;font-weight:500}.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#dc3545}"]})};function SF(n,t){n&1&&(u(0,"div",12),f(1,"Loading trade logs..."),c())}function DF(n,t){if(n&1&&(u(0,"div",13),f(1),c()),n&2){let e=E();m(),G(e.errorMessage)}}function IF(n,t){if(n&1){let e=H();u(0,"div",16)(1,"div",17),D("click",function(){let i=x(e).$implicit,o=E(2);return M(o.openEditModal(i))}),u(2,"div",18),_(3,"i",19),f(4," Planned "),c(),u(5,"div",20),D("click",function(i){let o=x(e).$implicit,s=E(2);return M(s.onDeleteTradeLog(o,i))}),_(6,"i",21),c(),u(7,"div",22)(8,"h4",23),f(9),c(),u(10,"h5",24),f(11),c(),u(12,"div",25)(13,"div",26)(14,"div",27)(15,"strong"),f(16,"Analysis:"),c(),f(17),c(),u(18,"div",27)(19,"strong"),f(20,"Order:"),c(),f(21),c()(),u(22,"div",26)(23,"div",27)(24,"strong"),f(25,"Stop Loss:"),c(),f(26),c(),u(27,"div",27)(28,"strong"),f(29,"Take Profit:"),c(),f(30),c()(),u(31,"div",26)(32,"div",27)(33,"strong"),f(34,"Risk:"),c(),f(35),c(),u(36,"div",27)(37,"strong"),f(38,"Est. PnL:"),c(),f(39),c()(),u(40,"div",28)(41,"div",29)(42,"strong"),f(43,"Account:"),c(),f(44),c()()(),u(45,"div",30)(46,"small",31),f(47),Wt(48,"date"),c()()()()()}if(n&2){let e=t.$implicit;m(9),G(e.tradesymbol),m(2),Bi(" ",e.tradetype," | ",e.instrumenttype," "),m(6),U(" ",e.analysistype," "),m(4),U(" ",e.typeoforder," "),m(5),U(" ",e.estimatedstoploss," "),m(4),U(" ",e.estimatedtakeprofit," "),m(5),U(" ",e.estimatedrisk," "),m(4),U(" ",e.estimatedpnl," "),m(5),U(" ",e.accountname," "),m(3),G(Qt(48,11,e.createdtime,"medium"))}}function TF(n,t){if(n&1&&(u(0,"div",14),S(1,IF,49,14,"div",15),c()),n&2){let e=E();m(),y("ngForOf",e.tradeLogs)}}function xF(n,t){n&1&&(u(0,"div",32),f(1," No trade logs found. "),c())}function MF(n,t){if(n&1){let e=H();u(0,"div",33),D("click",function(i){x(e);let o=E();return M(o.closeModalOnOverlayClick(i))}),u(1,"div",34),D("click",function(i){return x(e),M(i.stopPropagation())}),u(2,"app-pre-trade-log",35),D("formSubmitted",function(){x(e);let i=E();return M(i.onFormSubmitted())})("cancel",function(){x(e);let i=E();return M(i.closeModal())}),c()()()}if(n&2){let e=E();m(2),y("tradeLogData",e.selectedTradeLog)}}var Id=class n{constructor(t,e){this.supabaseService=t;this.cdr=e}tableName="pretrade";tradeLogs=[];loading=!1;errorMessage="";showModal=!1;selectedTradeLog=null;async ngOnInit(){this.loading=!0,await this.fetchTradeLogs(),this.loading=!1,this.cdr.markForCheck()}async fetchTradeLogs(){try{this.tradeLogs=await this.supabaseService.getTradeLogs(this.tableName)}catch(t){console.error("Error fetching trade logs:",t),this.errorMessage="Error fetching trade logs."}}openEditModal(t){this.selectedTradeLog=t,this.showModal=!0}onFormSubmitted(){this.fetchTradeLogs(),this.closeModal()}closeModal(){this.showModal=!1,this.selectedTradeLog=null,this.cdr.markForCheck()}closeModalOnOverlayClick(t){this.closeModal(),this.cdr.markForCheck()}async onDeleteTradeLog(t,e){e.stopPropagation();try{await this.supabaseService.deleteTradeLog(t.tradeid,this.tableName),await this.fetchTradeLogs(),this.cdr.markForCheck()}catch(r){console.error("Error deleting trade log:",r),this.errorMessage="Error deleting trade log."}}static \u0275fac=function(e){return new(e||n)(T(le),T(ce))};static \u0275cmp=re({type:n,selectors:[["app-pre-trade-table"]],decls:18,vars:5,consts:[[1,"container","mt-3"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item","text-decoration-none"],["routerLink","/home"],["aria-current","page",1,"breadcrumb-item","active"],["routerLink","/pretradelog"],["class","alert alert-info",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["class","row mt-5",4,"ngIf"],["class","alert alert-warning",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"alert","alert-info"],[1,"alert","alert-danger"],[1,"row","mt-5"],["class","col-md-4 col-12 mb-4",4,"ngFor","ngForOf"],[1,"col-md-4","col-12","mb-4"],[1,"card","h-100","position-relative","shadow",2,"cursor","pointer",3,"click"],[1,"trade-status-indicator","status-planned"],[1,"bi","bi-clipboard-check"],[1,"delete-icon",3,"click"],[1,"bi","bi-trash"],[1,"card-body"],[1,"card-title","mt-5"],[1,"card-subtitle","mb-3","text-muted","fw-bold"],[1,"card-text"],[1,"row","mb-2"],[1,"col-6"],[1,"row"],[1,"col-12"],[1,"mt-3"],[1,"text-muted"],[1,"alert","alert-warning"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[3,"formSubmitted","cancel","tradeLogData"]],template:function(e,r){e&1&&(u(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),f(5,"Dashboard"),c()(),u(6,"li",5),f(7,"Pre-Trade Logs"),c(),u(8,"li",3)(9,"a",6),f(10,"Pre-Trading Journal"),c()()()(),u(11,"h2"),f(12,"Pre Trade Logs"),c(),S(13,SF,2,0,"div",7)(14,DF,2,1,"div",8)(15,TF,2,1,"div",9)(16,xF,2,0,"div",10),c(),S(17,MF,3,1,"div",11)),e&2&&(m(13),y("ngIf",r.loading),m(),y("ngIf",r.errorMessage),m(),y("ngIf",r.tradeLogs&&r.tradeLogs.length),m(),y("ngIf",!r.loading&&(!r.tradeLogs||r.tradeLogs.length===0)),m(),y("ngIf",r.showModal))},dependencies:[ze,ge,qe,ye,hn,_s],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;max-width:90%;max-height:90%;overflow:auto;position:relative}.card[_ngcontent-%COMP%]{position:relative;border:none;transition:all .2s ease;border-left:4px solid #6c757d!important}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 20px #0000001a!important}.delete-icon[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;display:none;color:#dc3545;background:#fffc;border-radius:50%;padding:5px;z-index:10}.card[_ngcontent-%COMP%]:hover   .delete-icon[_ngcontent-%COMP%]{display:block}.delete-icon[_ngcontent-%COMP%]:hover{cursor:pointer}.trade-status-indicator[_ngcontent-%COMP%]{position:absolute;top:8px;left:8px;padding:5px 10px;border-radius:12px;font-size:.8rem;font-weight:700;z-index:10;color:#fff}.status-planned[_ngcontent-%COMP%]{background-color:#6c757d}.trade-status-indicator[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:3px}"],changeDetection:0})};function AF(n,t){if(n&1&&(u(0,"div",131),_(1,"div",132),c()),n&2){let e=E();m(),Hn("width",e.calculateFormProgress()+"%")}}function kF(n,t){if(n&1&&(u(0,"span",133),f(1),c()),n&2){let e=E();m(),U("",e.calculateFormProgress(),"% Complete")}}function NF(n,t){n&1&&(u(0,"div",134),f(1," Account name is required "),c())}function OF(n,t){n&1&&(u(0,"div",134),f(1," Please select an instrument type "),c())}function RF(n,t){n&1&&(u(0,"div",134),f(1," Please select an analysis type "),c())}function PF(n,t){n&1&&(u(0,"div",134),f(1," Trade symbol is required "),c())}function FF(n,t){n&1&&(u(0,"div",134),f(1," Please select trade direction "),c())}function LF(n,t){n&1&&(u(0,"div",134),f(1," Time frame selection is required "),c())}function VF(n,t){n&1&&(u(0,"div",134),f(1," Strategy name is required "),c())}function jF(n,t){n&1&&(u(0,"div",134),f(1," Order type is required "),c())}function UF(n,t){n&1&&(u(0,"div",134),f(1," Entry date/time is required "),c())}function BF(n,t){n&1&&(u(0,"div",134),f(1," Exit date/time is required "),c())}function $F(n,t){n&1&&(u(0,"div",134),f(1," Valid entry price is required "),c())}function HF(n,t){n&1&&(u(0,"div",134),f(1," Valid exit price is required "),c())}function qF(n,t){n&1&&(u(0,"div",134),f(1," Position size is required "),c())}function zF(n,t){n&1&&(u(0,"div",134),f(1," Please select trade outcome "),c())}function GF(n,t){n&1&&(u(0,"li"),f(1,"Complete all required fields in Trade Details"),c())}function WF(n,t){n&1&&(u(0,"li"),f(1,"Complete all required fields in Strategy Information"),c())}function QF(n,t){n&1&&(u(0,"li"),f(1,"Complete all required fields in Trade Execution"),c())}function KF(n,t){n&1&&(u(0,"li"),f(1,"Complete all required fields in Trade Outcome"),c())}function ZF(n,t){n&1&&(u(0,"li"),f(1,"Complete all required fields in Post-Trade Analysis"),c())}function YF(n,t){if(n&1&&(u(0,"div",135),_(1,"i",136),u(2,"strong"),f(3,"Please fix the errors highlighted above before submitting."),c(),u(4,"ul",137),S(5,GF,2,0,"li",138)(6,WF,2,0,"li",138)(7,QF,2,0,"li",138)(8,KF,2,0,"li",138)(9,ZF,2,0,"li",138),c()()),n&2){let e=E();m(5),y("ngIf",e.hasErrors("tradeDetails")),m(),y("ngIf",e.hasErrors("strategyInformation")),m(),y("ngIf",e.hasErrors("tradeExecution")),m(),y("ngIf",e.hasErrors("tradeOutcome")),m(),y("ngIf",e.hasErrors("postTradeAnalysis"))}}function JF(n,t){if(n&1){let e=H();u(0,"button",139),D("click",function(){x(e);let i=E();return M(i.onCancel())}),_(1,"i",140),f(2,"Cancel "),c()}}function XF(n,t){if(n&1&&(u(0,"div",141),_(1,"i",142),f(2),c()),n&2){let e=E();m(2),U("",e.message," ")}}function e2(n,t){if(n&1&&(u(0,"div",143),_(1,"i",136),f(2),c()),n&2){let e=E();m(2),U("",e.errorMessage," ")}}var bs=class n{constructor(t,e,r){this.fb=t;this.cdr=e;this.supabaseService=r}tradeLogData=null;formSubmitted=new ve;cancel=new ve;tableName="posttrade";postTradeForm;message="";errorMessage="";formSubmitMarker=!1;tradeOutcomes=["Win","Loss","Breakeven"];tradeDirections=["Long","Short"];ngOnInit(){this.formSubmitMarker=!1,this.createForm()}createForm(){var t=oo();this.postTradeForm=this.fb.group({tradeid:[this.tradeLogData?.tradeid??t],userid:[this.tradeLogData?.userid??"the-db-is-likely-hacked-1234-abcd-5678-efgh"],createdtime:[new Date().toISOString(),R.required],accountname:[this.tradeLogData?.accountname,[R.required,R.maxLength(255)]],accountbalance:[this.tradeLogData?.accountbalance??""],instrumenttype:[this.tradeLogData?.instrumenttype??"",[R.required,R.maxLength(50)]],analysistype:[this.tradeLogData?.analysistype??"",[R.required,R.maxLength(100)]],tradesymbol:[this.tradeLogData?.tradesymbol??"",[R.required,R.maxLength(50)]],tradetype:[this.tradeLogData?.tradetype??"",[R.required,R.maxLength(50)]],timeframe:[this.tradeLogData?.timeframe??"",[R.required,R.maxLength(50)]],entrydatetime:[this.tradeLogData?.entrydatetime??"",R.required],strategyname:[this.tradeLogData?.strategyname??"",[R.required,R.maxLength(255)]],typeoforder:[this.tradeLogData?.typeoforder??"",[R.required,R.maxLength(50)]],exitstrategy:[this.tradeLogData?.exitstrategy??""],entryprice:[this.tradeLogData?.entryprice??"",[R.required,R.min(0)]],exitprice:[this.tradeLogData?.exitprice??"",[R.required,R.min(0)]],positionsize:[this.tradeLogData?.positionsize??"",[R.required,R.maxLength(50)]],exitdatetime:[this.tradeLogData?.exitdatetime??"",R.required],tradeoutcome:[this.tradeLogData?.tradeoutcome??"",R.required],profitlossamount:[this.tradeLogData?.profitlossamount??""],setupscreenshot:[this.tradeLogData?.setupscreenshot??""],emotionalstateafter:[this.tradeLogData?.emotionalstateafter??""],emotionalimpactondecision:[this.tradeLogData?.emotionalimpactondecision??""],whatwentwell:[this.tradeLogData?.whatwentwell??""],whatcouldimprove:[this.tradeLogData?.whatcouldimprove??""],notes:[this.tradeLogData?.notes??""],isopen:[this.tradeLogData?.isopen??!0,R.required],updatedtime:[new Date().toDateString(),R.required]})}onFileSelected(t){let e=t.target;if(!e.files||e.files.length===0)return;let r=e.files[0],i=new FileReader;i.onload=o=>{this.postTradeForm.patchValue({setupScreenshot:o.target.result})},i.readAsDataURL(r)}async onSubmit(){if(this.formSubmitMarker=!0,this.postTradeForm.invalid){this.postTradeForm.markAllAsTouched();return}let t=this.postTradeForm.value;try{this.tradeLogData?await this.supabaseService.updateTradeLog(t,this.tableName):await this.supabaseService.addTradeLog(t,this.tableName),this.message="Trade log updated successfully. Resetting in 5 seconds.",setTimeout(()=>{this.cdr.markForCheck()},0),this.formSubmitted.emit(),this.formSubmitMarker=!1,this.cdr.markForCheck(),setTimeout(()=>{this.postTradeForm.reset(),this.postTradeForm.markAsPristine(),this.message="Form has been reset",this.cdr.markForCheck()},5e3),setTimeout(()=>{this.message="",this.cdr.markForCheck()},3e3)}catch(e){console.error("Error processing trade log:",e),this.errorMessage="Something went wrong.",this.cdr.markForCheck()}}async onDelete(){if(this.tradeLogData)try{await this.supabaseService.deleteTradeLog(this.tradeLogData.tradeid,this.tableName),this.message="Trade log deleted successfully.",this.formSubmitted.emit()}catch(t){console.error("Error deleting trade log:",t),this.errorMessage="Something went wrong while deleting."}finally{this.cdr.markForCheck()}}onCancel(){this.cancel.emit()}calculateProfitLoss(){let t=this.postTradeForm.get("entryprice")?.value,e=this.postTradeForm.get("exitprice")?.value,r=parseFloat(this.postTradeForm.get("positionsize")?.value),i=this.postTradeForm.get("tradetype")?.value;if(t&&e&&r&&i){let o=0;i==="Long"?o=(e-t)*r:i==="Short"&&(o=(t-e)*r),this.postTradeForm.get("profitlossamount")?.setValue(o.toFixed(2)),o>0?this.postTradeForm.get("tradeoutcome")?.setValue("Win"):o<0?this.postTradeForm.get("tradeoutcome")?.setValue("Loss"):this.postTradeForm.get("tradeoutcome")?.setValue("Breakeven")}}calculateFormProgress(){let t=Object.keys(this.postTradeForm.controls).filter(r=>this.postTradeForm.get(r)?.validator!==null),e=t.filter(r=>this.postTradeForm.get(r)?.valid);return Math.round(e.length/t.length*100)}hasErrors(t){let e=!1,r={tradeDetails:["accountname","instrumenttype","analysistype","tradesymbol","tradetype","timeframe"],strategyInformation:["strategyname","typeoforder"],tradeExecution:["entrydatetime","exitdatetime","entryprice","exitprice","positionsize"],tradeOutcome:["tradeoutcome"],postTradeAnalysis:["emotionalstateafter","whatwentwell","whatcouldimprove"]};return r[t]&&r[t].forEach(i=>{this.postTradeForm.get(i)?.invalid&&(e=!0)}),e}static \u0275fac=function(e){return new(e||n)(T(yn),T(ce),T(le))};static \u0275cmp=re({type:n,selectors:[["app-post-trade-log"]],inputs:{tradeLogData:"tradeLogData"},outputs:{formSubmitted:"formSubmitted",cancel:"cancel"},decls:299,vars:23,consts:[[1,"container","my-4"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item","text-decoration-none"],["routerLink","/home"],["routerLink","/posttrades"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row","mb-4"],[1,"col-lg-8"],[1,"mb-2"],[1,"text-muted"],[1,"col-lg-4","text-lg-end","d-flex","align-items-center","justify-content-lg-end","mt-3","mt-lg-0"],["class","progress w-100","style","height: 8px;",4,"ngIf"],["class","ms-2 small text-muted",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"card","mb-4","shadow-sm"],[1,"card-header","bg-light","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"bi","bi-1-circle","me-2"],[1,"badge","bg-primary"],[1,"card-body"],[1,"row","g-3"],[1,"col-md-6"],["for","accountname",1,"form-label"],[1,"input-group"],[1,"input-group-text"],[1,"bi","bi-person"],["type","text","id","accountname","formControlName","accountname","placeholder","Enter your account name",1,"form-control"],["class","text-danger mt-1 small",4,"ngIf"],["for","accountbalance",1,"form-label"],["type","number","step","0.01","min","0","id","accountbalance","formControlName","accountbalance","placeholder","Current account value",1,"form-control"],["for","instrumenttype",1,"form-label"],["id","instrumenttype","formControlName","instrumenttype",1,"form-select"],["value","","selected","","disabled",""],["value","Forex"],["value","Stocks"],["value","Futures"],["value","Crypto"],["value","Options"],["value","ETF"],["value","Other"],["for","analysistype",1,"form-label"],["id","analysistype","formControlName","analysistype",1,"form-select"],["value","Technical"],["value","Fundamental"],["value","Both"],["value","Sentiment"],["for","tradesymbol",1,"form-label"],[1,"bi","bi-tag"],["type","text","id","tradesymbol","formControlName","tradesymbol","placeholder","Enter ticker symbol",1,"form-control"],["for","tradetype",1,"form-label"],["role","group","aria-label","Trade type",1,"btn-group","w-100"],["type","radio","name","tradetype","id","tradetype_long","value","Long","formControlName","tradetype",1,"btn-check"],["for","tradetype_long",1,"btn","btn-outline-success"],["type","radio","name","tradetype","id","tradetype_short","value","Short","formControlName","tradetype",1,"btn-check"],["for","tradetype_short",1,"btn","btn-outline-danger"],["for","timeframe",1,"form-label"],["id","timeframe","formControlName","timeframe",1,"form-select"],["value","Scalp"],["value","Day"],["value","Swing"],["value","Position"],["value","LongTerm"],[1,"bi","bi-2-circle","me-2"],["for","strategyname",1,"form-label"],["type","text","id","strategyname","formControlName","strategyname","placeholder","e.g., Breakout, Reversal, Trend Following",1,"form-control"],["for","typeoforder",1,"form-label"],["id","typeoforder","formControlName","typeoforder",1,"form-select"],["value","Market"],["value","Limit"],["value","Stop"],["value","StopLimit"],["value","TrailingStop"],[1,"col-12"],["for","exitstrategy",1,"form-label"],["id","exitstrategy","formControlName","exitstrategy","placeholder","Describe the exit strategy you implemented","rows","3",1,"form-control"],[1,"bi","bi-3-circle","me-2"],["for","entrydatetime",1,"form-label"],["type","datetime-local","id","entrydatetime","formControlName","entrydatetime",1,"form-control"],["for","exitdatetime",1,"form-label"],["type","datetime-local","id","exitdatetime","formControlName","exitdatetime",1,"form-control"],[1,"col-md-4"],["for","entryprice",1,"form-label"],["type","number","id","entryprice","formControlName","entryprice","step","0.01","min","0","placeholder","Actual entry price",1,"form-control"],["for","exitprice",1,"form-label"],["type","number","id","exitprice","formControlName","exitprice","step","0.01","min","0","placeholder","Actual exit price",1,"form-control"],["for","positionsize",1,"form-label"],["type","text","id","positionsize","formControlName","positionsize","placeholder","Units/Contracts/Shares",1,"form-control"],[1,"bi","bi-4-circle","me-2"],["for","tradeoutcome",1,"form-label"],["role","group","aria-label","Trade outcome",1,"btn-group","w-100"],["type","radio","name","tradeoutcome","id","tradeoutcome_win","value","Win","formControlName","tradeoutcome",1,"btn-check"],["for","tradeoutcome_win",1,"btn","btn-outline-success"],["type","radio","name","tradeoutcome","id","tradeoutcome_loss","value","Loss","formControlName","tradeoutcome",1,"btn-check"],["for","tradeoutcome_loss",1,"btn","btn-outline-danger"],["type","radio","name","tradeoutcome","id","tradeoutcome_breakeven","value","Breakeven","formControlName","tradeoutcome",1,"btn-check"],["for","tradeoutcome_breakeven",1,"btn","btn-outline-warning"],["for","profitlossamount",1,"form-label"],["type","number","step","0.01","id","profitlossamount","formControlName","profitlossamount","placeholder","e.g. 50.25 or -30.50",1,"form-control"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"bi","bi-6-circle","me-2"],["for","emotionalstateafter",1,"form-label"],["id","emotionalstateafter","formControlName","emotionalstateafter",1,"form-select"],["value","Satisfied"],["value","Excited"],["value","Relieved"],["value","Disappointed"],["value","Frustrated"],["value","Neutral"],["value","Angry"],["for","emotionalimpactondecision",1,"form-label"],["id","emotionalimpactondecision","formControlName","emotionalimpactondecision","placeholder","How did your emotions affect your trading decisions?","rows","3",1,"form-control"],["for","whatwentwell",1,"form-label"],["id","whatwentwell","formControlName","whatwentwell","placeholder","What aspects of this trade did you execute correctly?","rows","3",1,"form-control"],["for","whatcouldimprove",1,"form-label"],["id","whatcouldimprove","formControlName","whatcouldimprove","placeholder","What could you have done better in this trade?","rows","3",1,"form-control"],["for","isopen",1,"form-label"],[1,"form-check","form-switch"],["type","checkbox","id","isopen","formControlName","isopen",1,"form-check-input"],["for","isopen",1,"form-check-label"],[1,"bi","bi-7-circle","me-2"],[1,"badge","bg-secondary"],["for","notes",1,"form-label"],["id","notes","formControlName","notes","placeholder","Any additional information or context for this trade","rows","3",1,"form-control"],["class","alert alert-danger mb-3",4,"ngIf"],[1,"d-flex","justify-content-between","align-items-center","mt-4"],["type","button","class","btn btn-tr-secondary",3,"click",4,"ngIf"],["type","submit",1,"btn","btn-success"],[1,"bi","bi-check-circle","me-1"],["class","alert alert-success mt-3",4,"ngIf"],["class","alert alert-danger mt-3",4,"ngIf"],[1,"progress","w-100",2,"height","8px"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-success"],[1,"ms-2","small","text-muted"],[1,"text-danger","mt-1","small"],[1,"alert","alert-danger","mb-3"],[1,"bi","bi-exclamation-triangle-fill","me-2"],[1,"mb-0","mt-2"],[4,"ngIf"],["type","button",1,"btn","btn-tr-secondary",3,"click"],[1,"bi","bi-x-circle","me-1"],[1,"alert","alert-success","mt-3"],[1,"bi","bi-check-circle-fill","me-2"],[1,"alert","alert-danger","mt-3"]],template:function(e,r){if(e&1&&(u(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),f(5,"Dashboard"),c()(),u(6,"li",3)(7,"a",5),f(8,"Trade Logs"),c()(),u(9,"li",6),f(10,"Post-Trading Journal"),c()()(),u(11,"div",7)(12,"div",8)(13,"h2",9),f(14),c(),u(15,"p",10),f(16,"Document your completed trades to analyze performance and improve your strategy"),c()(),u(17,"div",11),S(18,AF,2,2,"div",12)(19,kF,2,1,"span",13),c()(),u(20,"form",14),D("ngSubmit",function(){return r.onSubmit()}),u(21,"div",15)(22,"div",16)(23,"h5",17),_(24,"i",18),f(25,"Trade Details "),c(),u(26,"span",19),f(27,"Required"),c()(),u(28,"div",20)(29,"div",21)(30,"div",22)(31,"label",23),f(32,"Account Name"),c(),u(33,"div",24)(34,"span",25),_(35,"i",26),c(),_(36,"input",27),c(),S(37,NF,2,0,"div",28),c(),u(38,"div",22)(39,"label",29),f(40,"Account Balance"),c(),u(41,"div",24)(42,"span",25),f(43,"$"),c(),_(44,"input",30),c()(),u(45,"div",22)(46,"label",31),f(47,"Instrument Type"),c(),u(48,"select",32)(49,"option",33),f(50,"Choose instrument type"),c(),u(51,"option",34),f(52,"Forex"),c(),u(53,"option",35),f(54,"Stocks"),c(),u(55,"option",36),f(56,"Futures"),c(),u(57,"option",37),f(58,"Crypto"),c(),u(59,"option",38),f(60,"Options"),c(),u(61,"option",39),f(62,"ETF"),c(),u(63,"option",40),f(64,"Other"),c()(),S(65,OF,2,0,"div",28),c(),u(66,"div",22)(67,"label",41),f(68,"Analysis Type"),c(),u(69,"select",42)(70,"option",33),f(71,"Choose analysis method"),c(),u(72,"option",43),f(73,"Technical"),c(),u(74,"option",44),f(75,"Fundamental"),c(),u(76,"option",45),f(77,"Both"),c(),u(78,"option",46),f(79,"Sentiment"),c(),u(80,"option",40),f(81,"Other"),c()(),S(82,RF,2,0,"div",28),c(),u(83,"div",22)(84,"label",47),f(85,"Trade Symbol"),c(),u(86,"div",24)(87,"span",25),_(88,"i",48),c(),_(89,"input",49),c(),S(90,PF,2,0,"div",28),c(),u(91,"div",22)(92,"label",50),f(93,"Trade Direction"),c(),u(94,"div",51),_(95,"input",52),u(96,"label",53),f(97,"Long"),c(),_(98,"input",54),u(99,"label",55),f(100,"Short"),c()(),S(101,FF,2,0,"div",28),c(),u(102,"div",22)(103,"label",56),f(104,"Time Frame"),c(),u(105,"select",57)(106,"option",33),f(107,"Select time frame"),c(),u(108,"option",58),f(109,"Scalp (minutes)"),c(),u(110,"option",59),f(111,"Day Trade (hours)"),c(),u(112,"option",60),f(113,"Swing (days-weeks)"),c(),u(114,"option",61),f(115,"Position (weeks-months)"),c(),u(116,"option",62),f(117,"Long Term (months+)"),c()(),S(118,LF,2,0,"div",28),c()()()(),u(119,"div",15)(120,"div",16)(121,"h5",17),_(122,"i",63),f(123,"Strategy Information "),c(),u(124,"span",19),f(125,"Required"),c()(),u(126,"div",20)(127,"div",21)(128,"div",22)(129,"label",64),f(130,"Strategy Name"),c(),_(131,"input",65),S(132,VF,2,0,"div",28),c(),u(133,"div",22)(134,"label",66),f(135,"Type of Order"),c(),u(136,"select",67)(137,"option",33),f(138,"Choose order type"),c(),u(139,"option",68),f(140,"Market"),c(),u(141,"option",69),f(142,"Limit"),c(),u(143,"option",70),f(144,"Stop"),c(),u(145,"option",71),f(146,"Stop Limit"),c(),u(147,"option",72),f(148,"Trailing Stop"),c()(),S(149,jF,2,0,"div",28),c(),u(150,"div",73)(151,"label",74),f(152,"Exit Strategy Used"),c(),_(153,"textarea",75),c()()()(),u(154,"div",15)(155,"div",16)(156,"h5",17),_(157,"i",76),f(158,"Trade Execution "),c(),u(159,"span",19),f(160,"Required"),c()(),u(161,"div",20)(162,"div",21)(163,"div",22)(164,"label",77),f(165,"Entry Date/Time"),c(),_(166,"input",78),S(167,UF,2,0,"div",28),c(),u(168,"div",22)(169,"label",79),f(170,"Exit Date/Time"),c(),_(171,"input",80),S(172,BF,2,0,"div",28),c(),u(173,"div",81)(174,"label",82),f(175,"Entry Price"),c(),u(176,"div",24)(177,"span",25),f(178,"$"),c(),_(179,"input",83),c(),S(180,$F,2,0,"div",28),c(),u(181,"div",81)(182,"label",84),f(183,"Exit Price"),c(),u(184,"div",24)(185,"span",25),f(186,"$"),c(),_(187,"input",85),c(),S(188,HF,2,0,"div",28),c(),u(189,"div",81)(190,"label",86),f(191,"Position Size"),c(),u(192,"div",24),_(193,"input",87),c(),S(194,qF,2,0,"div",28),c()()()(),u(195,"div",15)(196,"div",16)(197,"h5",17),_(198,"i",88),f(199,"Trade Outcome "),c(),u(200,"span",19),f(201,"Required"),c()(),u(202,"div",20)(203,"div",21)(204,"div",22)(205,"label",89),f(206,"Trade Result"),c(),u(207,"div",90),_(208,"input",91),u(209,"label",92),f(210,"Win"),c(),_(211,"input",93),u(212,"label",94),f(213,"Loss"),c(),_(214,"input",95),u(215,"label",96),f(216,"Breakeven"),c()(),S(217,zF,2,0,"div",28),c(),u(218,"div",22)(219,"label",97),f(220,"Profit/Loss Amount"),c(),u(221,"div",24)(222,"span",25),f(223,"$"),c(),_(224,"input",98),u(225,"button",99),D("click",function(){return r.calculateProfitLoss()}),f(226," Calculate "),c()()()()()(),u(227,"div",15)(228,"div",16)(229,"h5",17),_(230,"i",100),f(231,"Post-Trade Analysis "),c(),u(232,"span",19),f(233,"Required"),c()(),u(234,"div",20)(235,"div",21)(236,"div",22)(237,"label",101),f(238,"Emotional State After Trade"),c(),u(239,"select",102)(240,"option",33),f(241,"How do you feel now?"),c(),u(242,"option",103),f(243,"Satisfied"),c(),u(244,"option",104),f(245,"Excited"),c(),u(246,"option",105),f(247,"Relieved"),c(),u(248,"option",106),f(249,"Disappointed"),c(),u(250,"option",107),f(251,"Frustrated"),c(),u(252,"option",108),f(253,"Neutral"),c(),u(254,"option",109),f(255,"Angry"),c(),u(256,"option",40),f(257,"Other"),c()()(),u(258,"div",73)(259,"label",110),f(260,"Emotional Impact on Decisions"),c(),_(261,"textarea",111),c(),u(262,"div",73)(263,"label",112),f(264,"What Went Well"),c(),_(265,"textarea",113),c(),u(266,"div",73)(267,"label",114),f(268,"Areas for Improvement"),c(),_(269,"textarea",115),c(),u(270,"div",22)(271,"label",116),f(272,"Trade Status"),c(),u(273,"div",117),_(274,"input",118),u(275,"label",119),f(276,"This position is still open"),c()()()()()(),u(277,"div",15)(278,"div",16)(279,"h5",17),_(280,"i",120),f(281,"Additional Notes "),c(),u(282,"span",121),f(283,"Optional"),c()(),u(284,"div",20)(285,"div",21)(286,"div",73)(287,"label",122),f(288,"Notes"),c(),_(289,"textarea",123),c()()()(),S(290,YF,10,5,"div",124),u(291,"div",125),S(292,JF,3,0,"button",126),u(293,"div")(294,"button",127),_(295,"i",128),f(296),c()()(),S(297,XF,3,1,"div",129)(298,e2,3,1,"div",130),c()()),e&2){let i,o,s,a,l,d,h,p,v,g,b,w,C,k;m(14),G(r.tradeLogData?"Edit Post-Trading Journal":"Create Post-Trading Journal"),m(4),y("ngIf",!r.tradeLogData),m(),y("ngIf",!r.tradeLogData),m(),y("formGroup",r.postTradeForm),m(17),y("ngIf",((i=r.postTradeForm.get("accountname"))==null?null:i.invalid)&&(((i=r.postTradeForm.get("accountname"))==null?null:i.dirty)||((i=r.postTradeForm.get("accountname"))==null?null:i.touched)||r.formSubmitMarker)),m(28),y("ngIf",((o=r.postTradeForm.get("instrumenttype"))==null?null:o.invalid)&&(((o=r.postTradeForm.get("instrumenttype"))==null?null:o.dirty)||((o=r.postTradeForm.get("instrumenttype"))==null?null:o.touched)||r.formSubmitMarker)),m(17),y("ngIf",((s=r.postTradeForm.get("analysistype"))==null?null:s.invalid)&&(((s=r.postTradeForm.get("analysistype"))==null?null:s.dirty)||((s=r.postTradeForm.get("analysistype"))==null?null:s.touched)||r.formSubmitMarker)),m(8),y("ngIf",((a=r.postTradeForm.get("tradesymbol"))==null?null:a.invalid)&&(((a=r.postTradeForm.get("tradesymbol"))==null?null:a.dirty)||((a=r.postTradeForm.get("tradesymbol"))==null?null:a.touched)||r.formSubmitMarker)),m(11),y("ngIf",((l=r.postTradeForm.get("tradetype"))==null?null:l.invalid)&&(((l=r.postTradeForm.get("tradetype"))==null?null:l.dirty)||((l=r.postTradeForm.get("tradetype"))==null?null:l.touched)||r.formSubmitMarker)),m(17),y("ngIf",((d=r.postTradeForm.get("timeframe"))==null?null:d.invalid)&&(((d=r.postTradeForm.get("timeframe"))==null?null:d.dirty)||((d=r.postTradeForm.get("timeframe"))==null?null:d.touched)||r.formSubmitMarker)),m(14),y("ngIf",((h=r.postTradeForm.get("strategyname"))==null?null:h.invalid)&&(((h=r.postTradeForm.get("strategyname"))==null?null:h.dirty)||((h=r.postTradeForm.get("strategyname"))==null?null:h.touched)||r.formSubmitMarker)),m(17),y("ngIf",((p=r.postTradeForm.get("typeoforder"))==null?null:p.invalid)&&(((p=r.postTradeForm.get("typeoforder"))==null?null:p.dirty)||((p=r.postTradeForm.get("typeoforder"))==null?null:p.touched)||r.formSubmitMarker)),m(18),y("ngIf",((v=r.postTradeForm.get("entrydatetime"))==null?null:v.invalid)&&(((v=r.postTradeForm.get("entrydatetime"))==null?null:v.dirty)||((v=r.postTradeForm.get("entrydatetime"))==null?null:v.touched)||r.formSubmitMarker)),m(5),y("ngIf",((g=r.postTradeForm.get("exitdatetime"))==null?null:g.invalid)&&(((g=r.postTradeForm.get("exitdatetime"))==null?null:g.dirty)||((g=r.postTradeForm.get("exitdatetime"))==null?null:g.touched)||r.formSubmitMarker)),m(8),y("ngIf",((b=r.postTradeForm.get("entryprice"))==null?null:b.invalid)&&(((b=r.postTradeForm.get("entryprice"))==null?null:b.dirty)||((b=r.postTradeForm.get("entryprice"))==null?null:b.touched)||r.formSubmitMarker)),m(8),y("ngIf",((w=r.postTradeForm.get("exitprice"))==null?null:w.invalid)&&(((w=r.postTradeForm.get("exitprice"))==null?null:w.dirty)||((w=r.postTradeForm.get("exitprice"))==null?null:w.touched)||r.formSubmitMarker)),m(6),y("ngIf",((C=r.postTradeForm.get("positionsize"))==null?null:C.invalid)&&(((C=r.postTradeForm.get("positionsize"))==null?null:C.dirty)||((C=r.postTradeForm.get("positionsize"))==null?null:C.touched)||r.formSubmitMarker)),m(23),y("ngIf",((k=r.postTradeForm.get("tradeoutcome"))==null?null:k.invalid)&&(((k=r.postTradeForm.get("tradeoutcome"))==null?null:k.dirty)||((k=r.postTradeForm.get("tradeoutcome"))==null?null:k.touched)||r.formSubmitMarker)),m(73),y("ngIf",r.formSubmitMarker&&r.postTradeForm.invalid),m(2),y("ngIf",r.tradeLogData),m(4),U("",r.tradeLogData?"Update":"Submit"," "),m(),y("ngIf",r.message),m(),y("ngIf",r.errorMessage)}},dependencies:[ge,ye,Lt,vn,Kn,Zn,We,Nr,kr,Qn,Or,nt,gn,nl,Ft,en,ze],styles:[".card[_ngcontent-%COMP%]{border-radius:8px;box-shadow:0 2px 5px #0000000d;border:1px solid rgba(0,0,0,.1);color:#000}.card-header[_ngcontent-%COMP%]{background-color:#f8f9fa;border-bottom:1px solid rgba(0,0,0,.1);padding:12px 16px}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{border-radius:6px;padding:10px 12px;background-color:#f9f9f9;border:1px solid #ced4da}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{background-color:#fff;border-color:#80bdff;box-shadow:0 0 0 .25rem #0d6efd40}textarea.form-control[_ngcontent-%COMP%]{resize:vertical}.btn[_ngcontent-%COMP%]{padding:8px 16px;border-radius:6px;font-weight:500}.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#dc3545}"]})};var t2=(n,t,e)=>({"open-trade":n,"win-trade":t,"loss-trade":e}),n2=(n,t,e)=>({"status-open":n,"status-win":t,"status-loss":e}),r2=(n,t,e)=>({"bi-clock-history":n,"bi-check-circle":t,"bi-x-circle":e}),i2=(n,t,e)=>({"text-success":n,"text-danger":t,"text-secondary":e});function o2(n,t){n&1&&(u(0,"div",12),f(1,"Loading trade logs..."),c())}function s2(n,t){if(n&1&&(u(0,"div",13),f(1),c()),n&2){let e=E();m(),G(e.errorMessage)}}function a2(n,t){if(n&1){let e=H();u(0,"div",16)(1,"div",17),D("click",function(){let i=x(e).$implicit,o=E(2);return M(o.openEditModal(i))}),u(2,"div",18),_(3,"i",19),f(4),c(),u(5,"div",20),D("click",function(i){let o=x(e).$implicit,s=E(2);return M(s.onDeleteTradeLog(o,i))}),_(6,"i",21),c(),u(7,"div",22)(8,"h4",23),f(9),c(),u(10,"h5",24),f(11),c(),u(12,"div",25)(13,"div",26)(14,"div",27)(15,"strong"),f(16,"Strategy:"),c(),f(17),c(),u(18,"div",27)(19,"strong"),f(20,"Analysis:"),c(),f(21),c()(),u(22,"div",26)(23,"div",27)(24,"strong"),f(25,"Entry:"),c(),f(26),c(),u(27,"div",27)(28,"strong"),f(29,"Exit:"),c(),f(30),c()(),u(31,"div",26)(32,"div",27)(33,"strong"),f(34,"Date:"),c(),f(35),Wt(36,"date"),c(),u(37,"div",27)(38,"strong"),f(39,"Account:"),c(),f(40),c()(),u(41,"div",28)(42,"div",29)(43,"strong"),f(44,"P/L:"),c(),u(45,"span",30),f(46),c()()()(),u(47,"div",31)(48,"small",32),f(49),Wt(50,"date"),c()()()()()}if(n&2){let e=t.$implicit;m(),y("ngClass",Yr(23,t2,e.isopen,!e.isopen&&e.tradeoutcome==="Win",!e.isopen&&e.tradeoutcome==="Loss")),m(),y("ngClass",Yr(27,n2,e.isopen,!e.isopen&&e.tradeoutcome==="Win",!e.isopen&&e.tradeoutcome==="Loss")),m(),y("ngClass",Yr(31,r2,e.isopen,!e.isopen&&e.tradeoutcome==="Win",!e.isopen&&e.tradeoutcome==="Loss")),m(),U(" ",e.isopen?"In Progress":e.tradeoutcome," "),m(5),G(e.tradesymbol),m(2),ea(" ",e.tradetype," | ",e.instrumenttype," | ",e.timeframe," "),m(6),U(" ",e.strategyname," "),m(4),U(" ",e.analysistype," "),m(5),U(" ",e.entryprice," "),m(4),U(" ",e.isopen?"Pending":e.exitprice," "),m(5),U(" ",Qt(36,17,e.entrydatetime,"shortDate")," "),m(5),U(" ",e.accountname," "),m(5),y("ngClass",Yr(35,i2,!e.isopen&&e.tradeoutcome==="Win",!e.isopen&&e.tradeoutcome==="Loss",e.isopen)),m(),U(" ",e.isopen?"Trade in progress":e.profitlossamount," "),m(3),G(Qt(50,20,e.createdtime,"medium"))}}function l2(n,t){if(n&1&&(u(0,"div",14),S(1,a2,51,39,"div",15),c()),n&2){let e=E();m(),y("ngForOf",e.tradeLogs)}}function c2(n,t){n&1&&(u(0,"div",33),f(1," No trade logs found. "),c())}function u2(n,t){if(n&1){let e=H();u(0,"div",34),D("click",function(i){x(e);let o=E();return M(o.closeModalOnOverlayClick(i))}),u(1,"div",35),D("click",function(i){return x(e),M(i.stopPropagation())}),u(2,"app-post-trade-log",36),D("formSubmitted",function(){x(e);let i=E();return M(i.onFormSubmitted())})("cancel",function(){x(e);let i=E();return M(i.closeModal())}),c()()()}if(n&2){let e=E();m(2),y("tradeLogData",e.selectedTradeLog)}}var Td=class n{constructor(t,e){this.supabaseService=t;this.cdr=e}tableName="posttrade";tradeLogs=[];loading=!1;errorMessage="";showModal=!1;selectedTradeLog=null;async ngOnInit(){this.loading=!0,await this.fetchTradeLogs(),this.loading=!1,this.cdr.detectChanges()}async fetchTradeLogs(){try{this.tradeLogs=await this.supabaseService.getTradeLogs(this.tableName),this.cdr.detectChanges()}catch(t){console.error("Error fetching trade logs",t),this.errorMessage="Error fetching trade logs."}}openEditModal(t){this.selectedTradeLog=t,this.showModal=!0}onFormSubmitted(){this.fetchTradeLogs(),this.closeModal()}closeModal(){this.showModal=!1,this.selectedTradeLog=null}closeModalOnOverlayClick(t){this.closeModal(),this.cdr.markForCheck()}async onDeleteTradeLog(t,e){e.stopPropagation();try{await this.supabaseService.deleteTradeLog(t.tradeid,this.tableName),await this.fetchTradeLogs()}catch(r){console.error("Error deleting trade log:",r),this.errorMessage="Error deleting trade log."}}static \u0275fac=function(e){return new(e||n)(T(le),T(ce))};static \u0275cmp=re({type:n,selectors:[["app-post-trade-table"]],decls:18,vars:5,consts:[[1,"container","mt-3"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item","text-decoration-none"],["routerLink","/home"],["aria-current","page",1,"breadcrumb-item","active"],["routerLink","/posttradelog"],["class","alert alert-info",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["class","row mt-5",4,"ngIf"],["class","alert alert-warning",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"alert","alert-info"],[1,"alert","alert-danger"],[1,"row","mt-5"],["class","col-md-4 col-12 mb-4",4,"ngFor","ngForOf"],[1,"col-md-4","col-12","mb-4"],[1,"card","h-100","position-relative","shadow",2,"cursor","pointer",3,"click","ngClass"],[1,"trade-status-indicator",3,"ngClass"],[1,"bi",3,"ngClass"],[1,"delete-icon",3,"click"],[1,"bi","bi-trash"],[1,"card-body"],[1,"card-title","mt-5"],[1,"card-subtitle","mb-3","text-muted","fw-bold"],[1,"card-text"],[1,"row","mb-2"],[1,"col-6"],[1,"row"],[1,"col-12"],[3,"ngClass"],[1,"mt-3"],[1,"text-muted"],[1,"alert","alert-warning"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[3,"formSubmitted","cancel","tradeLogData"]],template:function(e,r){e&1&&(u(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),f(5,"Dashboard"),c()(),u(6,"li",5),f(7,"Post-Trade Logs"),c(),u(8,"li",3)(9,"a",6),f(10,"Post-Trading Journal"),c()()()(),u(11,"h2"),f(12,"Post Trade Logs"),c(),S(13,o2,2,0,"div",7)(14,s2,2,1,"div",8)(15,l2,2,1,"div",9)(16,c2,2,0,"div",10),c(),S(17,u2,3,1,"div",11)),e&2&&(m(13),y("ngIf",r.loading),m(),y("ngIf",r.errorMessage),m(),y("ngIf",r.tradeLogs&&r.tradeLogs.length),m(),y("ngIf",!r.loading&&(!r.tradeLogs||r.tradeLogs.length===0)),m(),y("ngIf",r.showModal))},dependencies:[ze,ge,fn,qe,ye,hn,bs],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;max-width:90%;max-height:90%;overflow:auto;position:relative}.card[_ngcontent-%COMP%]{position:relative;border:none;transition:all .2s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 20px #0000001a!important}.delete-icon[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;display:none;color:#dc3545;background:#fffc;border-radius:50%;padding:5px;z-index:10}.card[_ngcontent-%COMP%]:hover   .delete-icon[_ngcontent-%COMP%]{display:block}.delete-icon[_ngcontent-%COMP%]:hover{cursor:pointer}.open-trade[_ngcontent-%COMP%]{border-left:4px solid #17a2b8!important}.win-trade[_ngcontent-%COMP%]{border-left:4px solid #28a745!important}.loss-trade[_ngcontent-%COMP%]{border-left:4px solid #dc3545!important}.trade-status-indicator[_ngcontent-%COMP%]{position:absolute;top:8px;left:8px;padding:5px 10px;border-radius:12px;font-size:.8rem;font-weight:700;z-index:10;color:#fff}.status-open[_ngcontent-%COMP%]{background-color:#17a2b8}.status-win[_ngcontent-%COMP%]{background-color:#28a745}.status-loss[_ngcontent-%COMP%]{background-color:#dc3545}.trade-status-indicator[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:3px}"]})};var d2=(n,t)=>({"alert-success":n,"alert-danger":t});function f2(n,t){if(n&1&&(u(0,"div",18),f(1),c()),n&2){let e=E();y("ngClass",qn(2,d2,e.messageType==="success",e.messageType==="error")),m(),U(" ",e.message," ")}}function h2(n,t){if(n&1){let e=H();ot(0),u(1,"input",27),Be("ngModelChange",function(i){x(e);let o=E().$implicit;return $e(o.choicesInput,i)||(o.choicesInput=i),M(i)}),D("change",function(){x(e);let i=E().$implicit,o=E();return M(o.updateChoices(i))}),c(),u(2,"div",28),f(3,'e.g., "Option A, Option B, Option C"'),c(),st()}if(n&2){let e=E().$implicit;m(),Ue("ngModel",e.choicesInput)}}function p2(n,t){if(n&1){let e=H();u(0,"tr")(1,"td")(2,"select",19),Be("ngModelChange",function(i){let o=x(e).$implicit;return $e(o.question_data.question_type,i)||(o.question_data.question_type=i),M(i)}),D("change",function(){let i=x(e).$implicit,o=E();return M(o.onQuestionChange(i))}),u(3,"option",9),f(4,"Fill"),c(),u(5,"option",10),f(6,"Multiple"),c(),u(7,"option",11),f(8,"Select One"),c()()(),u(9,"td")(10,"input",20),Be("ngModelChange",function(i){let o=x(e).$implicit;return $e(o.question_data.question_icon,i)||(o.question_data.question_icon=i),M(i)}),D("change",function(){let i=x(e).$implicit,o=E();return M(o.onQuestionChange(i))}),c()(),u(11,"td")(12,"input",21),Be("ngModelChange",function(i){let o=x(e).$implicit;return $e(o.question_data.question_title,i)||(o.question_data.question_title=i),M(i)}),D("change",function(){let i=x(e).$implicit,o=E();return M(o.onQuestionChange(i))}),c()(),u(13,"td")(14,"textarea",22),Be("ngModelChange",function(i){let o=x(e).$implicit;return $e(o.question_data.question,i)||(o.question_data.question=i),M(i)}),D("change",function(){let i=x(e).$implicit,o=E();return M(o.onQuestionChange(i))}),c()(),u(15,"td"),S(16,h2,4,1,"ng-container",23),c(),u(17,"td")(18,"input",24),Be("ngModelChange",function(i){let o=x(e).$implicit;return $e(o.question_data.placeholder,i)||(o.question_data.placeholder=i),M(i)}),D("change",function(){let i=x(e).$implicit,o=E();return M(o.onQuestionChange(i))}),c()(),u(19,"td")(20,"div",25)(21,"input",26),Be("ngModelChange",function(i){let o=x(e).$implicit;return $e(o.active,i)||(o.active=i),M(i)}),D("change",function(){let i=x(e).$implicit,o=E();return M(o.onQuestionChange(i))}),c()()(),u(22,"td"),f(23),Wt(24,"date"),c()()}if(n&2){let e=t.$implicit;m(2),Ue("ngModel",e.question_data.question_type),m(8),Ue("ngModel",e.question_data.question_icon),m(2),Ue("ngModel",e.question_data.question_title),m(2),Ue("ngModel",e.question_data.question),m(2),y("ngIf",e.question_data.question_type!=="fill"),m(2),Ue("ngModel",e.question_data.placeholder),m(3),Ue("ngModel",e.active),m(2),G(Qt(24,8,e.updated_at,"short"))}}function m2(n,t){if(n&1){let e=H();u(0,"div",29)(1,"input",30),Be("ngModelChange",function(i){x(e);let o=E();return $e(o.newQuestionChoices,i)||(o.newQuestionChoices=i),M(i)}),c()()}if(n&2){let e=E();m(),Ue("ngModel",e.newQuestionChoices)}}var xd=class n{constructor(t,e){this.cdr=t;this.supabaseService=e}questions=[];newQuestionText="";newQuestionType="fill";newQuestionChoices="";message="";messageType="success";async ngOnInit(){let t=await this.supabaseService.adminLoadQuestions();this.questions=t.map(e=>q(N({},e),{choicesInput:e.question_data.choices?.join(", ")||""})),this.cdr.markForCheck()}onQuestionChange(t){t.isModified=!0}updateChoices(t){let e=t.choicesInput??"";t.question_data.choices=e.split(",").map(r=>r.trim()).filter(r=>r),t.isModified=!0}addQuestion(){if(!this.newQuestionText.trim())return;let t={question_type:this.newQuestionType,question:this.newQuestionText.trim(),placeholder:this.newQuestionText.trim()};if(this.newQuestionType!=="fill"){let e=this.newQuestionChoices.split(",").map(r=>r.trim()).filter(r=>r);t.choices=e}this.questions.push({question_data:t,choicesInput:this.newQuestionChoices,active:!0,isModified:!0}),this.newQuestionText="",this.newQuestionChoices="",this.newQuestionType="fill",this.cdr.detectChanges()}async saveChanges(){let{error:t}=await this.supabaseService.adminSaveQuestions(this.questions);t?this.showMessage("Error saving questions","error"):this.showMessage("Questions saved successfully","success"),this.cdr.detectChanges()}async deleteQuestion(t){if(!t.question_id){this.questions=this.questions.filter(r=>r!==t),this.showMessage("Question removed locally","success"),this.cdr.markForCheck();return}let{error:e}=await this.supabaseService.deleteQuestion(t);e?this.showMessage("Error deleting question","error"):(this.questions=this.questions.filter(r=>r.question_id!==t.question_id),this.showMessage("Question deleted successfully","success")),this.cdr.markForCheck()}showMessage(t,e){this.message=t,this.messageType=e,this.cdr.markForCheck(),setTimeout(()=>{this.message="",this.cdr.markForCheck()},4e3)}hasChanges(){return this.questions.some(t=>t.isModified)}static \u0275fac=function(e){return new(e||n)(T(ce),T(le))};static \u0275cmp=re({type:n,selectors:[["app-admin-emotion-dashboard"]],decls:53,vars:6,consts:[[1,"container-fluid","mt-4","p-5"],["class","alert",3,"ngClass",4,"ngIf"],[1,"table","mt-5"],[4,"ngFor","ngForOf"],["href","https://fonts.google.com/icons","target","_blank"],[1,"mt-4"],[1,"row","g-3","align-items-center","mb-3"],[1,"col-md-3"],[1,"form-select",3,"ngModelChange","ngModel"],["value","fill"],["value","multiple"],["value","select-one"],[1,"col-md-5"],["type","text","placeholder","Enter question text",1,"form-control",3,"ngModelChange","ngModel"],["class","col-md-4",4,"ngIf"],[1,"d-flex","justify-content-between"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-success",3,"click","disabled"],[1,"alert",3,"ngClass"],[1,"form-select",3,"ngModelChange","change","ngModel"],["type","text","placeholder","Enter icon URL or name",1,"form-control",3,"ngModelChange","change","ngModel"],["type","text","placeholder","Enter question title",1,"form-control",3,"ngModelChange","change","ngModel"],["type","text",1,"form-control",3,"ngModelChange","change","ngModel"],[4,"ngIf"],["type","text","placeholder","Enter placeholder text",1,"form-control",3,"ngModelChange","change","ngModel"],[1,"form-check","form-switch"],["type","checkbox",1,"form-check-input",3,"ngModelChange","change","ngModel"],["type","text","placeholder","Comma-separated choices",1,"form-control","mb-1",3,"ngModelChange","change","ngModel"],[1,"text-muted","small"],[1,"col-md-4"],["type","text","placeholder","Comma-separated choices",1,"form-control",3,"ngModelChange","ngModel"]],template:function(e,r){e&1&&(u(0,"div",0),S(1,f2,2,5,"div",1),u(2,"h1"),f(3,"Admin Emotion Question Dashboard"),c(),u(4,"table",2)(5,"thead")(6,"tr")(7,"th"),f(8,"Type"),c(),u(9,"th"),f(10,"Question Icon"),c(),u(11,"th"),f(12,"Question Title"),c(),u(13,"th"),f(14,"Question Text"),c(),u(15,"th"),f(16,"Choices"),c(),u(17,"th"),f(18,"Placeholder"),c(),u(19,"th"),f(20,"Active"),c(),u(21,"th"),f(22,"Last Updated"),c()()(),u(23,"tbody"),S(24,p2,25,11,"tr",3),c()(),u(25,"label"),f(26,"For icons, go to this website: "),u(27,"a",4),f(28,"https://fonts.google.com/icons"),c(),f(29,". "),_(30,"br"),f(31,"Search for favourite icon. When you click your icon, you will look for the name of the icon and "),_(32,"br"),f(33," put it into the space"),c(),u(34,"h4",5),f(35,"Add New Question"),c(),u(36,"div",6)(37,"div",7)(38,"select",8),Be("ngModelChange",function(o){return $e(r.newQuestionType,o)||(r.newQuestionType=o),o}),u(39,"option",9),f(40,"Fill"),c(),u(41,"option",10),f(42,"Multiple"),c(),u(43,"option",11),f(44,"Select One"),c()()(),u(45,"div",12)(46,"input",13),Be("ngModelChange",function(o){return $e(r.newQuestionText,o)||(r.newQuestionText=o),o}),c()(),S(47,m2,2,1,"div",14),c(),u(48,"div",15)(49,"button",16),D("click",function(){return r.addQuestion()}),f(50,"Add Question"),c(),u(51,"button",17),D("click",function(){return r.saveChanges()}),f(52,"Save Changes"),c()()()),e&2&&(m(),y("ngIf",r.message),m(23),y("ngForOf",r.questions),m(14),Ue("ngModel",r.newQuestionType),m(8),Ue("ngModel",r.newQuestionText),m(),y("ngIf",r.newQuestionType!=="fill"),m(4),y("disabled",!r.hasChanges()))},dependencies:[fi,Kn,Zn,We,kr,Qn,nt,io,ge,fn,qe,ye,hn],styles:[".container[_ngcontent-%COMP%]{max-width:800px;margin:auto}.question-row[_ngcontent-%COMP%]{position:relative}.delete-button[_ngcontent-%COMP%]{display:none;position:absolute;right:10px;top:50%;transform:translateY(-50%)}.question-row[_ngcontent-%COMP%]:hover   .delete-button[_ngcontent-%COMP%]{display:block}.alert[_ngcontent-%COMP%]{padding:10px 20px;margin-bottom:15px;border-radius:4px;text-align:center}.table[_ngcontent-%COMP%]{--bs-table-bg: transparent}"]})};function g2(n,t){if(n&1&&(u(0,"div",13),f(1),c()),n&2){let e=E();m(),U(" ",e.errorMessage," ")}}function v2(n,t){n&1&&(u(0,"div",28),f(1," A valid email is required. "),c())}function y2(n,t){n&1&&(u(0,"div",28),f(1," Password must be at least 6 characters. "),c())}function _2(n,t){if(n&1){let e=H();u(0,"form",14),D("ngSubmit",function(){x(e);let i=E();return M(i.onSubmit())}),u(1,"div",15)(2,"label",16),f(3,"Email"),c(),_(4,"input",17),S(5,v2,2,0,"div",18),c(),u(6,"div",15)(7,"label",19),f(8,"Password"),c(),_(9,"input",20),S(10,y2,2,0,"div",18),u(11,"div",21)(12,"a",22),f(13,"Forgot password?"),c()()(),u(14,"div",23)(15,"button",24),f(16,"Continue"),c()(),u(17,"div",25)(18,"p",26),f(19,"Don't have an account? "),u(20,"a",27),D("click",function(){x(e);let i=E();return M(i.setActiveTab("signup"))}),f(21,"Sign up"),c()()()()}if(n&2){let e,r,i=E();y("formGroup",i.signinForm),m(5),y("ngIf",((e=i.signinForm.get("email"))==null?null:e.invalid)&&((e=i.signinForm.get("email"))==null?null:e.touched)),m(5),y("ngIf",((r=i.signinForm.get("password"))==null?null:r.invalid)&&((r=i.signinForm.get("password"))==null?null:r.touched)),m(5),y("disabled",i.signinForm.invalid)}}function b2(n,t){n&1&&(u(0,"small",43),f(1," First name is required "),c())}function w2(n,t){n&1&&(u(0,"small",43),f(1," Last name is required "),c())}function E2(n,t){n&1&&(u(0,"small",43),f(1," Valid email is required "),c())}function C2(n,t){n&1&&(u(0,"small",43),f(1," Password must be at least 6 characters "),c())}function S2(n,t){n&1&&(u(0,"small",43),f(1," Passwords do not match "),c())}function D2(n,t){if(n&1){let e=H();u(0,"form",14),D("ngSubmit",function(){x(e);let i=E();return M(i.onSignupSubmit())}),u(1,"div",29)(2,"div",30)(3,"label",31),f(4,"First Name"),c(),_(5,"input",32),S(6,b2,2,0,"small",33),c(),u(7,"div",30)(8,"label",34),f(9,"Last Name"),c(),_(10,"input",35),S(11,w2,2,0,"small",33),c()(),u(12,"div",15)(13,"label",36),f(14,"Email"),c(),_(15,"input",37),S(16,E2,2,0,"small",33),c(),u(17,"div",15)(18,"label",38),f(19,"Password"),c(),_(20,"input",39),S(21,C2,2,0,"small",33),c(),u(22,"div",15)(23,"label",40),f(24,"Confirm Password"),c(),_(25,"input",41),S(26,S2,2,0,"small",33),c(),u(27,"div",23)(28,"button",24),f(29,"Create Account"),c()(),u(30,"div",25)(31,"p",26),f(32,"Already have an account? "),u(33,"a",42),D("click",function(){x(e);let i=E();return M(i.setActiveTab("login"))}),f(34,"Login"),c()()()()}if(n&2){let e,r,i,o,s,a=E();y("formGroup",a.signupForm),m(6),y("ngIf",((e=a.signupForm.get("firstname"))==null?null:e.invalid)&&((e=a.signupForm.get("firstname"))==null?null:e.touched)),m(5),y("ngIf",((r=a.signupForm.get("lastname"))==null?null:r.invalid)&&((r=a.signupForm.get("lastname"))==null?null:r.touched)),m(5),y("ngIf",((i=a.signupForm.get("email"))==null?null:i.invalid)&&((i=a.signupForm.get("email"))==null?null:i.touched)),m(5),y("ngIf",((o=a.signupForm.get("password"))==null?null:o.invalid)&&((o=a.signupForm.get("password"))==null?null:o.touched)),m(5),y("ngIf",a.signupForm.hasError("mismatch")&&((s=a.signupForm.get("confirmPassword"))==null?null:s.touched)),m(2),y("disabled",a.signupForm.invalid)}}var Md=class n{constructor(t,e,r,i){this.fb=t;this.router=e;this.route=r;this.supabaseService=i;this.signinForm=this.fb.group({email:["",[R.required,R.email]],password:["",[R.required,R.minLength(6)]]}),this.signupForm=this.fb.group({firstname:["",R.required],lastname:["",R.required],email:["",[R.required,R.email]],password:["",[R.required,R.minLength(6)]],confirmPassword:["",R.required]},{validators:this.passwordMatchValidator})}activeTab="login";signinForm;signupForm;errorMessage=null;ngOnInit(){this.route.queryParams.subscribe(t=>{t.mode==="signup"&&(this.activeTab="signup")})}passwordMatchValidator(t){let e=t.get("password")?.value,r=t.get("confirmPassword")?.value;return e===r?null:{mismatch:!0}}setActiveTab(t){this.activeTab=t,this.errorMessage=null}async onSubmit(){if(this.signinForm.invalid){this.signinForm.markAllAsTouched();return}let{email:t,password:e}=this.signinForm.getRawValue();try{if(await this.supabaseService.signIn(t,e),!this.supabaseService.currentUsername()){this.errorMessage="Login failed. Please try again.";return}this.signinForm.reset();let r=this.route.snapshot.queryParams.returnUrl||"/home";this.router.navigateByUrl(r)}catch(r){this.errorMessage=r.message||"An unexpected error occurred."}}onSignupSubmit(){if(this.signupForm.invalid){this.signupForm.markAllAsTouched();return}let{email:t,password:e,firstname:r,lastname:i}=this.signupForm.getRawValue();this.supabaseService.signUp(t,e,r,i).then(()=>{this.signupForm.reset(),this.router.navigateByUrl("/home")}).catch(o=>{this.errorMessage=o.message||"An unexpected error occurred.",console.error(o)})}static \u0275fac=function(e){return new(e||n)(T(yn),T(Nn),T(kn),T(le))};static \u0275cmp=re({type:n,selectors:[["app-login-signup"]],decls:20,vars:7,consts:[[1,"auth-container"],[1,"auth-card"],[1,"text-center","mb-4"],[1,"logo-circle","mx-auto"],["src","/trading-rehab-logo.png","alt","Logo",1,"img-fluid"],[1,"brand-name","mt-3"],[1,"brand-tagline"],[1,"auth-tabs","d-flex","justify-content-center","mb-4"],[1,"tabs-container"],[1,"tab",3,"click"],[1,"mx-2","tab-separator"],["class","alert alert-danger mb-3",4,"ngIf"],["class","auth-form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"alert","alert-danger","mb-3"],[1,"auth-form",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","placeholder","Enter your email",1,"form-control"],["class","text-danger small mt-1",4,"ngIf"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password","placeholder","Enter your password",1,"form-control"],[1,"d-flex","justify-content-end","mt-2"],["href","#",1,"forgot-link"],[1,"d-grid","gap-2","mt-4"],["type","submit",1,"btn","btn-tr","btn-primary","btn-md",3,"disabled"],[1,"text-center","mt-4"],[1,"mb-0"],["href","javascript:void(0)",1,"signup-link",3,"click"],[1,"text-danger","small","mt-1"],[1,"row"],[1,"col-md-6","mb-3"],["for","firstname",1,"form-label"],["type","text","id","firstname","formControlName","firstname","placeholder","First name",1,"form-control"],["class","text-danger",4,"ngIf"],["for","lastname",1,"form-label"],["type","text","id","lastname","formControlName","lastname","placeholder","Last name",1,"form-control"],["for","signup-email",1,"form-label"],["type","email","id","signup-email","formControlName","email","placeholder","Enter your email",1,"form-control"],["for","signup-password",1,"form-label"],["type","password","id","signup-password","formControlName","password","placeholder","Create a password",1,"form-control"],["for","confirmPassword",1,"form-label"],["type","password","id","confirmPassword","formControlName","confirmPassword","placeholder","Confirm your password",1,"form-control"],["href","javascript:void(0)",1,"login-link",3,"click"],[1,"text-danger"]],template:function(e,r){e&1&&(u(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),_(4,"img",4),c(),u(5,"h2",5),f(6,"TRADING REHAB"),c(),u(7,"p",6),f(8,"Where Disciplined Trading Begins"),c()(),u(9,"div",7)(10,"div",8)(11,"span",9),D("click",function(){return r.setActiveTab("login")}),f(12,"Login"),c(),u(13,"span",10),f(14,"\u2022"),c(),u(15,"span",9),D("click",function(){return r.setActiveTab("signup")}),f(16,"Sign Up"),c()()(),S(17,g2,2,1,"div",11)(18,_2,22,4,"form",12)(19,D2,35,7,"form",12),c()()),e&2&&(m(11),Gt("active",r.activeTab==="login"),m(4),Gt("active",r.activeTab==="signup"),m(2),y("ngIf",r.errorMessage),m(),y("ngIf",r.activeTab==="login"),m(),y("ngIf",r.activeTab==="signup"))},dependencies:[ge,ye,Lt,vn,We,nt,gn,Ft,en],styles:['.auth-container[_ngcontent-%COMP%]{min-height:100dvh;background:conic-gradient(#eaeafd,#9c9ce4,#eaeafd);display:flex;align-items:center;justify-content:center}.auth-card[_ngcontent-%COMP%]{background-color:transparent;border-radius:12px;width:100%;max-width:450px;padding:30px}.logo-circle[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;background-color:transparent;position:relative;display:flex;align-items:center;justify-content:center;margin:0 auto}.dots-circle[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;position:relative;background-image:radial-gradient(circle,#5046e5 3px,transparent 3px);background-size:15px 15px;transform:rotate(45deg)}.brand-name[_ngcontent-%COMP%]{font-weight:700;font-size:24px;margin-bottom:5px;letter-spacing:.5px}.brand-tagline[_ngcontent-%COMP%]{color:#666;font-size:14px;margin:0}.tabs-container[_ngcontent-%COMP%]{display:inline-flex;align-items:center;border-bottom:1px solid #eee;padding-bottom:5px}.tab[_ngcontent-%COMP%]{padding:8px 15px;cursor:pointer;color:#888;font-weight:500;font-size:16px;transition:color .2s}.tab.active[_ngcontent-%COMP%]{color:#5046e5;border-bottom:2px solid #5046e5}.tab-separator[_ngcontent-%COMP%]{color:#ccc}.auth-form[_ngcontent-%COMP%]{margin-top:10px}.form-control[_ngcontent-%COMP%]{height:auto;padding:12px 15px;border-radius:8px;border:1px solid #ddd;transition:border-color .2s,box-shadow .2s}.form-control[_ngcontent-%COMP%]:focus{border-color:#5046e5;box-shadow:0 0 0 .2rem #5046e526}.form-label[_ngcontent-%COMP%]{font-weight:500;color:#555;margin-bottom:8px}.forgot-link[_ngcontent-%COMP%]{font-size:14px;color:#5046e5;text-decoration:none}.forgot-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.signup-link[_ngcontent-%COMP%], .login-link[_ngcontent-%COMP%]{color:#5046e5;font-weight:500;text-decoration:none}.signup-link[_ngcontent-%COMP%]:hover, .login-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.btn-primary[_ngcontent-%COMP%]{background-color:#5046e5;border-color:#5046e5;padding:12px;font-weight:500}.btn-primary[_ngcontent-%COMP%]:hover, .btn-primary[_ngcontent-%COMP%]:focus{background-color:#4238d0;border-color:#4238d0}.btn-primary[_ngcontent-%COMP%]:disabled{background-color:#a8a4e0;border-color:#a8a4e0}.separator[_ngcontent-%COMP%]{display:flex;align-items:center;text-align:center;color:#888;font-size:14px}.separator[_ngcontent-%COMP%]:before, .separator[_ngcontent-%COMP%]:after{content:"";flex:1;border-bottom:1px solid #ddd}.separator[_ngcontent-%COMP%]:before{margin-right:1em}.separator[_ngcontent-%COMP%]:after{margin-left:1em}.google-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#fff;border:1px solid #ddd;color:#333;padding:12px;font-weight:500}.google-btn[_ngcontent-%COMP%]:hover{background-color:#f8f8f8;color:#333}@media (max-width: 576px){.auth-card[_ngcontent-%COMP%]{padding:20px 15px}.brand-name[_ngcontent-%COMP%]{font-size:20px}.form-control[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]{padding:10px}}']})};var _S=(n,t)=>({"btn-tr text-dark":n,"btn-tr":t}),I2=(n,t)=>({"btn-tr  text-dark":n,"btn-tr  btn-outline-primary":t});function T2(n,t){if(n&1){let e=H();u(0,"button",15),D("click",function(){let i;x(e);let o=E();return M((i=o.tradeForm.get("trade_status"))==null?null:i.setValue("Executing"))}),_(1,"i",75),f(2," Executing "),c()}if(n&2){let e,r=E();y("ngClass",qn(1,_S,((e=r.tradeForm.get("trade_status"))==null?null:e.value)==="Executing",((e=r.tradeForm.get("trade_status"))==null?null:e.value)!=="Executing"))}}function x2(n,t){if(n&1){let e=H();u(0,"button",15),D("click",function(){let i;x(e);let o=E();return M((i=o.tradeForm.get("trade_status"))==null?null:i.setValue("Completed"))}),_(1,"i",76),f(2," Completed "),c()}if(n&2){let e,r=E();y("ngClass",qn(1,I2,((e=r.tradeForm.get("trade_status"))==null?null:e.value)==="Completed",((e=r.tradeForm.get("trade_status"))==null?null:e.value)!=="Completed"))}}function M2(n,t){if(n&1){let e=H();u(0,"div",82)(1,"button",83),D("click",function(){let i=x(e).index,o=E(2);return M(o.removePlannedTrade(i))}),_(2,"i",84),c(),u(3,"h6",85),f(4),c(),u(5,"div",24)(6,"div",86)(7,"label",87),f(8,"Direction"),c(),u(9,"div",88),_(10,"input",89),u(11,"label",90),f(12,"Long"),c(),_(13,"input",91),u(14,"label",92),f(15,"Short"),c()()(),u(16,"div",86)(17,"label",87),f(18,"Entry Price"),c(),u(19,"div",27)(20,"span",28),f(21,"$"),c(),_(22,"input",93),c()(),u(23,"div",86)(24,"label",87),f(25,"Stop Loss"),c(),u(26,"div",27)(27,"span",28),f(28,"$"),c(),_(29,"input",94),c()(),u(30,"div",86)(31,"label",87),f(32,"Exit Price"),c(),u(33,"div",27)(34,"span",28),f(35,"$"),c(),_(36,"input",95),c()(),u(37,"div",25)(38,"label",87),f(39,"Planned Entry Time"),c(),_(40,"input",96),c(),u(41,"div",25)(42,"label",87),f(43,"Planned Exit Time"),c(),_(44,"input",97),c(),u(45,"div",25)(46,"label",87),f(47,"Exit Type"),c(),u(48,"select",98)(49,"option",33),f(50,"Select exit type"),c(),u(51,"option",99),f(52,"Target"),c(),u(53,"option",100),f(54,"Stop Loss"),c(),u(55,"option",101),f(56,"Manual"),c()()(),u(57,"div",25)(58,"label",87),f(59,"Position Size ($)"),c(),u(60,"div",27)(61,"span",28),f(62,"$"),c(),_(63,"input",102),c()(),u(64,"div",25)(65,"label",87),f(66,"Contracts/Shares"),c(),_(67,"input",103),c(),u(68,"div",25)(69,"label",87),f(70,"Multiplier"),c(),_(71,"input",104),c()(),u(72,"div",105)(73,"div",106),_(74,"div",107),c()()()}if(n&2){let e=t.index;y("formGroupName",e),m(4),U("Planned Trade #",e+1,""),m(6),y("id","direction_long_"+e),m(),y("for","direction_long_"+e),m(2),y("id","direction_short_"+e),m(),y("for","direction_short_"+e)}}function A2(n,t){if(n&1){let e=H();u(0,"div",18)(1,"div",19)(2,"h5",20),_(3,"i",77),f(4,"Planned Trades "),c(),u(5,"span",22),f(6,"Required"),c()(),u(7,"div",23)(8,"div",78),S(9,M2,75,6,"div",79),u(10,"button",80),D("click",function(){x(e);let i=E();return M(i.addPlannedTrade())}),_(11,"i",81),f(12,"Add Planned Trade "),c()()()()}if(n&2){let e=E();m(9),y("ngForOf",e.plannedTrades.controls)}}function k2(n,t){if(n&1){let e=H();u(0,"div",82)(1,"button",83),D("click",function(){let i=x(e).index,o=E(2);return M(o.removeExecutingTrade(i))}),_(2,"i",84),c(),u(3,"h6",85),f(4),c(),u(5,"div",24)(6,"div",86)(7,"label",87),f(8,"Direction"),c(),u(9,"div",88),_(10,"input",89),u(11,"label",90),f(12,"Long"),c(),_(13,"input",91),u(14,"label",92),f(15,"Short"),c()()(),u(16,"div",86)(17,"label",87),f(18,"Entry Price"),c(),u(19,"div",27)(20,"span",28),f(21,"$"),c(),_(22,"input",93),c()(),u(23,"div",86)(24,"label",87),f(25,"Stop Loss"),c(),u(26,"div",27)(27,"span",28),f(28,"$"),c(),_(29,"input",94),c()(),u(30,"div",86)(31,"label",87),f(32,"Exit Price"),c(),u(33,"div",27)(34,"span",28),f(35,"$"),c(),_(36,"input",95),c()(),u(37,"div",25)(38,"label",87),f(39,"Entry Time"),c(),_(40,"input",96),c(),u(41,"div",25)(42,"label",87),f(43,"Exit Time"),c(),_(44,"input",97),c(),u(45,"div",25)(46,"label",87),f(47,"Exit Type"),c(),u(48,"select",98)(49,"option",33),f(50,"Select exit type"),c(),u(51,"option",99),f(52,"Target"),c(),u(53,"option",100),f(54,"Stop Loss"),c(),u(55,"option",101),f(56,"Manual"),c()()(),u(57,"div",25)(58,"label",87),f(59,"Position Size ($)"),c(),u(60,"div",27)(61,"span",28),f(62,"$"),c(),_(63,"input",102),c()(),u(64,"div",25)(65,"label",87),f(66,"Contracts/Shares"),c(),_(67,"input",103),c(),u(68,"div",25)(69,"label",87),f(70,"Multiplier"),c(),_(71,"input",104),c()()()}if(n&2){let e=t.index;y("formGroupName",e),m(4),U("Trade Execution #",e+1,""),m(6),y("id","exec_direction_long_"+e),m(),y("for","exec_direction_long_"+e),m(2),y("id","exec_direction_short_"+e),m(),y("for","exec_direction_short_"+e)}}function N2(n,t){if(n&1){let e=H();u(0,"div",18)(1,"div",19)(2,"h5",20),_(3,"i",77),f(4,"Executing Trades "),c(),u(5,"span",22),f(6,"Required"),c()(),u(7,"div",23)(8,"div",108),S(9,k2,72,6,"div",79),u(10,"button",80),D("click",function(){x(e);let i=E();return M(i.addExecutingTrade())}),_(11,"i",81),f(12,"Add Executing Trade "),c()()()()}if(n&2){let e=E();m(9),y("ngForOf",e.executingTrades.controls)}}function O2(n,t){n&1&&(u(0,"div",64),_(1,"i",135),u(2,"span",136),f(3," Consider if this emotional state might negatively impact your decision making"),c()())}function R2(n,t){if(n&1&&(u(0,"div",18)(1,"div",19)(2,"h5",20),_(3,"i",109),f(4,"Emotional Analysis "),c(),u(5,"span",22),f(6,"Required"),c()(),u(7,"div",23)(8,"div",110)(9,"div",24)(10,"div",39)(11,"label",111),f(12,"Emotional State"),c(),u(13,"select",112)(14,"option",33),f(15,"How are you feeling?"),c(),u(16,"option",113),f(17,"Calm & Focused"),c(),u(18,"option",114),f(19,"Excited"),c(),u(20,"option",115),f(21,"Anxious"),c(),u(22,"option",116),f(23,"Frustrated"),c(),u(24,"option",117),f(25,"Overconfident"),c(),u(26,"option",118),f(27,"Fearful"),c(),u(28,"option",119),f(29,"Neutral"),c(),u(30,"option",38),f(31,"Other"),c()(),S(32,O2,4,0,"div",120),c(),u(33,"div",39)(34,"label",121),f(35,"Trade Confidence"),c(),u(36,"div",88),_(37,"input",122),u(38,"label",123),f(39,"1"),c(),_(40,"input",124),u(41,"label",125),f(42,"2"),c(),_(43,"input",126),u(44,"label",127),f(45,"3"),c(),_(46,"input",128),u(47,"label",129),f(48,"4"),c(),_(49,"input",130),u(50,"label",131),f(51,"5"),c()(),u(52,"div",132),f(53,"Low (1) to High (5)"),c()()(),u(54,"div",55)(55,"label",133),f(56,"Reflection"),c(),_(57,"textarea",134),c()()()()),n&2){let e=E();m(32),y("ngIf",e.isNegativeEmotionalState())}}function P2(n,t){n&1&&(u(0,"div",18)(1,"div",19)(2,"h5",20),_(3,"i",109),f(4,"Profit Analysis "),c(),u(5,"span",22),f(6,"Required"),c()(),u(7,"div",23)(8,"div",24)(9,"div",25)(10,"label",137),f(11,"Realized Profit"),c(),u(12,"div",27)(13,"span",28),f(14,"$"),c(),_(15,"input",138),c()(),u(16,"div",25)(17,"label",139),f(18,"Unrealized Profit"),c(),u(19,"div",27)(20,"span",28),f(21,"$"),c(),_(22,"input",140),c()(),u(23,"div",25)(24,"label",141),f(25,"Total Profit"),c(),u(26,"div",27)(27,"span",28),f(28,"$"),c(),_(29,"input",142),c()()()()())}function F2(n,t){n&1&&(u(0,"div",18)(1,"div",19)(2,"h5",20),_(3,"i",143),f(4,"Post-Trade Reflection "),c(),u(5,"span",22),f(6,"Required"),c()(),u(7,"div",23)(8,"div",144)(9,"div",24)(10,"div",39)(11,"label",145),f(12,"Emotional State"),c(),u(13,"select",146)(14,"option",33),f(15,"How are you feeling?"),c(),u(16,"option",147),f(17,"Satisfied"),c(),u(18,"option",114),f(19,"Excited"),c(),u(20,"option",148),f(21,"Disappointed"),c(),u(22,"option",116),f(23,"Frustrated"),c(),u(24,"option",117),f(25,"Overconfident"),c(),u(26,"option",119),f(27,"Neutral"),c(),u(28,"option",38),f(29,"Other"),c()()(),u(30,"div",39)(31,"label",149),f(32,"Trade Confidence for Next Time"),c(),u(33,"div",88),_(34,"input",150),u(35,"label",151),f(36,"1"),c(),_(37,"input",152),u(38,"label",153),f(39,"2"),c(),_(40,"input",154),u(41,"label",155),f(42,"3"),c(),_(43,"input",156),u(44,"label",157),f(45,"4"),c(),_(46,"input",158),u(47,"label",159),f(48,"5"),c()(),u(49,"div",132),f(50,"Low (1) to High (5)"),c()()(),u(51,"div",55)(52,"label",160),f(53,"Trade Reflection"),c(),_(54,"textarea",161),c()()()())}var ws=class n{constructor(t,e,r){this.fb=t;this.cdr=e;this.supabase=r}tradeData;mode="create";tradeAccountId;formSubmitted=new ve;cancel=new ve;tradeForm;tableName="tradejournal";trade_account_id;ngOnInit(){this.trade_account_id=this.tradeAccountId??"",this.initForm()}ngOnChanges(t){t.tradeAccountId&&(this.trade_account_id=t.tradeAccountId.currentValue),t.tradeData&&!t.tradeData.firstChange&&(this.populateForm(),setTimeout(()=>{this.handleStatusChange(this.tradeForm.get("trade_status")?.value)}),this.tradeData&&(this.mode="edit"))}initForm(){let t=this.mode==="create"?oo():this.tradeData?.tradeid;this.tradeForm=this.fb.group({tradeid:t,userid:this.supabase.user()?.id,updated_time:[""],trade_symbol:["",R.required],trade_analysis:[""],trade_instrument:[""],type_of_order:[""],market_condition:[""],trade_status:["Planned"],strategy_name:[""],entry_criteria:[""],exit_criteria:[""],planned_trade:this.fb.array([]),executing_trades:this.fb.array([]),realized_profit:[0,R.required],unrealized_profit:[0,R.required],planned_profit:[0,R.required],emotion_before:this.fb.group({emotional_state_before:[""],trade_confidence_before:[""],reflection_before:[""]}),emotion_after:this.fb.group({emotional_state_after:[""],trade_confidence_after:[""],reflection_after:[""]}),notes:[""],trade_account_id:this.trade_account_id}),this.tradeForm.get("trade_status")?.valueChanges.subscribe(e=>{this.handleStatusChange(e)}),this.handleStatusChange("Planned"),this.tradeData&&(this.populateForm(),this.mode="edit")}get plannedTrades(){return this.tradeForm.get("planned_trade")}get executingTrades(){return this.tradeForm.get("executing_trades")}newTradeGroup(t=!1){let e={entry_price:[""],exit_price:[""],stop_loss:[""],trade_direction:[""],entry_time:[""],exit_time:[""],exit:[""],position_size:[""],contracts:[""],contract_multiplier:[""]};return t&&(e.profit=[""]),this.fb.group(e)}addPlannedTrade(){this.plannedTrades.push(this.newTradeGroup())}removePlannedTrade(t){this.plannedTrades.removeAt(t)}addExecutingTrade(){this.executingTrades.push(this.newTradeGroup(!0))}removeExecutingTrade(t){this.executingTrades.removeAt(t)}populateForm(){this.tradeData&&(this.tradeForm.patchValue(this.tradeData),this.plannedTrades.clear(),this.executingTrades.clear(),this.tradeData.planned_trade?.forEach(t=>{this.plannedTrades.push(this.fb.group(t))}),this.tradeData.executing_trades?.forEach(t=>{this.executingTrades.push(this.fb.group(t))}),this.handleStatusChange(this.tradeData.trade_status))}handleStatusChange(t){let e=this.tradeForm.get("emotion_after"),r=this.tradeForm.get("emotion_before");t==="Planned"?(this.executingTrades.disable(),e.disable(),r.enable()):t==="Executing"?(this.executingTrades.enable(),e.disable(),r.enable(),this.executingTrades.length===0&&this.plannedTrades.length>0&&this.plannedTrades.controls.forEach(i=>{this.executingTrades.push(this.fb.group(i.value))})):t==="Completed"&&(this.executingTrades.enable(),e.enable(),r.disable()),this.cdr.markForCheck(),setTimeout(()=>{this.handleStatusChange(this.tradeForm.get("trade_status")?.value)})}async onSubmit(){if(this.tradeForm.valid){this.tradeForm.patchValue({updated_time:new Date().toISOString()});let t=this.tradeForm.getRawValue();try{this.mode==="create"?await this.supabase.addTradeLogOfSelectedAccount(t,this.tableName,this.tradeAccountId):this.mode==="edit"&&await this.supabase.updateTradeLogOfSelectedAccount(t,this.tableName,this.tradeAccountId),this.formSubmitted.emit()}catch(e){console.error("Error submitting trade:",e)}}else console.log("Invalid form")}onCancel(){this.cancel.emit()}isNegativeEmotionalState(){let t=this.tradeData?this.tradeData.emotion_before:"calm";return["Anxious","Frustrated","Fearful","Overconfident"].includes(t)}static \u0275fac=function(e){return new(e||n)(T(yn),T(ce),T(le))};static \u0275cmp=re({type:n,selectors:[["app-individual-trade"]],inputs:{tradeData:"tradeData",mode:"mode",tradeAccountId:"tradeAccountId"},outputs:{formSubmitted:"formSubmitted",cancel:"cancel"},features:[ln],decls:147,vars:14,consts:[[1,"container-fluid","my-4"],["aria-label","breadcrumb",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/home",1,"text-decoration-none"],["routerLink","/tradejournal",1,"text-decoration-none"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row","mb-4"],[1,"col-lg-8"],[1,"mb-2"],[1,"text-muted"],[1,"needs-validation",3,"ngSubmit","formGroup"],[1,"mb-4"],[1,"form-label","d-block","mb-2"],["role","group","aria-label","Trade status toggle",1,"btn-group","w-100","shadow-sm"],["type","button",1,"btn",3,"click","ngClass"],[1,"bi","bi-hourglass","me-1"],["type","button","class","btn",3,"ngClass","click",4,"ngIf"],[1,"card","mb-4","shadow-sm"],[1,"card-header","bg-light","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"bi","bi-1-circle","me-2"],[1,"badge","bg-primary"],[1,"card-body"],[1,"row","g-3"],[1,"col-md-4"],["for","trade_symbol",1,"form-label"],[1,"input-group"],[1,"input-group-text"],[1,"bi","bi-tag"],["type","text","id","trade_symbol","formControlName","trade_symbol","placeholder","Enter ticker symbol",1,"form-control"],["for","trade_analysis",1,"form-label"],["id","trade_analysis","formControlName","trade_analysis",1,"form-select"],["value","","selected","","disabled",""],["value","Technical"],["value","Fundamental"],["value","Both"],["value","Sentiment"],["value","Other"],[1,"col-md-6"],["for","trade_instrument",1,"form-label"],["id","trade_instrument","formControlName","trade_instrument",1,"form-select"],["value","Forex"],["value","Stocks"],["value","Futures"],["value","Crypto"],["value","Options"],["value","ETF"],["for","type_of_order",1,"form-label"],["id","type_of_order","formControlName","type_of_order",1,"form-select"],["value","Market"],["value","Limit"],["value","Stop"],["value","StopLimit"],["value","TrailingStop"],[1,"col-12"],["for","market_condition",1,"form-label"],["id","market_condition","rows","3","formControlName","market_condition","placeholder","Describe current market conditions and relevant factors",1,"form-control"],[1,"bi","bi-2-circle","me-2"],[1,"card-body","col-12"],["for","strategy_name",1,"form-label"],["type","text","id","strategy_name","formControlName","strategy_name","placeholder","e.g., Breakout, Reversal, Trend Following",1,"form-control"],["for","entry_criteria",1,"form-label"],["id","entry_criteria","rows","4","formControlName","entry_criteria","placeholder","Describe your specific entry conditions (e.g., technical indicators, patterns, fundamental factors)",1,"form-control"],[1,"form-text"],["for","exit_criteria",1,"form-label"],["id","exit_criteria","rows","4","formControlName","exit_criteria","placeholder","Define your profit targets and stop loss levels",1,"form-control"],["class","card mb-4 shadow-sm",4,"ngIf"],[1,"bi","bi-6-circle","me-2"],[1,"badge","bg-secondary"],[1,"p-3"],["id","notes","formControlName","notes","placeholder","Any additional information or context for this trade","rows","3",1,"form-control"],[1,"d-flex","justify-content-end"],["type","button",1,"btn","btn-tr-secondary","me-2","mt-3",3,"click"],["type","submit",1,"btn","btn-primary","btn-tr","mt-3"],[1,"bi","bi-play-fill","me-1"],[1,"bi","bi-check-circle","me-1"],[1,"bi","bi-3-circle","me-2"],["formArrayName","planned_trade"],["class","border rounded p-3 mb-3 position-relative",3,"formGroupName",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-tr","btn-outline-primary","w-100",3,"click"],[1,"bi","bi-plus-circle","me-2"],[1,"border","rounded","p-3","mb-3","position-relative",3,"formGroupName"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","end-0","top-0","m-2",3,"click"],[1,"bi","bi-x"],[1,"mb-3"],[1,"col-md-3"],[1,"form-label"],["role","group",1,"btn-group","w-100"],["type","radio","formControlName","trade_direction","value","Long",1,"btn-check",3,"id"],[1,"btn","btn-outline-success",3,"for"],["type","radio","formControlName","trade_direction","value","Short",1,"btn-check",3,"id"],[1,"btn","btn-outline-danger",3,"for"],["type","number","step","0.01","placeholder","Entry Price","formControlName","entry_price",1,"form-control"],["type","number","step","0.01","placeholder","Stop Loss","formControlName","stop_loss",1,"form-control"],["type","number","step","0.01","placeholder","Exit Price","formControlName","exit_price",1,"form-control"],["type","datetime-local","formControlName","entry_time",1,"form-control"],["type","datetime-local","formControlName","exit_time",1,"form-control"],["formControlName","exit",1,"form-select"],["value","Target"],["value","StopLoss"],["value","Manual"],["type","number","step","0.01","placeholder","Position Size","formControlName","position_size",1,"form-control"],["type","number","placeholder","Contracts","formControlName","contracts",1,"form-control"],["type","number","step","0.01","placeholder","Multiplier","formControlName","contract_multiplier",1,"form-control"],[1,"mt-3"],[1,"progress",2,"height","5px"],["role","progressbar",1,"progress-bar",2,"width","100%"],["formArrayName","executing_trades"],[1,"bi","bi-4-circle","me-2"],["formGroupName","emotion_before"],["for","emotional_state_before",1,"form-label"],["id","emotional_state_before","formControlName","emotional_state_before",1,"form-select"],["value","Calm"],["value","Excited"],["value","Anxious"],["value","Frustrated"],["value","Overconfident"],["value","Fearful"],["value","Neutral"],["class","form-text",4,"ngIf"],["for","trade_confidence_before",1,"form-label"],["type","radio","formControlName","trade_confidence_before","id","confidence_before_1","value","1",1,"btn-check"],["for","confidence_before_1",1,"btn","btn-outline-danger"],["type","radio","formControlName","trade_confidence_before","id","confidence_before_2","value","2",1,"btn-check"],["for","confidence_before_2",1,"btn","btn-outline-warning"],["type","radio","formControlName","trade_confidence_before","id","confidence_before_3","value","3",1,"btn-check"],["for","confidence_before_3",1,"btn","btn-outline-secondary"],["type","radio","formControlName","trade_confidence_before","id","confidence_before_4","value","4",1,"btn-check"],["for","confidence_before_4",1,"btn","btn-outline-primary"],["type","radio","formControlName","trade_confidence_before","id","confidence_before_5","value","5",1,"btn-check"],["for","confidence_before_5",1,"btn","btn-outline-success"],[1,"form-text","text-center"],["for","reflection_before",1,"form-label"],["id","reflection_before","formControlName","reflection_before","placeholder","What biases might affect your decision? (e.g., revenge trading, FOMO)","rows","2",1,"form-control"],[1,"bi","bi-exclamation-triangle","text-warning"],[1,"text-warning"],["for","realized_profit",1,"form-label"],["type","number","step","0.01","id","realized_profit","formControlName","realized_profit",1,"form-control"],["for","unrealized_profit",1,"form-label"],["type","number","step","0.01","id","unrealized_profit","formControlName","unrealized_profit",1,"form-control"],["for","planned_profit",1,"form-label"],["type","number","step","0.01","id","planned_profit","formControlName","planned_profit",1,"form-control"],[1,"bi","bi-5-circle","me-2"],["formGroupName","emotion_after"],["for","emotional_state_after",1,"form-label"],["id","emotional_state_after","formControlName","emotional_state_after",1,"form-select"],["value","Satisfied"],["value","Disappointed"],["for","trade_confidence_after",1,"form-label"],["type","radio","formControlName","trade_confidence_after","id","confidence_after_1","value","1",1,"btn-check"],["for","confidence_after_1",1,"btn","btn-outline-danger"],["type","radio","formControlName","trade_confidence_after","id","confidence_after_2","value","2",1,"btn-check"],["for","confidence_after_2",1,"btn","btn-outline-warning"],["type","radio","formControlName","trade_confidence_after","id","confidence_after_3","value","3",1,"btn-check"],["for","confidence_after_3",1,"btn","btn-outline-secondary"],["type","radio","formControlName","trade_confidence_after","id","confidence_after_4","value","4",1,"btn-check"],["for","confidence_after_4",1,"btn","btn-outline-primary"],["type","radio","formControlName","trade_confidence_after","id","confidence_after_5","value","5",1,"btn-check"],["for","confidence_after_5",1,"btn","btn-outline-success"],["for","reflection_after",1,"form-label"],["id","reflection_after","formControlName","reflection_after","placeholder","What did you learn? What could be improved?","rows","2",1,"form-control"]],template:function(e,r){if(e&1&&(u(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),f(5,"Dashboard"),c()(),u(6,"li",3)(7,"a",5),f(8,"Trade Logs"),c()(),u(9,"li",6),f(10,"Trade Form"),c()()(),u(11,"div",7)(12,"div",8)(13,"h2",9),f(14),c(),u(15,"p",10),f(16,"Document your trading strategy and execution to maintain discipline and improve performance"),c()()(),u(17,"form",11),D("ngSubmit",function(){return r.onSubmit()}),u(18,"div",12)(19,"label",13),f(20,"Trade Status"),c(),u(21,"div",14)(22,"button",15),D("click",function(){let o;return(o=r.tradeForm.get("trade_status"))==null?null:o.setValue("Planned")}),_(23,"i",16),f(24," Planned "),c(),S(25,T2,3,4,"button",17)(26,x2,3,4,"button",17),c()(),u(27,"div",18)(28,"div",19)(29,"h5",20),_(30,"i",21),f(31,"Trade Setup "),c(),u(32,"span",22),f(33,"Required"),c()(),u(34,"div",23)(35,"div",24)(36,"div",25)(37,"label",26),f(38,"Trade Symbol"),c(),u(39,"div",27)(40,"span",28),_(41,"i",29),c(),_(42,"input",30),c()(),u(43,"div",25)(44,"label",31),f(45,"Trade Analysis"),c(),u(46,"select",32)(47,"option",33),f(48,"Choose analysis method"),c(),u(49,"option",34),f(50,"Technical"),c(),u(51,"option",35),f(52,"Fundamental"),c(),u(53,"option",36),f(54,"Both"),c(),u(55,"option",37),f(56,"Sentiment"),c(),u(57,"option",38),f(58,"Other"),c()()(),u(59,"div",39)(60,"label",40),f(61,"Trade Instrument"),c(),u(62,"select",41)(63,"option",33),f(64,"Choose instrument type"),c(),u(65,"option",42),f(66,"Forex"),c(),u(67,"option",43),f(68,"Stocks"),c(),u(69,"option",44),f(70,"Futures"),c(),u(71,"option",45),f(72,"Crypto"),c(),u(73,"option",46),f(74,"Options"),c(),u(75,"option",47),f(76,"ETF"),c(),u(77,"option",38),f(78,"Other"),c()()(),u(79,"div",39)(80,"label",48),f(81,"Type of Order"),c(),u(82,"select",49)(83,"option",33),f(84,"Choose order type"),c(),u(85,"option",50),f(86,"Market"),c(),u(87,"option",51),f(88,"Limit"),c(),u(89,"option",52),f(90,"Stop"),c(),u(91,"option",53),f(92,"Stop Limit"),c(),u(93,"option",54),f(94,"Trailing Stop"),c()()(),u(95,"div",55)(96,"label",56),f(97,"Market Condition"),c(),_(98,"textarea",57),c()()()(),u(99,"div",18)(100,"div",19)(101,"h5",20),_(102,"i",58),f(103,"Trade Strategy "),c(),u(104,"span",22),f(105,"Required"),c()(),u(106,"div",59)(107,"label",60),f(108,"Strategy Name"),c(),_(109,"input",61),c(),u(110,"div",23)(111,"div",24)(112,"div",39)(113,"label",62),f(114,"Entry Criteria "),u(115,"span",10),f(116,"(Why are you taking this trade?)"),c()(),_(117,"textarea",63),u(118,"div",64),f(119,"Be specific about what signals or conditions must be met for entry."),c()(),u(120,"div",39)(121,"label",65),f(122,"Exit Criteria "),u(123,"span",10),f(124,"(How will you close this position?)"),c()(),_(125,"textarea",66),u(126,"div",64),f(127,"Include both profit-taking and loss-cutting criteria."),c()()()()(),S(128,A2,13,1,"div",67)(129,N2,13,1,"div",67)(130,R2,58,1,"div",67)(131,P2,30,0,"div",67)(132,F2,55,0,"div",67),u(133,"div",18)(134,"div",19)(135,"h5",20),_(136,"i",68),f(137,"Additional Notes "),c(),u(138,"span",69),f(139,"Optional"),c()(),u(140,"div",70),_(141,"textarea",71),c()(),u(142,"div",72)(143,"button",73),D("click",function(){return r.onCancel()}),f(144,"Cancel"),c(),u(145,"button",74),f(146),c()()()()),e&2){let i,o,s,a,l,d;m(14),G(r.mode==="edit"?"Edit Trade":"Create Trade"),m(3),y("formGroup",r.tradeForm),m(5),y("ngClass",qn(11,_S,((i=r.tradeForm.get("trade_status"))==null?null:i.value)==="Planned",((i=r.tradeForm.get("trade_status"))==null?null:i.value)!=="Planned")),m(3),y("ngIf",r.mode==="edit"),m(),y("ngIf",r.mode==="edit"),m(102),y("ngIf",((o=r.tradeForm.get("trade_status"))==null?null:o.value)==="Planned"),m(),y("ngIf",((s=r.tradeForm.get("trade_status"))==null?null:s.value)!=="Planned"),m(),y("ngIf",((a=r.tradeForm.get("trade_status"))==null?null:a.value)!=="Completed"),m(),y("ngIf",((l=r.tradeForm.get("trade_status"))==null?null:l.value)==="Completed"),m(),y("ngIf",((d=r.tradeForm.get("trade_status"))==null?null:d.value)==="Completed"),m(14),U(" ",r.mode==="edit"?"Update Trade":"Save Trade"," ")}},dependencies:[ge,fn,qe,ye,Lt,vn,Kn,Zn,We,Nr,Qn,Or,nt,gn,Ft,en,Sd,Dd,ze],encapsulation:2})};var L2=(n,t,e)=>({"status-planned-card":n,"status-executing-card":t,"status-completed-card":e}),V2=(n,t,e)=>({"status-planned":n,"status-executing":t,"status-completed":e});function j2(n,t){if(n&1&&(u(0,"option",18),f(1),c()),n&2){let e=t.$implicit,r=E();y("value",e.account_id)("selected",e.account_id===r.tradeAccountId),m(),U(" ",e.account_name," ")}}function U2(n,t){n&1&&(u(0,"div",19),f(1,"Loading trade logs..."),c())}function B2(n,t){if(n&1&&(u(0,"div",20),f(1),c()),n&2){let e=E();m(),G(e.errorMessage)}}function $2(n,t){if(n&1){let e=H();ot(0),u(1,"div",27)(2,"div",28),D("click",function(){x(e);let i=E().$implicit,o=E(3);return M(o.openEditModal(i))}),u(3,"div",29),_(4,"i",30),f(5),c(),u(6,"div",31),D("click",function(i){x(e);let o=E().$implicit,s=E(3);return M(s.onDeleteTradeLog(o,i))}),_(7,"i",32),c(),u(8,"div",33)(9,"h4",34),f(10),c(),u(11,"h5",35),f(12),c(),u(13,"div",36)(14,"div",37)(15,"strong"),f(16,"Account Name:"),c(),f(17),c(),u(18,"div",37)(19,"strong"),f(20,"Analysis:"),c(),f(21),c(),u(22,"div",37)(23,"strong"),f(24,"Profit:"),c(),f(25),c()(),u(26,"div",38)(27,"small",39),f(28),Wt(29,"date"),c()()()()(),st()}if(n&2){let e=E().$implicit;m(2),y("ngClass",Yr(15,L2,e.trade_status==="Planned",e.trade_status==="Executing",e.trade_status==="Completed")),m(),y("ngClass",Yr(19,V2,e.trade_status==="Planned",e.trade_status==="Executing",e.trade_status==="Completed")),m(2),U(" ",e.trade_status," "),m(5),G(e.trade_symbol),m(2),Bi(" ",e.trade_instrument," | ",e.type_of_order," "),m(5),U(" ",e.account_name," "),m(4),U(" ",e.trade_analysis," "),m(4),ea(" Realized: ",e.realized_profit," | Unrealized: ",e.unrealized_profit," | Planned: ",e.planned_profit," "),m(3),U("Last modified: ",Qt(29,12,e.updated_time,"medium"),"")}}function H2(n,t){if(n&1&&(ot(0),S(1,$2,30,23,"ng-container",26),st()),n&2){let e=t.$implicit,r=E().$implicit;m(),y("ngIf",e.trade_status===r.status)}}function q2(n,t){if(n&1&&(u(0,"div",23)(1,"h3"),f(2),c(),u(3,"div",24),S(4,H2,2,1,"ng-container",25),c()()),n&2){let e=t.$implicit,r=E(2);m(2),G(e.title),m(2),y("ngForOf",r.tradeLogs)}}function z2(n,t){if(n&1&&(u(0,"div",21),S(1,q2,5,2,"div",22),c()),n&2){let e=E();m(),y("ngForOf",e.tradeStatus)}}function G2(n,t){n&1&&(u(0,"div",40),f(1," No trade logs found. "),c())}function W2(n,t){if(n&1){let e=H();u(0,"div",41),D("click",function(i){x(e);let o=E();return M(o.closeModalOnOverlayClick(i))}),u(1,"div",42),D("click",function(i){return x(e),M(i.stopPropagation())}),u(2,"app-individual-trade",43),D("formSubmitted",function(){x(e);let i=E();return M(i.onFormSubmitted())})("cancel",function(){x(e);let i=E();return M(i.closeModal())}),c()()()}if(n&2){let e=E();m(2),y("tradeData",e.selectedTradeLog)("mode",e.selectedTradeLog?"edit":"create")("tradeAccountId",e.tradeAccountId)}}var Ad=class n{constructor(t,e){this.supabaseService=t;this.cdr=e}tableName="tradejournal";tradeLogs=[];tradeAccounts=[];loading=!1;errorMessage="";tradeAccountId="";showModal=!1;selectedTradeLog=null;tradeStatus=[{status:"Planned",title:"Planning Phase"},{status:"Executing",title:"Executing Phase"},{status:"Completed",title:"Completed Phase"}];async ngOnInit(){this.loading=!0,await this.fetchTradeAccounts(),await this.fetchTradeLogs(),this.loading=!1,this.cdr.markForCheck()}async fetchTradeLogs(){try{let t=await this.supabaseService.getTradeLogsOfSelectedAccount(this.tableName,this.tradeAccountId);this.tradeLogs=t.sort((e,r)=>new Date(r.updated_time).getDate()-new Date(e.updated_time).getTime()),this.cdr.markForCheck()}catch(t){console.error("Error fetching trade logs:",t),this.errorMessage="Error fetching trade logs."}}async fetchTradeAccounts(){try{this.tradeAccounts=await this.supabaseService.getUserTradeAccounts(),this.tradeAccounts.length&&(this.tradeAccountId=this.tradeAccounts[0].account_id)}catch(t){console.error("Error fetching trade accounts:",t),this.errorMessage="Error loading trade accounts."}}onAccountChange(t){let e=t.target;this.tradeAccountId=e.value,this.fetchTradeLogs(),this.cdr.markForCheck()}openEditModal(t){this.selectedTradeLog=t,this.showModal=!0}openAddModal(){this.selectedTradeLog=null,this.showModal=!0}onFormSubmitted(){this.fetchTradeLogs(),this.closeModal(),this.cdr.markForCheck()}closeModal(){this.showModal=!1,this.selectedTradeLog=null,this.cdr.markForCheck()}closeModalOnOverlayClick(t){this.closeModal(),this.cdr.markForCheck()}async onDeleteTradeLog(t,e){e.stopPropagation();try{await this.supabaseService.deleteTradeLogOfSelectedAccount(t.tradeid,this.tableName,this.tradeAccountId),await this.fetchTradeLogs(),this.cdr.markForCheck()}catch(r){console.error("Error deleting trade log:",r),this.errorMessage="Error deleting trade log."}}static \u0275fac=function(e){return new(e||n)(T(le),T(ce))};static \u0275cmp=re({type:n,selectors:[["app-trade-journal"]],decls:25,vars:6,consts:[[1,"container","mt-3"],["aria-label","breadcrumb",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/home",1,"text-decoration-none"],["aria-current","page",1,"breadcrumb-item","active"],[1,"d-flex","justify-content-between","align-items-center","justify-content-center"],[1,"btn","btn-tr","btn-primary",3,"click"],[1,"bi","bi-plus-circle","me-2"],[1,"form-group","mt-4","mb-3"],["for","accountSelector"],["id","accountSelector",1,"form-control","w-auto","d-inline-block","ms-2",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],["class","alert alert-info",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["class","mt-5",4,"ngIf"],["class","alert alert-warning",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[3,"value","selected"],[1,"alert","alert-info"],[1,"alert","alert-danger"],[1,"mt-5"],["class","mb-4",4,"ngFor","ngForOf"],[1,"mb-4"],[1,"mt-3","row"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-md-3","col-sm-6","mb-4"],[1,"card","h-100","position-relative","shadow",2,"cursor","pointer",3,"click","ngClass"],[1,"trade-status-indicator",3,"ngClass"],[1,"bi","bi-clipboard-check"],[1,"delete-icon",3,"click"],[1,"bi","bi-trash"],[1,"card-body"],[1,"card-title","mt-5"],[1,"card-subtitle","mb-3","text-muted","fw-bold"],[1,"card-text"],[1,"mb-2"],[1,"mt-3"],[1,"text-muted"],[1,"alert","alert-warning"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[3,"formSubmitted","cancel","tradeData","mode","tradeAccountId"]],template:function(e,r){e&1&&(u(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),f(5,"Dashboard"),c()(),u(6,"li",5),f(7,"Trade Journal"),c()()(),u(8,"div",6)(9,"h2"),f(10,"Trade Journal"),c(),u(11,"button",7),D("click",function(){return r.openAddModal()}),_(12,"i",8),f(13," Add "),c()(),u(14,"div",9)(15,"label",10)(16,"strong"),f(17,"Select Trade Account:"),c()(),u(18,"select",11),D("change",function(o){return r.onAccountChange(o)}),S(19,j2,2,3,"option",12),c()(),S(20,U2,2,0,"div",13)(21,B2,2,1,"div",14)(22,z2,2,1,"div",15)(23,G2,2,0,"div",16),c(),S(24,W2,3,3,"div",17)),e&2&&(m(19),y("ngForOf",r.tradeAccounts),m(),y("ngIf",r.loading),m(),y("ngIf",r.errorMessage),m(),y("ngIf",r.tradeLogs&&r.tradeLogs.length),m(),y("ngIf",!r.loading&&(!r.tradeLogs||r.tradeLogs.length===0)),m(),y("ngIf",r.showModal))},dependencies:[Lt,Kn,Zn,ge,fn,qe,ye,hn,ws,ze],styles:[".card[_ngcontent-%COMP%]{transition:transform .2s}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.trade-status-indicator[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px;padding:5px 10px;border-radius:5px;color:#fff;font-size:.7rem}.status-planned[_ngcontent-%COMP%]{background-color:#007bff}.status-executing[_ngcontent-%COMP%]{background-color:#ffc107}.status-completed[_ngcontent-%COMP%]{background-color:#28a745}.status-planned-card[_ngcontent-%COMP%]{border-left:4px solid #007bff!important}.status-executing-card[_ngcontent-%COMP%]{border-left:4px solid #ffc107!important}.status-completed-card[_ngcontent-%COMP%]{border-left:4px solid #28a745!important}.delete-icon[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;display:none;color:red;cursor:pointer}.card[_ngcontent-%COMP%]:hover   .delete-icon[_ngcontent-%COMP%]{display:block}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100dvw;height:100dvh;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1050}.modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:8px;max-width:90vw;position:relative;max-height:98dvh;overflow-y:auto}"]})};var Q2=["alertAudio"];function K2(n,t){if(n&1){let e=H();u(0,"button",10),D("click",function(){x(e);let i=E();return M(i.incrementMinutes())}),f(1,"\u25B2"),c()}}function Z2(n,t){if(n&1){let e=H();u(0,"button",10),D("click",function(){x(e);let i=E();return M(i.decrementMinutes())}),f(1,"\u25BC"),c()}}function Y2(n,t){if(n&1){let e=H();u(0,"button",10),D("click",function(){x(e);let i=E();return M(i.incrementSeconds())}),f(1,"\u25B2"),c()}}function J2(n,t){if(n&1){let e=H();u(0,"button",10),D("click",function(){x(e);let i=E();return M(i.decrementSeconds())}),f(1,"\u25BC"),c()}}function X2(n,t){if(n&1){let e=H();u(0,"button",11),D("click",function(){x(e);let i=E();return M(i.start())}),f(1," Start "),c()}}function eL(n,t){if(n&1){let e=H();ot(0),u(1,"button",11),D("click",function(){x(e);let i=E();return M(i.pauseCountdown())}),f(2,"Pause"),c(),u(3,"button",12),D("click",function(){x(e);let i=E();return M(i.resetToInitial())}),f(4,"Reset"),c(),st()}}function tL(n,t){if(n&1){let e=H();ot(0),u(1,"button",11),D("click",function(){x(e);let i=E();return M(i.startOver())}),f(2,"Start Over"),c(),u(3,"button",12),D("click",function(){x(e);let i=E();return M(i.pauseAlarm())}),f(4,"Pause Alarm"),c(),st()}}var kd=class n{constructor(t){this.cdr=t}alertAudio;minuteValue=0;secondValue=0;initialSeconds=0;totalSeconds=0;displayTime="00:00";isRunning=!1;alarmPlaying=!1;intervalId;incrementMinutes(){this.minuteValue++,this.applyNewDuration()}decrementMinutes(){this.minuteValue>0&&(this.minuteValue--,this.applyNewDuration())}incrementSeconds(){this.secondValue=(this.secondValue+1)%60,this.applyNewDuration()}decrementSeconds(){this.secondValue=(this.secondValue+59)%60,this.applyNewDuration()}applyNewDuration(){this.initialSeconds=this.minuteValue*60+this.secondValue,this.resetToInitial()}start(){this.initialSeconds<=0||(this.isRunning=!0,this.alarmPlaying=!1,this.tick(),this.intervalId=setInterval(()=>this.tick(),1e3))}startOver(){this.resetToInitial(),this.pauseAlarm(),this.start()}tick(){this.totalSeconds>0?(this.totalSeconds--,this.updateDisplay(),this.cdr.markForCheck()):this.finishCountdown()}pauseCountdown(){clearInterval(this.intervalId),this.isRunning=!1}resetToInitial(){this.pauseCountdown(),this.totalSeconds=this.initialSeconds,this.updateDisplay()}finishCountdown(){this.pauseCountdown(),this.playAlarm()}playAlarm(){let t=this.alertAudio.nativeElement;t.load(),t.currentTime=0,t.loop=!0,t.play().catch(()=>{}),this.alarmPlaying=!0,this.cdr.markForCheck()}pauseAlarm(){let t=this.alertAudio.nativeElement;t.pause(),t.currentTime=0,this.alarmPlaying=!1,this.resetToInitial(),this.cdr.markForCheck()}updateDisplay(){let t=Math.floor(this.totalSeconds/60),e=this.totalSeconds%60;this.displayTime=`${t<10?"0":""}${t}:${e<10?"0":""}${e}`}static \u0275fac=function(e){return new(e||n)(T(ce))};static \u0275cmp=re({type:n,selectors:[["app-timer-clock"]],viewQuery:function(e,r){if(e&1&&qp(Q2,5),e&2){let i;Xc(i=eu())&&(r.alertAudio=i.first)}},decls:20,vars:9,consts:[["alertAudio",""],[1,"timer"],[1,"timer-display"],[1,"segment"],[3,"click",4,"ngIf"],[1,"colon"],[1,"controls"],["class","btn-tr",3,"click",4,"ngIf"],[4,"ngIf"],["src","/assets/sounds/alarm.wav","loop","","preload","auto"],[3,"click"],[1,"btn-tr",3,"click"],[1,"btn-tr-secondary",3,"click"]],template:function(e,r){e&1&&(u(0,"article",1)(1,"div",2)(2,"div",3),S(3,K2,2,0,"button",4),u(4,"span"),f(5),c(),S(6,Z2,2,0,"button",4),c(),u(7,"span",5),f(8,":"),c(),u(9,"div",3),S(10,Y2,2,0,"button",4),u(11,"span"),f(12),c(),S(13,J2,2,0,"button",4),c()(),u(14,"div",6),S(15,X2,2,0,"button",7)(16,eL,5,0,"ng-container",8)(17,tL,5,0,"ng-container",8),c(),_(18,"audio",9,0),c()),e&2&&(m(3),y("ngIf",!r.isRunning&&!r.alarmPlaying),m(2),G(r.displayTime.split(":")[0]),m(),y("ngIf",!r.isRunning&&!r.alarmPlaying),m(4),y("ngIf",!r.isRunning&&!r.alarmPlaying),m(2),G(r.displayTime.split(":")[1]),m(),y("ngIf",!r.isRunning&&!r.alarmPlaying),m(2),y("ngIf",!r.isRunning&&!r.alarmPlaying),m(),y("ngIf",r.isRunning),m(),y("ngIf",r.alarmPlaying))},dependencies:[fi,ge,ye],styles:[".timer[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%}.timer-display[_ngcontent-%COMP%]{display:flex;align-items:center;font-family:Orbitron,sans-serif;font-size:4rem;margin-bottom:1rem}.segment[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin:0 .5rem}.segment[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background:transparent;font-size:1rem;cursor:pointer;line-height:1}.colon[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1rem;padding:.5rem 1rem;margin:.25rem;border:none;border-radius:.25rem;cursor:pointer}.controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:default}"]})};var Zg;try{Zg=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Zg=!1}var Nd=(()=>{class n{_platformId=I(Ct);isBrowser=this._platformId?Re(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||Zg)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Yg(n){return Array.isArray(n)?n:[n]}var bS=new Set,so,nL=(()=>{class n{_platform=I(Nd);_nonce=I(Js,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):iL}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&rL(e,this._nonce),this._matchMedia(e)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function rL(n,t){if(!bS.has(n))try{so||(so=document.createElement("style"),t&&so.setAttribute("nonce",t),so.setAttribute("type","text/css"),document.head.appendChild(so)),so.sheet&&(so.sheet.insertRule(`@media ${n} {body{ }}`,0),bS.add(n))}catch(e){console.error(e)}}function iL(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var ES=(()=>{class n{_mediaMatcher=I(nL);_zone=I(Ee);_queries=new Map;_destroySubject=new xe;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return wS(Yg(e)).some(i=>this._registerQuery(i).mql.matches)}observe(e){let i=wS(Yg(e)).map(s=>this._registerQuery(s).observable),o=Do(i);return o=jr(o.pipe(Bt(1)),o.pipe(Rf(1),Mf(0))),o.pipe(W(s=>{let a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:d})=>{a.matches=a.matches||l,a.breakpoints[d]=l}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let r=this._mediaMatcher.matchMedia(e),o={observable:new ue(s=>{let a=l=>this._zone.run(()=>s.next(l));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(ks(r),W(({matches:s})=>({query:e,matches:s})),Ns(this._destroySubject)),mql:r};return this._queries.set(e,o),o}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function wS(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}var ao=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(ao||{}),CS="cdk-high-contrast-black-on-white",SS="cdk-high-contrast-white-on-black",Jg="cdk-high-contrast-active",DS=(()=>{class n{_platform=I(Nd);_hasCheckedHighContrastMode;_document=I(Fe);_breakpointSubscription;constructor(){this._breakpointSubscription=I(ES).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return ao.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(e):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return ao.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return ao.BLACK_ON_WHITE}return ao.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(Jg,CS,SS),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===ao.BLACK_ON_WHITE?e.add(Jg,CS):r===ao.WHITE_ON_BLACK&&e.add(Jg,SS)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Xg=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Je({type:n});static \u0275inj=Ze({})}return n})();var ev=(()=>{class n{constructor(){I(DS)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Je({type:n});static \u0275inj=Ze({imports:[Xg,Xg]})}return n})();var oL=["*"],Od;function sL(){if(Od===void 0&&(Od=null,typeof window<"u")){let n=window;n.trustedTypes!==void 0&&(Od=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return Od}function rl(n){return sL()?.createHTML(n)||n}function IS(n){return Error(`Unable to find icon with the name "${n}"`)}function aL(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function TS(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function xS(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}var Rr=class{url;svgText;options;svgElement;constructor(t,e,r){this.url=t,this.svgText=e,this.options=r}},lL=(()=>{class n{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(e,r,i,o){this._httpClient=e,this._sanitizer=r,this._errorHandler=o,this._document=i}addSvgIcon(e,r,i){return this.addSvgIconInNamespace("",e,r,i)}addSvgIconLiteral(e,r,i){return this.addSvgIconLiteralInNamespace("",e,r,i)}addSvgIconInNamespace(e,r,i,o){return this._addSvgIconConfig(e,r,new Rr(i,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,r,i,o){let s=this._sanitizer.sanitize(mt.HTML,i);if(!s)throw xS(i);let a=rl(s);return this._addSvgIconConfig(e,r,new Rr("",a,o))}addSvgIconSet(e,r){return this.addSvgIconSetInNamespace("",e,r)}addSvgIconSetLiteral(e,r){return this.addSvgIconSetLiteralInNamespace("",e,r)}addSvgIconSetInNamespace(e,r,i){return this._addSvgIconSetConfig(e,new Rr(r,null,i))}addSvgIconSetLiteralInNamespace(e,r,i){let o=this._sanitizer.sanitize(mt.HTML,r);if(!o)throw xS(r);let s=rl(o);return this._addSvgIconSetConfig(e,new Rr("",s,i))}registerFontClassAlias(e,r=e){return this._fontCssClassesByAlias.set(e,r),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){let r=this._sanitizer.sanitize(mt.RESOURCE_URL,e);if(!r)throw TS(e);let i=this._cachedIconsByUrl.get(r);return i?z(Rd(i)):this._loadSvgIconFromConfig(new Rr(e,null)).pipe(Pe(o=>this._cachedIconsByUrl.set(r,o)),W(o=>Rd(o)))}getNamedSvgIcon(e,r=""){let i=MS(r,e),o=this._svgIconConfigs.get(i);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(r,e),o)return this._svgIconConfigs.set(i,o),this._getSvgFromConfig(o);let s=this._iconSetConfigs.get(r);return s?this._getSvgFromIconSetConfigs(e,s):Vr(IS(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?z(Rd(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(W(r=>Rd(r)))}_getSvgFromIconSetConfigs(e,r){let i=this._extractIconWithNameFromAnySet(e,r);if(i)return z(i);let o=r.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(Fn(a=>{let d=`Loading icon set URL: ${this._sanitizer.sanitize(mt.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(d)),z(null)})));return As(o).pipe(W(()=>{let s=this._extractIconWithNameFromAnySet(e,r);if(!s)throw IS(e);return s}))}_extractIconWithNameFromAnySet(e,r){for(let i=r.length-1;i>=0;i--){let o=r[i];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){let s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,e,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Pe(r=>e.svgText=r),W(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?z(null):this._fetchIcon(e).pipe(Pe(r=>e.svgText=r))}_extractSvgIconFromSet(e,r,i){let o=e.querySelector(`[id="${r}"]`);if(!o)return null;let s=o.cloneNode(!0);if(s.removeAttribute("id"),s.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(s,i);if(s.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(s),i);let a=this._svgElementFromString(rl("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,i)}_svgElementFromString(e){let r=this._document.createElement("DIV");r.innerHTML=e;let i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(e){let r=this._svgElementFromString(rl("<svg></svg>")),i=e.attributes;for(let o=0;o<i.length;o++){let{name:s,value:a}=i[o];s!=="id"&&r.setAttribute(s,a)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&r.appendChild(e.childNodes[o].cloneNode(!0));return r}_setSvgAttributes(e,r){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),r&&r.viewBox&&e.setAttribute("viewBox",r.viewBox),e}_fetchIcon(e){let{url:r,options:i}=e,o=i?.withCredentials??!1;if(!this._httpClient)throw aL();if(r==null)throw Error(`Cannot fetch icon from URL "${r}".`);let s=this._sanitizer.sanitize(mt.RESOURCE_URL,r);if(!s)throw TS(r);let a=this._inProgressUrlFetches.get(s);if(a)return a;let l=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(W(d=>rl(d)),or(()=>this._inProgressUrlFetches.delete(s)),Of());return this._inProgressUrlFetches.set(s,l),l}_addSvgIconConfig(e,r,i){return this._svgIconConfigs.set(MS(e,r),i),this}_addSvgIconSetConfig(e,r){let i=this._iconSetConfigs.get(e);return i?i.push(r):this._iconSetConfigs.set(e,[r]),this}_svgElementFromConfig(e){if(!e.svgElement){let r=this._svgElementFromString(e.svgText);this._setSvgAttributes(r,e.options),e.svgElement=r}return e.svgElement}_getIconConfigFromResolvers(e,r){for(let i=0;i<this._resolvers.length;i++){let o=this._resolvers[i](r,e);if(o)return cL(o)?new Rr(o.url,null,o.options):new Rr(o,null)}}static \u0275fac=function(r){return new(r||n)(P(dm,8),P(_m),P(Fe,8),P(Nt))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Rd(n){return n.cloneNode(!0)}function MS(n,t){return n+":"+t}function cL(n){return!!(n.url&&n.options)}var uL=new V("MAT_ICON_DEFAULT_OPTIONS"),dL=new V("mat-icon-location",{providedIn:"root",factory:fL});function fL(){let n=I(Fe),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}var AS=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],hL=AS.map(n=>`[${n}]`).join(", "),pL=/^url\(['"]?#(.*?)['"]?\)$/,Pd=(()=>{class n{_elementRef=I(Ye);_iconRegistry=I(lL);_location=I(dL);_errorHandler=I(Nt);_defaultColor;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(e){let r=this._cleanupFontValue(e);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(e){let r=this._cleanupFontValue(e);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=Te.EMPTY;constructor(){let e=I(new pc("aria-hidden"),{optional:!0}),r=I(uL,{optional:!0});r&&(r.color&&(this.color=this._defaultColor=r.color),r.fontSet&&(this.fontSet=r.fontSet)),e||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];let r=e.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let e=this._elementsWithExternalReferences;if(e&&e.size){let r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();let r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){let e=this._elementRef.nativeElement,r=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){let i=e.childNodes[r];(i.nodeType!==1||i.nodeName.toLowerCase()==="svg")&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let e=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>e.classList.remove(i)),r.forEach(i=>e.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return typeof e=="string"?e.trim().split(" ")[0]:e}_prependPathToReferences(e){let r=this._elementsWithExternalReferences;r&&r.forEach((i,o)=>{i.forEach(s=>{o.setAttribute(s.name,`url('${e}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(e){let r=e.querySelectorAll(hL),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<r.length;o++)AS.forEach(s=>{let a=r[o],l=a.getAttribute(s),d=l?l.match(pL):null;if(d){let h=i.get(a);h||(h=[],i.set(a,h)),h.push({name:s,value:d[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){let[r,i]=this._splitIconName(e);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(Bt(1)).subscribe(o=>this._setSvgElement(o),o=>{let s=`Error retrieving icon ${r}:${i}! ${o.message}`;this._errorHandler.handleError(new Error(s))})}}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=re({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(r,i){r&2&&($n("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),Jc(i.color?"mat-"+i.color:""),Gt("mat-icon-inline",i.inline)("mat-icon-no-color",i.color!=="primary"&&i.color!=="accent"&&i.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",xn],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[ji],ngContentSelectors:oL,decls:1,vars:0,template:function(r,i){r&1&&(Bp(),$p(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return n})(),Fd=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Je({type:n});static \u0275inj=Ze({imports:[ev,ev]})}return n})();function mL(n,t){if(n&1&&(u(0,"p",16),f(1),c()),n&2){let e=E().$implicit;m(),G(e.description)}}function gL(n,t){if(n&1&&(u(0,"div",8)(1,"div",9)(2,"a",10),_(3,"img",11),c(),u(4,"div",12)(5,"a",13)(6,"h5",14),f(7),c(),S(8,mL,2,1,"p",15),c()()()()),n&2){let e=t.$implicit;m(2),y("href",e.url,Bn),m(),y("src",e.thumbnail,Bn),m(2),y("href",e.url,Bn),m(),Hp("title",e.title),m(),G(e.title),m(),y("ngIf",e.description)}}var Ld=class n{cdr=I(ce);supabaseService=I(le);username="";videos=[];async ngOnInit(){this.loadActiveVideos();let{data:t}=await this.supabaseService.getProfile();this.username=t.firstname}async loadActiveVideos(){try{let t=await this.supabaseService.loadActiveMeditationVideos();this.videos=t.map(e=>{let r=this.extractVideoId(e.url);return r?{url:e.url,id:r,title:e.title??"",description:e.description??"",thumbnail:`https://img.youtube.com/vi/${r}/hqdefault.jpg`}:null}).filter(e=>e!==null),this.cdr.markForCheck()}catch(t){console.error("Failed to load active meditation videos:",t)}}fetchVideoTitles(){this.videos.forEach(t=>{fetch(`https://www.youtube.com/oembed?url=${encodeURIComponent(`https://www.youtube.com/watch?v=${t.id}`)}&format=json`).then(e=>e.json()).then(e=>{t.title=e.title,this.cdr.markForCheck()}).catch(()=>{t.title="Unknown Title",this.cdr.markForCheck()})})}extractVideoId(t){let e=t.match(/(?:youtube\.com\/(?:.*v=|.*\/|.*embed\/)|youtu\.be\/)([a-zA-Z0-9_-]{11})/);return e?e[1]:null}formatDuration(t){let e=Math.floor(t/60),r=t%60;return`${e}:${r<10?"0"+r:r}`}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=re({type:n,selectors:[["app-meditation-hub"]],decls:20,vars:2,consts:[[1,"container-fluid","mt-4","ps-3"],[1,""],[1,"row","p-5"],[1,"col-md-6","pt-5"],[1,"col-md-6","p-5","align-contents-center","justify-content-center"],["align","center"],[1,"row"],["class","col-sm-6 col-md-4 col-lg-2 mb-4",4,"ngFor","ngForOf"],[1,"col-sm-6","col-md-4","col-lg-2","mb-4"],[1,"card","h-100","shadow-sm"],["target","_blank",3,"href"],["alt","Video thumbnail",1,"card-img-top",3,"src"],[1,"card-body","d-flex","flex-column"],["target","_blank",2,"all","unset",3,"href"],[1,"card-title","text-truncate",3,"title"],["class","card-text mt-auto",4,"ngIf"],[1,"card-text","mt-auto"]],template:function(e,r){e&1&&(u(0,"div",0)(1,"div",1)(2,"h3"),f(3),c()(),u(4,"div",2)(5,"div",3)(6,"mat-icon"),f(7,"self_improvement"),c(),u(8,"h3"),f(9,"Trading Mindfulness"),c(),u(10,"article"),f(11," This 15-minute guided meditation helps you develop emotional awareness and mental clarity for better trading decisions. "),c()(),u(12,"div",4)(13,"h3",5),f(14,"Meditation Timer"),c(),_(15,"app-timer-clock"),c()(),u(16,"h2"),f(17,"Meditation Videos"),c(),u(18,"div",6),S(19,gL,9,6,"div",7),c()()),e&2&&(m(3),U(" Welcome to Meditation Center, ",r.username," "),m(16),y("ngForOf",r.videos))},dependencies:[ge,qe,ye,kd,Fd,Pd],styles:[".player-container[_ngcontent-%COMP%]{width:100%;height:0;padding-bottom:56.25%;position:relative}.player-container[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}"]})};var Vd=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=re({type:n,selectors:[["app-analytics"]],decls:2,vars:0,consts:[[1,"position-absolute","top-50","start-50","translate-middle"]],template:function(e,r){e&1&&(u(0,"h1",0),f(1,"Analytics Coming soon"),c())},encapsulation:2})};function vL(n,t){if(n&1&&(u(0,"div",14),f(1),c()),n&2){let e=E();m(),G(e.actionSuccess)}}function yL(n,t){if(n&1&&(u(0,"div",15),f(1),c()),n&2){let e=E();m(),G(e.actionError)}}function _L(n,t){if(n&1){let e=H();u(0,"li",16)(1,"div",17)(2,"i",18),D("click",function(){let i=x(e).$implicit,o=E();return M(o.onRowClick(i))}),c(),u(3,"div",19),D("click",function(){let i=x(e).$implicit,o=E();return M(o.onRowClick(i))}),u(4,"h5",20),f(5),c(),u(6,"span",21)(7,"span",22),f(8),c(),f(9," | "),u(10,"span",22),f(11),c(),f(12," | "),u(13,"span",22),f(14),Wt(15,"date"),c()()(),u(16,"div",23),D("click",function(){let i=x(e).$implicit,o=E();return M(o.deleteAccount(i.account_id))}),_(17,"i",24),c()()()}if(n&2){let e=t.$implicit;m(5),G(e.account_name),m(3),U("Broker: ",e.broker_name,""),m(3),Bi("Balance: ",e.balance," ",e.currency,""),m(3),U("Created At: ",Qt(15,5,e.created_at,"y, MMMM, d h:mm a"),"")}}function bL(n,t){if(n&1&&(u(0,"div",15),f(1),c()),n&2){let e=E(2);m(),G(e.formError)}}function wL(n,t){if(n&1){let e=H();u(0,"div",25),D("click",function(i){x(e);let o=E();return M(o.closeFormOnOutside(i))})("keydown.escape",function(){x(e);let i=E();return M(i.toggleForm())}),u(1,"div",26),D("click",function(i){return x(e),M(i.stopPropagation())}),u(2,"nav",27)(3,"ol",28)(4,"li",3)(5,"a",4),f(6,"Dashboard"),c()(),u(7,"li",3)(8,"a",29),D("click",function(i){x(e);let o=E();return M(o.closeFormOnOutside(i))}),f(9,"Trading Accounts"),c()(),u(10,"li",5),f(11,"Create Manual Account"),c()()(),u(12,"h4",30),f(13,"Create Manual Account"),c(),u(14,"p",31),f(15,"Set up a manual trading account to track your trades"),c(),u(16,"form",32),D("ngSubmit",function(){x(e);let i=E();return M(i.submitForm())}),u(17,"div",33)(18,"label",34),f(19,"Account Name"),c(),_(20,"input",35),c(),u(21,"div",33)(22,"label",34),f(23,"Broker Name"),c(),_(24,"input",36),c(),u(25,"div",33)(26,"label",34),f(27,"Account Type"),c(),_(28,"input",37),c(),u(29,"div",33)(30,"label",34),f(31,"Currency"),c(),_(32,"input",38),c(),u(33,"div",33)(34,"label",34),f(35,"Initial Balance"),c(),_(36,"input",39),c(),u(37,"div",33)(38,"label",34),f(39,"Account Notes (Optional)"),c(),_(40,"textarea",40),c(),u(41,"h5",8),f(42,"Trading Preferences"),c(),u(43,"div",41),_(44,"input",42),u(45,"label",43),f(46,"Track P&L"),c(),u(47,"small",44),f(48,"Enable profit and loss tracking for this account"),c()(),u(49,"div",41),_(50,"input",45),u(51,"label",46),f(52,"Include in Analytics"),c(),u(53,"small",44),f(54,"Include this account in overall performance metrics"),c()(),S(55,bL,2,1,"div",10),u(56,"div",47)(57,"button",48),D("click",function(){x(e);let i=E();return M(i.toggleForm())}),f(58,"Cancel"),c(),u(59,"button",49),f(60,"Create Account"),c()()()()()}if(n&2){let e=E();m(16),y("formGroup",e.tradeAccountForm),m(39),y("ngIf",e.formError)}}function EL(n,t){if(n&1){let e=H();u(0,"div",25),D("click",function(){x(e);let i=E();return M(i.cancelDelete())})("keydown.escape",function(){x(e);let i=E();return M(i.cancelDelete())}),u(1,"div",26),D("click",function(i){return x(e),M(i.stopPropagation())}),u(2,"h5",33),f(3,"Confirm Deletion"),c(),u(4,"p"),f(5,"Are you sure you want to delete this trading account and all its associated data?"),c(),u(6,"div",47)(7,"button",50),D("click",function(){x(e);let i=E();return M(i.cancelDelete())}),f(8,"Cancel"),c(),u(9,"button",7),D("click",function(){x(e);let i=E();return M(i.confirmDelete())}),f(10,"Delete"),c()()()()}}var jd=class n{constructor(t,e,r){this.fb=t;this.supabaseService=e;this.cdr=r;this.tradeAccountForm=this.fb.group({account_name:["",R.required],broker_name:[""],account_type:[""],currency:["USD"],balance:[0,R.min(0)],track_pl:[!1],include_in_analytics:[!1]})}tradeAccounts=[];showForm=!1;tradeAccountForm;formError=null;actionError=null;actionSuccess=null;selectedAccountId=null;showDeleteConfirm=!1;pendingDeleteAccountId=null;ngOnInit(){this.loadAccounts()}async loadAccounts(){try{this.tradeAccounts=await this.supabaseService.getUserTradeAccounts()}catch{this.actionError="Failed to load accounts. Please try again."}finally{this.cdr.markForCheck()}}async onRowClick(t){this.selectedAccountId=t.account_id,this.tradeAccountForm.patchValue({account_name:t.account_name,broker_name:t.broker_name,account_type:t.account_type,currency:t.currency,balance:t.balance,track_pl:t.metadata?.track_pl||!1,include_in_analytics:t.metadata?.include_in_analytics||!1}),this.showForm=!0}toggleForm(){this.showForm=!this.showForm,this.formError=null,this.actionSuccess=null,this.actionError=null,this.selectedAccountId=null,this.showForm||this.tradeAccountForm.reset({currency:"USD",balance:0})}async submitForm(){if(this.formError="",this.tradeAccountForm.valid){let t=this.tradeAccountForm.value;this.selectedAccountId?await this.supabaseService.editTradeAccount(this.selectedAccountId,t)?(this.actionSuccess="Account updated successfully",this.loadAccounts(),this.toggleForm()):this.formError="Failed to update account":await this.supabaseService.addTradeAccount(t)?(this.actionSuccess="Account added successfully",this.loadAccounts(),this.toggleForm()):this.formError="Failed to add account"}this.cdr.markForCheck()}async deleteAccount(t){this.showDeleteConfirm=!0,this.pendingDeleteAccountId=t}confirmDelete(){this.pendingDeleteAccountId&&this.performAccountDeletion(this.pendingDeleteAccountId),this.showDeleteConfirm=!1,this.pendingDeleteAccountId=null}cancelDelete(){this.showDeleteConfirm=!1,this.pendingDeleteAccountId=null}async performAccountDeletion(t){this.actionError=null,this.actionSuccess=null;try{await this.supabaseService.RemoveTradeAccount(t)?(this.loadAccounts(),this.actionSuccess="Account deleted successfully."):this.actionError="Failed to delete account."}catch{this.actionError="An unexpected error occurred while deleting."}finally{this.cdr.markForCheck(),setTimeout(()=>{this.actionSuccess="",this.cdr.markForCheck()},5e3)}}handleEscape(t){this.showForm&&this.toggleForm()}closeFormOnOutside(t){t.target===t.currentTarget&&this.toggleForm()}static \u0275fac=function(e){return new(e||n)(T(yn),T(le),T(ce))};static \u0275cmp=re({type:n,selectors:[["app-tradeaccountmanage"]],hostBindings:function(e,r){e&1&&D("keydown.escape",function(o){return r.handleEscape(o)},!1,Q_)},decls:23,vars:5,consts:[[1,"container","mt-4"],["aria-label","breadcrumb",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/home",1,"text-decoration-none"],["aria-current","page",1,"breadcrumb-item","active"],[1,"d-flex","justify-content-between","align-items-center","mt-4"],[1,"btn","btn-tr",3,"click"],[1,"mt-4"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"list-group"],["class","list-group-item bg-transparent",4,"ngFor","ngForOf"],["class","overlay","tabindex","0",3,"click","keydown.escape",4,"ngIf"],[1,"alert","alert-success"],[1,"alert","alert-danger"],[1,"list-group-item","bg-transparent"],[1,"d-flex","align-items-center"],[1,"logo-circle","bi","bi-star-fill","text-primary",2,"font-size","2rem",3,"click"],[1,"ms-3",3,"click"],[1,"mt-2"],[1,"d-block","row","text-muted"],[1,"col-4"],["title","Delete Account",1,"delete-button","justify-content-end",3,"click"],[1,"bi","bi-trash"],["tabindex","0",1,"overlay",3,"click","keydown.escape"],[1,"modal-card",3,"click"],["aria-label","breadcrumb"],[1,"breadcrumb","small"],[3,"click"],[1,"mb-1"],[1,"text-muted","mb-3"],[3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"form-label"],["type","text","formControlName","account_name","placeholder","e.g., My Futures Account",1,"form-control"],["type","text","formControlName","broker_name","placeholder","e.g., NinjaTrader, TastyWorks",1,"form-control"],["type","text","formControlName","account_type","placeholder","e.g., Margin, Cash",1,"form-control"],["type","text","formControlName","currency","placeholder","USD",1,"form-control"],["type","number","formControlName","balance",1,"form-control"],["rows","3","placeholder","Add any additional information about this account","disabled","",1,"form-control"],[1,"form-check","form-switch","mb-2"],["type","checkbox","formControlName","track_pl","id","track_pl",1,"form-check-input"],["for","track_pl",1,"form-check-label"],[1,"text-muted","d-block","ms-4"],["type","checkbox","formControlName","include_in_analytics","id","include_in_analytics",1,"form-check-input"],["for","include_in_analytics",1,"form-check-label"],[1,"d-flex","justify-content-end","gap-2","mt-3"],["type","button",1,"btn","btn-tr-secondary",3,"click"],["type","submit",1,"btn","btn-tr"],[1,"btn","btn-tr-secondary",3,"click"]],template:function(e,r){e&1&&(u(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),f(5,"Dashboard"),c()(),u(6,"li",5),f(7,"Trading Accounts"),c()()(),u(8,"div",6)(9,"h3"),f(10,"Your Trade Accounts"),c(),u(11,"button",7),D("click",function(){return r.toggleForm()}),f(12,"Add Account"),c()(),u(13,"div",8)(14,"h5"),f(15,"Manage your trading accounts"),c()(),S(16,vL,2,1,"div",9)(17,yL,2,1,"div",10),u(18,"div",0)(19,"ul",11),S(20,_L,18,8,"li",12),c()(),S(21,wL,61,2,"div",13)(22,EL,11,0,"div",13),c()),e&2&&(m(16),y("ngIf",r.actionSuccess),m(),y("ngIf",r.actionError),m(3),y("ngForOf",r.tradeAccounts),m(),y("ngIf",r.showForm),m(),y("ngIf",r.showDeleteConfirm))},dependencies:[Lt,vn,We,Nr,kr,nt,gn,Ft,en,ge,qe,ye,hn,ze],styles:[".modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;z-index:1050}.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1050}.modal-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:2rem;width:100%;max-width:600px;max-height:90dvh;overflow-y:auto;box-shadow:0 10px 25px #00000026}.list-group-item[_ngcontent-%COMP%]{cursor:pointer}.delete-button[_ngcontent-%COMP%]{color:red;display:none;margin-left:auto}.list-group-item[_ngcontent-%COMP%]:hover   .delete-button[_ngcontent-%COMP%]{color:red;display:block}"]})};function CL(n,t){if(n&1&&_(0,"img",35),n&2){let e=E();y("src",e.currentImageUrl,Bn)}}function SL(n,t){if(n&1&&_(0,"img",36),n&2){let e=E();y("src",e.previewUrl,Bn)}}function DL(n,t){n&1&&(u(0,"div",14),f(1,"No new image selected"),c())}function IL(n,t){if(n&1&&(u(0,"div",23)(1,"div",37),f(2),c()()),n&2){let e=E();m(2),G(e.errorMessage)}}function TL(n,t){if(n&1&&(u(0,"button",38),f(1," Save Changes "),c()),n&2){let e=E();y("disabled",e.profileForm.invalid)}}var Ud=class n{constructor(t,e,r){this.fb=t;this.supabaseService=e;this.cdr=r;this.profileForm=this.fb.group({firstname:["",R.required],lastname:[""],email:["",[R.required,R.email]],phone:[""]})}profileForm;currentImageUrl=null;previewUrl=null;selectedFile=null;userId="";originalFormValue;formChanged=!1;errorMessage="";async ngOnInit(){await this.loadProfile(),this.trackFormChanges()}async loadProfile(){try{let{data:t,error:e}=await this.supabaseService.getProfile();if(e){this.errorMessage="Failed to load profile: "+e.message,console.error("Supabase profile load error:",e);return}t?(this.profileForm.patchValue({firstname:t.firstname,lastname:t.lastname,email:t.email,phone:t.phone}),this.originalFormValue=this.profileForm.getRawValue(),t.profile_picture_url?(this.currentImageUrl=await this.supabaseService.getCachedProfilePictureBlobUrl(t.profile_picture_url),this.previewUrl=this.currentImageUrl):(this.currentImageUrl=null,this.previewUrl=null)):(this.errorMessage="No profile data found. Please complete your profile.",console.warn("No profile data received from Supabase."))}catch(t){this.errorMessage="An unexpected error occurred while loading profile.",console.error("Error in loadProfile:",t)}finally{this.cdr.markForCheck()}}async removeProfilePicture(){try{this.errorMessage="",await this.supabaseService.deleteProfilePicture(),this.supabaseService.clearCachedProfilePictureBlobUrl(),await this.supabaseService.updateProfile({profile_picture_url:null}),this.currentImageUrl=null,this.previewUrl=null,this.selectedFile=null,this.formChanged=!0}catch(t){this.errorMessage="Failed to remove profile picture: "+(t.message||t.toString()),console.error("Error removing profile picture:",t)}finally{this.cdr.markForCheck()}}trackFormChanges(){this.profileForm.valueChanges.subscribe(()=>{this.formChanged=this.profileForm.dirty||!!this.selectedFile,this.cdr.markForCheck()})}onFileChange(t){this.errorMessage="";let e=t.target,r=e?.files?.[0];if(!r){this.selectedFile=null;return}if(!["image/jpeg","image/png","image/webp"].includes(r.type)){this.errorMessage="Only JPG, PNG, or WEBP images are allowed.",this.selectedFile=null,e.value="";return}if(r.size>1024*1024){this.errorMessage="File size must be less than 1MB.",this.selectedFile=null,e.value="";return}this.selectedFile=r,this.previewUrl&&URL.revokeObjectURL(this.previewUrl),this.previewUrl=URL.createObjectURL(r),this.formChanged=!0,this.cdr.markForCheck()}async saveChanges(){if(this.errorMessage="",!this.formChanged){this.errorMessage="No changes detected.";return}if(this.profileForm.invalid){this.errorMessage="Please correct the highlighted form errors.",this.profileForm.markAllAsTouched(),this.cdr.markForCheck();return}let t=this.originalFormValue.profile_picture_url??null;if(this.selectedFile)try{if(t=await this.supabaseService.uploadProfilePicture(this.selectedFile),!t){this.errorMessage="Failed to upload profile picture. Please try again.",console.error("Supabase uploadProfilePicture returned null filePath");return}}catch(i){this.errorMessage="Error uploading profile picture: "+(i.message||i.toString()),console.error("Error during profile picture upload:",i);return}let e=this.profileForm.getRawValue(),r={firstname:e.firstname,lastname:e.lastname,email:e.email,phone:e.phone,profile_picture_url:t,updated_at:new Date().toISOString(),preferences:{},metadata:{}};try{await this.supabaseService.updateProfile(r),t&&(this.supabaseService.clearCachedProfilePictureBlobUrl(),this.currentImageUrl=await this.supabaseService.getCachedProfilePictureBlobUrl(t),this.previewUrl=this.currentImageUrl),this.formChanged=!1,this.selectedFile=null,this.originalFormValue=this.profileForm.getRawValue(),this.errorMessage=""}catch(i){this.errorMessage="Failed to save changes: "+(i.message||i.toString()),console.error("Error during profile update:",i)}finally{this.cdr.markForCheck()}}static \u0275fac=function(e){return new(e||n)(T(yn),T(le),T(ce))};static \u0275cmp=re({type:n,selectors:[["app-user-account-settings"]],decls:58,vars:6,consts:[[1,"container","mb-5"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/home"],["aria-current","page",1,"breadcrumb-item","active"],[1,"mb-2"],[1,"text-muted","mb-4"],[1,"row","g-3","mb-4"],[1,""],[1,"card","border-0","shadow-sm","p-3","h-100"],[1,"d-flex","align-items-center","mb-2"],["alt","Profile","class","rounded-circle me-2","style","width: 40px; height: 40px; object-fit: cover;",3,"src",4,"ngIf"],[1,"mb-0"],[1,"text-muted"],[1,"row","g-4",3,"ngSubmit","formGroup"],[1,"fw-bold"],[1,"col-md-6"],[1,"form-label"],["formControlName","firstname","placeholder","First name",1,"form-control"],["formControlName","lastname","placeholder","Last name",1,"form-control"],["formControlName","email","placeholder","Email","type","email",1,"form-control"],["formControlName","phone","placeholder","+1 (123) 456-7890",1,"form-control"],[1,"col-12"],[1,"fw-bold","mt-3"],[1,"card","p-3","shadow-sm","border-light","bg-light-subtle"],[1,"form-label","d-block"],["alt","Preview","class","img-thumbnail","style","width: 120px;",3,"src",4,"ngIf"],["class","text-muted",4,"ngIf"],["type","file",1,"form-control","mt-2",3,"change"],[1,"mt-2","d-flex","gap-2"],["type","button",1,"btn","btn-outline-secondary","btn-sm",3,"click"],["class","col-12",4,"ngIf"],[1,"col-12","text-end"],["type","submit","class","btn btn-tr",3,"disabled",4,"ngIf"],["alt","Profile",1,"rounded-circle","me-2",2,"width","40px","height","40px","object-fit","cover",3,"src"],["alt","Preview",1,"img-thumbnail",2,"width","120px",3,"src"],[1,"alert","alert-danger"],["type","submit",1,"btn","btn-tr",3,"disabled"]],template:function(e,r){e&1&&(u(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),f(5,"Dashboard"),c()(),u(6,"li",5),f(7,"Account Settings"),c()()(),u(8,"h2",6),f(9,"Account Settings"),c(),u(10,"p",7),f(11,"Manage your profile, subscription, and preferences"),c(),u(12,"div",8)(13,"div",9)(14,"div",10)(15,"div",11),S(16,CL,1,1,"img",12),u(17,"h5",13),f(18,"Profile Information"),c()(),u(19,"small",14),f(20,"Update your personal details and public profile"),c()()()(),u(21,"form",15),D("ngSubmit",function(){return r.saveChanges()}),u(22,"h5",16),f(23,"Personal Information"),c(),u(24,"div",17)(25,"label",18),f(26,"First Name"),c(),_(27,"input",19),c(),u(28,"div",17)(29,"label",18),f(30,"Last Name"),c(),_(31,"input",20),c(),u(32,"div",17)(33,"label",18),f(34,"Email Address"),c(),_(35,"input",21),c(),u(36,"div",17)(37,"label",18),f(38,"Phone"),c(),_(39,"input",22),c(),u(40,"div",23)(41,"h6",24),f(42,"Profile Picture"),c(),u(43,"div",25)(44,"div",6)(45,"label",26),f(46,"Preview New Photo"),c(),S(47,SL,1,1,"img",27)(48,DL,2,0,"div",28),c(),u(49,"input",29),D("change",function(o){return r.onFileChange(o)}),c(),u(50,"small",14),f(51,"JPG, PNG or GIF. Max 1MB."),c(),u(52,"div",30)(53,"button",31),D("click",function(){return r.removeProfilePicture()}),f(54,"Remove"),c()()()(),S(55,IL,3,1,"div",32),u(56,"div",33),S(57,TL,2,1,"button",34),c()()()),e&2&&(m(16),y("ngIf",r.currentImageUrl),m(5),y("formGroup",r.profileForm),m(26),y("ngIf",r.previewUrl),m(),y("ngIf",!r.previewUrl),m(7),y("ngIf",r.errorMessage),m(2),y("ngIf",r.formChanged))},dependencies:[Lt,vn,We,nt,gn,Ft,en,ge,ye,ze],encapsulation:2})};var xL=(n,t)=>({"alert-success":n,"alert-danger":t});function ML(n,t){if(n&1&&(u(0,"div",7),f(1),c()),n&2){let e=E();y("ngClass",qn(2,xL,e.messageType==="success",e.messageType==="error")),m(),U(" ",e.message," ")}}function AL(n,t){if(n&1){let e=H();u(0,"tr")(1,"td")(2,"input",8),Be("ngModelChange",function(i){let o=x(e).$implicit;return $e(o.title,i)||(o.title=i),M(i)}),D("ngModelChange",function(){let i=x(e).$implicit,o=E();return M(o.onFieldChange(i))}),c()(),u(3,"td")(4,"input",8),Be("ngModelChange",function(i){let o=x(e).$implicit;return $e(o.url,i)||(o.url=i),M(i)}),D("ngModelChange",function(){let i=x(e).$implicit,o=E();return M(o.onFieldChange(i))}),c()(),u(5,"td")(6,"input",8),Be("ngModelChange",function(i){let o=x(e).$implicit;return $e(o.category,i)||(o.category=i),M(i)}),D("ngModelChange",function(){let i=x(e).$implicit,o=E();return M(o.onFieldChange(i))}),c()(),u(7,"td")(8,"textarea",8),Be("ngModelChange",function(i){let o=x(e).$implicit;return $e(o.description,i)||(o.description=i),M(i)}),D("ngModelChange",function(){let i=x(e).$implicit,o=E();return M(o.onFieldChange(i))}),c()(),u(9,"td")(10,"input",9),Be("ngModelChange",function(i){let o=x(e).$implicit;return $e(o.isactive,i)||(o.isactive=i),M(i)}),D("change",function(){let i=x(e).$implicit,o=E();return M(o.onFieldChange(i))}),c()(),u(11,"td"),f(12),Wt(13,"date"),c()()}if(n&2){let e=t.$implicit;m(2),Ue("ngModel",e.title),m(2),Ue("ngModel",e.url),m(2),Ue("ngModel",e.category),m(2),Ue("ngModel",e.description),m(2),Ue("ngModel",e.isactive),m(2),G(Qt(13,6,e.updated_time,"short"))}}var Bd=class n{constructor(t,e){this.cdr=t;this.supabaseService=e}videos=[];message="";messageType="success";async ngOnInit(){let t=await this.supabaseService.adminLoadMeditationVideos();this.videos=t.map(e=>q(N({},e),{isModified:!1})),this.cdr.markForCheck()}onFieldChange(t){t.isModified=!0}addVideo(){this.videos.push({title:"",url:"",category:"",description:"",isactive:!0,isModified:!0}),this.cdr.detectChanges()}async saveChanges(){let t=this.videos.filter(e=>e.isModified);for(let e of t){if(e.id){e.updated_time=new Date().toISOString();let{error:r}=await this.supabaseService.updateMeditationVideo(e);if(r)return this.showMessage("Error saving some videos","error")}else{let{error:r}=await this.supabaseService.addMeditationVideo(e);if(r)return this.showMessage("Error adding new video","error")}e.isModified=!1}this.showMessage("Videos saved successfully","success"),this.cdr.detectChanges()}hasChanges(){return this.videos.some(t=>t.isModified)}showMessage(t,e){this.message=t,this.messageType=e,this.cdr.markForCheck(),setTimeout(()=>{this.message="",this.cdr.markForCheck()},4e3)}static \u0275fac=function(e){return new(e||n)(T(ce),T(le))};static \u0275cmp=re({type:n,selectors:[["app-admin-meditation-dashboard"]],decls:26,vars:3,consts:[[1,"container","mt-4","p-4"],["class","alert",3,"ngClass",4,"ngIf"],[1,"table","mt-4"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","mt-3"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-success",3,"click","disabled"],[1,"alert",3,"ngClass"],["type","text",1,"form-control",3,"ngModelChange","ngModel"],["type","checkbox",1,"form-check-input",3,"ngModelChange","change","ngModel"]],template:function(e,r){e&1&&(u(0,"div",0),S(1,ML,2,5,"div",1),u(2,"h2"),f(3,"Meditation Video Admin Dashboard"),c(),u(4,"table",2)(5,"thead")(6,"tr")(7,"th"),f(8,"Title"),c(),u(9,"th"),f(10,"URL"),c(),u(11,"th"),f(12,"Category"),c(),u(13,"th"),f(14,"Description"),c(),u(15,"th"),f(16,"Active"),c(),u(17,"th"),f(18,"Last Updated"),c()()(),u(19,"tbody"),S(20,AL,14,9,"tr",3),c()(),u(21,"div",4)(22,"button",5),D("click",function(){return r.addVideo()}),f(23,"Add Video"),c(),u(24,"button",6),D("click",function(){return r.saveChanges()}),f(25,"Save Changes"),c()()()),e&2&&(m(),y("ngIf",r.message),m(19),y("ngForOf",r.videos),m(4),y("disabled",!r.hasChanges()))},dependencies:[ge,fn,qe,ye,hn,fi,We,kr,nt,io],encapsulation:2})};var J=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(J||{}),Jn="*";function $d(n,t){return{type:J.Trigger,name:n,definitions:t,options:{}}}function Xn(n,t=null){return{type:J.Animate,styles:t,timings:n}}function NS(n,t=null){return{type:J.Sequence,steps:n,options:t}}function Vt(n){return{type:J.Style,styles:n,offset:null}}function pi(n,t,e){return{type:J.State,name:n,styles:t,options:e}}function er(n,t,e=null){return{type:J.Transition,expr:n,animation:t,options:e}}var hi=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(t=0,e=0){this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}},il=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(t){this.players=t;let e=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){let e=t*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(i)})}getPosition(){let t=this.players.reduce((e,r)=>e===null||r.totalTime>e.totalTime?r:e,null);return t!=null?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}},Hd="!";var qd=class n{constructor(t){this.supabase=t}async callEdgeFunction(t,e){let{data:r,error:i}=await this.supabase.GetClient().functions.invoke(t,{body:e});return{data:r,error:i}}static \u0275fac=function(e){return new(e||n)(P(le))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})};function NL(n,t){if(n&1&&(u(0,"div",16),_(1,"div",17),c()),n&2){let e=E(2);m(),Hn("width",e.progressBarWidth)}}function OL(n,t){if(n&1&&(ot(0),u(1,"i",25),f(2),c(),st()),n&2){let e=E(3);m(2),G(e.currentQuestion.question_data.question_icon)}}function RL(n,t){if(n&1&&(u(0,"h2"),f(1),c()),n&2){let e=E(3);m(),G(e.currentQuestion.question_data.question_title)}}function PL(n,t){if(n&1){let e=H();u(0,"div",26)(1,"input",27),Be("ngModelChange",function(i){x(e);let o=E(3);return $e(o.currentQuestion.answer,i)||(o.currentQuestion.answer=i),M(i)}),D("input",function(i){x(e);let o=E(3);return M(o.onAnswerChange(i))}),c()()}if(n&2){let e=E(3);m(),Ue("ngModel",e.currentQuestion.answer),y("placeholder",e.currentQuestion.question_data.placeholder||"Your answer here...")}}function FL(n,t){if(n&1){let e=H();u(0,"div",30)(1,"input",31),Be("ngModelChange",function(i){x(e);let o=E(4);return $e(o.currentQuestion.answer,i)||(o.currentQuestion.answer=i),M(i)}),D("change",function(i){x(e);let o=E(4);return M(o.onAnswerChange(i))}),c(),u(2,"label",32),f(3),c()()}if(n&2){let e=t.$implicit,r=E(4);m(),y("id",r.currentQuestion.question_id+"-"+e)("name",r.currentQuestion.question_id)("value",e),Ue("ngModel",r.currentQuestion.answer),m(),y("for",r.currentQuestion.question_id+"-"+e),m(),G(e)}}function LL(n,t){if(n&1&&(u(0,"div",28),S(1,FL,4,6,"div",29),c()),n&2){let e=E(3);m(),y("ngForOf",e.currentQuestion.question_data.choices)}}function VL(n,t){if(n&1){let e=H();u(0,"div",35)(1,"input",36),D("change",function(i){let o=x(e).$implicit,s=E(4);return M(s.onMultipleAnswerChange(o,i))}),c(),u(2,"label",32),f(3),c()()}if(n&2){let e=t.$implicit,r=E(4);m(),y("id",r.currentQuestion.question_id+"-"+e)("value",e)("checked",r.currentQuestion.multipleAnswers==null?null:r.currentQuestion.multipleAnswers.includes(e)),m(),y("for",r.currentQuestion.question_id+"-"+e),m(),G(e)}}function jL(n,t){if(n&1&&(u(0,"div",33),S(1,VL,4,5,"div",34),c()),n&2){let e=E(3);m(),y("ngForOf",e.currentQuestion.question_data.choices)}}function UL(n,t){if(n&1&&(ot(0),u(1,"div",18),S(2,OL,3,1,"ng-container",10)(3,RL,2,1,"h2",10),c(),u(4,"p",19),f(5),c(),u(6,"div",20),ot(7,21),S(8,PL,2,2,"div",22)(9,LL,2,1,"div",23)(10,jL,2,1,"div",24),st(),c(),st()),n&2){let e=E(2);m(2),y("ngIf",e.currentQuestion.question_data.question_icon),m(),y("ngIf",e.currentQuestion.question_data.question_title),m(2),G(e.currentQuestion.question_data.question),m(2),y("ngSwitch",e.currentQuestion.question_data.question_type),m(),y("ngSwitchCase","fill"),m(),y("ngSwitchCase","select-one"),m(),y("ngSwitchCase","multiple")}}function BL(n,t){if(n&1){let e=H();u(0,"button",37),D("click",function(){x(e);let i=E(2);return M(i.nextQuestion())}),f(1,"Next"),c()}}function $L(n,t){if(n&1){let e=H();u(0,"button",12),D("click",function(){x(e);let i=E(2);return M(i.submitAnswers())}),f(1),c()}if(n&2){let e=E(2);y("disabled",e.loading),m(),U(" ",e.loading?"Submitting...":"Submit"," ")}}function HL(n,t){if(n&1&&(u(0,"div",38),f(1),c()),n&2){let e=E(2);y("@messageAnimation",void 0),m(),U(" ",e.errorMessage," ")}}function qL(n,t){if(n&1){let e=H();ot(0),S(1,NL,2,2,"div",8),u(2,"div",9),S(3,UL,11,7,"ng-container",10),c(),u(4,"div",11)(5,"button",12),D("click",function(){x(e);let i=E();return M(i.previousQuestion())}),f(6,"Previous"),c(),S(7,BL,2,0,"button",13)(8,$L,2,2,"button",14),c(),S(9,HL,2,2,"div",15),st()}if(n&2){let e=E();m(),y("ngIf",!e.showCompleteScreen),m(),y("@questionAnimation",e.questionAnimationState),m(),y("ngIf",e.currentQuestion),m(2),y("disabled",e.currentQuestionIndex===0),m(2),y("ngIf",e.currentQuestionIndex<e.questions.length-1),m(),y("ngIf",e.currentQuestionIndex===e.questions.length-1),m(),y("ngIf",e.errorMessage)}}function zL(n,t){if(n&1&&(u(0,"div",51)(1,"div",52),f(2),c(),u(3,"div",53),_(4,"div",54),c(),u(5,"div",55),f(6),c()()),n&2){let e=t.$implicit;m(2),G(e.emotion),m(2),Hn("width",e.percentage),m(2),G(e.percentage)}}function GL(n,t){if(n&1&&(u(0,"div",48)(1,"div",44)(2,"mat-icon"),f(3),c(),u(4,"h4"),f(5),c()(),u(6,"p"),f(7),c()()),n&2){let e=t.$implicit;m(),Hn("color",e.color),m(2),G(e.icon),m(2),G(e.category),m(2),U("Focus on ",e.category," related improvements.")}}function WL(n,t){if(n&1&&(u(0,"li"),f(1),c()),n&2){let e=t.$implicit;m(),G(e)}}function QL(n,t){if(n&1&&(u(0,"div",42)(1,"div",43)(2,"div",44)(3,"mat-icon"),f(4,"lightbulb"),c(),u(5,"h4"),f(6,"Emotional State Summary"),c()(),u(7,"div",45),S(8,zL,7,4,"div",46),c()(),S(9,GL,8,5,"div",47),u(10,"div",48)(11,"div",49)(12,"mat-icon"),f(13,"lightbulb"),c(),u(14,"h4"),f(15,"Recommendations:"),c()(),u(16,"ul"),S(17,WL,2,1,"li",50),c()()()),n&2){let e=E(2);m(8),y("ngForOf",e.analysisResult.emotion),m(),y("ngForOf",e.analysisResult.behaviorPattern),m(8),y("ngForOf",e.analysisResult.recommendation)}}function KL(n,t){if(n&1&&(u(0,"div",39)(1,"div",40)(2,"mat-icon"),f(3,"check"),c()(),u(4,"h3"),f(5,"Check-in Complete!"),c(),u(6,"p"),f(7,"Here are your AI insights for today"),c(),S(8,QL,18,3,"div",41),c()),n&2){let e=E();y("@checkInCompleteAnimation",void 0),m(8),y("ngIf",e.analysisResult)}}var zd=class n{constructor(t,e,r){this.supabaseService=t;this.supabaseFunctionService=e;this.cdr=r}questions=[];currentQuestionIndex=0;currentQuestion;questionAnimationState="visible";showCompleteScreen=!1;analysisResult=null;loading=!1;errorMessage=null;userId="";async ngOnInit(){await this.loadQuestions()}get progressBarWidth(){return this.questions.length===0?"0%":`${this.currentQuestionIndex/this.questions.length*100}%`}shuffleArray(t){let e=[...t];for(let r=e.length-1;r>0;r--){let i=Math.floor(Math.random()*(r+1));[e[r],e[i]]=[e[i],e[r]]}return e}async loadQuestions(){try{this.questions=await this.supabaseService.loadQuestions(),this.questions=this.shuffleArray(this.questions).slice(0,5),this.questions.length>0&&(this.currentQuestion=this.questions[this.currentQuestionIndex])}catch(t){console.error("Error loading questions:",t),this.errorMessage="Failed to load questions. Please try again later."}}nextQuestion(){this.currentQuestionIndex<this.questions.length-1&&(this.questionAnimationState="hidden-left",setTimeout(()=>{this.currentQuestionIndex++,this.currentQuestion=this.questions[this.currentQuestionIndex],this.questionAnimationState="visible",this.cdr.markForCheck()},300),this.cdr.markForCheck())}previousQuestion(){this.currentQuestionIndex>0&&(this.questionAnimationState="hidden-right",setTimeout(()=>{this.currentQuestionIndex--,this.currentQuestion=this.questions[this.currentQuestionIndex],this.questionAnimationState="visible",this.cdr.markForCheck()},300),this.cdr.markForCheck())}onAnswerChange(t){(this.currentQuestion?.question_data.question_type==="fill"||this.currentQuestion?.question_data.question_type==="select-one")&&(this.currentQuestion.answer=t.target.value)}onMultipleAnswerChange(t,e){if(this.currentQuestion?.question_data.question_type==="multiple"){this.currentQuestion.multipleAnswers||(this.currentQuestion.multipleAnswers=[]);let r=e.target.checked;r&&!this.currentQuestion.multipleAnswers.includes(t)?this.currentQuestion.multipleAnswers.push(t):!r&&this.currentQuestion.multipleAnswers.includes(t)&&(this.currentQuestion.multipleAnswers=this.currentQuestion.multipleAnswers.filter(i=>i!==t))}}async submitAnswers(){this.loading=!0,this.errorMessage=null;try{let t=this.compileTraderInput(),e=await this.sendToSupabaseEdgeFunction(t);this.analysisResult=e,await this.saveAnswersToTable(e),this.showCompleteScreen=!0}catch(t){console.error("Error during submission:",t),this.errorMessage="An error occurred during submission. Please try again."}finally{this.cdr.markForCheck(),this.loading=!1}}compileTraderInput(){let t="";return this.questions.forEach((e,r)=>{let i="";e.question_data.question_type==="fill"||e.question_data.question_type==="select-one"?i=e.answer||"No answer provided.":e.question_data.question_type==="multiple"&&(i=e.multipleAnswers?.join(", ")||"No answer provided."),t+=`Q: ${e.question_data.question} A:${i}${r<this.questions.length-1?" ":""}`}),t}async sendToSupabaseEdgeFunction(t){let{data:e,error:r}=await this.supabaseFunctionService.callEdgeFunction("emotion-analyst-gemini",{prompt:t});if(r)throw console.error("Supabase Edge Function error:",r),new Error(`Failed to get analysis from Edge Function: ${r.message}`);if(!e||!Array.isArray(e)||e.length===0)throw new Error("Invalid or empty analysis response from Edge Function");let i={emotion:[],behaviorPattern:[],recommendation:[]};return e.forEach(o=>{o.emotion&&Array.isArray(o.emotion)?i.emotion=o.emotion.map(s=>({emotion:s.emotion,percentage:String(s.percentage),icon:s.icon,color:s.color})):o.behaviorPattern&&Array.isArray(o.behaviorPattern)?i.behaviorPattern=o.behaviorPattern.map(s=>({category:s.category,icon:s.icon,color:s.color})):o.recommendation&&(Array.isArray(o.recommendation)||typeof o.recommendation=="string")&&(i.recommendation=Array.isArray(o.recommendation)?o.recommendation:[o.recommendation])}),i}async saveAnswersToTable(t){let e=this.questions.map(o=>{let s="";return o.question_data.question_type==="fill"||o.question_data.question_type==="select-one"?s=o.answer||"":o.question_data.question_type==="multiple"&&(s=o.multipleAnswers||[]),{question_id:o.question_id,answer:s}}),r={user_id:this.supabaseService.user()?.id,answers:e,analysis:t},{error:i}=await this.supabaseService.submitUserAnswers(r);if(i)throw console.error("Error saving answers to database:",i),new Error(`Failed to save answers: ${i.message}`);console.log("Answers and analysis saved successfully!")}static \u0275fac=function(e){return new(e||n)(T(le),T(qd),T(ce))};static \u0275cmp=re({type:n,selectors:[["app-user-emotion-analysis"]],decls:11,vars:2,consts:[["completeScreen",""],[1,"container-fluid"],["aria-label","breadcrumb",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/home",1,"text-decoration-none"],["aria-current","page",1,"breadcrumb-item","active"],[4,"ngIf","ngIfElse"],["class","progress-bar-container",4,"ngIf"],[1,"question-card"],[4,"ngIf"],[1,"navigation-buttons"],[3,"click","disabled"],[3,"click",4,"ngIf"],[3,"disabled","click",4,"ngIf"],["class","error-message",4,"ngIf"],[1,"progress-bar-container"],[1,"progress-bar"],[1,"question-header"],[1,"question-text"],[1,"answer-area"],[3,"ngSwitch"],["class","fill-input-container",4,"ngSwitchCase"],["class","select-one-options",4,"ngSwitchCase"],["class","multiple-options",4,"ngSwitchCase"],[1,"material-icons"],[1,"fill-input-container"],["type","text",3,"ngModelChange","input","ngModel","placeholder"],[1,"select-one-options"],["class","radio-option",4,"ngFor","ngForOf"],[1,"radio-option"],["type","radio",3,"ngModelChange","change","id","name","value","ngModel"],[3,"for"],[1,"multiple-options"],["class","checkbox-option",4,"ngFor","ngForOf"],[1,"checkbox-option"],["type","checkbox",3,"change","id","value","checked"],[3,"click"],[1,"error-message"],[1,"check-in-complete-screen"],[1,"complete-icon-circle"],["class","analysis-results-new",4,"ngIf"],[1,"analysis-results-new"],[1,"analysis-card","emotional-summary-card"],[1,"analysis-card-header"],[1,"emotion-progress-list"],["class","emotion-item",4,"ngFor","ngForOf"],["class","analysis-card",4,"ngFor","ngForOf"],[1,"analysis-card"],[1,"analysis-card-header",2,"color","#2196f3"],[4,"ngFor","ngForOf"],[1,"emotion-item"],[1,"emotion-label"],[1,"emotion-bar-container"],[1,"emotion-bar"],[1,"emotion-percentage"]],template:function(e,r){if(e&1&&(u(0,"div",1)(1,"nav",2)(2,"ol",3)(3,"li",4)(4,"a",5),f(5,"Dashboard"),c()(),u(6,"li",6),f(7,"Emotion Questions"),c()()(),S(8,qL,10,7,"ng-container",7)(9,KL,9,2,"ng-template",null,0,tw),c()),e&2){let i=Yb(10);m(8),y("ngIf",!r.showCompleteScreen)("ngIfElse",i)}},dependencies:[ge,qe,ye,tm,ww,fi,We,Or,nt,io,Fd,Pd],styles:[".progress-bar-container[_ngcontent-%COMP%]{width:calc(100% - 40px);height:8px;background-color:#e0e0e0;border-radius:4px;margin-bottom:30px;overflow:hidden}.progress-bar[_ngcontent-%COMP%]{height:100%;background-color:#3f51b5;border-radius:4px;transition:width .3s ease-in-out}.question-card[_ngcontent-%COMP%]{background-color:#fff;padding:30px;border-radius:10px;box-shadow:0 3px 12px #00000012;width:100%;box-sizing:border-box;text-align:center;position:relative;overflow:hidden}.question-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-bottom:20px}.question-header[_ngcontent-%COMP%]   i.material-icons[_ngcontent-%COMP%]{font-size:40px;color:#3f51b5;margin-right:15px}.question-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#333;font-size:1.8em;margin:0}.question-text[_ngcontent-%COMP%]{font-size:1.2em;color:#555;margin-bottom:25px;line-height:1.5}.answer-area[_ngcontent-%COMP%]{margin-top:20px}.fill-input-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:calc(100% - 20px);padding:12px 10px;border:1px solid #ddd;border-radius:5px;font-size:1em;box-sizing:border-box}.fill-input-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus{outline:none;border-color:#3f51b5;box-shadow:0 0 0 2px #3f51b533}.select-one-options[_ngcontent-%COMP%], .multiple-options[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;width:fit-content;margin:0 auto}.radio-option[_ngcontent-%COMP%], .checkbox-option[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:15px;cursor:pointer}.radio-option[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%], .checkbox-option[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin-right:10px;width:20px;height:20px;accent-color:#3f51b5}.radio-option[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .checkbox-option[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1.1em;color:#444;cursor:pointer}.navigation-buttons[_ngcontent-%COMP%]{margin-top:30px;display:flex;justify-content:space-between;width:100%}.navigation-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:12px 25px;border:none;border-radius:5px;background-color:#3f51b5;color:#fff;font-size:1em;cursor:pointer;transition:background-color .3s ease,transform .2s ease;min-width:120px}.navigation-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#303f9f;transform:translateY(-2px)}.navigation-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.error-message[_ngcontent-%COMP%]{color:#d32f2f;background-color:#ffebee;border:1px solid #ef9a9a;padding:10px 20px;border-radius:5px;margin-top:20px;text-align:center;font-weight:700}.check-in-complete-screen[_ngcontent-%COMP%]{background-color:#fff;padding:40px;border-radius:10px;box-shadow:0 4px 15px #0000001a;text-align:center;color:#333;width:100%;box-sizing:border-box}.complete-icon-circle[_ngcontent-%COMP%]{width:70px;height:70px;border-radius:50%;background-color:#4caf50;display:flex;align-items:center;justify-content:center;margin:0 auto 25px;color:#fff}.complete-icon-circle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{height:40px;width:40px;font-size:40px}.check-in-complete-screen[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#333;font-size:2.2em;margin-bottom:10px}.check-in-complete-screen[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1em;color:#666;margin-bottom:30px}.analysis-results-new[_ngcontent-%COMP%]{margin-top:20px;text-align:left}.analysis-card[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:8px;padding:20px;margin-bottom:15px;box-shadow:0 2px 8px #0000000d}.analysis-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px;color:#3f51b5}.analysis-card-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;margin-right:10px}.analysis-card-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.3em;margin:0;color:inherit}.analysis-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em;color:#555;line-height:1.5;margin-bottom:0}.analysis-results-new[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin-top:15px}.analysis-results-new[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#e3f2fd;padding:12px 18px;margin-bottom:10px;border-radius:8px;border-left:5px solid #2196f3;color:#333;line-height:1.4;font-size:.95em;box-shadow:0 1px 4px #0000000a}.emotional-summary-card[_ngcontent-%COMP%]{background-color:#fff;padding:25px;margin-bottom:20px}.emotional-summary-card[_ngcontent-%COMP%]   .analysis-card-header[_ngcontent-%COMP%]{justify-content:flex-start;margin-bottom:25px;color:#333}.emotion-progress-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:18px}.emotion-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.emotion-label[_ngcontent-%COMP%]{flex-basis:120px;min-width:120px;font-size:1em;color:#555;text-align:right}.emotion-bar-container[_ngcontent-%COMP%]{flex-grow:1;height:8px;background-color:#e0e0e0;border-radius:4px;overflow:hidden}.emotion-bar[_ngcontent-%COMP%]{height:100%;background-color:#3f51b5;border-radius:4px;transition:width .5s ease-out}.emotion-percentage[_ngcontent-%COMP%]{flex-basis:40px;min-width:40px;font-size:.95em;color:#666;font-weight:500;text-align:right}"],data:{animation:[$d("questionAnimation",[pi("visible",Vt({opacity:1,transform:"translateX(0)",filter:"blur(0px)"})),pi("hidden-right",Vt({opacity:0,transform:"translateX(100%)",filter:"blur(5px)"})),pi("hidden-left",Vt({opacity:0,transform:"translateX(-100%)",filter:"blur(5px)"})),er(":enter",[Vt({opacity:0,transform:"translateX(100%)",filter:"blur(5px)"}),Xn("500ms ease-out",Vt({opacity:1,transform:"translateX(0)",filter:"blur(0px)"}))]),er(":leave",[Xn("500ms ease-out",Vt({opacity:0,transform:"translateX(-100%)",filter:"blur(5px)"}))]),er("visible => hidden-left",Xn("300ms ease-out")),er("hidden-right => visible",Xn("300ms ease-in")),er("visible => hidden-right",Xn("300ms ease-out")),er("hidden-left => visible",Xn("300ms ease-in"))]),$d("messageAnimation",[pi("void",Vt({opacity:0,transform:"scale(0.8)"})),pi("*",Vt({opacity:1,transform:"scale(1)"})),er("void => *",Xn("500ms ease-out")),er("* => void",Xn("500ms ease-in"))]),$d("checkInCompleteAnimation",[pi("void",Vt({opacity:0,transform:"translateY(20px)"})),pi("*",Vt({opacity:1,transform:"translateY(0)"})),er("void => *",Xn("600ms ease-out"))])]}})};var OS=[{path:"",component:Md,canActivate:[fd]},{path:"home",component:dd,canActivate:[ut]},{path:"pretrades",component:Id,canActivate:[ut]},{path:"pretradelog",component:_s,canActivate:[ut]},{path:"posttrades",component:Td,canActivate:[ut]},{path:"posttradelog",component:bs,canActivate:[ut]},{path:"emotions",component:zd,canActivate:[ut]},{path:"tradejournal",component:Ad,canActivate:[ut]},{path:"individualTrade",component:ws,canActivate:[ut]},{path:"meditationhub",component:Ld,canActivate:[ut]},{path:"analytics",component:Vd,canActivate:[ut]},{path:"tradeaccounts",component:jd,canActivate:[ut]},{path:"useraccount",component:Ud,canActivate:[ut]},{path:"admin/emotionquestion",component:xd,canActivate:[ut]},{path:"admin/meditationvideo",component:Bd,canActivate:[ut]},{path:"**",redirectTo:""}];function RS(n){return new A(3e3,!1)}function ZL(){return new A(3100,!1)}function YL(){return new A(3101,!1)}function JL(n){return new A(3001,!1)}function XL(n){return new A(3003,!1)}function eV(n){return new A(3004,!1)}function tV(n,t){return new A(3005,!1)}function nV(){return new A(3006,!1)}function rV(){return new A(3007,!1)}function iV(n,t){return new A(3008,!1)}function oV(n){return new A(3002,!1)}function sV(n,t,e,r,i){return new A(3010,!1)}function aV(){return new A(3011,!1)}function lV(){return new A(3012,!1)}function cV(){return new A(3200,!1)}function uV(){return new A(3202,!1)}function dV(){return new A(3013,!1)}function fV(n){return new A(3014,!1)}function hV(n){return new A(3015,!1)}function pV(n){return new A(3016,!1)}function mV(n,t){return new A(3404,!1)}function gV(n){return new A(3502,!1)}function vV(n){return new A(3503,!1)}function yV(){return new A(3300,!1)}function _V(n){return new A(3504,!1)}function bV(n){return new A(3301,!1)}function wV(n,t){return new A(3302,!1)}function EV(n){return new A(3303,!1)}function CV(n,t){return new A(3400,!1)}function SV(n){return new A(3401,!1)}function DV(n){return new A(3402,!1)}function IV(n,t){return new A(3505,!1)}function mi(n){switch(n.length){case 0:return new hi;case 1:return n[0];default:return new il(n)}}function QS(n,t,e=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(t.forEach(l=>{let d=l.get("offset"),h=d==s,p=h&&a||new Map;l.forEach((v,g)=>{let b=g,w=v;if(g!=="offset")switch(b=n.normalizePropertyName(b,i),w){case Hd:w=e.get(g);break;case Jn:w=r.get(g);break;default:w=n.normalizeStyleValue(g,b,w,i);break}p.set(b,w)}),h||o.push(p),a=p,s=d}),i.length)throw gV(i);return o}function Ev(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&tv(e,"start",n)));break;case"done":n.onDone(()=>r(e&&tv(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&tv(e,"destroy",n)));break}}function tv(n,t,e){let r=e.totalTime,i=!!e.disabled,o=Cv(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,r??n.totalTime,i),s=n._data;return s!=null&&(o._data=s),o}function Cv(n,t,e,r,i="",o=0,s){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function nn(n,t,e){let r=n.get(t);return r||n.set(t,r=e),r}function PS(n){let t=n.indexOf(":"),e=n.substring(1,t),r=n.slice(t+1);return[e,r]}var TV=typeof document>"u"?null:document.documentElement;function Sv(n){let t=n.parentNode||n.host||null;return t===TV?null:t}function xV(n){return n.substring(1,6)=="ebkit"}var lo=null,FS=!1;function MV(n){lo||(lo=AV()||{},FS=lo.style?"WebkitAppearance"in lo.style:!1);let t=!0;return lo.style&&!xV(n)&&(t=n in lo.style,!t&&FS&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in lo.style)),t}function AV(){return typeof document<"u"?document.body:null}function KS(n,t){for(;t;){if(t===n)return!0;t=Sv(t)}return!1}function ZS(n,t,e){if(e)return Array.from(n.querySelectorAll(t));let r=n.querySelector(t);return r?[r]:[]}var Dv=(()=>{class n{validateStyleProperty(e){return MV(e)}containsElement(e,r){return KS(e,r)}getParentElement(e){return Sv(e)}query(e,r,i){return ZS(e,r,i)}computeStyle(e,r,i){return i||""}animate(e,r,i,o,s,a=[],l){return new hi(i,o)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),fo=class{static NOOP=new Dv},ho=class{};var kV=1e3,YS="{{",NV="}}",JS="ng-enter",av="ng-leave",Gd="ng-trigger",Yd=".ng-trigger",LS="ng-animating",lv=".ng-animating";function Pr(n){if(typeof n=="number")return n;let t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:cv(parseFloat(t[1]),t[2])}function cv(n,t){switch(t){case"s":return n*kV;default:return n}}function Jd(n,t,e){return n.hasOwnProperty("duration")?n:OV(n,t,e)}function OV(n,t,e){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof n=="string"){let a=n.match(r);if(a===null)return t.push(RS(n)),{duration:0,delay:0,easing:""};i=cv(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(o=cv(parseFloat(l),a[4]));let d=a[5];d&&(s=d)}else i=n;if(!e){let a=!1,l=t.length;i<0&&(t.push(ZL()),a=!0),o<0&&(t.push(YL()),a=!0),a&&t.splice(l,0,RS(n))}return{duration:i,delay:o,easing:s}}function RV(n){return n.length?n[0]instanceof Map?n:n.map(t=>new Map(Object.entries(t))):[]}function tr(n,t,e){t.forEach((r,i)=>{let o=Iv(i);e&&!e.has(i)&&e.set(i,n.style[o]),n.style[o]=r})}function uo(n,t){t.forEach((e,r)=>{let i=Iv(r);n.style[i]=""})}function ol(n){return Array.isArray(n)?n.length==1?n[0]:NS(n):n}function PV(n,t,e){let r=t.params||{},i=XS(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||e.push(JL(o))})}var uv=new RegExp(`${YS}\\s*(.+?)\\s*${NV}`,"g");function XS(n){let t=[];if(typeof n=="string"){let e;for(;e=uv.exec(n);)t.push(e[1]);uv.lastIndex=0}return t}function al(n,t,e){let r=`${n}`,i=r.replace(uv,(o,s)=>{let a=t[s];return a==null&&(e.push(XL(s)),a=""),a.toString()});return i==r?n:i}var FV=/-+([a-z0-9])/g;function Iv(n){return n.replace(FV,(...t)=>t[1].toUpperCase())}function LV(n,t){return n===0||t===0}function VV(n,t,e){if(e.size&&t.length){let r=t[0],i=[];if(e.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<t.length;o++){let s=t[o];i.forEach(a=>s.set(a,Tv(n,a)))}}return t}function tn(n,t,e){switch(t.type){case J.Trigger:return n.visitTrigger(t,e);case J.State:return n.visitState(t,e);case J.Transition:return n.visitTransition(t,e);case J.Sequence:return n.visitSequence(t,e);case J.Group:return n.visitGroup(t,e);case J.Animate:return n.visitAnimate(t,e);case J.Keyframes:return n.visitKeyframes(t,e);case J.Style:return n.visitStyle(t,e);case J.Reference:return n.visitReference(t,e);case J.AnimateChild:return n.visitAnimateChild(t,e);case J.AnimateRef:return n.visitAnimateRef(t,e);case J.Query:return n.visitQuery(t,e);case J.Stagger:return n.visitStagger(t,e);default:throw eV(t.type)}}function Tv(n,t){return window.getComputedStyle(n)[t]}var jV=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Xd=class extends ho{normalizePropertyName(t,e){return Iv(t)}normalizeStyleValue(t,e,r,i){let o="",s=r.toString().trim();if(jV.has(e)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(tV(t,r))}return s+o}};var ef="*";function UV(n,t){let e=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>BV(r,e,t)):e.push(n),e}function BV(n,t,e){if(n[0]==":"){let l=$V(n,e);if(typeof l=="function"){t.push(l);return}n=l}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return e.push(hV(n)),t;let i=r[1],o=r[2],s=r[3];t.push(VS(i,s));let a=i==ef&&s==ef;o[0]=="<"&&!a&&t.push(VS(s,i))}function $V(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(pV(n)),"* => *"}}var Wd=new Set(["true","1"]),Qd=new Set(["false","0"]);function VS(n,t){let e=Wd.has(n)||Qd.has(n),r=Wd.has(t)||Qd.has(t);return(i,o)=>{let s=n==ef||n==i,a=t==ef||t==o;return!s&&e&&typeof i=="boolean"&&(s=i?Wd.has(n):Qd.has(n)),!a&&r&&typeof o=="boolean"&&(a=o?Wd.has(t):Qd.has(t)),s&&a}}var eD=":self",HV=new RegExp(`s*${eD}s*,?`,"g");function tD(n,t,e,r){return new dv(n).build(t,e,r)}var jS="",dv=class{_driver;constructor(t){this._driver=t}build(t,e,r){let i=new fv(e);return this._resetContextStyleTimingState(i),tn(this,ol(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector=jS,t.collectedStyles=new Map,t.collectedStyles.set(jS,new Map),t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,i=e.depCount=0,o=[],s=[];return t.name.charAt(0)=="@"&&e.errors.push(nV()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),a.type==J.State){let l=a,d=l.name;d.toString().split(/\s*,\s*/).forEach(h=>{l.name=h,o.push(this.visitState(l,e))}),l.name=d}else if(a.type==J.Transition){let l=this.visitTransition(a,e);r+=l.queryCount,i+=l.depCount,s.push(l)}else e.errors.push(rV())}),{type:J.Trigger,name:t.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(t,e){let r=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{XS(l).forEach(d=>{s.hasOwnProperty(d)||o.add(d)})})}),o.size&&e.errors.push(iV(t.name,[...o.values()]))}return{type:J.State,name:t.name,style:r,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;let r=tn(this,ol(t.animation),e),i=UV(t.expr,e.errors);return{type:J.Transition,matchers:i,animation:r,queryCount:e.queryCount,depCount:e.depCount,options:co(t.options)}}visitSequence(t,e){return{type:J.Sequence,steps:t.steps.map(r=>tn(this,r,e)),options:co(t.options)}}visitGroup(t,e){let r=e.currentTime,i=0,o=t.steps.map(s=>{e.currentTime=r;let a=tn(this,s,e);return i=Math.max(i,e.currentTime),a});return e.currentTime=i,{type:J.Group,steps:o,options:co(t.options)}}visitAnimate(t,e){let r=WV(t.timings,e.errors);e.currentAnimateTimings=r;let i,o=t.styles?t.styles:Vt({});if(o.type==J.Keyframes)i=this.visitKeyframes(o,e);else{let s=t.styles,a=!1;if(!s){a=!0;let d={};r.easing&&(d.easing=r.easing),s=Vt(d)}e.currentTime+=r.duration+r.delay;let l=this.visitStyle(s,e);l.isEmptyStep=a,i=l}return e.currentAnimateTimings=null,{type:J.Animate,timings:r,style:i,options:null}}visitStyle(t,e){let r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){let r=[],i=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of i)typeof a=="string"?a===Jn?r.push(a):e.errors.push(oV(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let l of a.values())if(l.toString().indexOf(YS)>=0){o=!0;break}}}),{type:J.Style,styles:r,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){let r=e.currentAnimateTimings,i=e.currentTime,o=e.currentTime;r&&o>0&&(o-=r.duration+r.delay),t.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,l)=>{let d=e.collectedStyles.get(e.currentQuerySelector),h=d.get(l),p=!0;h&&(o!=i&&o>=h.startTime&&i<=h.endTime&&(e.errors.push(sV(l,h.startTime,h.endTime,o,i)),p=!1),o=h.startTime),p&&d.set(l,{startTime:o,endTime:i}),e.options&&PV(a,e.options,e.errors)})})}visitKeyframes(t,e){let r={type:J.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(aV()),r;let i=1,o=0,s=[],a=!1,l=!1,d=0,h=t.steps.map(k=>{let L=this._makeStyleAst(k,e),F=L.offset!=null?L.offset:GV(L.styles),B=0;return F!=null&&(o++,B=L.offset=F),l=l||B<0||B>1,a=a||B<d,d=B,s.push(B),L});l&&e.errors.push(lV()),a&&e.errors.push(cV());let p=t.steps.length,v=0;o>0&&o<p?e.errors.push(uV()):o==0&&(v=i/(p-1));let g=p-1,b=e.currentTime,w=e.currentAnimateTimings,C=w.duration;return h.forEach((k,L)=>{let F=v>0?L==g?1:v*L:s[L],B=F*C;e.currentTime=b+w.delay+B,w.duration=B,this._validateStyleAst(k,e),k.offset=F,r.styles.push(k)}),r}visitReference(t,e){return{type:J.Reference,animation:tn(this,ol(t.animation),e),options:co(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:J.AnimateChild,options:co(t.options)}}visitAnimateRef(t,e){return{type:J.AnimateRef,animation:this.visitReference(t.animation,e),options:co(t.options)}}visitQuery(t,e){let r=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;let[o,s]=qV(t.selector);e.currentQuerySelector=r.length?r+" "+o:o,nn(e.collectedStyles,e.currentQuerySelector,new Map);let a=tn(this,ol(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:J.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:co(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(dV());let r=t.timings==="full"?{duration:0,delay:0,easing:"full"}:Jd(t.timings,e.errors,!0);return{type:J.Stagger,animation:tn(this,ol(t.animation),e),timings:r,options:null}}};function qV(n){let t=!!n.split(/\s*,\s*/).find(e=>e==eD);return t&&(n=n.replace(HV,"")),n=n.replace(/@\*/g,Yd).replace(/@\w+/g,e=>Yd+"-"+e.slice(1)).replace(/:animating/g,lv),[n,t]}function zV(n){return n?N({},n):null}var fv=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(t){this.errors=t}};function GV(n){if(typeof n=="string")return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){let r=e;t=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}function WV(n,t){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=Jd(n,t).duration;return nv(o,0,"")}let e=n;if(e.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=nv(0,0,"");return o.dynamic=!0,o.strValue=e,o}let i=Jd(e,t);return nv(i.duration,i.delay,i.easing)}function co(n){return n?(n=N({},n),n.params&&(n.params=zV(n.params))):n={},n}function nv(n,t,e){return{duration:n,delay:t,easing:e}}function xv(n,t,e,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var ll=class{_map=new Map;get(t){return this._map.get(t)||[]}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}},QV=1,KV=":enter",ZV=new RegExp(KV,"g"),YV=":leave",JV=new RegExp(YV,"g");function nD(n,t,e,r,i,o=new Map,s=new Map,a,l,d=[]){return new hv().buildKeyframes(n,t,e,r,i,o,s,a,l,d)}var hv=class{buildKeyframes(t,e,r,i,o,s,a,l,d,h=[]){d=d||new ll;let p=new pv(t,e,d,i,o,h,[]);p.options=l;let v=l.delay?Pr(l.delay):0;p.currentTimeline.delayNextStep(v),p.currentTimeline.setStyles([s],null,p.errors,l),tn(this,r,p);let g=p.timelines.filter(b=>b.containsAnimation());if(g.length&&a.size){let b;for(let w=g.length-1;w>=0;w--){let C=g[w];if(C.element===e){b=C;break}}b&&!b.allowOnlyTimelineStyles()&&b.setStyles([a],null,p.errors,l)}return g.length?g.map(b=>b.buildKeyframes()):[xv(e,[],[],[],0,v,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){let r=e.subInstructions.get(e.element);if(r){let i=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){let r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,r),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,r){for(let i of t){let o=i?.delay;if(o){let s=typeof o=="number"?o:Pr(al(o,i?.params??{},e.errors));r.delayNextStep(s)}}}_visitSubInstructions(t,e,r){let o=e.currentTimeline.currentTime,s=r.duration!=null?Pr(r.duration):null,a=r.delay!=null?Pr(r.delay):null;return s!==0&&t.forEach(l=>{let d=e.appendInstructionToTimeline(l,s,a);o=Math.max(o,d.duration+d.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),tn(this,t.animation,e),e.previousNode=t}visitSequence(t,e){let r=e.subContextCount,i=e,o=t.options;if(o&&(o.params||o.delay)&&(i=e.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==J.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=tf);let s=Pr(o.delay);i.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>tn(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){let r=[],i=e.currentTimeline.currentTime,o=t.options&&t.options.delay?Pr(t.options.delay):0;t.steps.forEach(s=>{let a=e.createSubContext(t.options);o&&a.delayNextStep(o),tn(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){let r=t.strValue,i=e.params?al(r,e.params,e.errors):r;return Jd(i,e.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){let r=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),i.snapshotCurrentStyles());let o=t.style;o.type==J.Keyframes?this.visitKeyframes(o,e):(e.incrementTime(r.duration),this.visitStyle(o,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){let r=e.currentTimeline,i=e.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(o):r.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){let r=e.currentAnimateTimings,i=e.currentTimeline.duration,o=r.duration,a=e.createSubContext().currentTimeline;a.easing=r.easing,t.styles.forEach(l=>{let d=l.offset||0;a.forwardTime(d*o),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(i+o),e.previousNode=t}visitQuery(t,e){let r=e.currentTimeline.currentTime,i=t.options||{},o=i.delay?Pr(i.delay):0;o&&(e.previousNode.type===J.Style||r==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=tf);let s=r,a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((d,h)=>{e.currentQueryIndex=h;let p=e.createSubContext(t.options,d);o&&p.delayNextStep(o),d===e.element&&(l=p.currentTimeline),tn(this,t.animation,p),p.currentTimeline.applyStylesToKeyframe();let v=p.currentTimeline.currentTime;s=Math.max(s,v)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){let r=e.parentContext,i=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1),l=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime;break}let h=e.currentTimeline;l&&h.delayNextStep(l);let p=h.currentTime;tn(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=i.currentTime-p+(i.startTime-r.currentTimeline.startTime)}},tf={},pv=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=tf;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(t,e,r,i,o,s,a,l){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.currentTimeline=l||new nf(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;let r=t,i=this.options;r.duration!=null&&(i.duration=Pr(r.duration)),r.delay!=null&&(i.delay=Pr(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=al(o[a],s,this.errors))})}}_copyOptions(){let t={};if(this.options){let e=this.options.params;if(e){let r=t.params={};Object.keys(e).forEach(i=>{r[i]=e[i]})}}return t}createSubContext(t=null,e,r){let i=e||this.element,o=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=tf,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){let i={duration:e??t.duration,delay:this.currentTimeline.currentTime+(r??0)+t.delay,easing:""},o=new mv(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,i,o,s){let a=[];if(i&&a.push(this.element),t.length>0){t=t.replace(ZV,"."+this._enterClassName),t=t.replace(JV,"."+this._leaveClassName);let l=r!=1,d=this._driver.query(this.element,t,l);r!==0&&(d=r<0?d.slice(d.length+r,d.length):d.slice(0,r)),a.push(...d)}return!o&&a.length==0&&s.push(fV(e)),a}},nf=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(t,e,r,i){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new n(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=QV,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,r]of this._globalTimelineStyles)this._backFill.set(e,r||Jn),this._currentKeyframe.set(e,Jn);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,i){e&&this._previousKeyframe.set("easing",e);let o=i&&i.params||{},s=XV(t,this._globalTimelineStyles);for(let[a,l]of s){let d=al(l,o,r);this._pendingStyles.set(a,d),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Jn),this._updateStyle(a,d)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,r)=>{let i=this._styleSummary.get(r);(!i||e.time>i.time)&&this._updateStyle(r,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,e=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,l)=>{let d=new Map([...this._backFill,...a]);d.forEach((h,p)=>{h===Hd?t.add(p):h===Jn&&e.add(p)}),r||d.set("offset",l/this.duration),i.push(d)});let o=[...t.values()],s=[...e.values()];if(r){let a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return xv(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},mv=class extends nf{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(t,e,r,i,o,s,a=!1){super(t,e,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){let o=[],s=r+e,a=e/s,l=new Map(t[0]);l.set("offset",0),o.push(l);let d=new Map(t[0]);d.set("offset",US(a)),o.push(d);let h=t.length-1;for(let p=1;p<=h;p++){let v=new Map(t[p]),g=v.get("offset"),b=e+g*r;v.set("offset",US(b/s)),o.push(v)}r=s,e=0,i="",t=o}return xv(this.element,t,this.preStyleProps,this.postStyleProps,r,e,i,!0)}};function US(n,t=3){let e=Math.pow(10,t-1);return Math.round(n*e)/e}function XV(n,t){let e=new Map,r;return n.forEach(i=>{if(i==="*"){r??=t.keys();for(let o of r)e.set(o,Jn)}else for(let[o,s]of i)e.set(o,s)}),e}function BS(n,t,e,r,i,o,s,a,l,d,h,p,v){return{type:0,element:n,triggerName:t,isRemovalTransition:i,fromState:e,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:l,preStyleProps:d,postStyleProps:h,totalTime:p,errors:v}}var rv={},rf=class{_triggerName;ast;_stateStyles;constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,i){return ej(this.ast.matchers,t,e,r,i)}buildStyles(t,e,r){let i=this._stateStyles.get("*");return t!==void 0&&(i=this._stateStyles.get(t?.toString())||i),i?i.buildStyles(e,r):new Map}build(t,e,r,i,o,s,a,l,d,h){let p=[],v=this.ast.options&&this.ast.options.params||rv,g=a&&a.params||rv,b=this.buildStyles(r,g,p),w=l&&l.params||rv,C=this.buildStyles(i,w,p),k=new Set,L=new Map,F=new Map,B=i==="void",Q={params:rD(w,v),delay:this.ast.options?.delay},be=h?[]:nD(t,e,this.ast.animation,o,s,b,C,Q,d,p),we=0;return be.forEach(Me=>{we=Math.max(Me.duration+Me.delay,we)}),p.length?BS(e,this._triggerName,r,i,B,b,C,[],[],L,F,we,p):(be.forEach(Me=>{let Dt=Me.element,po=nn(L,Dt,new Set);Me.preStyleProps.forEach(gi=>po.add(gi));let Mv=nn(F,Dt,new Set);Me.postStyleProps.forEach(gi=>Mv.add(gi)),Dt!==e&&k.add(Dt)}),BS(e,this._triggerName,r,i,B,b,C,be,[...k.values()],L,F,we))}};function ej(n,t,e,r,i){return n.some(o=>o(t,e,r,i))}function rD(n,t){let e=N({},t);return Object.entries(n).forEach(([r,i])=>{i!=null&&(e[r]=i)}),e}var gv=class{styles;defaultParams;normalizer;constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){let r=new Map,i=rD(t,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=al(s,i,e));let l=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,l,s,e),r.set(a,s)})}),r}};function tj(n,t,e){return new vv(n,t,e)}var vv=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,e.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new gv(i.style,o,r))}),$S(this.states,"true","1"),$S(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new rf(t,i,this.states))}),this.fallbackTransition=nj(t,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,i){return this.transitionFactories.find(s=>s.match(t,e,r,i))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}};function nj(n,t,e){let r=[(s,a)=>!0],i={type:J.Sequence,steps:[],options:null},o={type:J.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new rf(n,o,t)}function $S(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}var rj=new ll,yv=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r}register(t,e){let r=[],i=[],o=tD(this._driver,e,r,i);if(r.length)throw vV(r);this._animations.set(t,o)}_buildPlayer(t,e,r){let i=t.element,o=QS(this._normalizer,t.keyframes,e,r);return this._driver.animate(i,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){let i=[],o=this._animations.get(t),s,a=new Map;if(o?(s=nD(this._driver,e,o,JS,av,new Map,new Map,r,rj,i),s.forEach(h=>{let p=nn(a,h.element,new Map);h.postStyleProps.forEach(v=>p.set(v,null))})):(i.push(yV()),s=[]),i.length)throw _V(i);a.forEach((h,p)=>{h.forEach((v,g)=>{h.set(g,this._driver.computeStyle(p,g,Jn))})});let l=s.map(h=>{let p=a.get(h.element);return this._buildPlayer(h,new Map,p)}),d=mi(l);return this._playersById.set(t,d),d.onDestroy(()=>this.destroy(t)),this.players.push(d),d}destroy(t){let e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);let r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){let e=this._playersById.get(t);if(!e)throw bV(t);return e}listen(t,e,r,i){let o=Cv(e,"","","");return Ev(this._getPlayer(t),r,o,i),()=>{}}command(t,e,r,i){if(r=="register"){this.register(t,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(t,e,s);return}let o=this._getPlayer(t);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t);break}}},HS="ng-animate-queued",ij=".ng-animate-queued",iv="ng-animate-disabled",oj=".ng-animate-disabled",sj="ng-star-inserted",aj=".ng-star-inserted",lj=[],iD={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},cj={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Rn="__ng_removed",cl=class{namespaceId;value;options;get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;let r=t&&t.hasOwnProperty("value"),i=r?t.value:t;if(this.value=dj(i),r){let o=t,{value:s}=o,a=mo(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let e=t.params;if(e){let r=this.options.params;Object.keys(e).forEach(i=>{r[i]==null&&(r[i]=e[i])})}}},sl="void",ov=new cl(sl),_v=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this._hostClassName="ng-tns-"+t,_n(e,this._hostClassName)}listen(t,e,r,i){if(!this._triggers.has(e))throw wV(r,e);if(r==null||r.length==0)throw EV(e);if(!fj(r))throw CV(r,e);let o=nn(this._elementListeners,t,[]),s={name:e,phase:r,callback:i};o.push(s);let a=nn(this._engine.statesByElement,t,new Map);return a.has(e)||(_n(t,Gd),_n(t,Gd+"-"+e),a.set(e,ov)),()=>{this._engine.afterFlush(()=>{let l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return this._triggers.has(t)?!1:(this._triggers.set(t,e),!0)}_getTrigger(t){let e=this._triggers.get(t);if(!e)throw SV(t);return e}trigger(t,e,r,i=!0){let o=this._getTrigger(e),s=new ul(this.id,e,t),a=this._engine.statesByElement.get(t);a||(_n(t,Gd),_n(t,Gd+"-"+e),this._engine.statesByElement.set(t,a=new Map));let l=a.get(e),d=new cl(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&d.absorbOptions(l.options),a.set(e,d),l||(l=ov),!(d.value===sl)&&l.value===d.value){if(!mj(l.params,d.params)){let w=[],C=o.matchStyles(l.value,l.params,w),k=o.matchStyles(d.value,d.params,w);w.length?this._engine.reportError(w):this._engine.afterFlush(()=>{uo(t,C),tr(t,k)})}return}let v=nn(this._engine.playersByElement,t,[]);v.forEach(w=>{w.namespaceId==this.id&&w.triggerName==e&&w.queued&&w.destroy()});let g=o.matchTransition(l.value,d.value,t,d.params),b=!1;if(!g){if(!i)return;g=o.fallbackTransition,b=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:g,fromState:l,toState:d,player:s,isFallbackTransition:b}),b||(_n(t,HS),s.onStart(()=>{Es(t,HS)})),s.onDone(()=>{let w=this.players.indexOf(s);w>=0&&this.players.splice(w,1);let C=this._engine.playersByElement.get(t);if(C){let k=C.indexOf(s);k>=0&&C.splice(k,1)}}),this.players.push(s),v.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(i=>i.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){let r=this._engine.driver.query(t,Yd,!0);r.forEach(i=>{if(i[Rn])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(t,e,r,i){let o=this._engine.statesByElement.get(t),s=new Map;if(o){let a=[];if(o.forEach((l,d)=>{if(s.set(d,l.value),this._triggers.has(d)){let h=this.trigger(t,d,sl,i);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),r&&mi(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){let i=new Set;e.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let l=this._triggers.get(s).fallbackTransition,d=r.get(s)||ov,h=new cl(sl),p=new ul(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:l,fromState:d,toState:h,player:p,isFallbackTransition:!0})})}}removeNode(t,e){let r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else{let s=t;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,e);else{let o=t[Rn];(!o||o===iD)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){_n(t,this._hostClassName)}drainQueuedTransitions(t){let e=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let l=Cv(o,r.triggerName,r.fromState.value,r.toState.value);l._data=t,Ev(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(r)}),this._queue=[],e.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},bv=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(t,e)=>{};_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r}get queuedPlayers(){let t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){let r=new _v(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){let l=i.get(a);if(l){let d=r.indexOf(l);r.splice(d+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(t)}else r.push(t);return i.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let i=this._namespaceLookup[t];i&&i.register(e,r)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(t);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let e=new Set,r=this.statesByElement.get(t);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&e.add(o)}}return e}trigger(t,e,r,i){if(Kd(e)){let o=this._fetchNamespace(t);if(o)return o.trigger(e,r,i),!0}return!1}insertNode(t,e,r,i){if(!Kd(e))return;let o=e[Rn];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){let s=this._fetchNamespace(t);s&&s.insertNode(e,r)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),_n(t,iv)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Es(t,iv))}removeNode(t,e,r){if(Kd(e)){let i=t?this._fetchNamespace(t):null;i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r);let o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,r)}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,r,i,o){this.collectedLeaveElements.push(e),e[Rn]={namespaceId:t,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,r,i,o){return Kd(e)?this._fetchNamespace(t).listen(e,r,i,o):()=>{}}_buildInstruction(t,e,r,i,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,i,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,Yd,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(t,lv,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){let e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){let e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return mi(this.players).onDone(()=>t());t()})}processLeaveNode(t){let e=t[Rn];if(e&&e.setForRemoval){if(t[Rn]=iD,e.namespaceId){this.destroyInnerAnimations(t);let r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(iv)&&this.markElementAsDisabled(t,!1),this.driver.query(t,oj,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];_n(i,sj)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{e=this._flushAnimations(r,t)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],e.length?mi(e).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(t){throw DV(t)}_flushAnimations(t,e){let r=new ll,i=[],o=new Map,s=[],a=new Map,l=new Map,d=new Map,h=new Set;this.disabledNodes.forEach(j=>{h.add(j);let $=this.driver.query(j,ij,!0);for(let K=0;K<$.length;K++)h.add($[K])});let p=this.bodyNode,v=Array.from(this.statesByElement.keys()),g=GS(v,this.collectedEnterElements),b=new Map,w=0;g.forEach((j,$)=>{let K=JS+w++;b.set($,K),j.forEach(me=>_n(me,K))});let C=[],k=new Set,L=new Set;for(let j=0;j<this.collectedLeaveElements.length;j++){let $=this.collectedLeaveElements[j],K=$[Rn];K&&K.setForRemoval&&(C.push($),k.add($),K.hasAnimation?this.driver.query($,aj,!0).forEach(me=>k.add(me)):L.add($))}let F=new Map,B=GS(v,Array.from(k));B.forEach((j,$)=>{let K=av+w++;F.set($,K),j.forEach(me=>_n(me,K))}),t.push(()=>{g.forEach((j,$)=>{let K=b.get($);j.forEach(me=>Es(me,K))}),B.forEach((j,$)=>{let K=F.get($);j.forEach(me=>Es(me,K))}),C.forEach(j=>{this.processLeaveNode(j)})});let Q=[],be=[];for(let j=this._namespaceList.length-1;j>=0;j--)this._namespaceList[j].drainQueuedTransitions(e).forEach(K=>{let me=K.player,et=K.element;if(Q.push(me),this.collectedEnterElements.length){let ft=et[Rn];if(ft&&ft.setForMove){if(ft.previousTriggersValues&&ft.previousTriggersValues.has(K.triggerName)){let vi=ft.previousTriggersValues.get(K.triggerName),rn=this.statesByElement.get(K.element);if(rn&&rn.has(K.triggerName)){let dl=rn.get(K.triggerName);dl.value=vi,rn.set(K.triggerName,dl)}}me.destroy();return}}let Pn=!p||!this.driver.containsElement(p,et),jt=F.get(et),Fr=b.get(et),Ae=this._buildInstruction(K,r,Fr,jt,Pn);if(Ae.errors&&Ae.errors.length){be.push(Ae);return}if(Pn){me.onStart(()=>uo(et,Ae.fromStyles)),me.onDestroy(()=>tr(et,Ae.toStyles)),i.push(me);return}if(K.isFallbackTransition){me.onStart(()=>uo(et,Ae.fromStyles)),me.onDestroy(()=>tr(et,Ae.toStyles)),i.push(me);return}let Nv=[];Ae.timelines.forEach(ft=>{ft.stretchStartingKeyframe=!0,this.disabledNodes.has(ft.element)||Nv.push(ft)}),Ae.timelines=Nv,r.append(et,Ae.timelines);let uD={instruction:Ae,player:me,element:et};s.push(uD),Ae.queriedElements.forEach(ft=>nn(a,ft,[]).push(me)),Ae.preStyleProps.forEach((ft,vi)=>{if(ft.size){let rn=l.get(vi);rn||l.set(vi,rn=new Set),ft.forEach((dl,df)=>rn.add(df))}}),Ae.postStyleProps.forEach((ft,vi)=>{let rn=d.get(vi);rn||d.set(vi,rn=new Set),ft.forEach((dl,df)=>rn.add(df))})});if(be.length){let j=[];be.forEach($=>{j.push(IV($.triggerName,$.errors))}),Q.forEach($=>$.destroy()),this.reportError(j)}let we=new Map,Me=new Map;s.forEach(j=>{let $=j.element;r.has($)&&(Me.set($,$),this._beforeAnimationBuild(j.player.namespaceId,j.instruction,we))}),i.forEach(j=>{let $=j.element;this._getPreviousPlayers($,!1,j.namespaceId,j.triggerName,null).forEach(me=>{nn(we,$,[]).push(me),me.destroy()})});let Dt=C.filter(j=>WS(j,l,d)),po=new Map;zS(po,this.driver,L,d,Jn).forEach(j=>{WS(j,l,d)&&Dt.push(j)});let gi=new Map;g.forEach((j,$)=>{zS(gi,this.driver,new Set(j),l,Hd)}),Dt.forEach(j=>{let $=po.get(j),K=gi.get(j);po.set(j,new Map([...$?.entries()??[],...K?.entries()??[]]))});let uf=[],Av=[],kv={};s.forEach(j=>{let{element:$,player:K,instruction:me}=j;if(r.has($)){if(h.has($)){K.onDestroy(()=>tr($,me.toStyles)),K.disabled=!0,K.overrideTotalTime(me.totalTime),i.push(K);return}let et=kv;if(Me.size>1){let jt=$,Fr=[];for(;jt=jt.parentNode;){let Ae=Me.get(jt);if(Ae){et=Ae;break}Fr.push(jt)}Fr.forEach(Ae=>Me.set(Ae,et))}let Pn=this._buildAnimation(K.namespaceId,me,we,o,gi,po);if(K.setRealPlayer(Pn),et===kv)uf.push(K);else{let jt=this.playersByElement.get(et);jt&&jt.length&&(K.parentPlayer=mi(jt)),i.push(K)}}else uo($,me.fromStyles),K.onDestroy(()=>tr($,me.toStyles)),Av.push(K),h.has($)&&i.push(K)}),Av.forEach(j=>{let $=o.get(j.element);if($&&$.length){let K=mi($);j.setRealPlayer(K)}}),i.forEach(j=>{j.parentPlayer?j.syncPlayerEvents(j.parentPlayer):j.destroy()});for(let j=0;j<C.length;j++){let $=C[j],K=$[Rn];if(Es($,av),K&&K.hasAnimation)continue;let me=[];if(a.size){let Pn=a.get($);Pn&&Pn.length&&me.push(...Pn);let jt=this.driver.query($,lv,!0);for(let Fr=0;Fr<jt.length;Fr++){let Ae=a.get(jt[Fr]);Ae&&Ae.length&&me.push(...Ae)}}let et=me.filter(Pn=>!Pn.destroyed);et.length?hj(this,$,et):this.processLeaveNode($)}return C.length=0,uf.forEach(j=>{this.players.push(j),j.onDone(()=>{j.destroy();let $=this.players.indexOf(j);this.players.splice($,1)}),j.play()}),uf}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,i,o){let s=[];if(e){let a=this.playersByQueriedElement.get(t);a&&(s=a)}else{let a=this.playersByElement.get(t);if(a){let l=!o||o==sl;a.forEach(d=>{d.queued||!l&&d.triggerName!=i||s.push(d)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(t,e,r){let i=e.triggerName,o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:i;for(let l of e.timelines){let d=l.element,h=d!==o,p=nn(r,d,[]);this._getPreviousPlayers(d,h,s,a,e.toState).forEach(g=>{let b=g.getRealPlayer();b.beforeDestroy&&b.beforeDestroy(),g.destroy(),p.push(g)})}uo(o,e.fromStyles)}_buildAnimation(t,e,r,i,o,s){let a=e.triggerName,l=e.element,d=[],h=new Set,p=new Set,v=e.timelines.map(b=>{let w=b.element;h.add(w);let C=w[Rn];if(C&&C.removedBeforeQueried)return new hi(b.duration,b.delay);let k=w!==l,L=pj((r.get(w)||lj).map(we=>we.getRealPlayer())).filter(we=>{let Me=we;return Me.element?Me.element===w:!1}),F=o.get(w),B=s.get(w),Q=QS(this._normalizer,b.keyframes,F,B),be=this._buildPlayer(b,Q,L);if(b.subTimeline&&i&&p.add(w),k){let we=new ul(t,a,w);we.setRealPlayer(be),d.push(we)}return be});d.forEach(b=>{nn(this.playersByQueriedElement,b.element,[]).push(b),b.onDone(()=>uj(this.playersByQueriedElement,b.element,b))}),h.forEach(b=>_n(b,LS));let g=mi(v);return g.onDestroy(()=>{h.forEach(b=>Es(b,LS)),tr(l,e.toStyles)}),p.forEach(b=>{nn(i,b,[]).push(g)}),g}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new hi(t.duration,t.delay)}},ul=class{namespaceId;triggerName;element;_player=new hi;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,r)=>{e.forEach(i=>Ev(t,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){nn(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let e=this._player;e.triggerCallback&&e.triggerCallback(t)}};function uj(n,t,e){let r=n.get(t);if(r){if(r.length){let i=r.indexOf(e);r.splice(i,1)}r.length==0&&n.delete(t)}return r}function dj(n){return n??null}function Kd(n){return n&&n.nodeType===1}function fj(n){return n=="start"||n=="done"}function qS(n,t){let e=n.style.display;return n.style.display=t??"none",e}function zS(n,t,e,r,i){let o=[];e.forEach(l=>o.push(qS(l)));let s=[];r.forEach((l,d)=>{let h=new Map;l.forEach(p=>{let v=t.computeStyle(d,p,i);h.set(p,v),(!v||v.length==0)&&(d[Rn]=cj,s.push(d))}),n.set(d,h)});let a=0;return e.forEach(l=>qS(l,o[a++])),s}function GS(n,t){let e=new Map;if(n.forEach(a=>e.set(a,[])),t.length==0)return e;let r=1,i=new Set(t),o=new Map;function s(a){if(!a)return r;let l=o.get(a);if(l)return l;let d=a.parentNode;return e.has(d)?l=d:i.has(d)?l=r:l=s(d),o.set(a,l),l}return t.forEach(a=>{let l=s(a);l!==r&&e.get(l).push(a)}),e}function _n(n,t){n.classList?.add(t)}function Es(n,t){n.classList?.remove(t)}function hj(n,t,e){mi(e).onDone(()=>n.processLeaveNode(t))}function pj(n){let t=[];return oD(n,t),t}function oD(n,t){for(let e=0;e<n.length;e++){let r=n[e];r instanceof il?oD(r.players,t):t.push(r)}}function mj(n,t){let e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let i=0;i<e.length;i++){let o=e[i];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}function WS(n,t,e){let r=e.get(n);if(!r)return!1;let i=t.get(n);return i?r.forEach(o=>i.add(o)):t.set(n,r),e.delete(n),!0}var Cs=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(t,e)=>{};constructor(t,e,r){this._driver=e,this._normalizer=r,this._transitionEngine=new bv(t.body,e,r),this._timelineEngine=new yv(t.body,e,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(t,e,r,i,o){let s=t+"-"+i,a=this._triggerCache[s];if(!a){let l=[],d=[],h=tD(this._driver,o,l,d);if(l.length)throw mV(i,l);a=tj(i,h,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,i,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,i){this._transitionEngine.insertNode(t,e,r,i)}onRemove(t,e,r){this._transitionEngine.removeNode(t,e,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,i){if(r.charAt(0)=="@"){let[o,s]=PS(r),a=i;this._timelineEngine.command(o,e,s,a)}else this._transitionEngine.trigger(t,e,r,i)}listen(t,e,r,i,o){if(r.charAt(0)=="@"){let[s,a]=PS(r);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(t,e,r,i,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function gj(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=sv(t[0]),t.length>1&&(r=sv(t[t.length-1]))):t instanceof Map&&(e=sv(t)),e||r?new vj(n,e,r):null}var vj=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(e,r,i){this._element=e,this._startStyles=r,this._endStyles=i;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&tr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(tr(this._element,this._initialStyles),this._endStyles&&(tr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(uo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(uo(this._element,this._endStyles),this._endStyles=null),tr(this._element,this._initialStyles),this._state=3)}}return n})();function sv(n){let t=null;return n.forEach((e,r)=>{yj(r)&&(t=t||new Map,t.set(r,e))}),t}function yj(n){return n==="display"||n==="position"}var of=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(t,e,r,i){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=i,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){let e=[];return t.forEach(r=>{e.push(Object.fromEntries(r))}),e}_triggerWebAnimation(t,e,r){return t.animate(this._convertKeyframesToObject(e),r)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&t.set(i,this._finished?r:Tv(this.element,i))}),this.currentSnapshot=t}triggerCallback(t){let e=t==="start"?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}},sf=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,e){return KS(t,e)}getParentElement(t){return Sv(t)}query(t,e,r){return ZS(t,e,r)}computeStyle(t,e,r){return Tv(t,e)}animate(t,e,r,i,o,s=[]){let a=i==0?"both":"forwards",l={duration:r,delay:i,fill:a};o&&(l.easing=o);let d=new Map,h=s.filter(g=>g instanceof of);LV(r,i)&&h.forEach(g=>{g.currentSnapshot.forEach((b,w)=>d.set(w,b))});let p=RV(e).map(g=>new Map(g));p=VV(t,p,d);let v=gj(t,p);return new of(t,p,l,v)}};var Zd="@",sD="@.disabled",af=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(t,e,r,i){this.namespaceId=t,this.delegate=e,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,i=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,r){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,i){this.delegate.setAttribute(t,e,r,i)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,i){this.delegate.setStyle(t,e,r,i)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){e.charAt(0)==Zd&&e==sD?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r,i){return this.delegate.listen(t,e,r,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},wv=class extends af{factory;constructor(t,e,r,i,o){super(e,r,i,o),this.factory=t,this.namespaceId=e}setProperty(t,e,r){e.charAt(0)==Zd?e.charAt(1)=="."&&e==sD?(r=r===void 0?!0:!!r,this.disableAnimations(t,r)):this.engine.process(this.namespaceId,t,e.slice(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r,i){if(e.charAt(0)==Zd){let o=_j(t),s=e.slice(1),a="";return s.charAt(0)!=Zd&&([s,a]=bj(s)),this.engine.listen(this.namespaceId,o,s,a,l=>{let d=l._data||-1;this.factory.scheduleListenerCallback(d,r,l)})}return this.delegate.listen(t,e,r,i)}};function _j(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function bj(n){let t=n.indexOf("."),e=n.substring(0,t),r=n.slice(t+1);return[e,r]}var lf=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(t,e,r){this.delegate=t,this.engine=e,this._zone=r,e.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(t,e){let r="",i=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){let d=this._rendererCache,h=d.get(i);if(!h){let p=()=>d.delete(i);h=new af(r,i,this.engine,p),d.set(i,h)}return h}let o=e.id,s=e.id+"-"+this._currentId;this._currentId++,this.engine.register(s,t);let a=d=>{Array.isArray(d)?d.forEach(a):this.engine.registerTrigger(o,s,t,d.name,d)};return e.data.animation.forEach(a),new wv(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,r){if(t>=0&&t<this._microtaskId){this._zone.run(()=>e(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([e,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(t){this.engine.flush(),this.delegate.componentReplaced?.(t)}};var Ej=(()=>{class n extends Cs{constructor(e,r,i){super(e,r,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(r){return new(r||n)(P(Fe),P(fo),P(ho))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})();function Cj(){return new Xd}function Sj(n,t,e){return new lf(n,t,e)}var aD=[{provide:ho,useFactory:Cj},{provide:Cs,useClass:Ej},{provide:Qr,useFactory:Sj,deps:[bu,Cs,Ee]}],Dj=[{provide:fo,useFactory:()=>new sf},{provide:qc,useValue:"BrowserAnimations"},...aD],RW=[{provide:fo,useClass:Dv},{provide:qc,useValue:"NoopAnimations"},...aD];function lD(){return Dn("NgEagerAnimations"),[...Dj]}var cD={providers:[rw(),kE(OS),Lw(Vw()),lD()]};function Ij(n,t){n&1&&(ot(0),u(1,"div",1),_(2,"router-outlet"),c(),st())}function Tj(n,t){if(n&1){let e=H();u(0,"div",19)(1,"a",20),D("click",function(){x(e);let i=E(2);return M(i.navigateToUrl("/home"))}),_(2,"i",21),f(3,"Dashboard"),c(),u(4,"a",20),D("click",function(){x(e);let i=E(2);return M(i.navigateToUrl("/emotions"))}),_(5,"i",22),f(6,"Morning Check-In"),c(),u(7,"a",20),D("click",function(){x(e);let i=E(2);return M(i.navigateToUrl("/tradejournal"))}),_(8,"i",23),f(9,"Trade Journal"),c(),u(10,"a",20),D("click",function(){x(e);let i=E(2);return M(i.navigateToUrl("/meditationhub"))}),_(11,"i",24),f(12,"Meditation Hub"),c(),u(13,"a",20),D("click",function(){x(e);let i=E(2);return M(i.navigateToUrl("/analytics"))}),_(14,"i",25),f(15,"Analytics"),c(),u(16,"a",20),D("click",function(){x(e);let i=E(2);return M(i.navigateToUrl("/tradeaccounts"))}),_(17,"i",26),f(18,"Trade Accounts"),c()()}}function xj(n,t){if(n&1&&(u(0,"div"),_(1,"img",32),c()),n&2){let e=E(3);m(),y("src",e.profile_image_blob_url,Bn)}}function Mj(n,t){n&1&&(u(0,"div"),_(1,"i",33),c())}function Aj(n,t){if(n&1){let e=H();u(0,"div",27)(1,"div",28),S(2,xj,2,1,"div",0)(3,Mj,2,0,"div",0),f(4," \xA0\xA0 "),u(5,"p",29),f(6),c()(),u(7,"button",30),D("click",function(){x(e);let i=E(2);return M(i.logOut())}),f(8,"Logout\xA0\xA0\xA0"),_(9,"i",31),c()()}if(n&2){let e=E(2);m(2),y("ngIf",e.profile_image_blob_url),m(),y("ngIf",!e.profile_image_blob_url),m(3),U("Welcome, ",e.user_firstname,"!")}}function kj(n,t){if(n&1){let e=H();u(0,"button",34),D("click",function(){x(e);let i=E(2);return M(i.navigateToUrl("/home"))}),_(1,"img",35),c()}}function Nj(n,t){if(n&1){let e=H();ot(0),u(1,"div",2)(2,"nav",3)(3,"div",4)(4,"div",5)(5,"button",6),D("click",function(){x(e);let i=E();return M(i.navigateToUrl("/home"))}),u(6,"img",7),D("click",function(){x(e);let i=E();return M(i.navigateToUrl("/home"))}),c()(),u(7,"button",8),D("click",function(){x(e);let i=E();return M(i.closeSidebar())}),c()(),S(8,Tj,19,0,"div",9),c(),S(9,Aj,10,3,"div",10),c(),u(10,"div",11)(11,"nav",12)(12,"div",13)(13,"div",14)(14,"button",15),D("click",function(){x(e);let i=E();return M(i.toggleSidebar())}),_(15,"span",16),c(),S(16,kj,2,0,"button",17),c()()(),u(17,"div",18),_(18,"router-outlet"),c()()(),st()}if(n&2){let e=E();m(2),Gt("collapsed",e.sidebarCollapsed()),m(6),y("ngIf",e.loginStatus()),m(),y("ngIf",e.loginStatus()),m(),Gt("expanded",e.sidebarCollapsed()),m(6),y("ngIf",e.sidebarCollapsed())}}var cf=class n{constructor(t,e,r,i,o){this.cdr=t;this.supabaseService=e;this.router=r;this.route=i;this.platformId=o;this.loginStatus=$i(()=>e.loginStatus()),Jr(()=>{this.loginStatus()&&(this.route.queryParams.subscribe(s=>{let a=s.returnUrl;a?this.router.navigate([a]):this.router.navigate(["/home"])}),this.loadUserProfile())}),bp(()=>{})}title="TR-prototype";profile_image_blob_url="";loginStatus;sidebarCollapsed=zt(!1);isMobile=zt(!1);user_firstname="";resizeObserver;async ngOnInit(){this.checkScreenSize(),Re(this.platformId)&&(this.sidebarCollapsed.set(this.isMobile()),this.resizeObserver=new ResizeObserver(()=>{this.checkScreenSize(),this.cdr.detectChanges()}),this.resizeObserver.observe(document.body))}ngOnDestroy(){Re(this.platformId)&&this.resizeObserver&&this.resizeObserver.disconnect()}async loadUserProfile(){let{data:t}=await this.supabaseService.getProfile();t&&(this.user_firstname=t.firstname,t.profile_picture_url&&(this.profile_image_blob_url=await this.supabaseService.getCachedProfilePictureBlobUrl(t.profile_picture_url)),this.cdr.markForCheck())}async logOut(){await this.supabaseService.signOut(),this.router.navigateByUrl("/")}toggleSidebar(){this.sidebarCollapsed.update(t=>!t),this.cdr.detectChanges()}navigateToUrl(t){this.router.navigateByUrl(t)}closeSidebar(){this.sidebarCollapsed.set(!0),this.cdr.detectChanges()}checkScreenSize(){Re(this.platformId)&&this.isMobile.set(window.innerWidth<768)}static \u0275fac=function(e){return new(e||n)(T(ce),T(le),T(Nn),T(kn),T(Ct))};static \u0275cmp=re({type:n,selectors:[["app-root"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"container-fluid","p-0"],[1,"sidebar-container"],["id","sidebar",1,"d-flex","flex-column","h-100"],[1,"p-3","flex-grow-1"],[1,"mb-3","d-flex","align-items-center","justify-content-between"],[1,"text-decoration-none","me-auto","btn","btn-link","p-0","me-3",3,"click"],["src","/trading_rehab_main_logo.png",1,"img-fluid",2,"height","36px",3,"click"],["type","button",1,"btn-close","d-md-none",3,"click"],["class","nav flex-column",4,"ngIf"],["class","p-3 border-top mt-auto",4,"ngIf"],[1,"content"],[1,"navbar","navbar-expand-lg"],[1,"container-fluid"],[1,"d-flex","align-items-center"],[1,"btn","me-2",3,"click"],[1,"navbar-toggler-icon"],["class","btn navbar-branding text-decoration-none me-auto",3,"click",4,"ngIf"],[1,"container-fluid","ps-3"],[1,"nav","flex-column"],[1,"nav-link",3,"click"],[1,"bi","bi-columns-gap","me-3"],[1,"bi","bi-brightness-high","me-3"],[1,"bi","bi-bookmark-check","me-3"],[1,"bi","bi-person-arms-up","me-3"],[1,"bi","bi-clipboard-data","me-3"],[1,"bi","bi-journals","me-3"],[1,"p-3","border-top","mt-auto"],["routerLink","/useraccount",1,"d-flex","align-items-center","mb-2",2,"cursor","pointer"],[1,"text-black","mb-0"],[1,"btn","btn-outline-secondary","btn-tr","w-100",3,"click"],[1,"bi","bi-box-arrow-right"],["alt","Profile",1,"rounded-circle","me-2",2,"width","40px","height","40px","object-fit","cover",3,"src"],[1,"bi","bi-person-circle","text-black",2,"font-size","30px"],[1,"btn","navbar-branding","text-decoration-none","me-auto",3,"click"],["src","/trading-rehab-logo.png","width","50px",1,"img-fluid"]],template:function(e,r){e&1&&S(0,Ij,3,0,"ng-container",0)(1,Nj,19,7,"ng-container",0),e&2&&(y("ngIf",!r.supabaseService.loginStatus()),m(),y("ngIf",r.supabaseService.loginStatus()))},dependencies:[ge,ye,Xm,ze],styles:[".sidebar-container[_ngcontent-%COMP%]{display:flex;width:100%;position:relative}#sidebar[_ngcontent-%COMP%]{width:250px;position:fixed;top:0;left:0;height:100dvh;z-index:999;background:#634aff0d;-webkit-backdrop-filter:blur(50px);backdrop-filter:blur(50px);transition:all .3s;box-shadow:0 0 10px #0000001a}#sidebar.collapsed[_ngcontent-%COMP%]{margin-left:-250px}.content[_ngcontent-%COMP%]{width:calc(100% - 250px);margin-left:250px;transition:all .3s;min-height:100dvh;background-color:transparent}.content.expanded[_ngcontent-%COMP%]{width:100%;margin-left:0}@media (max-width: 768px){#sidebar[_ngcontent-%COMP%]{margin-left:-250px}#sidebar[_ngcontent-%COMP%]:not(.collapsed){margin-left:0}.content[_ngcontent-%COMP%]{width:100%;margin-left:0}}.nav-link[_ngcontent-%COMP%]{padding:15px 20px;color:#333;border-bottom:1px solid #ddd;cursor:pointer}.nav-link[_ngcontent-%COMP%]:hover{background-color:#e9ecef}.navbar[_ngcontent-%COMP%]{padding:15px 10px}"]})};Ww(cf,cD).catch(n=>console.error(n));
