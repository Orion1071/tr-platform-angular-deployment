import{b as Rv,c as Ov,f as hD,g as Pv}from"./chunk-65CJINC2.js";import{a as N,b as z,c as mo,e as er,g as dD,h as fD}from"./chunk-VOSPIT4N.js";var og=er(ig=>{"use strict";Object.defineProperty(ig,"__esModule",{value:!0});var rg=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};ig.default=rg});var ag=er(ka=>{"use strict";var xE=ka&&ka.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ka,"__esModule",{value:!0});var KR=xE((Pv(),fD(hD))),ZR=xE(og()),sg=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=KR.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=Object.assign({},this.headers),this.headers[t]=e,this}then(t,e){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var s,a,l;let u=null,h=null,p=null,v=o.status,g=o.statusText;if(o.ok){if(this.method!=="HEAD"){let k=await o.text();k===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?h=k:h=JSON.parse(k))}let w=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),C=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");w&&C&&C.length>1&&(p=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(u={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,p=null,v=406,g="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{let w=await o.text();try{u=JSON.parse(w),Array.isArray(u)&&o.status===404&&(h=[],u=null,v=200,g="OK")}catch{o.status===404&&w===""?(v=204,g="No Content"):u={message:w}}if(u&&this.isMaybeSingle&&(!((l=u?.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,v=200,g="OK"),u&&this.shouldThrowOnError)throw new ZR.default(u)}return{error:u,data:h,count:p,status:v,statusText:g}});return this.shouldThrowOnError||(i=i.catch(o=>{var s,a,l;return{error:{message:`${(s=o?.name)!==null&&s!==void 0?s:"FetchError"}: ${o?.message}`,details:`${(a=o?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=o?.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}};ka.default=sg});var cg=er(Na=>{"use strict";var YR=Na&&Na.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Na,"__esModule",{value:!0});var JR=YR(ag()),lg=class extends JR.default{select(t){let e=!1,r=(t??"*").split("").map(i=>/\s/.test(i)&&!e?"":(i==='"'&&(e=!e),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){let s=o?`${o}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){let i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:i=r}={}){let o=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(s,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){var a;let l=[t?"analyze":null,e?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${u}"; options=${l};`,s==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Na.default=lg});var zu=er(Ra=>{"use strict";var XR=Ra&&Ra.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ra,"__esModule",{value:!0});var eO=XR(cg()),ug=class extends eO.default{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}in(t,e){let r=Array.from(new Set(e)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${s}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){let i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}};Ra.default=ug});var fg=er(Pa=>{"use strict";var tO=Pa&&Pa.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Pa,"__esModule",{value:!0});var Oa=tO(zu()),dg=class{constructor(t,{headers:e={},schema:r,fetch:i}){this.url=t,this.headers=e,this.schema=r,this.fetch=i}select(t,{head:e=!1,count:r}={}){let i=e?"HEAD":"GET",o=!1,s=(t??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new Oa.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:e,defaultToNull:r=!0}={}){let i="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),e&&o.push(`count=${e}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){let s=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(s.length>0){let a=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Oa.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){let s="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(e!==void 0&&this.url.searchParams.set("on_conflict",e),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){let l=t.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(l.length>0){let u=[...new Set(l)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new Oa.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:e}={}){let r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),e&&i.push(`count=${e}`),this.headers.Prefer=i.join(","),new Oa.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){let e="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Oa.default({method:e,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Pa.default=dg});var ME=er(qu=>{"use strict";Object.defineProperty(qu,"__esModule",{value:!0});qu.version=void 0;qu.version="0.0.0-automated"});var AE=er(Gu=>{"use strict";Object.defineProperty(Gu,"__esModule",{value:!0});Gu.DEFAULT_HEADERS=void 0;var nO=ME();Gu.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${nO.version}`}});var NE=er(Fa=>{"use strict";var kE=Fa&&Fa.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Fa,"__esModule",{value:!0});var rO=kE(fg()),iO=kE(zu()),oO=AE(),hg=class n{constructor(t,{headers:e={},schema:r,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},oO.DEFAULT_HEADERS),e),this.schemaName=r,this.fetch=i}from(t){let e=new URL(`${this.url}/${t}`);return new rO.default(e,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new n(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,e={},{head:r=!1,get:i=!1,count:o}={}){let s,a=new URL(`${this.url}/rpc/${t}`),l;r||i?(s=r?"HEAD":"GET",Object.entries(e).filter(([h,p])=>p!==void 0).map(([h,p])=>[h,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([h,p])=>{a.searchParams.append(h,p)})):(s="POST",l=e);let u=Object.assign({},this.headers);return o&&(u.Prefer=`count=${o}`),new iO.default({method:s,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Fa.default=hg});var jE=er(st=>{"use strict";var rs=st&&st.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(st,"__esModule",{value:!0});st.PostgrestError=st.PostgrestBuilder=st.PostgrestTransformBuilder=st.PostgrestFilterBuilder=st.PostgrestQueryBuilder=st.PostgrestClient=void 0;var RE=rs(NE());st.PostgrestClient=RE.default;var OE=rs(fg());st.PostgrestQueryBuilder=OE.default;var PE=rs(zu());st.PostgrestFilterBuilder=PE.default;var FE=rs(cg());st.PostgrestTransformBuilder=FE.default;var LE=rs(ag());st.PostgrestBuilder=LE.default;var VE=rs(og());st.PostgrestError=VE.default;st.default={PostgrestClient:RE.default,PostgrestQueryBuilder:OE.default,PostgrestFilterBuilder:PE.default,PostgrestTransformBuilder:FE.default,PostgrestBuilder:LE.default,PostgrestError:VE.default}});function Lv(n,t){return Object.is(n,t)}var Qe=null,Ss=!1,pf=1,Et=Symbol("SIGNAL");function he(n){let t=Qe;return Qe=n,t}function Vv(){return Qe}function pD(){return Ss}var mi={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function vl(n){if(Ss)throw new Error("");if(Qe===null)return;Qe.consumerOnSignalRead(n);let t=Qe.nextProducerIndex++;if(_l(Qe),t<Qe.producerNode.length&&Qe.producerNode[t]!==n&&Ds(Qe)){let e=Qe.producerNode[t];yl(e,Qe.producerIndexOfThis[t])}Qe.producerNode[t]!==n&&(Qe.producerNode[t]=n,Qe.producerIndexOfThis[t]=Ds(Qe)?Hv(n,Qe,t):0),Qe.producerLastReadVersion[t]=n.version}function mD(){pf++}function jv(n){if(!(Ds(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===pf)){if(!n.producerMustRecompute(n)&&!Ts(n)){Fv(n);return}n.producerRecomputeValue(n),Fv(n)}}function Uv(n){if(n.liveConsumerNode===void 0)return;let t=Ss;Ss=!0;try{for(let e of n.liveConsumerNode)e.dirty||$v(e)}finally{Ss=t}}function Bv(){return Qe?.consumerAllowSignalWrites!==!1}function $v(n){n.dirty=!0,Uv(n),n.consumerMarkedDirty?.(n)}function Fv(n){n.dirty=!1,n.lastCleanEpoch=pf}function go(n){return n&&(n.nextProducerIndex=0),he(n)}function Is(n,t){if(he(t),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Ds(n))for(let e=n.nextProducerIndex;e<n.producerNode.length;e++)yl(n.producerNode[e],n.producerIndexOfThis[e]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Ts(n){_l(n);for(let t=0;t<n.producerNode.length;t++){let e=n.producerNode[t],r=n.producerLastReadVersion[t];if(r!==e.version||(jv(e),r!==e.version))return!0}return!1}function vo(n){if(_l(n),Ds(n))for(let t=0;t<n.producerNode.length;t++)yl(n.producerNode[t],n.producerIndexOfThis[t]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Hv(n,t,e){if(zv(n),n.liveConsumerNode.length===0&&qv(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=Hv(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(e),n.liveConsumerNode.push(t)-1}function yl(n,t){if(zv(n),n.liveConsumerNode.length===1&&qv(n))for(let r=0;r<n.producerNode.length;r++)yl(n.producerNode[r],n.producerIndexOfThis[r]);let e=n.liveConsumerNode.length-1;if(n.liveConsumerNode[t]=n.liveConsumerNode[e],n.liveConsumerIndexOfThis[t]=n.liveConsumerIndexOfThis[e],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,t<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[t],i=n.liveConsumerNode[t];_l(i),i.producerIndexOfThis[r]=t}}function Ds(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function _l(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function zv(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function qv(n){return n.producerNode!==void 0}function Gv(n){let t=Object.create(gD);t.computation=n;let e=()=>{if(jv(t),vl(t),t.value===gl)throw t.error;return t.value};return e[Et]=t,e}var df=Symbol("UNSET"),ff=Symbol("COMPUTING"),gl=Symbol("ERRORED"),gD=z(N({},mi),{value:df,dirty:!0,error:null,equal:Lv,kind:"computed",producerMustRecompute(n){return n.value===df||n.value===ff},producerRecomputeValue(n){if(n.value===ff)throw new Error("Detected cycle in computations.");let t=n.value;n.value=ff;let e=go(n),r,i=!1;try{r=n.computation(),he(null),i=t!==df&&t!==gl&&r!==gl&&n.equal(t,r)}catch(o){r=gl,n.error=o}finally{Is(n,e)}if(i){n.value=t;return}n.value=r,n.version++}});function vD(){throw new Error}var Wv=vD;function Qv(){Wv()}function Kv(n){Wv=n}var yD=null;function Zv(n){let t=Object.create(mf);t.value=n;let e=()=>(vl(t),t.value);return e[Et]=t,e}function bl(n,t){Bv()||Qv(),n.equal(n.value,t)||(n.value=t,_D(n))}function Yv(n,t){Bv()||Qv(),bl(n,t(n.value))}var mf=z(N({},mi),{equal:Lv,value:void 0,kind:"signal"});function _D(n){n.version++,mD(),Uv(n),yD?.()}function Jv(n,t,e){let r=Object.create(bD);e&&(r.consumerAllowSignalWrites=!0),r.fn=n,r.schedule=t;let i=l=>{r.cleanupFn=l};function o(l){return l.fn===null&&l.schedule===null}function s(l){o(l)||(vo(l),l.cleanupFn(),l.fn=null,l.schedule=null,l.cleanupFn=hf)}let a=()=>{if(r.fn===null)return;if(pD())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!Ts(r))return;r.hasRun=!0;let l=go(r);try{r.cleanupFn(),r.cleanupFn=hf,r.fn(i)}finally{Is(r,l)}};return r.ref={notify:()=>$v(r),run:a,cleanup:()=>r.cleanupFn(),destroy:()=>s(r),[Et]:r},r.ref}var hf=()=>{},bD=z(N({},mi),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule!==null&&n.schedule(n.ref)},hasRun:!1,cleanupFn:hf});function Y(n){return typeof n=="function"}function yo(n){let e=n(r=>{Error.call(r),r.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var wl=yo(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function gi(n,t){if(n){let e=n.indexOf(t);0<=e&&n.splice(e,1)}}var Te=class n{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let o of e)o.remove(this);else e.remove(this);let{initialTeardown:r}=this;if(Y(r))try{r()}catch(o){t=o instanceof wl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Xv(o)}catch(s){t=t??[],s instanceof wl?t=[...t,...s.errors]:t.push(s)}}if(t)throw new wl(t)}}add(t){var e;if(t&&t!==this)if(this.closed)Xv(t);else{if(t instanceof n){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(t)}}_hasParent(t){let{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){let{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&gi(e,t)}remove(t){let{_finalizers:e}=this;e&&gi(e,t),t instanceof n&&t._removeParent(this)}};Te.EMPTY=(()=>{let n=new Te;return n.closed=!0,n})();var gf=Te.EMPTY;function El(n){return n instanceof Te||n&&"closed"in n&&Y(n.remove)&&Y(n.add)&&Y(n.unsubscribe)}function Xv(n){Y(n)?n():n.unsubscribe()}var Cn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var _o={setTimeout(n,t,...e){let{delegate:r}=_o;return r?.setTimeout?r.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){let{delegate:t}=_o;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Cl(n){_o.setTimeout(()=>{let{onUnhandledError:t}=Cn;if(t)t(n);else throw n})}function xs(){}var e0=vf("C",void 0,void 0);function t0(n){return vf("E",void 0,n)}function n0(n){return vf("N",n,void 0)}function vf(n,t,e){return{kind:n,value:t,error:e}}var vi=null;function bo(n){if(Cn.useDeprecatedSynchronousErrorHandling){let t=!vi;if(t&&(vi={errorThrown:!1,error:null}),n(),t){let{errorThrown:e,error:r}=vi;if(vi=null,e)throw r}}else n()}function r0(n){Cn.useDeprecatedSynchronousErrorHandling&&vi&&(vi.errorThrown=!0,vi.error=n)}var yi=class extends Te{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,El(t)&&t.add(this)):this.destination=CD}static create(t,e,r){return new tr(t,e,r)}next(t){this.isStopped?_f(n0(t),this):this._next(t)}error(t){this.isStopped?_f(t0(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?_f(e0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},wD=Function.prototype.bind;function yf(n,t){return wD.call(n,t)}var bf=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(r){Sl(r)}}error(t){let{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(r){Sl(r)}else Sl(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){Sl(e)}}},tr=class extends yi{constructor(t,e,r){super();let i;if(Y(t)||!t)i={next:t??void 0,error:e??void 0,complete:r??void 0};else{let o;this&&Cn.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&yf(t.next,o),error:t.error&&yf(t.error,o),complete:t.complete&&yf(t.complete,o)}):i=t}this.destination=new bf(i)}};function Sl(n){Cn.useDeprecatedSynchronousErrorHandling?r0(n):Cl(n)}function ED(n){throw n}function _f(n,t){let{onStoppedNotification:e}=Cn;e&&_o.setTimeout(()=>e(n,t))}var CD={closed:!0,next:xs,error:ED,complete:xs};var wo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Vt(n){return n}function wf(...n){return Ef(n)}function Ef(n){return n.length===0?Vt:n.length===1?n[0]:function(e){return n.reduce((r,i)=>i(r),e)}}var ue=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){let r=new n;return r.source=this,r.operator=e,r}subscribe(e,r,i){let o=DD(e)?e:new tr(e,r,i);return bo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return r=i0(r),new r((i,o)=>{let s=new tr({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)}[wo](){return this}pipe(...e){return Ef(e)(this)}toPromise(e){return e=i0(e),new e((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=t=>new n(t),n})();function i0(n){var t;return(t=n??Cn.Promise)!==null&&t!==void 0?t:Promise}function SD(n){return n&&Y(n.next)&&Y(n.error)&&Y(n.complete)}function DD(n){return n&&n instanceof yi||SD(n)&&El(n)}function Cf(n){return Y(n?.lift)}function oe(n){return t=>{if(Cf(t))return t.lift(function(e){try{return n(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function se(n,t,e,r,i){return new Sf(n,t,e,r,i)}var Sf=class extends yi{constructor(t,e,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Eo(){return oe((n,t)=>{let e=null;n._refCount++;let r=se(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){e=null;return}let i=n._connection,o=e;e=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}var Co=class extends ue{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Cf(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Te;let e=this.getSubject();t.add(this.source.subscribe(se(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Te.EMPTY)}return t}refCount(){return Eo()(this)}};var o0=yo(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var xe=(()=>{class n extends ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let r=new Dl(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new o0}next(e){bo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(e)}})}error(e){bo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){bo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:r,isStopped:i,observers:o}=this;return r||i?gf:(this.currentObservers=null,o.push(e),new Te(()=>{this.currentObservers=null,gi(o,e)}))}_checkFinalizedStatuses(e){let{hasError:r,thrownError:i,isStopped:o}=this;r?e.error(i):o&&e.complete()}asObservable(){let e=new ue;return e.source=this,e}}return n.create=(t,e)=>new Dl(t,e),n})(),Dl=class extends xe{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.next)===null||r===void 0||r.call(e,t)}error(t){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.error)===null||r===void 0||r.call(e,t)}complete(){var t,e;(e=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||e===void 0||e.call(t)}_subscribe(t){var e,r;return(r=(e=this.source)===null||e===void 0?void 0:e.subscribe(t))!==null&&r!==void 0?r:gf}};var rt=class extends xe{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){let{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var Df={now(){return(Df.delegate||Date).now()},delegate:void 0};var Il=class extends Te{constructor(t,e){super()}schedule(t,e=0){return this}};var Ms={setInterval(n,t,...e){let{delegate:r}=Ms;return r?.setInterval?r.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){let{delegate:t}=Ms;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};var Tl=class extends Il{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var r;if(this.closed)return this;this.state=t;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,e)),this.pending=!0,this.delay=e,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,e),this}requestAsyncId(t,e,r=0){return Ms.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,e,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return e;e!=null&&Ms.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(t,e);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r=!1,i;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:t,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,gi(r,this),t!=null&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}};var So=class n{constructor(t,e=n.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,r){return new this.schedulerActionCtor(this,t).schedule(r,e)}};So.now=Df.now;var xl=class extends So{constructor(t,e=So.now){super(t,e),this.actions=[],this._active=!1}flush(t){let{actions:e}=this;if(this._active){e.push(t);return}let r;this._active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=e.shift());if(this._active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}};var s0=new xl(Tl);var Ct=new ue(n=>n.complete());function a0(n){return n&&Y(n.schedule)}function l0(n){return n[n.length-1]}function Ml(n){return Y(l0(n))?n.pop():void 0}function Fr(n){return a0(l0(n))?n.pop():void 0}function u0(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(h){try{u(r.next(h))}catch(p){s(p)}}function l(h){try{u(r.throw(h))}catch(p){s(p)}}function u(h){h.done?o(h.value):i(h.value).then(a,l)}u((r=r.apply(n,t||[])).next())})}function c0(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function _i(n){return this instanceof _i?(this.v=n,this):new _i(n)}function d0(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(n,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(b){return Promise.resolve(b).then(g,p)}}function a(g,b){r[g]&&(i[g]=function(w){return new Promise(function(C,k){o.push([g,w,C,k])>1||l(g,w)})},b&&(i[g]=b(i[g])))}function l(g,b){try{u(r[g](b))}catch(w){v(o[0][3],w)}}function u(g){g.value instanceof _i?Promise.resolve(g.value.v).then(h,p):v(o[0][2],g)}function h(g){l("next",g)}function p(g){l("throw",g)}function v(g,b){g(b),o.shift(),o.length&&l(o[0][0],o[0][1])}}function f0(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],e;return t?t.call(n):(n=typeof c0=="function"?c0(n):n[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(o){e[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}var Al=n=>n&&typeof n.length=="number"&&typeof n!="function";function kl(n){return Y(n?.then)}function Nl(n){return Y(n[wo])}function Rl(n){return Symbol.asyncIterator&&Y(n?.[Symbol.asyncIterator])}function Ol(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function ID(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Pl=ID();function Fl(n){return Y(n?.[Pl])}function Ll(n){return d0(this,arguments,function*(){let e=n.getReader();try{for(;;){let{value:r,done:i}=yield _i(e.read());if(i)return yield _i(void 0);yield yield _i(r)}}finally{e.releaseLock()}})}function Vl(n){return Y(n?.getReader)}function Ne(n){if(n instanceof ue)return n;if(n!=null){if(Nl(n))return TD(n);if(Al(n))return xD(n);if(kl(n))return MD(n);if(Rl(n))return h0(n);if(Fl(n))return AD(n);if(Vl(n))return kD(n)}throw Ol(n)}function TD(n){return new ue(t=>{let e=n[wo]();if(Y(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function xD(n){return new ue(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}function MD(n){return new ue(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Cl)})}function AD(n){return new ue(t=>{for(let e of n)if(t.next(e),t.closed)return;t.complete()})}function h0(n){return new ue(t=>{ND(n,t).catch(e=>t.error(e))})}function kD(n){return h0(Ll(n))}function ND(n,t){var e,r,i,o;return u0(this,void 0,void 0,function*(){try{for(e=f0(n);r=yield e.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=e.return)&&(yield o.call(e))}finally{if(i)throw i.error}}t.complete()})}function St(n,t,e,r=0,i=!1){let o=t.schedule(function(){e(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function jl(n,t=0){return oe((e,r)=>{e.subscribe(se(r,i=>St(r,n,()=>r.next(i),t),()=>St(r,n,()=>r.complete(),t),i=>St(r,n,()=>r.error(i),t)))})}function Ul(n,t=0){return oe((e,r)=>{r.add(n.schedule(()=>e.subscribe(r),t))})}function p0(n,t){return Ne(n).pipe(Ul(t),jl(t))}function m0(n,t){return Ne(n).pipe(Ul(t),jl(t))}function g0(n,t){return new ue(e=>{let r=0;return t.schedule(function(){r===n.length?e.complete():(e.next(n[r++]),e.closed||this.schedule())})})}function v0(n,t){return new ue(e=>{let r;return St(e,t,()=>{r=n[Pl](),St(e,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){e.error(s);return}o?e.complete():e.next(i)},0,!0)}),()=>Y(r?.return)&&r.return()})}function Bl(n,t){if(!n)throw new Error("Iterable cannot be null");return new ue(e=>{St(e,t,()=>{let r=n[Symbol.asyncIterator]();St(e,t,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function y0(n,t){return Bl(Ll(n),t)}function _0(n,t){if(n!=null){if(Nl(n))return p0(n,t);if(Al(n))return g0(n,t);if(kl(n))return m0(n,t);if(Rl(n))return Bl(n,t);if(Fl(n))return v0(n,t);if(Vl(n))return y0(n,t)}throw Ol(n)}function Re(n,t){return t?_0(n,t):Ne(n)}function q(...n){let t=Fr(n);return Re(n,t)}function Lr(n,t){let e=Y(n)?n:()=>n,r=i=>i.error(e());return new ue(t?i=>t.schedule(r,0,i):r)}function If(n){return!!n&&(n instanceof ue||Y(n.lift)&&Y(n.subscribe))}var nr=yo(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function G(n,t){return oe((e,r)=>{let i=0;e.subscribe(se(r,o=>{r.next(n.call(t,o,i++))}))})}var{isArray:RD}=Array;function OD(n,t){return RD(t)?n(...t):n(t)}function $l(n){return G(t=>OD(n,t))}var{isArray:PD}=Array,{getPrototypeOf:FD,prototype:LD,keys:VD}=Object;function Hl(n){if(n.length===1){let t=n[0];if(PD(t))return{args:t,keys:null};if(jD(t)){let e=VD(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}function jD(n){return n&&typeof n=="object"&&FD(n)===LD}function zl(n,t){return n.reduce((e,r,i)=>(e[r]=t[i],e),{})}function Do(...n){let t=Fr(n),e=Ml(n),{args:r,keys:i}=Hl(n);if(r.length===0)return Re([],t);let o=new ue(UD(r,t,i?s=>zl(i,s):Vt));return e?o.pipe($l(e)):o}function UD(n,t,e=Vt){return r=>{b0(t,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)b0(t,()=>{let u=Re(n[l],t),h=!1;u.subscribe(se(r,p=>{o[l]=p,h||(h=!0,a--),a||r.next(e(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function b0(n,t,e){n?St(e,n,t):t()}function w0(n,t,e,r,i,o,s,a){let l=[],u=0,h=0,p=!1,v=()=>{p&&!l.length&&!u&&t.complete()},g=w=>u<r?b(w):l.push(w),b=w=>{o&&t.next(w),u++;let C=!1;Ne(e(w,h++)).subscribe(se(t,k=>{i?.(k),o?g(k):t.next(k)},()=>{C=!0},void 0,()=>{if(C)try{for(u--;l.length&&u<r;){let k=l.shift();s?St(t,s,()=>b(k)):b(k)}v()}catch(k){t.error(k)}}))};return n.subscribe(se(t,g,()=>{p=!0,v()})),()=>{a?.()}}function Ke(n,t,e=1/0){return Y(t)?Ke((r,i)=>G((o,s)=>t(r,o,i,s))(Ne(n(r,i))),e):(typeof t=="number"&&(e=t),oe((r,i)=>w0(r,i,n,e)))}function Tf(n=1/0){return Ke(Vt,n)}function E0(){return Tf(1)}function Vr(...n){return E0()(Re(n,Fr(n)))}function ql(n){return new ue(t=>{Ne(n()).subscribe(t)})}function As(...n){let t=Ml(n),{args:e,keys:r}=Hl(n),i=new ue(o=>{let{length:s}=e;if(!s){o.complete();return}let a=new Array(s),l=s,u=s;for(let h=0;h<s;h++){let p=!1;Ne(e[h]).subscribe(se(o,v=>{p||(p=!0,u--),a[h]=v},()=>l--,void 0,()=>{(!l||!p)&&(u||o.next(r?zl(r,a):a),o.complete())}))}});return t?i.pipe($l(t)):i}function gt(n,t){return oe((e,r)=>{let i=0;e.subscribe(se(r,o=>n.call(t,o,i++)&&r.next(o)))})}function Vn(n){return oe((t,e)=>{let r=null,i=!1,o;r=t.subscribe(se(e,void 0,void 0,s=>{o=Ne(n(s,Vn(n)(t))),r?(r.unsubscribe(),r=null,o.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(e))})}function C0(n,t,e,r,i){return(o,s)=>{let a=e,l=t,u=0;o.subscribe(se(s,h=>{let p=u++;l=a?n(l,h,p):(a=!0,h),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function jr(n,t){return Y(t)?Ke(n,t,1):Ke(n,1)}function xf(n,t=s0){return oe((e,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let u=o;o=null,r.next(u)}};function l(){let u=s+n,h=t.now();if(h<u){i=this.schedule(void 0,u-h),r.add(i);return}a()}e.subscribe(se(r,u=>{o=u,s=t.now(),i||(i=t.schedule(l,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function Ur(n){return oe((t,e)=>{let r=!1;t.subscribe(se(e,i=>{r=!0,e.next(i)},()=>{r||e.next(n),e.complete()}))})}function jt(n){return n<=0?()=>Ct:oe((t,e)=>{let r=0;t.subscribe(se(e,i=>{++r<=n&&(e.next(i),n<=r&&e.complete())}))})}function Gl(n=BD){return oe((t,e)=>{let r=!1;t.subscribe(se(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(n())))})}function BD(){return new nr}function rr(n){return oe((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function ir(n,t){let e=arguments.length>=2;return r=>r.pipe(n?gt((i,o)=>n(i,o,r)):Vt,jt(1),e?Ur(t):Gl(()=>new nr))}function Io(n){return n<=0?()=>Ct:oe((t,e)=>{let r=[];t.subscribe(se(e,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function Mf(n,t){let e=arguments.length>=2;return r=>r.pipe(n?gt((i,o)=>n(i,o,r)):Vt,Io(1),e?Ur(t):Gl(()=>new nr))}function Af(n,t){return oe(C0(n,t,arguments.length>=2,!0))}function Nf(n={}){let{connector:t=()=>new xe,resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,l,u=0,h=!1,p=!1,v=()=>{a?.unsubscribe(),a=void 0},g=()=>{v(),s=l=void 0,h=p=!1},b=()=>{let w=s;g(),w?.unsubscribe()};return oe((w,C)=>{u++,!p&&!h&&v();let k=l=l??t();C.add(()=>{u--,u===0&&!p&&!h&&(a=kf(b,i))}),k.subscribe(C),!s&&u>0&&(s=new tr({next:F=>k.next(F),error:F=>{p=!0,v(),a=kf(g,e,F),k.error(F)},complete:()=>{h=!0,v(),a=kf(g,r),k.complete()}}),Ne(w).subscribe(s))})(o)}}function kf(n,t,...e){if(t===!0){n();return}if(t===!1)return;let r=new tr({next:()=>{r.unsubscribe(),n()}});return Ne(t(...e)).subscribe(r)}function Rf(n){return gt((t,e)=>n<=e)}function ks(...n){let t=Fr(n);return oe((e,r)=>{(t?Vr(n,e,t):Vr(n,e)).subscribe(r)})}function Ut(n,t){return oe((e,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();e.subscribe(se(r,l=>{i?.unsubscribe();let u=0,h=o++;Ne(n(l,h)).subscribe(i=se(r,p=>r.next(t?t(l,p,h,u++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Ns(n){return oe((t,e)=>{Ne(n).subscribe(se(e,()=>e.complete(),xs)),!e.closed&&t.subscribe(e)})}function Pe(n,t,e){let r=Y(n)||t||e?{next:n,error:t,complete:e}:n;return r?oe((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(se(o,l=>{var u;(u=r.next)===null||u===void 0||u.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,l),o.error(l)},()=>{var l,u;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Vt}var cy="https://g.co/ng/security#xss",A=class extends Error{code;constructor(t,e){super(Rc(t,e)),this.code=t}};function Rc(n,t){return`${`NG0${Math.abs(n)}`}${t?": "+t:""}`}var uy=Symbol("InputSignalNode#UNSET"),$D=z(N({},mf),{transformFn:void 0,applyValueToInputSignal(n,t){bl(n,t)}});function dy(n,t){let e=Object.create($D);e.value=n,e.transformFn=t?.transform;function r(){if(vl(e),e.value===uy)throw new A(-950,!1);return e.value}return r[Et]=e,r}function Ws(n){return{toString:n}.toString()}var Wl="__parameters__";function HD(n){return function(...e){if(n){let r=n(...e);for(let i in r)this[i]=r[i]}}}function fy(n,t,e){return Ws(()=>{let r=HD(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,u,h){let p=l.hasOwnProperty(Wl)?l[Wl]:Object.defineProperty(l,Wl,{value:[]})[Wl];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),l}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var or=globalThis;function Ce(n){for(let t in n)if(n[t]===Ce)return t;throw Error("Could not find renamed property on target object.")}function zD(n,t){for(let e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function yt(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(yt).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let t=n.toString();if(t==null)return""+t;let e=t.indexOf(`
`);return e===-1?t:t.substring(0,e)}function Gf(n,t){return n==null||n===""?t===null?"":t:t==null||t===""?n:n+" "+t}var qD=Ce({__forward_ref__:Ce});function ft(n){return n.__forward_ref__=ft,n.toString=function(){return yt(this())},n}function vt(n){return hy(n)?n():n}function hy(n){return typeof n=="function"&&n.hasOwnProperty(qD)&&n.__forward_ref__===ft}function R(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ze(n){return{providers:n.providers||[],imports:n.imports||[]}}function Oc(n){return S0(n,my)||S0(n,gy)}function py(n){return Oc(n)!==null}function S0(n,t){return n.hasOwnProperty(t)?n[t]:null}function GD(n){let t=n&&(n[my]||n[gy]);return t||null}function D0(n){return n&&(n.hasOwnProperty(I0)||n.hasOwnProperty(WD))?n[I0]:null}var my=Ce({\u0275prov:Ce}),I0=Ce({\u0275inj:Ce}),gy=Ce({ngInjectableDef:Ce}),WD=Ce({ngInjectorDef:Ce}),L=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,e){this._desc=t,this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=R({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function vy(n){return n&&!!n.\u0275providers}var QD=Ce({\u0275cmp:Ce}),KD=Ce({\u0275dir:Ce}),ZD=Ce({\u0275pipe:Ce}),YD=Ce({\u0275mod:Ce}),sc=Ce({\u0275fac:Ce}),Fs=Ce({__NG_ELEMENT_ID__:Ce}),T0=Ce({__NG_ENV_ID__:Ce});function sr(n){return typeof n=="string"?n:n==null?"":String(n)}function JD(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():sr(n)}function XD(n,t){let e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new A(-200,n)}function Zh(n,t){throw new A(-201,!1)}var ne=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ne||{}),Wf;function yy(){return Wf}function Dt(n){let t=Wf;return Wf=n,t}function _y(n,t,e){let r=Oc(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(e&ne.Optional)return null;if(t!==void 0)return t;Zh(n,"Injector")}var eI={},Ls=eI,Qf="__NG_DI_FLAG__",ac="ngTempTokenPath",tI="ngTokenPath",nI=/\n/gm,rI="\u0275",x0="__source",ko;function iI(){return ko}function Br(n){let t=ko;return ko=n,t}function oI(n,t=ne.Default){if(ko===void 0)throw new A(-203,!1);return ko===null?_y(n,void 0,t):ko.get(n,t&ne.Optional?null:void 0,t)}function V(n,t=ne.Default){return(yy()||oI)(vt(n),t)}function I(n,t=ne.Default){return V(n,Pc(t))}function Pc(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Kf(n){let t=[];for(let e=0;e<n.length;e++){let r=vt(n[e]);if(Array.isArray(r)){if(r.length===0)throw new A(900,!1);let i,o=ne.Default;for(let s=0;s<r.length;s++){let a=r[s],l=sI(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}t.push(V(i,o))}else t.push(V(r))}return t}function by(n,t){return n[Qf]=t,n.prototype[Qf]=t,n}function sI(n){return n[Qf]}function aI(n,t,e,r){let i=n[ac];throw t[x0]&&i.unshift(t[x0]),n.message=lI(`
`+n.message,i,e,r),n[tI]=i,n[ac]=null,n}function lI(n,t,e,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==rI?n.slice(2):n;let i=yt(t);if(Array.isArray(t))i=t.map(yt).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):yt(a)))}i=`{${o.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${n.replace(nI,`
  `)}`}var Yh=by(fy("Optional"),8);var wy=by(fy("SkipSelf"),4);function Ei(n,t){let e=n.hasOwnProperty(sc);return e?n[sc]:null}function cI(n,t,e){if(n.length!==t.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=t[r];if(e&&(i=e(i),o=e(o)),o!==i)return!1}return!0}function uI(n){return n.flat(Number.POSITIVE_INFINITY)}function Jh(n,t){n.forEach(e=>Array.isArray(e)?Jh(e,t):t(e))}function Ey(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function lc(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function dI(n,t){let e=[];for(let r=0;r<n;r++)e.push(t);return e}function fI(n,t,e,r){let i=n.length;if(i==t)n.push(e,r);else if(i===1)n.push(r,n[0]),n[0]=e;else{for(i--,n.push(n[i-1],n[i]);i>t;){let o=i-2;n[i]=n[o],i--}n[t]=e,n[t+1]=r}}function Xh(n,t,e){let r=Qs(n,t);return r>=0?n[r|1]=e:(r=~r,fI(n,r,t,e)),r}function Of(n,t){let e=Qs(n,t);if(e>=0)return n[e|1]}function Qs(n,t){return hI(n,t,1)}function hI(n,t,e){let r=0,i=n.length>>e;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<e];if(t===s)return o<<e;s>t?i=o:r=o+1}return~(i<<e)}var Ro={},It=[],Oo=new L(""),Cy=new L("",-1),Sy=new L(""),cc=class{get(t,e=Ls){if(e===Ls){let r=new Error(`NullInjectorError: No provider for ${yt(t)}!`);throw r.name="NullInjectorError",r}return e}};function Dy(n,t){let e=n[YD]||null;if(!e&&t===!0)throw new Error(`Type ${yt(n)} does not have '\u0275mod' property.`);return e}function Ci(n){return n[QD]||null}function Iy(n){return n[KD]||null}function Ty(n){return n[ZD]||null}function xy(n){let t=Ci(n)||Iy(n)||Ty(n);return t!==null&&t.standalone}function Bo(n){return{\u0275providers:n}}function pI(...n){return{\u0275providers:My(!0,n),\u0275fromNgModule:!0}}function My(n,...t){let e=[],r=new Set,i,o=s=>{e.push(s)};return Jh(t,s=>{let a=s;Zf(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Ay(i,o),e}function Ay(n,t){for(let e=0;e<n.length;e++){let{ngModule:r,providers:i}=n[e];ep(i,o=>{t(o,r)})}}function Zf(n,t,e,r){if(n=vt(n),!n)return!1;let i=null,o=D0(n),s=!o&&Ci(n);if(!o&&!s){let l=n.ngModule;if(o=D0(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of l)Zf(u,t,e,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{Jh(o.imports,h=>{Zf(h,t,e,r)&&(u||=[],u.push(h))})}finally{}u!==void 0&&Ay(u,t)}if(!a){let u=Ei(i)||(()=>new i);t({provide:i,useFactory:u,deps:It},i),t({provide:Sy,useValue:i,multi:!0},i),t({provide:Oo,useValue:()=>V(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let u=n;ep(l,h=>{t(h,u)})}}else return!1;return i!==n&&n.providers!==void 0}function ep(n,t){for(let e of n)vy(e)&&(e=e.\u0275providers),Array.isArray(e)?ep(e,t):t(e)}var mI=Ce({provide:String,useValue:Ce});function ky(n){return n!==null&&typeof n=="object"&&mI in n}function gI(n){return!!(n&&n.useExisting)}function vI(n){return!!(n&&n.useFactory)}function Po(n){return typeof n=="function"}function yI(n){return!!n.useClass}var Fc=new L(""),Xl={},_I={},Pf;function tp(){return Pf===void 0&&(Pf=new cc),Pf}var Tt=class{},Vs=class extends Tt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,e,r,i){super(),this.parent=e,this.source=r,this.scopes=i,Jf(t,s=>this.processProvider(s)),this.records.set(Cy,To(void 0,this)),i.has("environment")&&this.records.set(Tt,To(void 0,this));let o=this.records.get(Fc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Sy,It,ne.Self))}destroy(){Os(this),this._destroyed=!0;let t=he(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of e)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),he(t)}}onDestroy(t){return Os(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Os(this);let e=Br(this),r=Dt(void 0),i;try{return t()}finally{Br(e),Dt(r)}}get(t,e=Ls,r=ne.Default){if(Os(this),t.hasOwnProperty(T0))return t[T0](this);r=Pc(r);let i,o=Br(this),s=Dt(void 0);try{if(!(r&ne.SkipSelf)){let l=this.records.get(t);if(l===void 0){let u=SI(t)&&Oc(t);u&&this.injectableDefInScope(u)?l=To(Yf(t),Xl):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l)}let a=r&ne.Self?tp():this.parent;return e=r&ne.Optional&&e===Ls?null:e,a.get(t,e)}catch(a){if(a.name==="NullInjectorError"){if((a[ac]=a[ac]||[]).unshift(yt(t)),o)throw a;return aI(a,t,"R3InjectorError",this.source)}else throw a}finally{Dt(s),Br(o)}}resolveInjectorInitializers(){let t=he(null),e=Br(this),r=Dt(void 0),i;try{let o=this.get(Oo,It,ne.Self);for(let s of o)s()}finally{Br(e),Dt(r),he(t)}}toString(){let t=[],e=this.records;for(let r of e.keys())t.push(yt(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=vt(t);let e=Po(t)?t:vt(t&&t.provide),r=wI(t);if(!Po(t)&&t.multi===!0){let i=this.records.get(e);i||(i=To(void 0,Xl,!0),i.factory=()=>Kf(i.multi),this.records.set(e,i)),e=t,i.multi.push(t)}this.records.set(e,r)}hydrate(t,e){let r=he(null);try{return e.value===Xl&&(e.value=_I,e.value=e.factory()),typeof e.value=="object"&&e.value&&CI(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{he(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;let e=vt(t.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){let e=this._onDestroyHooks.indexOf(t);e!==-1&&this._onDestroyHooks.splice(e,1)}};function Yf(n){let t=Oc(n),e=t!==null?t.factory:Ei(n);if(e!==null)return e;if(n instanceof L)throw new A(204,!1);if(n instanceof Function)return bI(n);throw new A(204,!1)}function bI(n){if(n.length>0)throw new A(204,!1);let e=GD(n);return e!==null?()=>e.factory(n):()=>new n}function wI(n){if(ky(n))return To(void 0,n.useValue);{let t=Ny(n);return To(t,Xl)}}function Ny(n,t,e){let r;if(Po(n)){let i=vt(n);return Ei(i)||Yf(i)}else if(ky(n))r=()=>vt(n.useValue);else if(vI(n))r=()=>n.useFactory(...Kf(n.deps||[]));else if(gI(n))r=()=>V(vt(n.useExisting));else{let i=vt(n&&(n.useClass||n.provide));if(EI(n))r=()=>new i(...Kf(n.deps));else return Ei(i)||Yf(i)}return r}function Os(n){if(n.destroyed)throw new A(205,!1)}function To(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function EI(n){return!!n.deps}function CI(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function SI(n){return typeof n=="function"||typeof n=="object"&&n instanceof L}function Jf(n,t){for(let e of n)Array.isArray(e)?Jf(e,t):e&&vy(e)?Jf(e.\u0275providers,t):t(e)}function it(n,t){n instanceof Vs&&Os(n);let e,r=Br(n),i=Dt(void 0);try{return t()}finally{Br(r),Dt(i)}}function Ry(){return yy()!==void 0||iI()!=null}function np(n){if(!Ry())throw new A(-203,!1)}function DI(n){return typeof n=="function"}var pr=0,ae=1,Z=2,dt=3,In=4,At=5,js=6,uc=7,on=8,Us=9,ar=10,Oe=11,Bs=12,M0=13,$o=14,sn=15,Si=16,xo=17,lr=18,Lc=19,Oy=20,$r=21,ec=22,Di=23,Bt=24,xt=25,Py=1;var Ii=7,dc=8,Fo=9,$t=10;function Hr(n){return Array.isArray(n)&&typeof n[Py]=="object"}function mr(n){return Array.isArray(n)&&n[Py]===!0}function rp(n){return(n.flags&4)!==0}function Ri(n){return n.componentOffset>-1}function Vc(n){return(n.flags&1)===1}function cr(n){return!!n.template}function fc(n){return(n[Z]&512)!==0}function Ks(n){return(n[Z]&256)===256}var Xf=class{previousValue;currentValue;firstChange;constructor(t,e,r){this.previousValue=t,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}};function Fy(n,t,e,r){t!==null?t.applyValueToInputSignal(t,r):n[e]=r}var an=(()=>{let n=()=>Ly;return n.ngInherit=!0,n})();function Ly(n){return n.type.prototype.ngOnChanges&&(n.setInput=TI),II}function II(){let n=jy(this),t=n?.current;if(t){let e=n.previous;if(e===Ro)n.previous=t;else for(let r in t)e[r]=t[r];n.current=null,this.ngOnChanges(t)}}function TI(n,t,e,r,i){let o=this.declaredInputs[r],s=jy(n)||xI(n,{previous:Ro,current:null}),a=s.current||(s.current={}),l=s.previous,u=l[o];a[o]=new Xf(u&&u.currentValue,e,l===Ro),Fy(n,t,i,e)}var Vy="__ngSimpleChanges__";function jy(n){return n[Vy]||null}function xI(n,t){return n[Vy]=t}var A0=null;var rn=function(n,t,e){A0?.(n,t,e)},MI="svg",AI="math";function Un(n){for(;Array.isArray(n);)n=n[pr];return n}function Uy(n,t){return Un(t[n])}function Tn(n,t){return Un(t[n.index])}function By(n,t){return n.data[t]}function kI(n,t){return n[t]}function Bn(n,t){let e=t[n];return Hr(e)?e:e[pr]}function NI(n){return(n[Z]&4)===4}function ip(n){return(n[Z]&128)===128}function RI(n){return mr(n[dt])}function Lo(n,t){return t==null?null:n[t]}function $y(n){n[xo]=0}function op(n){n[Z]&1024||(n[Z]|=1024,ip(n)&&Zs(n))}function OI(n,t){for(;n>0;)t=t[$o],n--;return t}function jc(n){return!!(n[Z]&9216||n[Bt]?.dirty)}function eh(n){n[ar].changeDetectionScheduler?.notify(9),n[Z]&64&&(n[Z]|=1024),jc(n)&&Zs(n)}function Zs(n){n[ar].changeDetectionScheduler?.notify(0);let t=Ti(n);for(;t!==null&&!(t[Z]&8192||(t[Z]|=8192,!ip(t)));)t=Ti(t)}function Hy(n,t){if(Ks(n))throw new A(911,!1);n[$r]===null&&(n[$r]=[]),n[$r].push(t)}function PI(n,t){if(n[$r]===null)return;let e=n[$r].indexOf(t);e!==-1&&n[$r].splice(e,1)}function Ti(n){let t=n[dt];return mr(t)?t[dt]:t}function zy(n){return n[uc]??=[]}function qy(n){return n.cleanup??=[]}function FI(n,t,e,r){let i=zy(t);i.push(e),n.firstCreatePass&&qy(n).push(r,i.length-1)}var re={lFrame:e_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var th=!1;function LI(){return re.lFrame.elementDepthCount}function VI(){re.lFrame.elementDepthCount++}function jI(){re.lFrame.elementDepthCount--}function Gy(){return re.bindingsEnabled}function Wy(){return re.skipHydrationRootTNode!==null}function UI(n){return re.skipHydrationRootTNode===n}function BI(){re.skipHydrationRootTNode=null}function ie(){return re.lFrame.lView}function je(){return re.lFrame.tView}function x(n){return re.lFrame.contextLView=n,n[on]}function M(n){return re.lFrame.contextLView=null,n}function _t(){let n=Qy();for(;n!==null&&n.type===64;)n=n.parent;return n}function Qy(){return re.lFrame.currentTNode}function $I(){let n=re.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}function Oi(n,t){let e=re.lFrame;e.currentTNode=n,e.isParent=t}function sp(){return re.lFrame.isParent}function ap(){re.lFrame.isParent=!1}function Ky(){return th}function hc(n){let t=th;return th=n,t}function lp(){let n=re.lFrame,t=n.bindingRootIndex;return t===-1&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function Zy(){return re.lFrame.bindingIndex}function HI(n){return re.lFrame.bindingIndex=n}function Uc(){return re.lFrame.bindingIndex++}function Bc(n){let t=re.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function zI(){return re.lFrame.inI18n}function qI(n,t){let e=re.lFrame;e.bindingIndex=e.bindingRootIndex=n,nh(t)}function GI(){return re.lFrame.currentDirectiveIndex}function nh(n){re.lFrame.currentDirectiveIndex=n}function WI(n){let t=re.lFrame.currentDirectiveIndex;return t===-1?null:n[t]}function Yy(){return re.lFrame.currentQueryIndex}function cp(n){re.lFrame.currentQueryIndex=n}function QI(n){let t=n[ae];return t.type===2?t.declTNode:t.type===1?n[At]:null}function Jy(n,t,e){if(e&ne.SkipSelf){let i=t,o=n;for(;i=i.parent,i===null&&!(e&ne.Host);)if(i=QI(o),i===null||(o=o[$o],i.type&10))break;if(i===null)return!1;t=i,n=o}let r=re.lFrame=Xy();return r.currentTNode=t,r.lView=n,!0}function up(n){let t=Xy(),e=n[ae];re.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function Xy(){let n=re.lFrame,t=n===null?null:n.child;return t===null?e_(n):t}function e_(n){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=t),t}function t_(){let n=re.lFrame;return re.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var n_=t_;function dp(){let n=t_();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function KI(n){return(re.lFrame.contextLView=OI(n,re.lFrame.contextLView))[on]}function gr(){return re.lFrame.selectedIndex}function xi(n){re.lFrame.selectedIndex=n}function $c(){let n=re.lFrame;return By(n.tView,n.selectedIndex)}function ZI(){return re.lFrame.currentNamespace}var r_=!0;function Hc(){return r_}function zc(n){r_=n}function YI(n,t,e){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=Ly(t);(e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s)}i&&(e.preOrderHooks??=[]).push(0-n,i),o&&((e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o))}function qc(n,t){for(let e=t.directiveStart,r=t.directiveEnd;e<r;e++){let o=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-e,s),a&&((n.contentHooks??=[]).push(e,a),(n.contentCheckHooks??=[]).push(e,a)),l&&(n.viewHooks??=[]).push(-e,l),u&&((n.viewHooks??=[]).push(e,u),(n.viewCheckHooks??=[]).push(e,u)),h!=null&&(n.destroyHooks??=[]).push(e,h)}}function tc(n,t,e){i_(n,t,3,e)}function nc(n,t,e,r){(n[Z]&3)===e&&i_(n,t,e,r)}function Ff(n,t){let e=n[Z];(e&3)===t&&(e&=16383,e+=1,n[Z]=e)}function i_(n,t,e,r){let i=r!==void 0?n[xo]&65535:0,o=r??-1,s=t.length-1,a=0;for(let l=i;l<s;l++)if(typeof t[l+1]=="number"){if(a=t[l],r!=null&&a>=r)break}else t[l]<0&&(n[xo]+=65536),(a<o||o==-1)&&(JI(n,e,t,l),n[xo]=(n[xo]&4294901760)+l+2),l++}function k0(n,t){rn(4,n,t);let e=he(null);try{t.call(n)}finally{he(e),rn(5,n,t)}}function JI(n,t,e,r){let i=e[r]<0,o=e[r+1],s=i?-e[r]:e[r],a=n[s];i?n[Z]>>14<n[xo]>>16&&(n[Z]&3)===t&&(n[Z]+=16384,k0(a,o)):k0(a,o)}var No=-1,Mi=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,e,r){this.factory=t,this.canSeeViewProviders=e,this.injectImpl=r}};function XI(n){return n instanceof Mi}function e1(n){return(n.flags&8)!==0}function t1(n){return(n.flags&16)!==0}function n1(n,t,e){let r=0;for(;r<e.length;){let i=e[r];if(typeof i=="number"){if(i!==0)break;r++;let o=e[r++],s=e[r++],a=e[r++];n.setAttribute(t,s,a,o)}else{let o=i,s=e[++r];r1(o)?n.setProperty(t,o,s):n.setAttribute(t,o,s),r++}}return r}function o_(n){return n===3||n===4||n===6}function r1(n){return n.charCodeAt(0)===64}function Vo(n,t){if(!(t===null||t.length===0))if(n===null||n.length===0)n=t.slice();else{let e=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?e=i:e===0||(e===-1||e===2?N0(n,e,i,null,t[++r]):N0(n,e,i,null,null))}}return n}function N0(n,t,e,r,i){let o=0,s=n.length;if(t===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===e){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,t),o=s+1),n.splice(o++,0,e),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}var Lf={},rh=class{injector;parentInjector;constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,r){r=Pc(r);let i=this.injector.get(t,Lf,r);return i!==Lf||e===Lf?i:this.parentInjector.get(t,e,r)}};function s_(n){return n!==No}function pc(n){return n&32767}function i1(n){return n>>16}function mc(n,t){let e=i1(n),r=t;for(;e>0;)r=r[$o],e--;return r}var ih=!0;function gc(n){let t=ih;return ih=n,t}var o1=256,a_=o1-1,l_=5,s1=0,jn={};function a1(n,t,e){let r;typeof e=="string"?r=e.charCodeAt(0)||0:e.hasOwnProperty(Fs)&&(r=e[Fs]),r==null&&(r=e[Fs]=s1++);let i=r&a_,o=1<<i;t.data[n+(i>>l_)]|=o}function vc(n,t){let e=c_(n,t);if(e!==-1)return e;let r=t[ae];r.firstCreatePass&&(n.injectorIndex=t.length,Vf(r.data,n),Vf(t,null),Vf(r.blueprint,null));let i=fp(n,t),o=n.injectorIndex;if(s_(i)){let s=pc(i),a=mc(i,t),l=a[ae].data;for(let u=0;u<8;u++)t[o+u]=a[s+u]|l[s+u]}return t[o+8]=i,o}function Vf(n,t){n.push(0,0,0,0,0,0,0,0,t)}function c_(n,t){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||t[n.injectorIndex+8]===null?-1:n.injectorIndex}function fp(n,t){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let e=0,r=null,i=t;for(;i!==null;){if(r=p_(i),r===null)return No;if(e++,i=i[$o],r.injectorIndex!==-1)return r.injectorIndex|e<<16}return No}function oh(n,t,e){a1(n,t,e)}function l1(n,t){if(t==="class")return n.classes;if(t==="style")return n.styles;let e=n.attrs;if(e){let r=e.length,i=0;for(;i<r;){let o=e[i];if(o_(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof e[i]=="string";)i++;else{if(o===t)return e[i+1];i=i+2}}}return null}function u_(n,t,e){if(e&ne.Optional||n!==void 0)return n;Zh(t,"NodeInjector")}function d_(n,t,e,r){if(e&ne.Optional&&r===void 0&&(r=null),!(e&(ne.Self|ne.Host))){let i=n[Us],o=Dt(void 0);try{return i?i.get(t,r,e&ne.Optional):_y(t,r,e&ne.Optional)}finally{Dt(o)}}return u_(r,t,e)}function f_(n,t,e,r=ne.Default,i){if(n!==null){if(t[Z]&2048&&!(r&ne.Self)){let s=f1(n,t,e,r,jn);if(s!==jn)return s}let o=h_(n,t,e,r,jn);if(o!==jn)return o}return d_(t,e,r,i)}function h_(n,t,e,r,i){let o=u1(e);if(typeof o=="function"){if(!Jy(t,n,r))return r&ne.Host?u_(i,e,r):d_(t,e,r,i);try{let s;if(s=o(r),s==null&&!(r&ne.Optional))Zh(e);else return s}finally{n_()}}else if(typeof o=="number"){let s=null,a=c_(n,t),l=No,u=r&ne.Host?t[sn][At]:null;for((a===-1||r&ne.SkipSelf)&&(l=a===-1?fp(n,t):t[a+8],l===No||!O0(r,!1)?a=-1:(s=t[ae],a=pc(l),t=mc(l,t)));a!==-1;){let h=t[ae];if(R0(o,a,h.data)){let p=c1(a,t,e,s,r,u);if(p!==jn)return p}l=t[a+8],l!==No&&O0(r,t[ae].data[a+8]===u)&&R0(o,a,t)?(s=h,a=pc(l),t=mc(l,t)):a=-1}}return i}function c1(n,t,e,r,i,o){let s=t[ae],a=s.data[n+8],l=r==null?Ri(a)&&ih:r!=s&&(a.type&3)!==0,u=i&ne.Host&&o===a,h=rc(a,s,e,l,u);return h!==null?$s(t,s,h,a):jn}function rc(n,t,e,r,i){let o=n.providerIndexes,s=t.data,a=o&1048575,l=n.directiveStart,u=n.directiveEnd,h=o>>20,p=r?a:a+h,v=i?a+h:u;for(let g=p;g<v;g++){let b=s[g];if(g<l&&e===b||g>=l&&b.type===e)return g}if(i){let g=s[l];if(g&&cr(g)&&g.type===e)return l}return null}function $s(n,t,e,r){let i=n[e],o=t.data;if(XI(i)){let s=i;s.resolving&&XD(JD(o[e]));let a=gc(s.canSeeViewProviders);s.resolving=!0;let l,u=s.injectImpl?Dt(s.injectImpl):null,h=Jy(n,r,ne.Default);try{i=n[e]=s.factory(void 0,o,n,r),t.firstCreatePass&&e>=r.directiveStart&&YI(e,o[e],t)}finally{u!==null&&Dt(u),gc(a),s.resolving=!1,n_()}}return i}function u1(n){if(typeof n=="string")return n.charCodeAt(0)||0;let t=n.hasOwnProperty(Fs)?n[Fs]:void 0;return typeof t=="number"?t>=0?t&a_:d1:t}function R0(n,t,e){let r=1<<n;return!!(e[t+(n>>l_)]&r)}function O0(n,t){return!(n&ne.Self)&&!(n&ne.Host&&t)}var wi=class{_tNode;_lView;constructor(t,e){this._tNode=t,this._lView=e}get(t,e,r){return f_(this._tNode,this._lView,t,Pc(r),e)}};function d1(){return new wi(_t(),ie())}function ln(n){return Ws(()=>{let t=n.prototype.constructor,e=t[sc]||sh(t),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[sc]||sh(i);if(o&&o!==e)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function sh(n){return hy(n)?()=>{let t=sh(vt(n));return t&&t()}:Ei(n)}function f1(n,t,e,r,i){let o=n,s=t;for(;o!==null&&s!==null&&s[Z]&2048&&!fc(s);){let a=h_(o,s,e,r|ne.Self,jn);if(a!==jn)return a;let l=o.parent;if(!l){let u=s[Oy];if(u){let h=u.get(e,jn,r);if(h!==jn)return h}l=p_(s),s=s[$o]}o=l}return i}function p_(n){let t=n[ae],e=t.type;return e===2?t.declTNode:e===1?n[At]:null}function Gc(n){return l1(_t(),n)}function P0(n,t=null,e=null,r){let i=m_(n,t,e,r);return i.resolveInjectorInitializers(),i}function m_(n,t=null,e=null,r,i=new Set){let o=[e||It,pI(n)];return r=r||(typeof n=="object"?void 0:yt(n)),new Vs(o,t||tp(),r||null,i)}var Ve=class n{static THROW_IF_NOT_FOUND=Ls;static NULL=new cc;static create(t,e){if(Array.isArray(t))return P0({name:""},e,t,"");{let r=t.name??"";return P0({name:r},t.parent,t.providers,r)}}static \u0275prov=R({token:n,providedIn:"any",factory:()=>V(Cy)});static __NG_ELEMENT_ID__=-1};var yc=class{attributeName;constructor(t){this.attributeName=t}__NG_ELEMENT_ID__=()=>Gc(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},h1=new L("");h1.__NG_ELEMENT_ID__=n=>{let t=_t();if(t===null)throw new A(204,!1);if(t.type&2)return t.value;if(n&ne.Optional)return null;throw new A(204,!1)};var g_=!1,Pi=(()=>{class n{static __NG_ELEMENT_ID__=p1;static __NG_ENV_ID__=e=>e}return n})(),_c=class extends Pi{_lView;constructor(t){super(),this._lView=t}onDestroy(t){return Hy(this._lView,t),()=>PI(this._lView,t)}};function p1(){return new _c(ie())}var zr=class{},Wc=new L("",{providedIn:"root",factory:()=>!1});var v_=new L(""),hp=new L(""),vr=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new rt(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=R({token:n,providedIn:"root",factory:()=>new n})}return n})();var ah=class extends xe{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,Ry()&&(this.destroyRef=I(Pi,{optional:!0})??void 0,this.pendingTasks=I(vr,{optional:!0})??void 0)}emit(t){let e=he(null);try{super.next(t)}finally{he(e)}}subscribe(t,e,r){let i=t,o=e||(()=>null),s=r;if(t&&typeof t=="object"){let l=t;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof Te&&t.add(a),a}wrapInTimeout(t){return e=>{let r=this.pendingTasks?.add();setTimeout(()=>{t(e),r!==void 0&&this.pendingTasks?.remove(r)})}}},ve=ah;function Hs(...n){}function y_(n){let t,e;function r(){n=Hs;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{n(),r()})),()=>r()}function F0(n){return queueMicrotask(()=>n()),()=>{n=Hs}}var pp="isAngularZone",bc=pp+"_ID",m1=0,Ee=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ve(!1);onMicrotaskEmpty=new ve(!1);onStable=new ve(!1);onError=new ve(!1);constructor(t){let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=g_}=t;if(typeof Zone>"u")throw new A(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,y1(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(pp)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new A(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new A(909,!1)}run(t,e,r){return this._inner.run(t,e,r)}runTask(t,e,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,g1,Hs,Hs);try{return o.runTask(s,e,r)}finally{o.cancelTask(s)}}runGuarded(t,e,r){return this._inner.runGuarded(t,e,r)}runOutsideAngular(t){return this._outer.run(t)}},g1={};function mp(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function v1(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function t(){y_(()=>{n.callbackScheduled=!1,lh(n),n.isCheckStableRunning=!0,mp(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{t()}):n._outer.run(()=>{t()}),lh(n)}function y1(n){let t=()=>{v1(n)},e=m1++;n._inner=n._inner.fork({name:"angular",properties:{[pp]:!0,[bc]:e,[bc+e]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(_1(l))return r.invokeTask(o,s,a,l);try{return L0(n),r.invokeTask(o,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&t(),V0(n)}},onInvoke:(r,i,o,s,a,l,u)=>{try{return L0(n),r.invoke(o,s,a,l,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!b1(l)&&t(),V0(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,lh(n),mp(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function lh(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function L0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function V0(n){n._nesting--,mp(n)}var wc=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ve;onMicrotaskEmpty=new ve;onStable=new ve;onError=new ve;run(t,e,r){return t.apply(e,r)}runGuarded(t,e,r){return t.apply(e,r)}runOutsideAngular(t){return t()}runTask(t,e,r,i){return t.apply(e,r)}};function _1(n){return __(n,"__ignore_ng_zone__")}function b1(n){return __(n,"__scheduler_tick__")}function __(n,t){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[t]===!0}var Mt=class{_console=console;handleError(t){this._console.error("ERROR",t)}},w1=new L("",{providedIn:"root",factory:()=>{let n=I(Ee),t=I(Mt);return e=>n.runOutsideAngular(()=>t.handleError(e))}});function j0(n,t){return dy(n,t)}function E1(n){return dy(uy,n)}var b_=(j0.required=E1,j0);function C1(){return Ho(_t(),ie())}function Ho(n,t){return new Ye(Tn(n,t))}var Ye=(()=>{class n{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=C1}return n})();function S1(n){return n instanceof Ye?n.nativeElement:n}var U0=new Set;function xn(n){U0.has(n)||(U0.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function gp(n){return typeof n=="function"&&n[Et]!==void 0}function Ht(n,t){xn("NgSignals");let e=Zv(n),r=e[Et];return t?.equal&&(r.equal=t.equal),e.set=i=>bl(r,i),e.update=i=>Yv(r,i),e.asReadonly=D1.bind(e),e}function D1(){let n=this[Et];if(n.readonlyFn===void 0){let t=()=>this();t[Et]=n,n.readonlyFn=t}return n.readonlyFn}function w_(n){return gp(n)&&typeof n.set=="function"}function I1(){return this._results[Symbol.iterator]()}var Ec=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new xe}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;let r=uI(t);(this._changesDetected=!cI(this._results,r,e))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=I1};function E_(n){return(n.flags&128)===128}var C_=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(C_||{}),S_=new Map,T1=0;function x1(){return T1++}function M1(n){S_.set(n[Lc],n)}function ch(n){S_.delete(n[Lc])}var B0="__ngContext__";function Fi(n,t){Hr(t)?(n[B0]=t[Lc],M1(t)):n[B0]=t}function D_(n){return T_(n[Bs])}function I_(n){return T_(n[In])}function T_(n){for(;n!==null&&!mr(n);)n=n[In];return n}var uh;function x_(n){uh=n}function A1(){if(uh!==void 0)return uh;if(typeof document<"u")return document;throw new A(210,!1)}var Qc=new L("",{providedIn:"root",factory:()=>k1}),k1="ng",vp=new L(""),kt=new L("",{providedIn:"platform",factory:()=>"unknown"});var Kc=new L(""),Ys=new L("",{providedIn:"root",factory:()=>A1().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var N1="h",R1="b";var M_=!1,O1=new L("",{providedIn:"root",factory:()=>M_});var yp=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(yp||{}),zo=new L("");var Mo=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Mo||{}),A_=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=R({token:n,providedIn:"root",factory:()=>new n})}return n})(),P1=[Mo.EarlyRead,Mo.Write,Mo.MixedReadWrite,Mo.Read],F1=(()=>{class n{ngZone=I(Ee);scheduler=I(zr);errorHandler=I(Mt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){I(zo,{optional:!0})}execute(){this.executing=!0;for(let e of P1)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[e]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>r.hooks[e](r.pipelinedValue),r.snapshot))}catch(i){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(8),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(7))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}maybeTrace(e,r){return r?r.run(yp.AFTER_NEXT_RENDER,e):e()}static \u0275prov=R({token:n,providedIn:"root",factory:()=>new n})}return n})(),dh=class{impl;hooks;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,e,r,i,o=null){this.impl=t,this.hooks=e,this.once=r,this.snapshot=o,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function _p(n,t){!t?.injector&&np(_p);let e=t?.injector??I(Ve);return xn("NgAfterRender"),V1(n,e,t,!1)}function L1(n,t){if(n instanceof Function){let e=[void 0,void 0,void 0,void 0];return e[t]=n,e}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function V1(n,t,e,r){let i=t.get(A_);i.impl??=t.get(F1);let o=t.get(zo,null,{optional:!0}),s=e?.phase??Mo.MixedReadWrite,a=e?.manualCleanup!==!0?t.get(Pi):null,l=new dh(i.impl,L1(n,s),r,a,o?.snapshot(null));return i.impl.register(l),l}var j1=()=>null;function k_(n,t,e=!1){return j1(n,t,e)}function N_(n,t){let e=n.contentQueries;if(e!==null){let r=he(null);try{for(let i=0;i<e.length;i+=2){let o=e[i],s=e[i+1];if(s!==-1){let a=n.data[s];cp(o),a.contentQueries(2,t[s],s)}}}finally{he(r)}}}function fh(n,t,e){cp(0);let r=he(null);try{t(n,e)}finally{he(r)}}function bp(n,t,e){if(rp(t)){let r=he(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let l=e[s];a.contentQueries(1,l,s)}}}finally{he(r)}}}var $n=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}($n||{}),Ql;function U1(){if(Ql===void 0&&(Ql=null,or.trustedTypes))try{Ql=or.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ql}function Zc(n){return U1()?.createHTML(n)||n}var Kl;function B1(){if(Kl===void 0&&(Kl=null,or.trustedTypes))try{Kl=or.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Kl}function $0(n){return B1()?.createScriptURL(n)||n}var ur=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${cy})`}},hh=class extends ur{getTypeName(){return"HTML"}},ph=class extends ur{getTypeName(){return"Style"}},mh=class extends ur{getTypeName(){return"Script"}},gh=class extends ur{getTypeName(){return"URL"}},vh=class extends ur{getTypeName(){return"ResourceURL"}};function Mn(n){return n instanceof ur?n.changingThisBreaksApplicationSecurity:n}function Qr(n,t){let e=$1(n);if(e!=null&&e!==t){if(e==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${cy})`)}return e===t}function $1(n){return n instanceof ur&&n.getTypeName()||null}function R_(n){return new hh(n)}function O_(n){return new ph(n)}function P_(n){return new mh(n)}function F_(n){return new gh(n)}function L_(n){return new vh(n)}function H1(n){let t=new _h(n);return z1()?new yh(t):t}var yh=class{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{let e=new window.DOMParser().parseFromString(Zc(t),"text/html").body;return e===null?this.inertDocumentHelper.getInertBodyElement(t):(e.firstChild?.remove(),e)}catch{return null}}},_h=class{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){let e=this.inertDocument.createElement("template");return e.innerHTML=Zc(t),e}};function z1(){try{return!!new window.DOMParser().parseFromString(Zc(""),"text/html")}catch{return!1}}var q1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Yc(n){return n=String(n),n.match(q1)?n:"unsafe:"+n}function yr(n){let t={};for(let e of n.split(","))t[e]=!0;return t}function Js(...n){let t={};for(let e of n)for(let r in e)e.hasOwnProperty(r)&&(t[r]=!0);return t}var V_=yr("area,br,col,hr,img,wbr"),j_=yr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),U_=yr("rp,rt"),G1=Js(U_,j_),W1=Js(j_,yr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Q1=Js(U_,yr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),H0=Js(V_,W1,Q1,G1),B_=yr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),K1=yr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Z1=yr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Y1=Js(B_,K1,Z1),J1=yr("script,style,template"),bh=class{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let e=t.firstChild,r=!0,i=[];for(;e;){if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild){i.push(e),e=tT(e);continue}for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let o=eT(e);if(o){e=o;break}e=i.pop()}}return this.buf.join("")}startElement(t){let e=z0(t).toLowerCase();if(!H0.hasOwnProperty(e))return this.sanitizedSomething=!0,!J1.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);let r=t.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!Y1.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;B_[a]&&(l=Yc(l)),this.buf.push(" ",s,'="',q0(l),'"')}return this.buf.push(">"),!0}endElement(t){let e=z0(t).toLowerCase();H0.hasOwnProperty(e)&&!V_.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(q0(t))}};function X1(n,t){return(n.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function eT(n){let t=n.nextSibling;if(t&&n!==t.previousSibling)throw $_(t);return t}function tT(n){let t=n.firstChild;if(t&&X1(n,t))throw $_(t);return t}function z0(n){let t=n.nodeName;return typeof t=="string"?t:"FORM"}function $_(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var nT=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,rT=/([^\#-~ |!])/g;function q0(n){return n.replace(/&/g,"&amp;").replace(nT,function(t){let e=t.charCodeAt(0),r=t.charCodeAt(1);return"&#"+((e-55296)*1024+(r-56320)+65536)+";"}).replace(rT,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Zl;function H_(n,t){let e=null;try{Zl=Zl||H1(n);let r=t?String(t):"";e=Zl.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=e.innerHTML,e=Zl.getInertBodyElement(r)}while(r!==o);let a=new bh().sanitizeChildren(G0(e)||e);return Zc(a)}finally{if(e){let r=G0(e)||e;for(;r.firstChild;)r.firstChild.remove()}}}function G0(n){return"content"in n&&iT(n)?n.content:null}function iT(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var ht=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(ht||{});function Hn(n){let t=q_();return t?t.sanitize(ht.URL,n)||"":Qr(n,"URL")?Mn(n):Yc(sr(n))}function oT(n){let t=q_();if(t)return $0(t.sanitize(ht.RESOURCE_URL,n)||"");if(Qr(n,"ResourceURL"))return $0(Mn(n));throw new A(904,!1)}function sT(n,t){return t==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||t==="href"&&(n==="base"||n==="link")?oT:Hn}function z_(n,t,e){return sT(t,e)(n)}function q_(){let n=ie();return n&&n[ar].sanitizer}var aT=/^>|^->|<!--|-->|--!>|<!-$/g,lT=/(<|>)/g,cT="\u200B$1\u200B";function uT(n){return n.replace(aT,t=>t.replace(lT,cT))}function G_(n){return n.ownerDocument}function W_(n){return n instanceof Function?n():n}var qr=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(qr||{});function dT(n,t,e){let r=n.length;for(;;){let i=n.indexOf(t,e);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}e=i+1}}var Q_="ng-template";function fT(n,t,e,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&dT(t[i+1].toLowerCase(),e,0)!==-1)return!0}else if(wp(n))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===e)return!0}return!1}function wp(n){return n.type===4&&n.value!==Q_}function hT(n,t,e){let r=n.type===4&&!e?Q_:n.value;return t===r}function pT(n,t,e){let r=4,i=n.attrs,o=i!==null?vT(i):0,s=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!s&&!Sn(r)&&!Sn(l))return!1;if(s&&Sn(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!hT(n,l,e)||l===""&&t.length===1){if(Sn(r))return!1;s=!0}}else if(r&8){if(i===null||!fT(n,i,l,e)){if(Sn(r))return!1;s=!0}}else{let u=t[++a],h=mT(l,i,wp(n),e);if(h===-1){if(Sn(r))return!1;s=!0;continue}if(u!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&u!==p){if(Sn(r))return!1;s=!0}}}}return Sn(r)||s}function Sn(n){return(n&1)===0}function mT(n,t,e,r){if(t===null)return-1;let i=0;if(r||!e){let o=!1;for(;i<t.length;){let s=t[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return yT(t,n)}function K_(n,t,e=!1){for(let r=0;r<t.length;r++)if(pT(n,t[r],e))return!0;return!1}function gT(n){let t=n.attrs;if(t!=null){let e=t.indexOf(5);if(!(e&1))return t[e+1]}return null}function vT(n){for(let t=0;t<n.length;t++){let e=n[t];if(o_(e))return t}return n.length}function yT(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){let r=n[e];if(typeof r=="number")return-1;if(r===t)return e;e++}return-1}function _T(n,t){e:for(let e=0;e<t.length;e++){let r=t[e];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function W0(n,t){return n?":not("+t.trim()+")":t}function bT(n){let t=n[0],e=1,r=2,i="",o=!1;for(;e<n.length;){let s=n[e];if(typeof s=="string")if(r&2){let a=n[++e];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Sn(s)&&(t+=W0(o,i),i=""),r=s,o=o||!Sn(r);e++}return i!==""&&(t+=W0(o,i)),t}function wT(n){return n.map(bT).join(",")}function ET(n){let t=[],e=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&t.push(o,n[++r]):i===8&&e.push(o);else{if(!Sn(i))break;i=o}r++}return e.length&&t.push(1,...e),t}var Nt={};function CT(n,t){return n.createText(t)}function ST(n,t,e){n.setValue(t,e)}function DT(n,t){return n.createComment(uT(t))}function Z_(n,t,e){return n.createElement(t,e)}function Cc(n,t,e,r,i){n.insertBefore(t,e,r,i)}function Y_(n,t,e){n.appendChild(t,e)}function Q0(n,t,e,r,i){r!==null?Cc(n,t,e,r,i):Y_(n,t,e)}function IT(n,t,e){n.removeChild(null,t,e)}function TT(n,t,e){n.setAttribute(t,"style",e)}function xT(n,t,e){e===""?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function J_(n,t,e){let{mergedAttrs:r,classes:i,styles:o}=e;r!==null&&n1(n,t,r),i!==null&&xT(n,t,i),o!==null&&TT(n,t,o)}function m(n=1){X_(je(),ie(),gr()+n,!1)}function X_(n,t,e,r){if(!r)if((t[Z]&3)===3){let o=n.preOrderCheckHooks;o!==null&&tc(t,o,e)}else{let o=n.preOrderHooks;o!==null&&nc(t,o,0,e)}xi(e)}function T(n,t=ne.Default){let e=ie();if(e===null)return V(n,t);let r=_t();return f_(r,e,vt(n),t)}function eb(n,t,e,r,i,o){let s=he(null);try{let a=null;i&qr.SignalBased&&(a=t[r][Et]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&qr.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(t,o)),n.setInput!==null?n.setInput(t,a,o,e,r):Fy(t,a,r,o)}finally{he(s)}}function Ep(n,t,e,r,i,o,s,a,l,u,h){let p=t.blueprint.slice();return p[pr]=i,p[Z]=r|4|128|8|64|1024,(u!==null||n&&n[Z]&2048)&&(p[Z]|=2048),$y(p),p[dt]=p[$o]=n,p[on]=e,p[ar]=s||n&&n[ar],p[Oe]=a||n&&n[Oe],p[Us]=l||n&&n[Us]||null,p[At]=o,p[Lc]=x1(),p[js]=h,p[Oy]=u,p[sn]=t.type==2?n[sn]:p,p}function tb(n,t,e,r){if(e===0)return-1;let i=t.length;for(let o=0;o<e;o++)t.push(r),n.blueprint.push(r),n.data.push(null);return i}function nb(n,t,e,r,i){let o=gr(),s=r&2;try{xi(-1),s&&t.length>xt&&X_(n,t,xt,!1),rn(s?2:0,i),e(r,i)}finally{xi(o),rn(s?3:1,i)}}function Cp(n,t,e){Gy()&&(Fi(Tn(e,t),t),rb(n,t,e))}function rb(n,t,e){jT(n,t,e),(e.flags&64)===64&&UT(n,t,e)}function Sp(n,t,e=Tn){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?e(t,n):n[s];n[i++]=a}}}function MT(n){let t=n.tView;return t===null||t.incompleteFirstPass?n.tView=Dp(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function Dp(n,t,e,r,i,o,s,a,l,u,h){let p=xt+r,v=p+i,g=AT(p,v),b=typeof u=="function"?u():u;return g[ae]={type:n,blueprint:g,template:e,queries:null,viewQuery:a,declTNode:t,data:g.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:b,incompleteFirstPass:!1,ssrId:h}}function AT(n,t){let e=[];for(let r=0;r<t;r++)e.push(r<n?null:Nt);return e}function kT(n,t,e,r){let o=r.get(O1,M_)||e===$n.ShadowDom,s=n.selectRootElement(t,o);return NT(s),s}function NT(n){RT(n)}var RT=()=>null;function K0(n,t,e,r,i){for(let o in t){if(!t.hasOwnProperty(o))continue;let s=t[o];if(s===void 0)continue;r??={};let a,l=qr.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let u=o;if(i!==null){if(!i.hasOwnProperty(o))continue;u=i[o]}n===0?Z0(r,e,u,a,l):Z0(r,e,u,a)}return r}function Z0(n,t,e,r,i){let o;n.hasOwnProperty(e)?(o=n[e]).push(t,r):o=n[e]=[t,r],i!==void 0&&o.push(i)}function OT(n,t,e){let r=t.directiveStart,i=t.directiveEnd,o=n.data,s=t.attrs,a=[],l=null,u=null;for(let h=r;h<i;h++){let p=o[h],v=e?e.get(p):null,g=v?v.inputs:null,b=v?v.outputs:null;l=K0(0,p.inputs,h,l,g),u=K0(1,p.outputs,h,u,b);let w=l!==null&&s!==null&&!wp(t)?XT(l,h,s):null;a.push(w)}l!==null&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=u}function PT(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Ip(n,t,e,r,i,o,s,a){let l=Tn(t,e),u=t.inputs,h;!a&&u!=null&&(h=u[r])?(Mp(n,e,h,r,i),Ri(t)&&FT(e,t.index)):t.type&3?(r=PT(r),i=s!=null?s(i,t.value||"",r):i,o.setProperty(l,r,i)):t.type&12}function FT(n,t){let e=Bn(t,n);e[Z]&16||(e[Z]|=64)}function Tp(n,t,e,r){if(Gy()){let i=r===null?null:{"":-1},o=$T(n,e);if(o!==null){let[s,a]=ob(n,e,o);ib(n,t,e,s,i,a)}i&&zT(e,r,i)}e.mergedAttrs=Vo(e.mergedAttrs,e.attrs)}function ib(n,t,e,r,i,o){for(let u=0;u<r.length;u++)oh(vc(e,t),n,r[u].type);GT(e,n.data.length,r.length);for(let u=0;u<r.length;u++){let h=r[u];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,l=tb(n,t,r.length,null);for(let u=0;u<r.length;u++){let h=r[u];e.mergedAttrs=Vo(e.mergedAttrs,h.hostAttrs),WT(n,e,t,l,h),qT(l,h,i),h.contentQueries!==null&&(e.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(e.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),a=!0),l++}OT(n,e,o)}function LT(n,t,e,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~t.index;VT(s)!=a&&s.push(a),s.push(e,r,o)}}function VT(n){let t=n.length;for(;t>0;){let e=n[--t];if(typeof e=="number"&&e<0)return e}return 0}function jT(n,t,e){let r=e.directiveStart,i=e.directiveEnd;Ri(e)&&KT(t,e,n.data[r+e.componentOffset]),n.firstCreatePass||vc(e,t);let o=e.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],l=$s(t,n,s,e);if(Fi(l,t),o!==null&&JT(t,s-r,l,a,e,o),cr(a)){let u=Bn(e.index,t);u[on]=$s(t,n,s,e)}}}function UT(n,t,e){let r=e.directiveStart,i=e.directiveEnd,o=e.index,s=GI();try{xi(o);for(let a=r;a<i;a++){let l=n.data[a],u=t[a];nh(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&BT(l,u)}}finally{xi(-1),nh(s)}}function BT(n,t){n.hostBindings!==null&&n.hostBindings(1,t)}function $T(n,t){let e=n.directiveRegistry,r=null;if(e)for(let i=0;i<e.length;i++){let o=e[i];K_(t,o.selectors,!1)&&(r??=[],cr(o)?r.unshift(o):r.push(o))}return r}function ob(n,t,e){let r=[],i=null;for(let o of e)o.findHostDirectiveDefs!==null&&(i??=new Map,o.findHostDirectiveDefs(o,r,i)),cr(o)&&(r.push(o),HT(n,t,r.length-1));return Ri(t)?r.push(...e.slice(1)):r.push(...e),[r,i]}function HT(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function zT(n,t,e){if(t){let r=n.localNames=[];for(let i=0;i<t.length;i+=2){let o=e[t[i+1]];if(o==null)throw new A(-301,!1);r.push(t[i],o)}}}function qT(n,t,e){if(e){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)e[t.exportAs[r]]=n;cr(t)&&(e[""]=n)}}function GT(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function WT(n,t,e,r,i){n.data[r]=i;let o=i.factory||(i.factory=Ei(i.type,!0)),s=new Mi(o,cr(i),T);n.blueprint[r]=s,e[r]=s,LT(n,t,r,tb(n,e,i.hostVars,Nt),i)}function QT(n){let t=16;return n.signals?t=4096:n.onPush&&(t=64),t}function KT(n,t,e){let r=Tn(t,n),i=MT(e),o=n[ar].rendererFactory,s=xp(n,Ep(n,i,null,QT(e),r,t,null,o.createRenderer(r,e),null,null,null));return n[t.index]=s}function ZT(n,t,e,r,i,o){let s=Tn(n,t);YT(t[Oe],s,o,n.value,e,r,i)}function YT(n,t,e,r,i,o,s){if(o==null)n.removeAttribute(t,i,e);else{let a=s==null?sr(o):s(o,r||"",i);n.setAttribute(t,i,a,e)}}function JT(n,t,e,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],u=s[a++],h=s[a++],p=s[a++];eb(r,e,l,u,h,p)}}function XT(n,t,e){let r=null,i=0;for(;i<e.length;){let o=e[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===t){r.push(o,s[a+1],s[a+2],e[i+1]);break}}i+=2}return r}function sb(n,t,e,r){return[n,!0,0,t,null,r,null,e,null,null]}function xp(n,t){return n[Bs]?n[M0][In]=t:n[Bs]=t,n[M0]=t,t}function ab(n,t){let e=n[Us],r=e?e.get(Mt,null):null;r&&r.handleError(t)}function Mp(n,t,e,r,i){for(let o=0;o<e.length;){let s=e[o++],a=e[o++],l=e[o++],u=t[s],h=n.data[s];eb(h,u,r,a,l,i)}}function ex(n,t){let e=Bn(t,n),r=e[ae];tx(r,e);let i=e[pr];i!==null&&e[js]===null&&(e[js]=k_(i,e[Us])),Ap(r,e,e[on])}function tx(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}function Ap(n,t,e){up(t);try{let r=n.viewQuery;r!==null&&fh(1,r,e);let i=n.template;i!==null&&nb(n,t,i,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),t[lr]?.finishViewCreation(n),n.staticContentQueries&&N_(n,t),n.staticViewQueries&&fh(2,n.viewQuery,e);let o=n.components;o!==null&&nx(t,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{t[Z]&=-5,dp()}}function nx(n,t){for(let e=0;e<t.length;e++)ex(n,t[e])}var dr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(dr||{}),rx;function kp(n,t){return rx(n,t)}function Np(n){return(n.flags&32)===32}function Ao(n,t,e,r,i){if(r!=null){let o,s=!1;mr(r)?o=r:Hr(r)&&(s=!0,r=r[pr]);let a=Un(r);n===0&&e!==null?i==null?Y_(t,e,a):Cc(t,e,a,i||null,!0):n===1&&e!==null?Cc(t,e,a,i||null,!0):n===2?IT(t,a,s):n===3&&t.destroyNode(a),o!=null&&px(t,n,o,e,i)}}function ix(n,t){lb(n,t),t[pr]=null,t[At]=null}function ox(n,t,e,r,i,o){r[pr]=i,r[At]=t,Xc(n,r,e,1,i,o)}function lb(n,t){t[ar].changeDetectionScheduler?.notify(10),Xc(n,t,t[Oe],2,null,null)}function sx(n){let t=n[Bs];if(!t)return jf(n[ae],n);for(;t;){let e=null;if(Hr(t))e=t[Bs];else{let r=t[$t];r&&(e=r)}if(!e){for(;t&&!t[In]&&t!==n;)Hr(t)&&jf(t[ae],t),t=t[dt];t===null&&(t=n),Hr(t)&&jf(t[ae],t),e=t&&t[In]}t=e}}function ax(n,t,e,r){let i=$t+r,o=e.length;r>0&&(e[i-1][In]=t),r<o-$t?(t[In]=e[i],Ey(e,$t+r,t)):(e.push(t),t[In]=null),t[dt]=e;let s=t[Si];s!==null&&e!==s&&cb(s,t);let a=t[lr];a!==null&&a.insertView(n),eh(t),t[Z]|=128}function cb(n,t){let e=n[Fo],r=t[dt];if(Hr(r))n[Z]|=2;else{let i=r[dt][sn];t[sn]!==i&&(n[Z]|=2)}e===null?n[Fo]=[t]:e.push(t)}function Rp(n,t){let e=n[Fo],r=e.indexOf(t);e.splice(r,1)}function wh(n,t){if(n.length<=$t)return;let e=$t+t,r=n[e];if(r){let i=r[Si];i!==null&&i!==n&&Rp(i,r),t>0&&(n[e-1][In]=r[In]);let o=lc(n,$t+t);ix(r[ae],r);let s=o[lr];s!==null&&s.detachView(o[ae]),r[dt]=null,r[In]=null,r[Z]&=-129}return r}function ub(n,t){if(Ks(t))return;let e=t[Oe];e.destroyNode&&Xc(n,t,e,3,null,null),sx(t)}function jf(n,t){if(Ks(t))return;let e=he(null);try{t[Z]&=-129,t[Z]|=256,t[Bt]&&vo(t[Bt]),cx(n,t),lx(n,t),t[ae].type===1&&t[Oe].destroy();let r=t[Si];if(r!==null&&mr(t[dt])){r!==t[dt]&&Rp(r,t);let i=t[lr];i!==null&&i.detachView(n)}ch(t)}finally{he(e)}}function lx(n,t){let e=n.cleanup,r=t[uc];if(e!==null)for(let s=0;s<e.length-1;s+=2)if(typeof e[s]=="string"){let a=e[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[e[s+1]];e[s].call(a)}r!==null&&(t[uc]=null);let i=t[$r];if(i!==null){t[$r]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=t[Di];if(o!==null){t[Di]=null;for(let s of o)s.destroy()}}function cx(n,t){let e;if(n!=null&&(e=n.destroyHooks)!=null)for(let r=0;r<e.length;r+=2){let i=t[e[r]];if(!(i instanceof Mi)){let o=e[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];rn(4,a,l);try{l.call(a)}finally{rn(5,a,l)}}else{rn(4,i,o);try{o.call(i)}finally{rn(5,i,o)}}}}}function db(n,t,e){return ux(n,t.parent,e)}function ux(n,t,e){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return e[pr];if(Ri(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===$n.None||i===$n.Emulated)return null}return Tn(r,e)}function fb(n,t,e){return fx(n,t,e)}function dx(n,t,e){return n.type&40?Tn(n,e):null}var fx=dx,Y0;function Jc(n,t,e,r){let i=db(n,r,t),o=t[Oe],s=r.parent||t[At],a=fb(s,r,t);if(i!=null)if(Array.isArray(e))for(let l=0;l<e.length;l++)Q0(o,i,e[l],a,!1);else Q0(o,i,e,a,!1);Y0!==void 0&&Y0(o,r,t,e,i)}function Ps(n,t){if(t!==null){let e=t.type;if(e&3)return Tn(t,n);if(e&4)return Eh(-1,n[t.index]);if(e&8){let r=t.child;if(r!==null)return Ps(n,r);{let i=n[t.index];return mr(i)?Eh(-1,i):Un(i)}}else{if(e&128)return Ps(n,t.next);if(e&32)return kp(t,n)()||Un(n[t.index]);{let r=hb(n,t);if(r!==null){if(Array.isArray(r))return r[0];let i=Ti(n[sn]);return Ps(i,r)}else return Ps(n,t.next)}}}return null}function hb(n,t){if(t!==null){let r=n[sn][At],i=t.projection;return r.projection[i]}return null}function Eh(n,t){let e=$t+n+1;if(e<t.length){let r=t[e],i=r[ae].firstChild;if(i!==null)return Ps(r,i)}return t[Ii]}function Op(n,t,e,r,i,o,s){for(;e!=null;){if(e.type===128){e=e.next;continue}let a=r[e.index],l=e.type;if(s&&t===0&&(a&&Fi(Un(a),r),e.flags|=2),!Np(e))if(l&8)Op(n,t,e.child,r,i,o,!1),Ao(t,n,i,a,o);else if(l&32){let u=kp(e,r),h;for(;h=u();)Ao(t,n,i,h,o);Ao(t,n,i,a,o)}else l&16?pb(n,t,r,e,i,o):Ao(t,n,i,a,o);e=s?e.projectionNext:e.next}}function Xc(n,t,e,r,i,o){Op(e,r,n.firstChild,t,i,o,!1)}function hx(n,t,e){let r=t[Oe],i=db(n,e,t),o=e.parent||t[At],s=fb(o,e,t);pb(r,0,t,e,i,s)}function pb(n,t,e,r,i,o){let s=e[sn],l=s[At].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++){let h=l[u];Ao(t,n,i,h,o)}else{let u=l,h=s[dt];E_(r)&&(u.flags|=128),Op(n,t,u,h,i,o,!0)}}function px(n,t,e,r,i){let o=e[Ii],s=Un(e);o!==s&&Ao(t,n,r,o,i);for(let a=$t;a<e.length;a++){let l=e[a];Xc(l[ae],l,n,t,r,o)}}function mx(n,t,e,r,i){if(t)i?n.addClass(e,r):n.removeClass(e,r);else{let o=r.indexOf("-")===-1?void 0:dr.DashCase;i==null?n.removeStyle(e,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=dr.Important),n.setStyle(e,r,i,o))}}function mb(n,t,e,r){let i=he(null);try{let o=t.tView,a=n[Z]&4096?4096:16,l=Ep(n,o,e,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=n[t.index];l[Si]=u;let h=n[lr];return h!==null&&(l[lr]=h.createEmbeddedView(o)),Ap(o,l,e),l}finally{he(i)}}function Ch(n,t){return!t||t.firstChild===null||E_(n)}function gb(n,t,e,r=!0){let i=t[ae];if(ax(i,t,n,e),r){let s=Eh(e,n),a=t[Oe],l=a.parentNode(n[Ii]);l!==null&&ox(i,n[At],a,t,l,s)}let o=t[js];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Sc(n,t,e,r,i=!1){for(;e!==null;){if(e.type===128){e=i?e.projectionNext:e.next;continue}let o=t[e.index];o!==null&&r.push(Un(o)),mr(o)&&gx(o,r);let s=e.type;if(s&8)Sc(n,t,e.child,r);else if(s&32){let a=kp(e,t),l;for(;l=a();)r.push(l)}else if(s&16){let a=hb(t,e);if(Array.isArray(a))r.push(...a);else{let l=Ti(t[sn]);Sc(l[ae],l,a,r,!0)}}e=i?e.projectionNext:e.next}return r}function gx(n,t){for(let e=$t;e<n.length;e++){let r=n[e],i=r[ae].firstChild;i!==null&&Sc(r[ae],r,i,t)}n[Ii]!==n[pr]&&t.push(n[Ii])}var vb=[];function vx(n){return n[Bt]??yx(n)}function yx(n){let t=vb.pop()??Object.create(bx);return t.lView=n,t}function _x(n){n.lView[Bt]!==n&&(n.lView=null,vb.push(n))}var bx=z(N({},mi),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Zs(n.lView)},consumerOnSignalRead(){this.lView[Bt]=this}});function wx(n){let t=n[Bt]??Object.create(Ex);return t.lView=n,t}var Ex=z(N({},mi),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let t=Ti(n.lView);for(;t&&!yb(t[ae]);)t=Ti(t);t&&op(t)},consumerOnSignalRead(){this.lView[Bt]=this}});function yb(n){return n.type!==2}function _b(n){if(n[Di]===null)return;let t=!0;for(;t;){let e=!1;for(let r of n[Di])r.dirty&&(e=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=e&&!!(n[Z]&8192)}}var Cx=100;function bb(n,t=!0,e=0){let i=n[ar].rendererFactory,o=!1;o||i.begin?.();try{Sx(n,e)}catch(s){throw t&&ab(n,s),s}finally{o||i.end?.()}}function Sx(n,t){let e=Ky();try{hc(!0),Sh(n,t);let r=0;for(;jc(n);){if(r===Cx)throw new A(103,!1);r++,Sh(n,1)}}finally{hc(e)}}function Dx(n,t,e,r){if(Ks(t))return;let i=t[Z],o=!1,s=!1;up(t);let a=!0,l=null,u=null;o||(yb(n)?(u=vx(t),l=go(u)):Vv()===null?(a=!1,u=wx(t),l=go(u)):t[Bt]&&(vo(t[Bt]),t[Bt]=null));try{$y(t),HI(n.bindingStartIndex),e!==null&&nb(n,t,e,2,r);let h=(i&3)===3;if(!o)if(h){let g=n.preOrderCheckHooks;g!==null&&tc(t,g,null)}else{let g=n.preOrderHooks;g!==null&&nc(t,g,0,null),Ff(t,0)}if(s||Ix(t),_b(t),wb(t,0),n.contentQueries!==null&&N_(n,t),!o)if(h){let g=n.contentCheckHooks;g!==null&&tc(t,g)}else{let g=n.contentHooks;g!==null&&nc(t,g,1),Ff(t,1)}xx(n,t);let p=n.components;p!==null&&Cb(t,p,0);let v=n.viewQuery;if(v!==null&&fh(2,v,r),!o)if(h){let g=n.viewCheckHooks;g!==null&&tc(t,g)}else{let g=n.viewHooks;g!==null&&nc(t,g,2),Ff(t,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),t[ec]){for(let g of t[ec])g();t[ec]=null}o||(t[Z]&=-73)}catch(h){throw o||Zs(t),h}finally{u!==null&&(Is(u,l),a&&_x(u)),dp()}}function wb(n,t){for(let e=D_(n);e!==null;e=I_(e))for(let r=$t;r<e.length;r++){let i=e[r];Eb(i,t)}}function Ix(n){for(let t=D_(n);t!==null;t=I_(t)){if(!(t[Z]&2))continue;let e=t[Fo];for(let r=0;r<e.length;r++){let i=e[r];op(i)}}}function Tx(n,t,e){let r=Bn(t,n);Eb(r,e)}function Eb(n,t){ip(n)&&Sh(n,t)}function Sh(n,t){let r=n[ae],i=n[Z],o=n[Bt],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&Ts(o)),s||=!1,o&&(o.dirty=!1),n[Z]&=-9217,s)Dx(r,n,r.template,n[on]);else if(i&8192){_b(n),wb(n,1);let a=r.components;a!==null&&Cb(n,a,1)}}function Cb(n,t,e){for(let r=0;r<t.length;r++)Tx(n,t[r],e)}function xx(n,t){let e=n.hostBindingOpCodes;if(e!==null)try{for(let r=0;r<e.length;r++){let i=e[r];if(i<0)xi(~i);else{let o=i,s=e[++r],a=e[++r];qI(s,o);let l=t[o];rn(24,l),a(2,l),rn(25,l)}}}finally{xi(-1)}}function Pp(n,t){let e=Ky()?64:1088;for(n[ar].changeDetectionScheduler?.notify(t);n;){n[Z]|=e;let r=Ti(n);if(fc(n)&&!r)return n;n=r}return null}var Ai=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let t=this._lView,e=t[ae];return Sc(e,t,e.firstChild,[])}constructor(t,e,r=!0){this._lView=t,this._cdRefInjectingView=e,this.notifyErrorHandler=r}get context(){return this._lView[on]}get dirty(){return!!(this._lView[Z]&9280)||!!this._lView[Bt]?.dirty}set context(t){this._lView[on]=t}get destroyed(){return Ks(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[dt];if(mr(t)){let e=t[dc],r=e?e.indexOf(this):-1;r>-1&&(wh(t,r),lc(e,r))}this._attachedToViewContainer=!1}ub(this._lView[ae],this._lView)}onDestroy(t){Hy(this._lView,t)}markForCheck(){Pp(this._cdRefInjectingView||this._lView,4)}markForRefresh(){op(this._cdRefInjectingView||this._lView)}detach(){this._lView[Z]&=-129}reattach(){eh(this._lView),this._lView[Z]|=128}detectChanges(){this._lView[Z]|=1024,bb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new A(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=fc(this._lView),e=this._lView[Si];e!==null&&!t&&Rp(e,this._lView),lb(this._lView[ae],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new A(902,!1);this._appRef=t;let e=fc(this._lView),r=this._lView[Si];r!==null&&!e&&cb(r,this._lView),eh(this._lView)}},ki=(()=>{class n{static __NG_ELEMENT_ID__=kx}return n})(),Mx=ki,Ax=class extends Mx{_declarationLView;_declarationTContainer;elementRef;constructor(t,e,r){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,r){let i=mb(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:e,dehydratedView:r});return new Ai(i)}};function kx(){return Fp(_t(),ie())}function Fp(n,t){return n.type&4?new Ax(t,n,Ho(n,t)):null}function qo(n,t,e,r,i){let o=n.data[t];if(o===null)o=Nx(n,t,e,r,i),zI()&&(o.flags|=32);else if(o.type&64){o.type=e,o.value=r,o.attrs=i;let s=$I();o.injectorIndex=s===null?-1:s.injectorIndex}return Oi(o,!0),o}function Nx(n,t,e,r,i){let o=Qy(),s=sp(),a=s?o:o&&o.parent,l=n.data[t]=Ox(n,a,e,t,r,i);return Rx(n,l,o,s),l}function Rx(n,t,e,r){n.firstChild===null&&(n.firstChild=t),e!==null&&(r?e.child==null&&t.parent!==null&&(e.child=t):e.next===null&&(e.next=t,t.prev=e))}function Ox(n,t,e,r,i,o){let s=t?t.injectorIndex:-1,a=0;return Wy()&&(a|=128),{type:e,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var q5=new RegExp(`^(\\d+)*(${R1}|${N1})*(.*)`);var Px=()=>null;function Dh(n,t){return Px(n,t)}var Ih=class{},Dc=class{},Th=class{resolveComponentFactory(t){throw Error(`No component factory found for ${yt(t)}.`)}},jo=class{static NULL=new Th},Gr=class{},An=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>Fx()}return n})();function Fx(){let n=ie(),t=_t(),e=Bn(t.index,n);return(Hr(e)?e:n)[Oe]}var Lx=(()=>{class n{static \u0275prov=R({token:n,providedIn:"root",factory:()=>null})}return n})();function Ic(n,t,e){let r=e?n.styles:null,i=e?n.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=Gf(i,a);else if(o==2){let l=a,u=t[++s];r=Gf(r,l+": "+u+";")}}e?n.styles=r:n.stylesWithoutHost=r,e?n.classes=i:n.classesWithoutHost=i}var Tc=class extends jo{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let e=Ci(t);return new zs(e,this.ngModule)}};function J0(n,t){let e=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:qr.None;t?e.push({propName:s,templateName:r,isSignal:(a&qr.SignalBased)!==0}):e.push({propName:s,templateName:r})}return e}function Vx(n){let t=n.toLowerCase();return t==="svg"?MI:t==="math"?AI:null}var zs=class extends Dc{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){let t=this.componentDef,e=t.inputTransforms,r=J0(t.inputs,!0);if(e!==null)for(let i of r)e.hasOwnProperty(i.propName)&&(i.transform=e[i.propName]);return r}get outputs(){return J0(this.componentDef.outputs,!1)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=wT(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!e}create(t,e,r,i){let o=he(null);try{i=i||this.ngModule;let s=i instanceof Tt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new rh(t,s):t,l=a.get(Gr,null);if(l===null)throw new A(407,!1);let u=a.get(Lx,null),h=a.get(zr,null),p={rendererFactory:l,sanitizer:u,changeDetectionScheduler:h},v=l.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",b=r?kT(v,r,this.componentDef.encapsulation,a):Z_(v,g,Vx(g)),w=512;this.componentDef.signals?w|=4096:this.componentDef.onPush||(w|=16);let C=null;b!==null&&(C=k_(b,a,!0));let k=Dp(0,null,null,1,0,null,null,null,null,null,null),F=Ep(null,k,null,w,null,null,p,v,a,null,C);F[xt]=b,up(F);let P=null;try{let B=r?["ng-version","19.1.4"]:ET(this.componentDef.selectors[0]),W=qo(k,xt,2,"#host",B),[be,we]=ob(k,W,[this.componentDef]);ib(k,F,W,be,{},we);for(let Ae of be)W.mergedAttrs=Vo(W.mergedAttrs,Ae.hostAttrs);W.mergedAttrs=Vo(W.mergedAttrs,B),Ic(W,W.mergedAttrs,!0),b&&(J_(v,b,W),Fi(b,F)),e!==void 0&&jx(W,this.ngContentSelectors,e),rb(k,F,W),bp(k,W,F),qc(k,W),P=Bn(W.index,F),F[on]=P[on],Ap(k,F,null)}catch(B){throw P!==null&&ch(P),ch(F),B}finally{dp()}return new xh(this.componentType,F)}finally{he(o)}}},xh=class extends Ih{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,e){super(),this._rootLView=e,this._tNode=By(e[ae],xt),this.location=Ho(this._tNode,e),this.instance=Bn(this._tNode.index,e)[on],this.hostView=this.changeDetectorRef=new Ai(e,void 0,!1),this.componentType=t}setInput(t,e){let r=this._tNode.inputs,i;if(r!==null&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;let o=this._rootLView;Mp(o[ae],o,i,t,e),this.previousInputValues.set(t,e);let s=Bn(this._tNode.index,o);Pp(s,1)}}get injector(){return new wi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function jx(n,t,e){let r=n.projection=[];for(let i=0;i<t.length;i++){let o=e[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Kr=(()=>{class n{static __NG_ELEMENT_ID__=Ux}return n})();function Ux(){let n=_t();return Db(n,ie())}var Bx=Kr,Sb=class extends Bx{_lContainer;_hostTNode;_hostLView;constructor(t,e,r){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=r}get element(){return Ho(this._hostTNode,this._hostLView)}get injector(){return new wi(this._hostTNode,this._hostLView)}get parentInjector(){let t=fp(this._hostTNode,this._hostLView);if(s_(t)){let e=mc(t,this._hostLView),r=pc(t),i=e[ae].data[r+8];return new wi(i,e)}else return new wi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let e=X0(this._lContainer);return e!==null&&e[t]||null}get length(){return this._lContainer.length-$t}createEmbeddedView(t,e,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Dh(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(e||{},o,s);return this.insertImpl(a,i,Ch(this._hostTNode,s)),a}createComponent(t,e,r,i,o){let s=t&&!DI(t),a;if(s)a=e;else{let b=e||{};a=b.index,r=b.injector,i=b.projectableNodes,o=b.environmentInjector||b.ngModuleRef}let l=s?t:new zs(Ci(t)),u=r||this.parentInjector;if(!o&&l.ngModule==null){let w=(s?u:this.parentInjector).get(Tt,null);w&&(o=w)}let h=Ci(l.componentType??{}),p=Dh(this._lContainer,h?.id??null),v=p?.firstChild??null,g=l.create(u,i,v,o);return this.insertImpl(g.hostView,a,Ch(this._hostTNode,p)),g}insert(t,e){return this.insertImpl(t,e,!0)}insertImpl(t,e,r){let i=t._lView;if(RI(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=i[dt],u=new Sb(l,l[At],l[dt]);u.detach(u.indexOf(t))}}let o=this._adjustIndex(e),s=this._lContainer;return gb(s,i,o,r),t.attachToViewContainerRef(),Ey(Uf(s),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){let e=X0(this._lContainer);return e!==null?e.indexOf(t):-1}remove(t){let e=this._adjustIndex(t,-1),r=wh(this._lContainer,e);r&&(lc(Uf(this._lContainer),e),ub(r[ae],r))}detach(t){let e=this._adjustIndex(t,-1),r=wh(this._lContainer,e);return r&&lc(Uf(this._lContainer),e)!=null?new Ai(r):null}_adjustIndex(t,e=0){return t??this.length+e}};function X0(n){return n[dc]}function Uf(n){return n[dc]||(n[dc]=[])}function Db(n,t){let e,r=t[n.index];return mr(r)?e=r:(e=sb(r,t,null,n),t[n.index]=e,xp(t,e)),Hx(e,t,n,r),new Sb(e,n,t)}function $x(n,t){let e=n[Oe],r=e.createComment(""),i=Tn(t,n),o=e.parentNode(i);return Cc(e,o,r,e.nextSibling(i),!1),r}var Hx=Gx,zx=()=>!1;function qx(n,t,e){return zx(n,t,e)}function Gx(n,t,e,r){if(n[Ii])return;let i;e.type&8?i=Un(r):i=$x(t,e),n[Ii]=i}var Mh=class n{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Ah=class n{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let e=t.queries;if(e!==null){let r=t.contentQueries!==null?t.contentQueries[0]:e.length,i=[];for(let o=0;o<r;o++){let s=e.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)Lp(t,e).matches!==null&&this.queries[e].setDirty()}},kh=class{flags;read;predicate;constructor(t,e,r=null){this.flags=e,this.read=r,typeof t=="string"?this.predicate=eM(t):this.predicate=t}},Nh=class n{queries;constructor(t=[]){this.queries=t}elementStart(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let r=0;r<this.length;r++){let i=e!==null?e.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,e!==null?e.push(o):e=[o])}return e!==null?new n(e):null}template(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},Rh=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,e=-1){this.metadata=t,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new n(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,r=t.parent;for(;r!==null&&r.type&8&&r.index!==e;)r=r.parent;return e===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(t,e){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(t,e,Wx(e,o)),this.matchTNodeWithReadOption(t,e,rc(e,t,o,!1,!1))}else r===ki?e.type&4&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,rc(e,t,r,!1,!1))}matchTNodeWithReadOption(t,e,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Ye||i===Kr||i===ki&&e.type&4)this.addMatch(e.index,-2);else{let o=rc(e,t,i,!1,!1);o!==null&&this.addMatch(e.index,o)}else this.addMatch(e.index,r)}}addMatch(t,e){this.matches===null?this.matches=[t,e]:this.matches.push(t,e)}};function Wx(n,t){let e=n.localNames;if(e!==null){for(let r=0;r<e.length;r+=2)if(e[r]===t)return e[r+1]}return null}function Qx(n,t){return n.type&11?Ho(n,t):n.type&4?Fp(n,t):null}function Kx(n,t,e,r){return e===-1?Qx(t,n):e===-2?Zx(n,t,r):$s(n,n[ae],e,t)}function Zx(n,t,e){if(e===Ye)return Ho(t,n);if(e===ki)return Fp(t,n);if(e===Kr)return Db(t,n)}function Ib(n,t,e,r){let i=t[lr].queries[r];if(i.matches===null){let o=n.data,s=e.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let u=s[l];if(u<0)a.push(null);else{let h=o[u];a.push(Kx(t,h,s[l+1],e.metadata.read))}}i.matches=a}return i.matches}function Oh(n,t,e,r){let i=n.queries.getByIndex(e),o=i.matches;if(o!==null){let s=Ib(n,t,i,e);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)r.push(s[a/2]);else{let u=o[a+1],h=t[-l];for(let p=$t;p<h.length;p++){let v=h[p];v[Si]===v[dt]&&Oh(v[ae],v,u,r)}if(h[Fo]!==null){let p=h[Fo];for(let v=0;v<p.length;v++){let g=p[v];Oh(g[ae],g,u,r)}}}}}return r}function Yx(n,t){return n[lr].queries[t].queryList}function Jx(n,t,e){let r=new Ec((e&4)===4);return FI(n,t,r,r.destroy),(t[lr]??=new Ah).queries.push(new Mh(r))-1}function Xx(n,t,e){let r=je();return r.firstCreatePass&&(tM(r,new kh(n,t,e),-1),(t&2)===2&&(r.staticViewQueries=!0)),Jx(r,ie(),t)}function eM(n){return n.split(",").map(t=>t.trim())}function tM(n,t,e){n.queries===null&&(n.queries=new Nh),n.queries.track(new Rh(t,e))}function Lp(n,t){return n.queries.getByIndex(t)}function nM(n,t){let e=n[ae],r=Lp(e,t);return r.crossesNgTemplate?Oh(e,n,t,[]):Ib(e,n,r,t)}var Wr=class{},qs=class{};var Ph=class extends Wr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Tc(this);constructor(t,e,r,i=!0){super(),this.ngModuleType=t,this._parent=e;let o=Dy(t);this._bootstrapComponents=W_(o.bootstrap),this._r3Injector=m_(t,e,[{provide:Wr,useValue:this},{provide:jo,useValue:this.componentFactoryResolver},...r],yt(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Fh=class extends qs{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new Ph(this.moduleType,t,[])}};var xc=class extends Wr{injector;componentFactoryResolver=new Tc(this);instance=null;constructor(t){super();let e=new Vs([...t.providers,{provide:Wr,useValue:this},{provide:jo,useValue:this.componentFactoryResolver}],t.parent||tp(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Vp(n,t,e=null){return new xc({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}var rM=(()=>{class n{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let r=My(!1,e.type),i=r.length>0?Vp([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,i)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=R({token:n,providedIn:"environment",factory:()=>new n(V(Tt))})}return n})();function ee(n){return Ws(()=>{let t=xb(n),e=z(N({},t),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===C_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(rM).getOrCreateStandaloneInjector(e):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||$n.Emulated,styles:n.styles||It,_:null,schemas:n.schemas||null,tView:null,id:""});t.standalone&&xn("NgStandalone"),Mb(e);let r=n.dependencies;return e.directiveDefs=ty(r,!1),e.pipeDefs=ty(r,!0),e.id=sM(e),e})}function iM(n){return Ci(n)||Iy(n)}function oM(n){return n!==null}function Je(n){return Ws(()=>({type:n.type,bootstrap:n.bootstrap||It,declarations:n.declarations||It,imports:n.imports||It,exports:n.exports||It,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function ey(n,t){if(n==null)return Ro;let e={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=qr.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),t?(e[o]=a!==qr.None?[r,a]:r,t[o]=s):e[o]=r}return e}function ge(n){return Ws(()=>{let t=xb(n);return Mb(t),t})}function Tb(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function xb(n){let t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:n.inputs||Ro,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||It,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ey(n.inputs,t),outputs:ey(n.outputs),debugInfo:null}}function Mb(n){n.features?.forEach(t=>t(n))}function ty(n,t){if(!n)return null;let e=t?Ty:iM;return()=>(typeof n=="function"?n():n).map(r=>e(r)).filter(oM)}function sM(n){let t=0,e=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,e,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function aM(n){return Object.getPrototypeOf(n.prototype).constructor}function Xe(n){let t=aM(n.type),e=!0,r=[n];for(;t;){let i;if(cr(n))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new A(903,!1);i=t.\u0275dir}if(i){if(e){r.push(i);let s=n;s.inputs=Yl(n.inputs),s.inputTransforms=Yl(n.inputTransforms),s.declaredInputs=Yl(n.declaredInputs),s.outputs=Yl(n.outputs);let a=i.hostBindings;a&&fM(n,a);let l=i.viewQuery,u=i.contentQueries;if(l&&uM(n,l),u&&dM(n,u),lM(n,i),zD(n.outputs,i.outputs),cr(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Xe&&(e=!1)}}t=Object.getPrototypeOf(t)}cM(r)}function lM(n,t){for(let e in t.inputs){if(!t.inputs.hasOwnProperty(e)||n.inputs.hasOwnProperty(e))continue;let r=t.inputs[e];if(r!==void 0&&(n.inputs[e]=r,n.declaredInputs[e]=t.declaredInputs[e],t.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!t.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=t.inputTransforms[i]}}}function cM(n){let t=0,e=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Vo(i.hostAttrs,e=Vo(e,i.hostAttrs))}}function Yl(n){return n===Ro?{}:n===It?[]:n}function uM(n,t){let e=n.viewQuery;e?n.viewQuery=(r,i)=>{t(r,i),e(r,i)}:n.viewQuery=t}function dM(n,t){let e=n.contentQueries;e?n.contentQueries=(r,i,o)=>{t(r,i,o),e(r,i,o)}:n.contentQueries=t}function fM(n,t){let e=n.hostBindings;e?n.hostBindings=(r,i)=>{t(r,i),e(r,i)}:n.hostBindings=t}function Li(n){let t=n.inputConfig,e={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r];Array.isArray(i)&&i[3]&&(e[r]=i[3])}n.inputTransforms=e}function Ab(n){return pM(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function hM(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{let e=n[Symbol.iterator](),r;for(;!(r=e.next()).done;)t(r.value)}}function pM(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function kb(n,t,e){return n[t]=e}function fr(n,t,e){let r=n[t];return Object.is(r,e)?!1:(n[t]=e,!0)}function jp(n,t,e,r){let i=fr(n,t,e);return fr(n,t+1,r)||i}function Nb(n,t,e,r,i){let o=jp(n,t,e,r);return fr(n,t+2,i)||o}function mM(n,t,e,r,i,o,s,a,l){let u=t.consts,h=qo(t,n,4,s||null,a||null);Tp(t,e,h,Lo(u,l)),qc(t,h);let p=h.tView=Dp(2,h,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u,null);return t.queries!==null&&(t.queries.template(t,h),p.queries=t.queries.embeddedTView(h)),h}function Rb(n,t,e,r,i,o,s,a,l,u){let h=e+xt,p=t.firstCreatePass?mM(h,t,n,r,i,o,s,a,l):t.data[h];Oi(p,!1);let v=gM(t,n,p,e);Hc()&&Jc(t,n,v,p),Fi(v,n);let g=sb(v,n,v,p);return n[h]=g,xp(n,g),qx(g,p,n),Vc(p)&&Cp(t,n,p),l!=null&&Sp(n,p,u),p}function S(n,t,e,r,i,o,s,a){let l=ie(),u=je(),h=Lo(u.consts,o);return Rb(l,u,n,t,e,r,i,h,s,a),S}var gM=vM;function vM(n,t,e,r){return zc(!0),t[Oe].createComment("")}var Up=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var Ob=new L("");function Vi(n){return!!n&&typeof n.then=="function"}function Pb(n){return!!n&&typeof n.subscribe=="function"}var Fb=new L("");var Lb=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,r)=>{this.resolve=e,this.reject=r});appInits=I(Fb,{optional:!0})??[];injector=I(Ve);constructor(){}runInitializers(){if(this.initialized)return;let e=[];for(let i of this.appInits){let o=it(this.injector,i);if(Vi(o))e.push(o);else if(Pb(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),e.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Vb=(()=>{class n{static \u0275prov=R({token:n,providedIn:"root",factory:()=>new Mc})}return n})(),Mc=class{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){let e=t.zone,r=this.queues.get(e);r.has(t)&&(r.delete(t),this.queuedEffectCount--)}enqueue(t){let e=t.zone;this.queues.has(e)||this.queues.set(e,new Set);let r=this.queues.get(e);r.has(t)||(this.queuedEffectCount++,r.add(t))}flush(){for(;this.queuedEffectCount>0;)for(let[t,e]of this.queues)t===null?this.flushQueue(e):t.run(()=>this.flushQueue(e))}flushQueue(t){for(let e of t)t.delete(e),this.queuedEffectCount--,e.run()}},eu=new L("");function yM(){Kv(()=>{throw new A(600,!1)})}function _M(n){return n.isBoundToModule}var bM=10;function wM(n,t,e){try{let r=e();return Vi(r)?r.catch(i=>{throw t.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>n.handleError(r)),r}}var hr=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=I(w1);afterRenderManager=I(A_);zonelessEnabled=I(Wc);rootEffectScheduler=I(Vb);dirtyFlags=0;deferredDirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new xe;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=I(vr).hasPendingTasks.pipe(G(e=>!e));constructor(){I(zo,{optional:!0})}whenStable(){let e;return new Promise(r=>{e=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{e.unsubscribe()})}_injector=I(Tt);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,r){let i=e instanceof Dc;if(!this._injector.get(Lb).done){let v=!i&&xy(e),g=!1;throw new A(405,g)}let s;i?s=e:s=this._injector.get(jo).resolveComponentFactory(e),this.componentTypes.push(s.componentType);let a=_M(s)?void 0:this._injector.get(Wr),l=r||s.selector,u=s.create(Ve.NULL,[],l,a),h=u.location.nativeElement,p=u.injector.get(Ob,null);return p?.registerApplication(h),u.onDestroy(()=>{this.detachView(u.hostView),ic(this.components,u),p?.unregisterApplication(h)}),this._loadComponent(u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick=()=>{if(this.tracingSnapshot!==null){let r=this.tracingSnapshot;this.tracingSnapshot=null,r.run(yp.CHANGE_DETECTION,this._tick),r.dispose();return}if(this._runningTick)throw new A(101,!1);let e=he(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,he(e),this.afterTick.next()}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Gr,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let e=0;for(;this.dirtyFlags!==0&&e++<bM;)this.synchronizeOnce()}synchronizeOnce(){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let e=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)EM(r,i,e,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>jc(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){let r=e;ic(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(eu,[]).forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>ic(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new A(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ic(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function EM(n,t,e,r){if(!e&&!jc(n))return;bb(n,t,e&&!r?0:1)}function zn(n,t,e,r){let i=ie(),o=Uc();if(fr(i,o,t)){let s=je(),a=$c();ZT(a,i,n,t,e,r)}return zn}function jb(n,t,e,r){return fr(n,Uc(),e)?t+sr(e)+r:Nt}function CM(n,t,e,r,i,o){let s=Zy(),a=jp(n,s,e,i);return Bc(2),a?t+sr(e)+r+sr(i)+o:Nt}function SM(n,t,e,r,i,o,s,a){let l=Zy(),u=Nb(n,l,e,i,s);return Bc(3),u?t+sr(e)+r+sr(i)+o+sr(s)+a:Nt}function Jl(n,t){return n<<17|t<<2}function Ni(n){return n>>17&32767}function DM(n){return(n&2)==2}function IM(n,t){return n&131071|t<<17}function Lh(n){return n|2}function Uo(n){return(n&131068)>>2}function Bf(n,t){return n&-131069|t<<2}function TM(n){return(n&1)===1}function Vh(n){return n|1}function xM(n,t,e,r,i,o){let s=o?t.classBindings:t.styleBindings,a=Ni(s),l=Uo(s);n[r]=e;let u=!1,h;if(Array.isArray(e)){let p=e;h=p[1],(h===null||Qs(p,h)>0)&&(u=!0)}else h=e;if(i)if(l!==0){let v=Ni(n[a+1]);n[r+1]=Jl(v,a),v!==0&&(n[v+1]=Bf(n[v+1],r)),n[a+1]=IM(n[a+1],r)}else n[r+1]=Jl(a,0),a!==0&&(n[a+1]=Bf(n[a+1],r)),a=r;else n[r+1]=Jl(l,0),a===0?a=r:n[l+1]=Bf(n[l+1],r),l=r;u&&(n[r+1]=Lh(n[r+1])),ny(n,h,r,!0),ny(n,h,r,!1),MM(t,h,n,r,o),s=Jl(a,l),o?t.classBindings=s:t.styleBindings=s}function MM(n,t,e,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof t=="string"&&Qs(o,t)>=0&&(e[r+1]=Vh(e[r+1]))}function ny(n,t,e,r){let i=n[e+1],o=t===null,s=r?Ni(i):Uo(i),a=!1;for(;s!==0&&(a===!1||o);){let l=n[s],u=n[s+1];AM(l,t)&&(a=!0,n[s+1]=r?Vh(u):Lh(u)),s=r?Ni(u):Uo(u)}a&&(n[e+1]=r?Lh(i):Vh(i))}function AM(n,t){return n===null||t==null||(Array.isArray(n)?n[1]:n)===t?!0:Array.isArray(n)&&typeof t=="string"?Qs(n,t)>=0:!1}var Dn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function kM(n){return n.substring(Dn.key,Dn.keyEnd)}function NM(n){return RM(n),Ub(n,Bb(n,0,Dn.textEnd))}function Ub(n,t){let e=Dn.textEnd;return e===t?-1:(t=Dn.keyEnd=OM(n,Dn.key=t,e),Bb(n,t,e))}function RM(n){Dn.key=0,Dn.keyEnd=0,Dn.value=0,Dn.valueEnd=0,Dn.textEnd=n.length}function Bb(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function OM(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}function y(n,t,e){let r=ie(),i=Uc();if(fr(r,i,t)){let o=je(),s=$c();Ip(o,s,r,n,t,r[Oe],e,!1)}return y}function jh(n,t,e,r,i){let o=t.inputs,s=i?"class":"style";Mp(n,e,o[s],s,r)}function Zr(n,t,e){return $b(n,t,e,!1),Zr}function zt(n,t){return $b(n,t,null,!0),zt}function tu(n){FM($M,PM,n,!0)}function PM(n,t){for(let e=NM(t);e>=0;e=Ub(t,e))Xh(n,kM(t),!0)}function $b(n,t,e,r){let i=ie(),o=je(),s=Bc(2);if(o.firstUpdatePass&&zb(o,n,s,r),t!==Nt&&fr(i,s,t)){let a=o.data[gr()];qb(o,a,i,i[Oe],n,i[s+1]=zM(t,e),r,s)}}function FM(n,t,e,r){let i=je(),o=Bc(2);i.firstUpdatePass&&zb(i,null,o,r);let s=ie();if(e!==Nt&&fr(s,o,e)){let a=i.data[gr()];if(Gb(a,r)&&!Hb(i,o)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(e=Gf(l,e||"")),jh(i,a,s,e,r)}else HM(i,a,s,s[Oe],s[o+1],s[o+1]=BM(n,t,e),r,o)}}function Hb(n,t){return t>=n.expandoStartIndex}function zb(n,t,e,r){let i=n.data;if(i[e+1]===null){let o=i[gr()],s=Hb(n,e);Gb(o,r)&&t===null&&!s&&(t=!1),t=LM(i,o,t,r),xM(i,o,t,e,s,r)}}function LM(n,t,e,r){let i=WI(n),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(e=$f(null,n,t,e,r),e=Gs(e,t.attrs,r),o=null);else{let s=t.directiveStylingLast;if(s===-1||n[s]!==i)if(e=$f(i,n,t,e,r),o===null){let l=VM(n,t,r);l!==void 0&&Array.isArray(l)&&(l=$f(null,n,t,l[1],r),l=Gs(l,t.attrs,r),jM(n,t,r,l))}else o=UM(n,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),e}function VM(n,t,e){let r=e?t.classBindings:t.styleBindings;if(Uo(r)!==0)return n[Ni(r)]}function jM(n,t,e,r){let i=e?t.classBindings:t.styleBindings;n[Ni(i)]=r}function UM(n,t,e){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Gs(r,s,e)}return Gs(r,t.attrs,e)}function $f(n,t,e,r,i){let o=null,s=e.directiveEnd,a=e.directiveStylingLast;for(a===-1?a=e.directiveStart:a++;a<s&&(o=t[a],r=Gs(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(e.directiveStylingLast=a),r}function Gs(n,t,e){let r=e?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Xh(n,s,e?!0:t[++o]))}return n===void 0?null:n}function BM(n,t,e){if(e==null||e==="")return It;let r=[],i=Mn(e);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&t(r,i);return r}function $M(n,t,e){let r=String(t);r!==""&&!r.includes(" ")&&Xh(n,r,e)}function HM(n,t,e,r,i,o,s,a){i===Nt&&(i=It);let l=0,u=0,h=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;h!==null||p!==null;){let v=l<i.length?i[l+1]:void 0,g=u<o.length?o[u+1]:void 0,b=null,w;h===p?(l+=2,u+=2,v!==g&&(b=p,w=g)):p===null||h!==null&&h<p?(l+=2,b=h):(u+=2,b=p,w=g),b!==null&&qb(n,t,e,r,b,w,s,a),h=l<i.length?i[l]:null,p=u<o.length?o[u]:null}}function qb(n,t,e,r,i,o,s,a){if(!(t.type&3))return;let l=n.data,u=l[a+1],h=TM(u)?ry(l,t,e,i,Uo(u),s):void 0;if(!Ac(h)){Ac(o)||DM(u)&&(o=ry(l,null,e,i,a,s));let p=Uy(gr(),e);mx(r,s,p,i,o)}}function ry(n,t,e,r,i,o){let s=t===null,a;for(;i>0;){let l=n[i],u=Array.isArray(l),h=u?l[1]:l,p=h===null,v=e[i+1];v===Nt&&(v=p?It:void 0);let g=p?Of(v,r):h===r?v:void 0;if(u&&!Ac(g)&&(g=Of(l,r)),Ac(g)&&(a=g,s))return a;let b=n[i+1];i=s?Ni(b):Uo(b)}if(t!==null){let l=o?t.residualClasses:t.residualStyles;l!=null&&(a=Of(l,r))}return a}function Ac(n){return n!==void 0}function zM(n,t){return n==null||n===""||(typeof t=="string"?n=n+t:typeof n=="object"&&(n=yt(Mn(n)))),n}function Gb(n,t){return(n.flags&(t?8:16))!==0}function qM(n,t,e,r,i,o){let s=t.consts,a=Lo(s,i),l=qo(t,n,2,r,a);return Tp(t,e,l,Lo(s,o)),l.attrs!==null&&Ic(l,l.attrs,!1),l.mergedAttrs!==null&&Ic(l,l.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,l),l}function d(n,t,e,r){let i=ie(),o=je(),s=xt+n,a=i[Oe],l=o.firstCreatePass?qM(s,o,i,t,e,r):o.data[s],u=GM(o,i,l,a,t,n);i[s]=u;let h=Vc(l);return Oi(l,!0),J_(a,u,l),!Np(l)&&Hc()&&Jc(o,i,u,l),LI()===0&&Fi(u,i),VI(),h&&(Cp(o,i,l),bp(o,l,i)),r!==null&&Sp(i,l),d}function c(){let n=_t();sp()?ap():(n=n.parent,Oi(n,!1));let t=n;UI(t)&&BI(),jI();let e=je();return e.firstCreatePass&&(qc(e,n),rp(n)&&e.queries.elementEnd(n)),t.classesWithoutHost!=null&&e1(t)&&jh(e,t,ie(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&t1(t)&&jh(e,t,ie(),t.stylesWithoutHost,!1),c}function _(n,t,e,r){return d(n,t,e,r),c(),_}var GM=(n,t,e,r,i,o)=>(zc(!0),Z_(r,i,ZI()));function WM(n,t,e,r,i){let o=t.consts,s=Lo(o,r),a=qo(t,n,8,"ng-container",s);s!==null&&Ic(a,s,!0);let l=Lo(o,i);return Tp(t,e,a,l),t.queries!==null&&t.queries.elementStart(t,a),a}function cn(n,t,e){let r=ie(),i=je(),o=n+xt,s=i.firstCreatePass?WM(o,i,r,t,e):i.data[o];Oi(s,!0);let a=QM(i,r,s,n);return r[o]=a,Hc()&&Jc(i,r,a,s),Fi(a,r),Vc(s)&&(Cp(i,r,s),bp(i,s,r)),e!=null&&Sp(r,s),cn}function un(){let n=_t(),t=je();return sp()?ap():(n=n.parent,Oi(n,!1)),t.firstCreatePass&&(qc(t,n),rp(n)&&t.queries.elementEnd(n)),un}var QM=(n,t,e,r)=>(zc(!0),DT(t[Oe],""));function H(){return ie()}var bi=void 0;function KM(n){let t=n,e=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&r===0?1:5}var ZM=["en",[["a","p"],["AM","PM"],bi],[["AM","PM"],bi,bi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],bi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],bi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",bi,"{1} 'at' {0}",bi],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",KM],Hf={};function dn(n){let t=YM(n),e=iy(t);if(e)return e;let r=t.split("-")[0];if(e=iy(r),e)return e;if(r==="en")return ZM;throw new A(701,!1)}function iy(n){return n in Hf||(Hf[n]=or.ng&&or.ng.common&&or.ng.common.locales&&or.ng.common.locales[n]),Hf[n]}var Ue=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Ue||{});function YM(n){return n.toLowerCase().replace(/_/g,"-")}var kc="en-US";var JM=kc;function XM(n){typeof n=="string"&&(JM=n.toLowerCase().replace(/_/g,"-"))}var eA=(n,t,e)=>{};function D(n,t,e,r){let i=ie(),o=je(),s=_t();return Wb(o,i,i[Oe],s,n,t,r),D}function tA(n,t,e,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===e&&i[o+1]===r){let a=t[uc],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function Wb(n,t,e,r,i,o,s){let a=Vc(r),u=n.firstCreatePass&&qy(n),h=t[on],p=zy(t),v=!0;if(r.type&3||s){let w=Tn(r,t),C=s?s(w):w,k=p.length,F=s?B=>s(Un(B[r.index])):r.index,P=null;if(!s&&a&&(P=tA(n,t,i,r.index)),P!==null){let B=P.__ngLastListenerFn__||P;B.__ngNextListenerFn__=o,P.__ngLastListenerFn__=o,v=!1}else{o=sy(r,t,h,o),eA(w,i,o);let B=e.listen(C,i,o);p.push(o,B),u&&u.push(i,F,k,k+1)}}else o=sy(r,t,h,o);let g=r.outputs,b;if(v&&g!==null&&(b=g[i])){let w=b.length;if(w)for(let C=0;C<w;C+=2){let k=b[C],F=b[C+1],W=t[k][F].subscribe(o),be=p.length;p.push(o,W),u&&u.push(i,r.index,be,-(be+1))}}}function oy(n,t,e,r){let i=he(null);try{return rn(6,t,e),e(r)!==!1}catch(o){return ab(n,o),!1}finally{rn(7,t,e),he(i)}}function sy(n,t,e,r){return function i(o){if(o===Function)return r;let s=Ri(n)?Bn(n.index,t):t;Pp(s,5);let a=oy(t,e,r,o),l=i.__ngNextListenerFn__;for(;l;)a=oy(t,e,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function E(n=1){return KI(n)}function nA(n,t){let e=null,r=gT(n);for(let i=0;i<t.length;i++){let o=t[i];if(o==="*"){e=i;continue}if(r===null?K_(n,o,!0):_T(r,o))return i}return e}function Bp(n){let t=ie()[sn][At];if(!t.projection){let e=n?n.length:1,r=t.projection=dI(e,null),i=r.slice(),o=t.child;for(;o!==null;){if(o.type!==128){let s=n?nA(o,n):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function $p(n,t=0,e,r,i,o){let s=ie(),a=je(),l=r?n+1:null;l!==null&&Rb(s,a,l,r,i,o,null,e);let u=qo(a,xt+n,16,null,e||null);u.projection===null&&(u.projection=t),ap();let p=!s[js]||Wy();s[sn][At].projection[u.projection]===null&&l!==null?rA(s,a,l):p&&!Np(u)&&hx(a,s,u)}function rA(n,t,e){let r=xt+e,i=t.data[r],o=n[r],s=Dh(o,i.tView.ssrId),a=mb(n,i,void 0,{dehydratedView:s});gb(o,a,0,Ch(i,s))}function ji(n,t,e){return Qb(n,"",t,"",e),ji}function Qb(n,t,e,r,i){let o=ie(),s=jb(o,t,e,r);if(s!==Nt){let a=je(),l=$c();Ip(a,l,o,n,s,o[Oe],i,!1)}return Qb}function Hp(n,t,e){Xx(n,t,e)}function nu(n){let t=ie(),e=je(),r=Yy();cp(r+1);let i=Lp(e,r);if(n.dirty&&NI(t)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=nM(t,r);n.reset(o,S1),n.notifyOnChanges()}return!0}return!1}function ru(){return Yx(ie(),Yy())}function iA(n,t,e,r){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=r}function f(n,t=""){let e=ie(),r=je(),i=n+xt,o=r.firstCreatePass?qo(r,i,1,t,null):r.data[i],s=oA(r,e,o,t,n);e[i]=s,Hc()&&Jc(r,e,s,o),Oi(o,!1)}var oA=(n,t,e,r,i)=>(zc(!0),CT(t[Oe],r));function K(n){return U("",n,""),K}function U(n,t,e){let r=ie(),i=jb(r,n,t,e);return i!==Nt&&zp(r,gr(),i),U}function Ui(n,t,e,r,i){let o=ie(),s=CM(o,n,t,e,r,i);return s!==Nt&&zp(o,gr(),s),Ui}function Xs(n,t,e,r,i,o,s){let a=ie(),l=SM(a,n,t,e,r,i,o,s);return l!==Nt&&zp(a,gr(),l),Xs}function zp(n,t,e){let r=Uy(t,n);ST(n[Oe],r,e)}function Be(n,t,e){w_(t)&&(t=t());let r=ie(),i=Uc();if(fr(r,i,t)){let o=je(),s=$c();Ip(o,s,r,n,t,r[Oe],e,!1)}return Be}function He(n,t){let e=w_(n);return e&&n.set(t),e}function $e(n,t){let e=ie(),r=je(),i=_t();return Wb(r,e,e[Oe],i,n,t),$e}function sA(n,t,e){let r=je();if(r.firstCreatePass){let i=cr(n);Uh(e,r.data,r.blueprint,i,!0),Uh(t,r.data,r.blueprint,i,!1)}}function Uh(n,t,e,r,i){if(n=vt(n),Array.isArray(n))for(let o=0;o<n.length;o++)Uh(n[o],t,e,r,i);else{let o=je(),s=ie(),a=_t(),l=Po(n)?n:vt(n.provide),u=Ny(n),h=a.providerIndexes&1048575,p=a.directiveStart,v=a.providerIndexes>>20;if(Po(n)||!n.multi){let g=new Mi(u,i,T),b=qf(l,t,i?h:h+v,p);b===-1?(oh(vc(a,s),o,l),zf(o,n,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),e.push(g),s.push(g)):(e[b]=g,s[b]=g)}else{let g=qf(l,t,h+v,p),b=qf(l,t,h,h+v),w=g>=0&&e[g],C=b>=0&&e[b];if(i&&!C||!i&&!w){oh(vc(a,s),o,l);let k=cA(i?lA:aA,e.length,i,r,u);!i&&C&&(e[b].providerFactory=k),zf(o,n,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),e.push(k),s.push(k)}else{let k=Kb(e[i?b:g],u,!i&&r);zf(o,n,g>-1?g:b,k)}!i&&r&&C&&e[b].componentProviders++}}}function zf(n,t,e,r){let i=Po(t),o=yI(t);if(i||o){let l=(o?vt(t.useClass):t).prototype.ngOnDestroy;if(l){let u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&t.multi){let h=u.indexOf(e);h===-1?u.push(e,[r,l]):u[h+1].push(r,l)}else u.push(e,l)}}}function Kb(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function qf(n,t,e,r){for(let i=e;i<r;i++)if(t[i]===n)return i;return-1}function aA(n,t,e,r){return Bh(this.multi,[])}function lA(n,t,e,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=$s(e,e[ae],this.providerFactory.index,r);o=a.slice(0,s),Bh(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],Bh(i,o);return o}function Bh(n,t){for(let e=0;e<n.length;e++){let r=n[e];t.push(r())}return t}function cA(n,t,e,r,i){let o=new Mi(n,e,T);return o.multi=[],o.index=t,o.componentProviders=0,Kb(o,i,r&&!e),o}function pt(n,t=[]){return e=>{e.providersResolver=(r,i)=>sA(r,i?i(n):n,t)}}function fn(n,t,e,r,i){return Yb(ie(),lp(),n,t,e,r,i)}function Yr(n,t,e,r,i,o){return uA(ie(),lp(),n,t,e,r,i,o)}function Zb(n,t){let e=n[t];return e===Nt?void 0:e}function Yb(n,t,e,r,i,o,s){let a=t+e;return jp(n,a,i,o)?kb(n,a+2,s?r.call(s,i,o):r(i,o)):Zb(n,a+2)}function uA(n,t,e,r,i,o,s,a){let l=t+e;return Nb(n,l,i,o,s)?kb(n,l+3,a?r.call(a,i,o,s):r(i,o,s)):Zb(n,l+3)}function qt(n,t){let e=je(),r,i=n+xt;e.firstCreatePass?(r=dA(t,e.pipeRegistry),e.data[i]=r,r.onDestroy&&(e.destroyHooks??=[]).push(i,r.onDestroy)):r=e.data[i];let o=r.factory||(r.factory=Ei(r.type,!0)),s,a=Dt(T);try{let l=gc(!1),u=o();return gc(l),iA(e,ie(),i,u),u}finally{Dt(a)}}function dA(n,t){if(t)for(let e=t.length-1;e>=0;e--){let r=t[e];if(n===r.name)return r}}function Gt(n,t,e,r){let i=n+xt,o=ie(),s=kI(o,i);return fA(o,i)?Yb(o,lp(),t,s.transform,e,r,s):s.transform(e,r)}function fA(n,t){return n[ae].data[t].pure}var $h=class{ngModuleFactory;componentFactories;constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}},qp=(()=>{class n{compileModuleSync(e){return new Fh(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let r=this.compileModuleSync(e),i=Dy(e),o=W_(i.declarations).reduce((s,a)=>{let l=Ci(a);return l&&s.push(new zs(l)),s},[]);return new $h(r,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var hA=(()=>{class n{zone=I(Ee);changeDetectionScheduler=I(zr);applicationRef=I(hr);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function pA({ngZoneFactory:n,ignoreChangesOutsideZone:t,scheduleInRootZone:e}){return n??=()=>new Ee(z(N({},mA()),{scheduleInRootZone:e})),[{provide:Ee,useFactory:n},{provide:Oo,multi:!0,useFactory:()=>{let r=I(hA,{optional:!0});return()=>r.initialize()}},{provide:Oo,multi:!0,useFactory:()=>{let r=I(gA);return()=>{r.initialize()}}},t===!0?{provide:v_,useValue:!0}:[],{provide:hp,useValue:e??g_}]}function mA(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var gA=(()=>{class n{subscription=new Te;initialized=!1;zone=I(Ee);pendingTasks=I(vr);initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ee.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ee.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Jb=(()=>{class n{appRef=I(hr);taskService=I(vr);ngZone=I(Ee);zonelessEnabled=I(Wc);tracing=I(zo,{optional:!0});disableScheduling=I(v_,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Te;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(bc):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(I(hp,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof wc||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;let r=!1;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 8:{this.appRef.deferredDirtyFlags|=8;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 13:{this.appRef.dirtyFlags|=16,r=!0;break}case 14:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{r=!0;break}case 10:case 9:case 7:case 11:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?F0:y_;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(e){return!(this.disableScheduling&&!e||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(bc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(e),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,F0(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Xb(){return xn("NgZoneless"),Bo([{provide:zr,useExisting:Jb},{provide:Ee,useClass:wc},{provide:Wc,useValue:!0},{provide:hp,useValue:!1},[]])}function vA(){return typeof $localize<"u"&&$localize.locale||kc}var ea=new L("",{providedIn:"root",factory:()=>I(ea,ne.Optional|ne.SkipSelf)||vA()});var Hh=new L(""),yA=new L("");function Rs(n){return!n.moduleRef}function _A(n){let t=Rs(n)?n.r3Injector:n.moduleRef.injector,e=t.get(Ee);return e.run(()=>{Rs(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=t.get(Mt,null),i;if(e.runOutsideAngular(()=>{i=e.onError.subscribe({next:o=>{r.handleError(o)}})}),Rs(n)){let o=()=>t.destroy(),s=n.platformInjector.get(Hh);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Hh);s.add(o),n.moduleRef.onDestroy(()=>{ic(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return wM(r,e,()=>{let o=t.get(Lb);return o.runInitializers(),o.donePromise.then(()=>{let s=t.get(ea,kc);if(XM(s||kc),!t.get(yA,!0))return Rs(n)?t.get(hr):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Rs(n)){let l=t.get(hr);return n.rootComponent!==void 0&&l.bootstrap(n.rootComponent),l}else return bA(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function bA(n,t){let e=n.injector.get(hr);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>e.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(e);else throw new A(-403,!1);t.push(n)}var oc=null;function wA(n=[],t){return Ve.create({name:t,providers:[{provide:Fc,useValue:"platform"},{provide:Hh,useValue:new Set([()=>oc=null])},...n]})}function EA(n=[]){if(oc)return oc;let t=wA(n);return oc=t,yM(),CA(t),t}function CA(n){let t=n.get(vp,null);it(n,()=>{t?.forEach(e=>e())})}var le=(()=>{class n{static __NG_ELEMENT_ID__=SA}return n})();function SA(n){return DA(_t(),ie(),(n&16)===16)}function DA(n,t,e){if(Ri(n)&&!e){let r=Bn(n.index,t);return new Ai(r,r)}else if(n.type&175){let r=t[sn];return new Ai(r,t)}return null}var zh=class{constructor(){}supports(t){return Ab(t)}create(t){return new qh(t)}},IA=(n,t)=>t,qh=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||IA}forEachItem(t){let e;for(e=this._itHead;e!==null;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,r=this._removalsHead,i=0,o=null;for(;e||r;){let s=!r||e&&e.currentIndex<ay(r,i,o)?e:r,a=ay(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(e=e._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,h=l-i;if(u!=h){for(let v=0;v<u;v++){let g=v<o.length?o[v]:o[v]=0,b=g+v;h<=b&&b<u&&(o[v]=g+1)}let p=s.previousIndex;o[p]=h-u}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)t(e)}diff(t){if(t==null&&(t=[]),!Ab(t))throw new A(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._itHead,r=!1,i,o,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,o,s,a),r=!0):(r&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)),e=e._next}else i=0,hM(t,a=>{s=this._trackByFn(i,a),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,a,s,i),r=!0):(r&&(e=this._verifyReinsertion(e,a,s,i)),Object.is(e.item,a)||this._addIdentityChange(e,a)),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,r,i){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,i)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,i),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,i)):t=this._addAfter(new Gh(e,r),o,i)),t}_verifyReinsertion(t,e,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;t!==null;){let e=t._next;this._addToRemovals(this._unlink(t)),t=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let i=t._prevRemoved,o=t._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,e,r),this._addToMoves(t,r),t}_moveAfter(t,e,r){return this._unlink(t),this._insertAfter(t,e,r),this._addToMoves(t,r),t}_addAfter(t,e,r){return this._insertAfter(t,e,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,e,r){let i=e===null?this._itHead:e._next;return t._next=i,t._prev=e,i===null?this._itTail=t:i._prev=t,e===null?this._itHead=t:e._next=t,this._linkedRecords===null&&(this._linkedRecords=new Nc),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let e=t._prev,r=t._next;return e===null?this._itHead=r:e._next=r,r===null?this._itTail=e:r._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Nc),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},Gh=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,e){this.item=t,this.trackById=e}},Wh=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let r;for(r=this._head;r!==null;r=r._nextDup)if((e===null||e<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let e=t._prevDup,r=t._nextDup;return e===null?this._head=r:e._nextDup=r,r===null?this._tail=e:r._prevDup=e,this._head===null}},Nc=class{map=new Map;put(t){let e=t.trackById,r=this.map.get(e);r||(r=new Wh,this.map.set(e,r)),r.add(t)}get(t,e){let r=t,i=this.map.get(r);return i?i.get(t,e):null}remove(t){let e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function ay(n,t,e){let r=n.previousIndex;if(r===null)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+t+i}function ly(){return new Gp([new zh])}var Gp=(()=>{class n{factories;static \u0275prov=R({token:n,providedIn:"root",factory:ly});constructor(e){this.factories=e}static create(e,r){if(r!=null){let i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||ly()),deps:[[n,new wy,new Yh]]}}find(e){let r=this.factories.find(i=>i.supports(e));if(r!=null)return r;throw new A(901,!1)}}return n})();function ew(n){try{let{rootComponent:t,appProviders:e,platformProviders:r}=n,i=EA(r),o=[pA({}),{provide:zr,useExisting:Jb},...e||[]],s=new xc({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return _A({r3Injector:s.injector,platformInjector:i,rootComponent:t})}catch(t){return Promise.reject(t)}}function kn(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Bi(n,t){xn("NgSignals");let e=Gv(n);return t?.equal&&(e[Et].equal=t.equal),e}function _r(n){let t=he(null);try{return n()}finally{he(t)}}var tw=(()=>{class n{view;node;constructor(e,r){this.view=e,this.node=r}static __NG_ELEMENT_ID__=TA}return n})();function TA(){return new tw(ie(),_t())}var xA=!1,MA=(()=>{class n extends Mc{pendingTasks=I(vr);taskId=null;schedule(e){super.schedule(e),this.taskId===null&&(this.taskId=this.pendingTasks.add(),queueMicrotask(()=>this.flush()))}flush(){try{super.flush()}finally{this.taskId!==null&&(this.pendingTasks.remove(this.taskId),this.taskId=null)}}static \u0275prov=R({token:n,providedIn:"root",factory:()=>new n})}return n})(),Qh=class{scheduler;effectFn;zone;injector;unregisterOnDestroy;watcher;constructor(t,e,r,i,o,s){this.scheduler=t,this.effectFn=e,this.zone=r,this.injector=o,this.watcher=Jv(a=>this.runEffect(a),()=>this.schedule(),s),this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}runEffect(t){try{this.effectFn(t)}catch(e){this.injector.get(Mt,null,{optional:!0})?.handleError(e)}}run(){this.watcher.run()}schedule(){this.scheduler.schedule(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function AA(){}function kA(n,t){xn("NgSignals"),!t?.injector&&np(AA);let e=t?.injector??I(Ve),r=t?.manualCleanup!==!0?e.get(Pi):null,i=new Qh(e.get(MA),n,typeof Zone>"u"?null:Zone.current,r,e,t?.allowSignalWrites??!1),o=e.get(le,null,{optional:!0});return!o||!(o._lView[Z]&8)?i.watcher.notify():(o._lView[ec]??=[]).push(i.watcher.notify),i}var NA=xA;var Kh=class{[Et];constructor(t){this[Et]=t}destroy(){this[Et].destroy()}};function Jr(n,t){if(NA)return kA(n,t);xn("NgSignals"),!t?.injector&&np(Jr);let e=t?.injector??I(Ve),r=t?.manualCleanup!==!0?e.get(Pi):null,i,o=e.get(tw,null,{optional:!0}),s=e.get(zr);return o!==null&&!t?.forceRoot?(i=PA(o.view,s,n),r instanceof _c&&r._lView===o.view&&(r=null)):i=FA(n,e.get(Vb),s),i.injector=e,r!==null&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new Kh(i)}var nw=z(N({},mi),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:Hs,run(){if(this.dirty=!1,this.hasRun&&!Ts(this))return;this.hasRun=!0;let n=r=>(this.cleanupFns??=[]).push(r),t=go(this),e=hc(!1);try{this.maybeCleanup(),this.fn(n)}finally{hc(e),Is(this,t)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}}),RA=z(N({},nw),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(13)},destroy(){vo(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),OA=z(N({},nw),{consumerMarkedDirty(){this.view[Z]|=8192,Zs(this.view),this.notifier.notify(14)},destroy(){vo(this),this.onDestroyFn(),this.maybeCleanup(),this.view[Di]?.delete(this)}});function PA(n,t,e){let r=Object.create(OA);return r.view=n,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=t,r.fn=e,n[Di]??=new Set,n[Di].add(r),r.consumerMarkedDirty(r),r}function FA(n,t,e){let r=Object.create(RA);return r.fn=n,r.scheduler=t,r.notifier=e,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.schedule(r),r.notifier.notify(13),r}var cw=null;function wr(){return cw}function uw(n){cw??=n}var fu=class{};var Fe=new L(""),dw=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:()=>I(LA),providedIn:"platform"})}return n})();var LA=(()=>{class n extends dw{_location;_history;_doc=I(Fe);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return wr().getBaseHref(this._doc)}onPopState(e){let r=wr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){let r=wr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){this._history.pushState(e,r,i)}replaceState(e,r,i){this._history.replaceState(e,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function fw(n,t){return n?t?n.endsWith("/")?t.startsWith("/")?n+t.slice(1):n+t:t.startsWith("/")?n+t:`${n}/${t}`:n:t}function rw(n){let t=n.match(/#|\?|$/),e=t&&t.index||n.length,r=e-(n[e-1]==="/"?1:0);return n.slice(0,r)+n.slice(e)}function $i(n){return n&&n[0]!=="?"?"?"+n:n}var Wo=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:()=>I(hw),providedIn:"root"})}return n})(),VA=new L(""),hw=(()=>{class n extends Wo{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??I(Fe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return fw(this._baseHref,e)}path(e=!1){let r=this._platformLocation.pathname+$i(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,o){let s=this.prepareExternalUrl(i+$i(o));this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){let s=this.prepareExternalUrl(i+$i(o));this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||n)(V(dw),V(VA,8))};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ta=(()=>{class n{_subject=new xe;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let r=this._locationStrategy.getBaseHref();this._basePath=BA(rw(iw(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+$i(r))}normalize(e){return n.stripTrailingSlash(UA(this._basePath,iw(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+$i(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+$i(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=$i;static joinWithSlash=fw;static stripTrailingSlash=rw;static \u0275fac=function(r){return new(r||n)(V(Wo))};static \u0275prov=R({token:n,factory:()=>jA(),providedIn:"root"})}return n})();function jA(){return new ta(V(Wo))}function UA(n,t){if(!n||!t.startsWith(n))return t;let e=t.substring(n.length);return e===""||["/",";","?","#"].includes(e[0])?e:t}function iw(n){return n.replace(/\/index.html$/,"")}function BA(n){if(new RegExp("^(https?:)?//").test(n)){let[,e]=n.split(/\/\/[^\/]+/);return e}return n}var bt=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(bt||{}),Se=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Se||{}),Wt=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Wt||{}),Xr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function $A(n){return dn(n)[Ue.LocaleId]}function HA(n,t,e){let r=dn(n),i=[r[Ue.DayPeriodsFormat],r[Ue.DayPeriodsStandalone]],o=hn(i,t);return hn(o,e)}function zA(n,t,e){let r=dn(n),i=[r[Ue.DaysFormat],r[Ue.DaysStandalone]],o=hn(i,t);return hn(o,e)}function qA(n,t,e){let r=dn(n),i=[r[Ue.MonthsFormat],r[Ue.MonthsStandalone]],o=hn(i,t);return hn(o,e)}function GA(n,t){let r=dn(n)[Ue.Eras];return hn(r,t)}function iu(n,t){let e=dn(n);return hn(e[Ue.DateFormat],t)}function ou(n,t){let e=dn(n);return hn(e[Ue.TimeFormat],t)}function su(n,t){let r=dn(n)[Ue.DateTimeFormat];return hn(r,t)}function mu(n,t){let e=dn(n),r=e[Ue.NumberSymbols][t];if(typeof r>"u"){if(t===Xr.CurrencyDecimal)return e[Ue.NumberSymbols][Xr.Decimal];if(t===Xr.CurrencyGroup)return e[Ue.NumberSymbols][Xr.Group]}return r}function pw(n){if(!n[Ue.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Ue.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function WA(n){let t=dn(n);return pw(t),(t[Ue.ExtraData][2]||[]).map(r=>typeof r=="string"?Wp(r):[Wp(r[0]),Wp(r[1])])}function QA(n,t,e){let r=dn(n);pw(r);let i=[r[Ue.ExtraData][0],r[Ue.ExtraData][1]],o=hn(i,t)||[];return hn(o,e)||[]}function hn(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function Wp(n){let[t,e]=n.split(":");return{hours:+t,minutes:+e}}var KA=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,au={},ZA=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function YA(n,t,e,r){let i=sk(n);t=br(e,t)||t;let s=[],a;for(;t;)if(a=ZA.exec(t),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;t=h}else{s.push(t);break}let l=i.getTimezoneOffset();r&&(l=gw(r,l),i=ok(i,r,!0));let u="";return s.forEach(h=>{let p=rk(h);u+=p?p(i,e,l):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function hu(n,t,e){let r=new Date(0);return r.setFullYear(n,t,e),r.setHours(0,0,0),r}function br(n,t){let e=$A(n);if(au[e]??={},au[e][t])return au[e][t];let r="";switch(t){case"shortDate":r=iu(n,Wt.Short);break;case"mediumDate":r=iu(n,Wt.Medium);break;case"longDate":r=iu(n,Wt.Long);break;case"fullDate":r=iu(n,Wt.Full);break;case"shortTime":r=ou(n,Wt.Short);break;case"mediumTime":r=ou(n,Wt.Medium);break;case"longTime":r=ou(n,Wt.Long);break;case"fullTime":r=ou(n,Wt.Full);break;case"short":let i=br(n,"shortTime"),o=br(n,"shortDate");r=lu(su(n,Wt.Short),[i,o]);break;case"medium":let s=br(n,"mediumTime"),a=br(n,"mediumDate");r=lu(su(n,Wt.Medium),[s,a]);break;case"long":let l=br(n,"longTime"),u=br(n,"longDate");r=lu(su(n,Wt.Long),[l,u]);break;case"full":let h=br(n,"fullTime"),p=br(n,"fullDate");r=lu(su(n,Wt.Full),[h,p]);break}return r&&(au[e][t]=r),r}function lu(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,r){return t!=null&&r in t?t[r]:e})),n}function Nn(n,t,e="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=e));let s=String(n);for(;s.length<t;)s="0"+s;return r&&(s=s.slice(s.length-t)),o+s}function JA(n,t){return Nn(n,3).substring(0,t)}function ze(n,t,e=0,r=!1,i=!1){return function(o,s){let a=XA(n,o);if((e>0||a>-e)&&(a+=e),n===3)a===0&&e===-12&&(a=12);else if(n===6)return JA(a,t);let l=mu(s,Xr.MinusSign);return Nn(a,t,l,r,i)}}function XA(n,t){switch(n){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate();case 3:return t.getHours();case 4:return t.getMinutes();case 5:return t.getSeconds();case 6:return t.getMilliseconds();case 7:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function De(n,t,e=bt.Format,r=!1){return function(i,o){return ek(i,o,n,t,e,r)}}function ek(n,t,e,r,i,o){switch(e){case 2:return qA(t,i,r)[n.getMonth()];case 1:return zA(t,i,r)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let u=WA(t),h=QA(t,i,r),p=u.findIndex(v=>{if(Array.isArray(v)){let[g,b]=v,w=s>=g.hours&&a>=g.minutes,C=s<b.hours||s===b.hours&&a<b.minutes;if(g.hours<b.hours){if(w&&C)return!0}else if(w||C)return!0}else if(v.hours===s&&v.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return HA(t,i,r)[s<12?0:1];case 3:return GA(t,r)[n.getFullYear()<=0?0:1];default:let l=e;throw new Error(`unexpected translation type ${l}`)}}function cu(n){return function(t,e,r){let i=-1*r,o=mu(e,Xr.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+Nn(s,2,o)+Nn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+Nn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+Nn(s,2,o)+":"+Nn(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+Nn(s,2,o)+":"+Nn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}var tk=0,du=4;function nk(n){let t=hu(n,tk,1).getDay();return hu(n,0,1+(t<=du?du:du+7)-t)}function mw(n){let t=n.getDay(),e=t===0?-3:du-t;return hu(n.getFullYear(),n.getMonth(),n.getDate()+e)}function Qp(n,t=!1){return function(e,r){let i;if(t){let o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();i=1+Math.floor((s+o)/7)}else{let o=mw(e),s=nk(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Nn(i,n,mu(r,Xr.MinusSign))}}function uu(n,t=!1){return function(e,r){let o=mw(e).getFullYear();return Nn(o,n,mu(r,Xr.MinusSign),t)}}var Kp={};function rk(n){if(Kp[n])return Kp[n];let t;switch(n){case"G":case"GG":case"GGG":t=De(3,Se.Abbreviated);break;case"GGGG":t=De(3,Se.Wide);break;case"GGGGG":t=De(3,Se.Narrow);break;case"y":t=ze(0,1,0,!1,!0);break;case"yy":t=ze(0,2,0,!0,!0);break;case"yyy":t=ze(0,3,0,!1,!0);break;case"yyyy":t=ze(0,4,0,!1,!0);break;case"Y":t=uu(1);break;case"YY":t=uu(2,!0);break;case"YYY":t=uu(3);break;case"YYYY":t=uu(4);break;case"M":case"L":t=ze(1,1,1);break;case"MM":case"LL":t=ze(1,2,1);break;case"MMM":t=De(2,Se.Abbreviated);break;case"MMMM":t=De(2,Se.Wide);break;case"MMMMM":t=De(2,Se.Narrow);break;case"LLL":t=De(2,Se.Abbreviated,bt.Standalone);break;case"LLLL":t=De(2,Se.Wide,bt.Standalone);break;case"LLLLL":t=De(2,Se.Narrow,bt.Standalone);break;case"w":t=Qp(1);break;case"ww":t=Qp(2);break;case"W":t=Qp(1,!0);break;case"d":t=ze(2,1);break;case"dd":t=ze(2,2);break;case"c":case"cc":t=ze(7,1);break;case"ccc":t=De(1,Se.Abbreviated,bt.Standalone);break;case"cccc":t=De(1,Se.Wide,bt.Standalone);break;case"ccccc":t=De(1,Se.Narrow,bt.Standalone);break;case"cccccc":t=De(1,Se.Short,bt.Standalone);break;case"E":case"EE":case"EEE":t=De(1,Se.Abbreviated);break;case"EEEE":t=De(1,Se.Wide);break;case"EEEEE":t=De(1,Se.Narrow);break;case"EEEEEE":t=De(1,Se.Short);break;case"a":case"aa":case"aaa":t=De(0,Se.Abbreviated);break;case"aaaa":t=De(0,Se.Wide);break;case"aaaaa":t=De(0,Se.Narrow);break;case"b":case"bb":case"bbb":t=De(0,Se.Abbreviated,bt.Standalone,!0);break;case"bbbb":t=De(0,Se.Wide,bt.Standalone,!0);break;case"bbbbb":t=De(0,Se.Narrow,bt.Standalone,!0);break;case"B":case"BB":case"BBB":t=De(0,Se.Abbreviated,bt.Format,!0);break;case"BBBB":t=De(0,Se.Wide,bt.Format,!0);break;case"BBBBB":t=De(0,Se.Narrow,bt.Format,!0);break;case"h":t=ze(3,1,-12);break;case"hh":t=ze(3,2,-12);break;case"H":t=ze(3,1);break;case"HH":t=ze(3,2);break;case"m":t=ze(4,1);break;case"mm":t=ze(4,2);break;case"s":t=ze(5,1);break;case"ss":t=ze(5,2);break;case"S":t=ze(6,1);break;case"SS":t=ze(6,2);break;case"SSS":t=ze(6,3);break;case"Z":case"ZZ":case"ZZZ":t=cu(0);break;case"ZZZZZ":t=cu(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=cu(1);break;case"OOOO":case"ZZZZ":case"zzzz":t=cu(2);break;default:return null}return Kp[n]=t,t}function gw(n,t){n=n.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function ik(n,t){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+t),n}function ok(n,t,e){let r=e?-1:1,i=n.getTimezoneOffset(),o=gw(t,i);return ik(n,r*(o-i))}function sk(n){if(ow(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return hu(i,o-1,s)}let e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let r;if(r=n.match(KA))return ak(r)}let t=new Date(n);if(!ow(t))throw new Error(`Unable to convert "${n}" into a date`);return t}function ak(n){let t=new Date(0),e=0,r=0,i=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-e,a=Number(n[5]||0)-r,l=Number(n[6]||0),u=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(t,s,a,l,u),t}function ow(n){return n instanceof Date&&!isNaN(n.valueOf())}function gu(n,t){t=encodeURIComponent(t);for(let e of n.split(";")){let r=e.indexOf("="),[i,o]=r==-1?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var Zp=/\s+/,sw=[],Rt=(()=>{class n{_ngEl;_renderer;initialClasses=sw;rawClass;stateMap=new Map;constructor(e,r){this._ngEl=e,this._renderer=r}set klass(e){this.initialClasses=e!=null?e.trim().split(Zp):sw}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(Zp):e}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let r of e)this._updateState(r,!0);else if(e!=null)for(let r of Object.keys(e))this._updateState(r,!!e[r]);this._applyStateDiff()}_updateState(e,r){let i=this.stateMap.get(e);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let r=e[0],i=e[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(e,r){e=e.trim(),e.length>0&&e.split(Zp).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(T(Ye),T(An))};static \u0275dir=ge({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var Yp=class{$implicit;ngForOf;index;count;constructor(t,e,r,i){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Le=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let r=this._viewContainer;e.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Yp(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),aw(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);aw(o,i)})}static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||n)(T(Kr),T(ki),T(Gp))};static \u0275dir=ge({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function aw(n,t){n.context.$implicit=t.item}var ye=(()=>{class n{_viewContainer;_context=new Jp;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,r){this._viewContainer=e,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){lw("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){lw("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||n)(T(Kr),T(ki))};static \u0275dir=ge({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Jp=class{$implicit=null;ngIf=null};function lw(n,t){if(!!!(!t||t.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${yt(t)}'.`)}function lk(n,t){return new A(2100,!1)}var ck="mediumDate",uk=new L(""),dk=new L(""),pn=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(e,r,i){this.locale=e,this.defaultTimezone=r,this.defaultOptions=i}transform(e,r,i,o){if(e==null||e===""||e!==e)return null;try{let s=r??this.defaultOptions?.dateFormat??ck,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return YA(e,s,o||this.locale,a)}catch(s){throw lk(n,s.message)}}static \u0275fac=function(r){return new(r||n)(T(ea,16),T(uk,24),T(dk,24))};static \u0275pipe=Tb({name:"date",type:n,pure:!0})}return n})();var fe=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Je({type:n});static \u0275inj=Ze({})}return n})(),Xp="browser",fk="server";function Me(n){return n===Xp}function em(n){return n===fk}var Go=class{};var ia=class{},oa=class{},Er=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let r=e.indexOf(":");if(r>0){let i=e.slice(0,r),o=e.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,r)=>{this.addHeaderEntry(r,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,r])=>{this.setHeaderEntries(e,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new n;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,e);let i=(t.op==="a"?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":let o=t.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let s=this.headers.get(e);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}break}}addHeaderEntry(t,e){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(e):this.headers.set(r,[e])}setHeaderEntries(t,e){let r=(Array.isArray(e)?e:[e]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var rm=class{encodeKey(t){return vw(t)}encodeValue(t){return vw(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function hk(n,t){let e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}var pk=/%(\d[a-f0-9])/gi,mk={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function vw(n){return encodeURIComponent(n).replace(pk,(t,e)=>mk[e]??t)}function vu(n){return`${n}`}var ti=class n{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new rm,t.fromString){if(t.fromObject)throw new A(2805,!1);this.map=hk(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let r=t.fromObject[e],i=Array.isArray(r)?r.map(vu):[vu(r)];this.map.set(e,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(r=>{let i=t[r];Array.isArray(i)?i.forEach(o=>{e.push({param:r,value:o,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new n({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(vu(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],i=r.indexOf(vu(t.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var im=class{map=new Map;set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function gk(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function yw(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function _w(n){return typeof Blob<"u"&&n instanceof Blob}function bw(n){return typeof FormData<"u"&&n instanceof FormData}function vk(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var na="Content-Type",yu="Accept",am="X-Request-URL",Sw="text/plain",Dw="application/json",Iw=`${Dw}, ${Sw}, */*`,ra=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,e,r,i){this.url=e,this.method=t.toUpperCase();let o;if(gk(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Er,this.context??=new im,!this.params)this.params=new ti,this.urlWithParams=e;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=e;else{let a=e.indexOf("?"),l=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||yw(this.body)||_w(this.body)||bw(this.body)||vk(this.body)?this.body:this.body instanceof ti?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||bw(this.body)?null:_w(this.body)?this.body.type||null:yw(this.body)?null:typeof this.body=="string"?Sw:this.body instanceof ti?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?Dw:null}clone(t={}){let e=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=t.transferCache??this.transferCache,s=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,u=t.headers||this.headers,h=t.params||this.params,p=t.context??this.context;return t.setHeaders!==void 0&&(u=Object.keys(t.setHeaders).reduce((v,g)=>v.set(g,t.setHeaders[g]),u)),t.setParams&&(h=Object.keys(t.setParams).reduce((v,g)=>v.set(g,t.setParams[g]),h)),new n(e,r,s,{params:h,headers:u,context:p,reportProgress:l,responseType:i,withCredentials:a,transferCache:o})}},ni=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(ni||{}),sa=class{headers;status;statusText;url;ok;type;constructor(t,e=200,r="OK"){this.headers=t.headers||new Er,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},_u=class n extends sa{constructor(t={}){super(t)}type=ni.ResponseHeader;clone(t={}){return new n({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},aa=class n extends sa{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=ni.Response;clone(t={}){return new n({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},ei=class extends sa{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},Tw=200,yk=204;function tm(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var lm=(()=>{class n{handler;constructor(e){this.handler=e}request(e,r,i={}){let o;if(e instanceof ra)o=e;else{let l;i.headers instanceof Er?l=i.headers:l=new Er(i.headers);let u;i.params&&(i.params instanceof ti?u=i.params:u=new ti({fromObject:i.params})),o=new ra(e,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=q(o).pipe(jr(l=>this.handler.handle(l)));if(e instanceof ra||i.observe==="events")return s;let a=s.pipe(gt(l=>l instanceof aa));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(G(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new A(2806,!1);return l.body}));case"blob":return a.pipe(G(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new A(2807,!1);return l.body}));case"text":return a.pipe(G(l=>{if(l.body!==null&&typeof l.body!="string")throw new A(2808,!1);return l.body}));case"json":default:return a.pipe(G(l=>l.body))}case"response":return a;default:throw new A(2809,!1)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:new ti().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,tm(i,r))}post(e,r,i={}){return this.request("POST",e,tm(i,r))}put(e,r,i={}){return this.request("PUT",e,tm(i,r))}static \u0275fac=function(r){return new(r||n)(V(ia))};static \u0275prov=R({token:n,factory:n.\u0275fac})}return n})(),_k=/^\)\]\}',?\n/;function ww(n){if(n.url)return n.url;let t=am.toLocaleLowerCase();return n.headers.get(t)}var xw=new L(""),nm=(()=>{class n{fetchImpl=I(om,{optional:!0})?.fetch??((...e)=>globalThis.fetch(...e));ngZone=I(Ee);handle(e){return new ue(r=>{let i=new AbortController;return this.doRequest(e,i.signal,r).then(sm,o=>r.error(new ei({error:o}))),()=>i.abort()})}async doRequest(e,r,i){let o=this.createRequestInit(e),s;try{let g=this.ngZone.runOutsideAngular(()=>this.fetchImpl(e.urlWithParams,N({signal:r},o)));bk(g),i.next({type:ni.Sent}),s=await g}catch(g){i.error(new ei({error:g,status:g.status??0,statusText:g.statusText,url:e.urlWithParams,headers:g.headers}));return}let a=new Er(s.headers),l=s.statusText,u=ww(s)??e.urlWithParams,h=s.status,p=null;if(e.reportProgress&&i.next(new _u({headers:a,status:h,statusText:l,url:u})),s.body){let g=s.headers.get("content-length"),b=[],w=s.body.getReader(),C=0,k,F,P=typeof Zone<"u"&&Zone.current;await this.ngZone.runOutsideAngular(async()=>{for(;;){let{done:W,value:be}=await w.read();if(W)break;if(b.push(be),C+=be.length,e.reportProgress){F=e.responseType==="text"?(F??"")+(k??=new TextDecoder).decode(be,{stream:!0}):void 0;let we=()=>i.next({type:ni.DownloadProgress,total:g?+g:void 0,loaded:C,partialText:F});P?P.run(we):we()}}});let B=this.concatChunks(b,C);try{let W=s.headers.get(na)??"";p=this.parseBody(e,B,W)}catch(W){i.error(new ei({error:W,headers:new Er(s.headers),status:s.status,statusText:s.statusText,url:ww(s)??e.urlWithParams}));return}}h===0&&(h=p?Tw:0),h>=200&&h<300?(i.next(new aa({body:p,headers:a,status:h,statusText:l,url:u})),i.complete()):i.error(new ei({error:p,headers:a,status:h,statusText:l,url:u}))}parseBody(e,r,i){switch(e.responseType){case"json":let o=new TextDecoder().decode(r).replace(_k,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(e){let r={},i=e.withCredentials?"include":void 0;if(e.headers.forEach((o,s)=>r[o]=s.join(",")),e.headers.has(yu)||(r[yu]=Iw),!e.headers.has(na)){let o=e.detectContentTypeHeader();o!==null&&(r[na]=o)}return{body:e.serializeBody(),method:e.method,headers:r,credentials:i}}concatChunks(e,r){let i=new Uint8Array(r),o=0;for(let s of e)i.set(s,o),o+=s.length;return i}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:n.\u0275fac})}return n})(),om=class{};function sm(){}function bk(n){n.then(sm,sm)}function wk(n,t){return t(n)}function Ek(n,t,e){return(r,i)=>it(e,()=>t(r,o=>n(o,i)))}var Mw=new L(""),Ck=new L(""),Sk=new L("",{providedIn:"root",factory:()=>!0});var Ew=(()=>{class n extends ia{backend;injector;chain=null;pendingTasks=I(vr);contributeToStability=I(Sk);constructor(e,r){super(),this.backend=e,this.injector=r}handle(e){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Mw),...this.injector.get(Ck,[])]));this.chain=r.reduceRight((i,o)=>Ek(i,o,this.injector),wk)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(e,i=>this.backend.handle(i)).pipe(rr(()=>this.pendingTasks.remove(r)))}else return this.chain(e,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(V(oa),V(Tt))};static \u0275prov=R({token:n,factory:n.\u0275fac})}return n})();var Dk=/^\)\]\}',?\n/,Ik=RegExp(`^${am}:`,"m");function Tk(n){return"responseURL"in n&&n.responseURL?n.responseURL:Ik.test(n.getAllResponseHeaders())?n.getResponseHeader(am):null}var Cw=(()=>{class n{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new A(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Re(r.\u0275loadImpl()):q(null)).pipe(Ut(()=>new ue(o=>{let s=r.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((w,C)=>s.setRequestHeader(w,C.join(","))),e.headers.has(yu)||s.setRequestHeader(yu,Iw),!e.headers.has(na)){let w=e.detectContentTypeHeader();w!==null&&s.setRequestHeader(na,w)}if(e.responseType){let w=e.responseType.toLowerCase();s.responseType=w!=="json"?w:"text"}let a=e.serializeBody(),l=null,u=()=>{if(l!==null)return l;let w=s.statusText||"OK",C=new Er(s.getAllResponseHeaders()),k=Tk(s)||e.url;return l=new _u({headers:C,status:s.status,statusText:w,url:k}),l},h=()=>{let{headers:w,status:C,statusText:k,url:F}=u(),P=null;C!==yk&&(P=typeof s.response>"u"?s.responseText:s.response),C===0&&(C=P?Tw:0);let B=C>=200&&C<300;if(e.responseType==="json"&&typeof P=="string"){let W=P;P=P.replace(Dk,"");try{P=P!==""?JSON.parse(P):null}catch(be){P=W,B&&(B=!1,P={error:be,text:P})}}B?(o.next(new aa({body:P,headers:w,status:C,statusText:k,url:F||void 0})),o.complete()):o.error(new ei({error:P,headers:w,status:C,statusText:k,url:F||void 0}))},p=w=>{let{url:C}=u(),k=new ei({error:w,status:s.status||0,statusText:s.statusText||"Unknown Error",url:C||void 0});o.error(k)},v=!1,g=w=>{v||(o.next(u()),v=!0);let C={type:ni.DownloadProgress,loaded:w.loaded};w.lengthComputable&&(C.total=w.total),e.responseType==="text"&&s.responseText&&(C.partialText=s.responseText),o.next(C)},b=w=>{let C={type:ni.UploadProgress,loaded:w.loaded};w.lengthComputable&&(C.total=w.total),o.next(C)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),e.reportProgress&&(s.addEventListener("progress",g),a!==null&&s.upload&&s.upload.addEventListener("progress",b)),s.send(a),o.next({type:ni.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),e.reportProgress&&(s.removeEventListener("progress",g),a!==null&&s.upload&&s.upload.removeEventListener("progress",b)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(V(Go))};static \u0275prov=R({token:n,factory:n.\u0275fac})}return n})(),Aw=new L(""),xk="XSRF-TOKEN",Mk=new L("",{providedIn:"root",factory:()=>xk}),Ak="X-XSRF-TOKEN",kk=new L("",{providedIn:"root",factory:()=>Ak}),bu=class{},Nk=(()=>{class n{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,r,i){this.doc=e,this.platform=r,this.cookieName=i}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=gu(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(r){return new(r||n)(V(Fe),V(kt),V(Mk))};static \u0275prov=R({token:n,factory:n.\u0275fac})}return n})();function Rk(n,t){let e=n.url.toLowerCase();if(!I(Aw)||n.method==="GET"||n.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return t(n);let r=I(bu).getToken(),i=I(kk);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),t(n)}var kw=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(kw||{});function Ok(n,t){return{\u0275kind:n,\u0275providers:t}}function Nw(...n){let t=[lm,Cw,Ew,{provide:ia,useExisting:Ew},{provide:oa,useFactory:()=>I(xw,{optional:!0})??I(Cw)},{provide:Mw,useValue:Rk,multi:!0},{provide:Aw,useValue:!0},{provide:bu,useClass:Nk}];for(let e of n)t.push(...e.\u0275providers);return Bo(t)}function Rw(){return Ok(kw.Fetch,[nm,{provide:xw,useExisting:nm},{provide:oa,useExisting:nm}])}var um=class extends fu{supportsDOMEvents=!0},dm=class n extends um{static makeCurrent(){uw(new n)}onAndCancel(t,e,r,i){return t.addEventListener(e,r,i),()=>{t.removeEventListener(e,r,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=Fk();return e==null?null:Lk(e)}resetBaseElement(){la=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return gu(document.cookie,t)}},la=null;function Fk(){return la=la||document.querySelector("base"),la?la.getAttribute("href"):null}function Lk(n){return new URL(n,document.baseURI).pathname}var Vk=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:n.\u0275fac})}return n})(),fm=new L(""),Vw=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,r){this._zone=r,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,i,o){return this._findPluginFor(r).addEventListener(e,r,i,o)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(o=>o.supports(e)),!r)throw new A(5101,!1);return this._eventNameToPlugin.set(e,r),r}static \u0275fac=function(r){return new(r||n)(V(fm),V(Ee))};static \u0275prov=R({token:n,factory:n.\u0275fac})}return n})(),Eu=class{_doc;constructor(t){this._doc=t}manager},wu="ng-app-id";function Ow(n){for(let t of n)t.remove()}function Pw(n,t){let e=t.createElement("style");return e.textContent=n,e}function jk(n,t,e,r){let i=n.head?.querySelectorAll(`style[${wu}="${t}"],link[${wu}="${t}"]`);if(i)for(let o of i)o.removeAttribute(wu),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&e.set(o.textContent,{usage:0,elements:[o]})}function hm(n,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",n),e}var jw=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,r,i,o={}){this.doc=e,this.appId=r,this.nonce=i,this.isServer=em(o),jk(e,r,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,r){for(let i of e)this.addUsage(i,this.inline,Pw);r?.forEach(i=>this.addUsage(i,this.external,hm))}removeStyles(e,r){for(let i of e)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(e,r,i){let o=r.get(e);o?o.usage++:r.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(e,this.doc)))})}removeUsage(e,r){let i=r.get(e);i&&(i.usage--,i.usage<=0&&(Ow(i.elements),r.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])Ow(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(e,Pw(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(e,hm(r,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(wu,this.appId),e.appendChild(r)}static \u0275fac=function(r){return new(r||n)(V(Fe),V(Qc),V(Ys,8),V(kt))};static \u0275prov=R({token:n,factory:n.\u0275fac})}return n})(),cm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},mm=/%COMP%/g;var Uw="%COMP%",Uk=`_nghost-${Uw}`,Bk=`_ngcontent-${Uw}`,$k=!0,Hk=new L("",{providedIn:"root",factory:()=>$k});function zk(n){return Bk.replace(mm,n)}function qk(n){return Uk.replace(mm,n)}function Bw(n,t){return t.map(e=>e.replace(mm,n))}var Cu=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,r,i,o,s,a,l,u=null,h=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=u,this.tracingService=h,this.platformIsServer=em(a),this.defaultRenderer=new ca(e,s,l,this.platformIsServer,this.tracingService)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===$n.ShadowDom&&(r=z(N({},r),{encapsulation:$n.Emulated}));let i=this.getOrCreateRenderer(e,r);return i instanceof Su?i.applyToHost(e):i instanceof ua&&i.applyStyles(),i}getOrCreateRenderer(e,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,v=this.tracingService;switch(r.encapsulation){case $n.Emulated:o=new Su(l,u,r,this.appId,h,s,a,p,v);break;case $n.ShadowDom:return new pm(l,u,e,r,s,a,this.nonce,p,v);default:o=new ua(l,u,r,h,s,a,p,v);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(r){return new(r||n)(V(Vw),V(jw),V(Qc),V(Hk),V(Fe),V(kt),V(Ee),V(Ys),V(zo,8))};static \u0275prov=R({token:n,factory:n.\u0275fac})}return n})(),ca=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,r,i,o){this.eventManager=t,this.doc=e,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(cm[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(Fw(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(Fw(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){e.remove()}selectRootElement(t,e){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new A(-5104,!1);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;let o=cm[i];o?t.setAttributeNS(o,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){let i=cm[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(dr.DashCase|dr.Important)?t.style.setProperty(e,r,i&dr.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&dr.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t!=null&&(t[e]=r)}setValue(t,e){t.nodeValue=e}listen(t,e,r,i){if(typeof t=="string"&&(t=wr().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${e}`);let o=this.decoratePreventDefault(r);return this.tracingService!==null&&this.tracingService.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,e,o)),this.eventManager.addEventListener(t,e,o,i)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function Fw(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var pm=class extends ca{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,r,i,o,s,a,l,u){super(t,o,s,l,u),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=Bw(i.id,h);for(let v of h){let g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=v,this.shadowRoot.appendChild(g)}let p=i.getExternalStyles?.();if(p)for(let v of p){let g=hm(v,o);a&&g.setAttribute("nonce",a),this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ua=class extends ca{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,r,i,o,s,a,l,u){super(t,o,s,a,l),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=u?Bw(u,h):h,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Su=class extends ua{contentAttr;hostAttr;constructor(t,e,r,i,o,s,a,l,u){let h=i+"-"+r.id;super(t,e,r,o,s,a,l,u,h),this.contentAttr=zk(h),this.hostAttr=qk(h)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}},Gk=(()=>{class n extends Eu{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i,o){return e.addEventListener(r,i,o),()=>this.removeEventListener(e,r,i,o)}removeEventListener(e,r,i,o){return e.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(V(Fe))};static \u0275prov=R({token:n,factory:n.\u0275fac})}return n})(),Lw=["alt","control","meta","shift"],Wk={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Qk={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},Kk=(()=>{class n extends Eu{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>wr().onAndCancel(e,s.domEventName,a,o))}static parseEventName(e){let r=e.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Lw.forEach(u=>{let h=r.indexOf(u);h>-1&&(r.splice(h,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(e,r){let i=Wk[e.key]||e.key,o="";return r.indexOf("code.")>-1&&(i=e.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Lw.forEach(s=>{if(s!==i){let a=Qk[s];a(e)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(e,r,i){return o=>{n.matchEventFullKeyCode(o,e)&&i.runGuarded(()=>r(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(r){return new(r||n)(V(Fe))};static \u0275prov=R({token:n,factory:n.\u0275fac})}return n})();function $w(n,t){return ew(N({rootComponent:n},Zk(t)))}function Zk(n){return{appProviders:[...tN,...n?.providers??[]],platformProviders:eN}}function Yk(){dm.makeCurrent()}function Jk(){return new Mt}function Xk(){return x_(document),document}var eN=[{provide:kt,useValue:Xp},{provide:vp,useValue:Yk,multi:!0},{provide:Fe,useFactory:Xk,deps:[]}];var tN=[{provide:Fc,useValue:"root"},{provide:Mt,useFactory:Jk,deps:[]},{provide:fm,useClass:Gk,multi:!0,deps:[Fe,Ee,kt]},{provide:fm,useClass:Kk,multi:!0,deps:[Fe]},Cu,jw,Vw,{provide:Gr,useExisting:Cu},{provide:Go,useClass:Vk,deps:[]},[]];var Hw=(()=>{class n{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(r){return new(r||n)(V(Fe))};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var gm=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=V(nN),i},providedIn:"root"})}return n})(),nN=(()=>{class n extends gm{_doc;constructor(e){super(),this._doc=e}sanitize(e,r){if(r==null)return null;switch(e){case ht.NONE:return r;case ht.HTML:return Qr(r,"HTML")?Mn(r):H_(this._doc,String(r)).toString();case ht.STYLE:return Qr(r,"Style")?Mn(r):r;case ht.SCRIPT:if(Qr(r,"Script"))return Mn(r);throw new A(5200,!1);case ht.URL:return Qr(r,"URL")?Mn(r):Yc(String(r));case ht.RESOURCE_URL:if(Qr(r,"ResourceURL"))return Mn(r);throw new A(5201,!1);default:throw new A(5202,!1)}}bypassSecurityTrustHtml(e){return R_(e)}bypassSecurityTrustStyle(e){return O_(e)}bypassSecurityTrustScript(e){return P_(e)}bypassSecurityTrustUrl(e){return F_(e)}bypassSecurityTrustResourceUrl(e){return L_(e)}static \u0275fac=function(r){return new(r||n)(V(Fe))};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var te="primary",Da=Symbol("RouteTitle"),wm=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Xo(n){return new wm(n)}function iN(n,t,e){let r=e.path.split("/");if(r.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function oN(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!qn(n[e],t[e]))return!1;return!0}function qn(n,t){let e=n?Em(n):void 0,r=t?Em(t):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let o=0;o<e.length;o++)if(i=e[o],!Jw(n[i],t[i]))return!1;return!0}function Em(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Jw(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),r=[...t].sort();return e.every((i,o)=>r[o]===i)}else return n===t}function Xw(n){return n.length>0?n[n.length-1]:null}function ii(n){return If(n)?n:Vi(n)?Re(Promise.resolve(n)):q(n)}var sN={exact:tE,subset:nE},eE={exact:aN,subset:lN,ignored:()=>!0};function qw(n,t,e){return sN[e.paths](n.root,t.root,e.matrixParams)&&eE[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function aN(n,t){return qn(n,t)}function tE(n,t,e){if(!zi(n.segments,t.segments)||!Tu(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!n.children[r]||!tE(n.children[r],t.children[r],e))return!1;return!0}function lN(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Jw(n[e],t[e]))}function nE(n,t,e){return rE(n,t,t.segments,e)}function rE(n,t,e,r){if(n.segments.length>e.length){let i=n.segments.slice(0,e.length);return!(!zi(i,e)||t.hasChildren()||!Tu(i,e,r))}else if(n.segments.length===e.length){if(!zi(n.segments,e)||!Tu(n.segments,e,r))return!1;for(let i in t.children)if(!n.children[i]||!nE(n.children[i],t.children[i],r))return!1;return!0}else{let i=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!zi(n.segments,i)||!Tu(n.segments,i,r)||!n.children[te]?!1:rE(n.children[te],t,o,r)}}function Tu(n,t,e){return t.every((r,i)=>eE[e](n[i].parameters,r.parameters))}var Sr=class{root;queryParams;fragment;_queryParamMap;constructor(t=new _e([],{}),e={},r=null){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Xo(this.queryParams),this._queryParamMap}toString(){return dN.serialize(this)}},_e=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xu(this)}},Hi=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=Xo(this.parameters),this._parameterMap}toString(){return oE(this)}};function cN(n,t){return zi(n,t)&&n.every((e,r)=>qn(e.parameters,t[r].parameters))}function zi(n,t){return n.length!==t.length?!1:n.every((e,r)=>e.path===t[r].path)}function uN(n,t){let e=[];return Object.entries(n.children).forEach(([r,i])=>{r===te&&(e=e.concat(t(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==te&&(e=e.concat(t(i,r)))}),e}var Qm=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:()=>new ga,providedIn:"root"})}return n})(),ga=class{parse(t){let e=new Sm(t);return new Sr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${da(t.root,!0)}`,r=pN(t.queryParams),i=typeof t.fragment=="string"?`#${fN(t.fragment)}`:"";return`${e}${r}${i}`}},dN=new ga;function xu(n){return n.segments.map(t=>oE(t)).join("/")}function da(n,t){if(!n.hasChildren())return xu(n);if(t){let e=n.children[te]?da(n.children[te],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==te&&r.push(`${i}:${da(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}else{let e=uN(n,(r,i)=>i===te?[da(n.children[te],!1)]:[`${i}:${da(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[te]!=null?`${xu(n)}/${e[0]}`:`${xu(n)}/(${e.join("//")})`}}function iE(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Du(n){return iE(n).replace(/%3B/gi,";")}function fN(n){return encodeURI(n)}function Cm(n){return iE(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Mu(n){return decodeURIComponent(n)}function Gw(n){return Mu(n.replace(/\+/g,"%20"))}function oE(n){return`${Cm(n.path)}${hN(n.parameters)}`}function hN(n){return Object.entries(n).map(([t,e])=>`;${Cm(t)}=${Cm(e)}`).join("")}function pN(n){let t=Object.entries(n).map(([e,r])=>Array.isArray(r)?r.map(i=>`${Du(e)}=${Du(i)}`).join("&"):`${Du(e)}=${Du(r)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var mN=/^[^\/()?;#]+/;function vm(n){let t=n.match(mN);return t?t[0]:""}var gN=/^[^\/()?;=#]+/;function vN(n){let t=n.match(gN);return t?t[0]:""}var yN=/^[^=?&#]+/;function _N(n){let t=n.match(yN);return t?t[0]:""}var bN=/^[^&#]+/;function wN(n){let t=n.match(bN);return t?t[0]:""}var Sm=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new _e([],{}):new _e([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[te]=new _e(t,e)),r}parseSegment(){let t=vm(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new A(4009,!1);return this.capture(t),new Hi(Mu(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=vN(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let i=vm(this.remaining);i&&(r=i,this.capture(r))}t[Mu(e)]=Mu(r)}parseQueryParam(t){let e=_N(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let s=wN(this.remaining);s&&(r=s,this.capture(r))}let i=Gw(e),o=Gw(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=vm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new A(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=te);let s=this.parseChildren();e[o]=Object.keys(s).length===1?s[te]:new _e([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new A(4011,!1)}};function sE(n){return n.segments.length>0?new _e([],{[te]:n}):n}function aE(n){let t={};for(let[r,i]of Object.entries(n.children)){let o=aE(i);if(r===te&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let e=new _e(n.segments,t);return EN(e)}function EN(n){if(n.numberOfChildren===1&&n.children[te]){let t=n.children[te];return new _e(n.segments.concat(t.segments),t.children)}return n}function qi(n){return n instanceof Sr}function CN(n,t,e=null,r=null){let i=lE(n);return cE(i,t,e,r)}function lE(n){let t;function e(o){let s={};for(let l of o.children){let u=e(l);s[l.outlet]=u}let a=new _e(o.url,s);return o===n&&(t=a),a}let r=e(n.root),i=sE(r);return t??i}function cE(n,t,e,r){let i=n;for(;i.parent;)i=i.parent;if(t.length===0)return ym(i,i,i,e,r);let o=SN(t);if(o.toRoot())return ym(i,i,new _e([],{}),e,r);let s=DN(o,i,n),a=s.processChildren?ha(s.segmentGroup,s.index,o.commands):dE(s.segmentGroup,s.index,o.commands);return ym(i,s.segmentGroup,a,e,r)}function Au(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function va(n){return typeof n=="object"&&n!=null&&n.outlets}function ym(n,t,e,r,i){let o={};r&&Object.entries(r).forEach(([l,u])=>{o[l]=Array.isArray(u)?u.map(h=>`${h}`):`${u}`});let s;n===t?s=e:s=uE(n,t,e);let a=sE(aE(s));return new Sr(a,o,i)}function uE(n,t,e){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===t?r[i]=e:r[i]=uE(o,t,e)}),new _e(n.segments,r)}var ku=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&Au(r[0]))throw new A(4003,!1);let i=r.find(va);if(i&&i!==Xw(r))throw new A(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function SN(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new ku(!0,0,n);let t=0,e=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,u])=>{a[l]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?e=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new ku(e,t,r)}var Zo=class{segmentGroup;processChildren;index;constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}};function DN(n,t,e){if(n.isAbsolute)return new Zo(t,!0,0);if(!e)return new Zo(t,!1,NaN);if(e.parent===null)return new Zo(e,!0,0);let r=Au(n.commands[0])?0:1,i=e.segments.length-1+r;return IN(e,i,n.numberOfDoubleDots)}function IN(n,t,e){let r=n,i=t,o=e;for(;o>i;){if(o-=i,r=r.parent,!r)throw new A(4005,!1);i=r.segments.length}return new Zo(r,!1,i-o)}function TN(n){return va(n[0])?n[0].outlets:{[te]:n}}function dE(n,t,e){if(n??=new _e([],{}),n.segments.length===0&&n.hasChildren())return ha(n,t,e);let r=xN(n,t,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new _e(n.segments.slice(0,r.pathIndex),{});return o.children[te]=new _e(n.segments.slice(r.pathIndex),n.children),ha(o,0,i)}else return r.match&&i.length===0?new _e(n.segments,{}):r.match&&!n.hasChildren()?Dm(n,t,e):r.match?ha(n,0,i):Dm(n,t,e)}function ha(n,t,e){if(e.length===0)return new _e(n.segments,{});{let r=TN(e),i={};if(Object.keys(r).some(o=>o!==te)&&n.children[te]&&n.numberOfChildren===1&&n.children[te].segments.length===0){let o=ha(n.children[te],t,e);return new _e(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=dE(n.children[o],t,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new _e(n.segments,i)}}function xN(n,t,e){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=e.length)return o;let s=n.segments[i],a=e[r];if(va(a))break;let l=`${a}`,u=r<e.length-1?e[r+1]:null;if(i>0&&l===void 0)break;if(l&&u&&typeof u=="object"&&u.outlets===void 0){if(!Qw(l,u,s))return o;r+=2}else{if(!Qw(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Dm(n,t,e){let r=n.segments.slice(0,t),i=0;for(;i<e.length;){let o=e[i];if(va(o)){let l=MN(o.outlets);return new _e(r,l)}if(i===0&&Au(e[0])){let l=n.segments[t];r.push(new Hi(l.path,Ww(e[0]))),i++;continue}let s=va(o)?o.outlets[te]:`${o}`,a=i<e.length-1?e[i+1]:null;s&&a&&Au(a)?(r.push(new Hi(s,Ww(a))),i+=2):(r.push(new Hi(s,{})),i++)}return new _e(r,{})}function MN(n){let t={};return Object.entries(n).forEach(([e,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[e]=Dm(new _e([],{}),0,r))}),t}function Ww(n){let t={};return Object.entries(n).forEach(([e,r])=>t[e]=`${r}`),t}function Qw(n,t,e){return n==e.path&&qn(t,e.parameters)}var pa="imperative",ot=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(ot||{}),mn=class{id;url;constructor(t,e){this.id=t,this.url=e}},ya=class extends mn{type=ot.NavigationStart;navigationTrigger;restoredState;constructor(t,e,r="imperative",i=null){super(t,e),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ri=class extends mn{urlAfterRedirects;type=ot.NavigationEnd;constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Kt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Kt||{}),Im=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Im||{}),Cr=class extends mn{reason;code;type=ot.NavigationCancel;constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Gi=class extends mn{reason;code;type=ot.NavigationSkipped;constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i}},_a=class extends mn{error;target;type=ot.NavigationError;constructor(t,e,r,i){super(t,e),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Nu=class extends mn{urlAfterRedirects;state;type=ot.RoutesRecognized;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Tm=class extends mn{urlAfterRedirects;state;type=ot.GuardsCheckStart;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xm=class extends mn{urlAfterRedirects;state;shouldActivate;type=ot.GuardsCheckEnd;constructor(t,e,r,i,o){super(t,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Mm=class extends mn{urlAfterRedirects;state;type=ot.ResolveStart;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Am=class extends mn{urlAfterRedirects;state;type=ot.ResolveEnd;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},km=class{route;type=ot.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Nm=class{route;type=ot.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Rm=class{snapshot;type=ot.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Om=class{snapshot;type=ot.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Pm=class{snapshot;type=ot.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fm=class{snapshot;type=ot.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ba=class{},es=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function AN(n,t){return n.providers&&!n._injector&&(n._injector=Vp(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Rn(n){return n.outlet||te}function kN(n,t){let e=n.filter(r=>Rn(r)===t);return e.push(...n.filter(r=>Rn(r)!==t)),e}function Ia(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Lm=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ia(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new ju(this.rootInjector)}},ju=(()=>{class n{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,r){let i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){let r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new Lm(this.rootInjector),this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(r){return new(r||n)(V(Tt))};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ru=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=Vm(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){let e=Vm(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=jm(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return jm(t,this._root).map(e=>e.value)}};function Vm(n,t){if(n===t.value)return t;for(let e of t.children){let r=Vm(n,e);if(r)return r}return null}function jm(n,t){if(n===t.value)return[t];for(let e of t.children){let r=jm(n,e);if(r.length)return r.unshift(t),r}return[]}var Qt=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function Ko(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var Ou=class extends Ru{snapshot;constructor(t,e){super(t),this.snapshot=e,Km(this,t)}toString(){return this.snapshot.toString()}};function fE(n){let t=NN(n),e=new rt([new Hi("",{})]),r=new rt({}),i=new rt({}),o=new rt({}),s=new rt(""),a=new On(e,r,o,s,i,te,n,t.root);return a.snapshot=t.root,new Ou(new Qt(a,[]),t)}function NN(n){let t={},e={},r={},i="",o=new Yo([],t,r,i,e,te,n,null,{});return new Fu("",new Qt(o,[]))}var On=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,r,i,o,s,a,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(G(u=>u[Da]))??q(void 0),this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(G(t=>Xo(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(G(t=>Xo(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Pu(n,t,e="emptyOnly"){let r,{routeConfig:i}=n;return t!==null&&(e==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:N(N({},t.params),n.params),data:N(N({},t.data),n.data),resolve:N(N(N(N({},n.data),t.data),i?.data),n._resolvedData)}:r={params:N({},n.params),data:N({},n.data),resolve:N(N({},n.data),n._resolvedData??{})},i&&pE(i)&&(r.resolve[Da]=i.title),r}var Yo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Da]}constructor(t,e,r,i,o,s,a,l,u){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Xo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Xo(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},Fu=class extends Ru{url;constructor(t,e){super(e),this.url=t,Km(this,e)}toString(){return hE(this._root)}};function Km(n,t){t.value._routerState=n,t.children.forEach(e=>Km(n,e))}function hE(n){let t=n.children.length>0?` { ${n.children.map(hE).join(", ")} } `:"";return`${n.value}${t}`}function _m(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,qn(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),qn(t.params,e.params)||n.paramsSubject.next(e.params),oN(t.url,e.url)||n.urlSubject.next(e.url),qn(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Um(n,t){let e=qn(n.params,t.params)&&cN(n.url,t.url),r=!n.parent!=!t.parent;return e&&!r&&(!n.parent||Um(n.parent,t.parent))}function pE(n){return typeof n.title=="string"||n.title===null}var RN=new L(""),Zm=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=te;activateEvents=new ve;deactivateEvents=new ve;attachEvents=new ve;detachEvents=new ve;routerOutletData=b_(void 0);parentContexts=I(ju);location=I(Kr);changeDetector=I(le);inputBinder=I(Ym,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new A(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new A(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new A(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new A(4013,!1);this._activatedRoute=e;let i=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Bm(e,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ge({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[an]})}return n})(),Bm=class n{route;childContexts;parent;outletData;__ngOutletInjector(t){return new n(this.route,this.childContexts,t,this.outletData)}constructor(t,e,r,i){this.route=t,this.childContexts=e,this.parent=r,this.outletData=i}get(t,e){return t===On?this.route:t===ju?this.childContexts:t===RN?this.outletData:this.parent.get(t,e)}},Ym=new L("");function ON(n,t,e){let r=wa(n,t._root,e?e._root:void 0);return new Ou(r,t)}function wa(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let r=e.value;r._futureSnapshot=t.value;let i=PN(n,t,e);return new Qt(r,i)}else{if(n.shouldAttach(t.value)){let o=n.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>wa(n,a)),s}}let r=FN(t.value),i=t.children.map(o=>wa(n,o));return new Qt(r,i)}}function PN(n,t,e){return t.children.map(r=>{for(let i of e.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return wa(n,r,i);return wa(n,r)})}function FN(n){return new On(new rt(n.url),new rt(n.params),new rt(n.queryParams),new rt(n.fragment),new rt(n.data),n.outlet,n.component,n)}var Ea=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},mE="ngNavigationCancelingError";function Lu(n,t){let{redirectTo:e,navigationBehaviorOptions:r}=qi(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=gE(!1,Kt.Redirect);return i.url=e,i.navigationBehaviorOptions=r,i}function gE(n,t){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[mE]=!0,e.cancellationCode=t,e}function LN(n){return vE(n)&&qi(n.url)}function vE(n){return!!n&&n[mE]}var VN=(n,t,e,r)=>G(i=>(new $m(t,i.targetRouterState,i.currentRouterState,e,r).activate(n),i)),$m=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,r,i,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),_m(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){let i=Ko(e);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,e,r){let i=t.value,o=e?e.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,r);else o&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=Ko(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){let r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=Ko(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,e,r){let i=Ko(e);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Fm(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Om(t.value.snapshot))}activateRoutes(t,e,r){let i=t.value,o=e?e.value:null;if(_m(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),_m(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},Vu=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Jo=class{component;route;constructor(t,e){this.component=t,this.route=e}};function jN(n,t,e){let r=n._root,i=t?t._root:null;return fa(r,i,e,[r.value])}function UN(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function ns(n,t){let e=Symbol(),r=t.get(n,e);return r===e?typeof n=="function"&&!py(n)?n:t.get(n):r}function fa(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ko(t);return n.children.forEach(s=>{BN(s,o[s.value.outlet],e,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ma(a,e.getContext(s),i)),i}function BN(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=$N(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Vu(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?fa(n,t,a?a.children:null,r,i):fa(n,t,e,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Jo(a.outlet.component,s))}else s&&ma(t,a,i),i.canActivateChecks.push(new Vu(r)),o.component?fa(n,null,a?a.children:null,r,i):fa(n,null,e,r,i);return i}function $N(n,t,e){if(typeof e=="function")return e(n,t);switch(e){case"pathParamsChange":return!zi(n.url,t.url);case"pathParamsOrQueryParamsChange":return!zi(n.url,t.url)||!qn(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Um(n,t)||!qn(n.queryParams,t.queryParams);case"paramsChange":default:return!Um(n,t)}}function ma(n,t,e){let r=Ko(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?t?ma(s,t.children.getContext(o),e):ma(s,null,e):ma(s,t,e)}),i.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new Jo(t.outlet.component,i)):e.canDeactivateChecks.push(new Jo(null,i)):e.canDeactivateChecks.push(new Jo(null,i))}function Ta(n){return typeof n=="function"}function HN(n){return typeof n=="boolean"}function zN(n){return n&&Ta(n.canLoad)}function qN(n){return n&&Ta(n.canActivate)}function GN(n){return n&&Ta(n.canActivateChild)}function WN(n){return n&&Ta(n.canDeactivate)}function QN(n){return n&&Ta(n.canMatch)}function yE(n){return n instanceof nr||n?.name==="EmptyError"}var Iu=Symbol("INITIAL_VALUE");function ts(){return Ut(n=>Do(n.map(t=>t.pipe(jt(1),ks(Iu)))).pipe(G(t=>{for(let e of t)if(e!==!0){if(e===Iu)return Iu;if(e===!1||KN(e))return e}return!0}),gt(t=>t!==Iu),jt(1)))}function KN(n){return qi(n)||n instanceof Ea}function ZN(n,t){return Ke(e=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return s.length===0&&o.length===0?q(z(N({},e),{guardsResult:!0})):YN(s,r,i,n).pipe(Ke(a=>a&&HN(a)?JN(r,o,n,t):q(a)),G(a=>z(N({},e),{guardsResult:a})))})}function YN(n,t,e,r){return Re(n).pipe(Ke(i=>rR(i.component,i.route,e,t,r)),ir(i=>i!==!0,!0))}function JN(n,t,e,r){return Re(t).pipe(jr(i=>Vr(eR(i.route.parent,r),XN(i.route,r),nR(n,i.path,e),tR(n,i.route,e))),ir(i=>i!==!0,!0))}function XN(n,t){return n!==null&&t&&t(new Pm(n)),q(!0)}function eR(n,t){return n!==null&&t&&t(new Rm(n)),q(!0)}function tR(n,t,e){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return q(!0);let i=r.map(o=>ql(()=>{let s=Ia(t)??e,a=ns(o,s),l=qN(a)?a.canActivate(t,n):it(s,()=>a(t,n));return ii(l).pipe(ir())}));return q(i).pipe(ts())}function nR(n,t,e){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>UN(s)).filter(s=>s!==null).map(s=>ql(()=>{let a=s.guards.map(l=>{let u=Ia(s.node)??e,h=ns(l,u),p=GN(h)?h.canActivateChild(r,n):it(u,()=>h(r,n));return ii(p).pipe(ir())});return q(a).pipe(ts())}));return q(o).pipe(ts())}function rR(n,t,e,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return q(!0);let s=o.map(a=>{let l=Ia(t)??i,u=ns(a,l),h=WN(u)?u.canDeactivate(n,t,e,r):it(l,()=>u(n,t,e,r));return ii(h).pipe(ir())});return q(s).pipe(ts())}function iR(n,t,e,r){let i=t.canLoad;if(i===void 0||i.length===0)return q(!0);let o=i.map(s=>{let a=ns(s,n),l=zN(a)?a.canLoad(t,e):it(n,()=>a(t,e));return ii(l)});return q(o).pipe(ts(),_E(r))}function _E(n){return wf(Pe(t=>{if(typeof t!="boolean")throw Lu(n,t)}),G(t=>t===!0))}function oR(n,t,e,r){let i=t.canMatch;if(!i||i.length===0)return q(!0);let o=i.map(s=>{let a=ns(s,n),l=QN(a)?a.canMatch(t,e):it(n,()=>a(t,e));return ii(l)});return q(o).pipe(ts(),_E(r))}var Ca=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},Sa=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function Qo(n){return Lr(new Ca(n))}function sR(n){return Lr(new A(4e3,!1))}function aR(n){return Lr(gE(!1,Kt.GuardRejected))}var Hm=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return q(r);if(i.numberOfChildren>1||!i.children[te])return sR(`${t.redirectTo}`);i=i.children[te]}}applyRedirectCommands(t,e,r,i,o){if(typeof e!="string"){let a=e,{queryParams:l,fragment:u,routeConfig:h,url:p,outlet:v,params:g,data:b,title:w}=i,C=it(o,()=>a({params:g,data:b,queryParams:l,fragment:u,routeConfig:h,url:p,outlet:v,title:w}));if(C instanceof Sr)throw new Sa(C);e=C}let s=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,r);if(e[0]==="/")throw new Sa(s);return s}applyRedirectCreateUrlTree(t,e,r,i){let o=this.createSegmentGroup(t,e.root,r,i);return new Sr(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=e[a]}else r[i]=o}),r}createSegmentGroup(t,e,r,i){let o=this.createSegments(t,e.segments,r,i),s={};return Object.entries(e.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,r,i)}),new _e(o,s)}createSegments(t,e,r,i){return e.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,e,r){let i=r[e.path.substring(1)];if(!i)throw new A(4001,!1);return i}findOrReturn(t,e){let r=0;for(let i of e){if(i.path===t.path)return e.splice(r),i;r++}return t}},zm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function lR(n,t,e,r,i){let o=bE(n,t,e);return o.matched?(r=AN(t,r),oR(r,t,e,i).pipe(G(s=>s===!0?o:N({},zm)))):q(o)}function bE(n,t,e){if(t.path==="**")return cR(e);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?N({},zm):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let i=(t.matcher||iN)(e,n,t);if(!i)return N({},zm);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?N(N({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function cR(n){return{matched:!0,parameters:n.length>0?Xw(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Kw(n,t,e,r){return e.length>0&&fR(n,e,r)?{segmentGroup:new _e(t,dR(r,new _e(e,n.children))),slicedSegments:[]}:e.length===0&&hR(n,e,r)?{segmentGroup:new _e(n.segments,uR(n,e,r,n.children)),slicedSegments:e}:{segmentGroup:new _e(n.segments,n.children),slicedSegments:e}}function uR(n,t,e,r){let i={};for(let o of e)if(Uu(n,t,o)&&!r[Rn(o)]){let s=new _e([],{});i[Rn(o)]=s}return N(N({},r),i)}function dR(n,t){let e={};e[te]=t;for(let r of n)if(r.path===""&&Rn(r)!==te){let i=new _e([],{});e[Rn(r)]=i}return e}function fR(n,t,e){return e.some(r=>Uu(n,t,r)&&Rn(r)!==te)}function hR(n,t,e){return e.some(r=>Uu(n,t,r))}function Uu(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function pR(n,t,e){return t.length===0&&!n.children[e]}var qm=class{};function mR(n,t,e,r,i,o,s="emptyOnly"){return new Gm(n,t,e,r,i,s,o).recognize()}var gR=31,Gm=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,r,i,o,s,a){this.injector=t,this.configLoader=e,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Hm(this.urlSerializer,this.urlTree)}noMatchError(t){return new A(4002,`'${t.segmentGroup}'`)}recognize(){let t=Kw(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(G(({children:e,rootSnapshot:r})=>{let i=new Qt(r,e),o=new Fu("",i),s=CN(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let e=new Yo([],Object.freeze({}),Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),te,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,te,e).pipe(G(r=>({children:r,rootSnapshot:e})),Vn(r=>{if(r instanceof Sa)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ca?this.noMatchError(r):r}))}processSegmentGroup(t,e,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,e,r,o):this.processSegment(t,e,r,r.segments,i,!0,o).pipe(G(s=>s instanceof Qt?[s]:[]))}processChildren(t,e,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Re(o).pipe(jr(s=>{let a=r.children[s],l=kN(e,s);return this.processSegmentGroup(t,l,a,s,i)}),Af((s,a)=>(s.push(...a),s)),Ur(null),Mf(),Ke(s=>{if(s===null)return Qo(r);let a=wE(s);return vR(a),q(a)}))}processSegment(t,e,r,i,o,s,a){return Re(e).pipe(jr(l=>this.processSegmentAgainstRoute(l._injector??t,e,l,r,i,o,s,a).pipe(Vn(u=>{if(u instanceof Ca)return q(null);throw u}))),ir(l=>!!l),Vn(l=>{if(yE(l))return pR(r,i,o)?q(new qm):Qo(r);throw l}))}processSegmentAgainstRoute(t,e,r,i,o,s,a,l){return Rn(r)!==s&&(s===te||!Uu(i,o,r))?Qo(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,e,r,o,s,l):Qo(i)}expandSegmentAgainstRouteUsingRedirect(t,e,r,i,o,s,a){let{matched:l,parameters:u,consumedSegments:h,positionalParamSegments:p,remainingSegments:v}=bE(e,i,o);if(!l)return Qo(e);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>gR&&(this.allowRedirects=!1));let g=new Yo(o,u,Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,Zw(i),Rn(i),i.component??i._loadedComponent??null,i,Yw(i)),b=Pu(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(b.params),g.data=Object.freeze(b.data);let w=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,g,t);return this.applyRedirects.lineralizeSegments(i,w).pipe(Ke(C=>this.processSegment(t,r,e,C.concat(v),s,!1,a)))}matchSegmentAgainstRoute(t,e,r,i,o,s){let a=lR(e,r,i,t,this.urlSerializer);return r.path==="**"&&(e.children={}),a.pipe(Ut(l=>l.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(Ut(({routes:u})=>{let h=r._loadedInjector??t,{parameters:p,consumedSegments:v,remainingSegments:g}=l,b=new Yo(v,p,Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,Zw(r),Rn(r),r.component??r._loadedComponent??null,r,Yw(r)),w=Pu(b,s,this.paramsInheritanceStrategy);b.params=Object.freeze(w.params),b.data=Object.freeze(w.data);let{segmentGroup:C,slicedSegments:k}=Kw(e,v,g,u);if(k.length===0&&C.hasChildren())return this.processChildren(h,u,C,b).pipe(G(P=>new Qt(b,P)));if(u.length===0&&k.length===0)return q(new Qt(b,[]));let F=Rn(r)===o;return this.processSegment(h,u,C,k,F?te:o,!0,b).pipe(G(P=>new Qt(b,P instanceof Qt?[P]:[])))}))):Qo(e)))}getChildConfig(t,e,r){return e.children?q({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?q({routes:e._loadedRoutes,injector:e._loadedInjector}):iR(t,e,r,this.urlSerializer).pipe(Ke(i=>i?this.configLoader.loadChildren(t,e).pipe(Pe(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):aR(e))):q({routes:[],injector:t})}};function vR(n){n.sort((t,e)=>t.value.outlet===te?-1:e.value.outlet===te?1:t.value.outlet.localeCompare(e.value.outlet))}function yR(n){let t=n.value.routeConfig;return t&&t.path===""}function wE(n){let t=[],e=new Set;for(let r of n){if(!yR(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),e.add(i)):t.push(r)}for(let r of e){let i=wE(r.children);t.push(new Qt(r.value,i))}return t.filter(r=>!e.has(r))}function Zw(n){return n.data||{}}function Yw(n){return n.resolve||{}}function _R(n,t,e,r,i,o){return Ke(s=>mR(n,t,e,r,s.extractedUrl,i,o).pipe(G(({state:a,tree:l})=>z(N({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function bR(n,t){return Ke(e=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return q(e);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let u of EE(l))s.add(u);let a=0;return Re(s).pipe(jr(l=>o.has(l)?wR(l,r,n,t):(l.data=Pu(l,l.parent,n).resolve,q(void 0))),Pe(()=>a++),Io(1),Ke(l=>a===s.size?q(e):Ct))})}function EE(n){let t=n.children.map(e=>EE(e)).flat();return[n,...t]}function wR(n,t,e,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!pE(i)&&(o[Da]=i.title),ER(o,n,t,r).pipe(G(s=>(n._resolvedData=s,n.data=Pu(n,n.parent,e).resolve,null)))}function ER(n,t,e,r){let i=Em(n);if(i.length===0)return q({});let o={};return Re(i).pipe(Ke(s=>CR(n[s],t,e,r).pipe(ir(),Pe(a=>{if(a instanceof Ea)throw Lu(new ga,a);o[s]=a}))),Io(1),G(()=>o),Vn(s=>yE(s)?Ct:Lr(s)))}function CR(n,t,e,r){let i=Ia(t)??r,o=ns(n,i),s=o.resolve?o.resolve(t,e):it(i,()=>o(t,e));return ii(s)}function bm(n){return Ut(t=>{let e=n(t);return e?Re(e).pipe(G(()=>t)):q(t)})}var CE=(()=>{class n{buildTitle(e){let r,i=e.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===te);return r}getResolvedTitleForRoute(e){return e.data[Da]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:()=>I(SR),providedIn:"root"})}return n})(),SR=(()=>{class n extends CE{title;constructor(e){super(),this.title=e}updateTitle(e){let r=this.buildTitle(e);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(V(Hw))};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Jm=new L("",{providedIn:"root",factory:()=>({})}),DR=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=ee({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&_(0,"router-outlet")},dependencies:[Zm],encapsulation:2})}return n})();function Xm(n){let t=n.children&&n.children.map(Xm),e=t?z(N({},n),{children:t}):N({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==te&&(e.component=DR),e}var eg=new L(""),IR=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=I(qp);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return q(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let r=ii(e.loadComponent()).pipe(G(SE),Pe(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),rr(()=>{this.componentLoaders.delete(e)})),i=new Co(r,()=>new xe).pipe(Eo());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=TR(r,this.compiler,e,this.onLoadEndListener).pipe(rr(()=>{this.childrenLoaders.delete(r)})),s=new Co(o,()=>new xe).pipe(Eo());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function TR(n,t,e,r){return ii(n.loadChildren()).pipe(G(SE),Ke(i=>i instanceof qs||Array.isArray(i)?q(i):Re(t.compileModuleAsync(i))),G(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(e).injector,s=o.get(eg,[],{optional:!0,self:!0}).flat()),{routes:s.map(Xm),injector:o}}))}function xR(n){return n&&typeof n=="object"&&"default"in n}function SE(n){return xR(n)?n.default:n}var tg=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:()=>I(MR),providedIn:"root"})}return n})(),MR=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),AR=new L("");var kR=new L(""),NR=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new xe;transitionAbortSubject=new xe;configLoader=I(IR);environmentInjector=I(Tt);destroyRef=I(Pi);urlSerializer=I(Qm);rootContexts=I(ju);location=I(ta);inputBindingEnabled=I(Ym,{optional:!0})!==null;titleStrategy=I(CE);options=I(Jm,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=I(tg);createViewTransition=I(AR,{optional:!0});navigationErrorHandler=I(kR,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>q(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=i=>this.events.next(new km(i)),r=i=>this.events.next(new Nm(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let r=++this.navigationId;this.transitions?.next(z(N(N({},this.transitions.value),e),{id:r}))}setupNavigations(e,r,i){return this.transitions=new rt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:pa,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(gt(o=>o.id!==0),G(o=>z(N({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Ut(o=>{let s=!1,a=!1;return q(o).pipe(Ut(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Kt.SupersededByNewNavigation),Ct;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?z(N({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=l.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!u&&h!=="reload"){let p="";return this.events.next(new Gi(l.id,this.urlSerializer.serialize(l.rawUrl),p,Im.IgnoredSameUrlNavigation)),l.resolve(!1),Ct}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return q(l).pipe(Ut(p=>{let v=this.transitions?.getValue();return this.events.next(new ya(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),v!==this.transitions?.getValue()?Ct:Promise.resolve(p)}),_R(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),Pe(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=z(N({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let v=new Nu(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(v)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:p,extractedUrl:v,source:g,restoredState:b,extras:w}=l,C=new ya(p,this.urlSerializer.serialize(v),g,b);this.events.next(C);let k=fE(this.rootComponentType).snapshot;return this.currentTransition=o=z(N({},l),{targetSnapshot:k,urlAfterRedirects:v,extras:z(N({},w),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=v,q(o)}else{let p="";return this.events.next(new Gi(l.id,this.urlSerializer.serialize(l.extractedUrl),p,Im.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Ct}}),Pe(l=>{let u=new Tm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),G(l=>(this.currentTransition=o=z(N({},l),{guards:jN(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),ZN(this.environmentInjector,l=>this.events.next(l)),Pe(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Lu(this.urlSerializer,l.guardsResult);let u=new xm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),gt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Kt.GuardRejected),!1)),bm(l=>{if(l.guards.canActivateChecks.length)return q(l).pipe(Pe(u=>{let h=new Mm(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),Ut(u=>{let h=!1;return q(u).pipe(bR(this.paramsInheritanceStrategy,this.environmentInjector),Pe({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(u,"",Kt.NoDataFromResolver)}}))}),Pe(u=>{let h=new Am(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}))}),bm(l=>{let u=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(Pe(v=>{h.component=v}),G(()=>{})));for(let v of h.children)p.push(...u(v));return p};return Do(u(l.targetSnapshot.root)).pipe(Ur(null),jt(1))}),bm(()=>this.afterPreactivation()),Ut(()=>{let{currentSnapshot:l,targetSnapshot:u}=o,h=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return h?Re(h).pipe(G(()=>o)):q(o)}),G(l=>{let u=ON(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=z(N({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),Pe(()=>{this.events.next(new ba)}),VN(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),jt(1),Pe({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ri(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),Ns(this.transitionAbortSubject.pipe(Pe(l=>{throw l}))),rr(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Kt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Vn(l=>{if(this.destroyed)return o.resolve(!1),Ct;if(a=!0,vE(l))this.events.next(new Cr(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),LN(l)?this.events.next(new es(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let u=new _a(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let h=it(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(h instanceof Ea){let{message:p,cancellationCode:v}=Lu(this.urlSerializer,h);this.events.next(new Cr(o.id,this.urlSerializer.serialize(o.extractedUrl),p,v)),this.events.next(new es(h.redirectTo,h.navigationBehaviorOptions))}else throw this.events.next(u),l}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return Ct}))}))}cancelNavigationTransition(e,r,i){let o=new Cr(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function RR(n){return n!==pa}var OR=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:()=>I(PR),providedIn:"root"})}return n})(),Wm=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},PR=(()=>{class n extends Wm{static \u0275fac=(()=>{let e;return function(i){return(e||(e=ln(n)))(i||n)}})();static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),DE=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:()=>I(FR),providedIn:"root"})}return n})(),FR=(()=>{class n extends DE{location=I(ta);urlSerializer=I(Qm);options=I(Jm,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=I(tg);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Sr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=fE(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{r.type==="popstate"&&e(r.url,r.state)})}handleRouterEvent(e,r){if(e instanceof ya)this.stateMemento=this.createStateMemento();else if(e instanceof Gi)this.rawUrlTree=r.initialUrl;else if(e instanceof Nu){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else e instanceof ba?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):e instanceof Cr&&(e.code===Kt.GuardRejected||e.code===Kt.NoDataFromResolver)?this.restoreHistory(r):e instanceof _a?this.restoreHistory(r,!0):e instanceof ri&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,r){let i=e instanceof Sr?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=N(N({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=N(N({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(e,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===e.finalUrl&&o===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=ln(n)))(i||n)}})();static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function LR(n,t){n.events.pipe(gt(e=>e instanceof ri||e instanceof Cr||e instanceof _a||e instanceof Gi),G(e=>e instanceof ri||e instanceof Gi?0:(e instanceof Cr?e.code===Kt.Redirect||e.code===Kt.SupersededByNewNavigation:!1)?2:1),gt(e=>e!==2),jt(1)).subscribe(()=>{t()})}var VR={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},jR={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Zt=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=I(Up);stateManager=I(DE);options=I(Jm,{optional:!0})||{};pendingTasks=I(vr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=I(NR);urlSerializer=I(Qm);location=I(ta);urlHandlingStrategy=I(tg);_events=new xe;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=I(OR);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=I(eg,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!I(Ym,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Te;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Cr&&r.code!==Kt.Redirect&&r.code!==Kt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ri)this.navigated=!0;else if(r instanceof es){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=N({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||RR(i.source)},s);this.scheduleNavigation(a,pa,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}BR(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),pa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",r)},0)})}navigateToSyncWithBrowser(e,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=N({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(e);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Xm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=N(N({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let v=i?i.snapshot:this.routerState.snapshot.root;p=lE(v)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),p=this.currentUrlTree.root}return cE(p,e,h,u??null)}navigateByUrl(e,r={skipLocationChange:!1}){let i=qi(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,pa,null,r)}navigate(e,r={skipLocationChange:!1}){return UR(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,r){let i;if(r===!0?i=N({},VR):r===!1?i=N({},jR):i=r,qi(e))return qw(this.currentUrlTree,e,i);let o=this.parseUrl(e);return qw(this.currentUrlTree,o,i)}removeEmptyProps(e){return Object.entries(e).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(e,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,u;s?(a=s.resolve,l=s.reject,u=s.promise):u=new Promise((p,v)=>{a=p,l=v});let h=this.pendingTasks.add();return LR(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function UR(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new A(4008,!1)}function BR(n){return!(n instanceof ba)&&!(n instanceof es)}var qe=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new xe;constructor(e,r,i,o,s,a){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=e.events.subscribe(u=>{u instanceof ri&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(qi(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let r=this.href===null?null:z_(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(e,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,e,r):i.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:qi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(T(Zt),T(On),Gc("tabindex"),T(An),T(Ye),T(Wo))};static \u0275dir=ge({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&D("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&zn("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",kn],skipLocationChange:[2,"skipLocationChange","skipLocationChange",kn],replaceUrl:[2,"replaceUrl","replaceUrl",kn],routerLink:"routerLink"},features:[Li,an]})}return n})();var $R=new L("");function IE(n,...t){return Bo([{provide:eg,multi:!0,useValue:n},[],{provide:On,useFactory:HR,deps:[Zt]},{provide:eu,multi:!0,useFactory:zR},t.map(e=>e.\u0275providers)])}function HR(n){return n.routerState.root}function zR(){let n=I(Ve);return t=>{let e=n.get(hr);if(t!==e.components[0])return;let r=n.get(Zt),i=n.get(qR);n.get(GR)===1&&r.initialNavigation(),n.get(WR,null,ne.Optional)?.setUpPreloading(),n.get($R,null,ne.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var qR=new L("",{factory:()=>new xe}),GR=new L("",{providedIn:"root",factory:()=>1});var WR=new L("");var TE=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>import("./chunk-MAQGHWLI.js").then(({default:r})=>r(...e)):t=fetch,(...e)=>t(...e)};var Ma=class extends Error{constructor(t,e="FunctionsError",r){super(t),this.name=e,this.context=r}},Bu=class extends Ma{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},$u=class extends Ma{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},Hu=class extends Ma{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}},ng=function(n){return n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2",n}(ng||{});var QR=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(h){try{u(r.next(h))}catch(p){s(p)}}function l(h){try{u(r.throw(h))}catch(p){s(p)}}function u(h){h.done?o(h.value):i(h.value).then(a,l)}u((r=r.apply(n,t||[])).next())})},Aa=class{constructor(t,{headers:e={},customFetch:r,region:i=ng.Any}={}){this.url=t,this.headers=e,this.region=i,this.fetch=TE(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,e={}){var r;return QR(this,void 0,void 0,function*(){try{let{headers:i,method:o,body:s}=e,a={},{region:l}=e;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=s):typeof s=="string"?(a["Content-Type"]="text/plain",u=s):typeof FormData<"u"&&s instanceof FormData?u=s:(a["Content-Type"]="application/json",u=JSON.stringify(s)));let h=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:u}).catch(b=>{throw new Bu(b)}),p=h.headers.get("x-relay-error");if(p&&p==="true")throw new $u(h);if(!h.ok)throw new Hu(h);let v=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return v==="application/json"?g=yield h.json():v==="application/octet-stream"?g=yield h.blob():v==="text/event-stream"?g=h:v==="multipart/form-data"?g=yield h.formData():g=yield h.text(),{data:g,error:null}}catch(i){return{data:null,error:i}}})}};var UE=dD(jE(),1),{PostgrestClient:BE,PostgrestQueryBuilder:FH,PostgrestFilterBuilder:LH,PostgrestTransformBuilder:VH,PostgrestBuilder:jH,PostgrestError:sO}=UE.default;var $E="2.11.2";var HE={"X-Client-Info":`realtime-js/${$E}`},zE="1.0.0",Wu=1e4,qE=1e3,is=function(n){return n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed",n}(is||{}),Yt=function(n){return n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving",n}(Yt||{}),gn=function(n){return n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token",n}(gn||{}),pg=function(n){return n.websocket="websocket",n}(pg||{}),Wi=function(n){return n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed",n}(Wi||{});var Qu=class{constructor(){this.HEADER_LENGTH=1}decode(t,e){return t.constructor===ArrayBuffer?e(this._binaryDecode(t)):e(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){let e=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,e,r)}_decodeBroadcast(t,e,r){let i=e.getUint8(1),o=e.getUint8(2),s=this.HEADER_LENGTH+2,a=r.decode(t.slice(s,s+i));s=s+i;let l=r.decode(t.slice(s,s+o));s=s+o;let u=JSON.parse(r.decode(t.slice(s,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}};var os=class{constructor(t,e){this.callback=t,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Ie=function(n){return n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange",n}(Ie||{}),gg=(n,t,e={})=>{var r;let i=(r=e.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((o,s)=>(o[s]=aO(s,n,t,i),o),{})},aO=(n,t,e,r)=>{let i=t.find(a=>a.name===n),o=i?.type,s=e[n];return o&&!r.includes(o)?GE(o,s):mg(s)},GE=(n,t)=>{if(n.charAt(0)==="_"){let e=n.slice(1,n.length);return dO(t,e)}switch(n){case Ie.bool:return lO(t);case Ie.float4:case Ie.float8:case Ie.int2:case Ie.int4:case Ie.int8:case Ie.numeric:case Ie.oid:return cO(t);case Ie.json:case Ie.jsonb:return uO(t);case Ie.timestamp:return fO(t);case Ie.abstime:case Ie.date:case Ie.daterange:case Ie.int4range:case Ie.int8range:case Ie.money:case Ie.reltime:case Ie.text:case Ie.time:case Ie.timestamptz:case Ie.timetz:case Ie.tsrange:case Ie.tstzrange:return mg(t);default:return mg(t)}},mg=n=>n,lO=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},cO=n=>{if(typeof n=="string"){let t=parseFloat(n);if(!Number.isNaN(t))return t}return n},uO=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(t){return console.log(`JSON parse error: ${t}`),n}return n},dO=(n,t)=>{if(typeof n!="string")return n;let e=n.length-1,r=n[e];if(n[0]==="{"&&r==="}"){let o,s=n.slice(1,e);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>GE(t,a))}return n},fO=n=>typeof n=="string"?n.replace(" ","T"):n,Ku=n=>{let t=n;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};var ss=class{constructor(t,e,r={},i=Wu){this.channel=t,this.event=e,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,e){var r;return this._hasReceived(t)&&e((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:e}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let t=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:e}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(e))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}};var La=class n{constructor(t,e){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=e?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=n.syncState(this.state,i,o,s),this.pendingDiffs.forEach(l=>{this.state=n.syncDiff(this.state,l,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=n.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,e,r,i){let o=this.cloneDeep(t),s=this.transformState(e),a={},l={};return this.map(o,(u,h)=>{s[u]||(l[u]=h)}),this.map(s,(u,h)=>{let p=o[u];if(p){let v=h.map(C=>C.presence_ref),g=p.map(C=>C.presence_ref),b=h.filter(C=>g.indexOf(C.presence_ref)<0),w=p.filter(C=>v.indexOf(C.presence_ref)<0);b.length>0&&(a[u]=b),w.length>0&&(l[u]=w)}else a[u]=h}),this.syncDiff(o,{joins:a,leaves:l},r,i)}static syncDiff(t,e,r,i){let{joins:o,leaves:s}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,l)=>{var u;let h=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),h.length>0){let p=t[a].map(g=>g.presence_ref),v=h.filter(g=>p.indexOf(g.presence_ref)<0);t[a].unshift(...v)}r(a,h,l)}),this.map(s,(a,l)=>{let u=t[a];if(!u)return;let h=l.map(p=>p.presence_ref);u=u.filter(p=>h.indexOf(p.presence_ref)<0),t[a]=u,i(a,u,l),u.length===0&&delete t[a]}),t}static map(t,e){return Object.getOwnPropertyNames(t).map(r=>e(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((e,r)=>{let i=t[r];return"metas"in i?e[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):e[r]=i,e},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Dr=function(n){return n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR",n}(Dr||{});var Va=class n{constructor(t,e={config:{}},r){this.topic=t,this.params=e,this.socket=r,this.bindings={},this.state=Yt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},e.config),this.timeout=this.socket.timeout,this.joinPush=new ss(this,gn.join,this.params,this.timeout),this.rejoinTimer=new os(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Yt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Yt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Yt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Yt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(gn.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new La(this),this.broadcastEndpointURL=Ku(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,e=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:o,presence:s,private:a}}=this.params;this._onError(h=>t?.(Dr.CHANNEL_ERROR,h)),this._onClose(()=>t?.(Dr.CLOSED));let l={},u={broadcast:o,presence:s,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",async({postgres_changes:h})=>{var p;if(this.socket.setAuth(),h===void 0){t?.(Dr.SUBSCRIBED);return}else{let v=this.bindings.postgres_changes,g=(p=v?.length)!==null&&p!==void 0?p:0,b=[];for(let w=0;w<g;w++){let C=v[w],{filter:{event:k,schema:F,table:P,filter:B}}=C,W=h&&h[w];if(W&&W.event===k&&W.schema===F&&W.table===P&&W.filter===B)b.push(Object.assign(Object.assign({},C),{id:W.id}));else{this.unsubscribe(),t?.(Dr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(Dr.SUBSCRIBED);return}}).receive("error",h=>{t?.(Dr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t?.(Dr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,e={}){return await this.send({type:"presence",event:"track",payload:t},e.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,e,r){return this._on(t,e,r)}async send(t,e={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){let{event:o,payload:s}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:s,private:this.private}]})};try{let u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=e.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var s,a,l;let u=this._push(t.type,t,e.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(s=this.params)===null||s===void 0?void 0:s.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Yt.leaving;let e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(gn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{let i=new ss(this,gn.leave,{},t);i.receive("ok",()=>{e(),r("ok")}).receive("timeout",()=>{e(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(t,e,r){let i=new AbortController,o=setTimeout(()=>i.abort(),r),s=await this.socket.fetch(t,Object.assign(Object.assign({},e),{signal:i.signal}));return clearTimeout(o),s}_push(t,e,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new ss(this,t,e,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,e,r){return e}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,e,r){var i,o;let s=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:h}=gn;if(r&&[a,l,u,h].indexOf(s)>=0&&r!==this._joinRef())return;let v=this._onMessage(s,e,r);if(e&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var b,w,C;return((b=g.filter)===null||b===void 0?void 0:b.event)==="*"||((C=(w=g.filter)===null||w===void 0?void 0:w.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===s}).map(g=>g.callback(v,r)):(o=this.bindings[s])===null||o===void 0||o.filter(g=>{var b,w,C,k,F,P;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in g){let B=g.id,W=(b=g.filter)===null||b===void 0?void 0:b.event;return B&&((w=e.ids)===null||w===void 0?void 0:w.includes(B))&&(W==="*"||W?.toLocaleLowerCase()===((C=e.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{let B=(F=(k=g?.filter)===null||k===void 0?void 0:k.event)===null||F===void 0?void 0:F.toLocaleLowerCase();return B==="*"||B===((P=e?.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===s}).map(g=>{if(typeof v=="object"&&"ids"in v){let b=v.data,{schema:w,table:C,commit_timestamp:k,type:F,errors:P}=b;v=Object.assign(Object.assign({},{schema:w,table:C,commit_timestamp:k,eventType:F,new:{},old:{},errors:P}),this._getPayloadRecords(b))}g.callback(v,r)})}_isClosed(){return this.state===Yt.closed}_isJoined(){return this.state===Yt.joined}_isJoining(){return this.state===Yt.joining}_isLeaving(){return this.state===Yt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,e,r){let i=t.toLocaleLowerCase(),o={type:i,filter:e,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,e){let r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&n.isEqual(i.filter,e))}),this}static isEqual(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(let r in t)if(t[r]!==e[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(gn.close,{},t)}_onError(t){this._on(gn.error,{},e=>t(e))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Yt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){let e={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(e.new=gg(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(e.old=gg(t.columns,t.old_record)),e}};var pO=()=>{},mO=typeof WebSocket<"u",gO=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,ja=class{constructor(t,e){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=HE,this.params={},this.timeout=Wu,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=pO,this.conn=null,this.sendBuffer=[],this.serializer=new Qu,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...a)=>import("./chunk-MAQGHWLI.js").then(({default:l})=>l(...a)):s=fetch,(...a)=>s(...a)},this.endPoint=`${t}/${pg.websocket}`,this.httpEndpoint=Ku(t),e?.transport?this.transport=e.transport:this.transport=null,e?.params&&(this.params=e.params),e?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),e.headers)),e?.timeout&&(this.timeout=e.timeout),e?.logger&&(this.logger=e.logger),e?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=e.heartbeatIntervalMs);let i=(r=e?.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=e?.reconnectAfterMs?e.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=e?.encode?e.encode:(o,s)=>s(JSON.stringify(o)),this.decode=e?.decode?e.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new os(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(e?.fetch),e?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=e?.worker||!1,this.workerUrl=e?.workerUrl}this.accessToken=e?.accessToken||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(mO){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new vg(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),import("./chunk-KYSFV2V4.js").then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:zE}))}disconnect(t,e){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,e??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){let e=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),e}async removeAllChannels(){let t=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.disconnect(),t}log(t,e,r){this.logger(t,e,r)}connectionState(){switch(this.conn&&this.conn.readyState){case is.connecting:return Wi.Connecting;case is.open:return Wi.Open;case is.closing:return Wi.Closing;default:return Wi.Closed}}isConnected(){return this.connectionState()===Wi.Open}channel(t,e={config:{}}){let r=new Va(`realtime:${t}`,e,this);return this.channels.push(r),r}push(t){let{topic:e,event:r,payload:i,ref:o}=t,s=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${e} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){let e=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(e){let r=null;try{r=JSON.parse(atob(e.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=e,this.channels.forEach(i=>{e&&i.updateJoinPayload({access_token:e}),i.joinedOnce&&i._isJoined()&&i._push(gn.access_token,{access_token:e})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(qE,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let e=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));e&&(this.log("transport",`leaving duplicate topic "${t}"`),e.unsubscribe())}_remove(t){this.channels=this.channels.filter(e=>e._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,e=>{let{topic:r,event:i,payload:o,ref:s}=e;s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${i} ${s&&"("+s+")"||""}`,o),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,o,s)),this.stateChangeCallbacks.message.forEach(a=>a(e))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{e.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(e=>e(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(e=>e(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(gn.error))}_appendParams(t,e){if(Object.keys(e).length===0)return t;let r=t.match(/\?/)?"&":"?",i=new URLSearchParams(e);return`${t}${r}${i}`}_workerObjectUrl(t){let e;if(t)e=t;else{let r=new Blob([gO],{type:"application/javascript"});e=URL.createObjectURL(r)}return e}};var vg=class{constructor(t,e,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=is.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}};var as=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function Ge(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var Zu=class extends as{constructor(t,e){super(t),this.name="StorageApiError",this.status=e}toJSON(){return{name:this.name,message:this.message,status:this.status}}},Qi=class extends as{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};var vO=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(h){try{u(r.next(h))}catch(p){s(p)}}function l(h){try{u(r.throw(h))}catch(p){s(p)}}function u(h){h.done?o(h.value):i(h.value).then(a,l)}u((r=r.apply(n,t||[])).next())})},Ju=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>import("./chunk-MAQGHWLI.js").then(({default:r})=>r(...e)):t=fetch,(...e)=>t(...e)},WE=()=>vO(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-MAQGHWLI.js")).Response:Response}),Yu=n=>{if(Array.isArray(n))return n.map(e=>Yu(e));if(typeof n=="function"||n!==Object(n))return n;let t={};return Object.entries(n).forEach(([e,r])=>{let i=e.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=Yu(r)}),t};var Ki=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(h){try{u(r.next(h))}catch(p){s(p)}}function l(h){try{u(r.throw(h))}catch(p){s(p)}}function u(h){h.done?o(h.value):i(h.value).then(a,l)}u((r=r.apply(n,t||[])).next())})},yg=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),yO=(n,t,e)=>Ki(void 0,void 0,void 0,function*(){let r=yield WE();n instanceof r&&!e?.noResolveJson?n.json().then(i=>{t(new Zu(yg(i),n.status||500))}).catch(i=>{t(new Qi(yg(i),i))}):t(new Qi(yg(n),n))}),_O=(n,t,e,r)=>{let i={method:n,headers:t?.headers||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),e))};function Ua(n,t,e,r,i,o){return Ki(this,void 0,void 0,function*(){return new Promise((s,a)=>{n(e,_O(t,r,i,o)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>yO(l,a,r))})})}function ls(n,t,e,r){return Ki(this,void 0,void 0,function*(){return Ua(n,"GET",t,e,r)})}function Gn(n,t,e,r,i){return Ki(this,void 0,void 0,function*(){return Ua(n,"POST",t,r,i,e)})}function QE(n,t,e,r,i){return Ki(this,void 0,void 0,function*(){return Ua(n,"PUT",t,r,i,e)})}function KE(n,t,e,r){return Ki(this,void 0,void 0,function*(){return Ua(n,"HEAD",t,Object.assign(Object.assign({},e),{noResolveJson:!0}),r)})}function Xu(n,t,e,r,i){return Ki(this,void 0,void 0,function*(){return Ua(n,"DELETE",t,r,i,e)})}var Ot=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(h){try{u(r.next(h))}catch(p){s(p)}}function l(h){try{u(r.throw(h))}catch(p){s(p)}}function u(h){h.done?o(h.value):i(h.value).then(a,l)}u((r=r.apply(n,t||[])).next())})},bO={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ZE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},ed=class{constructor(t,e={},r,i){this.url=t,this.headers=e,this.bucketId=r,this.fetch=Ju(i)}uploadOrUpdate(t,e,r,i){return Ot(this,void 0,void 0,function*(){try{let o,s=Object.assign(Object.assign({},ZE),i),a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)}),l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));let u=this._removeEmptyFolders(e),h=this._getFinalPath(u),p=yield this.fetch(`${this.url}/object/${h}`,Object.assign({method:t,body:o,headers:a},s?.duplex?{duplex:s.duplex}:{})),v=yield p.json();return p.ok?{data:{path:u,id:v.Id,fullPath:v.Key},error:null}:{data:null,error:v}}catch(o){if(Ge(o))return{data:null,error:o};throw o}})}upload(t,e,r){return Ot(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,e,r)})}uploadToSignedUrl(t,e,r,i){return Ot(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(t),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",e);try{let l,u=Object.assign({upsert:ZE.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType);let p=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:h}),v=yield p.json();return p.ok?{data:{path:o,fullPath:v.Key},error:null}:{data:null,error:v}}catch(l){if(Ge(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,e){return Ot(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),i=Object.assign({},this.headers);e?.upsert&&(i["x-upsert"]="true");let o=yield Gn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new as("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:a},error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}})}update(t,e,r){return Ot(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,e,r)})}move(t,e,r){return Ot(this,void 0,void 0,function*(){try{return{data:yield Gn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Ge(i))return{data:null,error:i};throw i}})}copy(t,e,r){return Ot(this,void 0,void 0,function*(){try{return{data:{path:(yield Gn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Ge(i))return{data:null,error:i};throw i}})}createSignedUrl(t,e,r){return Ot(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),o=yield Gn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(Ge(i))return{data:null,error:i};throw i}})}createSignedUrls(t,e,r){return Ot(this,void 0,void 0,function*(){try{let i=yield Gn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:t},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(Ge(i))return{data:null,error:i};throw i}})}download(t,e){return Ot(this,void 0,void 0,function*(){let i=typeof e?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(e?.transform||{}),s=o?`?${o}`:"";try{let a=this._getFinalPath(t);return{data:yield(yield ls(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Ge(a))return{data:null,error:a};throw a}})}info(t){return Ot(this,void 0,void 0,function*(){let e=this._getFinalPath(t);try{let r=yield ls(this.fetch,`${this.url}/object/info/${e}`,{headers:this.headers});return{data:Yu(r),error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}})}exists(t){return Ot(this,void 0,void 0,function*(){let e=this._getFinalPath(t);try{return yield KE(this.fetch,`${this.url}/object/${e}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Ge(r)&&r instanceof Qi){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,e){let r=this._getFinalPath(t),i=[],o=e?.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&i.push(o);let a=typeof e?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(e?.transform||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return Ot(this,void 0,void 0,function*(){try{return{data:yield Xu(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(e){if(Ge(e))return{data:null,error:e};throw e}})}list(t,e,r){return Ot(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},bO),e),{prefix:t||""});return{data:yield Gn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Ge(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){let e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};var YE="2.7.1";var JE={"X-Client-Info":`storage-js/${YE}`};var cs=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(h){try{u(r.next(h))}catch(p){s(p)}}function l(h){try{u(r.throw(h))}catch(p){s(p)}}function u(h){h.done?o(h.value):i(h.value).then(a,l)}u((r=r.apply(n,t||[])).next())})},td=class{constructor(t,e={},r){this.url=t,this.headers=Object.assign(Object.assign({},JE),e),this.fetch=Ju(r)}listBuckets(){return cs(this,void 0,void 0,function*(){try{return{data:yield ls(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ge(t))return{data:null,error:t};throw t}})}getBucket(t){return cs(this,void 0,void 0,function*(){try{return{data:yield ls(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(e){if(Ge(e))return{data:null,error:e};throw e}})}createBucket(t,e={public:!1}){return cs(this,void 0,void 0,function*(){try{return{data:yield Gn(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}})}updateBucket(t,e){return cs(this,void 0,void 0,function*(){try{return{data:yield QE(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}})}emptyBucket(t){return cs(this,void 0,void 0,function*(){try{return{data:yield Gn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(Ge(e))return{data:null,error:e};throw e}})}deleteBucket(t){return cs(this,void 0,void 0,function*(){try{return{data:yield Xu(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(e){if(Ge(e))return{data:null,error:e};throw e}})}};var Ba=class extends td{constructor(t,e={},r){super(t,e,r)}from(t){return new ed(this.url,this.headers,t,this.fetch)}};var XE="2.48.1";var $a="";typeof Deno<"u"?$a="deno":typeof document<"u"?$a="web":typeof navigator<"u"&&navigator.product==="ReactNative"?$a="react-native":$a="node";var wO={"X-Client-Info":`supabase-js-${$a}/${XE}`},eC={headers:wO},tC={schema:"public"},nC={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},rC={};Pv();var EO=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(h){try{u(r.next(h))}catch(p){s(p)}}function l(h){try{u(r.throw(h))}catch(p){s(p)}}function u(h){h.done?o(h.value):i(h.value).then(a,l)}u((r=r.apply(n,t||[])).next())})},CO=n=>{let t;return n?t=n:typeof fetch>"u"?t=Rv:t=fetch,(...e)=>t(...e)},SO=()=>typeof Headers>"u"?Ov:Headers,iC=(n,t,e)=>{let r=CO(e),i=SO();return(o,s)=>EO(void 0,void 0,void 0,function*(){var a;let l=(a=yield t())!==null&&a!==void 0?a:n,u=new i(s?.headers);return u.has("apikey")||u.set("apikey",n),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},s),{headers:u}))})};var DO=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(h){try{u(r.next(h))}catch(p){s(p)}}function l(h){try{u(r.throw(h))}catch(p){s(p)}}function u(h){h.done?o(h.value):i(h.value).then(a,l)}u((r=r.apply(n,t||[])).next())})};function oC(n){return n.replace(/\/$/,"")}function sC(n,t){let{db:e,auth:r,realtime:i,global:o}=n,{db:s,auth:a,realtime:l,global:u}=t,h={db:Object.assign(Object.assign({},s),e),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},u),o),accessToken:()=>DO(this,void 0,void 0,function*(){return""})};return n.accessToken?h.accessToken=n.accessToken:delete h.accessToken,h}var nd="2.67.3";var aC="http://localhost:9999",lC="supabase.auth.token";var cC={"X-Client-Info":`gotrue-js/${nd}`},_g=10;var Ha="X-Supabase-Api-Version",bg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function uC(n){return Math.round(Date.now()/1e3)+n}function dC(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){let t=Math.random()*16|0;return(n=="x"?t:t&3|8).toString(16)})}var Pn=()=>typeof window<"u"&&typeof document<"u",Zi={tested:!1,writable:!1},oi=()=>{if(!Pn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Zi.tested)return Zi.writable;let n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Zi.tested=!0,Zi.writable=!0}catch{Zi.tested=!0,Zi.writable=!1}return Zi.writable};function fC(n){let t={},e=new URL(n);if(e.hash&&e.hash[0]==="#")try{new URLSearchParams(e.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return e.searchParams.forEach((r,i)=>{t[i]=r}),t}var rd=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>import("./chunk-MAQGHWLI.js").then(({default:r})=>r(...e)):t=fetch,(...e)=>t(...e)},hC=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",wg=async(n,t,e)=>{await n.setItem(t,JSON.stringify(e))},qa=async(n,t)=>{let e=await n.getItem(t);if(!e)return null;try{return JSON.parse(e)}catch{return e}},Ga=async(n,t)=>{await n.removeItem(t)};function IO(n){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e="",r,i,o,s,a,l,u,h=0;for(n=n.replace("-","+").replace("_","/");h<n.length;)s=t.indexOf(n.charAt(h++)),a=t.indexOf(n.charAt(h++)),l=t.indexOf(n.charAt(h++)),u=t.indexOf(n.charAt(h++)),r=s<<2|a>>4,i=(a&15)<<4|l>>2,o=(l&3)<<6|u,e=e+String.fromCharCode(r),l!=64&&i!=0&&(e=e+String.fromCharCode(i)),u!=64&&o!=0&&(e=e+String.fromCharCode(o));return e}var za=class n{constructor(){this.promise=new n.promiseConstructor((t,e)=>{this.resolve=t,this.reject=e})}};za.promiseConstructor=Promise;function Eg(n){let t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,e=n.split(".");if(e.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(e[1]))throw new Error("JWT is not valid: payload is not in base64url format");let r=e[1];return JSON.parse(IO(r))}async function pC(n){return await new Promise(t=>{setTimeout(()=>t(null),n)})}function mC(n,t){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{let s=await n(o);if(!t(o,null,s)){r(s);return}}catch(s){if(!t(o,s)){i(s);return}}})()})}function TO(n){return("0"+n.toString(16)).substr(-2)}function xO(){let t=new Uint32Array(56);if(typeof crypto>"u"){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=e.length,i="";for(let o=0;o<56;o++)i+=e.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,TO).join("")}async function MO(n){let e=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",e),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}function AO(n){return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function kO(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;let e=await MO(n);return AO(e)}async function Yi(n,t,e=!1){let r=xO(),i=r;e&&(i+="/PASSWORD_RECOVERY"),await wg(n,`${t}-code-verifier`,i);let o=await kO(r);return[o,r===o?"plain":"s256"]}var NO=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function gC(n){let t=n.headers.get(Ha);if(!t||!t.match(NO))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}var Wa=class extends Error{constructor(t,e,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=e,this.code=r}};function J(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}var id=class extends Wa{constructor(t,e,r){super(t,e,r),this.name="AuthApiError",this.status=e,this.code=r}};function vC(n){return J(n)&&n.name==="AuthApiError"}var us=class extends Wa{constructor(t,e){super(t),this.name="AuthUnknownError",this.originalError=e}},Ir=class extends Wa{constructor(t,e,r,i){super(t,r,i),this.name=e,this.status=r}},vn=class extends Ir{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function yC(n){return J(n)&&n.name==="AuthSessionMissingError"}var ds=class extends Ir{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Ji=class extends Ir{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},Xi=class extends Ir{constructor(t,e=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function _C(n){return J(n)&&n.name==="AuthImplicitGrantRedirectError"}var Qa=class extends Ir{constructor(t,e=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},fs=class extends Ir{constructor(t,e){super(t,"AuthRetryableFetchError",e,void 0)}};function od(n){return J(n)&&n.name==="AuthRetryableFetchError"}var Ka=class extends Ir{constructor(t,e,r){super(t,"AuthWeakPasswordError",e,"weak_password"),this.reasons=r}};var RO=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},eo=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),OO=[502,503,504];async function bC(n){var t;if(!hC(n))throw new fs(eo(n),0);if(OO.includes(n.status))throw new fs(eo(n),n.status);let e;try{e=await n.json()}catch(o){throw new us(eo(o),o)}let r,i=gC(n);if(i&&i.getTime()>=bg["2024-01-01"].timestamp&&typeof e=="object"&&e&&typeof e.code=="string"?r=e.code:typeof e=="object"&&e&&typeof e.error_code=="string"&&(r=e.error_code),r){if(r==="weak_password")throw new Ka(eo(e),n.status,((t=e.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new vn}else if(typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new Ka(eo(e),n.status,e.weak_password.reasons);throw new id(eo(e),n.status||500,r)}var PO=(n,t,e,r)=>{let i={method:n,headers:t?.headers||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),e))};async function ce(n,t,e,r){var i;let o=Object.assign({},r?.headers);o[Ha]||(o[Ha]=bg["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await FO(n,t,e+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}}async function FO(n,t,e,r,i,o){let s=PO(t,r,i,o),a;try{a=await n(e,Object.assign({},s))}catch(l){throw console.error(l),new fs(eo(l),0)}if(a.ok||await bC(a),r?.noResolveJson)return a;try{return await a.json()}catch(l){await bC(l)}}function Tr(n){var t;let e=null;LO(n)&&(e=Object.assign({},n),n.expires_at||(e.expires_at=uC(n.expires_in)));let r=(t=n.user)!==null&&t!==void 0?t:n;return{data:{session:e,user:r},error:null}}function Cg(n){let t=Tr(n);return!t.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((e,r)=>e&&typeof r=="string",!0)&&(t.data.weak_password=n.weak_password),t}function Wn(n){var t;return{data:{user:(t=n.user)!==null&&t!==void 0?t:n},error:null}}function wC(n){return{data:n,error:null}}function EC(n){let{action_link:t,email_otp:e,hashed_token:r,redirect_to:i,verification_type:o}=n,s=RO(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:e,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function CC(n){return n}function LO(n){return n.access_token&&n.refresh_token&&n.expires_in}var VO=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},hs=class{constructor({url:t="",headers:e={},fetch:r}){this.url=t,this.headers=e,this.fetch=rd(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,e="global"){try{return await ce(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,e={}){try{return await ce(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:Wn})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{let{options:e}=t,r=VO(t,["options"]),i=Object.assign(Object.assign({},r),e);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await ce(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:EC,redirectTo:e?.redirectTo})}catch(e){if(J(e))return{data:{properties:null,user:null},error:e};throw e}}async createUser(t){try{return await ce(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Wn})}catch(e){if(J(e))return{data:{user:null},error:e};throw e}}async listUsers(t){var e,r,i,o,s,a,l;try{let u={nextPage:null,lastPage:0,total:0},h=await ce(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(e=t?.page)===null||e===void 0?void 0:e.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:CC});if(h.error)throw h.error;let p=await h.json(),v=(s=h.headers.get("x-total-count"))!==null&&s!==void 0?s:0,g=(l=(a=h.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(b=>{let w=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(b.split(";")[1].split("=")[1]);u[`${C}Page`]=w}),u.total=parseInt(v)),{data:Object.assign(Object.assign({},p),u),error:null}}catch(u){if(J(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await ce(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Wn})}catch(e){if(J(e))return{data:{user:null},error:e};throw e}}async updateUserById(t,e){try{return await ce(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:e,headers:this.headers,xform:Wn})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,e=!1){try{return await ce(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:e},xform:Wn})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{let{data:e,error:r}=await ce(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:e,error:r}}catch(e){if(J(e))return{data:null,error:e};throw e}}async _deleteFactor(t){try{return{data:await ce(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(e){if(J(e))return{data:null,error:e};throw e}}};var SC={getItem:n=>oi()?globalThis.localStorage.getItem(n):null,setItem:(n,t)=>{oi()&&globalThis.localStorage.setItem(n,t)},removeItem:n=>{oi()&&globalThis.localStorage.removeItem(n)}};function Sg(n={}){return{getItem:t=>n[t]||null,setItem:(t,e)=>{n[t]=e},removeItem:t=>{delete n[t]}}}function DC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var to={debug:!!(globalThis&&oi()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Za=class extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}},sd=class extends Za{};async function Dg(n,t,e){to.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,t);let r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),to.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){to.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,i.name);try{return await e()}finally{to.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,i.name)}}else{if(t===0)throw to.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new sd(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(to.debug)try{let o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await e()}}))}DC();var jO={url:aC,storageKey:lC,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:cC,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Ya=30*1e3,IC=3;async function TC(n,t,e){return await e()}var Ig=(()=>{class n{constructor(e){var r,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=n.nextInstanceID,n.nextInstanceID+=1,this.instanceID>0&&Pn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let o=Object.assign(Object.assign({},jO),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new hs({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=rd(o.fetch),this.lock=o.lock||TC,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Pn()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=Dg:this.lock=TC,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:oi()?this.storage=SC:(this.memoryStorage={},this.storage=Sg(this.memoryStorage)):(this.memoryStorage={},this.storage=Sg(this.memoryStorage)),Pn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${nd}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r=fC(window.location.href),i="none";if(this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce"),Pn()&&this.detectSessionInUrl&&i!=="none"){let{data:o,error:s}=await this._getSessionFromURL(r,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),_C(s)){let u=(e=s.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}let{session:a,redirectType:l}=o;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return J(r)?{error:r}:{error:new us("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,i,o;try{let s=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Tr}),{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};let u=a.session,h=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:h,session:u},error:null}}catch(s){if(J(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var r,i,o;try{let s;if("email"in e){let{email:p,password:v,options:g}=e,b=null,w=null;this.flowType==="pkce"&&([b,w]=await Yi(this.storage,this.storageKey)),s=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g?.emailRedirectTo,body:{email:p,password:v,data:(r=g?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:b,code_challenge_method:w},xform:Tr})}else if("phone"in e){let{phone:p,password:v,options:g}=e;s=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:v,data:(i=g?.data)!==null&&i!==void 0?i:{},channel:(o=g?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:Tr})}else throw new Ji("You must provide either an email or phone number and a password");let{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};let u=a.session,h=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:h,session:u},error:null}}catch(s){if(J(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let r;if("email"in e){let{email:s,password:a,options:l}=e;r=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Cg})}else if("phone"in e){let{phone:s,password:a,options:l}=e;r=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Cg})}else throw new Ji("You must provide either an email or phone number and a password");let{data:i,error:o}=r;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new ds}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(J(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,i,o,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){let r=await qa(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{let{data:s,error:a}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Tr});if(await Ga(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new ds}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})}catch(s){if(J(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{let{options:r,provider:i,token:o,access_token:s,nonce:a}=e,l=await ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Tr}),{data:u,error:h}=l;return h?{data:{user:null,session:null},error:h}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new ds}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:h})}catch(r){if(J(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,i,o,s,a;try{if("email"in e){let{email:l,options:u}=e,h=null,p=null;this.flowType==="pkce"&&([h,p]=await Yi(this.storage,this.storageKey));let{error:v}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=u?.data)!==null&&r!==void 0?r:{},create_user:(i=u?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:h,code_challenge_method:p},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in e){let{phone:l,options:u}=e,{data:h,error:p}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(o=u?.data)!==null&&o!==void 0?o:{},create_user:(s=u?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(a=u?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:h?.message_id},error:p}}throw new Ji("You must provide either an email or phone number.")}catch(l){if(J(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,i;try{let o,s;"options"in e&&(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(i=e.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:l}=await ce(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:Tr});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");let u=a.session,h=a.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:h,session:u},error:null}}catch(o){if(J(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var r,i,o;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await Yi(this.storage,this.storageKey)),await ce(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:wC})}catch(s){if(J(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{let{data:{session:r},error:i}=e;if(i)throw i;if(!r)throw new vn;let{error:o}=await ce(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(J(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{let r=`${this.url}/resend`;if("email"in e){let{email:i,type:o,options:s}=e,{error:a}=await ce(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){let{phone:i,type:o,options:s}=e,{data:a,error:l}=await ce(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:l}}throw new Ji("You must provide either an email or phone number and a type")}catch(r){if(J(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){let o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{let r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null,r=await qa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};let i=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.storage.isServer){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(u,h,p)=>(!a&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,h,p))})}return{data:{session:e},error:null}}let{session:o,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Wn}):await this._useSession(async r=>{var i,o,s;let{data:a,error:l}=r;if(l)throw l;return!(!((i=a.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new vn}:await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:Wn})})}catch(r){if(J(r))return yC(r)&&(await this._removeSession(),await Ga(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async i=>{let{data:o,error:s}=i;if(s)throw s;if(!o.session)throw new vn;let a=o.session,l=null,u=null;this.flowType==="pkce"&&e.email!=null&&([l,u]=await Yi(this.storage,this.storageKey));let{data:h,error:p}=await ce(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:u}),jwt:a.access_token,xform:Wn});if(p)throw p;return a.user=h.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(i){if(J(i))return{data:{user:null},error:i};throw i}}_decodeJWT(e){return Eg(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new vn;let r=Date.now()/1e3,i=r,o=!0,s=null,a=Eg(e.access_token);if(a.exp&&(i=a.exp,o=i<=r),o){let{session:l,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!l)return{data:{user:null,session:null},error:null};s=l}else{let{data:l,error:u}=await this._getUser(e.access_token);if(u)throw u;s={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(J(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var i;if(!e){let{data:a,error:l}=r;if(l)throw l;e=(i=a.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new vn;let{session:o,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(J(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Pn())throw new Xi("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Xi(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Qa("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Xi("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Qa("No code detected.");let{data:P,error:B}=await this._exchangeCodeForSession(e.code);if(B)throw B;let W=new URL(window.location.href);return W.searchParams.delete("code"),window.history.replaceState(window.history.state,"",W.toString()),{data:{session:P.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:l,expires_at:u,token_type:h}=e;if(!s||!l||!a||!h)throw new Xi("No session defined in URL");let p=Math.round(Date.now()/1e3),v=parseInt(l),g=p+v;u&&(g=parseInt(u));let b=g-p;b*1e3<=Ya&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${v}s`);let w=g-v;p-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,g,p):p-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,g,p);let{data:C,error:k}=await this._getUser(s);if(k)throw k;let F={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:v,expires_at:g,refresh_token:a,token_type:h,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:F,redirectType:e.type},error:null}}catch(i){if(J(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){let r=await qa(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var i;let{data:o,error:s}=r;if(s)return{error:s};let a=(i=o.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:l}=await this.admin.signOut(a,e);if(l&&!(vC(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Ga(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){let r=dC(),i={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async r=>{var i,o;try{let{data:{session:s},error:a}=r;if(a)throw a;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await Yi(this.storage,this.storageKey,!0));try{return await ce(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(J(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{let{data:r,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{let{data:i,error:o}=await this._useSession(async s=>{var a,l,u,h,p;let{data:v,error:g}=s;if(g)throw g;let b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await ce(this.fetch,"GET",b,{headers:this.headers,jwt:(p=(h=v.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:void 0})});if(o)throw o;return Pn()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:e.provider,url:i?.url},error:null}}catch(i){if(J(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var i,o;let{data:s,error:a}=r;if(a)throw a;return await ce(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(J(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){let r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return await mC(async o=>(o>0&&await pC(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await ce(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Tr})),(o,s)=>{let a=200*Math.pow(2,o);return s&&od(s)&&Date.now()+a-i<Ya})}catch(i){if(this._debug(r,"error",i),J(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){let i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",i),Pn()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e;let r="#_recoverAndRefresh()";this._debug(r,"begin");try{let i=await qa(this.storage,this.storageKey);if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}let o=Math.round(Date.now()/1e3),s=((e=i.expires_at)!==null&&e!==void 0?e:1/0)<o+_g;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${_g}s`),s){if(this.autoRefreshToken&&i.refresh_token){let{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),od(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,i;if(!e)throw new vn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new za;let{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new vn;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(o,"error",s),J(s)){let a={session:null,error:s};return od(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,r,i=!0){let o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(u){s.push(u)}});if(await Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await wg(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Ga(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Pn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let e=setInterval(()=>this._autoRefreshTokenTick(),Ya);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let e=Date.now();try{return await this._useSession(async r=>{let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-e)/Ya);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Ya}ms, refresh threshold is ${IC} ticks`),o<=IC&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Za)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Pn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){let r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,i){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[s,a]=await Yi(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});o.push(l.toString())}if(i?.queryParams){let s=new URLSearchParams(i.queryParams);o.push(s.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var i;let{data:o,error:s}=r;return s?{data:null,error:s}:await ce(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(J(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var i,o;let{data:s,error:a}=r;if(a)return{data:null,error:a};let l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:u,error:h}=await ce(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return h?{data:null,error:h}:(e.factorType==="totp"&&(!((o=u?.totp)===null||o===void 0)&&o.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(r){if(J(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;let{data:o,error:s}=r;if(s)return{data:null,error:s};let{data:a,error:l}=await ce(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(r){if(J(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;let{data:o,error:s}=r;return s?{data:null,error:s}:await ce(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(J(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){let{data:r,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){let{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};let i=e?.factors||[],o=i.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=i.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:i,totp:o,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,i;let{data:{session:o},error:s}=e;if(s)return{data:null,error:s};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let a=this._decodeJWT(o.access_token),l=null;a.aal&&(l=a.aal);let u=l;((i=(r=o.user.factors)===null||r===void 0?void 0:r.filter(v=>v.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(u="aal2");let p=a.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:p},error:null}}))}}return n.nextInstanceID=0,n})();var UO=Ig,Tg=UO;var ad=class extends Tg{constructor(t){super(t)}};var BO=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(h){try{u(r.next(h))}catch(p){s(p)}}function l(h){try{u(r.throw(h))}catch(p){s(p)}}function u(h){h.done?o(h.value):i(h.value).then(a,l)}u((r=r.apply(n,t||[])).next())})},ld=class{constructor(t,e,r){var i,o,s;if(this.supabaseUrl=t,this.supabaseKey=e,!t)throw new Error("supabaseUrl is required.");if(!e)throw new Error("supabaseKey is required.");let a=oC(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;let l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:tC,realtime:rC,auth:Object.assign(Object.assign({},nC),{storageKey:l}),global:eC},h=sC(r??{},u);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(p,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=h.auth)!==null&&s!==void 0?s:{},this.headers,h.global.fetch),this.fetch=iC(e,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new BE(`${a}/rest/v1`,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new Aa(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Ba(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,e;return BO(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(e=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:i,storageKey:o,flowType:s,lock:a,debug:l},u,h){let p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ad({url:this.authUrl,headers:Object.assign(Object.assign({},p),u),storageKey:o,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:i,flowType:s,lock:a,debug:l,fetch:h,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new ja(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,r)=>{this._handleTokenChanged(e,"CLIENT",r?.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var xC=(n,t,e)=>new ld(n,t,e);var Ag=(n,t)=>t.some(e=>n instanceof e),MC,AC;function $O(){return MC||(MC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HO(){return AC||(AC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var kg=new WeakMap,xg=new WeakMap,cd=new WeakMap;function zO(n){let t=new Promise((e,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{e(no(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return cd.set(t,n),t}function qO(n){if(kg.has(n))return;let t=new Promise((e,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{e(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});kg.set(n,t)}var Ng={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return kg.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return no(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function OC(n){Ng=n(Ng)}function GO(n){return HO().includes(n)?function(...t){return n.apply(Rg(this),t),no(this.request)}:function(...t){return no(n.apply(Rg(this),t))}}function WO(n){return typeof n=="function"?GO(n):(n instanceof IDBTransaction&&qO(n),Ag(n,$O())?new Proxy(n,Ng):n)}function no(n){if(n instanceof IDBRequest)return zO(n);if(xg.has(n))return xg.get(n);let t=WO(n);return t!==n&&(xg.set(n,t),cd.set(t,n)),t}var Rg=n=>cd.get(n);function Pg(n,t,{blocked:e,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,t),a=no(s);return r&&s.addEventListener("upgradeneeded",l=>{r(no(s.result),l.oldVersion,l.newVersion,no(s.transaction),l)}),e&&s.addEventListener("blocked",l=>e(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var QO=["get","getKey","getAll","getAllKeys","count"],KO=["put","add","delete","clear"],Mg=new Map;function kC(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Mg.get(t))return Mg.get(t);let e=t.replace(/FromIndex$/,""),r=t!==e,i=KO.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(i||QO.includes(e)))return;let o=async function(s,...a){let l=this.transaction(s,i?"readwrite":"readonly"),u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[e](...a),i&&l.done]))[0]};return Mg.set(t,o),o}OC(n=>z(N({},n),{get:(t,e,r)=>kC(t,e)||n.get(t,e,r),has:(t,e)=>!!kC(t,e)||n.has(t,e)}));var ZO=["continue","continuePrimaryKey","advance"],NC={},Og=new WeakMap,PC=new WeakMap,YO={get(n,t){if(!ZO.includes(t))return n[t];let e=NC[t];return e||(e=NC[t]=function(...r){Og.set(this,PC.get(this)[t](...r))}),e}};async function*JO(...n){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...n)),!t)return;t=t;let e=new Proxy(t,YO);for(PC.set(e,t),cd.set(e,Rg(t));t;)yield e,t=await(Og.get(e)||t.continue()),Og.delete(e)}function RC(n,t){return t===Symbol.asyncIterator&&Ag(n,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&Ag(n,[IDBIndex,IDBObjectStore])}OC(n=>z(N({},n),{get(t,e,r){return RC(t,e)?JO:n.get(t,e,r)},has(t,e){return RC(t,e)||n.has(t,e)}}));var ud={API_URL:"https://jsgltiaidlacvchyjjha.supabase.co",anon_key:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpzZ2x0aWFpZGxhY3ZjaHlqamhhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzk2NjIzNDIsImV4cCI6MjA1NTIzODM0Mn0.bPtRMhXapLzUgPEIf6GoW9r52umh0F1YZhG1bfLyb0s",supabase_LocalStorage_key:"sb-jsgltiaidlacvchyjjha-auth-token"};var de=class n{constructor(t){this.platformId=t;this.supabase=xC(ud.API_URL,ud.anon_key,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),this.initializeAuthState()}supabase;user=Ht(null);currentUsername=Ht(null);loginStatus=Ht(null);ngOnInit(){this.initializeAuthState()}initializeAuthState(){if(!Me(this.platformId))return;let t=this.getStoredSession();t&&this.updateSession(t),this.refreshSessionFromApi(),this.supabase.auth.onAuthStateChange((e,r)=>{this.updateSession(r)})}getStoredSession(){try{let t=localStorage.getItem(ud.supabase_LocalStorage_key);if(!t)return null;let e=JSON.parse(t);if(!e||!e.expires_at)return null;let r=e.expires_at*1e3;return Date.now()>=r?null:e}catch(t){return console.error("Error parsing stored session",t),null}}async refreshSessionFromApi(){try{let{data:t,error:e}=await this.supabase.auth.getSession();if(e)throw e;this.updateSession(t.session)}catch(t){console.error("Failed to refresh session:",t),this.updateSession(null)}}updateSession(t){if(t){this.user.set(t.user);let e=t.user?.identities?.[0]?.identity_data?.firstname||null;this.currentUsername.set(e),this.loginStatus.set(!0)}else this.user.set(null),this.currentUsername.set(null),this.loginStatus.set(!1)}initializeApp(){return new Promise(t=>{if(!Me(this.platformId))return this.loginStatus.set(!1),t(!1);let e=this.getStoredSession();e&&this.updateSession(e),this.supabase.auth.getSession().then(({data:r,error:i})=>{i?(console.error("Failed to get session:",i),this.updateSession(null)):this.updateSession(r.session),this.supabase.auth.onAuthStateChange((o,s)=>{this.updateSession(s)}),t(!0)})})}async signIn(t,e){try{let{error:r}=await this.supabase.auth.signInWithPassword({email:t,password:e});if(r)throw r;return{success:!0}}catch(r){return console.error("Sign in error:",r),{success:!1,error:r}}}async signOut(){try{let{error:t}=await this.supabase.auth.signOut();if(t)throw t;return this.clearStorages(),this.updateSession(null),{success:!0}}catch(t){return console.error("Sign out error:",t),{success:!1,error:t}}}async signUp(t,e,r,i){let{data:o,error:s}=await this.supabase.auth.signUp({email:t,password:e,options:{data:{firstname:r,lastname:i}}});if(s)throw s;setTimeout(()=>{o.user?.id&&this.createUserAccount(t,r,i)},500)}clearStorages(){Me(this.platformId)&&(localStorage.clear(),sessionStorage.clear())}async addTradeLog(t,e){let r=this.user();if(!r)throw new Error("User not authenticated");t.userid=r.id;let{data:i,error:o}=await this.supabase.from(e).insert([t]);if(o)throw console.error("Error inserting trade log: ",o),o;return Me(this.platformId)&&sessionStorage.setItem(`${e}_refresh`,"yes"),i}async getTradeLogs(t){let e=this.user();if(!e)throw new Error("User not authenticated");let r=!1,i=null;if(Me(this.platformId)){r=sessionStorage.getItem(`${t}_refresh`)==="yes";let a=sessionStorage.getItem(t);if(a)try{i=JSON.parse(a)}catch(l){console.error("Error parsing cached trade logs:",l),i=null}}if(!r&&i)return i;let{data:o,error:s}=await this.supabase.from(t).select("*").eq("userid",e.id);if(s)throw console.error("Error fetching trade logs:",s),s;return Me(this.platformId)&&(sessionStorage.setItem(t,JSON.stringify(o)),sessionStorage.removeItem(`${t}_refresh`)),o}async getTradeLogsOfSelectedAccount(t,e){let r=this.user();if(!r)throw new Error("User not authenticated");let i=`${t}_${e}`,o=`${i}_refresh`,s=!1,a=null;if(Me(this.platformId)){s=sessionStorage.getItem(o)==="yes";let h=sessionStorage.getItem(i);if(h)try{a=JSON.parse(h)}catch(p){console.error("Error parsing cached trade logs:",p),a=null}}if(!s&&a)return a;let{data:l,error:u}=await this.supabase.from(t).select("*").eq("userid",r.id).eq("trade_account_id",e);if(u)throw console.error("Error fetching trade logs:",u),u;return Me(this.platformId)&&(sessionStorage.setItem(i,JSON.stringify(l)),sessionStorage.removeItem(o)),l}async addTradeLogOfSelectedAccount(t,e,r){let i=this.user();if(!i)throw new Error("User not authenticated");t.userid=i.id;let{data:o,error:s}=await this.supabase.from(e).insert([t]);if(s)throw console.error("Error inserting trade log: ",s),s;return Me(this.platformId)&&sessionStorage.setItem(`${e}_${r}_refresh`,"yes"),o}async updateTradeLogOfSelectedAccount(t,e,r){if(!this.user())throw new Error("User not authenticated");let{data:o,error:s}=await this.supabase.from(e).update(t).eq("tradeid",t.tradeid);if(s)throw console.error("Error updating trade log: ",s),s;return Me(this.platformId)&&sessionStorage.setItem(`${e}_${r}_refresh`,"yes"),o}async deleteTradeLogOfSelectedAccount(t,e,r){if(!this.user())throw new Error("User not authenticated");let{data:o,error:s}=await this.supabase.from(e).delete().eq("tradeid",t);if(s)throw console.error("Error deleting trade log: ",s),s;return Me(this.platformId)&&sessionStorage.setItem(`${e}_${r}_refresh`,"yes"),o}async updateTradeLog(t,e){if(!this.user())throw new Error("User not authenticated");let{data:i,error:o}=await this.supabase.from(e).update(t).eq("tradeid",t.tradeid);if(o)throw console.error("Error updating trade log: ",o),o;return Me(this.platformId)&&sessionStorage.setItem(`${e}_refresh`,"yes"),i}async deleteTradeLog(t,e){if(!this.user())throw new Error("User not authenticated");let{data:i,error:o}=await this.supabase.from(e).delete().eq("tradeid",t);if(o)throw console.error("Error deleting trade log: ",o),o;return Me(this.platformId)&&sessionStorage.setItem(`${e}_refresh`,"yes"),i}async loadQuestions(){let{data:t,error:e}=await this.supabase.from("activequestions").select("*");if(e)throw console.error("Error loading questions: ",e),e;return t}async adminLoadQuestions(){let{data:t,error:e}=await this.supabase.from("adminquestions").select("*");if(e)throw console.error("Error loading questions: ",e),e;return t}async adminSaveQuestions(t){let e=null;for(let r of t.filter(i=>i.isModified))if(r.question_id){let{data:i,error:o}=await this.supabase.from("adminquestions").update({question_data:r.question_data,active:r.active}).eq("question_id",r.question_id).select().single();if(o){console.error("Error updating question:",o),e=o;break}else r.updated_at=i.updated_at,r.isModified=!1}else{let{data:i,error:o}=await this.supabase.from("adminquestions").insert([{question_data:r.question_data,active:r.active}]).select().single();if(o){console.error("Error inserting question:",o),e=o;break}else r.question_id=i.question_id,r.created_at=i.created_at,r.updated_at=i.updated_at,r.isModified=!1}return{error:e}}async deleteQuestion(t){let{error:e}=await this.supabase.from("adminquestions").delete().eq("question_id",t.question_id);return{error:e}}async getActiveQuestions(){let{data:t,error:e}=await this.supabase.from("activequestions").select("*");return{data:t,error:e}}async submitUserAnswers(t){let{error:e}=await this.supabase.from("answers").insert(t);return{error:e}}async getUserTradeAccounts(){let t=this.user();if(!t)throw new Error("User not authenticated");let e="tradeaccount",r=!1,i=null;if(Me(this.platformId)){r=sessionStorage.getItem(`${e}_refresh`)==="yes";let a=sessionStorage.getItem(e);if(a)try{i=JSON.parse(a)}catch(l){console.error("Error parsing cached trade accounts:",l),i=null}}if(!r&&i)return i;let{data:o,error:s}=await this.supabase.from(e).select("*").eq("user_id",t.id);if(s)throw console.error("Error fetching trade accounts:",s),s;return Me(this.platformId)&&(sessionStorage.setItem(e,JSON.stringify(o)),sessionStorage.removeItem(`${e}_refresh`)),o||[]}async addTradeAccount(t){let e=this.user();if(!e)throw new Error("User not authenticated");let u=t,{track_pl:r,include_in_analytics:i,trading_instruments:o}=u,s=mo(u,["track_pl","include_in_analytics","trading_instruments"]),a={track_pl:r,include_in_analytics:i,trading_instruments:o},{error:l}=await this.supabase.from("tradeaccount").insert([z(N({},s),{user_id:e.id,metadata:a})]);return l?(console.error("Failed to add trade account:",l),!1):(sessionStorage.setItem("tradeaccount_refresh","yes"),!0)}async editTradeAccount(t,e){let r=this.user();if(!r)throw new Error("User not authenticated");let h=e,{track_pl:i,include_in_analytics:o,trading_instruments:s}=h,a=mo(h,["track_pl","include_in_analytics","trading_instruments"]),l={track_pl:i,include_in_analytics:o,trading_instruments:s},{error:u}=await this.supabase.from("tradeaccount").update(z(N({},a),{metadata:l})).eq("account_id",t).eq("user_id",r.id);return u?(console.error("Failed to update trade account:",u),!1):(sessionStorage.setItem("tradeaccount_refresh","yes"),!0)}async RemoveTradeAccount(t){let e=this.user();if(!e)throw new Error("User not authenticated");let{error:r}=await this.supabase.from("tradejournal").delete().eq("trade_account_id",t).eq("userid",e.id);if(r)return console.error("Failed to delete associated trade logs:",r),!1;let{error:i}=await this.supabase.from("tradeaccount").delete().eq("account_id",t).eq("user_id",e.id);return i?(console.error("Failed to remove trade account:",i),!1):(Me(this.platformId)&&(sessionStorage.setItem("tradeaccount_refresh","yes"),sessionStorage.setItem(`tradejournal_${t}_refresh`,"yes")),!0)}async createUserAccount(t,e,r){let i=this.user();if(!i)throw new Error("User not authenticated");let{error:o}=await this.supabase.from("usersaccount").insert({user_id:i.id,email:t||"",firstname:e||"",lastname:r||""});o&&console.error("Failed to create user account record:",o)}async getProfile(){let t=this.user();if(!t)throw new Error("User not authenticated");return this.supabase.from("usersaccount").select("*").eq("user_id",t.id).single()}async updateProfile(t){let e=this.user();if(!e)throw new Error("User not authenticated");return this.supabase.from("usersaccount").update(t).eq("user_id",e.id)}async uploadProfilePicture(t){let e=this.user();if(!e)throw new Error("User not authenticated");let r=t.name.split(".").pop(),i=`${e.id}/profile.${r}`,{error:o}=await this.supabase.storage.from("user-profile-pictures").upload(i,t,{upsert:!0});return o?null:i}async cacheProfilePictureBlob(t,e){await(await Pg("profile-cache",1,{upgrade(i){i.createObjectStore("pictures")}})).put("pictures",e,t)}async getCachedProfilePictureBlobUrl(t){if(!t)return null;let e=await Pg("profile-cache",1,{upgrade(a){a.createObjectStore("pictures")}}),r=await e.get("pictures",t);if(r)return URL.createObjectURL(r);let i=await this.getPublicUrl(t);if(!i)return null;let o=await fetch(i);if(!o.ok)return null;let s=await o.blob();return await e.put("pictures",s,t),URL.createObjectURL(s)}clearCachedProfilePictureBlobUrl(){if(Me(this.platformId)){let t=sessionStorage.getItem("profile_picture_blob_url");t&&(URL.revokeObjectURL(t),sessionStorage.removeItem("profile_picture_blob_url"))}}async deleteProfilePicture(){let{data:{user:t}}=await this.supabase.auth.getUser();if(!t)return;let e=`profile-pictures/${t.id}`;await this.supabase.storage.from("user-profile-pictures").remove([e])}async getPublicUrl(t){let{data:e}=await this.supabase.storage.from("user-profile-pictures").createSignedUrl(t,60);return e?.signedUrl??null}async adminLoadMeditationVideos(){let{data:t,error:e}=await this.supabase.from("adminmeditationvideos").select("*").order("created_at",{ascending:!1});if(e)throw console.error("Error loading meditation videos: ",e),e;return t}async loadActiveMeditationVideos(){let{data:t,error:e}=await this.supabase.from("activemeditationvideos").select("*").order("created_at",{ascending:!1});if(e)throw console.error("Error loading meditation videos: ",e),e;return t}async addMeditationVideo(t){let{error:e}=await this.supabase.from("adminmeditationvideos").insert([{title:t.title,url:t.url,category:t.category,description:t.description,isactive:t.isactive}]);return e&&console.error("Error adding meditation video: ",e),{error:e}}async updateMeditationVideo(t){let{error:e}=await this.supabase.from("adminmeditationvideos").update({title:t.title,url:t.url,category:t.category,description:t.description,isactive:t.isactive,updated_time:t.updated_time}).eq("id",t.id);return e&&console.error("Error updating meditation video: ",e),{error:e}}supaScream(){return"SupaScream"}static \u0275fac=function(e){return new(e||n)(V(kt))};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})};function XO(n,t){if(n&1&&(d(0,"div",11)(1,"div",12)(2,"div",8)(3,"h5",13),f(4),c(),d(5,"p",14),f(6),c(),d(7,"a",15),f(8),c()()()()),n&2){let e=t.$implicit;m(4),K(e.title),m(2),K(e.description),m(),y("routerLink",e.link),m(),K(e.buttonText)}}var dd=class n{constructor(t){this.supabaseService=t;this.userFirstName=this.supabaseService.currentUsername()}userFirstName;steps=[{title:"Step 1: Daily Emotional Check-in",description:"Understand your emotional state before making trading decisions.",buttonText:"Begin Emotional Check-in",link:"/emotions"},{title:"Step 2: Plan Your Trades",description:"Document your trading plan before executing any trades.",buttonText:"Plan your trade",link:"/tradejournal"},{title:"Step 3: Update your Trades",description:"Record results and analyze your trading performance.",buttonText:"Execute your trades",link:"/tradejournal"},{title:"Step 4: Reflection & Meditation",description:"Clear your mind with mindfulness practices.",buttonText:"Start Reflection",link:"/reflection"}];static \u0275fac=function(e){return new(e||n)(T(de))};static \u0275cmp=ee({type:n,selectors:[["app-landing-page"]],decls:22,vars:1,consts:[[1,"container","mt-4"],[1,"mb-4"],[1,""],[1,"mt-3"],["class","col-12 mt-3",4,"ngFor","ngForOf"],[1,"row","mb-5"],[1,"col-12"],[1,"card","h-100","bg-transparent"],[1,"card-body"],[1,"card-title"],["routerLink","/meditationhub",1,"btn","btn-secondary","btn-tr"],[1,"col-12","mt-3"],[1,"card","h-100","bg-transparent","mt-3"],[1,"card-title","mt-3"],[1,"card-text","mt-3"],[1,"btn","btn-primary","btn-tr","mt-3",3,"routerLink"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"h2",1),f(2,"Begin Your Trading Transformation"),c(),d(3,"h3",1),f(4,"Your Daily Trading Routine"),c(),d(5,"p",2),f(6," Welcome to your personalized trading journey. Each day follows a structured approach designed to build discipline and improve your trading performance. "),c(),d(7,"div",3),S(8,XO,9,4,"div",4),c(),_(9,"hr"),d(10,"h2",1),f(11,"Additional Resources"),c(),d(12,"div",5)(13,"div",6)(14,"div",7)(15,"div",8)(16,"h5",9),f(17,"Meditation Hub"),c(),d(18,"p"),f(19,"Clear your mind and reduce emotional reactivity with guided meditations."),c(),d(20,"a",10),f(21,"Visit Meditation Hub"),c()()()()()()),e&2&&(m(8),y("ngForOf",r.steps))},dependencies:[qe,fe,Le],styles:[".card[_ngcontent-%COMP%]{border:none;border-radius:8px}.card-body[_ngcontent-%COMP%]{padding-left:0}.card-body[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:600;margin-bottom:.75rem}.card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1rem}.btn-custom[_ngcontent-%COMP%]{border-radius:20px;font-weight:600}@media (max-width: 576px){.card-body[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.1rem}.card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.btn-custom[_ngcontent-%COMP%]{padding:.5rem 1rem}}"]})};var lt=class n{constructor(t,e,r){this.supabaseService=t;this.router=e;this.injector=r}canActivate(t,e){let r=this.supabaseService.loginStatus();return new Promise(i=>{it(this.injector,()=>{Jr(()=>{this.supabaseService.loginStatus()&&i(!0)})}),setTimeout(()=>{this.supabaseService.loginStatus()||i(this.router.createUrlTree([""],{queryParams:{returnUrl:e.url}}))},100)})}static \u0275fac=function(e){return new(e||n)(V(de),V(Zt),V(Ve))};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})};var fd=class n{constructor(t,e,r){this.supabaseService=t;this.router=e;this.injector=r}canActivate(t,e){let r=this.supabaseService.loginStatus();return r?!1:r?new Promise(i=>{it(this.injector,()=>{Jr(()=>{this.supabaseService.loginStatus()||i(!0)})}),setTimeout(()=>{this.supabaseService.loginStatus()&&i(this.router.createUrlTree(["/home"]))},100)}):!0}static \u0275fac=function(e){return new(e||n)(V(de),V(Zt),V(Ve))};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})};var qC=(()=>{class n{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,r){this._renderer=e,this._elementRef=r}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(r){return new(r||n)(T(An),T(Ye))};static \u0275dir=ge({type:n})}return n})(),vs=(()=>{class n extends qC{static \u0275fac=(()=>{let e;return function(i){return(e||(e=ln(n)))(i||n)}})();static \u0275dir=ge({type:n,features:[Xe]})}return n})(),ci=new L(""),eP={provide:ci,useExisting:ft(()=>xr),multi:!0},xr=(()=>{class n extends vs{writeValue(e){this.setProperty("checked",e)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=ln(n)))(i||n)}})();static \u0275dir=ge({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&D("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[pt([eP]),Xe]})}return n})(),tP={provide:ci,useExisting:ft(()=>We),multi:!0};function nP(){let n=wr()?wr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var rP=new L(""),We=(()=>{class n extends qC{_compositionMode;_composing=!1;constructor(e,r,i){super(e,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!nP())}writeValue(e){let r=e??"";this.setProperty("value",r)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(r){return new(r||n)(T(An),T(Ye),T(rP,8))};static \u0275dir=ge({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&D("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[pt([tP]),Xe]})}return n})();function si(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function GC(n){return n!=null&&typeof n.length=="number"}var ro=new L(""),rl=new L(""),iP=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,O=class{static min(t){return WC(t)}static max(t){return QC(t)}static required(t){return oP(t)}static requiredTrue(t){return sP(t)}static email(t){return aP(t)}static minLength(t){return lP(t)}static maxLength(t){return cP(t)}static pattern(t){return uP(t)}static nullValidator(t){return pd(t)}static compose(t){return eS(t)}static composeAsync(t){return nS(t)}};function WC(n){return t=>{if(si(t.value)||si(n))return null;let e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function QC(n){return t=>{if(si(t.value)||si(n))return null;let e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function oP(n){return si(n.value)?{required:!0}:null}function sP(n){return n.value===!0?null:{required:!0}}function aP(n){return si(n.value)||iP.test(n.value)?null:{email:!0}}function lP(n){return t=>si(t.value)||!GC(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}function cP(n){return t=>GC(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}function uP(n){if(!n)return pd;let t,e;return typeof n=="string"?(e="",n.charAt(0)!=="^"&&(e+="^"),e+=n,n.charAt(n.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),r=>{if(si(r.value))return null;let i=r.value;return t.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}function pd(n){return null}function KC(n){return n!=null}function ZC(n){return Vi(n)?Re(n):n}function YC(n){let t={};return n.forEach(e=>{t=e!=null?N(N({},t),e):t}),Object.keys(t).length===0?null:t}function JC(n,t){return t.map(e=>e(n))}function dP(n){return!n.validate}function XC(n){return n.map(t=>dP(t)?t:e=>t.validate(e))}function eS(n){if(!n)return null;let t=n.filter(KC);return t.length==0?null:function(e){return YC(JC(e,t))}}function tS(n){return n!=null?eS(XC(n)):null}function nS(n){if(!n)return null;let t=n.filter(KC);return t.length==0?null:function(e){let r=JC(e,t).map(ZC);return As(r).pipe(G(YC))}}function rS(n){return n!=null?nS(XC(n)):null}function FC(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function iS(n){return n._rawValidators}function oS(n){return n._rawAsyncValidators}function Fg(n){return n?Array.isArray(n)?n:[n]:[]}function md(n,t){return Array.isArray(n)?n.includes(t):n===t}function LC(n,t){let e=Fg(t);return Fg(n).forEach(i=>{md(e,i)||e.push(i)}),e}function VC(n,t){return Fg(t).filter(e=>!md(n,e))}var gd=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=tS(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=rS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},Jt=class extends gd{name;get formDirective(){return null}get path(){return null}},ai=class extends gd{_parent=null;name=null;valueAccessor=null},vd=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},fP={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Fq=z(N({},fP),{"[class.ng-submitted]":"isSubmitted"}),nt=(()=>{class n extends vd{constructor(e){super(e)}static \u0275fac=function(r){return new(r||n)(T(ai,2))};static \u0275dir=ge({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&zt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Xe]})}return n})(),yn=(()=>{class n extends vd{constructor(e){super(e)}static \u0275fac=function(r){return new(r||n)(T(Jt,10))};static \u0275dir=ge({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&zt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Xe]})}return n})();var Ja="VALID",hd="INVALID",ps="PENDING",Xa="DISABLED",li=class{},yd=class extends li{value;source;constructor(t,e){super(),this.value=t,this.source=e}},el=class extends li{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},tl=class extends li{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},ms=class extends li{status;source;constructor(t,e){super(),this.status=t,this.source=e}},Lg=class extends li{source;constructor(t){super(),this.source=t}},Vg=class extends li{source;constructor(t){super(),this.source=t}};function $g(n){return(Ed(n)?n.validators:n)||null}function hP(n){return Array.isArray(n)?tS(n):n||null}function Hg(n,t){return(Ed(t)?t.asyncValidators:n)||null}function pP(n){return Array.isArray(n)?rS(n):n||null}function Ed(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function sS(n,t,e){let r=n.controls;if(!(t?Object.keys(r):r).length)throw new A(1e3,"");if(!r[e])throw new A(1001,"")}function aS(n,t,e){n._forEachChild((r,i)=>{if(e[i]===void 0)throw new A(1002,"")})}var gs=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return _r(this.statusReactive)}set status(t){_r(()=>this.statusReactive.set(t))}_status=Bi(()=>this.statusReactive());statusReactive=Ht(void 0);get valid(){return this.status===Ja}get invalid(){return this.status===hd}get pending(){return this.status==ps}get disabled(){return this.status===Xa}get enabled(){return this.status!==Xa}errors;get pristine(){return _r(this.pristineReactive)}set pristine(t){_r(()=>this.pristineReactive.set(t))}_pristine=Bi(()=>this.pristineReactive());pristineReactive=Ht(!0);get dirty(){return!this.pristine}get touched(){return _r(this.touchedReactive)}set touched(t){_r(()=>this.touchedReactive.set(t))}_touched=Bi(()=>this.touchedReactive());touchedReactive=Ht(!1);get untouched(){return!this.touched}_events=new xe;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(LC(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(LC(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(VC(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(VC(t,this._rawAsyncValidators))}hasValidator(t){return md(this._rawValidators,t)}hasAsyncValidator(t){return md(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(z(N({},t),{sourceControl:r})),e&&t.emitEvent!==!1&&this._events.next(new tl(!0,r))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),e&&t.emitEvent!==!1&&this._events.next(new tl(!1,r))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(z(N({},t),{sourceControl:r})),e&&t.emitEvent!==!1&&this._events.next(new el(!1,r))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),e&&t.emitEvent!==!1&&this._events.next(new el(!0,r))}markAsPending(t={}){this.status=ps;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new ms(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(z(N({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Xa,this.errors=null,this._forEachChild(i=>{i.disable(z(N({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new yd(this.value,r)),this._events.next(new ms(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(z(N({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Ja,this._forEachChild(r=>{r.enable(z(N({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(z(N({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ja||this.status===ps)&&this._runAsyncValidator(r,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new yd(this.value,e)),this._events.next(new ms(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(z(N({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Xa:Ja}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=ps,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let r=ZC(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(t,e){let r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new ms(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,r)}_initObservables(){this.valueChanges=new ve,this.statusChanges=new ve}_calculateStatus(){return this._allControlsDisabled()?Xa:this.errors?hd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ps)?ps:this._anyControlsHaveStatus(hd)?hd:Ja}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),i&&this._events.next(new el(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new tl(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Ed(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=hP(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=pP(this._rawAsyncValidators)}},_d=class extends gs{constructor(t,e,r){super($g(e),Hg(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){aS(this,!0,t),Object.keys(t).forEach(r=>{sS(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(r=>{let i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>r._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,r]of Object.entries(this.controls))if(this.contains(e)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(t,e){let r=t;return this._forEachChild((i,o)=>{r=e(r,i,o)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var jg=class extends _d{};var il=new L("",{providedIn:"root",factory:()=>ol}),ol="always";function Cd(n,t){return[...t.path,n]}function Ug(n,t,e=ol){zg(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),gP(n,t),yP(n,t),vP(n,t),mP(n,t)}function jC(n,t,e=!0){let r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),wd(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function bd(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function mP(n,t){if(t.valueAccessor.setDisabledState){let e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function zg(n,t){let e=iS(n);t.validator!==null?n.setValidators(FC(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let r=oS(n);t.asyncValidator!==null?n.setAsyncValidators(FC(r,t.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();bd(t._rawValidators,i),bd(t._rawAsyncValidators,i)}function wd(n,t){let e=!1;if(n!==null){if(t.validator!==null){let i=iS(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==t.validator);o.length!==i.length&&(e=!0,n.setValidators(o))}}if(t.asyncValidator!==null){let i=oS(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==t.asyncValidator);o.length!==i.length&&(e=!0,n.setAsyncValidators(o))}}}let r=()=>{};return bd(t._rawValidators,r),bd(t._rawAsyncValidators,r),e}function gP(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&lS(n,t)})}function vP(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&lS(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function lS(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function yP(n,t){let e=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function _P(n,t){n==null,zg(n,t)}function bP(n,t){return wd(n,t)}function cS(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function wP(n){return Object.getPrototypeOf(n.constructor)===vs}function EP(n,t){n._syncPendingControls(),t.forEach(e=>{let r=e.control;r.updateOn==="submit"&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function uS(n,t){if(!t)return null;Array.isArray(t);let e,r,i;return t.forEach(o=>{o.constructor===We?e=o:wP(o)?r=o:i=o}),i||r||e||null}function CP(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function UC(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function BC(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var nl=class extends gs{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,r){super($g(e),Hg(r,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ed(e)&&(e.nonNullable||e.initialValueIsDefault)&&(BC(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){UC(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){UC(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){BC(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var SP=n=>n instanceof nl,DP=(()=>{class n extends Jt{_parent;ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Cd(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static \u0275fac=(()=>{let e;return function(i){return(e||(e=ln(n)))(i||n)}})();static \u0275dir=ge({type:n,standalone:!1,features:[Xe]})}return n})();var IP={provide:ai,useExisting:ft(()=>io)},$C=Promise.resolve(),io=(()=>{class n extends ai{_changeDetectorRef;callSetDisabledState;control=new nl;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new ve;constructor(e,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=uS(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),cS(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Ug(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){$C.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let r=e.isDisabled.currentValue,i=r!==0&&kn(r);$C.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?Cd(e,this._parent):[e]}static \u0275fac=function(r){return new(r||n)(T(Jt,9),T(ro,10),T(rl,10),T(ci,10),T(le,8),T(il,8))};static \u0275dir=ge({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[pt([IP]),Xe,an]})}return n})(),_n=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=ge({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),TP={provide:ci,useExisting:ft(()=>Mr),multi:!0},Mr=(()=>{class n extends vs{writeValue(e){let r=e??"";this.setProperty("value",r)}registerOnChange(e){this.onChange=r=>{e(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=ln(n)))(i||n)}})();static \u0275dir=ge({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&D("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[pt([TP]),Xe]})}return n})(),xP={provide:ci,useExisting:ft(()=>Ar),multi:!0};var MP=(()=>{class n{_accessors=[];add(e,r){this._accessors.push([e,r])}remove(e){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===e){this._accessors.splice(r,1);return}}select(e){this._accessors.forEach(r=>{this._isSameGroup(r,e)&&r[1]!==e&&r[1].fireUncheck(e.value)})}_isSameGroup(e,r){return e[0].control?e[0]._parent===r._control._parent&&e[1].name===r.name:!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ar=(()=>{class n extends vs{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=I(il,{optional:!0})??ol;constructor(e,r,i,o){super(e,r),this._registry=i,this._injector=o}ngOnInit(){this._control=this._injector.get(ai),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}setDisabledState(e){(this.setDisabledStateFired||e||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",e),this.setDisabledStateFired=!0}fireUncheck(e){this.writeValue(e)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(r){return new(r||n)(T(An),T(Ye),T(MP),T(Ve))};static \u0275dir=ge({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,i){r&1&&D("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[pt([xP]),Xe]})}return n})();var dS=new L("");var AP={provide:Jt,useExisting:ft(()=>Pt)},Pt=(()=>{class n extends Jt{callSetDisabledState;get submitted(){return _r(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=Bi(()=>this._submittedReactive());_submittedReactive=Ht(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new ve;constructor(e,r,i){super(),this.callSetDisabledState=i,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(wd(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let r=this.form.get(e.path);return Ug(r,e,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){jC(e.control||null,e,!1),CP(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this._submittedReactive.set(!0),EP(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new Lg(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new Vg(this.form))}_updateDomValue(){this.directives.forEach(e=>{let r=e.control,i=this.form.get(e.path);r!==i&&(jC(r||null,e),SP(i)&&(Ug(i,e,this.callSetDisabledState),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let r=this.form.get(e.path);_P(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let r=this.form.get(e.path);r&&bP(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){zg(this.form,this),this._oldForm&&wd(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(r){return new(r||n)(T(ro,10),T(rl,10),T(il,8))};static \u0275dir=ge({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&D("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[pt([AP]),Xe,an]})}return n})(),kP={provide:Jt,useExisting:ft(()=>Sd)},Sd=(()=>{class n extends DP{name=null;constructor(e,r,i){super(),this._parent=e,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){fS(this._parent)}static \u0275fac=function(r){return new(r||n)(T(Jt,13),T(ro,10),T(rl,10))};static \u0275dir=ge({type:n,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},standalone:!1,features:[pt([kP]),Xe]})}return n})(),NP={provide:Jt,useExisting:ft(()=>Dd)},Dd=(()=>{class n extends Jt{_parent;name=null;constructor(e,r,i){super(),this._parent=e,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Cd(this.name==null?this.name:this.name.toString(),this._parent)}_checkParentType(){fS(this._parent)}static \u0275fac=function(r){return new(r||n)(T(Jt,13),T(ro,10),T(rl,10))};static \u0275dir=ge({type:n,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},standalone:!1,features:[pt([NP]),Xe]})}return n})();function fS(n){return!(n instanceof Sd)&&!(n instanceof Pt)&&!(n instanceof Dd)}var RP={provide:ai,useExisting:ft(()=>Xt)},Xt=(()=>{class n extends ai{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new ve;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=uS(this,o)}ngOnChanges(e){this._added||this._setUpControl(),cS(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return Cd(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(T(Jt,13),T(ro,10),T(rl,10),T(ci,10),T(dS,8))};static \u0275dir=ge({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[pt([RP]),Xe,an]})}return n})(),OP={provide:ci,useExisting:ft(()=>Qn),multi:!0};function hS(n,t){return n==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function PP(n){return n.split(":")[0]}var Qn=(()=>{class n extends vs{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let r=this._getOptionId(e),i=hS(r,e);this.setProperty("value",i)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){let r=PP(e);return this._optionMap.has(r)?this._optionMap.get(r):e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=ln(n)))(i||n)}})();static \u0275dir=ge({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&D("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[pt([OP]),Xe]})}return n})(),Kn=(()=>{class n{_element;_renderer;_select;id;constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(hS(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(T(Ye),T(An),T(Qn,9))};static \u0275dir=ge({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),FP={provide:ci,useExisting:ft(()=>pS),multi:!0};function HC(n,t){return n==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function LP(n){return n.split(":")[0]}var pS=(()=>{class n extends vs{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let r;if(Array.isArray(e)){let i=e.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],u=this._getOptionValue(l.value);i.push(u)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let u=this._getOptionValue(l.value);i.push(u)}}}this.value=i,e(i)}}_registerOption(e){let r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){let r=LP(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=ln(n)))(i||n)}})();static \u0275dir=ge({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&D("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[pt([FP]),Xe]})}return n})(),Zn=(()=>{class n{_element;_renderer;_select;id;_value;constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(HC(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(HC(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(T(Ye),T(An),T(pS,9))};static \u0275dir=ge({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function mS(n){return typeof n=="number"?n:parseFloat(n)}var gS=(()=>{class n{_validator=pd;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){let r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):pd,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ge({type:n,features:[an]})}return n})(),VP={provide:ro,useExisting:ft(()=>qg),multi:!0},qg=(()=>{class n extends gS{max;inputName="max";normalizeInput=e=>mS(e);createValidator=e=>QC(e);static \u0275fac=(()=>{let e;return function(i){return(e||(e=ln(n)))(i||n)}})();static \u0275dir=ge({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&zn("max",i._enabled?i.max:null)},inputs:{max:"max"},standalone:!1,features:[pt([VP]),Xe]})}return n})(),jP={provide:ro,useExisting:ft(()=>sl),multi:!0},sl=(()=>{class n extends gS{min;inputName="min";normalizeInput=e=>mS(e);createValidator=e=>WC(e);static \u0275fac=(()=>{let e;return function(i){return(e||(e=ln(n)))(i||n)}})();static \u0275dir=ge({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&zn("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[pt([jP]),Xe]})}return n})();var vS=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Je({type:n});static \u0275inj=Ze({})}return n})(),Bg=class extends gs{constructor(t,e,r){super($g(e),Hg(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),e&&(this.controls.splice(i,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){aS(this,!1,t),t.forEach((r,i)=>{sS(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,r)=>r._syncPendingControls()?!0:e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function zC(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var bn=(()=>{class n{useNonNullable=!1;get nonNullable(){let e=new n;return e.useNonNullable=!0,e}group(e,r=null){let i=this._reduceControls(e),o={};return zC(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new _d(i,o)}record(e,r=null){let i=this._reduceControls(e);return new jg(i,r)}control(e,r,i){let o={};return this.useNonNullable?(zC(r)?o=r:(o.validators=r,o.asyncValidators=i),new nl(e,z(N({},o),{nonNullable:!0}))):new nl(e,r,i)}array(e,r,i){let o=e.map(s=>this._createControl(s));return new Bg(o,r,i)}_reduceControls(e){let r={};return Object.keys(e).forEach(i=>{r[i]=this._createControl(e[i])}),r}_createControl(e){if(e instanceof nl)return e;if(e instanceof gs)return e;if(Array.isArray(e)){let r=e[0],i=e.length>1?e[1]:null,o=e.length>2?e[2]:null;return this.control(r,i,o)}else return this.control(e)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ui=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:il,useValue:e.callSetDisabledState??ol}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Je({type:n});static \u0275inj=Ze({imports:[vS]})}return n})(),Ft=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:dS,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:il,useValue:e.callSetDisabledState??ol}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Je({type:n});static \u0275inj=Ze({imports:[vS]})}return n})();var ct=[];for(let n=0;n<256;++n)ct.push((n+256).toString(16).slice(1));function yS(n,t=0){return(ct[n[t+0]]+ct[n[t+1]]+ct[n[t+2]]+ct[n[t+3]]+"-"+ct[n[t+4]]+ct[n[t+5]]+"-"+ct[n[t+6]]+ct[n[t+7]]+"-"+ct[n[t+8]]+ct[n[t+9]]+"-"+ct[n[t+10]]+ct[n[t+11]]+ct[n[t+12]]+ct[n[t+13]]+ct[n[t+14]]+ct[n[t+15]]).toLowerCase()}var Gg,UP=new Uint8Array(16);function Wg(){if(!Gg){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Gg=crypto.getRandomValues.bind(crypto)}return Gg(UP)}var BP=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Qg={randomUUID:BP};function $P(n,t,e){if(Qg.randomUUID&&!t&&!n)return Qg.randomUUID();n=n||{};let r=n.random??n.rng?.()??Wg();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){if(e=e||0,e<0||e+16>t.length)throw new RangeError(`UUID byte range ${e}:${e+15} is out of buffer bounds`);for(let i=0;i<16;++i)t[e+i]=r[i];return t}return yS(r)}var oo=$P;var HP=(n,t)=>({"text-success":n,"text-danger":t});function zP(n,t){if(n&1&&(d(0,"div",138),_(1,"div",139),c()),n&2){let e=E();m(),Zr("width",e.calculateFormProgress()+"%")}}function qP(n,t){if(n&1&&(d(0,"span",140),f(1),c()),n&2){let e=E();m(),U("",e.calculateFormProgress(),"% Complete")}}function GP(n,t){n&1&&(d(0,"div",141),f(1," Account name is required "),c())}function WP(n,t){n&1&&(d(0,"div",141),f(1," Please select an instrument type "),c())}function QP(n,t){n&1&&(d(0,"div",141),f(1," Trade symbol is required "),c())}function KP(n,t){n&1&&(d(0,"div",141),f(1," Please select trade direction "),c())}function ZP(n,t){n&1&&(d(0,"div",141),f(1," Time frame selection is required "),c())}function YP(n,t){n&1&&(d(0,"div",141),f(1," Please select an analysis type "),c())}function JP(n,t){n&1&&(d(0,"div",141),f(1," Strategy name is required "),c())}function XP(n,t){n&1&&(d(0,"div",141),f(1," Order type is required "),c())}function eF(n,t){n&1&&(d(0,"div",141),f(1," Entry criteria is required (min 10 characters) "),c())}function tF(n,t){n&1&&(d(0,"div",141),f(1," Exit strategy is required (min 10 characters) "),c())}function nF(n,t){n&1&&(d(0,"div",141),f(1," Valid account balance is required "),c())}function rF(n,t){n&1&&(d(0,"div",141),f(1," Position size is required "),c())}function iF(n,t){n&1&&(d(0,"div",141),f(1," Valid entry price is required "),c())}function oF(n,t){n&1&&(d(0,"div",141),f(1," Entry date/time is required "),c())}function sF(n,t){n&1&&(d(0,"div",141),f(1," Stop loss price is required "),c())}function aF(n,t){n&1&&(d(0,"div",141),f(1," Take profit price is required "),c())}function lF(n,t){n&1&&(d(0,"div",141),f(1," Risk percentage is required "),c())}function cF(n,t){n&1&&(d(0,"div",142),_(1,"i",143),f(2," Risk exceeds recommended 2% "),c())}function uF(n,t){n&1&&(d(0,"div",141),f(1," Estimated reward is required "),c())}function dF(n,t){n&1&&(d(0,"div",141),f(1," Please select your emotional state "),c())}function fF(n,t){n&1&&(d(0,"div",142),_(1,"i",143),f(2," Consider if this emotional state might negatively impact your decision making "),c())}function hF(n,t){n&1&&(d(0,"div",144),f(1," Please rate your confidence "),c())}function pF(n,t){n&1&&(d(0,"div",141),f(1," Please identify potential biases (min 5 characters) "),c())}function mF(n,t){n&1&&(d(0,"li"),f(1,"Complete all required fields in Trade Setup"),c())}function gF(n,t){n&1&&(d(0,"li"),f(1,"Complete all required fields in Strategy Details"),c())}function vF(n,t){n&1&&(d(0,"li"),f(1,"Complete all required fields in Risk Management"),c())}function yF(n,t){n&1&&(d(0,"li"),f(1,"Complete all required fields in Psychological Analysis"),c())}function _F(n,t){if(n&1&&(d(0,"div",145),_(1,"i",146),d(2,"strong"),f(3,"Please fix the errors highlighted above before submitting."),c(),d(4,"ul",147),S(5,mF,2,0,"li",148)(6,gF,2,0,"li",148)(7,vF,2,0,"li",148)(8,yF,2,0,"li",148),c()()),n&2){let e=E();m(5),y("ngIf",e.hasErrors("tradeSetup")),m(),y("ngIf",e.hasErrors("strategyDetails")),m(),y("ngIf",e.hasErrors("riskManagement")),m(),y("ngIf",e.hasErrors("psychologicalAnalysis"))}}function bF(n,t){if(n&1){let e=H();d(0,"button",149),D("click",function(){x(e);let i=E();return M(i.onCancel())}),_(1,"i",150),f(2,"Cancel "),c()}}function wF(n,t){if(n&1&&(d(0,"div",151),_(1,"i",152),f(2),c()),n&2){let e=E();m(2),U("",e.message," ")}}function EF(n,t){if(n&1&&(d(0,"div",153),_(1,"i",146),f(2),c()),n&2){let e=E();m(2),U("",e.errorMessage," ")}}var ys=class n{constructor(t,e,r){this.fb=t;this.supabaseService=e;this.cdr=r}tradeLogData=null;formSubmitted=new ve;cancel=new ve;preTradeTableName="pretrade";postTradeTableName="posttrade";preTradeForm;postTradeForm;showEmotionalSection=!1;message="";errorMessage="";formSubmitMarker=!1;ngOnInit(){this.formSubmitMarker=!1,this.createForm()}createForm(){var t=oo();this.preTradeForm=this.fb.group({tradeid:[this.tradeLogData?.tradeid??t],userid:[this.tradeLogData?.userid??"the-db-is-likely-hacked-1234-abcd-5678-efgh"],createdtime:[this.tradeLogData?.createdtime??new Date().toISOString()],accountname:[this.tradeLogData?.accountname??"",O.required],instrumenttype:[this.tradeLogData?.instrumenttype??"",O.required],analysistype:[this.tradeLogData?.analysistype??"",O.required],tradesymbol:[this.tradeLogData?.tradesymbol??"",O.required],tradetype:[this.tradeLogData?.tradetype??"Long",O.required],timeframe:[this.tradeLogData?.timeframe??"Day",O.required],strategyname:[this.tradeLogData?.strategyname??""],typeoforder:[this.tradeLogData?.typeoforder??"",O.required],entrycriteria:[this.tradeLogData?.entrycriteria??""],exitstrategy:[this.tradeLogData?.exitstrategy??""],entrydatetime:[this.tradeLogData?.entrydatetime??""],entryprice:[this.tradeLogData?.entryprice??""],accountbalance:[this.tradeLogData?.accountbalance??null,[O.required,O.min(0)]],positionsize:[this.tradeLogData?.positionsize??"",O.required],estimatedrisk:[this.tradeLogData?.estimatedrisk??null,O.required],estimatedpnl:[this.tradeLogData?.estimatedpnl??null,O.required],estimatedstoploss:[this.tradeLogData?.estimatedstoploss??null,O.required],estimatedtakeprofit:[this.tradeLogData?.estimatedtakeprofit??null,O.required],setupscreenshot:[this.tradeLogData?.setupscreenshot??""],tradeconfidence:[this.tradeLogData?.tradeconfidence??"1"],isopen:!0,emotionalstatebefore:[this.tradeLogData?.emotionalstatebefore??"",O.required],potentialbiases:[this.tradeLogData?.potentialbiases??"",O.required],notes:[this.tradeLogData?.notes??""],updatedtime:[new Date().toISOString()]})}toggleEmotionalSection(){this.showEmotionalSection=!this.showEmotionalSection}onFileSelected(t){let e=t.target;if(!e.files||e.files.length===0)return;let r=e.files[0],i=new FileReader;i.onload=o=>{this.preTradeForm.patchValue({setupscreenshot:o.target.result})},i.readAsDataURL(r)}async onSubmit(){if(this.formSubmitMarker=!0,this.preTradeForm.invalid){this.preTradeForm.markAllAsTouched();return}let t=this.preTradeForm.value;try{this.tradeLogData?await this.supabaseService.updateTradeLog(t,this.preTradeTableName):await this.supabaseService.addTradeLog(t,this.preTradeTableName),this.message="Trade log updated successfully. Resetting in 5 seconds.",setTimeout(()=>{this.cdr.markForCheck()},0),this.formSubmitted.emit(),this.formSubmitMarker=!1,this.cdr.markForCheck(),setTimeout(()=>{this.preTradeForm.reset(),this.preTradeForm.markAsPristine(),this.message="Form has been reset",this.cdr.markForCheck()},5e3),setTimeout(()=>{this.message="",this.cdr.markForCheck()},3e3)}catch(e){console.error("Error processing trade log:",e),this.errorMessage="Something went wrong.",this.cdr.markForCheck()}}async onDelete(){if(this.tradeLogData)try{await this.supabaseService.deleteTradeLog(this.tradeLogData.tradeid,this.preTradeTableName),this.message="Trade log deleted successfully.",this.formSubmitted.emit()}catch(t){console.error("Error deleting trade log:",t),this.errorMessage="Something went wrong while deleting."}finally{this.cdr.markForCheck()}}onCancel(){this.cancel.emit()}calculateFormProgress(){let e=0;return this.preTradeForm.get("accountname")?.valid&&e++,this.preTradeForm.get("instrumenttype")?.valid&&e++,this.preTradeForm.get("tradesymbol")?.valid&&e++,this.preTradeForm.get("tradetype")?.valid&&e++,this.preTradeForm.get("timeframe")?.valid&&e++,this.preTradeForm.get("analysistype")?.valid&&e++,this.preTradeForm.get("strategyname")?.valid&&e++,this.preTradeForm.get("typeoforder")?.valid&&e++,this.preTradeForm.get("entrycriteria")?.valid&&e++,this.preTradeForm.get("exitstrategy")?.valid&&e++,this.preTradeForm.get("accountbalance")?.valid&&e++,this.preTradeForm.get("positionsize")?.valid&&e++,this.preTradeForm.get("entryprice")?.valid&&e++,this.preTradeForm.get("entrydatetime")?.valid&&e++,this.preTradeForm.get("estimatedstoploss")?.valid&&e++,this.preTradeForm.get("estimatedtakeprofit")?.valid&&e++,this.preTradeForm.get("estimatedrisk")?.valid&&e++,this.preTradeForm.get("estimatedpnl")?.valid&&e++,this.preTradeForm.get("emotionalstatebefore")?.valid&&e++,this.preTradeForm.get("tradeConfidence")?.valid&&e++,this.preTradeForm.get("potentialbiases")?.valid&&e++,Math.round(e/18*100)}calculateRiskRewardRatio(){let t=parseFloat(this.preTradeForm.get("estimatedrisk")?.value||"0"),e=parseFloat(this.preTradeForm.get("estimatedpnl")?.value||"0");return t<=0||e<=0?"N/A":`1:${(e/t).toFixed(2)}`}isGoodRiskReward(){let t=parseFloat(this.preTradeForm.get("estimatedrisk")?.value||"0"),e=parseFloat(this.preTradeForm.get("estimatedpnl")?.value||"0");return t<=0||e<=0?!1:e/t>=2}isNegativeEmotionalState(){let t=this.preTradeForm.get("emotionalstatebefore")?.value;return["Anxious","Frustrated","Fearful","Overconfident"].includes(t)}hasErrors(t){switch(t){case"tradeSetup":return this.preTradeForm.get("accountname")?.invalid||this.preTradeForm.get("instrumenttype")?.invalid||this.preTradeForm.get("tradesymbol")?.invalid||this.preTradeForm.get("tradetype")?.invalid||this.preTradeForm.get("timeframe")?.invalid||this.preTradeForm.get("analysistype")?.invalid||!1;case"strategyDetails":return this.preTradeForm.get("strategyname")?.invalid||this.preTradeForm.get("typeoforder")?.invalid||this.preTradeForm.get("entrycriteria")?.invalid||this.preTradeForm.get("exitstrategy")?.invalid||!1;case"riskManagement":return this.preTradeForm.get("accountbalance")?.invalid||this.preTradeForm.get("positionsize")?.invalid||this.preTradeForm.get("entryprice")?.invalid||this.preTradeForm.get("entrydatetime")?.invalid||this.preTradeForm.get("estimatedstoploss")?.invalid||this.preTradeForm.get("estimatedtakeprofit")?.invalid||this.preTradeForm.get("estimatedrisk")?.invalid||this.preTradeForm.get("estimatedpnl")?.invalid||!1;case"psychologicalAnalysis":return this.preTradeForm.get("emotionalstatebefore")?.invalid||this.preTradeForm.get("tradeConfidence")?.invalid||this.preTradeForm.get("potentialbiases")?.invalid||!1;default:return!1}}static \u0275fac=function(e){return new(e||n)(T(bn),T(de),T(le))};static \u0275cmp=ee({type:n,selectors:[["app-pre-trade-log"]],inputs:{tradeLogData:"tradeLogData"},outputs:{formSubmitted:"formSubmitted",cancel:"cancel"},decls:332,vars:40,consts:[[1,"container","my-4"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item","text-decoration-none"],["routerLink","/home"],[3,"click"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row","mb-4"],[1,"col-lg-8"],[1,"mb-2"],[1,"text-muted"],[1,"col-lg-4","text-lg-end","d-flex","align-items-center","justify-content-lg-end","mt-3","mt-lg-0"],["class","progress w-100","style","height: 8px;",4,"ngIf"],["class","ms-2 small text-muted",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"card","mb-4","shadow-sm"],[1,"card-header","bg-light","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"bi","bi-1-circle","me-2"],[1,"badge","bg-primary"],[1,"card-body"],[1,"row","g-3"],[1,"col-md-6"],["for","accountname",1,"form-label"],[1,"input-group"],[1,"input-group-text"],[1,"bi","bi-person"],["type","text","id","accountname","formControlName","accountname","placeholder","Enter your account name",1,"form-control"],["class","text-danger mt-1 small",4,"ngIf"],["for","instrumenttype",1,"form-label"],["id","instrumenttype","formControlName","instrumenttype",1,"form-select"],["value","","selected","","disabled",""],["value","Forex"],["value","Stocks"],["value","Futures"],["value","Crypto"],["value","Options"],["value","ETF"],["value","Other"],["for","tradesymbol",1,"form-label"],[1,"bi","bi-tag"],["type","text","id","tradesymbol","formControlName","tradesymbol","placeholder","Enter ticker symbol",1,"form-control"],["for","tradetype",1,"form-label"],["role","group","aria-label","Trade type",1,"btn-group","w-100"],["type","radio","name","tradetype","id","tradetype_long","value","Long","formControlName","tradetype",1,"btn-check"],["for","tradetype_long",1,"btn","btn-outline-success"],["type","radio","name","tradetype","id","tradetype_short","value","Short","formControlName","tradetype",1,"btn-check"],["for","tradetype_short",1,"btn","btn-outline-danger"],["for","timeframe",1,"form-label"],["id","timeframe","formControlName","timeframe",1,"form-select"],["value","Scalp"],["value","Day"],["value","Swing"],["value","Position"],["value","LongTerm"],["for","analysistype",1,"form-label"],["id","analysistype","formControlName","analysistype",1,"form-select"],["value","Technical"],["value","Fundamental"],["value","Both"],["value","Sentiment"],[1,"bi","bi-2-circle","me-2"],["for","strategyname",1,"form-label"],["type","text","id","strategyname","formControlName","strategyname","placeholder","e.g., Breakout, Reversal, Trend Following",1,"form-control"],["for","typeoforder",1,"form-label"],["id","typeoforder","formControlName","typeoforder",1,"form-select"],["value","Market"],["value","Limit"],["value","Stop"],["value","StopLimit"],["value","TrailingStop"],[1,"col-12"],["for","entrycriteria",1,"form-label"],["id","entrycriteria","formControlName","entrycriteria","placeholder","Describe your specific entry conditions (e.g., technical indicators, patterns, fundamental factors)","rows","3",1,"form-control"],[1,"form-text"],["for","exitstrategy",1,"form-label"],["id","exitstrategy","formControlName","exitstrategy","placeholder","Define your profit targets and stop loss levels","rows","3",1,"form-control"],[1,"bi","bi-3-circle","me-2"],["for","accountbalance",1,"form-label"],["type","number","step","0.01","min","0","id","accountbalance","formControlName","accountbalance","placeholder","Current account value",1,"form-control"],["for","positionsize",1,"form-label"],["type","text","id","positionsize","formControlName","positionsize","placeholder","Units/Contracts/Shares",1,"form-control"],["type","button","data-bs-toggle","tooltip","title","Calculate based on risk",1,"btn","btn-outline-secondary"],["for","entryprice",1,"form-label"],["type","number","id","entryprice","formControlName","entryprice","step","0.01","min","0","placeholder","Planned entry price",1,"form-control"],["for","entrydatetime",1,"form-label"],["type","datetime-local","id","entrydatetime","formControlName","entrydatetime",1,"form-control"],["for","estimatedstoploss",1,"form-label"],["type","number","step","0.01","min","0","id","estimatedstoploss","formControlName","estimatedstoploss","placeholder","Stop loss price level",1,"form-control"],["for","estimatedtakeprofit",1,"form-label"],["type","number","step","0.01","min","0","id","estimatedtakeprofit","formControlName","estimatedtakeprofit","placeholder","Target price level",1,"form-control"],[1,"mb-3"],[1,"col-md-4"],["for","estimatedrisk",1,"form-label"],["type","number","step","0.01","min","0","max","100","id","estimatedrisk","formControlName","estimatedrisk","placeholder","1-2% recommended",1,"form-control"],["class","text-warning mt-1 small",4,"ngIf"],["for","estimatedpnl",1,"form-label"],["type","number","step","0.01","min","0","id","estimatedpnl","formControlName","estimatedpnl","placeholder","Expected % gain",1,"form-control"],[1,"form-label"],["type","text","readonly","",1,"form-control","bg-light",3,"value"],[1,"form-text",3,"ngClass"],[1,"bi","bi-5-circle","me-2"],["for","emotionalstatebefore",1,"form-label"],["id","emotionalstatebefore","formControlName","emotionalstatebefore",1,"form-select"],["value","Calm"],["value","Excited"],["value","Anxious"],["value","Frustrated"],["value","Overconfident"],["value","Fearful"],["value","Neutral"],[1,"form-label","d-block"],["role","group",1,"btn-group","w-100"],["type","radio","formControlName","tradeconfidence","id","confidence1","value","1",1,"btn-check"],["for","confidence1",1,"btn","btn-outline-danger"],["type","radio","formControlName","tradeconfidence","id","confidence2","value","2",1,"btn-check"],["for","confidence2",1,"btn","btn-outline-warning"],["type","radio","formControlName","tradeconfidence","id","confidence3","value","3",1,"btn-check"],["for","confidence3",1,"btn","btn-outline-secondary"],["type","radio","formControlName","tradeconfidence","id","confidence4","value","4",1,"btn-check"],["for","confidence4",1,"btn","btn-outline-primary"],["type","radio","formControlName","tradeconfidence","id","confidence5","value","5",1,"btn-check"],["for","confidence5",1,"btn","btn-outline-success"],[1,"form-text","text-center","mt-1"],["class","text-danger mt-1 small text-center",4,"ngIf"],["for","potentialbiases",1,"form-label"],["id","potentialbiases","formControlName","potentialbiases","placeholder","What biases might affect your decision? (e.g., revenge trading, FOMO, overconfidence)","rows","3",1,"form-control"],[1,"bi","bi-6-circle","me-2"],[1,"badge","bg-secondary"],["for","notes",1,"form-label"],["id","notes","formControlName","notes","placeholder","Any additional information or context for this trade","rows","3",1,"form-control"],["class","alert alert-danger mb-3",4,"ngIf"],[1,"d-flex","justify-content-between","align-items-center","mt-4"],["type","button","class","btn btn-outline-secondary",3,"click",4,"ngIf"],["type","submit",1,"btn","btn-success"],[1,"bi","bi-check-circle","me-1"],["class","alert alert-success mt-3",4,"ngIf"],["class","alert alert-danger mt-3",4,"ngIf"],[1,"progress","w-100",2,"height","8px"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-success"],[1,"ms-2","small","text-muted"],[1,"text-danger","mt-1","small"],[1,"text-warning","mt-1","small"],[1,"bi","bi-exclamation-triangle"],[1,"text-danger","mt-1","small","text-center"],[1,"alert","alert-danger","mb-3"],[1,"bi","bi-exclamation-triangle-fill","me-2"],[1,"mb-0","mt-2"],[4,"ngIf"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"bi","bi-x-circle","me-1"],[1,"alert","alert-success","mt-3"],[1,"bi","bi-check-circle-fill","me-2"],[1,"alert","alert-danger","mt-3"]],template:function(e,r){if(e&1&&(d(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),f(5,"Dashboard"),c()(),d(6,"li",3)(7,"a",5),D("click",function(){return r.onCancel()}),f(8,"Pre-Trade Logs"),c()(),d(9,"li",6),f(10,"Pre-Trading Journal"),c()()(),d(11,"div",7)(12,"div",8)(13,"h2",9),f(14),c(),d(15,"p",10),f(16,"Document your strategy before entering positions to maintain discipline and clarity"),c()(),d(17,"div",11),S(18,zP,2,2,"div",12)(19,qP,2,1,"span",13),c()(),d(20,"form",14),D("ngSubmit",function(){return r.onSubmit()}),d(21,"div",15)(22,"div",16)(23,"h5",17),_(24,"i",18),f(25,"Trade Setup "),c(),d(26,"span",19),f(27,"Required"),c()(),d(28,"div",20)(29,"div",21)(30,"div",22)(31,"label",23),f(32,"Account Name"),c(),d(33,"div",24)(34,"span",25),_(35,"i",26),c(),_(36,"input",27),c(),S(37,GP,2,0,"div",28),c(),d(38,"div",22)(39,"label",29),f(40,"Instrument Type"),c(),d(41,"select",30)(42,"option",31),f(43,"Choose instrument type"),c(),d(44,"option",32),f(45,"Forex"),c(),d(46,"option",33),f(47,"Stocks"),c(),d(48,"option",34),f(49,"Futures"),c(),d(50,"option",35),f(51,"Crypto"),c(),d(52,"option",36),f(53,"Options"),c(),d(54,"option",37),f(55,"ETF"),c(),d(56,"option",38),f(57,"Other"),c()(),S(58,WP,2,0,"div",28),c(),d(59,"div",22)(60,"label",39),f(61,"Trade Symbol"),c(),d(62,"div",24)(63,"span",25),_(64,"i",40),c(),_(65,"input",41),c(),S(66,QP,2,0,"div",28),c(),d(67,"div",22)(68,"label",42),f(69,"Trade Direction"),c(),d(70,"div",43),_(71,"input",44),d(72,"label",45),f(73,"Long"),c(),_(74,"input",46),d(75,"label",47),f(76,"Short"),c()(),S(77,KP,2,0,"div",28),c(),d(78,"div",22)(79,"label",48),f(80,"Time Frame"),c(),d(81,"select",49)(82,"option",31),f(83,"Select time frame"),c(),d(84,"option",50),f(85,"Scalp (minutes)"),c(),d(86,"option",51),f(87,"Day Trade (hours)"),c(),d(88,"option",52),f(89,"Swing (days-weeks)"),c(),d(90,"option",53),f(91,"Position (weeks-months)"),c(),d(92,"option",54),f(93,"Long Term (months+)"),c()(),S(94,ZP,2,0,"div",28),c(),d(95,"div",22)(96,"label",55),f(97,"Analysis Type"),c(),d(98,"select",56)(99,"option",31),f(100,"Choose analysis method"),c(),d(101,"option",57),f(102,"Technical"),c(),d(103,"option",58),f(104,"Fundamental"),c(),d(105,"option",59),f(106,"Both"),c(),d(107,"option",60),f(108,"Sentiment"),c(),d(109,"option",38),f(110,"Other"),c()(),S(111,YP,2,0,"div",28),c()()()(),d(112,"div",15)(113,"div",16)(114,"h5",17),_(115,"i",61),f(116,"Strategy Details "),c(),d(117,"span",19),f(118,"Required"),c()(),d(119,"div",20)(120,"div",21)(121,"div",22)(122,"label",62),f(123,"Strategy Name"),c(),_(124,"input",63),S(125,JP,2,0,"div",28),c(),d(126,"div",22)(127,"label",64),f(128,"Type of Order"),c(),d(129,"select",65)(130,"option",31),f(131,"Choose order type"),c(),d(132,"option",66),f(133,"Market"),c(),d(134,"option",67),f(135,"Limit"),c(),d(136,"option",68),f(137,"Stop"),c(),d(138,"option",69),f(139,"Stop Limit"),c(),d(140,"option",70),f(141,"Trailing Stop"),c()(),S(142,XP,2,0,"div",28),c(),d(143,"div",71)(144,"label",72),f(145,"Entry Criteria "),d(146,"span",10),f(147,"(Why are you taking this trade?)"),c()(),_(148,"textarea",73),d(149,"div",74),f(150,"Be specific about what signals or conditions must be met for entry."),c(),S(151,eF,2,0,"div",28),c(),d(152,"div",71)(153,"label",75),f(154,"Exit Strategy "),d(155,"span",10),f(156,"(How will you close this position?)"),c()(),_(157,"textarea",76),d(158,"div",74),f(159,"Include both profit-taking and loss-cutting criteria."),c(),S(160,tF,2,0,"div",28),c()()()(),d(161,"div",15)(162,"div",16)(163,"h5",17),_(164,"i",77),f(165,"Risk Management "),c(),d(166,"span",19),f(167,"Required"),c()(),d(168,"div",20)(169,"div",21)(170,"div",22)(171,"label",78),f(172,"Account Balance"),c(),d(173,"div",24)(174,"span",25),f(175,"$"),c(),_(176,"input",79),c(),S(177,nF,2,0,"div",28),c(),d(178,"div",22)(179,"label",80),f(180,"Position Size"),c(),d(181,"div",24),_(182,"input",81),d(183,"button",82),f(184,"Calculate"),c()(),S(185,rF,2,0,"div",28),c(),d(186,"div",22)(187,"label",83),f(188,"Entry Price"),c(),d(189,"div",24)(190,"span",25),f(191,"$"),c(),_(192,"input",84),c(),S(193,iF,2,0,"div",28),c(),d(194,"div",22)(195,"label",85),f(196,"Entry Date/Time"),c(),_(197,"input",86),S(198,oF,2,0,"div",28),c(),d(199,"div",22)(200,"label",87),f(201,"Stop Loss Price"),c(),d(202,"div",24)(203,"span",25),f(204,"$"),c(),_(205,"input",88),c(),S(206,sF,2,0,"div",28),c(),d(207,"div",22)(208,"label",89),f(209,"Take Profit Price"),c(),d(210,"div",24)(211,"span",25),f(212,"$"),c(),_(213,"input",90),c(),S(214,aF,2,0,"div",28),c(),d(215,"div",71),_(216,"hr"),d(217,"h6",91),f(218,"Risk/Reward Analysis"),c()(),d(219,"div",92)(220,"label",93),f(221,"Risk Per Trade"),c(),d(222,"div",24),_(223,"input",94),d(224,"span",25),f(225,"%"),c()(),d(226,"div",74),f(227,"Percentage of account at risk"),c(),S(228,lF,2,0,"div",28)(229,cF,3,0,"div",95),c(),d(230,"div",92)(231,"label",96),f(232,"Estimated Reward"),c(),d(233,"div",24),_(234,"input",97),d(235,"span",25),f(236,"%"),c()(),S(237,uF,2,0,"div",28),c(),d(238,"div",92)(239,"label",98),f(240,"Risk/Reward Ratio"),c(),d(241,"div",24),_(242,"input",99),d(243,"span",25),f(244,"R:R"),c()(),d(245,"div",100),_(246,"i"),f(247),c()()()()(),d(248,"div",15)(249,"div",16)(250,"h5",17),_(251,"i",101),f(252,"Psychological Analysis "),c(),d(253,"span",19),f(254,"Required"),c()(),d(255,"div",20)(256,"div",21)(257,"div",22)(258,"label",102),f(259,"Current Emotional State"),c(),d(260,"select",103)(261,"option",31),f(262,"How are you feeling?"),c(),d(263,"option",104),f(264,"Calm & Focused"),c(),d(265,"option",105),f(266,"Excited"),c(),d(267,"option",106),f(268,"Anxious"),c(),d(269,"option",107),f(270,"Frustrated"),c(),d(271,"option",108),f(272,"Overconfident"),c(),d(273,"option",109),f(274,"Fearful"),c(),d(275,"option",110),f(276,"Neutral"),c(),d(277,"option",38),f(278,"Other"),c()(),S(279,dF,2,0,"div",28)(280,fF,3,0,"div",95),c(),d(281,"div",22)(282,"label",111),f(283,"Trading Confidence"),c(),d(284,"div",112),_(285,"input",113),d(286,"label",114),f(287,"1"),c(),_(288,"input",115),d(289,"label",116),f(290,"2"),c(),_(291,"input",117),d(292,"label",118),f(293,"3"),c(),_(294,"input",119),d(295,"label",120),f(296,"4"),c(),_(297,"input",121),d(298,"label",122),f(299,"5"),c()(),d(300,"div",123),f(301,"Low (1) to High (5)"),c(),S(302,hF,2,0,"div",124),c(),d(303,"div",71)(304,"label",125),f(305,"Potential Biases"),c(),_(306,"textarea",126),d(307,"div",74),f(308,"Identifying biases helps improve future decision making"),c(),S(309,pF,2,0,"div",28),c()()()(),d(310,"div",15)(311,"div",16)(312,"h5",17),_(313,"i",127),f(314,"Additional Notes "),c(),d(315,"span",128),f(316,"Optional"),c()(),d(317,"div",20)(318,"div",21)(319,"div",71)(320,"label",129),f(321,"Notes"),c(),_(322,"textarea",130),c()()()(),S(323,_F,9,4,"div",131),d(324,"div",132),S(325,bF,3,0,"button",133),d(326,"div")(327,"button",134),_(328,"i",135),f(329),c()()(),S(330,wF,3,1,"div",136)(331,EF,3,1,"div",137),c()()),e&2){let i,o,s,a,l,u,h,p,v,g,b,w,C,k,F,P,B,W,be,we,Ae,wt;m(14),K(r.tradeLogData?"Edit Pre-Trading Journal":"Create Pre-Trading Journal"),m(4),y("ngIf",!r.tradeLogData),m(),y("ngIf",!r.tradeLogData),m(),y("formGroup",r.preTradeForm),m(17),y("ngIf",((i=r.preTradeForm.get("accountname"))==null?null:i.invalid)&&(((i=r.preTradeForm.get("accountname"))==null?null:i.dirty)||((i=r.preTradeForm.get("accountname"))==null?null:i.touched)||r.formSubmitMarker)),m(21),y("ngIf",((o=r.preTradeForm.get("instrumenttype"))==null?null:o.invalid)&&(((o=r.preTradeForm.get("instrumenttype"))==null?null:o.dirty)||((o=r.preTradeForm.get("instrumenttype"))==null?null:o.touched)||r.formSubmitMarker)),m(8),y("ngIf",((s=r.preTradeForm.get("tradesymbol"))==null?null:s.invalid)&&(((s=r.preTradeForm.get("tradesymbol"))==null?null:s.dirty)||((s=r.preTradeForm.get("tradesymbol"))==null?null:s.touched)||r.formSubmitMarker)),m(11),y("ngIf",((a=r.preTradeForm.get("tradetype"))==null?null:a.invalid)&&(((a=r.preTradeForm.get("tradetype"))==null?null:a.dirty)||((a=r.preTradeForm.get("tradetype"))==null?null:a.touched)||r.formSubmitMarker)),m(17),y("ngIf",((l=r.preTradeForm.get("timeframe"))==null?null:l.invalid)&&(((l=r.preTradeForm.get("timeframe"))==null?null:l.dirty)||((l=r.preTradeForm.get("timeframe"))==null?null:l.touched)||r.formSubmitMarker)),m(17),y("ngIf",((u=r.preTradeForm.get("analysistype"))==null?null:u.invalid)&&(((u=r.preTradeForm.get("analysistype"))==null?null:u.dirty)||((u=r.preTradeForm.get("analysistype"))==null?null:u.touched)||r.formSubmitMarker)),m(14),y("ngIf",((h=r.preTradeForm.get("strategyname"))==null?null:h.invalid)&&(((h=r.preTradeForm.get("strategyname"))==null?null:h.dirty)||((h=r.preTradeForm.get("strategyname"))==null?null:h.touched)||r.formSubmitMarker)),m(17),y("ngIf",((p=r.preTradeForm.get("typeoforder"))==null?null:p.invalid)&&(((p=r.preTradeForm.get("typeoforder"))==null?null:p.dirty)||((p=r.preTradeForm.get("typeoforder"))==null?null:p.touched)||r.formSubmitMarker)),m(9),y("ngIf",((v=r.preTradeForm.get("entrycriteria"))==null?null:v.invalid)&&(((v=r.preTradeForm.get("entrycriteria"))==null?null:v.dirty)||((v=r.preTradeForm.get("entrycriteria"))==null?null:v.touched)||r.formSubmitMarker)),m(9),y("ngIf",((g=r.preTradeForm.get("exitstrategy"))==null?null:g.invalid)&&(((g=r.preTradeForm.get("exitstrategy"))==null?null:g.dirty)||((g=r.preTradeForm.get("exitstrategy"))==null?null:g.touched)||r.formSubmitMarker)),m(17),y("ngIf",((b=r.preTradeForm.get("accountbalance"))==null?null:b.invalid)&&(((b=r.preTradeForm.get("accountbalance"))==null?null:b.dirty)||((b=r.preTradeForm.get("accountbalance"))==null?null:b.touched)||r.formSubmitMarker)),m(8),y("ngIf",((w=r.preTradeForm.get("positionsize"))==null?null:w.invalid)&&(((w=r.preTradeForm.get("positionsize"))==null?null:w.dirty)||((w=r.preTradeForm.get("positionsize"))==null?null:w.touched)||r.formSubmitMarker)),m(8),y("ngIf",((C=r.preTradeForm.get("entryprice"))==null?null:C.invalid)&&(((C=r.preTradeForm.get("entryprice"))==null?null:C.dirty)||((C=r.preTradeForm.get("entryprice"))==null?null:C.touched)||r.formSubmitMarker)),m(5),y("ngIf",((k=r.preTradeForm.get("entrydatetime"))==null?null:k.invalid)&&(((k=r.preTradeForm.get("entrydatetime"))==null?null:k.dirty)||((k=r.preTradeForm.get("entrydatetime"))==null?null:k.touched)||r.formSubmitMarker)),m(8),y("ngIf",((F=r.preTradeForm.get("estimatedstoploss"))==null?null:F.invalid)&&(((F=r.preTradeForm.get("estimatedstoploss"))==null?null:F.dirty)||((F=r.preTradeForm.get("estimatedstoploss"))==null?null:F.touched)||r.formSubmitMarker)),m(8),y("ngIf",((P=r.preTradeForm.get("estimatedtakeprofit"))==null?null:P.invalid)&&(((P=r.preTradeForm.get("estimatedtakeprofit"))==null?null:P.dirty)||((P=r.preTradeForm.get("estimatedtakeprofit"))==null?null:P.touched)||r.formSubmitMarker)),m(14),y("ngIf",((B=r.preTradeForm.get("estimatedrisk"))==null?null:B.invalid)&&(((B=r.preTradeForm.get("estimatedrisk"))==null?null:B.dirty)||((B=r.preTradeForm.get("estimatedrisk"))==null?null:B.touched)||r.formSubmitMarker)),m(),y("ngIf",((W=r.preTradeForm.get("estimatedrisk"))==null?null:W.value)>2),m(8),y("ngIf",((be=r.preTradeForm.get("estimatedpnl"))==null?null:be.invalid)&&(((be=r.preTradeForm.get("estimatedpnl"))==null?null:be.dirty)||((be=r.preTradeForm.get("estimatedpnl"))==null?null:be.touched)||r.formSubmitMarker)),m(5),y("value",r.calculateRiskRewardRatio()),m(3),y("ngClass",fn(37,HP,r.isGoodRiskReward(),!r.isGoodRiskReward())),m(),tu(r.isGoodRiskReward()?"bi bi-check-circle":"bi bi-x-circle"),m(),U(" ",r.isGoodRiskReward()?"Good risk/reward ratio":"Risk/reward should be at least 1:2"," "),m(32),y("ngIf",((we=r.preTradeForm.get("emotionalstatebefore"))==null?null:we.invalid)&&(((we=r.preTradeForm.get("emotionalstatebefore"))==null?null:we.dirty)||((we=r.preTradeForm.get("emotionalstatebefore"))==null?null:we.touched)||r.formSubmitMarker)),m(),y("ngIf",r.isNegativeEmotionalState()),m(22),y("ngIf",((Ae=r.preTradeForm.get("tradeconfidence"))==null?null:Ae.invalid)&&(((Ae=r.preTradeForm.get("tradeconfidence"))==null?null:Ae.dirty)||((Ae=r.preTradeForm.get("tradeconfidence"))==null?null:Ae.touched)||r.formSubmitMarker)),m(7),y("ngIf",((wt=r.preTradeForm.get("potentialbiases"))==null?null:wt.invalid)&&(((wt=r.preTradeForm.get("potentialbiases"))==null?null:wt.dirty)||((wt=r.preTradeForm.get("potentialbiases"))==null?null:wt.touched)||r.formSubmitMarker)),m(14),y("ngIf",r.formSubmitMarker&&r.preTradeForm.invalid),m(2),y("ngIf",r.tradeLogData),m(4),U("",r.tradeLogData?"Update":"Submit"," "),m(),y("ngIf",r.message),m(),y("ngIf",r.errorMessage)}},dependencies:[fe,Rt,ye,Ft,_n,Kn,Zn,We,Mr,Qn,Ar,nt,yn,sl,qg,Pt,Xt,qe],styles:[".card[_ngcontent-%COMP%]{border-radius:8px;box-shadow:0 2px 5px #0000000d;border:1px solid rgba(0,0,0,.1);color:#000}.card-header[_ngcontent-%COMP%]{background-color:#f8f9fa;border-bottom:1px solid rgba(0,0,0,.1);padding:12px 16px}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{border-radius:6px;padding:10px 12px;background-color:#f9f9f9;border:1px solid #ced4da}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{background-color:#fff;border-color:#80bdff;box-shadow:0 0 0 .25rem #0d6efd40}textarea.form-control[_ngcontent-%COMP%]{resize:vertical}.btn[_ngcontent-%COMP%]{padding:8px 16px;border-radius:6px;font-weight:500}.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#dc3545}"]})};function CF(n,t){n&1&&(d(0,"div",12),f(1,"Loading trade logs..."),c())}function SF(n,t){if(n&1&&(d(0,"div",13),f(1),c()),n&2){let e=E();m(),K(e.errorMessage)}}function DF(n,t){if(n&1){let e=H();d(0,"div",16)(1,"div",17),D("click",function(){let i=x(e).$implicit,o=E(2);return M(o.openEditModal(i))}),d(2,"div",18),_(3,"i",19),f(4," Planned "),c(),d(5,"div",20),D("click",function(i){let o=x(e).$implicit,s=E(2);return M(s.onDeleteTradeLog(o,i))}),_(6,"i",21),c(),d(7,"div",22)(8,"h4",23),f(9),c(),d(10,"h5",24),f(11),c(),d(12,"div",25)(13,"div",26)(14,"div",27)(15,"strong"),f(16,"Analysis:"),c(),f(17),c(),d(18,"div",27)(19,"strong"),f(20,"Order:"),c(),f(21),c()(),d(22,"div",26)(23,"div",27)(24,"strong"),f(25,"Stop Loss:"),c(),f(26),c(),d(27,"div",27)(28,"strong"),f(29,"Take Profit:"),c(),f(30),c()(),d(31,"div",26)(32,"div",27)(33,"strong"),f(34,"Risk:"),c(),f(35),c(),d(36,"div",27)(37,"strong"),f(38,"Est. PnL:"),c(),f(39),c()(),d(40,"div",28)(41,"div",29)(42,"strong"),f(43,"Account:"),c(),f(44),c()()(),d(45,"div",30)(46,"small",31),f(47),qt(48,"date"),c()()()()()}if(n&2){let e=t.$implicit;m(9),K(e.tradesymbol),m(2),Ui(" ",e.tradetype," | ",e.instrumenttype," "),m(6),U(" ",e.analysistype," "),m(4),U(" ",e.typeoforder," "),m(5),U(" ",e.estimatedstoploss," "),m(4),U(" ",e.estimatedtakeprofit," "),m(5),U(" ",e.estimatedrisk," "),m(4),U(" ",e.estimatedpnl," "),m(5),U(" ",e.accountname," "),m(3),K(Gt(48,11,e.createdtime,"medium"))}}function IF(n,t){if(n&1&&(d(0,"div",14),S(1,DF,49,14,"div",15),c()),n&2){let e=E();m(),y("ngForOf",e.tradeLogs)}}function TF(n,t){n&1&&(d(0,"div",32),f(1," No trade logs found. "),c())}function xF(n,t){if(n&1){let e=H();d(0,"div",33),D("click",function(i){x(e);let o=E();return M(o.closeModalOnOverlayClick(i))}),d(1,"div",34),D("click",function(i){return x(e),M(i.stopPropagation())}),d(2,"app-pre-trade-log",35),D("formSubmitted",function(){x(e);let i=E();return M(i.onFormSubmitted())})("cancel",function(){x(e);let i=E();return M(i.closeModal())}),c()()()}if(n&2){let e=E();m(2),y("tradeLogData",e.selectedTradeLog)}}var Id=class n{constructor(t,e){this.supabaseService=t;this.cdr=e}tableName="pretrade";tradeLogs=[];loading=!1;errorMessage="";showModal=!1;selectedTradeLog=null;async ngOnInit(){this.loading=!0,await this.fetchTradeLogs(),this.loading=!1,this.cdr.markForCheck()}async fetchTradeLogs(){try{this.tradeLogs=await this.supabaseService.getTradeLogs(this.tableName)}catch(t){console.error("Error fetching trade logs:",t),this.errorMessage="Error fetching trade logs."}}openEditModal(t){this.selectedTradeLog=t,this.showModal=!0}onFormSubmitted(){this.fetchTradeLogs(),this.closeModal()}closeModal(){this.showModal=!1,this.selectedTradeLog=null,this.cdr.markForCheck()}closeModalOnOverlayClick(t){this.closeModal(),this.cdr.markForCheck()}async onDeleteTradeLog(t,e){e.stopPropagation();try{await this.supabaseService.deleteTradeLog(t.tradeid,this.tableName),await this.fetchTradeLogs(),this.cdr.markForCheck()}catch(r){console.error("Error deleting trade log:",r),this.errorMessage="Error deleting trade log."}}static \u0275fac=function(e){return new(e||n)(T(de),T(le))};static \u0275cmp=ee({type:n,selectors:[["app-pre-trade-table"]],decls:18,vars:5,consts:[[1,"container","mt-3"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item","text-decoration-none"],["routerLink","/home"],["aria-current","page",1,"breadcrumb-item","active"],["routerLink","/pretradelog"],["class","alert alert-info",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["class","row mt-5",4,"ngIf"],["class","alert alert-warning",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"alert","alert-info"],[1,"alert","alert-danger"],[1,"row","mt-5"],["class","col-md-4 col-12 mb-4",4,"ngFor","ngForOf"],[1,"col-md-4","col-12","mb-4"],[1,"card","h-100","position-relative","shadow",2,"cursor","pointer",3,"click"],[1,"trade-status-indicator","status-planned"],[1,"bi","bi-clipboard-check"],[1,"delete-icon",3,"click"],[1,"bi","bi-trash"],[1,"card-body"],[1,"card-title","mt-5"],[1,"card-subtitle","mb-3","text-muted","fw-bold"],[1,"card-text"],[1,"row","mb-2"],[1,"col-6"],[1,"row"],[1,"col-12"],[1,"mt-3"],[1,"text-muted"],[1,"alert","alert-warning"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[3,"formSubmitted","cancel","tradeLogData"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),f(5,"Dashboard"),c()(),d(6,"li",5),f(7,"Pre-Trade Logs"),c(),d(8,"li",3)(9,"a",6),f(10,"Pre-Trading Journal"),c()()()(),d(11,"h2"),f(12,"Pre Trade Logs"),c(),S(13,CF,2,0,"div",7)(14,SF,2,1,"div",8)(15,IF,2,1,"div",9)(16,TF,2,0,"div",10),c(),S(17,xF,3,1,"div",11)),e&2&&(m(13),y("ngIf",r.loading),m(),y("ngIf",r.errorMessage),m(),y("ngIf",r.tradeLogs&&r.tradeLogs.length),m(),y("ngIf",!r.loading&&(!r.tradeLogs||r.tradeLogs.length===0)),m(),y("ngIf",r.showModal))},dependencies:[qe,fe,Le,ye,pn,ys],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;max-width:90%;max-height:90%;overflow:auto;position:relative}.card[_ngcontent-%COMP%]{position:relative;border:none;transition:all .2s ease;border-left:4px solid #6c757d!important}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 20px #0000001a!important}.delete-icon[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;display:none;color:#dc3545;background:#fffc;border-radius:50%;padding:5px;z-index:10}.card[_ngcontent-%COMP%]:hover   .delete-icon[_ngcontent-%COMP%]{display:block}.delete-icon[_ngcontent-%COMP%]:hover{cursor:pointer}.trade-status-indicator[_ngcontent-%COMP%]{position:absolute;top:8px;left:8px;padding:5px 10px;border-radius:12px;font-size:.8rem;font-weight:700;z-index:10;color:#fff}.status-planned[_ngcontent-%COMP%]{background-color:#6c757d}.trade-status-indicator[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:3px}"],changeDetection:0})};function MF(n,t){if(n&1&&(d(0,"div",131),_(1,"div",132),c()),n&2){let e=E();m(),Zr("width",e.calculateFormProgress()+"%")}}function AF(n,t){if(n&1&&(d(0,"span",133),f(1),c()),n&2){let e=E();m(),U("",e.calculateFormProgress(),"% Complete")}}function kF(n,t){n&1&&(d(0,"div",134),f(1," Account name is required "),c())}function NF(n,t){n&1&&(d(0,"div",134),f(1," Please select an instrument type "),c())}function RF(n,t){n&1&&(d(0,"div",134),f(1," Please select an analysis type "),c())}function OF(n,t){n&1&&(d(0,"div",134),f(1," Trade symbol is required "),c())}function PF(n,t){n&1&&(d(0,"div",134),f(1," Please select trade direction "),c())}function FF(n,t){n&1&&(d(0,"div",134),f(1," Time frame selection is required "),c())}function LF(n,t){n&1&&(d(0,"div",134),f(1," Strategy name is required "),c())}function VF(n,t){n&1&&(d(0,"div",134),f(1," Order type is required "),c())}function jF(n,t){n&1&&(d(0,"div",134),f(1," Entry date/time is required "),c())}function UF(n,t){n&1&&(d(0,"div",134),f(1," Exit date/time is required "),c())}function BF(n,t){n&1&&(d(0,"div",134),f(1," Valid entry price is required "),c())}function $F(n,t){n&1&&(d(0,"div",134),f(1," Valid exit price is required "),c())}function HF(n,t){n&1&&(d(0,"div",134),f(1," Position size is required "),c())}function zF(n,t){n&1&&(d(0,"div",134),f(1," Please select trade outcome "),c())}function qF(n,t){n&1&&(d(0,"li"),f(1,"Complete all required fields in Trade Details"),c())}function GF(n,t){n&1&&(d(0,"li"),f(1,"Complete all required fields in Strategy Information"),c())}function WF(n,t){n&1&&(d(0,"li"),f(1,"Complete all required fields in Trade Execution"),c())}function QF(n,t){n&1&&(d(0,"li"),f(1,"Complete all required fields in Trade Outcome"),c())}function KF(n,t){n&1&&(d(0,"li"),f(1,"Complete all required fields in Post-Trade Analysis"),c())}function ZF(n,t){if(n&1&&(d(0,"div",135),_(1,"i",136),d(2,"strong"),f(3,"Please fix the errors highlighted above before submitting."),c(),d(4,"ul",137),S(5,qF,2,0,"li",138)(6,GF,2,0,"li",138)(7,WF,2,0,"li",138)(8,QF,2,0,"li",138)(9,KF,2,0,"li",138),c()()),n&2){let e=E();m(5),y("ngIf",e.hasErrors("tradeDetails")),m(),y("ngIf",e.hasErrors("strategyInformation")),m(),y("ngIf",e.hasErrors("tradeExecution")),m(),y("ngIf",e.hasErrors("tradeOutcome")),m(),y("ngIf",e.hasErrors("postTradeAnalysis"))}}function YF(n,t){if(n&1){let e=H();d(0,"button",139),D("click",function(){x(e);let i=E();return M(i.onCancel())}),_(1,"i",140),f(2,"Cancel "),c()}}function JF(n,t){if(n&1&&(d(0,"div",141),_(1,"i",142),f(2),c()),n&2){let e=E();m(2),U("",e.message," ")}}function XF(n,t){if(n&1&&(d(0,"div",143),_(1,"i",136),f(2),c()),n&2){let e=E();m(2),U("",e.errorMessage," ")}}var _s=class n{constructor(t,e,r){this.fb=t;this.cdr=e;this.supabaseService=r}tradeLogData=null;formSubmitted=new ve;cancel=new ve;tableName="posttrade";postTradeForm;message="";errorMessage="";formSubmitMarker=!1;tradeOutcomes=["Win","Loss","Breakeven"];tradeDirections=["Long","Short"];ngOnInit(){this.formSubmitMarker=!1,this.createForm()}createForm(){var t=oo();this.postTradeForm=this.fb.group({tradeid:[this.tradeLogData?.tradeid??t],userid:[this.tradeLogData?.userid??"the-db-is-likely-hacked-1234-abcd-5678-efgh"],createdtime:[new Date().toISOString(),O.required],accountname:[this.tradeLogData?.accountname,[O.required,O.maxLength(255)]],accountbalance:[this.tradeLogData?.accountbalance??""],instrumenttype:[this.tradeLogData?.instrumenttype??"",[O.required,O.maxLength(50)]],analysistype:[this.tradeLogData?.analysistype??"",[O.required,O.maxLength(100)]],tradesymbol:[this.tradeLogData?.tradesymbol??"",[O.required,O.maxLength(50)]],tradetype:[this.tradeLogData?.tradetype??"",[O.required,O.maxLength(50)]],timeframe:[this.tradeLogData?.timeframe??"",[O.required,O.maxLength(50)]],entrydatetime:[this.tradeLogData?.entrydatetime??"",O.required],strategyname:[this.tradeLogData?.strategyname??"",[O.required,O.maxLength(255)]],typeoforder:[this.tradeLogData?.typeoforder??"",[O.required,O.maxLength(50)]],exitstrategy:[this.tradeLogData?.exitstrategy??""],entryprice:[this.tradeLogData?.entryprice??"",[O.required,O.min(0)]],exitprice:[this.tradeLogData?.exitprice??"",[O.required,O.min(0)]],positionsize:[this.tradeLogData?.positionsize??"",[O.required,O.maxLength(50)]],exitdatetime:[this.tradeLogData?.exitdatetime??"",O.required],tradeoutcome:[this.tradeLogData?.tradeoutcome??"",O.required],profitlossamount:[this.tradeLogData?.profitlossamount??""],setupscreenshot:[this.tradeLogData?.setupscreenshot??""],emotionalstateafter:[this.tradeLogData?.emotionalstateafter??""],emotionalimpactondecision:[this.tradeLogData?.emotionalimpactondecision??""],whatwentwell:[this.tradeLogData?.whatwentwell??""],whatcouldimprove:[this.tradeLogData?.whatcouldimprove??""],notes:[this.tradeLogData?.notes??""],isopen:[this.tradeLogData?.isopen??!0,O.required],updatedtime:[new Date().toDateString(),O.required]})}onFileSelected(t){let e=t.target;if(!e.files||e.files.length===0)return;let r=e.files[0],i=new FileReader;i.onload=o=>{this.postTradeForm.patchValue({setupScreenshot:o.target.result})},i.readAsDataURL(r)}async onSubmit(){if(this.formSubmitMarker=!0,this.postTradeForm.invalid){this.postTradeForm.markAllAsTouched();return}let t=this.postTradeForm.value;try{this.tradeLogData?await this.supabaseService.updateTradeLog(t,this.tableName):await this.supabaseService.addTradeLog(t,this.tableName),this.message="Trade log updated successfully. Resetting in 5 seconds.",setTimeout(()=>{this.cdr.markForCheck()},0),this.formSubmitted.emit(),this.formSubmitMarker=!1,this.cdr.markForCheck(),setTimeout(()=>{this.postTradeForm.reset(),this.postTradeForm.markAsPristine(),this.message="Form has been reset",this.cdr.markForCheck()},5e3),setTimeout(()=>{this.message="",this.cdr.markForCheck()},3e3)}catch(e){console.error("Error processing trade log:",e),this.errorMessage="Something went wrong.",this.cdr.markForCheck()}}async onDelete(){if(this.tradeLogData)try{await this.supabaseService.deleteTradeLog(this.tradeLogData.tradeid,this.tableName),this.message="Trade log deleted successfully.",this.formSubmitted.emit()}catch(t){console.error("Error deleting trade log:",t),this.errorMessage="Something went wrong while deleting."}finally{this.cdr.markForCheck()}}onCancel(){this.cancel.emit()}calculateProfitLoss(){let t=this.postTradeForm.get("entryprice")?.value,e=this.postTradeForm.get("exitprice")?.value,r=parseFloat(this.postTradeForm.get("positionsize")?.value),i=this.postTradeForm.get("tradetype")?.value;if(t&&e&&r&&i){let o=0;i==="Long"?o=(e-t)*r:i==="Short"&&(o=(t-e)*r),this.postTradeForm.get("profitlossamount")?.setValue(o.toFixed(2)),o>0?this.postTradeForm.get("tradeoutcome")?.setValue("Win"):o<0?this.postTradeForm.get("tradeoutcome")?.setValue("Loss"):this.postTradeForm.get("tradeoutcome")?.setValue("Breakeven")}}calculateFormProgress(){let t=Object.keys(this.postTradeForm.controls).filter(r=>this.postTradeForm.get(r)?.validator!==null),e=t.filter(r=>this.postTradeForm.get(r)?.valid);return Math.round(e.length/t.length*100)}hasErrors(t){let e=!1,r={tradeDetails:["accountname","instrumenttype","analysistype","tradesymbol","tradetype","timeframe"],strategyInformation:["strategyname","typeoforder"],tradeExecution:["entrydatetime","exitdatetime","entryprice","exitprice","positionsize"],tradeOutcome:["tradeoutcome"],postTradeAnalysis:["emotionalstateafter","whatwentwell","whatcouldimprove"]};return r[t]&&r[t].forEach(i=>{this.postTradeForm.get(i)?.invalid&&(e=!0)}),e}static \u0275fac=function(e){return new(e||n)(T(bn),T(le),T(de))};static \u0275cmp=ee({type:n,selectors:[["app-post-trade-log"]],inputs:{tradeLogData:"tradeLogData"},outputs:{formSubmitted:"formSubmitted",cancel:"cancel"},decls:299,vars:23,consts:[[1,"container","my-4"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item","text-decoration-none"],["routerLink","/home"],["routerLink","/posttrades"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row","mb-4"],[1,"col-lg-8"],[1,"mb-2"],[1,"text-muted"],[1,"col-lg-4","text-lg-end","d-flex","align-items-center","justify-content-lg-end","mt-3","mt-lg-0"],["class","progress w-100","style","height: 8px;",4,"ngIf"],["class","ms-2 small text-muted",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"card","mb-4","shadow-sm"],[1,"card-header","bg-light","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"bi","bi-1-circle","me-2"],[1,"badge","bg-primary"],[1,"card-body"],[1,"row","g-3"],[1,"col-md-6"],["for","accountname",1,"form-label"],[1,"input-group"],[1,"input-group-text"],[1,"bi","bi-person"],["type","text","id","accountname","formControlName","accountname","placeholder","Enter your account name",1,"form-control"],["class","text-danger mt-1 small",4,"ngIf"],["for","accountbalance",1,"form-label"],["type","number","step","0.01","min","0","id","accountbalance","formControlName","accountbalance","placeholder","Current account value",1,"form-control"],["for","instrumenttype",1,"form-label"],["id","instrumenttype","formControlName","instrumenttype",1,"form-select"],["value","","selected","","disabled",""],["value","Forex"],["value","Stocks"],["value","Futures"],["value","Crypto"],["value","Options"],["value","ETF"],["value","Other"],["for","analysistype",1,"form-label"],["id","analysistype","formControlName","analysistype",1,"form-select"],["value","Technical"],["value","Fundamental"],["value","Both"],["value","Sentiment"],["for","tradesymbol",1,"form-label"],[1,"bi","bi-tag"],["type","text","id","tradesymbol","formControlName","tradesymbol","placeholder","Enter ticker symbol",1,"form-control"],["for","tradetype",1,"form-label"],["role","group","aria-label","Trade type",1,"btn-group","w-100"],["type","radio","name","tradetype","id","tradetype_long","value","Long","formControlName","tradetype",1,"btn-check"],["for","tradetype_long",1,"btn","btn-outline-success"],["type","radio","name","tradetype","id","tradetype_short","value","Short","formControlName","tradetype",1,"btn-check"],["for","tradetype_short",1,"btn","btn-outline-danger"],["for","timeframe",1,"form-label"],["id","timeframe","formControlName","timeframe",1,"form-select"],["value","Scalp"],["value","Day"],["value","Swing"],["value","Position"],["value","LongTerm"],[1,"bi","bi-2-circle","me-2"],["for","strategyname",1,"form-label"],["type","text","id","strategyname","formControlName","strategyname","placeholder","e.g., Breakout, Reversal, Trend Following",1,"form-control"],["for","typeoforder",1,"form-label"],["id","typeoforder","formControlName","typeoforder",1,"form-select"],["value","Market"],["value","Limit"],["value","Stop"],["value","StopLimit"],["value","TrailingStop"],[1,"col-12"],["for","exitstrategy",1,"form-label"],["id","exitstrategy","formControlName","exitstrategy","placeholder","Describe the exit strategy you implemented","rows","3",1,"form-control"],[1,"bi","bi-3-circle","me-2"],["for","entrydatetime",1,"form-label"],["type","datetime-local","id","entrydatetime","formControlName","entrydatetime",1,"form-control"],["for","exitdatetime",1,"form-label"],["type","datetime-local","id","exitdatetime","formControlName","exitdatetime",1,"form-control"],[1,"col-md-4"],["for","entryprice",1,"form-label"],["type","number","id","entryprice","formControlName","entryprice","step","0.01","min","0","placeholder","Actual entry price",1,"form-control"],["for","exitprice",1,"form-label"],["type","number","id","exitprice","formControlName","exitprice","step","0.01","min","0","placeholder","Actual exit price",1,"form-control"],["for","positionsize",1,"form-label"],["type","text","id","positionsize","formControlName","positionsize","placeholder","Units/Contracts/Shares",1,"form-control"],[1,"bi","bi-4-circle","me-2"],["for","tradeoutcome",1,"form-label"],["role","group","aria-label","Trade outcome",1,"btn-group","w-100"],["type","radio","name","tradeoutcome","id","tradeoutcome_win","value","Win","formControlName","tradeoutcome",1,"btn-check"],["for","tradeoutcome_win",1,"btn","btn-outline-success"],["type","radio","name","tradeoutcome","id","tradeoutcome_loss","value","Loss","formControlName","tradeoutcome",1,"btn-check"],["for","tradeoutcome_loss",1,"btn","btn-outline-danger"],["type","radio","name","tradeoutcome","id","tradeoutcome_breakeven","value","Breakeven","formControlName","tradeoutcome",1,"btn-check"],["for","tradeoutcome_breakeven",1,"btn","btn-outline-warning"],["for","profitlossamount",1,"form-label"],["type","number","step","0.01","id","profitlossamount","formControlName","profitlossamount","placeholder","e.g. 50.25 or -30.50",1,"form-control"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"bi","bi-6-circle","me-2"],["for","emotionalstateafter",1,"form-label"],["id","emotionalstateafter","formControlName","emotionalstateafter",1,"form-select"],["value","Satisfied"],["value","Excited"],["value","Relieved"],["value","Disappointed"],["value","Frustrated"],["value","Neutral"],["value","Angry"],["for","emotionalimpactondecision",1,"form-label"],["id","emotionalimpactondecision","formControlName","emotionalimpactondecision","placeholder","How did your emotions affect your trading decisions?","rows","3",1,"form-control"],["for","whatwentwell",1,"form-label"],["id","whatwentwell","formControlName","whatwentwell","placeholder","What aspects of this trade did you execute correctly?","rows","3",1,"form-control"],["for","whatcouldimprove",1,"form-label"],["id","whatcouldimprove","formControlName","whatcouldimprove","placeholder","What could you have done better in this trade?","rows","3",1,"form-control"],["for","isopen",1,"form-label"],[1,"form-check","form-switch"],["type","checkbox","id","isopen","formControlName","isopen",1,"form-check-input"],["for","isopen",1,"form-check-label"],[1,"bi","bi-7-circle","me-2"],[1,"badge","bg-secondary"],["for","notes",1,"form-label"],["id","notes","formControlName","notes","placeholder","Any additional information or context for this trade","rows","3",1,"form-control"],["class","alert alert-danger mb-3",4,"ngIf"],[1,"d-flex","justify-content-between","align-items-center","mt-4"],["type","button","class","btn btn-tr-secondary",3,"click",4,"ngIf"],["type","submit",1,"btn","btn-success"],[1,"bi","bi-check-circle","me-1"],["class","alert alert-success mt-3",4,"ngIf"],["class","alert alert-danger mt-3",4,"ngIf"],[1,"progress","w-100",2,"height","8px"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-success"],[1,"ms-2","small","text-muted"],[1,"text-danger","mt-1","small"],[1,"alert","alert-danger","mb-3"],[1,"bi","bi-exclamation-triangle-fill","me-2"],[1,"mb-0","mt-2"],[4,"ngIf"],["type","button",1,"btn","btn-tr-secondary",3,"click"],[1,"bi","bi-x-circle","me-1"],[1,"alert","alert-success","mt-3"],[1,"bi","bi-check-circle-fill","me-2"],[1,"alert","alert-danger","mt-3"]],template:function(e,r){if(e&1&&(d(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),f(5,"Dashboard"),c()(),d(6,"li",3)(7,"a",5),f(8,"Trade Logs"),c()(),d(9,"li",6),f(10,"Post-Trading Journal"),c()()(),d(11,"div",7)(12,"div",8)(13,"h2",9),f(14),c(),d(15,"p",10),f(16,"Document your completed trades to analyze performance and improve your strategy"),c()(),d(17,"div",11),S(18,MF,2,2,"div",12)(19,AF,2,1,"span",13),c()(),d(20,"form",14),D("ngSubmit",function(){return r.onSubmit()}),d(21,"div",15)(22,"div",16)(23,"h5",17),_(24,"i",18),f(25,"Trade Details "),c(),d(26,"span",19),f(27,"Required"),c()(),d(28,"div",20)(29,"div",21)(30,"div",22)(31,"label",23),f(32,"Account Name"),c(),d(33,"div",24)(34,"span",25),_(35,"i",26),c(),_(36,"input",27),c(),S(37,kF,2,0,"div",28),c(),d(38,"div",22)(39,"label",29),f(40,"Account Balance"),c(),d(41,"div",24)(42,"span",25),f(43,"$"),c(),_(44,"input",30),c()(),d(45,"div",22)(46,"label",31),f(47,"Instrument Type"),c(),d(48,"select",32)(49,"option",33),f(50,"Choose instrument type"),c(),d(51,"option",34),f(52,"Forex"),c(),d(53,"option",35),f(54,"Stocks"),c(),d(55,"option",36),f(56,"Futures"),c(),d(57,"option",37),f(58,"Crypto"),c(),d(59,"option",38),f(60,"Options"),c(),d(61,"option",39),f(62,"ETF"),c(),d(63,"option",40),f(64,"Other"),c()(),S(65,NF,2,0,"div",28),c(),d(66,"div",22)(67,"label",41),f(68,"Analysis Type"),c(),d(69,"select",42)(70,"option",33),f(71,"Choose analysis method"),c(),d(72,"option",43),f(73,"Technical"),c(),d(74,"option",44),f(75,"Fundamental"),c(),d(76,"option",45),f(77,"Both"),c(),d(78,"option",46),f(79,"Sentiment"),c(),d(80,"option",40),f(81,"Other"),c()(),S(82,RF,2,0,"div",28),c(),d(83,"div",22)(84,"label",47),f(85,"Trade Symbol"),c(),d(86,"div",24)(87,"span",25),_(88,"i",48),c(),_(89,"input",49),c(),S(90,OF,2,0,"div",28),c(),d(91,"div",22)(92,"label",50),f(93,"Trade Direction"),c(),d(94,"div",51),_(95,"input",52),d(96,"label",53),f(97,"Long"),c(),_(98,"input",54),d(99,"label",55),f(100,"Short"),c()(),S(101,PF,2,0,"div",28),c(),d(102,"div",22)(103,"label",56),f(104,"Time Frame"),c(),d(105,"select",57)(106,"option",33),f(107,"Select time frame"),c(),d(108,"option",58),f(109,"Scalp (minutes)"),c(),d(110,"option",59),f(111,"Day Trade (hours)"),c(),d(112,"option",60),f(113,"Swing (days-weeks)"),c(),d(114,"option",61),f(115,"Position (weeks-months)"),c(),d(116,"option",62),f(117,"Long Term (months+)"),c()(),S(118,FF,2,0,"div",28),c()()()(),d(119,"div",15)(120,"div",16)(121,"h5",17),_(122,"i",63),f(123,"Strategy Information "),c(),d(124,"span",19),f(125,"Required"),c()(),d(126,"div",20)(127,"div",21)(128,"div",22)(129,"label",64),f(130,"Strategy Name"),c(),_(131,"input",65),S(132,LF,2,0,"div",28),c(),d(133,"div",22)(134,"label",66),f(135,"Type of Order"),c(),d(136,"select",67)(137,"option",33),f(138,"Choose order type"),c(),d(139,"option",68),f(140,"Market"),c(),d(141,"option",69),f(142,"Limit"),c(),d(143,"option",70),f(144,"Stop"),c(),d(145,"option",71),f(146,"Stop Limit"),c(),d(147,"option",72),f(148,"Trailing Stop"),c()(),S(149,VF,2,0,"div",28),c(),d(150,"div",73)(151,"label",74),f(152,"Exit Strategy Used"),c(),_(153,"textarea",75),c()()()(),d(154,"div",15)(155,"div",16)(156,"h5",17),_(157,"i",76),f(158,"Trade Execution "),c(),d(159,"span",19),f(160,"Required"),c()(),d(161,"div",20)(162,"div",21)(163,"div",22)(164,"label",77),f(165,"Entry Date/Time"),c(),_(166,"input",78),S(167,jF,2,0,"div",28),c(),d(168,"div",22)(169,"label",79),f(170,"Exit Date/Time"),c(),_(171,"input",80),S(172,UF,2,0,"div",28),c(),d(173,"div",81)(174,"label",82),f(175,"Entry Price"),c(),d(176,"div",24)(177,"span",25),f(178,"$"),c(),_(179,"input",83),c(),S(180,BF,2,0,"div",28),c(),d(181,"div",81)(182,"label",84),f(183,"Exit Price"),c(),d(184,"div",24)(185,"span",25),f(186,"$"),c(),_(187,"input",85),c(),S(188,$F,2,0,"div",28),c(),d(189,"div",81)(190,"label",86),f(191,"Position Size"),c(),d(192,"div",24),_(193,"input",87),c(),S(194,HF,2,0,"div",28),c()()()(),d(195,"div",15)(196,"div",16)(197,"h5",17),_(198,"i",88),f(199,"Trade Outcome "),c(),d(200,"span",19),f(201,"Required"),c()(),d(202,"div",20)(203,"div",21)(204,"div",22)(205,"label",89),f(206,"Trade Result"),c(),d(207,"div",90),_(208,"input",91),d(209,"label",92),f(210,"Win"),c(),_(211,"input",93),d(212,"label",94),f(213,"Loss"),c(),_(214,"input",95),d(215,"label",96),f(216,"Breakeven"),c()(),S(217,zF,2,0,"div",28),c(),d(218,"div",22)(219,"label",97),f(220,"Profit/Loss Amount"),c(),d(221,"div",24)(222,"span",25),f(223,"$"),c(),_(224,"input",98),d(225,"button",99),D("click",function(){return r.calculateProfitLoss()}),f(226," Calculate "),c()()()()()(),d(227,"div",15)(228,"div",16)(229,"h5",17),_(230,"i",100),f(231,"Post-Trade Analysis "),c(),d(232,"span",19),f(233,"Required"),c()(),d(234,"div",20)(235,"div",21)(236,"div",22)(237,"label",101),f(238,"Emotional State After Trade"),c(),d(239,"select",102)(240,"option",33),f(241,"How do you feel now?"),c(),d(242,"option",103),f(243,"Satisfied"),c(),d(244,"option",104),f(245,"Excited"),c(),d(246,"option",105),f(247,"Relieved"),c(),d(248,"option",106),f(249,"Disappointed"),c(),d(250,"option",107),f(251,"Frustrated"),c(),d(252,"option",108),f(253,"Neutral"),c(),d(254,"option",109),f(255,"Angry"),c(),d(256,"option",40),f(257,"Other"),c()()(),d(258,"div",73)(259,"label",110),f(260,"Emotional Impact on Decisions"),c(),_(261,"textarea",111),c(),d(262,"div",73)(263,"label",112),f(264,"What Went Well"),c(),_(265,"textarea",113),c(),d(266,"div",73)(267,"label",114),f(268,"Areas for Improvement"),c(),_(269,"textarea",115),c(),d(270,"div",22)(271,"label",116),f(272,"Trade Status"),c(),d(273,"div",117),_(274,"input",118),d(275,"label",119),f(276,"This position is still open"),c()()()()()(),d(277,"div",15)(278,"div",16)(279,"h5",17),_(280,"i",120),f(281,"Additional Notes "),c(),d(282,"span",121),f(283,"Optional"),c()(),d(284,"div",20)(285,"div",21)(286,"div",73)(287,"label",122),f(288,"Notes"),c(),_(289,"textarea",123),c()()()(),S(290,ZF,10,5,"div",124),d(291,"div",125),S(292,YF,3,0,"button",126),d(293,"div")(294,"button",127),_(295,"i",128),f(296),c()()(),S(297,JF,3,1,"div",129)(298,XF,3,1,"div",130),c()()),e&2){let i,o,s,a,l,u,h,p,v,g,b,w,C,k;m(14),K(r.tradeLogData?"Edit Post-Trading Journal":"Create Post-Trading Journal"),m(4),y("ngIf",!r.tradeLogData),m(),y("ngIf",!r.tradeLogData),m(),y("formGroup",r.postTradeForm),m(17),y("ngIf",((i=r.postTradeForm.get("accountname"))==null?null:i.invalid)&&(((i=r.postTradeForm.get("accountname"))==null?null:i.dirty)||((i=r.postTradeForm.get("accountname"))==null?null:i.touched)||r.formSubmitMarker)),m(28),y("ngIf",((o=r.postTradeForm.get("instrumenttype"))==null?null:o.invalid)&&(((o=r.postTradeForm.get("instrumenttype"))==null?null:o.dirty)||((o=r.postTradeForm.get("instrumenttype"))==null?null:o.touched)||r.formSubmitMarker)),m(17),y("ngIf",((s=r.postTradeForm.get("analysistype"))==null?null:s.invalid)&&(((s=r.postTradeForm.get("analysistype"))==null?null:s.dirty)||((s=r.postTradeForm.get("analysistype"))==null?null:s.touched)||r.formSubmitMarker)),m(8),y("ngIf",((a=r.postTradeForm.get("tradesymbol"))==null?null:a.invalid)&&(((a=r.postTradeForm.get("tradesymbol"))==null?null:a.dirty)||((a=r.postTradeForm.get("tradesymbol"))==null?null:a.touched)||r.formSubmitMarker)),m(11),y("ngIf",((l=r.postTradeForm.get("tradetype"))==null?null:l.invalid)&&(((l=r.postTradeForm.get("tradetype"))==null?null:l.dirty)||((l=r.postTradeForm.get("tradetype"))==null?null:l.touched)||r.formSubmitMarker)),m(17),y("ngIf",((u=r.postTradeForm.get("timeframe"))==null?null:u.invalid)&&(((u=r.postTradeForm.get("timeframe"))==null?null:u.dirty)||((u=r.postTradeForm.get("timeframe"))==null?null:u.touched)||r.formSubmitMarker)),m(14),y("ngIf",((h=r.postTradeForm.get("strategyname"))==null?null:h.invalid)&&(((h=r.postTradeForm.get("strategyname"))==null?null:h.dirty)||((h=r.postTradeForm.get("strategyname"))==null?null:h.touched)||r.formSubmitMarker)),m(17),y("ngIf",((p=r.postTradeForm.get("typeoforder"))==null?null:p.invalid)&&(((p=r.postTradeForm.get("typeoforder"))==null?null:p.dirty)||((p=r.postTradeForm.get("typeoforder"))==null?null:p.touched)||r.formSubmitMarker)),m(18),y("ngIf",((v=r.postTradeForm.get("entrydatetime"))==null?null:v.invalid)&&(((v=r.postTradeForm.get("entrydatetime"))==null?null:v.dirty)||((v=r.postTradeForm.get("entrydatetime"))==null?null:v.touched)||r.formSubmitMarker)),m(5),y("ngIf",((g=r.postTradeForm.get("exitdatetime"))==null?null:g.invalid)&&(((g=r.postTradeForm.get("exitdatetime"))==null?null:g.dirty)||((g=r.postTradeForm.get("exitdatetime"))==null?null:g.touched)||r.formSubmitMarker)),m(8),y("ngIf",((b=r.postTradeForm.get("entryprice"))==null?null:b.invalid)&&(((b=r.postTradeForm.get("entryprice"))==null?null:b.dirty)||((b=r.postTradeForm.get("entryprice"))==null?null:b.touched)||r.formSubmitMarker)),m(8),y("ngIf",((w=r.postTradeForm.get("exitprice"))==null?null:w.invalid)&&(((w=r.postTradeForm.get("exitprice"))==null?null:w.dirty)||((w=r.postTradeForm.get("exitprice"))==null?null:w.touched)||r.formSubmitMarker)),m(6),y("ngIf",((C=r.postTradeForm.get("positionsize"))==null?null:C.invalid)&&(((C=r.postTradeForm.get("positionsize"))==null?null:C.dirty)||((C=r.postTradeForm.get("positionsize"))==null?null:C.touched)||r.formSubmitMarker)),m(23),y("ngIf",((k=r.postTradeForm.get("tradeoutcome"))==null?null:k.invalid)&&(((k=r.postTradeForm.get("tradeoutcome"))==null?null:k.dirty)||((k=r.postTradeForm.get("tradeoutcome"))==null?null:k.touched)||r.formSubmitMarker)),m(73),y("ngIf",r.formSubmitMarker&&r.postTradeForm.invalid),m(2),y("ngIf",r.tradeLogData),m(4),U("",r.tradeLogData?"Update":"Submit"," "),m(),y("ngIf",r.message),m(),y("ngIf",r.errorMessage)}},dependencies:[fe,ye,Ft,_n,Kn,Zn,We,Mr,xr,Qn,Ar,nt,yn,sl,Pt,Xt,qe],styles:[".card[_ngcontent-%COMP%]{border-radius:8px;box-shadow:0 2px 5px #0000000d;border:1px solid rgba(0,0,0,.1);color:#000}.card-header[_ngcontent-%COMP%]{background-color:#f8f9fa;border-bottom:1px solid rgba(0,0,0,.1);padding:12px 16px}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{border-radius:6px;padding:10px 12px;background-color:#f9f9f9;border:1px solid #ced4da}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{background-color:#fff;border-color:#80bdff;box-shadow:0 0 0 .25rem #0d6efd40}textarea.form-control[_ngcontent-%COMP%]{resize:vertical}.btn[_ngcontent-%COMP%]{padding:8px 16px;border-radius:6px;font-weight:500}.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#dc3545}"]})};var e2=(n,t,e)=>({"open-trade":n,"win-trade":t,"loss-trade":e}),t2=(n,t,e)=>({"status-open":n,"status-win":t,"status-loss":e}),n2=(n,t,e)=>({"bi-clock-history":n,"bi-check-circle":t,"bi-x-circle":e}),r2=(n,t,e)=>({"text-success":n,"text-danger":t,"text-secondary":e});function i2(n,t){n&1&&(d(0,"div",12),f(1,"Loading trade logs..."),c())}function o2(n,t){if(n&1&&(d(0,"div",13),f(1),c()),n&2){let e=E();m(),K(e.errorMessage)}}function s2(n,t){if(n&1){let e=H();d(0,"div",16)(1,"div",17),D("click",function(){let i=x(e).$implicit,o=E(2);return M(o.openEditModal(i))}),d(2,"div",18),_(3,"i",19),f(4),c(),d(5,"div",20),D("click",function(i){let o=x(e).$implicit,s=E(2);return M(s.onDeleteTradeLog(o,i))}),_(6,"i",21),c(),d(7,"div",22)(8,"h4",23),f(9),c(),d(10,"h5",24),f(11),c(),d(12,"div",25)(13,"div",26)(14,"div",27)(15,"strong"),f(16,"Strategy:"),c(),f(17),c(),d(18,"div",27)(19,"strong"),f(20,"Analysis:"),c(),f(21),c()(),d(22,"div",26)(23,"div",27)(24,"strong"),f(25,"Entry:"),c(),f(26),c(),d(27,"div",27)(28,"strong"),f(29,"Exit:"),c(),f(30),c()(),d(31,"div",26)(32,"div",27)(33,"strong"),f(34,"Date:"),c(),f(35),qt(36,"date"),c(),d(37,"div",27)(38,"strong"),f(39,"Account:"),c(),f(40),c()(),d(41,"div",28)(42,"div",29)(43,"strong"),f(44,"P/L:"),c(),d(45,"span",30),f(46),c()()()(),d(47,"div",31)(48,"small",32),f(49),qt(50,"date"),c()()()()()}if(n&2){let e=t.$implicit;m(),y("ngClass",Yr(23,e2,e.isopen,!e.isopen&&e.tradeoutcome==="Win",!e.isopen&&e.tradeoutcome==="Loss")),m(),y("ngClass",Yr(27,t2,e.isopen,!e.isopen&&e.tradeoutcome==="Win",!e.isopen&&e.tradeoutcome==="Loss")),m(),y("ngClass",Yr(31,n2,e.isopen,!e.isopen&&e.tradeoutcome==="Win",!e.isopen&&e.tradeoutcome==="Loss")),m(),U(" ",e.isopen?"In Progress":e.tradeoutcome," "),m(5),K(e.tradesymbol),m(2),Xs(" ",e.tradetype," | ",e.instrumenttype," | ",e.timeframe," "),m(6),U(" ",e.strategyname," "),m(4),U(" ",e.analysistype," "),m(5),U(" ",e.entryprice," "),m(4),U(" ",e.isopen?"Pending":e.exitprice," "),m(5),U(" ",Gt(36,17,e.entrydatetime,"shortDate")," "),m(5),U(" ",e.accountname," "),m(5),y("ngClass",Yr(35,r2,!e.isopen&&e.tradeoutcome==="Win",!e.isopen&&e.tradeoutcome==="Loss",e.isopen)),m(),U(" ",e.isopen?"Trade in progress":e.profitlossamount," "),m(3),K(Gt(50,20,e.createdtime,"medium"))}}function a2(n,t){if(n&1&&(d(0,"div",14),S(1,s2,51,39,"div",15),c()),n&2){let e=E();m(),y("ngForOf",e.tradeLogs)}}function l2(n,t){n&1&&(d(0,"div",33),f(1," No trade logs found. "),c())}function c2(n,t){if(n&1){let e=H();d(0,"div",34),D("click",function(i){x(e);let o=E();return M(o.closeModalOnOverlayClick(i))}),d(1,"div",35),D("click",function(i){return x(e),M(i.stopPropagation())}),d(2,"app-post-trade-log",36),D("formSubmitted",function(){x(e);let i=E();return M(i.onFormSubmitted())})("cancel",function(){x(e);let i=E();return M(i.closeModal())}),c()()()}if(n&2){let e=E();m(2),y("tradeLogData",e.selectedTradeLog)}}var Td=class n{constructor(t,e){this.supabaseService=t;this.cdr=e}tableName="posttrade";tradeLogs=[];loading=!1;errorMessage="";showModal=!1;selectedTradeLog=null;async ngOnInit(){this.loading=!0,await this.fetchTradeLogs(),this.loading=!1,this.cdr.detectChanges()}async fetchTradeLogs(){try{this.tradeLogs=await this.supabaseService.getTradeLogs(this.tableName),this.cdr.detectChanges()}catch(t){console.error("Error fetching trade logs",t),this.errorMessage="Error fetching trade logs."}}openEditModal(t){this.selectedTradeLog=t,this.showModal=!0}onFormSubmitted(){this.fetchTradeLogs(),this.closeModal()}closeModal(){this.showModal=!1,this.selectedTradeLog=null}closeModalOnOverlayClick(t){this.closeModal(),this.cdr.markForCheck()}async onDeleteTradeLog(t,e){e.stopPropagation();try{await this.supabaseService.deleteTradeLog(t.tradeid,this.tableName),await this.fetchTradeLogs()}catch(r){console.error("Error deleting trade log:",r),this.errorMessage="Error deleting trade log."}}static \u0275fac=function(e){return new(e||n)(T(de),T(le))};static \u0275cmp=ee({type:n,selectors:[["app-post-trade-table"]],decls:18,vars:5,consts:[[1,"container","mt-3"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item","text-decoration-none"],["routerLink","/home"],["aria-current","page",1,"breadcrumb-item","active"],["routerLink","/posttradelog"],["class","alert alert-info",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["class","row mt-5",4,"ngIf"],["class","alert alert-warning",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"alert","alert-info"],[1,"alert","alert-danger"],[1,"row","mt-5"],["class","col-md-4 col-12 mb-4",4,"ngFor","ngForOf"],[1,"col-md-4","col-12","mb-4"],[1,"card","h-100","position-relative","shadow",2,"cursor","pointer",3,"click","ngClass"],[1,"trade-status-indicator",3,"ngClass"],[1,"bi",3,"ngClass"],[1,"delete-icon",3,"click"],[1,"bi","bi-trash"],[1,"card-body"],[1,"card-title","mt-5"],[1,"card-subtitle","mb-3","text-muted","fw-bold"],[1,"card-text"],[1,"row","mb-2"],[1,"col-6"],[1,"row"],[1,"col-12"],[3,"ngClass"],[1,"mt-3"],[1,"text-muted"],[1,"alert","alert-warning"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[3,"formSubmitted","cancel","tradeLogData"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),f(5,"Dashboard"),c()(),d(6,"li",5),f(7,"Post-Trade Logs"),c(),d(8,"li",3)(9,"a",6),f(10,"Post-Trading Journal"),c()()()(),d(11,"h2"),f(12,"Post Trade Logs"),c(),S(13,i2,2,0,"div",7)(14,o2,2,1,"div",8)(15,a2,2,1,"div",9)(16,l2,2,0,"div",10),c(),S(17,c2,3,1,"div",11)),e&2&&(m(13),y("ngIf",r.loading),m(),y("ngIf",r.errorMessage),m(),y("ngIf",r.tradeLogs&&r.tradeLogs.length),m(),y("ngIf",!r.loading&&(!r.tradeLogs||r.tradeLogs.length===0)),m(),y("ngIf",r.showModal))},dependencies:[qe,fe,Rt,Le,ye,pn,_s],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;max-width:90%;max-height:90%;overflow:auto;position:relative}.card[_ngcontent-%COMP%]{position:relative;border:none;transition:all .2s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 20px #0000001a!important}.delete-icon[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;display:none;color:#dc3545;background:#fffc;border-radius:50%;padding:5px;z-index:10}.card[_ngcontent-%COMP%]:hover   .delete-icon[_ngcontent-%COMP%]{display:block}.delete-icon[_ngcontent-%COMP%]:hover{cursor:pointer}.open-trade[_ngcontent-%COMP%]{border-left:4px solid #17a2b8!important}.win-trade[_ngcontent-%COMP%]{border-left:4px solid #28a745!important}.loss-trade[_ngcontent-%COMP%]{border-left:4px solid #dc3545!important}.trade-status-indicator[_ngcontent-%COMP%]{position:absolute;top:8px;left:8px;padding:5px 10px;border-radius:12px;font-size:.8rem;font-weight:700;z-index:10;color:#fff}.status-open[_ngcontent-%COMP%]{background-color:#17a2b8}.status-win[_ngcontent-%COMP%]{background-color:#28a745}.status-loss[_ngcontent-%COMP%]{background-color:#dc3545}.trade-status-indicator[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:3px}"]})};var u2=(n,t)=>({"alert-success":n,"alert-danger":t});function d2(n,t){if(n&1&&(d(0,"div",18),f(1),c()),n&2){let e=E();y("ngClass",fn(2,u2,e.messageType==="success",e.messageType==="error")),m(),U(" ",e.message," ")}}function f2(n,t){if(n&1){let e=H();cn(0),d(1,"input",27),$e("ngModelChange",function(i){x(e);let o=E().$implicit;return He(o.choicesInput,i)||(o.choicesInput=i),M(i)}),D("change",function(){x(e);let i=E().$implicit,o=E();return M(o.updateChoices(i))}),c(),d(2,"div",28),f(3,'e.g., "Option A, Option B, Option C"'),c(),un()}if(n&2){let e=E().$implicit;m(),Be("ngModel",e.choicesInput)}}function h2(n,t){if(n&1){let e=H();d(0,"tr")(1,"td")(2,"select",19),$e("ngModelChange",function(i){let o=x(e).$implicit;return He(o.question_data.question_type,i)||(o.question_data.question_type=i),M(i)}),D("change",function(){let i=x(e).$implicit,o=E();return M(o.onQuestionChange(i))}),d(3,"option",9),f(4,"Fill"),c(),d(5,"option",10),f(6,"Multiple"),c(),d(7,"option",11),f(8,"Select One"),c()()(),d(9,"td")(10,"input",20),$e("ngModelChange",function(i){let o=x(e).$implicit;return He(o.question_data.question_icon,i)||(o.question_data.question_icon=i),M(i)}),D("change",function(){let i=x(e).$implicit,o=E();return M(o.onQuestionChange(i))}),c()(),d(11,"td")(12,"input",21),$e("ngModelChange",function(i){let o=x(e).$implicit;return He(o.question_data.question_title,i)||(o.question_data.question_title=i),M(i)}),D("change",function(){let i=x(e).$implicit,o=E();return M(o.onQuestionChange(i))}),c()(),d(13,"td")(14,"textarea",22),$e("ngModelChange",function(i){let o=x(e).$implicit;return He(o.question_data.question,i)||(o.question_data.question=i),M(i)}),D("change",function(){let i=x(e).$implicit,o=E();return M(o.onQuestionChange(i))}),c()(),d(15,"td"),S(16,f2,4,1,"ng-container",23),c(),d(17,"td")(18,"input",24),$e("ngModelChange",function(i){let o=x(e).$implicit;return He(o.question_data.placeholder,i)||(o.question_data.placeholder=i),M(i)}),D("change",function(){let i=x(e).$implicit,o=E();return M(o.onQuestionChange(i))}),c()(),d(19,"td")(20,"div",25)(21,"input",26),$e("ngModelChange",function(i){let o=x(e).$implicit;return He(o.active,i)||(o.active=i),M(i)}),D("change",function(){let i=x(e).$implicit,o=E();return M(o.onQuestionChange(i))}),c()()(),d(22,"td"),f(23),qt(24,"date"),c()()}if(n&2){let e=t.$implicit;m(2),Be("ngModel",e.question_data.question_type),m(8),Be("ngModel",e.question_data.question_icon),m(2),Be("ngModel",e.question_data.question_title),m(2),Be("ngModel",e.question_data.question),m(2),y("ngIf",e.question_data.question_type!=="fill"),m(2),Be("ngModel",e.question_data.placeholder),m(3),Be("ngModel",e.active),m(2),K(Gt(24,8,e.updated_at,"short"))}}function p2(n,t){if(n&1){let e=H();d(0,"div",29)(1,"input",30),$e("ngModelChange",function(i){x(e);let o=E();return He(o.newQuestionChoices,i)||(o.newQuestionChoices=i),M(i)}),c()()}if(n&2){let e=E();m(),Be("ngModel",e.newQuestionChoices)}}var xd=class n{constructor(t,e){this.cdr=t;this.supabaseService=e}questions=[];newQuestionText="";newQuestionType="fill";newQuestionChoices="";message="";messageType="success";async ngOnInit(){let t=await this.supabaseService.adminLoadQuestions();this.questions=t.map(e=>z(N({},e),{choicesInput:e.question_data.choices?.join(", ")||""})),this.cdr.markForCheck()}onQuestionChange(t){t.isModified=!0}updateChoices(t){let e=t.choicesInput??"";t.question_data.choices=e.split(",").map(r=>r.trim()).filter(r=>r),t.isModified=!0}addQuestion(){if(!this.newQuestionText.trim())return;let t={question_type:this.newQuestionType,question:this.newQuestionText.trim(),placeholder:this.newQuestionText.trim()};if(this.newQuestionType!=="fill"){let e=this.newQuestionChoices.split(",").map(r=>r.trim()).filter(r=>r);t.choices=e}this.questions.push({question_data:t,choicesInput:this.newQuestionChoices,active:!0,isModified:!0}),this.newQuestionText="",this.newQuestionChoices="",this.newQuestionType="fill",this.cdr.detectChanges()}async saveChanges(){let{error:t}=await this.supabaseService.adminSaveQuestions(this.questions);t?this.showMessage("Error saving questions","error"):this.showMessage("Questions saved successfully","success"),this.cdr.detectChanges()}async deleteQuestion(t){if(!t.question_id){this.questions=this.questions.filter(r=>r!==t),this.showMessage("Question removed locally","success"),this.cdr.markForCheck();return}let{error:e}=await this.supabaseService.deleteQuestion(t);e?this.showMessage("Error deleting question","error"):(this.questions=this.questions.filter(r=>r.question_id!==t.question_id),this.showMessage("Question deleted successfully","success")),this.cdr.markForCheck()}showMessage(t,e){this.message=t,this.messageType=e,this.cdr.markForCheck(),setTimeout(()=>{this.message="",this.cdr.markForCheck()},4e3)}hasChanges(){return this.questions.some(t=>t.isModified)}static \u0275fac=function(e){return new(e||n)(T(le),T(de))};static \u0275cmp=ee({type:n,selectors:[["app-admin-emotion-dashboard"]],decls:53,vars:6,consts:[[1,"container-fluid","mt-4","p-5"],["class","alert",3,"ngClass",4,"ngIf"],[1,"table","mt-5"],[4,"ngFor","ngForOf"],["href","https://fonts.google.com/icons","target","_blank"],[1,"mt-4"],[1,"row","g-3","align-items-center","mb-3"],[1,"col-md-3"],[1,"form-select",3,"ngModelChange","ngModel"],["value","fill"],["value","multiple"],["value","select-one"],[1,"col-md-5"],["type","text","placeholder","Enter question text",1,"form-control",3,"ngModelChange","ngModel"],["class","col-md-4",4,"ngIf"],[1,"d-flex","justify-content-between"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-success",3,"click","disabled"],[1,"alert",3,"ngClass"],[1,"form-select",3,"ngModelChange","change","ngModel"],["type","text","placeholder","Enter icon URL or name",1,"form-control",3,"ngModelChange","change","ngModel"],["type","text","placeholder","Enter question title",1,"form-control",3,"ngModelChange","change","ngModel"],["type","text",1,"form-control",3,"ngModelChange","change","ngModel"],[4,"ngIf"],["type","text","placeholder","Enter placeholder text",1,"form-control",3,"ngModelChange","change","ngModel"],[1,"form-check","form-switch"],["type","checkbox",1,"form-check-input",3,"ngModelChange","change","ngModel"],["type","text","placeholder","Comma-separated choices",1,"form-control","mb-1",3,"ngModelChange","change","ngModel"],[1,"text-muted","small"],[1,"col-md-4"],["type","text","placeholder","Comma-separated choices",1,"form-control",3,"ngModelChange","ngModel"]],template:function(e,r){e&1&&(d(0,"div",0),S(1,d2,2,5,"div",1),d(2,"h1"),f(3,"Admin Emotion Question Dashboard"),c(),d(4,"table",2)(5,"thead")(6,"tr")(7,"th"),f(8,"Type"),c(),d(9,"th"),f(10,"Question Icon"),c(),d(11,"th"),f(12,"Question Title"),c(),d(13,"th"),f(14,"Question Text"),c(),d(15,"th"),f(16,"Choices"),c(),d(17,"th"),f(18,"Placeholder"),c(),d(19,"th"),f(20,"Active"),c(),d(21,"th"),f(22,"Last Updated"),c()()(),d(23,"tbody"),S(24,h2,25,11,"tr",3),c()(),d(25,"label"),f(26,"For icons, go to this website: "),d(27,"a",4),f(28,"https://fonts.google.com/icons"),c(),f(29,". "),_(30,"br"),f(31,"Search for favourite icon. When you click your icon, you will look for the name of the icon and "),_(32,"br"),f(33," put it into the space"),c(),d(34,"h4",5),f(35,"Add New Question"),c(),d(36,"div",6)(37,"div",7)(38,"select",8),$e("ngModelChange",function(o){return He(r.newQuestionType,o)||(r.newQuestionType=o),o}),d(39,"option",9),f(40,"Fill"),c(),d(41,"option",10),f(42,"Multiple"),c(),d(43,"option",11),f(44,"Select One"),c()()(),d(45,"div",12)(46,"input",13),$e("ngModelChange",function(o){return He(r.newQuestionText,o)||(r.newQuestionText=o),o}),c()(),S(47,p2,2,1,"div",14),c(),d(48,"div",15)(49,"button",16),D("click",function(){return r.addQuestion()}),f(50,"Add Question"),c(),d(51,"button",17),D("click",function(){return r.saveChanges()}),f(52,"Save Changes"),c()()()),e&2&&(m(),y("ngIf",r.message),m(23),y("ngForOf",r.questions),m(14),Be("ngModel",r.newQuestionType),m(8),Be("ngModel",r.newQuestionText),m(),y("ngIf",r.newQuestionType!=="fill"),m(4),y("disabled",!r.hasChanges()))},dependencies:[ui,Kn,Zn,We,xr,Qn,nt,io,fe,Rt,Le,ye,pn],styles:[".container[_ngcontent-%COMP%]{max-width:800px;margin:auto}.question-row[_ngcontent-%COMP%]{position:relative}.delete-button[_ngcontent-%COMP%]{display:none;position:absolute;right:10px;top:50%;transform:translateY(-50%)}.question-row[_ngcontent-%COMP%]:hover   .delete-button[_ngcontent-%COMP%]{display:block}.alert[_ngcontent-%COMP%]{padding:10px 20px;margin-bottom:15px;border-radius:4px;text-align:center}.table[_ngcontent-%COMP%]{--bs-table-bg: transparent}"]})};var Kg;try{Kg=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Kg=!1}var Md=(()=>{class n{_platformId=I(kt);isBrowser=this._platformId?Me(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||Kg)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Zg(n){return Array.isArray(n)?n:[n]}var _S=new Set,so,m2=(()=>{class n{_platform=I(Md);_nonce=I(Ys,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):v2}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&g2(e,this._nonce),this._matchMedia(e)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function g2(n,t){if(!_S.has(n))try{so||(so=document.createElement("style"),t&&so.setAttribute("nonce",t),so.setAttribute("type","text/css"),document.head.appendChild(so)),so.sheet&&(so.sheet.insertRule(`@media ${n} {body{ }}`,0),_S.add(n))}catch(e){console.error(e)}}function v2(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var wS=(()=>{class n{_mediaMatcher=I(m2);_zone=I(Ee);_queries=new Map;_destroySubject=new xe;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return bS(Zg(e)).some(i=>this._registerQuery(i).mql.matches)}observe(e){let i=bS(Zg(e)).map(s=>this._registerQuery(s).observable),o=Do(i);return o=Vr(o.pipe(jt(1)),o.pipe(Rf(1),xf(0))),o.pipe(G(s=>{let a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:u})=>{a.matches=a.matches||l,a.breakpoints[u]=l}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let r=this._mediaMatcher.matchMedia(e),o={observable:new ue(s=>{let a=l=>this._zone.run(()=>s.next(l));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(ks(r),G(({matches:s})=>({query:e,matches:s})),Ns(this._destroySubject)),mql:r};return this._queries.set(e,o),o}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function bS(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}var ao=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(ao||{}),ES="cdk-high-contrast-black-on-white",CS="cdk-high-contrast-white-on-black",Yg="cdk-high-contrast-active",SS=(()=>{class n{_platform=I(Md);_hasCheckedHighContrastMode;_document=I(Fe);_breakpointSubscription;constructor(){this._breakpointSubscription=I(wS).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return ao.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(e):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return ao.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return ao.BLACK_ON_WHITE}return ao.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(Yg,ES,CS),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===ao.BLACK_ON_WHITE?e.add(Yg,ES):r===ao.WHITE_ON_BLACK&&e.add(Yg,CS)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Jg=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Je({type:n});static \u0275inj=Ze({})}return n})();var Xg=(()=>{class n{constructor(){I(SS)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Je({type:n});static \u0275inj=Ze({imports:[Jg,Jg]})}return n})();var y2=["*"],Ad;function _2(){if(Ad===void 0&&(Ad=null,typeof window<"u")){let n=window;n.trustedTypes!==void 0&&(Ad=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return Ad}function al(n){return _2()?.createHTML(n)||n}function DS(n){return Error(`Unable to find icon with the name "${n}"`)}function b2(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function IS(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function TS(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}var kr=class{url;svgText;options;svgElement;constructor(t,e,r){this.url=t,this.svgText=e,this.options=r}},w2=(()=>{class n{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(e,r,i,o){this._httpClient=e,this._sanitizer=r,this._errorHandler=o,this._document=i}addSvgIcon(e,r,i){return this.addSvgIconInNamespace("",e,r,i)}addSvgIconLiteral(e,r,i){return this.addSvgIconLiteralInNamespace("",e,r,i)}addSvgIconInNamespace(e,r,i,o){return this._addSvgIconConfig(e,r,new kr(i,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,r,i,o){let s=this._sanitizer.sanitize(ht.HTML,i);if(!s)throw TS(i);let a=al(s);return this._addSvgIconConfig(e,r,new kr("",a,o))}addSvgIconSet(e,r){return this.addSvgIconSetInNamespace("",e,r)}addSvgIconSetLiteral(e,r){return this.addSvgIconSetLiteralInNamespace("",e,r)}addSvgIconSetInNamespace(e,r,i){return this._addSvgIconSetConfig(e,new kr(r,null,i))}addSvgIconSetLiteralInNamespace(e,r,i){let o=this._sanitizer.sanitize(ht.HTML,r);if(!o)throw TS(r);let s=al(o);return this._addSvgIconSetConfig(e,new kr("",s,i))}registerFontClassAlias(e,r=e){return this._fontCssClassesByAlias.set(e,r),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){let r=this._sanitizer.sanitize(ht.RESOURCE_URL,e);if(!r)throw IS(e);let i=this._cachedIconsByUrl.get(r);return i?q(kd(i)):this._loadSvgIconFromConfig(new kr(e,null)).pipe(Pe(o=>this._cachedIconsByUrl.set(r,o)),G(o=>kd(o)))}getNamedSvgIcon(e,r=""){let i=xS(r,e),o=this._svgIconConfigs.get(i);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(r,e),o)return this._svgIconConfigs.set(i,o),this._getSvgFromConfig(o);let s=this._iconSetConfigs.get(r);return s?this._getSvgFromIconSetConfigs(e,s):Lr(DS(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?q(kd(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(G(r=>kd(r)))}_getSvgFromIconSetConfigs(e,r){let i=this._extractIconWithNameFromAnySet(e,r);if(i)return q(i);let o=r.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(Vn(a=>{let u=`Loading icon set URL: ${this._sanitizer.sanitize(ht.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(u)),q(null)})));return As(o).pipe(G(()=>{let s=this._extractIconWithNameFromAnySet(e,r);if(!s)throw DS(e);return s}))}_extractIconWithNameFromAnySet(e,r){for(let i=r.length-1;i>=0;i--){let o=r[i];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){let s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,e,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Pe(r=>e.svgText=r),G(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?q(null):this._fetchIcon(e).pipe(Pe(r=>e.svgText=r))}_extractSvgIconFromSet(e,r,i){let o=e.querySelector(`[id="${r}"]`);if(!o)return null;let s=o.cloneNode(!0);if(s.removeAttribute("id"),s.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(s,i);if(s.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(s),i);let a=this._svgElementFromString(al("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,i)}_svgElementFromString(e){let r=this._document.createElement("DIV");r.innerHTML=e;let i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(e){let r=this._svgElementFromString(al("<svg></svg>")),i=e.attributes;for(let o=0;o<i.length;o++){let{name:s,value:a}=i[o];s!=="id"&&r.setAttribute(s,a)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&r.appendChild(e.childNodes[o].cloneNode(!0));return r}_setSvgAttributes(e,r){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),r&&r.viewBox&&e.setAttribute("viewBox",r.viewBox),e}_fetchIcon(e){let{url:r,options:i}=e,o=i?.withCredentials??!1;if(!this._httpClient)throw b2();if(r==null)throw Error(`Cannot fetch icon from URL "${r}".`);let s=this._sanitizer.sanitize(ht.RESOURCE_URL,r);if(!s)throw IS(r);let a=this._inProgressUrlFetches.get(s);if(a)return a;let l=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(G(u=>al(u)),rr(()=>this._inProgressUrlFetches.delete(s)),Nf());return this._inProgressUrlFetches.set(s,l),l}_addSvgIconConfig(e,r,i){return this._svgIconConfigs.set(xS(e,r),i),this}_addSvgIconSetConfig(e,r){let i=this._iconSetConfigs.get(e);return i?i.push(r):this._iconSetConfigs.set(e,[r]),this}_svgElementFromConfig(e){if(!e.svgElement){let r=this._svgElementFromString(e.svgText);this._setSvgAttributes(r,e.options),e.svgElement=r}return e.svgElement}_getIconConfigFromResolvers(e,r){for(let i=0;i<this._resolvers.length;i++){let o=this._resolvers[i](r,e);if(o)return E2(o)?new kr(o.url,null,o.options):new kr(o,null)}}static \u0275fac=function(r){return new(r||n)(V(lm,8),V(gm),V(Fe,8),V(Mt))};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function kd(n){return n.cloneNode(!0)}function xS(n,t){return n+":"+t}function E2(n){return!!(n.url&&n.options)}var C2=new L("MAT_ICON_DEFAULT_OPTIONS"),S2=new L("mat-icon-location",{providedIn:"root",factory:D2});function D2(){let n=I(Fe),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}var MS=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],I2=MS.map(n=>`[${n}]`).join(", "),T2=/^url\(['"]?#(.*?)['"]?\)$/,Nd=(()=>{class n{_elementRef=I(Ye);_iconRegistry=I(w2);_location=I(S2);_errorHandler=I(Mt);_defaultColor;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(e){let r=this._cleanupFontValue(e);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(e){let r=this._cleanupFontValue(e);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=Te.EMPTY;constructor(){let e=I(new yc("aria-hidden"),{optional:!0}),r=I(C2,{optional:!0});r&&(r.color&&(this.color=this._defaultColor=r.color),r.fontSet&&(this.fontSet=r.fontSet)),e||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];let r=e.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let e=this._elementsWithExternalReferences;if(e&&e.size){let r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();let r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){let e=this._elementRef.nativeElement,r=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){let i=e.childNodes[r];(i.nodeType!==1||i.nodeName.toLowerCase()==="svg")&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let e=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>e.classList.remove(i)),r.forEach(i=>e.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return typeof e=="string"?e.trim().split(" ")[0]:e}_prependPathToReferences(e){let r=this._elementsWithExternalReferences;r&&r.forEach((i,o)=>{i.forEach(s=>{o.setAttribute(s.name,`url('${e}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(e){let r=e.querySelectorAll(I2),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<r.length;o++)MS.forEach(s=>{let a=r[o],l=a.getAttribute(s),u=l?l.match(T2):null;if(u){let h=i.get(a);h||(h=[],i.set(a,h)),h.push({name:s,value:u[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){let[r,i]=this._splitIconName(e);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(jt(1)).subscribe(o=>this._setSvgElement(o),o=>{let s=`Error retrieving icon ${r}:${i}! ${o.message}`;this._errorHandler.handleError(new Error(s))})}}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=ee({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(r,i){r&2&&(zn("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),tu(i.color?"mat-"+i.color:""),zt("mat-icon-inline",i.inline)("mat-icon-no-color",i.color!=="primary"&&i.color!=="accent"&&i.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",kn],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Li],ngContentSelectors:y2,decls:1,vars:0,template:function(r,i){r&1&&(Bp(),$p(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return n})(),Rd=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Je({type:n});static \u0275inj=Ze({imports:[Xg,Xg]})}return n})();var X=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(X||{}),Jn="*";function ev(n,t){return{type:X.Trigger,name:n,definitions:t,options:{}}}function Nr(n,t=null){return{type:X.Animate,styles:t,timings:n}}function kS(n,t=null){return{type:X.Sequence,steps:n,options:t}}function wn(n){return{type:X.Style,styles:n,offset:null}}function bs(n,t,e){return{type:X.State,name:n,styles:t,options:e}}function Rr(n,t,e=null){return{type:X.Transition,expr:n,animation:t,options:e}}var di=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(t=0,e=0){this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}},ll=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(t){this.players=t;let e=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){let e=t*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(i)})}getPosition(){let t=this.players.reduce((e,r)=>e===null||r.totalTime>e.totalTime?r:e,null);return t!=null?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}},Od="!";var x2=(n,t)=>({"alert-success":n,"alert-danger":t});function M2(n,t){if(n&1&&(d(0,"div",11),f(1),c()),n&2){let e=E();y("ngClass",fn(2,x2,e.messageType==="success",e.messageType==="error")),m(),U(" ",e.message," ")}}function A2(n,t){if(n&1){let e=H();d(0,"textarea",23),$e("ngModelChange",function(i){x(e);let o=E(3);return He(o.currentQuestion.answer,i)||(o.currentQuestion.answer=i),M(i)}),c()}if(n&2){let e=E(3);ji("name",e.currentQuestion.question_id),ji("placeholder",e.currentQuestion.question_data.placeholder),Be("ngModel",e.currentQuestion.answer)}}function k2(n,t){if(n&1){let e=H();d(0,"div",25)(1,"input",26),$e("ngModelChange",function(i){x(e);let o=E(4);return He(o.currentQuestion.answer,i)||(o.currentQuestion.answer=i),M(i)}),c(),d(2,"label",27),f(3),c()()}if(n&2){let e=t.$implicit,r=E(4);m(),ji("name",r.currentQuestion.question_id),y("value",e),Be("ngModel",r.currentQuestion.answer),m(2),K(e)}}function N2(n,t){if(n&1&&(d(0,"div"),S(1,k2,4,4,"div",24),c()),n&2){let e=E(3);m(),y("ngForOf",e.currentQuestion.question_data.choices)}}function R2(n,t){if(n&1){let e=H();d(0,"div",25)(1,"input",28),D("change",function(){let i=x(e).$implicit,o=E(4);return M(o.toggleMultipleChoice(o.currentQuestion,i))}),c(),d(2,"label",27),f(3),c()()}if(n&2){let e=t.$implicit,r=E(4);m(),y("checked",r.currentQuestion.multipleAnswers==null?null:r.currentQuestion.multipleAnswers.includes(e)),m(2),K(e)}}function O2(n,t){if(n&1&&(d(0,"div"),S(1,R2,4,2,"div",24),c()),n&2){let e=E(3);m(),y("ngForOf",e.currentQuestion.question_data.choices)}}function P2(n,t){if(n&1&&(d(0,"div",14)(1,"div",15)(2,"div",16)(3,"mat-icon",17),f(4),c(),d(5,"h2",18),f(6),c(),d(7,"h6",19),f(8),c()(),d(9,"div",20),S(10,A2,1,3,"textarea",21)(11,N2,2,1,"div",22)(12,O2,2,1,"div",22),c()()()),n&2){let e=E(2);y("@questionAnimation",e.animationState),m(4),K(e.currentQuestion.question_data.question_icon),m(2),K(e.currentQuestion.question_data.question_title),m(2),K(e.currentQuestion.question_data.question),m(2),y("ngIf",e.currentQuestion.question_data.question_type==="fill"),m(),y("ngIf",e.currentQuestion.question_data.question_type==="select-one"),m(),y("ngIf",e.currentQuestion.question_data.question_type==="multiple")}}function F2(n,t){if(n&1&&(d(0,"div",12),S(1,P2,13,7,"div",13),c()),n&2){let e=E();m(),y("ngIf",e.currentQuestion)}}function L2(n,t){if(n&1){let e=H();d(0,"button",33),D("click",function(){x(e);let i=E(2);return M(i.nextQuestion())}),f(1," Next "),c()}if(n&2){let e=E(2);y("disabled",e.isLastQuestion()||!e.isCurrentQuestionAnswered())}}function V2(n,t){if(n&1){let e=H();d(0,"button",34),D("click",function(){x(e);let i=E(2);return M(i.submitAnswers())}),f(1," Submit Answers "),c()}if(n&2){let e=E(2);y("disabled",!e.allDisplayedQuestionsAnswered())}}function j2(n,t){if(n&1){let e=H();d(0,"div",29)(1,"button",30),D("click",function(){x(e);let i=E();return M(i.prevQuestion())}),f(2," Previous "),c(),S(3,L2,2,1,"button",31)(4,V2,2,1,"button",32),c()}if(n&2){let e=E();m(),y("disabled",e.isFirstQuestion()),m(2),y("ngIf",!e.isLastQuestion()),m(),y("ngIf",e.isLastQuestion())}}function U2(n,t){if(n&1&&(d(0,"div",37)(1,"p"),f(2),c()()),n&2){let e=E(2);m(2),K(e.currentInspirationMessage)}}function B2(n,t){if(n&1&&(d(0,"div",35),S(1,U2,3,1,"div",36),c()),n&2){let e=E();y("@messageAnimation",e.showInspirationMessage||e.showRedirectMessage?"*":"void"),m(),y("ngIf",e.showInspirationMessage)}}var Pd=class n{constructor(t,e,r){this.supabaseService=t;this.cdr=e;this.router=r}allQuestions=[];displayedQuestions=[];currentQuestionIndex=0;message="";messageType="success";animationState="visible";showInspirationMessage=!1;currentInspirationMessage="";showRedirectMessage=!1;redirectCountdown=5;inspirationalMessages=["Your emotions are valid and important. Acknowledge them with kindness.","Understanding your emotions is a powerful step towards self-discovery.","Emotions are not good or bad, they are signals. Listen to what they tell you.","Allow yourself to feel. It's a sign of being fully alive.","Processing your emotions builds resilience and strength.","Every emotion you feel is a part of your unique human experience.","Be patient and compassionate with yourself as you navigate your feelings.","The only way to make sense out of change is to plunge into it, move with it, and join the dance.","Emotion, which is suffering, ceases to be suffering as soon as we have a clear picture of it.","The best and most beautiful things in the world cannot be seen or even touched - they must be felt with the heart.","Never apologize for showing feeling. When you do, you apologize for the truth.","Our feelings are our most genuine paths to knowledge.","Do not let your emotions make your decisions. Let your decisions manage your emotions.","The feeling of being fully alive is the highest form of wealth.","Emotions are the language of the soul.","Your emotions are valid. Don't let anyone tell you otherwise.","Healing is not about suppressing your emotions, but about feeling them and moving through them.","What is necessary to change a person is to change his awareness of himself.","The privilege of a lifetime is to become who you truly are.","The quieter you become, the more you can hear.","Everything you can imagine is real.","The only way to do great work is to love what you do.","Believe you can and you're halfway there.","The future belongs to those who believe in the beauty of their dreams.","It is never too late to be what you might have been.","The mind is everything. What you think you become.","Happiness is not something ready made. It comes from your own actions.","The only limit to our realization of tomorrow will be our doubts of today.","Where there is love there is life.","The journey of a thousand miles begins with a single step.","Either you run the day, or the day runs you.","The best revenge is massive success.","The most difficult thing is the decision to act, the rest is merely tenacity.","Life is 10% what happens to you and 90% how you react to it.","With the new day comes new strength and new thoughts.","The purpose of our lives is to be happy.","Live in the sunshine, swim the sea, drink the wild air.","The only impossible journey is the one you never begin.","In three words I can sum up everything I've learned about life: it goes on."];ngOnInit(){this.loadQuestions()}async loadQuestions(){let{data:t,error:e}=await this.supabaseService.getActiveQuestions();e?(console.error("Error loading questions:",e),this.message="Error loading questions.",this.messageType="error"):t&&(this.allQuestions=t,this.selectAndShuffleQuestions()),this.cdr.markForCheck()}selectAndShuffleQuestions(){let t=this.allQuestions.length<=5?[...this.allQuestions]:this.allQuestions.slice(0,5);for(let e=t.length-1;e>0;e--){let r=Math.floor(Math.random()*(e+1));[t[e],t[r]]=[t[r],t[e]]}this.displayedQuestions=t,this.currentQuestionIndex=0}get currentQuestion(){return this.displayedQuestions.length>0?this.displayedQuestions[this.currentQuestionIndex]:null}isCurrentQuestionAnswered(){let t=this.currentQuestion;return t?t.question_data.question_type==="multiple"?t.multipleAnswers!=null&&t.multipleAnswers.length>0:t.answer!=null&&t.answer.trim().length>0:!1}nextQuestion(){this.currentQuestionIndex<this.displayedQuestions.length-1&&(this.animationState="hidden-left",setTimeout(()=>{this.currentQuestionIndex++,this.animationState="visible",this.cdr.markForCheck()},300))}prevQuestion(){this.currentQuestionIndex>0&&(this.animationState="hidden-right",setTimeout(()=>{this.currentQuestionIndex--,this.animationState="visible",this.cdr.markForCheck()},300))}isFirstQuestion(){return this.currentQuestionIndex===0}isLastQuestion(){return this.currentQuestionIndex===this.displayedQuestions.length-1}toggleMultipleChoice(t,e){t.multipleAnswers||(t.multipleAnswers=[]);let r=t.multipleAnswers.indexOf(e);r>-1?t.multipleAnswers.splice(r,1):t.multipleAnswers.push(e),this.cdr.markForCheck()}allDisplayedQuestionsAnswered(){return this.displayedQuestions.every(t=>t.question_data.question_type==="multiple"?t.multipleAnswers!=null&&t.multipleAnswers.length>0:t.answer!=null&&t.answer.trim().length>0)}async submitAnswers(){if(!this.allDisplayedQuestionsAnswered()){this.message="Please answer all questions before submitting.",this.messageType="error",this.cdr.markForCheck();return}let t=this.supabaseService.user()?.id;if(!t){this.message="User not authenticated.",this.messageType="error",this.cdr.markForCheck();return}let e=this.displayedQuestions.map(i=>({question_id:i.question_id,answer:i.question_data.question_type==="multiple"?i.multipleAnswers?.join(", ")??"":i.answer?.trim()??"",user_id:t})),{error:r}=await this.supabaseService.submitUserAnswers(e);this.message="",this.showInspirationMessage=!1,this.showRedirectMessage=!1,r?(console.error("Error submitting answers:",r),this.message="Error submitting answers.",this.messageType="error",this.cdr.markForCheck()):(this.messageType="success",this.showInspirationMessage=!0,this.currentInspirationMessage=this.getRandomInspirationMessage(),this.cdr.markForCheck(),setTimeout(()=>{this.showInspirationMessage=!0,this.message="Redirecting to Dashboard in 5 seconds...",this.cdr.markForCheck()},5e3),setTimeout(()=>{this.router.navigateByUrl("/home")},1e4))}getRandomInspirationMessage(){let t=Math.floor(Math.random()*this.inspirationalMessages.length);return this.inspirationalMessages[t]}startRedirectCountdown(){this.redirectCountdown=5;let t=setInterval(()=>{this.redirectCountdown--,this.cdr.markForCheck(),this.redirectCountdown<=0&&(clearInterval(t),this.router.navigateByUrl("/home"))},1e3)}static \u0275fac=function(e){return new(e||n)(T(de),T(le),T(Zt))};static \u0275cmp=ee({type:n,selectors:[["app-user-emotion-questionnaire"]],decls:13,vars:4,consts:[[1,"container-fluid"],["aria-label","breadcrumb",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/home",1,"text-decoration-none"],["aria-current","page",1,"breadcrumb-item","active"],[1,"full-screen-container"],["class","alert",3,"ngClass",4,"ngIf"],["class","question-area",4,"ngIf"],["class","navigation-buttons mt-4 text-center",4,"ngIf"],["class","post-submit-message-area",4,"ngIf"],[1,"alert",3,"ngClass"],[1,"question-area"],["class","question-card-wrapper",4,"ngIf"],[1,"question-card-wrapper"],[1,"card","question-card"],[1,"card-header","form-label","question-label"],[1,"question-icon"],[1,"fs-2","fw-bold"],[1,"mb-0"],[1,"card-body"],["class","form-control","rows","5",3,"ngModel","name","placeholder","ngModelChange",4,"ngIf"],[4,"ngIf"],["rows","5",1,"form-control",3,"ngModelChange","ngModel","name","placeholder"],["class","form-check mb-2",4,"ngFor","ngForOf"],[1,"form-check","mb-2"],["type","radio",1,"form-check-input",3,"ngModelChange","name","value","ngModel"],[1,"form-check-label"],["type","checkbox",1,"form-check-input",3,"change","checked"],[1,"navigation-buttons","mt-4","text-center"],["type","button",1,"btn","btn-secondary","me-2",3,"click","disabled"],["type","button","class","btn btn-primary",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-success",3,"disabled","click",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click","disabled"],["type","button",1,"btn","btn-success",3,"click","disabled"],[1,"post-submit-message-area"],["class","inspiration-message",4,"ngIf"],[1,"inspiration-message"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),f(5,"Dashboard"),c()(),d(6,"li",5),f(7,"Emotion Questions"),c()()(),d(8,"div",6),S(9,M2,2,5,"div",7)(10,F2,2,1,"div",8)(11,j2,5,3,"div",9)(12,B2,2,2,"div",10),c()()),e&2&&(m(9),y("ngIf",r.message),m(),y("ngIf",!r.showInspirationMessage&&!r.showRedirectMessage),m(),y("ngIf",!r.showInspirationMessage&&!r.showRedirectMessage),m(),y("ngIf",r.showInspirationMessage||r.showRedirectMessage))},dependencies:[ui,We,Ar,nt,io,fe,Rt,Le,ye,Rd,Nd],styles:[".full-screen-container[_ngcontent-%COMP%]{min-height:80vh;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:20px}.question-area[_ngcontent-%COMP%]{flex-grow:1;display:flex;justify-content:center;align-items:center;width:100%;max-width:800px;overflow:hidden;position:relative}.question-card-wrapper[_ngcontent-%COMP%]{position:absolute;width:100%;max-width:800px}.question-card[_ngcontent-%COMP%]{width:100%;overflow:hidden}.card[_ngcontent-%COMP%]{background-color:transparent;border:none}.card-header[_ngcontent-%COMP%]{border:none;padding:20px;display:flex;flex-direction:column;align-items:center;text-align:center}.card-body[_ngcontent-%COMP%]{padding:30px}textarea.form-control[_ngcontent-%COMP%]{border-radius:8px;padding:15px}.form-check[_ngcontent-%COMP%]{margin-bottom:10px}.form-check-input[_ngcontent-%COMP%]{margin-top:.3em}.form-check-label[_ngcontent-%COMP%]{margin-left:.5em}.navigation-buttons[_ngcontent-%COMP%]{width:100%;max-width:800px;margin-top:20px}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%], .btn-success[_ngcontent-%COMP%]{padding:10px 20px;border-radius:20px}button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.post-submit-message-area[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;padding:20px;max-width:100dvw}.inspiration-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-style:italic;margin-bottom:20px}.redirect-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700}@media (max-width: 768px){.full-screen-container[_ngcontent-%COMP%]{padding:10px}.question-card[_ngcontent-%COMP%]{border-radius:10px}.card-header[_ngcontent-%COMP%]{padding:15px}.question-icon[_ngcontent-%COMP%]{font-size:2.5rem}.card-body[_ngcontent-%COMP%]{padding:20px}.navigation-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin-bottom:10px;margin-right:0!important}.post-submit-message-area[_ngcontent-%COMP%]{padding:15px}.inspiration-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem}.redirect-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}"],data:{animation:[ev("questionAnimation",[bs("visible",wn({opacity:1,transform:"translateX(0)",filter:"blur(0px)"})),bs("hidden-right",wn({opacity:0,transform:"translateX(100%)",filter:"blur(5px)"})),bs("hidden-left",wn({opacity:0,transform:"translateX(-100%)",filter:"blur(5px)"})),Rr(":enter",[wn({opacity:0,transform:"translateX(100%)",filter:"blur(5px)"}),Nr("500ms ease-out",wn({opacity:1,transform:"translateX(0)",filter:"blur(0px)"}))]),Rr(":leave",[Nr("500ms ease-out",wn({opacity:0,transform:"translateX(-100%)",filter:"blur(5px)"}))]),Rr("visible => hidden-left",Nr("300ms ease-out")),Rr("hidden-right => visible",Nr("300ms ease-in")),Rr("visible => hidden-right",Nr("300ms ease-out")),Rr("hidden-left => visible",Nr("300ms ease-in"))]),ev("messageAnimation",[bs("void",wn({opacity:0,transform:"scale(0.8)"})),bs("*",wn({opacity:1,transform:"scale(1)"})),Rr("void => *",Nr("500ms ease-out")),Rr("* => void",Nr("500ms ease-in"))])]}})};function $2(n,t){if(n&1&&(d(0,"div",13),f(1),c()),n&2){let e=E();m(),U(" ",e.errorMessage," ")}}function H2(n,t){n&1&&(d(0,"div",28),f(1," A valid email is required. "),c())}function z2(n,t){n&1&&(d(0,"div",28),f(1," Password must be at least 6 characters. "),c())}function q2(n,t){if(n&1){let e=H();d(0,"form",14),D("ngSubmit",function(){x(e);let i=E();return M(i.onSubmit())}),d(1,"div",15)(2,"label",16),f(3,"Email"),c(),_(4,"input",17),S(5,H2,2,0,"div",18),c(),d(6,"div",15)(7,"label",19),f(8,"Password"),c(),_(9,"input",20),S(10,z2,2,0,"div",18),d(11,"div",21)(12,"a",22),f(13,"Forgot password?"),c()()(),d(14,"div",23)(15,"button",24),f(16,"Continue"),c()(),d(17,"div",25)(18,"p",26),f(19,"Don't have an account? "),d(20,"a",27),D("click",function(){x(e);let i=E();return M(i.setActiveTab("signup"))}),f(21,"Sign up"),c()()()()}if(n&2){let e,r,i=E();y("formGroup",i.signinForm),m(5),y("ngIf",((e=i.signinForm.get("email"))==null?null:e.invalid)&&((e=i.signinForm.get("email"))==null?null:e.touched)),m(5),y("ngIf",((r=i.signinForm.get("password"))==null?null:r.invalid)&&((r=i.signinForm.get("password"))==null?null:r.touched)),m(5),y("disabled",i.signinForm.invalid)}}function G2(n,t){n&1&&(d(0,"small",43),f(1," First name is required "),c())}function W2(n,t){n&1&&(d(0,"small",43),f(1," Last name is required "),c())}function Q2(n,t){n&1&&(d(0,"small",43),f(1," Valid email is required "),c())}function K2(n,t){n&1&&(d(0,"small",43),f(1," Password must be at least 6 characters "),c())}function Z2(n,t){n&1&&(d(0,"small",43),f(1," Passwords do not match "),c())}function Y2(n,t){if(n&1){let e=H();d(0,"form",14),D("ngSubmit",function(){x(e);let i=E();return M(i.onSignupSubmit())}),d(1,"div",29)(2,"div",30)(3,"label",31),f(4,"First Name"),c(),_(5,"input",32),S(6,G2,2,0,"small",33),c(),d(7,"div",30)(8,"label",34),f(9,"Last Name"),c(),_(10,"input",35),S(11,W2,2,0,"small",33),c()(),d(12,"div",15)(13,"label",36),f(14,"Email"),c(),_(15,"input",37),S(16,Q2,2,0,"small",33),c(),d(17,"div",15)(18,"label",38),f(19,"Password"),c(),_(20,"input",39),S(21,K2,2,0,"small",33),c(),d(22,"div",15)(23,"label",40),f(24,"Confirm Password"),c(),_(25,"input",41),S(26,Z2,2,0,"small",33),c(),d(27,"div",23)(28,"button",24),f(29,"Create Account"),c()(),d(30,"div",25)(31,"p",26),f(32,"Already have an account? "),d(33,"a",42),D("click",function(){x(e);let i=E();return M(i.setActiveTab("login"))}),f(34,"Login"),c()()()()}if(n&2){let e,r,i,o,s,a=E();y("formGroup",a.signupForm),m(6),y("ngIf",((e=a.signupForm.get("firstname"))==null?null:e.invalid)&&((e=a.signupForm.get("firstname"))==null?null:e.touched)),m(5),y("ngIf",((r=a.signupForm.get("lastname"))==null?null:r.invalid)&&((r=a.signupForm.get("lastname"))==null?null:r.touched)),m(5),y("ngIf",((i=a.signupForm.get("email"))==null?null:i.invalid)&&((i=a.signupForm.get("email"))==null?null:i.touched)),m(5),y("ngIf",((o=a.signupForm.get("password"))==null?null:o.invalid)&&((o=a.signupForm.get("password"))==null?null:o.touched)),m(5),y("ngIf",a.signupForm.hasError("mismatch")&&((s=a.signupForm.get("confirmPassword"))==null?null:s.touched)),m(2),y("disabled",a.signupForm.invalid)}}var Fd=class n{constructor(t,e,r,i){this.fb=t;this.router=e;this.route=r;this.supabaseService=i;this.signinForm=this.fb.group({email:["",[O.required,O.email]],password:["",[O.required,O.minLength(6)]]}),this.signupForm=this.fb.group({firstname:["",O.required],lastname:["",O.required],email:["",[O.required,O.email]],password:["",[O.required,O.minLength(6)]],confirmPassword:["",O.required]},{validators:this.passwordMatchValidator})}activeTab="login";signinForm;signupForm;errorMessage=null;ngOnInit(){this.route.queryParams.subscribe(t=>{t.mode==="signup"&&(this.activeTab="signup")})}passwordMatchValidator(t){let e=t.get("password")?.value,r=t.get("confirmPassword")?.value;return e===r?null:{mismatch:!0}}setActiveTab(t){this.activeTab=t,this.errorMessage=null}async onSubmit(){if(this.signinForm.invalid){this.signinForm.markAllAsTouched();return}let{email:t,password:e}=this.signinForm.getRawValue();try{if(await this.supabaseService.signIn(t,e),!this.supabaseService.currentUsername()){this.errorMessage="Login failed. Please try again.";return}this.signinForm.reset();let r=this.route.snapshot.queryParams.returnUrl||"/home";this.router.navigateByUrl(r)}catch(r){this.errorMessage=r.message||"An unexpected error occurred."}}onSignupSubmit(){if(this.signupForm.invalid){this.signupForm.markAllAsTouched();return}let{email:t,password:e,firstname:r,lastname:i}=this.signupForm.getRawValue();this.supabaseService.signUp(t,e,r,i).then(()=>{this.signupForm.reset(),this.router.navigateByUrl("/home")}).catch(o=>{this.errorMessage=o.message||"An unexpected error occurred.",console.error(o)})}static \u0275fac=function(e){return new(e||n)(T(bn),T(Zt),T(On),T(de))};static \u0275cmp=ee({type:n,selectors:[["app-login-signup"]],decls:20,vars:7,consts:[[1,"auth-container"],[1,"auth-card"],[1,"text-center","mb-4"],[1,"logo-circle","mx-auto"],["src","/trading-rehab-logo.png","alt","Logo",1,"img-fluid"],[1,"brand-name","mt-3"],[1,"brand-tagline"],[1,"auth-tabs","d-flex","justify-content-center","mb-4"],[1,"tabs-container"],[1,"tab",3,"click"],[1,"mx-2","tab-separator"],["class","alert alert-danger mb-3",4,"ngIf"],["class","auth-form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"alert","alert-danger","mb-3"],[1,"auth-form",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","placeholder","Enter your email",1,"form-control"],["class","text-danger small mt-1",4,"ngIf"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password","placeholder","Enter your password",1,"form-control"],[1,"d-flex","justify-content-end","mt-2"],["href","#",1,"forgot-link"],[1,"d-grid","gap-2","mt-4"],["type","submit",1,"btn","btn-tr","btn-primary","btn-md",3,"disabled"],[1,"text-center","mt-4"],[1,"mb-0"],["href","javascript:void(0)",1,"signup-link",3,"click"],[1,"text-danger","small","mt-1"],[1,"row"],[1,"col-md-6","mb-3"],["for","firstname",1,"form-label"],["type","text","id","firstname","formControlName","firstname","placeholder","First name",1,"form-control"],["class","text-danger",4,"ngIf"],["for","lastname",1,"form-label"],["type","text","id","lastname","formControlName","lastname","placeholder","Last name",1,"form-control"],["for","signup-email",1,"form-label"],["type","email","id","signup-email","formControlName","email","placeholder","Enter your email",1,"form-control"],["for","signup-password",1,"form-label"],["type","password","id","signup-password","formControlName","password","placeholder","Create a password",1,"form-control"],["for","confirmPassword",1,"form-label"],["type","password","id","confirmPassword","formControlName","confirmPassword","placeholder","Confirm your password",1,"form-control"],["href","javascript:void(0)",1,"login-link",3,"click"],[1,"text-danger"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),_(4,"img",4),c(),d(5,"h2",5),f(6,"TRADING REHAB"),c(),d(7,"p",6),f(8,"Where Disciplined Trading Begins"),c()(),d(9,"div",7)(10,"div",8)(11,"span",9),D("click",function(){return r.setActiveTab("login")}),f(12,"Login"),c(),d(13,"span",10),f(14,"\u2022"),c(),d(15,"span",9),D("click",function(){return r.setActiveTab("signup")}),f(16,"Sign Up"),c()()(),S(17,$2,2,1,"div",11)(18,q2,22,4,"form",12)(19,Y2,35,7,"form",12),c()()),e&2&&(m(11),zt("active",r.activeTab==="login"),m(4),zt("active",r.activeTab==="signup"),m(2),y("ngIf",r.errorMessage),m(),y("ngIf",r.activeTab==="login"),m(),y("ngIf",r.activeTab==="signup"))},dependencies:[fe,ye,Ft,_n,We,nt,yn,Pt,Xt],styles:['.auth-container[_ngcontent-%COMP%]{min-height:100dvh;background:conic-gradient(#eaeafd,#9c9ce4,#eaeafd);display:flex;align-items:center;justify-content:center}.auth-card[_ngcontent-%COMP%]{background-color:transparent;border-radius:12px;width:100%;max-width:450px;padding:30px}.logo-circle[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;background-color:transparent;position:relative;display:flex;align-items:center;justify-content:center;margin:0 auto}.dots-circle[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;position:relative;background-image:radial-gradient(circle,#5046e5 3px,transparent 3px);background-size:15px 15px;transform:rotate(45deg)}.brand-name[_ngcontent-%COMP%]{font-weight:700;font-size:24px;margin-bottom:5px;letter-spacing:.5px}.brand-tagline[_ngcontent-%COMP%]{color:#666;font-size:14px;margin:0}.tabs-container[_ngcontent-%COMP%]{display:inline-flex;align-items:center;border-bottom:1px solid #eee;padding-bottom:5px}.tab[_ngcontent-%COMP%]{padding:8px 15px;cursor:pointer;color:#888;font-weight:500;font-size:16px;transition:color .2s}.tab.active[_ngcontent-%COMP%]{color:#5046e5;border-bottom:2px solid #5046e5}.tab-separator[_ngcontent-%COMP%]{color:#ccc}.auth-form[_ngcontent-%COMP%]{margin-top:10px}.form-control[_ngcontent-%COMP%]{height:auto;padding:12px 15px;border-radius:8px;border:1px solid #ddd;transition:border-color .2s,box-shadow .2s}.form-control[_ngcontent-%COMP%]:focus{border-color:#5046e5;box-shadow:0 0 0 .2rem #5046e526}.form-label[_ngcontent-%COMP%]{font-weight:500;color:#555;margin-bottom:8px}.forgot-link[_ngcontent-%COMP%]{font-size:14px;color:#5046e5;text-decoration:none}.forgot-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.signup-link[_ngcontent-%COMP%], .login-link[_ngcontent-%COMP%]{color:#5046e5;font-weight:500;text-decoration:none}.signup-link[_ngcontent-%COMP%]:hover, .login-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.btn-primary[_ngcontent-%COMP%]{background-color:#5046e5;border-color:#5046e5;padding:12px;font-weight:500}.btn-primary[_ngcontent-%COMP%]:hover, .btn-primary[_ngcontent-%COMP%]:focus{background-color:#4238d0;border-color:#4238d0}.btn-primary[_ngcontent-%COMP%]:disabled{background-color:#a8a4e0;border-color:#a8a4e0}.separator[_ngcontent-%COMP%]{display:flex;align-items:center;text-align:center;color:#888;font-size:14px}.separator[_ngcontent-%COMP%]:before, .separator[_ngcontent-%COMP%]:after{content:"";flex:1;border-bottom:1px solid #ddd}.separator[_ngcontent-%COMP%]:before{margin-right:1em}.separator[_ngcontent-%COMP%]:after{margin-left:1em}.google-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#fff;border:1px solid #ddd;color:#333;padding:12px;font-weight:500}.google-btn[_ngcontent-%COMP%]:hover{background-color:#f8f8f8;color:#333}@media (max-width: 576px){.auth-card[_ngcontent-%COMP%]{padding:20px 15px}.brand-name[_ngcontent-%COMP%]{font-size:20px}.form-control[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]{padding:10px}}']})};var NS=(n,t)=>({"btn-tr text-dark":n,"btn-tr":t}),J2=(n,t)=>({"btn-tr  text-dark":n,"btn-tr  btn-outline-primary":t});function X2(n,t){if(n&1){let e=H();d(0,"button",15),D("click",function(){let i;x(e);let o=E();return M((i=o.tradeForm.get("trade_status"))==null?null:i.setValue("Executing"))}),_(1,"i",75),f(2," Executing "),c()}if(n&2){let e,r=E();y("ngClass",fn(1,NS,((e=r.tradeForm.get("trade_status"))==null?null:e.value)==="Executing",((e=r.tradeForm.get("trade_status"))==null?null:e.value)!=="Executing"))}}function eL(n,t){if(n&1){let e=H();d(0,"button",15),D("click",function(){let i;x(e);let o=E();return M((i=o.tradeForm.get("trade_status"))==null?null:i.setValue("Completed"))}),_(1,"i",76),f(2," Completed "),c()}if(n&2){let e,r=E();y("ngClass",fn(1,J2,((e=r.tradeForm.get("trade_status"))==null?null:e.value)==="Completed",((e=r.tradeForm.get("trade_status"))==null?null:e.value)!=="Completed"))}}function tL(n,t){if(n&1){let e=H();d(0,"div",82)(1,"button",83),D("click",function(){let i=x(e).index,o=E(2);return M(o.removePlannedTrade(i))}),_(2,"i",84),c(),d(3,"h6",85),f(4),c(),d(5,"div",24)(6,"div",86)(7,"label",87),f(8,"Direction"),c(),d(9,"div",88),_(10,"input",89),d(11,"label",90),f(12,"Long"),c(),_(13,"input",91),d(14,"label",92),f(15,"Short"),c()()(),d(16,"div",86)(17,"label",87),f(18,"Entry Price"),c(),d(19,"div",27)(20,"span",28),f(21,"$"),c(),_(22,"input",93),c()(),d(23,"div",86)(24,"label",87),f(25,"Stop Loss"),c(),d(26,"div",27)(27,"span",28),f(28,"$"),c(),_(29,"input",94),c()(),d(30,"div",86)(31,"label",87),f(32,"Exit Price"),c(),d(33,"div",27)(34,"span",28),f(35,"$"),c(),_(36,"input",95),c()(),d(37,"div",25)(38,"label",87),f(39,"Planned Entry Time"),c(),_(40,"input",96),c(),d(41,"div",25)(42,"label",87),f(43,"Planned Exit Time"),c(),_(44,"input",97),c(),d(45,"div",25)(46,"label",87),f(47,"Exit Type"),c(),d(48,"select",98)(49,"option",33),f(50,"Select exit type"),c(),d(51,"option",99),f(52,"Target"),c(),d(53,"option",100),f(54,"Stop Loss"),c(),d(55,"option",101),f(56,"Manual"),c()()(),d(57,"div",25)(58,"label",87),f(59,"Position Size ($)"),c(),d(60,"div",27)(61,"span",28),f(62,"$"),c(),_(63,"input",102),c()(),d(64,"div",25)(65,"label",87),f(66,"Contracts/Shares"),c(),_(67,"input",103),c(),d(68,"div",25)(69,"label",87),f(70,"Multiplier"),c(),_(71,"input",104),c()(),d(72,"div",105)(73,"div",106),_(74,"div",107),c()()()}if(n&2){let e=t.index;y("formGroupName",e),m(4),U("Planned Trade #",e+1,""),m(6),y("id","direction_long_"+e),m(),y("for","direction_long_"+e),m(2),y("id","direction_short_"+e),m(),y("for","direction_short_"+e)}}function nL(n,t){if(n&1){let e=H();d(0,"div",18)(1,"div",19)(2,"h5",20),_(3,"i",77),f(4,"Planned Trades "),c(),d(5,"span",22),f(6,"Required"),c()(),d(7,"div",23)(8,"div",78),S(9,tL,75,6,"div",79),d(10,"button",80),D("click",function(){x(e);let i=E();return M(i.addPlannedTrade())}),_(11,"i",81),f(12,"Add Planned Trade "),c()()()()}if(n&2){let e=E();m(9),y("ngForOf",e.plannedTrades.controls)}}function rL(n,t){if(n&1){let e=H();d(0,"div",82)(1,"button",83),D("click",function(){let i=x(e).index,o=E(2);return M(o.removeExecutingTrade(i))}),_(2,"i",84),c(),d(3,"h6",85),f(4),c(),d(5,"div",24)(6,"div",86)(7,"label",87),f(8,"Direction"),c(),d(9,"div",88),_(10,"input",89),d(11,"label",90),f(12,"Long"),c(),_(13,"input",91),d(14,"label",92),f(15,"Short"),c()()(),d(16,"div",86)(17,"label",87),f(18,"Entry Price"),c(),d(19,"div",27)(20,"span",28),f(21,"$"),c(),_(22,"input",93),c()(),d(23,"div",86)(24,"label",87),f(25,"Stop Loss"),c(),d(26,"div",27)(27,"span",28),f(28,"$"),c(),_(29,"input",94),c()(),d(30,"div",86)(31,"label",87),f(32,"Exit Price"),c(),d(33,"div",27)(34,"span",28),f(35,"$"),c(),_(36,"input",95),c()(),d(37,"div",25)(38,"label",87),f(39,"Entry Time"),c(),_(40,"input",96),c(),d(41,"div",25)(42,"label",87),f(43,"Exit Time"),c(),_(44,"input",97),c(),d(45,"div",25)(46,"label",87),f(47,"Exit Type"),c(),d(48,"select",98)(49,"option",33),f(50,"Select exit type"),c(),d(51,"option",99),f(52,"Target"),c(),d(53,"option",100),f(54,"Stop Loss"),c(),d(55,"option",101),f(56,"Manual"),c()()(),d(57,"div",25)(58,"label",87),f(59,"Position Size ($)"),c(),d(60,"div",27)(61,"span",28),f(62,"$"),c(),_(63,"input",102),c()(),d(64,"div",25)(65,"label",87),f(66,"Contracts/Shares"),c(),_(67,"input",103),c(),d(68,"div",25)(69,"label",87),f(70,"Multiplier"),c(),_(71,"input",104),c()()()}if(n&2){let e=t.index;y("formGroupName",e),m(4),U("Trade Execution #",e+1,""),m(6),y("id","exec_direction_long_"+e),m(),y("for","exec_direction_long_"+e),m(2),y("id","exec_direction_short_"+e),m(),y("for","exec_direction_short_"+e)}}function iL(n,t){if(n&1){let e=H();d(0,"div",18)(1,"div",19)(2,"h5",20),_(3,"i",77),f(4,"Executing Trades "),c(),d(5,"span",22),f(6,"Required"),c()(),d(7,"div",23)(8,"div",108),S(9,rL,72,6,"div",79),d(10,"button",80),D("click",function(){x(e);let i=E();return M(i.addExecutingTrade())}),_(11,"i",81),f(12,"Add Executing Trade "),c()()()()}if(n&2){let e=E();m(9),y("ngForOf",e.executingTrades.controls)}}function oL(n,t){n&1&&(d(0,"div",64),_(1,"i",135),d(2,"span",136),f(3," Consider if this emotional state might negatively impact your decision making"),c()())}function sL(n,t){if(n&1&&(d(0,"div",18)(1,"div",19)(2,"h5",20),_(3,"i",109),f(4,"Emotional Analysis "),c(),d(5,"span",22),f(6,"Required"),c()(),d(7,"div",23)(8,"div",110)(9,"div",24)(10,"div",39)(11,"label",111),f(12,"Emotional State"),c(),d(13,"select",112)(14,"option",33),f(15,"How are you feeling?"),c(),d(16,"option",113),f(17,"Calm & Focused"),c(),d(18,"option",114),f(19,"Excited"),c(),d(20,"option",115),f(21,"Anxious"),c(),d(22,"option",116),f(23,"Frustrated"),c(),d(24,"option",117),f(25,"Overconfident"),c(),d(26,"option",118),f(27,"Fearful"),c(),d(28,"option",119),f(29,"Neutral"),c(),d(30,"option",38),f(31,"Other"),c()(),S(32,oL,4,0,"div",120),c(),d(33,"div",39)(34,"label",121),f(35,"Trade Confidence"),c(),d(36,"div",88),_(37,"input",122),d(38,"label",123),f(39,"1"),c(),_(40,"input",124),d(41,"label",125),f(42,"2"),c(),_(43,"input",126),d(44,"label",127),f(45,"3"),c(),_(46,"input",128),d(47,"label",129),f(48,"4"),c(),_(49,"input",130),d(50,"label",131),f(51,"5"),c()(),d(52,"div",132),f(53,"Low (1) to High (5)"),c()()(),d(54,"div",55)(55,"label",133),f(56,"Reflection"),c(),_(57,"textarea",134),c()()()()),n&2){let e=E();m(32),y("ngIf",e.isNegativeEmotionalState())}}function aL(n,t){n&1&&(d(0,"div",18)(1,"div",19)(2,"h5",20),_(3,"i",109),f(4,"Profit Analysis "),c(),d(5,"span",22),f(6,"Required"),c()(),d(7,"div",23)(8,"div",24)(9,"div",25)(10,"label",137),f(11,"Realized Profit"),c(),d(12,"div",27)(13,"span",28),f(14,"$"),c(),_(15,"input",138),c()(),d(16,"div",25)(17,"label",139),f(18,"Unrealized Profit"),c(),d(19,"div",27)(20,"span",28),f(21,"$"),c(),_(22,"input",140),c()(),d(23,"div",25)(24,"label",141),f(25,"Total Profit"),c(),d(26,"div",27)(27,"span",28),f(28,"$"),c(),_(29,"input",142),c()()()()())}function lL(n,t){n&1&&(d(0,"div",18)(1,"div",19)(2,"h5",20),_(3,"i",143),f(4,"Post-Trade Reflection "),c(),d(5,"span",22),f(6,"Required"),c()(),d(7,"div",23)(8,"div",144)(9,"div",24)(10,"div",39)(11,"label",145),f(12,"Emotional State"),c(),d(13,"select",146)(14,"option",33),f(15,"How are you feeling?"),c(),d(16,"option",147),f(17,"Satisfied"),c(),d(18,"option",114),f(19,"Excited"),c(),d(20,"option",148),f(21,"Disappointed"),c(),d(22,"option",116),f(23,"Frustrated"),c(),d(24,"option",117),f(25,"Overconfident"),c(),d(26,"option",119),f(27,"Neutral"),c(),d(28,"option",38),f(29,"Other"),c()()(),d(30,"div",39)(31,"label",149),f(32,"Trade Confidence for Next Time"),c(),d(33,"div",88),_(34,"input",150),d(35,"label",151),f(36,"1"),c(),_(37,"input",152),d(38,"label",153),f(39,"2"),c(),_(40,"input",154),d(41,"label",155),f(42,"3"),c(),_(43,"input",156),d(44,"label",157),f(45,"4"),c(),_(46,"input",158),d(47,"label",159),f(48,"5"),c()(),d(49,"div",132),f(50,"Low (1) to High (5)"),c()()(),d(51,"div",55)(52,"label",160),f(53,"Trade Reflection"),c(),_(54,"textarea",161),c()()()())}var ws=class n{constructor(t,e,r){this.fb=t;this.cdr=e;this.supabase=r}tradeData;mode="create";tradeAccountId;formSubmitted=new ve;cancel=new ve;tradeForm;tableName="tradejournal";trade_account_id;ngOnInit(){this.trade_account_id=this.tradeAccountId??"",this.initForm()}ngOnChanges(t){t.tradeAccountId&&(this.trade_account_id=t.tradeAccountId.currentValue),t.tradeData&&!t.tradeData.firstChange&&(this.populateForm(),setTimeout(()=>{this.handleStatusChange(this.tradeForm.get("trade_status")?.value)}),this.tradeData&&(this.mode="edit"))}initForm(){let t=this.mode==="create"?oo():this.tradeData?.tradeid;this.tradeForm=this.fb.group({tradeid:t,userid:this.supabase.user()?.id,updated_time:[""],trade_symbol:["",O.required],trade_analysis:[""],trade_instrument:[""],type_of_order:[""],market_condition:[""],trade_status:["Planned"],strategy_name:[""],entry_criteria:[""],exit_criteria:[""],planned_trade:this.fb.array([]),executing_trades:this.fb.array([]),realized_profit:[0,O.required],unrealized_profit:[0,O.required],planned_profit:[0,O.required],emotion_before:this.fb.group({emotional_state_before:[""],trade_confidence_before:[""],reflection_before:[""]}),emotion_after:this.fb.group({emotional_state_after:[""],trade_confidence_after:[""],reflection_after:[""]}),notes:[""],trade_account_id:this.trade_account_id}),this.tradeForm.get("trade_status")?.valueChanges.subscribe(e=>{this.handleStatusChange(e)}),this.handleStatusChange("Planned"),this.tradeData&&(this.populateForm(),this.mode="edit")}get plannedTrades(){return this.tradeForm.get("planned_trade")}get executingTrades(){return this.tradeForm.get("executing_trades")}newTradeGroup(t=!1){let e={entry_price:[""],exit_price:[""],stop_loss:[""],trade_direction:[""],entry_time:[""],exit_time:[""],exit:[""],position_size:[""],contracts:[""],contract_multiplier:[""]};return t&&(e.profit=[""]),this.fb.group(e)}addPlannedTrade(){this.plannedTrades.push(this.newTradeGroup())}removePlannedTrade(t){this.plannedTrades.removeAt(t)}addExecutingTrade(){this.executingTrades.push(this.newTradeGroup(!0))}removeExecutingTrade(t){this.executingTrades.removeAt(t)}populateForm(){this.tradeData&&(this.tradeForm.patchValue(this.tradeData),this.plannedTrades.clear(),this.executingTrades.clear(),this.tradeData.planned_trade?.forEach(t=>{this.plannedTrades.push(this.fb.group(t))}),this.tradeData.executing_trades?.forEach(t=>{this.executingTrades.push(this.fb.group(t))}),this.handleStatusChange(this.tradeData.trade_status))}handleStatusChange(t){let e=this.tradeForm.get("emotion_after"),r=this.tradeForm.get("emotion_before");t==="Planned"?(this.executingTrades.disable(),e.disable(),r.enable()):t==="Executing"?(this.executingTrades.enable(),e.disable(),r.enable(),this.executingTrades.length===0&&this.plannedTrades.length>0&&this.plannedTrades.controls.forEach(i=>{this.executingTrades.push(this.fb.group(i.value))})):t==="Completed"&&(this.executingTrades.enable(),e.enable(),r.disable()),this.cdr.markForCheck(),setTimeout(()=>{this.handleStatusChange(this.tradeForm.get("trade_status")?.value)})}async onSubmit(){if(this.tradeForm.valid){this.tradeForm.patchValue({updated_time:new Date().toISOString()});let t=this.tradeForm.getRawValue();try{this.mode==="create"?await this.supabase.addTradeLogOfSelectedAccount(t,this.tableName,this.tradeAccountId):this.mode==="edit"&&await this.supabase.updateTradeLogOfSelectedAccount(t,this.tableName,this.tradeAccountId),this.formSubmitted.emit()}catch(e){console.error("Error submitting trade:",e)}}else console.log("Invalid form")}onCancel(){this.cancel.emit()}isNegativeEmotionalState(){let t=this.tradeData?this.tradeData.emotion_before:"calm";return["Anxious","Frustrated","Fearful","Overconfident"].includes(t)}static \u0275fac=function(e){return new(e||n)(T(bn),T(le),T(de))};static \u0275cmp=ee({type:n,selectors:[["app-individual-trade"]],inputs:{tradeData:"tradeData",mode:"mode",tradeAccountId:"tradeAccountId"},outputs:{formSubmitted:"formSubmitted",cancel:"cancel"},features:[an],decls:147,vars:14,consts:[[1,"container-fluid","my-4"],["aria-label","breadcrumb",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/home",1,"text-decoration-none"],["routerLink","/tradejournal",1,"text-decoration-none"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row","mb-4"],[1,"col-lg-8"],[1,"mb-2"],[1,"text-muted"],[1,"needs-validation",3,"ngSubmit","formGroup"],[1,"mb-4"],[1,"form-label","d-block","mb-2"],["role","group","aria-label","Trade status toggle",1,"btn-group","w-100","shadow-sm"],["type","button",1,"btn",3,"click","ngClass"],[1,"bi","bi-hourglass","me-1"],["type","button","class","btn",3,"ngClass","click",4,"ngIf"],[1,"card","mb-4","shadow-sm"],[1,"card-header","bg-light","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"bi","bi-1-circle","me-2"],[1,"badge","bg-primary"],[1,"card-body"],[1,"row","g-3"],[1,"col-md-4"],["for","trade_symbol",1,"form-label"],[1,"input-group"],[1,"input-group-text"],[1,"bi","bi-tag"],["type","text","id","trade_symbol","formControlName","trade_symbol","placeholder","Enter ticker symbol",1,"form-control"],["for","trade_analysis",1,"form-label"],["id","trade_analysis","formControlName","trade_analysis",1,"form-select"],["value","","selected","","disabled",""],["value","Technical"],["value","Fundamental"],["value","Both"],["value","Sentiment"],["value","Other"],[1,"col-md-6"],["for","trade_instrument",1,"form-label"],["id","trade_instrument","formControlName","trade_instrument",1,"form-select"],["value","Forex"],["value","Stocks"],["value","Futures"],["value","Crypto"],["value","Options"],["value","ETF"],["for","type_of_order",1,"form-label"],["id","type_of_order","formControlName","type_of_order",1,"form-select"],["value","Market"],["value","Limit"],["value","Stop"],["value","StopLimit"],["value","TrailingStop"],[1,"col-12"],["for","market_condition",1,"form-label"],["id","market_condition","rows","3","formControlName","market_condition","placeholder","Describe current market conditions and relevant factors",1,"form-control"],[1,"bi","bi-2-circle","me-2"],[1,"card-body","col-12"],["for","strategy_name",1,"form-label"],["type","text","id","strategy_name","formControlName","strategy_name","placeholder","e.g., Breakout, Reversal, Trend Following",1,"form-control"],["for","entry_criteria",1,"form-label"],["id","entry_criteria","rows","4","formControlName","entry_criteria","placeholder","Describe your specific entry conditions (e.g., technical indicators, patterns, fundamental factors)",1,"form-control"],[1,"form-text"],["for","exit_criteria",1,"form-label"],["id","exit_criteria","rows","4","formControlName","exit_criteria","placeholder","Define your profit targets and stop loss levels",1,"form-control"],["class","card mb-4 shadow-sm",4,"ngIf"],[1,"bi","bi-6-circle","me-2"],[1,"badge","bg-secondary"],[1,"p-3"],["id","notes","formControlName","notes","placeholder","Any additional information or context for this trade","rows","3",1,"form-control"],[1,"d-flex","justify-content-end"],["type","button",1,"btn","btn-tr-secondary","me-2","mt-3",3,"click"],["type","submit",1,"btn","btn-primary","btn-tr","mt-3"],[1,"bi","bi-play-fill","me-1"],[1,"bi","bi-check-circle","me-1"],[1,"bi","bi-3-circle","me-2"],["formArrayName","planned_trade"],["class","border rounded p-3 mb-3 position-relative",3,"formGroupName",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-tr","btn-outline-primary","w-100",3,"click"],[1,"bi","bi-plus-circle","me-2"],[1,"border","rounded","p-3","mb-3","position-relative",3,"formGroupName"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","end-0","top-0","m-2",3,"click"],[1,"bi","bi-x"],[1,"mb-3"],[1,"col-md-3"],[1,"form-label"],["role","group",1,"btn-group","w-100"],["type","radio","formControlName","trade_direction","value","Long",1,"btn-check",3,"id"],[1,"btn","btn-outline-success",3,"for"],["type","radio","formControlName","trade_direction","value","Short",1,"btn-check",3,"id"],[1,"btn","btn-outline-danger",3,"for"],["type","number","step","0.01","placeholder","Entry Price","formControlName","entry_price",1,"form-control"],["type","number","step","0.01","placeholder","Stop Loss","formControlName","stop_loss",1,"form-control"],["type","number","step","0.01","placeholder","Exit Price","formControlName","exit_price",1,"form-control"],["type","datetime-local","formControlName","entry_time",1,"form-control"],["type","datetime-local","formControlName","exit_time",1,"form-control"],["formControlName","exit",1,"form-select"],["value","Target"],["value","StopLoss"],["value","Manual"],["type","number","step","0.01","placeholder","Position Size","formControlName","position_size",1,"form-control"],["type","number","placeholder","Contracts","formControlName","contracts",1,"form-control"],["type","number","step","0.01","placeholder","Multiplier","formControlName","contract_multiplier",1,"form-control"],[1,"mt-3"],[1,"progress",2,"height","5px"],["role","progressbar",1,"progress-bar",2,"width","100%"],["formArrayName","executing_trades"],[1,"bi","bi-4-circle","me-2"],["formGroupName","emotion_before"],["for","emotional_state_before",1,"form-label"],["id","emotional_state_before","formControlName","emotional_state_before",1,"form-select"],["value","Calm"],["value","Excited"],["value","Anxious"],["value","Frustrated"],["value","Overconfident"],["value","Fearful"],["value","Neutral"],["class","form-text",4,"ngIf"],["for","trade_confidence_before",1,"form-label"],["type","radio","formControlName","trade_confidence_before","id","confidence_before_1","value","1",1,"btn-check"],["for","confidence_before_1",1,"btn","btn-outline-danger"],["type","radio","formControlName","trade_confidence_before","id","confidence_before_2","value","2",1,"btn-check"],["for","confidence_before_2",1,"btn","btn-outline-warning"],["type","radio","formControlName","trade_confidence_before","id","confidence_before_3","value","3",1,"btn-check"],["for","confidence_before_3",1,"btn","btn-outline-secondary"],["type","radio","formControlName","trade_confidence_before","id","confidence_before_4","value","4",1,"btn-check"],["for","confidence_before_4",1,"btn","btn-outline-primary"],["type","radio","formControlName","trade_confidence_before","id","confidence_before_5","value","5",1,"btn-check"],["for","confidence_before_5",1,"btn","btn-outline-success"],[1,"form-text","text-center"],["for","reflection_before",1,"form-label"],["id","reflection_before","formControlName","reflection_before","placeholder","What biases might affect your decision? (e.g., revenge trading, FOMO)","rows","2",1,"form-control"],[1,"bi","bi-exclamation-triangle","text-warning"],[1,"text-warning"],["for","realized_profit",1,"form-label"],["type","number","step","0.01","id","realized_profit","formControlName","realized_profit",1,"form-control"],["for","unrealized_profit",1,"form-label"],["type","number","step","0.01","id","unrealized_profit","formControlName","unrealized_profit",1,"form-control"],["for","planned_profit",1,"form-label"],["type","number","step","0.01","id","planned_profit","formControlName","planned_profit",1,"form-control"],[1,"bi","bi-5-circle","me-2"],["formGroupName","emotion_after"],["for","emotional_state_after",1,"form-label"],["id","emotional_state_after","formControlName","emotional_state_after",1,"form-select"],["value","Satisfied"],["value","Disappointed"],["for","trade_confidence_after",1,"form-label"],["type","radio","formControlName","trade_confidence_after","id","confidence_after_1","value","1",1,"btn-check"],["for","confidence_after_1",1,"btn","btn-outline-danger"],["type","radio","formControlName","trade_confidence_after","id","confidence_after_2","value","2",1,"btn-check"],["for","confidence_after_2",1,"btn","btn-outline-warning"],["type","radio","formControlName","trade_confidence_after","id","confidence_after_3","value","3",1,"btn-check"],["for","confidence_after_3",1,"btn","btn-outline-secondary"],["type","radio","formControlName","trade_confidence_after","id","confidence_after_4","value","4",1,"btn-check"],["for","confidence_after_4",1,"btn","btn-outline-primary"],["type","radio","formControlName","trade_confidence_after","id","confidence_after_5","value","5",1,"btn-check"],["for","confidence_after_5",1,"btn","btn-outline-success"],["for","reflection_after",1,"form-label"],["id","reflection_after","formControlName","reflection_after","placeholder","What did you learn? What could be improved?","rows","2",1,"form-control"]],template:function(e,r){if(e&1&&(d(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),f(5,"Dashboard"),c()(),d(6,"li",3)(7,"a",5),f(8,"Trade Logs"),c()(),d(9,"li",6),f(10,"Trade Form"),c()()(),d(11,"div",7)(12,"div",8)(13,"h2",9),f(14),c(),d(15,"p",10),f(16,"Document your trading strategy and execution to maintain discipline and improve performance"),c()()(),d(17,"form",11),D("ngSubmit",function(){return r.onSubmit()}),d(18,"div",12)(19,"label",13),f(20,"Trade Status"),c(),d(21,"div",14)(22,"button",15),D("click",function(){let o;return(o=r.tradeForm.get("trade_status"))==null?null:o.setValue("Planned")}),_(23,"i",16),f(24," Planned "),c(),S(25,X2,3,4,"button",17)(26,eL,3,4,"button",17),c()(),d(27,"div",18)(28,"div",19)(29,"h5",20),_(30,"i",21),f(31,"Trade Setup "),c(),d(32,"span",22),f(33,"Required"),c()(),d(34,"div",23)(35,"div",24)(36,"div",25)(37,"label",26),f(38,"Trade Symbol"),c(),d(39,"div",27)(40,"span",28),_(41,"i",29),c(),_(42,"input",30),c()(),d(43,"div",25)(44,"label",31),f(45,"Trade Analysis"),c(),d(46,"select",32)(47,"option",33),f(48,"Choose analysis method"),c(),d(49,"option",34),f(50,"Technical"),c(),d(51,"option",35),f(52,"Fundamental"),c(),d(53,"option",36),f(54,"Both"),c(),d(55,"option",37),f(56,"Sentiment"),c(),d(57,"option",38),f(58,"Other"),c()()(),d(59,"div",39)(60,"label",40),f(61,"Trade Instrument"),c(),d(62,"select",41)(63,"option",33),f(64,"Choose instrument type"),c(),d(65,"option",42),f(66,"Forex"),c(),d(67,"option",43),f(68,"Stocks"),c(),d(69,"option",44),f(70,"Futures"),c(),d(71,"option",45),f(72,"Crypto"),c(),d(73,"option",46),f(74,"Options"),c(),d(75,"option",47),f(76,"ETF"),c(),d(77,"option",38),f(78,"Other"),c()()(),d(79,"div",39)(80,"label",48),f(81,"Type of Order"),c(),d(82,"select",49)(83,"option",33),f(84,"Choose order type"),c(),d(85,"option",50),f(86,"Market"),c(),d(87,"option",51),f(88,"Limit"),c(),d(89,"option",52),f(90,"Stop"),c(),d(91,"option",53),f(92,"Stop Limit"),c(),d(93,"option",54),f(94,"Trailing Stop"),c()()(),d(95,"div",55)(96,"label",56),f(97,"Market Condition"),c(),_(98,"textarea",57),c()()()(),d(99,"div",18)(100,"div",19)(101,"h5",20),_(102,"i",58),f(103,"Trade Strategy "),c(),d(104,"span",22),f(105,"Required"),c()(),d(106,"div",59)(107,"label",60),f(108,"Strategy Name"),c(),_(109,"input",61),c(),d(110,"div",23)(111,"div",24)(112,"div",39)(113,"label",62),f(114,"Entry Criteria "),d(115,"span",10),f(116,"(Why are you taking this trade?)"),c()(),_(117,"textarea",63),d(118,"div",64),f(119,"Be specific about what signals or conditions must be met for entry."),c()(),d(120,"div",39)(121,"label",65),f(122,"Exit Criteria "),d(123,"span",10),f(124,"(How will you close this position?)"),c()(),_(125,"textarea",66),d(126,"div",64),f(127,"Include both profit-taking and loss-cutting criteria."),c()()()()(),S(128,nL,13,1,"div",67)(129,iL,13,1,"div",67)(130,sL,58,1,"div",67)(131,aL,30,0,"div",67)(132,lL,55,0,"div",67),d(133,"div",18)(134,"div",19)(135,"h5",20),_(136,"i",68),f(137,"Additional Notes "),c(),d(138,"span",69),f(139,"Optional"),c()(),d(140,"div",70),_(141,"textarea",71),c()(),d(142,"div",72)(143,"button",73),D("click",function(){return r.onCancel()}),f(144,"Cancel"),c(),d(145,"button",74),f(146),c()()()()),e&2){let i,o,s,a,l,u;m(14),K(r.mode==="edit"?"Edit Trade":"Create Trade"),m(3),y("formGroup",r.tradeForm),m(5),y("ngClass",fn(11,NS,((i=r.tradeForm.get("trade_status"))==null?null:i.value)==="Planned",((i=r.tradeForm.get("trade_status"))==null?null:i.value)!=="Planned")),m(3),y("ngIf",r.mode==="edit"),m(),y("ngIf",r.mode==="edit"),m(102),y("ngIf",((o=r.tradeForm.get("trade_status"))==null?null:o.value)==="Planned"),m(),y("ngIf",((s=r.tradeForm.get("trade_status"))==null?null:s.value)!=="Planned"),m(),y("ngIf",((a=r.tradeForm.get("trade_status"))==null?null:a.value)!=="Completed"),m(),y("ngIf",((l=r.tradeForm.get("trade_status"))==null?null:l.value)==="Completed"),m(),y("ngIf",((u=r.tradeForm.get("trade_status"))==null?null:u.value)==="Completed"),m(14),U(" ",r.mode==="edit"?"Update Trade":"Save Trade"," ")}},dependencies:[fe,Rt,Le,ye,Ft,_n,Kn,Zn,We,Mr,Qn,Ar,nt,yn,Pt,Xt,Sd,Dd,qe],encapsulation:2})};var cL=(n,t,e)=>({"status-planned-card":n,"status-executing-card":t,"status-completed-card":e}),uL=(n,t,e)=>({"status-planned":n,"status-executing":t,"status-completed":e});function dL(n,t){if(n&1&&(d(0,"option",18),f(1),c()),n&2){let e=t.$implicit,r=E();y("value",e.account_id)("selected",e.account_id===r.tradeAccountId),m(),U(" ",e.account_name," ")}}function fL(n,t){n&1&&(d(0,"div",19),f(1,"Loading trade logs..."),c())}function hL(n,t){if(n&1&&(d(0,"div",20),f(1),c()),n&2){let e=E();m(),K(e.errorMessage)}}function pL(n,t){if(n&1){let e=H();cn(0),d(1,"div",27)(2,"div",28),D("click",function(){x(e);let i=E().$implicit,o=E(3);return M(o.openEditModal(i))}),d(3,"div",29),_(4,"i",30),f(5),c(),d(6,"div",31),D("click",function(i){x(e);let o=E().$implicit,s=E(3);return M(s.onDeleteTradeLog(o,i))}),_(7,"i",32),c(),d(8,"div",33)(9,"h4",34),f(10),c(),d(11,"h5",35),f(12),c(),d(13,"div",36)(14,"div",37)(15,"strong"),f(16,"Account Name:"),c(),f(17),c(),d(18,"div",37)(19,"strong"),f(20,"Analysis:"),c(),f(21),c(),d(22,"div",37)(23,"strong"),f(24,"Profit:"),c(),f(25),c()(),d(26,"div",38)(27,"small",39),f(28),qt(29,"date"),c()()()()(),un()}if(n&2){let e=E().$implicit;m(2),y("ngClass",Yr(15,cL,e.trade_status==="Planned",e.trade_status==="Executing",e.trade_status==="Completed")),m(),y("ngClass",Yr(19,uL,e.trade_status==="Planned",e.trade_status==="Executing",e.trade_status==="Completed")),m(2),U(" ",e.trade_status," "),m(5),K(e.trade_symbol),m(2),Ui(" ",e.trade_instrument," | ",e.type_of_order," "),m(5),U(" ",e.account_name," "),m(4),U(" ",e.trade_analysis," "),m(4),Xs(" Realized: ",e.realized_profit," | Unrealized: ",e.unrealized_profit," | Planned: ",e.planned_profit," "),m(3),U("Last modified: ",Gt(29,12,e.updated_time,"medium"),"")}}function mL(n,t){if(n&1&&(cn(0),S(1,pL,30,23,"ng-container",26),un()),n&2){let e=t.$implicit,r=E().$implicit;m(),y("ngIf",e.trade_status===r.status)}}function gL(n,t){if(n&1&&(d(0,"div",23)(1,"h3"),f(2),c(),d(3,"div",24),S(4,mL,2,1,"ng-container",25),c()()),n&2){let e=t.$implicit,r=E(2);m(2),K(e.title),m(2),y("ngForOf",r.tradeLogs)}}function vL(n,t){if(n&1&&(d(0,"div",21),S(1,gL,5,2,"div",22),c()),n&2){let e=E();m(),y("ngForOf",e.tradeStatus)}}function yL(n,t){n&1&&(d(0,"div",40),f(1," No trade logs found. "),c())}function _L(n,t){if(n&1){let e=H();d(0,"div",41),D("click",function(i){x(e);let o=E();return M(o.closeModalOnOverlayClick(i))}),d(1,"div",42),D("click",function(i){return x(e),M(i.stopPropagation())}),d(2,"app-individual-trade",43),D("formSubmitted",function(){x(e);let i=E();return M(i.onFormSubmitted())})("cancel",function(){x(e);let i=E();return M(i.closeModal())}),c()()()}if(n&2){let e=E();m(2),y("tradeData",e.selectedTradeLog)("mode",e.selectedTradeLog?"edit":"create")("tradeAccountId",e.tradeAccountId)}}var Ld=class n{constructor(t,e){this.supabaseService=t;this.cdr=e}tableName="tradejournal";tradeLogs=[];tradeAccounts=[];loading=!1;errorMessage="";tradeAccountId="";showModal=!1;selectedTradeLog=null;tradeStatus=[{status:"Planned",title:"Planning Phase"},{status:"Executing",title:"Executing Phase"},{status:"Completed",title:"Completed Phase"}];async ngOnInit(){this.loading=!0,await this.fetchTradeAccounts(),await this.fetchTradeLogs(),this.loading=!1,this.cdr.markForCheck()}async fetchTradeLogs(){try{let t=await this.supabaseService.getTradeLogsOfSelectedAccount(this.tableName,this.tradeAccountId);this.tradeLogs=t.sort((e,r)=>new Date(r.updated_time).getDate()-new Date(e.updated_time).getTime()),this.cdr.markForCheck()}catch(t){console.error("Error fetching trade logs:",t),this.errorMessage="Error fetching trade logs."}}async fetchTradeAccounts(){try{this.tradeAccounts=await this.supabaseService.getUserTradeAccounts(),this.tradeAccounts.length&&(this.tradeAccountId=this.tradeAccounts[0].account_id)}catch(t){console.error("Error fetching trade accounts:",t),this.errorMessage="Error loading trade accounts."}}onAccountChange(t){let e=t.target;this.tradeAccountId=e.value,this.fetchTradeLogs(),this.cdr.markForCheck()}openEditModal(t){this.selectedTradeLog=t,this.showModal=!0}openAddModal(){this.selectedTradeLog=null,this.showModal=!0}onFormSubmitted(){this.fetchTradeLogs(),this.closeModal(),this.cdr.markForCheck()}closeModal(){this.showModal=!1,this.selectedTradeLog=null,this.cdr.markForCheck()}closeModalOnOverlayClick(t){this.closeModal(),this.cdr.markForCheck()}async onDeleteTradeLog(t,e){e.stopPropagation();try{await this.supabaseService.deleteTradeLogOfSelectedAccount(t.tradeid,this.tableName,this.tradeAccountId),await this.fetchTradeLogs(),this.cdr.markForCheck()}catch(r){console.error("Error deleting trade log:",r),this.errorMessage="Error deleting trade log."}}static \u0275fac=function(e){return new(e||n)(T(de),T(le))};static \u0275cmp=ee({type:n,selectors:[["app-trade-journal"]],decls:25,vars:6,consts:[[1,"container","mt-3"],["aria-label","breadcrumb",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/home",1,"text-decoration-none"],["aria-current","page",1,"breadcrumb-item","active"],[1,"d-flex","justify-content-between","align-items-center","justify-content-center"],[1,"btn","btn-tr","btn-primary",3,"click"],[1,"bi","bi-plus-circle","me-2"],[1,"form-group","mt-4","mb-3"],["for","accountSelector"],["id","accountSelector",1,"form-control","w-auto","d-inline-block","ms-2",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],["class","alert alert-info",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["class","mt-5",4,"ngIf"],["class","alert alert-warning",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[3,"value","selected"],[1,"alert","alert-info"],[1,"alert","alert-danger"],[1,"mt-5"],["class","mb-4",4,"ngFor","ngForOf"],[1,"mb-4"],[1,"mt-3","row"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-md-3","col-sm-6","mb-4"],[1,"card","h-100","position-relative","shadow",2,"cursor","pointer",3,"click","ngClass"],[1,"trade-status-indicator",3,"ngClass"],[1,"bi","bi-clipboard-check"],[1,"delete-icon",3,"click"],[1,"bi","bi-trash"],[1,"card-body"],[1,"card-title","mt-5"],[1,"card-subtitle","mb-3","text-muted","fw-bold"],[1,"card-text"],[1,"mb-2"],[1,"mt-3"],[1,"text-muted"],[1,"alert","alert-warning"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[3,"formSubmitted","cancel","tradeData","mode","tradeAccountId"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),f(5,"Dashboard"),c()(),d(6,"li",5),f(7,"Trade Journal"),c()()(),d(8,"div",6)(9,"h2"),f(10,"Trade Journal"),c(),d(11,"button",7),D("click",function(){return r.openAddModal()}),_(12,"i",8),f(13," Add "),c()(),d(14,"div",9)(15,"label",10)(16,"strong"),f(17,"Select Trade Account:"),c()(),d(18,"select",11),D("change",function(o){return r.onAccountChange(o)}),S(19,dL,2,3,"option",12),c()(),S(20,fL,2,0,"div",13)(21,hL,2,1,"div",14)(22,vL,2,1,"div",15)(23,yL,2,0,"div",16),c(),S(24,_L,3,3,"div",17)),e&2&&(m(19),y("ngForOf",r.tradeAccounts),m(),y("ngIf",r.loading),m(),y("ngIf",r.errorMessage),m(),y("ngIf",r.tradeLogs&&r.tradeLogs.length),m(),y("ngIf",!r.loading&&(!r.tradeLogs||r.tradeLogs.length===0)),m(),y("ngIf",r.showModal))},dependencies:[Ft,Kn,Zn,fe,Rt,Le,ye,pn,ws,qe],styles:[".card[_ngcontent-%COMP%]{transition:transform .2s}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.trade-status-indicator[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px;padding:5px 10px;border-radius:5px;color:#fff;font-size:.7rem}.status-planned[_ngcontent-%COMP%]{background-color:#007bff}.status-executing[_ngcontent-%COMP%]{background-color:#ffc107}.status-completed[_ngcontent-%COMP%]{background-color:#28a745}.status-planned-card[_ngcontent-%COMP%]{border-left:4px solid #007bff!important}.status-executing-card[_ngcontent-%COMP%]{border-left:4px solid #ffc107!important}.status-completed-card[_ngcontent-%COMP%]{border-left:4px solid #28a745!important}.delete-icon[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;display:none;color:red;cursor:pointer}.card[_ngcontent-%COMP%]:hover   .delete-icon[_ngcontent-%COMP%]{display:block}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100dvw;height:100dvh;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1050}.modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:8px;max-width:90vw;position:relative;max-height:98dvh;overflow-y:auto}"]})};var bL=["alertAudio"];function wL(n,t){if(n&1){let e=H();d(0,"button",10),D("click",function(){x(e);let i=E();return M(i.incrementMinutes())}),f(1,"\u25B2"),c()}}function EL(n,t){if(n&1){let e=H();d(0,"button",10),D("click",function(){x(e);let i=E();return M(i.decrementMinutes())}),f(1,"\u25BC"),c()}}function CL(n,t){if(n&1){let e=H();d(0,"button",10),D("click",function(){x(e);let i=E();return M(i.incrementSeconds())}),f(1,"\u25B2"),c()}}function SL(n,t){if(n&1){let e=H();d(0,"button",10),D("click",function(){x(e);let i=E();return M(i.decrementSeconds())}),f(1,"\u25BC"),c()}}function DL(n,t){if(n&1){let e=H();d(0,"button",11),D("click",function(){x(e);let i=E();return M(i.start())}),f(1," Start "),c()}}function IL(n,t){if(n&1){let e=H();cn(0),d(1,"button",11),D("click",function(){x(e);let i=E();return M(i.pauseCountdown())}),f(2,"Pause"),c(),d(3,"button",12),D("click",function(){x(e);let i=E();return M(i.resetToInitial())}),f(4,"Reset"),c(),un()}}function TL(n,t){if(n&1){let e=H();cn(0),d(1,"button",11),D("click",function(){x(e);let i=E();return M(i.startOver())}),f(2,"Start Over"),c(),d(3,"button",12),D("click",function(){x(e);let i=E();return M(i.pauseAlarm())}),f(4,"Pause Alarm"),c(),un()}}var Vd=class n{constructor(t){this.cdr=t}alertAudio;minuteValue=0;secondValue=0;initialSeconds=0;totalSeconds=0;displayTime="00:00";isRunning=!1;alarmPlaying=!1;intervalId;incrementMinutes(){this.minuteValue++,this.applyNewDuration()}decrementMinutes(){this.minuteValue>0&&(this.minuteValue--,this.applyNewDuration())}incrementSeconds(){this.secondValue=(this.secondValue+1)%60,this.applyNewDuration()}decrementSeconds(){this.secondValue=(this.secondValue+59)%60,this.applyNewDuration()}applyNewDuration(){this.initialSeconds=this.minuteValue*60+this.secondValue,this.resetToInitial()}start(){this.initialSeconds<=0||(this.isRunning=!0,this.alarmPlaying=!1,this.tick(),this.intervalId=setInterval(()=>this.tick(),1e3))}startOver(){this.resetToInitial(),this.pauseAlarm(),this.start()}tick(){this.totalSeconds>0?(this.totalSeconds--,this.updateDisplay(),this.cdr.markForCheck()):this.finishCountdown()}pauseCountdown(){clearInterval(this.intervalId),this.isRunning=!1}resetToInitial(){this.pauseCountdown(),this.totalSeconds=this.initialSeconds,this.updateDisplay()}finishCountdown(){this.pauseCountdown(),this.playAlarm()}playAlarm(){let t=this.alertAudio.nativeElement;t.load(),t.currentTime=0,t.loop=!0,t.play().catch(()=>{}),this.alarmPlaying=!0,this.cdr.markForCheck()}pauseAlarm(){let t=this.alertAudio.nativeElement;t.pause(),t.currentTime=0,this.alarmPlaying=!1,this.resetToInitial(),this.cdr.markForCheck()}updateDisplay(){let t=Math.floor(this.totalSeconds/60),e=this.totalSeconds%60;this.displayTime=`${t<10?"0":""}${t}:${e<10?"0":""}${e}`}static \u0275fac=function(e){return new(e||n)(T(le))};static \u0275cmp=ee({type:n,selectors:[["app-timer-clock"]],viewQuery:function(e,r){if(e&1&&Hp(bL,5),e&2){let i;nu(i=ru())&&(r.alertAudio=i.first)}},decls:20,vars:9,consts:[["alertAudio",""],[1,"timer"],[1,"timer-display"],[1,"segment"],[3,"click",4,"ngIf"],[1,"colon"],[1,"controls"],["class","btn-tr",3,"click",4,"ngIf"],[4,"ngIf"],["src","/assets/sounds/alarm.wav","loop","","preload","auto"],[3,"click"],[1,"btn-tr",3,"click"],[1,"btn-tr-secondary",3,"click"]],template:function(e,r){e&1&&(d(0,"article",1)(1,"div",2)(2,"div",3),S(3,wL,2,0,"button",4),d(4,"span"),f(5),c(),S(6,EL,2,0,"button",4),c(),d(7,"span",5),f(8,":"),c(),d(9,"div",3),S(10,CL,2,0,"button",4),d(11,"span"),f(12),c(),S(13,SL,2,0,"button",4),c()(),d(14,"div",6),S(15,DL,2,0,"button",7)(16,IL,5,0,"ng-container",8)(17,TL,5,0,"ng-container",8),c(),_(18,"audio",9,0),c()),e&2&&(m(3),y("ngIf",!r.isRunning&&!r.alarmPlaying),m(2),K(r.displayTime.split(":")[0]),m(),y("ngIf",!r.isRunning&&!r.alarmPlaying),m(4),y("ngIf",!r.isRunning&&!r.alarmPlaying),m(2),K(r.displayTime.split(":")[1]),m(),y("ngIf",!r.isRunning&&!r.alarmPlaying),m(2),y("ngIf",!r.isRunning&&!r.alarmPlaying),m(),y("ngIf",r.isRunning),m(),y("ngIf",r.alarmPlaying))},dependencies:[ui,fe,ye],styles:[".timer[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%}.timer-display[_ngcontent-%COMP%]{display:flex;align-items:center;font-family:Orbitron,sans-serif;font-size:4rem;margin-bottom:1rem}.segment[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin:0 .5rem}.segment[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background:transparent;font-size:1rem;cursor:pointer;line-height:1}.colon[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1rem;padding:.5rem 1rem;margin:.25rem;border:none;border-radius:.25rem;cursor:pointer}.controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:default}"]})};function xL(n,t){if(n&1&&(d(0,"p",16),f(1),c()),n&2){let e=E().$implicit;m(),K(e.description)}}function ML(n,t){if(n&1&&(d(0,"div",8)(1,"div",9)(2,"a",10),_(3,"img",11),c(),d(4,"div",12)(5,"a",13)(6,"h5",14),f(7),c(),S(8,xL,2,1,"p",15),c()()()()),n&2){let e=t.$implicit;m(2),y("href",e.url,Hn),m(),y("src",e.thumbnail,Hn),m(2),y("href",e.url,Hn),m(),ji("title",e.title),m(),K(e.title),m(),y("ngIf",e.description)}}var jd=class n{cdr=I(le);supabaseService=I(de);username="";videos=[];async ngOnInit(){this.loadActiveVideos();let{data:t}=await this.supabaseService.getProfile();this.username=t.firstname}async loadActiveVideos(){try{let t=await this.supabaseService.loadActiveMeditationVideos();this.videos=t.map(e=>{let r=this.extractVideoId(e.url);return r?{url:e.url,id:r,title:e.title??"",description:e.description??"",thumbnail:`https://img.youtube.com/vi/${r}/hqdefault.jpg`}:null}).filter(e=>e!==null),this.cdr.markForCheck()}catch(t){console.error("Failed to load active meditation videos:",t)}}fetchVideoTitles(){this.videos.forEach(t=>{fetch(`https://www.youtube.com/oembed?url=${encodeURIComponent(`https://www.youtube.com/watch?v=${t.id}`)}&format=json`).then(e=>e.json()).then(e=>{t.title=e.title,this.cdr.markForCheck()}).catch(()=>{t.title="Unknown Title",this.cdr.markForCheck()})})}extractVideoId(t){let e=t.match(/(?:youtube\.com\/(?:.*v=|.*\/|.*embed\/)|youtu\.be\/)([a-zA-Z0-9_-]{11})/);return e?e[1]:null}formatDuration(t){let e=Math.floor(t/60),r=t%60;return`${e}:${r<10?"0"+r:r}`}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=ee({type:n,selectors:[["app-meditation-hub"]],decls:20,vars:2,consts:[[1,"container-fluid","mt-4","ps-3"],[1,""],[1,"row","p-5"],[1,"col-md-6","pt-5"],[1,"col-md-6","p-5","align-contents-center","justify-content-center"],["align","center"],[1,"row"],["class","col-sm-6 col-md-4 col-lg-2 mb-4",4,"ngFor","ngForOf"],[1,"col-sm-6","col-md-4","col-lg-2","mb-4"],[1,"card","h-100","shadow-sm"],["target","_blank",3,"href"],["alt","Video thumbnail",1,"card-img-top",3,"src"],[1,"card-body","d-flex","flex-column"],["target","_blank",2,"all","unset",3,"href"],[1,"card-title","text-truncate",3,"title"],["class","card-text mt-auto",4,"ngIf"],[1,"card-text","mt-auto"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"div",1)(2,"h3"),f(3),c()(),d(4,"div",2)(5,"div",3)(6,"mat-icon"),f(7,"self_improvement"),c(),d(8,"h3"),f(9,"Trading Mindfulness"),c(),d(10,"article"),f(11," This 15-minute guided meditation helps you develop emotional awareness and mental clarity for better trading decisions. "),c()(),d(12,"div",4)(13,"h3",5),f(14,"Meditation Timer"),c(),_(15,"app-timer-clock"),c()(),d(16,"h2"),f(17,"Meditation Videos"),c(),d(18,"div",6),S(19,ML,9,6,"div",7),c()()),e&2&&(m(3),U(" Welcome to Meditation Center, ",r.username," "),m(16),y("ngForOf",r.videos))},dependencies:[fe,Le,ye,Vd,Rd,Nd],styles:[".player-container[_ngcontent-%COMP%]{width:100%;height:0;padding-bottom:56.25%;position:relative}.player-container[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}"]})};var Ud=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=ee({type:n,selectors:[["app-analytics"]],decls:2,vars:0,consts:[[1,"position-absolute","top-50","start-50","translate-middle"]],template:function(e,r){e&1&&(d(0,"h1",0),f(1,"Analytics Coming soon"),c())},encapsulation:2})};function AL(n,t){if(n&1&&(d(0,"div",14),f(1),c()),n&2){let e=E();m(),K(e.actionSuccess)}}function kL(n,t){if(n&1&&(d(0,"div",15),f(1),c()),n&2){let e=E();m(),K(e.actionError)}}function NL(n,t){if(n&1){let e=H();d(0,"li",16)(1,"div",17)(2,"i",18),D("click",function(){let i=x(e).$implicit,o=E();return M(o.onRowClick(i))}),c(),d(3,"div",19),D("click",function(){let i=x(e).$implicit,o=E();return M(o.onRowClick(i))}),d(4,"h5",20),f(5),c(),d(6,"span",21)(7,"span",22),f(8),c(),f(9," | "),d(10,"span",22),f(11),c(),f(12," | "),d(13,"span",22),f(14),qt(15,"date"),c()()(),d(16,"div",23),D("click",function(){let i=x(e).$implicit,o=E();return M(o.deleteAccount(i.account_id))}),_(17,"i",24),c()()()}if(n&2){let e=t.$implicit;m(5),K(e.account_name),m(3),U("Broker: ",e.broker_name,""),m(3),Ui("Balance: ",e.balance," ",e.currency,""),m(3),U("Created At: ",Gt(15,5,e.created_at,"y, MMMM, d h:mm a"),"")}}function RL(n,t){if(n&1&&(d(0,"div",15),f(1),c()),n&2){let e=E(2);m(),K(e.formError)}}function OL(n,t){if(n&1){let e=H();d(0,"div",25),D("click",function(i){x(e);let o=E();return M(o.closeFormOnOutside(i))})("keydown.escape",function(){x(e);let i=E();return M(i.toggleForm())}),d(1,"div",26),D("click",function(i){return x(e),M(i.stopPropagation())}),d(2,"nav",27)(3,"ol",28)(4,"li",3)(5,"a",4),f(6,"Dashboard"),c()(),d(7,"li",3)(8,"a",29),D("click",function(i){x(e);let o=E();return M(o.closeFormOnOutside(i))}),f(9,"Trading Accounts"),c()(),d(10,"li",5),f(11,"Create Manual Account"),c()()(),d(12,"h4",30),f(13,"Create Manual Account"),c(),d(14,"p",31),f(15,"Set up a manual trading account to track your trades"),c(),d(16,"form",32),D("ngSubmit",function(){x(e);let i=E();return M(i.submitForm())}),d(17,"div",33)(18,"label",34),f(19,"Account Name"),c(),_(20,"input",35),c(),d(21,"div",33)(22,"label",34),f(23,"Broker Name"),c(),_(24,"input",36),c(),d(25,"div",33)(26,"label",34),f(27,"Account Type"),c(),_(28,"input",37),c(),d(29,"div",33)(30,"label",34),f(31,"Currency"),c(),_(32,"input",38),c(),d(33,"div",33)(34,"label",34),f(35,"Initial Balance"),c(),_(36,"input",39),c(),d(37,"div",33)(38,"label",34),f(39,"Account Notes (Optional)"),c(),_(40,"textarea",40),c(),d(41,"h5",8),f(42,"Trading Preferences"),c(),d(43,"div",41),_(44,"input",42),d(45,"label",43),f(46,"Track P&L"),c(),d(47,"small",44),f(48,"Enable profit and loss tracking for this account"),c()(),d(49,"div",41),_(50,"input",45),d(51,"label",46),f(52,"Include in Analytics"),c(),d(53,"small",44),f(54,"Include this account in overall performance metrics"),c()(),S(55,RL,2,1,"div",10),d(56,"div",47)(57,"button",48),D("click",function(){x(e);let i=E();return M(i.toggleForm())}),f(58,"Cancel"),c(),d(59,"button",49),f(60,"Create Account"),c()()()()()}if(n&2){let e=E();m(16),y("formGroup",e.tradeAccountForm),m(39),y("ngIf",e.formError)}}function PL(n,t){if(n&1){let e=H();d(0,"div",25),D("click",function(){x(e);let i=E();return M(i.cancelDelete())})("keydown.escape",function(){x(e);let i=E();return M(i.cancelDelete())}),d(1,"div",26),D("click",function(i){return x(e),M(i.stopPropagation())}),d(2,"h5",33),f(3,"Confirm Deletion"),c(),d(4,"p"),f(5,"Are you sure you want to delete this trading account and all its associated data?"),c(),d(6,"div",47)(7,"button",50),D("click",function(){x(e);let i=E();return M(i.cancelDelete())}),f(8,"Cancel"),c(),d(9,"button",7),D("click",function(){x(e);let i=E();return M(i.confirmDelete())}),f(10,"Delete"),c()()()()}}var Bd=class n{constructor(t,e,r){this.fb=t;this.supabaseService=e;this.cdr=r;this.tradeAccountForm=this.fb.group({account_name:["",O.required],broker_name:[""],account_type:[""],currency:["USD"],balance:[0,O.min(0)],track_pl:[!1],include_in_analytics:[!1]})}tradeAccounts=[];showForm=!1;tradeAccountForm;formError=null;actionError=null;actionSuccess=null;selectedAccountId=null;showDeleteConfirm=!1;pendingDeleteAccountId=null;ngOnInit(){this.loadAccounts()}async loadAccounts(){try{this.tradeAccounts=await this.supabaseService.getUserTradeAccounts()}catch{this.actionError="Failed to load accounts. Please try again."}finally{this.cdr.markForCheck()}}async onRowClick(t){this.selectedAccountId=t.account_id,this.tradeAccountForm.patchValue({account_name:t.account_name,broker_name:t.broker_name,account_type:t.account_type,currency:t.currency,balance:t.balance,track_pl:t.metadata?.track_pl||!1,include_in_analytics:t.metadata?.include_in_analytics||!1}),this.showForm=!0}toggleForm(){this.showForm=!this.showForm,this.formError=null,this.actionSuccess=null,this.actionError=null,this.selectedAccountId=null,this.showForm||this.tradeAccountForm.reset({currency:"USD",balance:0})}async submitForm(){if(this.formError="",this.tradeAccountForm.valid){let t=this.tradeAccountForm.value;this.selectedAccountId?await this.supabaseService.editTradeAccount(this.selectedAccountId,t)?(this.actionSuccess="Account updated successfully",this.loadAccounts(),this.toggleForm()):this.formError="Failed to update account":await this.supabaseService.addTradeAccount(t)?(this.actionSuccess="Account added successfully",this.loadAccounts(),this.toggleForm()):this.formError="Failed to add account"}this.cdr.markForCheck()}async deleteAccount(t){this.showDeleteConfirm=!0,this.pendingDeleteAccountId=t}confirmDelete(){this.pendingDeleteAccountId&&this.performAccountDeletion(this.pendingDeleteAccountId),this.showDeleteConfirm=!1,this.pendingDeleteAccountId=null}cancelDelete(){this.showDeleteConfirm=!1,this.pendingDeleteAccountId=null}async performAccountDeletion(t){this.actionError=null,this.actionSuccess=null;try{await this.supabaseService.RemoveTradeAccount(t)?(this.loadAccounts(),this.actionSuccess="Account deleted successfully."):this.actionError="Failed to delete account."}catch{this.actionError="An unexpected error occurred while deleting."}finally{this.cdr.markForCheck(),setTimeout(()=>{this.actionSuccess="",this.cdr.markForCheck()},5e3)}}handleEscape(t){this.showForm&&this.toggleForm()}closeFormOnOutside(t){t.target===t.currentTarget&&this.toggleForm()}static \u0275fac=function(e){return new(e||n)(T(bn),T(de),T(le))};static \u0275cmp=ee({type:n,selectors:[["app-tradeaccountmanage"]],hostBindings:function(e,r){e&1&&D("keydown.escape",function(o){return r.handleEscape(o)},!1,G_)},decls:23,vars:5,consts:[[1,"container","mt-4"],["aria-label","breadcrumb",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/home",1,"text-decoration-none"],["aria-current","page",1,"breadcrumb-item","active"],[1,"d-flex","justify-content-between","align-items-center","mt-4"],[1,"btn","btn-tr",3,"click"],[1,"mt-4"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"list-group"],["class","list-group-item bg-transparent",4,"ngFor","ngForOf"],["class","overlay","tabindex","0",3,"click","keydown.escape",4,"ngIf"],[1,"alert","alert-success"],[1,"alert","alert-danger"],[1,"list-group-item","bg-transparent"],[1,"d-flex","align-items-center"],[1,"logo-circle","bi","bi-star-fill","text-primary",2,"font-size","2rem",3,"click"],[1,"ms-3",3,"click"],[1,"mt-2"],[1,"d-block","row","text-muted"],[1,"col-4"],["title","Delete Account",1,"delete-button","justify-content-end",3,"click"],[1,"bi","bi-trash"],["tabindex","0",1,"overlay",3,"click","keydown.escape"],[1,"modal-card",3,"click"],["aria-label","breadcrumb"],[1,"breadcrumb","small"],[3,"click"],[1,"mb-1"],[1,"text-muted","mb-3"],[3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"form-label"],["type","text","formControlName","account_name","placeholder","e.g., My Futures Account",1,"form-control"],["type","text","formControlName","broker_name","placeholder","e.g., NinjaTrader, TastyWorks",1,"form-control"],["type","text","formControlName","account_type","placeholder","e.g., Margin, Cash",1,"form-control"],["type","text","formControlName","currency","placeholder","USD",1,"form-control"],["type","number","formControlName","balance",1,"form-control"],["rows","3","placeholder","Add any additional information about this account","disabled","",1,"form-control"],[1,"form-check","form-switch","mb-2"],["type","checkbox","formControlName","track_pl","id","track_pl",1,"form-check-input"],["for","track_pl",1,"form-check-label"],[1,"text-muted","d-block","ms-4"],["type","checkbox","formControlName","include_in_analytics","id","include_in_analytics",1,"form-check-input"],["for","include_in_analytics",1,"form-check-label"],[1,"d-flex","justify-content-end","gap-2","mt-3"],["type","button",1,"btn","btn-tr-secondary",3,"click"],["type","submit",1,"btn","btn-tr"],[1,"btn","btn-tr-secondary",3,"click"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),f(5,"Dashboard"),c()(),d(6,"li",5),f(7,"Trading Accounts"),c()()(),d(8,"div",6)(9,"h3"),f(10,"Your Trade Accounts"),c(),d(11,"button",7),D("click",function(){return r.toggleForm()}),f(12,"Add Account"),c()(),d(13,"div",8)(14,"h5"),f(15,"Manage your trading accounts"),c()(),S(16,AL,2,1,"div",9)(17,kL,2,1,"div",10),d(18,"div",0)(19,"ul",11),S(20,NL,18,8,"li",12),c()(),S(21,OL,61,2,"div",13)(22,PL,11,0,"div",13),c()),e&2&&(m(16),y("ngIf",r.actionSuccess),m(),y("ngIf",r.actionError),m(3),y("ngForOf",r.tradeAccounts),m(),y("ngIf",r.showForm),m(),y("ngIf",r.showDeleteConfirm))},dependencies:[Ft,_n,We,Mr,xr,nt,yn,Pt,Xt,fe,Le,ye,pn,qe],styles:[".modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;z-index:1050}.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1050}.modal-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:2rem;width:100%;max-width:600px;max-height:90dvh;overflow-y:auto;box-shadow:0 10px 25px #00000026}.list-group-item[_ngcontent-%COMP%]{cursor:pointer}.delete-button[_ngcontent-%COMP%]{color:red;display:none;margin-left:auto}.list-group-item[_ngcontent-%COMP%]:hover   .delete-button[_ngcontent-%COMP%]{color:red;display:block}"]})};function FL(n,t){if(n&1&&_(0,"img",35),n&2){let e=E();y("src",e.currentImageUrl,Hn)}}function LL(n,t){if(n&1&&_(0,"img",36),n&2){let e=E();y("src",e.previewUrl,Hn)}}function VL(n,t){n&1&&(d(0,"div",14),f(1,"No new image selected"),c())}function jL(n,t){if(n&1&&(d(0,"div",23)(1,"div",37),f(2),c()()),n&2){let e=E();m(2),K(e.errorMessage)}}function UL(n,t){if(n&1&&(d(0,"button",38),f(1," Save Changes "),c()),n&2){let e=E();y("disabled",e.profileForm.invalid)}}var $d=class n{constructor(t,e,r){this.fb=t;this.supabaseService=e;this.cdr=r;this.profileForm=this.fb.group({firstname:[""],lastname:[""],email:[""],phone:[""]})}profileForm;currentImageUrl=null;previewUrl=null;selectedFile=null;userId="";originalFormValue;formChanged=!1;errorMessage="";async ngOnInit(){await this.loadProfile(),this.trackFormChanges()}async loadProfile(){let{data:t}=await this.supabaseService.getProfile();t&&(this.profileForm.patchValue({firstname:t.firstname,lastname:t.lastname,email:t.email,phone:t.phone}),this.originalFormValue=this.profileForm.getRawValue(),t.profile_picture_url&&(this.currentImageUrl=await this.supabaseService.getCachedProfilePictureBlobUrl(t.profile_picture_url)),this.cdr.markForCheck())}async removeProfilePicture(){try{await this.supabaseService.deleteProfilePicture(),this.supabaseService.clearCachedProfilePictureBlobUrl(),await this.supabaseService.updateProfile({profile_picture_url:null}),this.currentImageUrl=null,this.previewUrl=null,this.selectedFile=null,this.formChanged=!0,this.cdr.markForCheck()}catch{this.errorMessage="Failed to remove profile picture."}}trackFormChanges(){this.profileForm.valueChanges.subscribe(()=>{this.formChanged=JSON.stringify(this.profileForm.getRawValue())!==JSON.stringify(this.originalFormValue)||!!this.selectedFile}),this.cdr.markForCheck()}onFileChange(t){this.errorMessage="";let e=t.target;if(!e?.files?.length)return;let r=e.files[0];if(!["image/jpeg","image/png","image/webp"].includes(r.type)){this.errorMessage="Only JPG, PNG, or WEBP images are allowed.",this.selectedFile=null;return}if(r.size>1024*1024){this.errorMessage="File size must be less than 1MB.",this.selectedFile=null;return}this.selectedFile=r,this.currentImageUrl=this.previewUrl,this.previewUrl=URL.createObjectURL(r),this.formChanged=!0,this.cdr.markForCheck()}async saveChanges(){if(!this.formChanged){this.errorMessage="No changes detected.";return}let t=null;this.selectedFile&&(t=await this.supabaseService.uploadProfilePicture(this.selectedFile));let e=this.profileForm.getRawValue(),r={firstname:e.firstname,lastname:e.lastname,email:e.email,phone:e.phone,profile_picture_url:t,updated_at:new Date().toISOString(),preferences:{},metadata:{}};t&&(this.supabaseService.clearCachedProfilePictureBlobUrl(),this.previewUrl=await this.supabaseService.getCachedProfilePictureBlobUrl(t),this.currentImageUrl=this.previewUrl),await this.supabaseService.updateProfile(r),this.formChanged=!1,this.selectedFile=null,this.originalFormValue=this.profileForm.getRawValue(),this.cdr.markForCheck()}static \u0275fac=function(e){return new(e||n)(T(bn),T(de),T(le))};static \u0275cmp=ee({type:n,selectors:[["app-user-account-settings"]],decls:58,vars:6,consts:[[1,"container","mb-5"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/home"],["aria-current","page",1,"breadcrumb-item","active"],[1,"mb-2"],[1,"text-muted","mb-4"],[1,"row","g-3","mb-4"],[1,""],[1,"card","border-0","shadow-sm","p-3","h-100"],[1,"d-flex","align-items-center","mb-2"],["alt","Profile","class","rounded-circle me-2","style","width: 40px; height: 40px; object-fit: cover;",3,"src",4,"ngIf"],[1,"mb-0"],[1,"text-muted"],[1,"row","g-4",3,"ngSubmit","formGroup"],[1,"fw-bold"],[1,"col-md-6"],[1,"form-label"],["formControlName","firstname","placeholder","First name",1,"form-control"],["formControlName","lastname","placeholder","Last name",1,"form-control"],["formControlName","email","placeholder","Email","type","email",1,"form-control"],["formControlName","phone","placeholder","+1 (123) 456-7890",1,"form-control"],[1,"col-12"],[1,"fw-bold","mt-3"],[1,"card","p-3","shadow-sm","border-light","bg-light-subtle"],[1,"form-label","d-block"],["alt","Preview","class","img-thumbnail","style","width: 120px;",3,"src",4,"ngIf"],["class","text-muted",4,"ngIf"],["type","file",1,"form-control","mt-2",3,"change"],[1,"mt-2","d-flex","gap-2"],["type","button",1,"btn","btn-outline-secondary","btn-sm",3,"click"],["class","col-12",4,"ngIf"],[1,"col-12","text-end"],["type","submit","class","btn btn-tr",3,"disabled",4,"ngIf"],["alt","Profile",1,"rounded-circle","me-2",2,"width","40px","height","40px","object-fit","cover",3,"src"],["alt","Preview",1,"img-thumbnail",2,"width","120px",3,"src"],[1,"alert","alert-danger"],["type","submit",1,"btn","btn-tr",3,"disabled"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),f(5,"Dashboard"),c()(),d(6,"li",5),f(7,"Account Settings"),c()()(),d(8,"h2",6),f(9,"Account Settings"),c(),d(10,"p",7),f(11,"Manage your profile, subscription, and preferences"),c(),d(12,"div",8)(13,"div",9)(14,"div",10)(15,"div",11),S(16,FL,1,1,"img",12),d(17,"h5",13),f(18,"Profile Information"),c()(),d(19,"small",14),f(20,"Update your personal details and public profile"),c()()()(),d(21,"form",15),D("ngSubmit",function(){return r.saveChanges()}),d(22,"h5",16),f(23,"Personal Information"),c(),d(24,"div",17)(25,"label",18),f(26,"First Name"),c(),_(27,"input",19),c(),d(28,"div",17)(29,"label",18),f(30,"Last Name"),c(),_(31,"input",20),c(),d(32,"div",17)(33,"label",18),f(34,"Email Address"),c(),_(35,"input",21),c(),d(36,"div",17)(37,"label",18),f(38,"Phone"),c(),_(39,"input",22),c(),d(40,"div",23)(41,"h6",24),f(42,"Profile Picture"),c(),d(43,"div",25)(44,"div",6)(45,"label",26),f(46,"Preview New Photo"),c(),S(47,LL,1,1,"img",27)(48,VL,2,0,"div",28),c(),d(49,"input",29),D("change",function(o){return r.onFileChange(o)}),c(),d(50,"small",14),f(51,"JPG, PNG or GIF. Max 1MB."),c(),d(52,"div",30)(53,"button",31),D("click",function(){return r.removeProfilePicture()}),f(54,"Remove"),c()()()(),S(55,jL,3,1,"div",32),d(56,"div",33),S(57,UL,2,1,"button",34),c()()()),e&2&&(m(16),y("ngIf",r.currentImageUrl),m(5),y("formGroup",r.profileForm),m(26),y("ngIf",r.previewUrl),m(),y("ngIf",!r.previewUrl),m(7),y("ngIf",r.errorMessage),m(2),y("ngIf",r.formChanged))},dependencies:[Ft,_n,We,nt,yn,Pt,Xt,fe,ye,qe],encapsulation:2})};var BL=(n,t)=>({"alert-success":n,"alert-danger":t});function $L(n,t){if(n&1&&(d(0,"div",7),f(1),c()),n&2){let e=E();y("ngClass",fn(2,BL,e.messageType==="success",e.messageType==="error")),m(),U(" ",e.message," ")}}function HL(n,t){if(n&1){let e=H();d(0,"tr")(1,"td")(2,"input",8),$e("ngModelChange",function(i){let o=x(e).$implicit;return He(o.title,i)||(o.title=i),M(i)}),D("ngModelChange",function(){let i=x(e).$implicit,o=E();return M(o.onFieldChange(i))}),c()(),d(3,"td")(4,"input",8),$e("ngModelChange",function(i){let o=x(e).$implicit;return He(o.url,i)||(o.url=i),M(i)}),D("ngModelChange",function(){let i=x(e).$implicit,o=E();return M(o.onFieldChange(i))}),c()(),d(5,"td")(6,"input",8),$e("ngModelChange",function(i){let o=x(e).$implicit;return He(o.category,i)||(o.category=i),M(i)}),D("ngModelChange",function(){let i=x(e).$implicit,o=E();return M(o.onFieldChange(i))}),c()(),d(7,"td")(8,"textarea",8),$e("ngModelChange",function(i){let o=x(e).$implicit;return He(o.description,i)||(o.description=i),M(i)}),D("ngModelChange",function(){let i=x(e).$implicit,o=E();return M(o.onFieldChange(i))}),c()(),d(9,"td")(10,"input",9),$e("ngModelChange",function(i){let o=x(e).$implicit;return He(o.isactive,i)||(o.isactive=i),M(i)}),D("change",function(){let i=x(e).$implicit,o=E();return M(o.onFieldChange(i))}),c()(),d(11,"td"),f(12),qt(13,"date"),c()()}if(n&2){let e=t.$implicit;m(2),Be("ngModel",e.title),m(2),Be("ngModel",e.url),m(2),Be("ngModel",e.category),m(2),Be("ngModel",e.description),m(2),Be("ngModel",e.isactive),m(2),K(Gt(13,6,e.updated_time,"short"))}}var Hd=class n{constructor(t,e){this.cdr=t;this.supabaseService=e}videos=[];message="";messageType="success";async ngOnInit(){let t=await this.supabaseService.adminLoadMeditationVideos();this.videos=t.map(e=>z(N({},e),{isModified:!1})),this.cdr.markForCheck()}onFieldChange(t){t.isModified=!0}addVideo(){this.videos.push({title:"",url:"",category:"",description:"",isactive:!0,isModified:!0}),this.cdr.detectChanges()}async saveChanges(){let t=this.videos.filter(e=>e.isModified);for(let e of t){if(e.id){e.updated_time=new Date().toISOString();let{error:r}=await this.supabaseService.updateMeditationVideo(e);if(r)return this.showMessage("Error saving some videos","error")}else{let{error:r}=await this.supabaseService.addMeditationVideo(e);if(r)return this.showMessage("Error adding new video","error")}e.isModified=!1}this.showMessage("Videos saved successfully","success"),this.cdr.detectChanges()}hasChanges(){return this.videos.some(t=>t.isModified)}showMessage(t,e){this.message=t,this.messageType=e,this.cdr.markForCheck(),setTimeout(()=>{this.message="",this.cdr.markForCheck()},4e3)}static \u0275fac=function(e){return new(e||n)(T(le),T(de))};static \u0275cmp=ee({type:n,selectors:[["app-admin-meditation-dashboard"]],decls:26,vars:3,consts:[[1,"container","mt-4","p-4"],["class","alert",3,"ngClass",4,"ngIf"],[1,"table","mt-4"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","mt-3"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-success",3,"click","disabled"],[1,"alert",3,"ngClass"],["type","text",1,"form-control",3,"ngModelChange","ngModel"],["type","checkbox",1,"form-check-input",3,"ngModelChange","change","ngModel"]],template:function(e,r){e&1&&(d(0,"div",0),S(1,$L,2,5,"div",1),d(2,"h2"),f(3,"Meditation Video Admin Dashboard"),c(),d(4,"table",2)(5,"thead")(6,"tr")(7,"th"),f(8,"Title"),c(),d(9,"th"),f(10,"URL"),c(),d(11,"th"),f(12,"Category"),c(),d(13,"th"),f(14,"Description"),c(),d(15,"th"),f(16,"Active"),c(),d(17,"th"),f(18,"Last Updated"),c()()(),d(19,"tbody"),S(20,HL,14,9,"tr",3),c()(),d(21,"div",4)(22,"button",5),D("click",function(){return r.addVideo()}),f(23,"Add Video"),c(),d(24,"button",6),D("click",function(){return r.saveChanges()}),f(25,"Save Changes"),c()()()),e&2&&(m(),y("ngIf",r.message),m(19),y("ngForOf",r.videos),m(4),y("disabled",!r.hasChanges()))},dependencies:[fe,Rt,Le,ye,pn,ui,We,xr,nt,io],encapsulation:2})};var RS=[{path:"",component:Fd,canActivate:[fd]},{path:"home",component:dd,canActivate:[lt]},{path:"pretrades",component:Id,canActivate:[lt]},{path:"pretradelog",component:ys,canActivate:[lt]},{path:"posttrades",component:Td,canActivate:[lt]},{path:"posttradelog",component:_s,canActivate:[lt]},{path:"emotions",component:Pd,canActivate:[lt]},{path:"tradejournal",component:Ld,canActivate:[lt]},{path:"individualTrade",component:ws,canActivate:[lt]},{path:"meditationhub",component:jd,canActivate:[lt]},{path:"analytics",component:Ud,canActivate:[lt]},{path:"tradeaccounts",component:Bd,canActivate:[lt]},{path:"useraccount",component:$d,canActivate:[lt]},{path:"admin/emotionquestion",component:xd,canActivate:[lt]},{path:"admin/meditationvideo",component:Hd,canActivate:[lt]},{path:"**",redirectTo:""}];function OS(n){return new A(3e3,!1)}function zL(){return new A(3100,!1)}function qL(){return new A(3101,!1)}function GL(n){return new A(3001,!1)}function WL(n){return new A(3003,!1)}function QL(n){return new A(3004,!1)}function KL(n,t){return new A(3005,!1)}function ZL(){return new A(3006,!1)}function YL(){return new A(3007,!1)}function JL(n,t){return new A(3008,!1)}function XL(n){return new A(3002,!1)}function eV(n,t,e,r,i){return new A(3010,!1)}function tV(){return new A(3011,!1)}function nV(){return new A(3012,!1)}function rV(){return new A(3200,!1)}function iV(){return new A(3202,!1)}function oV(){return new A(3013,!1)}function sV(n){return new A(3014,!1)}function aV(n){return new A(3015,!1)}function lV(n){return new A(3016,!1)}function cV(n,t){return new A(3404,!1)}function uV(n){return new A(3502,!1)}function dV(n){return new A(3503,!1)}function fV(){return new A(3300,!1)}function hV(n){return new A(3504,!1)}function pV(n){return new A(3301,!1)}function mV(n,t){return new A(3302,!1)}function gV(n){return new A(3303,!1)}function vV(n,t){return new A(3400,!1)}function yV(n){return new A(3401,!1)}function _V(n){return new A(3402,!1)}function bV(n,t){return new A(3505,!1)}function fi(n){switch(n.length){case 0:return new di;case 1:return n[0];default:return new ll(n)}}function QS(n,t,e=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(t.forEach(l=>{let u=l.get("offset"),h=u==s,p=h&&a||new Map;l.forEach((v,g)=>{let b=g,w=v;if(g!=="offset")switch(b=n.normalizePropertyName(b,i),w){case Od:w=e.get(g);break;case Jn:w=r.get(g);break;default:w=n.normalizeStyleValue(g,b,w,i);break}p.set(b,w)}),h||o.push(p),a=p,s=u}),i.length)throw uV(i);return o}function Ev(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&tv(e,"start",n)));break;case"done":n.onDone(()=>r(e&&tv(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&tv(e,"destroy",n)));break}}function tv(n,t,e){let r=e.totalTime,i=!!e.disabled,o=Cv(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,r??n.totalTime,i),s=n._data;return s!=null&&(o._data=s),o}function Cv(n,t,e,r,i="",o=0,s){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function tn(n,t,e){let r=n.get(t);return r||n.set(t,r=e),r}function PS(n){let t=n.indexOf(":"),e=n.substring(1,t),r=n.slice(t+1);return[e,r]}var wV=typeof document>"u"?null:document.documentElement;function Sv(n){let t=n.parentNode||n.host||null;return t===wV?null:t}function EV(n){return n.substring(1,6)=="ebkit"}var lo=null,FS=!1;function CV(n){lo||(lo=SV()||{},FS=lo.style?"WebkitAppearance"in lo.style:!1);let t=!0;return lo.style&&!EV(n)&&(t=n in lo.style,!t&&FS&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in lo.style)),t}function SV(){return typeof document<"u"?document.body:null}function KS(n,t){for(;t;){if(t===n)return!0;t=Sv(t)}return!1}function ZS(n,t,e){if(e)return Array.from(n.querySelectorAll(t));let r=n.querySelector(t);return r?[r]:[]}var Dv=(()=>{class n{validateStyleProperty(e){return CV(e)}containsElement(e,r){return KS(e,r)}getParentElement(e){return Sv(e)}query(e,r,i){return ZS(e,r,i)}computeStyle(e,r,i){return i||""}animate(e,r,i,o,s,a=[],l){return new di(i,o)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:n.\u0275fac})}return n})(),fo=class{static NOOP=new Dv},ho=class{};var DV=1e3,YS="{{",IV="}}",JS="ng-enter",av="ng-leave",zd="ng-trigger",Kd=".ng-trigger",LS="ng-animating",lv=".ng-animating";function Or(n){if(typeof n=="number")return n;let t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:cv(parseFloat(t[1]),t[2])}function cv(n,t){switch(t){case"s":return n*DV;default:return n}}function Zd(n,t,e){return n.hasOwnProperty("duration")?n:TV(n,t,e)}function TV(n,t,e){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof n=="string"){let a=n.match(r);if(a===null)return t.push(OS(n)),{duration:0,delay:0,easing:""};i=cv(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(o=cv(parseFloat(l),a[4]));let u=a[5];u&&(s=u)}else i=n;if(!e){let a=!1,l=t.length;i<0&&(t.push(zL()),a=!0),o<0&&(t.push(qL()),a=!0),a&&t.splice(l,0,OS(n))}return{duration:i,delay:o,easing:s}}function xV(n){return n.length?n[0]instanceof Map?n:n.map(t=>new Map(Object.entries(t))):[]}function Xn(n,t,e){t.forEach((r,i)=>{let o=Iv(i);e&&!e.has(i)&&e.set(i,n.style[o]),n.style[o]=r})}function uo(n,t){t.forEach((e,r)=>{let i=Iv(r);n.style[i]=""})}function cl(n){return Array.isArray(n)?n.length==1?n[0]:kS(n):n}function MV(n,t,e){let r=t.params||{},i=XS(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||e.push(GL(o))})}var uv=new RegExp(`${YS}\\s*(.+?)\\s*${IV}`,"g");function XS(n){let t=[];if(typeof n=="string"){let e;for(;e=uv.exec(n);)t.push(e[1]);uv.lastIndex=0}return t}function dl(n,t,e){let r=`${n}`,i=r.replace(uv,(o,s)=>{let a=t[s];return a==null&&(e.push(WL(s)),a=""),a.toString()});return i==r?n:i}var AV=/-+([a-z0-9])/g;function Iv(n){return n.replace(AV,(...t)=>t[1].toUpperCase())}function kV(n,t){return n===0||t===0}function NV(n,t,e){if(e.size&&t.length){let r=t[0],i=[];if(e.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<t.length;o++){let s=t[o];i.forEach(a=>s.set(a,Tv(n,a)))}}return t}function en(n,t,e){switch(t.type){case X.Trigger:return n.visitTrigger(t,e);case X.State:return n.visitState(t,e);case X.Transition:return n.visitTransition(t,e);case X.Sequence:return n.visitSequence(t,e);case X.Group:return n.visitGroup(t,e);case X.Animate:return n.visitAnimate(t,e);case X.Keyframes:return n.visitKeyframes(t,e);case X.Style:return n.visitStyle(t,e);case X.Reference:return n.visitReference(t,e);case X.AnimateChild:return n.visitAnimateChild(t,e);case X.AnimateRef:return n.visitAnimateRef(t,e);case X.Query:return n.visitQuery(t,e);case X.Stagger:return n.visitStagger(t,e);default:throw QL(t.type)}}function Tv(n,t){return window.getComputedStyle(n)[t]}var RV=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Yd=class extends ho{normalizePropertyName(t,e){return Iv(t)}normalizeStyleValue(t,e,r,i){let o="",s=r.toString().trim();if(RV.has(e)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(KL(t,r))}return s+o}};var Jd="*";function OV(n,t){let e=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>PV(r,e,t)):e.push(n),e}function PV(n,t,e){if(n[0]==":"){let l=FV(n,e);if(typeof l=="function"){t.push(l);return}n=l}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return e.push(aV(n)),t;let i=r[1],o=r[2],s=r[3];t.push(VS(i,s));let a=i==Jd&&s==Jd;o[0]=="<"&&!a&&t.push(VS(s,i))}function FV(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(lV(n)),"* => *"}}var qd=new Set(["true","1"]),Gd=new Set(["false","0"]);function VS(n,t){let e=qd.has(n)||Gd.has(n),r=qd.has(t)||Gd.has(t);return(i,o)=>{let s=n==Jd||n==i,a=t==Jd||t==o;return!s&&e&&typeof i=="boolean"&&(s=i?qd.has(n):Gd.has(n)),!a&&r&&typeof o=="boolean"&&(a=o?qd.has(t):Gd.has(t)),s&&a}}var eD=":self",LV=new RegExp(`s*${eD}s*,?`,"g");function tD(n,t,e,r){return new dv(n).build(t,e,r)}var jS="",dv=class{_driver;constructor(t){this._driver=t}build(t,e,r){let i=new fv(e);return this._resetContextStyleTimingState(i),en(this,cl(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector=jS,t.collectedStyles=new Map,t.collectedStyles.set(jS,new Map),t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,i=e.depCount=0,o=[],s=[];return t.name.charAt(0)=="@"&&e.errors.push(ZL()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),a.type==X.State){let l=a,u=l.name;u.toString().split(/\s*,\s*/).forEach(h=>{l.name=h,o.push(this.visitState(l,e))}),l.name=u}else if(a.type==X.Transition){let l=this.visitTransition(a,e);r+=l.queryCount,i+=l.depCount,s.push(l)}else e.errors.push(YL())}),{type:X.Trigger,name:t.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(t,e){let r=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{XS(l).forEach(u=>{s.hasOwnProperty(u)||o.add(u)})})}),o.size&&e.errors.push(JL(t.name,[...o.values()]))}return{type:X.State,name:t.name,style:r,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;let r=en(this,cl(t.animation),e),i=OV(t.expr,e.errors);return{type:X.Transition,matchers:i,animation:r,queryCount:e.queryCount,depCount:e.depCount,options:co(t.options)}}visitSequence(t,e){return{type:X.Sequence,steps:t.steps.map(r=>en(this,r,e)),options:co(t.options)}}visitGroup(t,e){let r=e.currentTime,i=0,o=t.steps.map(s=>{e.currentTime=r;let a=en(this,s,e);return i=Math.max(i,e.currentTime),a});return e.currentTime=i,{type:X.Group,steps:o,options:co(t.options)}}visitAnimate(t,e){let r=BV(t.timings,e.errors);e.currentAnimateTimings=r;let i,o=t.styles?t.styles:wn({});if(o.type==X.Keyframes)i=this.visitKeyframes(o,e);else{let s=t.styles,a=!1;if(!s){a=!0;let u={};r.easing&&(u.easing=r.easing),s=wn(u)}e.currentTime+=r.duration+r.delay;let l=this.visitStyle(s,e);l.isEmptyStep=a,i=l}return e.currentAnimateTimings=null,{type:X.Animate,timings:r,style:i,options:null}}visitStyle(t,e){let r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){let r=[],i=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of i)typeof a=="string"?a===Jn?r.push(a):e.errors.push(XL(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let l of a.values())if(l.toString().indexOf(YS)>=0){o=!0;break}}}),{type:X.Style,styles:r,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){let r=e.currentAnimateTimings,i=e.currentTime,o=e.currentTime;r&&o>0&&(o-=r.duration+r.delay),t.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,l)=>{let u=e.collectedStyles.get(e.currentQuerySelector),h=u.get(l),p=!0;h&&(o!=i&&o>=h.startTime&&i<=h.endTime&&(e.errors.push(eV(l,h.startTime,h.endTime,o,i)),p=!1),o=h.startTime),p&&u.set(l,{startTime:o,endTime:i}),e.options&&MV(a,e.options,e.errors)})})}visitKeyframes(t,e){let r={type:X.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(tV()),r;let i=1,o=0,s=[],a=!1,l=!1,u=0,h=t.steps.map(k=>{let F=this._makeStyleAst(k,e),P=F.offset!=null?F.offset:UV(F.styles),B=0;return P!=null&&(o++,B=F.offset=P),l=l||B<0||B>1,a=a||B<u,u=B,s.push(B),F});l&&e.errors.push(nV()),a&&e.errors.push(rV());let p=t.steps.length,v=0;o>0&&o<p?e.errors.push(iV()):o==0&&(v=i/(p-1));let g=p-1,b=e.currentTime,w=e.currentAnimateTimings,C=w.duration;return h.forEach((k,F)=>{let P=v>0?F==g?1:v*F:s[F],B=P*C;e.currentTime=b+w.delay+B,w.duration=B,this._validateStyleAst(k,e),k.offset=P,r.styles.push(k)}),r}visitReference(t,e){return{type:X.Reference,animation:en(this,cl(t.animation),e),options:co(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:X.AnimateChild,options:co(t.options)}}visitAnimateRef(t,e){return{type:X.AnimateRef,animation:this.visitReference(t.animation,e),options:co(t.options)}}visitQuery(t,e){let r=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;let[o,s]=VV(t.selector);e.currentQuerySelector=r.length?r+" "+o:o,tn(e.collectedStyles,e.currentQuerySelector,new Map);let a=en(this,cl(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:X.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:co(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(oV());let r=t.timings==="full"?{duration:0,delay:0,easing:"full"}:Zd(t.timings,e.errors,!0);return{type:X.Stagger,animation:en(this,cl(t.animation),e),timings:r,options:null}}};function VV(n){let t=!!n.split(/\s*,\s*/).find(e=>e==eD);return t&&(n=n.replace(LV,"")),n=n.replace(/@\*/g,Kd).replace(/@\w+/g,e=>Kd+"-"+e.slice(1)).replace(/:animating/g,lv),[n,t]}function jV(n){return n?N({},n):null}var fv=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(t){this.errors=t}};function UV(n){if(typeof n=="string")return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){let r=e;t=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}function BV(n,t){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=Zd(n,t).duration;return nv(o,0,"")}let e=n;if(e.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=nv(0,0,"");return o.dynamic=!0,o.strValue=e,o}let i=Zd(e,t);return nv(i.duration,i.delay,i.easing)}function co(n){return n?(n=N({},n),n.params&&(n.params=jV(n.params))):n={},n}function nv(n,t,e){return{duration:n,delay:t,easing:e}}function xv(n,t,e,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var fl=class{_map=new Map;get(t){return this._map.get(t)||[]}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}},$V=1,HV=":enter",zV=new RegExp(HV,"g"),qV=":leave",GV=new RegExp(qV,"g");function nD(n,t,e,r,i,o=new Map,s=new Map,a,l,u=[]){return new hv().buildKeyframes(n,t,e,r,i,o,s,a,l,u)}var hv=class{buildKeyframes(t,e,r,i,o,s,a,l,u,h=[]){u=u||new fl;let p=new pv(t,e,u,i,o,h,[]);p.options=l;let v=l.delay?Or(l.delay):0;p.currentTimeline.delayNextStep(v),p.currentTimeline.setStyles([s],null,p.errors,l),en(this,r,p);let g=p.timelines.filter(b=>b.containsAnimation());if(g.length&&a.size){let b;for(let w=g.length-1;w>=0;w--){let C=g[w];if(C.element===e){b=C;break}}b&&!b.allowOnlyTimelineStyles()&&b.setStyles([a],null,p.errors,l)}return g.length?g.map(b=>b.buildKeyframes()):[xv(e,[],[],[],0,v,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){let r=e.subInstructions.get(e.element);if(r){let i=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){let r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,r),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,r){for(let i of t){let o=i?.delay;if(o){let s=typeof o=="number"?o:Or(dl(o,i?.params??{},e.errors));r.delayNextStep(s)}}}_visitSubInstructions(t,e,r){let o=e.currentTimeline.currentTime,s=r.duration!=null?Or(r.duration):null,a=r.delay!=null?Or(r.delay):null;return s!==0&&t.forEach(l=>{let u=e.appendInstructionToTimeline(l,s,a);o=Math.max(o,u.duration+u.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),en(this,t.animation,e),e.previousNode=t}visitSequence(t,e){let r=e.subContextCount,i=e,o=t.options;if(o&&(o.params||o.delay)&&(i=e.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==X.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Xd);let s=Or(o.delay);i.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>en(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){let r=[],i=e.currentTimeline.currentTime,o=t.options&&t.options.delay?Or(t.options.delay):0;t.steps.forEach(s=>{let a=e.createSubContext(t.options);o&&a.delayNextStep(o),en(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){let r=t.strValue,i=e.params?dl(r,e.params,e.errors):r;return Zd(i,e.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){let r=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),i.snapshotCurrentStyles());let o=t.style;o.type==X.Keyframes?this.visitKeyframes(o,e):(e.incrementTime(r.duration),this.visitStyle(o,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){let r=e.currentTimeline,i=e.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(o):r.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){let r=e.currentAnimateTimings,i=e.currentTimeline.duration,o=r.duration,a=e.createSubContext().currentTimeline;a.easing=r.easing,t.styles.forEach(l=>{let u=l.offset||0;a.forwardTime(u*o),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(i+o),e.previousNode=t}visitQuery(t,e){let r=e.currentTimeline.currentTime,i=t.options||{},o=i.delay?Or(i.delay):0;o&&(e.previousNode.type===X.Style||r==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Xd);let s=r,a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((u,h)=>{e.currentQueryIndex=h;let p=e.createSubContext(t.options,u);o&&p.delayNextStep(o),u===e.element&&(l=p.currentTimeline),en(this,t.animation,p),p.currentTimeline.applyStylesToKeyframe();let v=p.currentTimeline.currentTime;s=Math.max(s,v)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){let r=e.parentContext,i=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1),l=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime;break}let h=e.currentTimeline;l&&h.delayNextStep(l);let p=h.currentTime;en(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=i.currentTime-p+(i.startTime-r.currentTimeline.startTime)}},Xd={},pv=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Xd;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(t,e,r,i,o,s,a,l){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.currentTimeline=l||new ef(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;let r=t,i=this.options;r.duration!=null&&(i.duration=Or(r.duration)),r.delay!=null&&(i.delay=Or(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=dl(o[a],s,this.errors))})}}_copyOptions(){let t={};if(this.options){let e=this.options.params;if(e){let r=t.params={};Object.keys(e).forEach(i=>{r[i]=e[i]})}}return t}createSubContext(t=null,e,r){let i=e||this.element,o=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=Xd,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){let i={duration:e??t.duration,delay:this.currentTimeline.currentTime+(r??0)+t.delay,easing:""},o=new mv(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,i,o,s){let a=[];if(i&&a.push(this.element),t.length>0){t=t.replace(zV,"."+this._enterClassName),t=t.replace(GV,"."+this._leaveClassName);let l=r!=1,u=this._driver.query(this.element,t,l);r!==0&&(u=r<0?u.slice(u.length+r,u.length):u.slice(0,r)),a.push(...u)}return!o&&a.length==0&&s.push(sV(e)),a}},ef=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(t,e,r,i){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new n(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=$V,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,r]of this._globalTimelineStyles)this._backFill.set(e,r||Jn),this._currentKeyframe.set(e,Jn);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,i){e&&this._previousKeyframe.set("easing",e);let o=i&&i.params||{},s=WV(t,this._globalTimelineStyles);for(let[a,l]of s){let u=dl(l,o,r);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Jn),this._updateStyle(a,u)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,r)=>{let i=this._styleSummary.get(r);(!i||e.time>i.time)&&this._updateStyle(r,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,e=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,l)=>{let u=new Map([...this._backFill,...a]);u.forEach((h,p)=>{h===Od?t.add(p):h===Jn&&e.add(p)}),r||u.set("offset",l/this.duration),i.push(u)});let o=[...t.values()],s=[...e.values()];if(r){let a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return xv(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},mv=class extends ef{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(t,e,r,i,o,s,a=!1){super(t,e,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){let o=[],s=r+e,a=e/s,l=new Map(t[0]);l.set("offset",0),o.push(l);let u=new Map(t[0]);u.set("offset",US(a)),o.push(u);let h=t.length-1;for(let p=1;p<=h;p++){let v=new Map(t[p]),g=v.get("offset"),b=e+g*r;v.set("offset",US(b/s)),o.push(v)}r=s,e=0,i="",t=o}return xv(this.element,t,this.preStyleProps,this.postStyleProps,r,e,i,!0)}};function US(n,t=3){let e=Math.pow(10,t-1);return Math.round(n*e)/e}function WV(n,t){let e=new Map,r;return n.forEach(i=>{if(i==="*"){r??=t.keys();for(let o of r)e.set(o,Jn)}else for(let[o,s]of i)e.set(o,s)}),e}function BS(n,t,e,r,i,o,s,a,l,u,h,p,v){return{type:0,element:n,triggerName:t,isRemovalTransition:i,fromState:e,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:h,totalTime:p,errors:v}}var rv={},tf=class{_triggerName;ast;_stateStyles;constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,i){return QV(this.ast.matchers,t,e,r,i)}buildStyles(t,e,r){let i=this._stateStyles.get("*");return t!==void 0&&(i=this._stateStyles.get(t?.toString())||i),i?i.buildStyles(e,r):new Map}build(t,e,r,i,o,s,a,l,u,h){let p=[],v=this.ast.options&&this.ast.options.params||rv,g=a&&a.params||rv,b=this.buildStyles(r,g,p),w=l&&l.params||rv,C=this.buildStyles(i,w,p),k=new Set,F=new Map,P=new Map,B=i==="void",W={params:rD(w,v),delay:this.ast.options?.delay},be=h?[]:nD(t,e,this.ast.animation,o,s,b,C,W,u,p),we=0;return be.forEach(Ae=>{we=Math.max(Ae.duration+Ae.delay,we)}),p.length?BS(e,this._triggerName,r,i,B,b,C,[],[],F,P,we,p):(be.forEach(Ae=>{let wt=Ae.element,po=tn(F,wt,new Set);Ae.preStyleProps.forEach(hi=>po.add(hi));let Mv=tn(P,wt,new Set);Ae.postStyleProps.forEach(hi=>Mv.add(hi)),wt!==e&&k.add(wt)}),BS(e,this._triggerName,r,i,B,b,C,be,[...k.values()],F,P,we))}};function QV(n,t,e,r,i){return n.some(o=>o(t,e,r,i))}function rD(n,t){let e=N({},t);return Object.entries(n).forEach(([r,i])=>{i!=null&&(e[r]=i)}),e}var gv=class{styles;defaultParams;normalizer;constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){let r=new Map,i=rD(t,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=dl(s,i,e));let l=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,l,s,e),r.set(a,s)})}),r}};function KV(n,t,e){return new vv(n,t,e)}var vv=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,e.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new gv(i.style,o,r))}),$S(this.states,"true","1"),$S(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new tf(t,i,this.states))}),this.fallbackTransition=ZV(t,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,i){return this.transitionFactories.find(s=>s.match(t,e,r,i))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}};function ZV(n,t,e){let r=[(s,a)=>!0],i={type:X.Sequence,steps:[],options:null},o={type:X.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new tf(n,o,t)}function $S(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}var YV=new fl,yv=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r}register(t,e){let r=[],i=[],o=tD(this._driver,e,r,i);if(r.length)throw dV(r);this._animations.set(t,o)}_buildPlayer(t,e,r){let i=t.element,o=QS(this._normalizer,t.keyframes,e,r);return this._driver.animate(i,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){let i=[],o=this._animations.get(t),s,a=new Map;if(o?(s=nD(this._driver,e,o,JS,av,new Map,new Map,r,YV,i),s.forEach(h=>{let p=tn(a,h.element,new Map);h.postStyleProps.forEach(v=>p.set(v,null))})):(i.push(fV()),s=[]),i.length)throw hV(i);a.forEach((h,p)=>{h.forEach((v,g)=>{h.set(g,this._driver.computeStyle(p,g,Jn))})});let l=s.map(h=>{let p=a.get(h.element);return this._buildPlayer(h,new Map,p)}),u=fi(l);return this._playersById.set(t,u),u.onDestroy(()=>this.destroy(t)),this.players.push(u),u}destroy(t){let e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);let r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){let e=this._playersById.get(t);if(!e)throw pV(t);return e}listen(t,e,r,i){let o=Cv(e,"","","");return Ev(this._getPlayer(t),r,o,i),()=>{}}command(t,e,r,i){if(r=="register"){this.register(t,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(t,e,s);return}let o=this._getPlayer(t);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t);break}}},HS="ng-animate-queued",JV=".ng-animate-queued",iv="ng-animate-disabled",XV=".ng-animate-disabled",ej="ng-star-inserted",tj=".ng-star-inserted",nj=[],iD={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},rj={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Fn="__ng_removed",hl=class{namespaceId;value;options;get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;let r=t&&t.hasOwnProperty("value"),i=r?t.value:t;if(this.value=oj(i),r){let o=t,{value:s}=o,a=mo(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let e=t.params;if(e){let r=this.options.params;Object.keys(e).forEach(i=>{r[i]==null&&(r[i]=e[i])})}}},ul="void",ov=new hl(ul),_v=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this._hostClassName="ng-tns-"+t,En(e,this._hostClassName)}listen(t,e,r,i){if(!this._triggers.has(e))throw mV(r,e);if(r==null||r.length==0)throw gV(e);if(!sj(r))throw vV(r,e);let o=tn(this._elementListeners,t,[]),s={name:e,phase:r,callback:i};o.push(s);let a=tn(this._engine.statesByElement,t,new Map);return a.has(e)||(En(t,zd),En(t,zd+"-"+e),a.set(e,ov)),()=>{this._engine.afterFlush(()=>{let l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return this._triggers.has(t)?!1:(this._triggers.set(t,e),!0)}_getTrigger(t){let e=this._triggers.get(t);if(!e)throw yV(t);return e}trigger(t,e,r,i=!0){let o=this._getTrigger(e),s=new pl(this.id,e,t),a=this._engine.statesByElement.get(t);a||(En(t,zd),En(t,zd+"-"+e),this._engine.statesByElement.set(t,a=new Map));let l=a.get(e),u=new hl(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),a.set(e,u),l||(l=ov),!(u.value===ul)&&l.value===u.value){if(!cj(l.params,u.params)){let w=[],C=o.matchStyles(l.value,l.params,w),k=o.matchStyles(u.value,u.params,w);w.length?this._engine.reportError(w):this._engine.afterFlush(()=>{uo(t,C),Xn(t,k)})}return}let v=tn(this._engine.playersByElement,t,[]);v.forEach(w=>{w.namespaceId==this.id&&w.triggerName==e&&w.queued&&w.destroy()});let g=o.matchTransition(l.value,u.value,t,u.params),b=!1;if(!g){if(!i)return;g=o.fallbackTransition,b=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:g,fromState:l,toState:u,player:s,isFallbackTransition:b}),b||(En(t,HS),s.onStart(()=>{Es(t,HS)})),s.onDone(()=>{let w=this.players.indexOf(s);w>=0&&this.players.splice(w,1);let C=this._engine.playersByElement.get(t);if(C){let k=C.indexOf(s);k>=0&&C.splice(k,1)}}),this.players.push(s),v.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(i=>i.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){let r=this._engine.driver.query(t,Kd,!0);r.forEach(i=>{if(i[Fn])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(t,e,r,i){let o=this._engine.statesByElement.get(t),s=new Map;if(o){let a=[];if(o.forEach((l,u)=>{if(s.set(u,l.value),this._triggers.has(u)){let h=this.trigger(t,u,ul,i);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),r&&fi(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){let i=new Set;e.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let l=this._triggers.get(s).fallbackTransition,u=r.get(s)||ov,h=new hl(ul),p=new pl(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:l,fromState:u,toState:h,player:p,isFallbackTransition:!0})})}}removeNode(t,e){let r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else{let s=t;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,e);else{let o=t[Fn];(!o||o===iD)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){En(t,this._hostClassName)}drainQueuedTransitions(t){let e=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let l=Cv(o,r.triggerName,r.fromState.value,r.toState.value);l._data=t,Ev(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(r)}),this._queue=[],e.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},bv=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(t,e)=>{};_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r}get queuedPlayers(){let t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){let r=new _v(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){let l=i.get(a);if(l){let u=r.indexOf(l);r.splice(u+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(t)}else r.push(t);return i.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let i=this._namespaceLookup[t];i&&i.register(e,r)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(t);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let e=new Set,r=this.statesByElement.get(t);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&e.add(o)}}return e}trigger(t,e,r,i){if(Wd(e)){let o=this._fetchNamespace(t);if(o)return o.trigger(e,r,i),!0}return!1}insertNode(t,e,r,i){if(!Wd(e))return;let o=e[Fn];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){let s=this._fetchNamespace(t);s&&s.insertNode(e,r)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),En(t,iv)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Es(t,iv))}removeNode(t,e,r){if(Wd(e)){let i=t?this._fetchNamespace(t):null;i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r);let o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,r)}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,r,i,o){this.collectedLeaveElements.push(e),e[Fn]={namespaceId:t,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,r,i,o){return Wd(e)?this._fetchNamespace(t).listen(e,r,i,o):()=>{}}_buildInstruction(t,e,r,i,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,i,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,Kd,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(t,lv,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){let e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){let e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return fi(this.players).onDone(()=>t());t()})}processLeaveNode(t){let e=t[Fn];if(e&&e.setForRemoval){if(t[Fn]=iD,e.namespaceId){this.destroyInnerAnimations(t);let r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(iv)&&this.markElementAsDisabled(t,!1),this.driver.query(t,XV,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];En(i,ej)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{e=this._flushAnimations(r,t)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],e.length?fi(e).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(t){throw _V(t)}_flushAnimations(t,e){let r=new fl,i=[],o=new Map,s=[],a=new Map,l=new Map,u=new Map,h=new Set;this.disabledNodes.forEach(j=>{h.add(j);let $=this.driver.query(j,JV,!0);for(let Q=0;Q<$.length;Q++)h.add($[Q])});let p=this.bodyNode,v=Array.from(this.statesByElement.keys()),g=GS(v,this.collectedEnterElements),b=new Map,w=0;g.forEach((j,$)=>{let Q=JS+w++;b.set($,Q),j.forEach(me=>En(me,Q))});let C=[],k=new Set,F=new Set;for(let j=0;j<this.collectedLeaveElements.length;j++){let $=this.collectedLeaveElements[j],Q=$[Fn];Q&&Q.setForRemoval&&(C.push($),k.add($),Q.hasAnimation?this.driver.query($,tj,!0).forEach(me=>k.add(me)):F.add($))}let P=new Map,B=GS(v,Array.from(k));B.forEach((j,$)=>{let Q=av+w++;P.set($,Q),j.forEach(me=>En(me,Q))}),t.push(()=>{g.forEach((j,$)=>{let Q=b.get($);j.forEach(me=>Es(me,Q))}),B.forEach((j,$)=>{let Q=P.get($);j.forEach(me=>Es(me,Q))}),C.forEach(j=>{this.processLeaveNode(j)})});let W=[],be=[];for(let j=this._namespaceList.length-1;j>=0;j--)this._namespaceList[j].drainQueuedTransitions(e).forEach(Q=>{let me=Q.player,tt=Q.element;if(W.push(me),this.collectedEnterElements.length){let ut=tt[Fn];if(ut&&ut.setForMove){if(ut.previousTriggersValues&&ut.previousTriggersValues.has(Q.triggerName)){let pi=ut.previousTriggersValues.get(Q.triggerName),nn=this.statesByElement.get(Q.element);if(nn&&nn.has(Q.triggerName)){let ml=nn.get(Q.triggerName);ml.value=pi,nn.set(Q.triggerName,ml)}}me.destroy();return}}let Ln=!p||!this.driver.containsElement(p,tt),Lt=P.get(tt),Pr=b.get(tt),ke=this._buildInstruction(Q,r,Pr,Lt,Ln);if(ke.errors&&ke.errors.length){be.push(ke);return}if(Ln){me.onStart(()=>uo(tt,ke.fromStyles)),me.onDestroy(()=>Xn(tt,ke.toStyles)),i.push(me);return}if(Q.isFallbackTransition){me.onStart(()=>uo(tt,ke.fromStyles)),me.onDestroy(()=>Xn(tt,ke.toStyles)),i.push(me);return}let Nv=[];ke.timelines.forEach(ut=>{ut.stretchStartingKeyframe=!0,this.disabledNodes.has(ut.element)||Nv.push(ut)}),ke.timelines=Nv,r.append(tt,ke.timelines);let uD={instruction:ke,player:me,element:tt};s.push(uD),ke.queriedElements.forEach(ut=>tn(a,ut,[]).push(me)),ke.preStyleProps.forEach((ut,pi)=>{if(ut.size){let nn=l.get(pi);nn||l.set(pi,nn=new Set),ut.forEach((ml,uf)=>nn.add(uf))}}),ke.postStyleProps.forEach((ut,pi)=>{let nn=u.get(pi);nn||u.set(pi,nn=new Set),ut.forEach((ml,uf)=>nn.add(uf))})});if(be.length){let j=[];be.forEach($=>{j.push(bV($.triggerName,$.errors))}),W.forEach($=>$.destroy()),this.reportError(j)}let we=new Map,Ae=new Map;s.forEach(j=>{let $=j.element;r.has($)&&(Ae.set($,$),this._beforeAnimationBuild(j.player.namespaceId,j.instruction,we))}),i.forEach(j=>{let $=j.element;this._getPreviousPlayers($,!1,j.namespaceId,j.triggerName,null).forEach(me=>{tn(we,$,[]).push(me),me.destroy()})});let wt=C.filter(j=>WS(j,l,u)),po=new Map;qS(po,this.driver,F,u,Jn).forEach(j=>{WS(j,l,u)&&wt.push(j)});let hi=new Map;g.forEach((j,$)=>{qS(hi,this.driver,new Set(j),l,Od)}),wt.forEach(j=>{let $=po.get(j),Q=hi.get(j);po.set(j,new Map([...$?.entries()??[],...Q?.entries()??[]]))});let cf=[],Av=[],kv={};s.forEach(j=>{let{element:$,player:Q,instruction:me}=j;if(r.has($)){if(h.has($)){Q.onDestroy(()=>Xn($,me.toStyles)),Q.disabled=!0,Q.overrideTotalTime(me.totalTime),i.push(Q);return}let tt=kv;if(Ae.size>1){let Lt=$,Pr=[];for(;Lt=Lt.parentNode;){let ke=Ae.get(Lt);if(ke){tt=ke;break}Pr.push(Lt)}Pr.forEach(ke=>Ae.set(ke,tt))}let Ln=this._buildAnimation(Q.namespaceId,me,we,o,hi,po);if(Q.setRealPlayer(Ln),tt===kv)cf.push(Q);else{let Lt=this.playersByElement.get(tt);Lt&&Lt.length&&(Q.parentPlayer=fi(Lt)),i.push(Q)}}else uo($,me.fromStyles),Q.onDestroy(()=>Xn($,me.toStyles)),Av.push(Q),h.has($)&&i.push(Q)}),Av.forEach(j=>{let $=o.get(j.element);if($&&$.length){let Q=fi($);j.setRealPlayer(Q)}}),i.forEach(j=>{j.parentPlayer?j.syncPlayerEvents(j.parentPlayer):j.destroy()});for(let j=0;j<C.length;j++){let $=C[j],Q=$[Fn];if(Es($,av),Q&&Q.hasAnimation)continue;let me=[];if(a.size){let Ln=a.get($);Ln&&Ln.length&&me.push(...Ln);let Lt=this.driver.query($,lv,!0);for(let Pr=0;Pr<Lt.length;Pr++){let ke=a.get(Lt[Pr]);ke&&ke.length&&me.push(...ke)}}let tt=me.filter(Ln=>!Ln.destroyed);tt.length?aj(this,$,tt):this.processLeaveNode($)}return C.length=0,cf.forEach(j=>{this.players.push(j),j.onDone(()=>{j.destroy();let $=this.players.indexOf(j);this.players.splice($,1)}),j.play()}),cf}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,i,o){let s=[];if(e){let a=this.playersByQueriedElement.get(t);a&&(s=a)}else{let a=this.playersByElement.get(t);if(a){let l=!o||o==ul;a.forEach(u=>{u.queued||!l&&u.triggerName!=i||s.push(u)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(t,e,r){let i=e.triggerName,o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:i;for(let l of e.timelines){let u=l.element,h=u!==o,p=tn(r,u,[]);this._getPreviousPlayers(u,h,s,a,e.toState).forEach(g=>{let b=g.getRealPlayer();b.beforeDestroy&&b.beforeDestroy(),g.destroy(),p.push(g)})}uo(o,e.fromStyles)}_buildAnimation(t,e,r,i,o,s){let a=e.triggerName,l=e.element,u=[],h=new Set,p=new Set,v=e.timelines.map(b=>{let w=b.element;h.add(w);let C=w[Fn];if(C&&C.removedBeforeQueried)return new di(b.duration,b.delay);let k=w!==l,F=lj((r.get(w)||nj).map(we=>we.getRealPlayer())).filter(we=>{let Ae=we;return Ae.element?Ae.element===w:!1}),P=o.get(w),B=s.get(w),W=QS(this._normalizer,b.keyframes,P,B),be=this._buildPlayer(b,W,F);if(b.subTimeline&&i&&p.add(w),k){let we=new pl(t,a,w);we.setRealPlayer(be),u.push(we)}return be});u.forEach(b=>{tn(this.playersByQueriedElement,b.element,[]).push(b),b.onDone(()=>ij(this.playersByQueriedElement,b.element,b))}),h.forEach(b=>En(b,LS));let g=fi(v);return g.onDestroy(()=>{h.forEach(b=>Es(b,LS)),Xn(l,e.toStyles)}),p.forEach(b=>{tn(i,b,[]).push(g)}),g}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new di(t.duration,t.delay)}},pl=class{namespaceId;triggerName;element;_player=new di;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,r)=>{e.forEach(i=>Ev(t,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){tn(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let e=this._player;e.triggerCallback&&e.triggerCallback(t)}};function ij(n,t,e){let r=n.get(t);if(r){if(r.length){let i=r.indexOf(e);r.splice(i,1)}r.length==0&&n.delete(t)}return r}function oj(n){return n??null}function Wd(n){return n&&n.nodeType===1}function sj(n){return n=="start"||n=="done"}function zS(n,t){let e=n.style.display;return n.style.display=t??"none",e}function qS(n,t,e,r,i){let o=[];e.forEach(l=>o.push(zS(l)));let s=[];r.forEach((l,u)=>{let h=new Map;l.forEach(p=>{let v=t.computeStyle(u,p,i);h.set(p,v),(!v||v.length==0)&&(u[Fn]=rj,s.push(u))}),n.set(u,h)});let a=0;return e.forEach(l=>zS(l,o[a++])),s}function GS(n,t){let e=new Map;if(n.forEach(a=>e.set(a,[])),t.length==0)return e;let r=1,i=new Set(t),o=new Map;function s(a){if(!a)return r;let l=o.get(a);if(l)return l;let u=a.parentNode;return e.has(u)?l=u:i.has(u)?l=r:l=s(u),o.set(a,l),l}return t.forEach(a=>{let l=s(a);l!==r&&e.get(l).push(a)}),e}function En(n,t){n.classList?.add(t)}function Es(n,t){n.classList?.remove(t)}function aj(n,t,e){fi(e).onDone(()=>n.processLeaveNode(t))}function lj(n){let t=[];return oD(n,t),t}function oD(n,t){for(let e=0;e<n.length;e++){let r=n[e];r instanceof ll?oD(r.players,t):t.push(r)}}function cj(n,t){let e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let i=0;i<e.length;i++){let o=e[i];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}function WS(n,t,e){let r=e.get(n);if(!r)return!1;let i=t.get(n);return i?r.forEach(o=>i.add(o)):t.set(n,r),e.delete(n),!0}var Cs=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(t,e)=>{};constructor(t,e,r){this._driver=e,this._normalizer=r,this._transitionEngine=new bv(t.body,e,r),this._timelineEngine=new yv(t.body,e,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(t,e,r,i,o){let s=t+"-"+i,a=this._triggerCache[s];if(!a){let l=[],u=[],h=tD(this._driver,o,l,u);if(l.length)throw cV(i,l);a=KV(i,h,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,i,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,i){this._transitionEngine.insertNode(t,e,r,i)}onRemove(t,e,r){this._transitionEngine.removeNode(t,e,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,i){if(r.charAt(0)=="@"){let[o,s]=PS(r),a=i;this._timelineEngine.command(o,e,s,a)}else this._transitionEngine.trigger(t,e,r,i)}listen(t,e,r,i,o){if(r.charAt(0)=="@"){let[s,a]=PS(r);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(t,e,r,i,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function uj(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=sv(t[0]),t.length>1&&(r=sv(t[t.length-1]))):t instanceof Map&&(e=sv(t)),e||r?new dj(n,e,r):null}var dj=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(e,r,i){this._element=e,this._startStyles=r,this._endStyles=i;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Xn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Xn(this._element,this._initialStyles),this._endStyles&&(Xn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(uo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(uo(this._element,this._endStyles),this._endStyles=null),Xn(this._element,this._initialStyles),this._state=3)}}return n})();function sv(n){let t=null;return n.forEach((e,r)=>{fj(r)&&(t=t||new Map,t.set(r,e))}),t}function fj(n){return n==="display"||n==="position"}var nf=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(t,e,r,i){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=i,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){let e=[];return t.forEach(r=>{e.push(Object.fromEntries(r))}),e}_triggerWebAnimation(t,e,r){return t.animate(this._convertKeyframesToObject(e),r)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&t.set(i,this._finished?r:Tv(this.element,i))}),this.currentSnapshot=t}triggerCallback(t){let e=t==="start"?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}},rf=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,e){return KS(t,e)}getParentElement(t){return Sv(t)}query(t,e,r){return ZS(t,e,r)}computeStyle(t,e,r){return Tv(t,e)}animate(t,e,r,i,o,s=[]){let a=i==0?"both":"forwards",l={duration:r,delay:i,fill:a};o&&(l.easing=o);let u=new Map,h=s.filter(g=>g instanceof nf);kV(r,i)&&h.forEach(g=>{g.currentSnapshot.forEach((b,w)=>u.set(w,b))});let p=xV(e).map(g=>new Map(g));p=NV(t,p,u);let v=uj(t,p);return new nf(t,p,l,v)}};var Qd="@",sD="@.disabled",of=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(t,e,r,i){this.namespaceId=t,this.delegate=e,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,i=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,r){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,i){this.delegate.setAttribute(t,e,r,i)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,i){this.delegate.setStyle(t,e,r,i)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){e.charAt(0)==Qd&&e==sD?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r,i){return this.delegate.listen(t,e,r,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},wv=class extends of{factory;constructor(t,e,r,i,o){super(e,r,i,o),this.factory=t,this.namespaceId=e}setProperty(t,e,r){e.charAt(0)==Qd?e.charAt(1)=="."&&e==sD?(r=r===void 0?!0:!!r,this.disableAnimations(t,r)):this.engine.process(this.namespaceId,t,e.slice(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r,i){if(e.charAt(0)==Qd){let o=hj(t),s=e.slice(1),a="";return s.charAt(0)!=Qd&&([s,a]=pj(s)),this.engine.listen(this.namespaceId,o,s,a,l=>{let u=l._data||-1;this.factory.scheduleListenerCallback(u,r,l)})}return this.delegate.listen(t,e,r,i)}};function hj(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function pj(n){let t=n.indexOf("."),e=n.substring(0,t),r=n.slice(t+1);return[e,r]}var sf=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(t,e,r){this.delegate=t,this.engine=e,this._zone=r,e.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(t,e){let r="",i=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){let u=this._rendererCache,h=u.get(i);if(!h){let p=()=>u.delete(i);h=new of(r,i,this.engine,p),u.set(i,h)}return h}let o=e.id,s=e.id+"-"+this._currentId;this._currentId++,this.engine.register(s,t);let a=u=>{Array.isArray(u)?u.forEach(a):this.engine.registerTrigger(o,s,t,u.name,u)};return e.data.animation.forEach(a),new wv(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,r){if(t>=0&&t<this._microtaskId){this._zone.run(()=>e(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([e,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(t){this.engine.flush(),this.delegate.componentReplaced?.(t)}};var gj=(()=>{class n extends Cs{constructor(e,r,i){super(e,r,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(r){return new(r||n)(V(Fe),V(fo),V(ho))};static \u0275prov=R({token:n,factory:n.\u0275fac})}return n})();function vj(){return new Yd}function yj(n,t,e){return new sf(n,t,e)}var aD=[{provide:ho,useFactory:vj},{provide:Cs,useClass:gj},{provide:Gr,useFactory:yj,deps:[Cu,Cs,Ee]}],_j=[{provide:fo,useFactory:()=>new rf},{provide:Kc,useValue:"BrowserAnimations"},...aD],DW=[{provide:fo,useClass:Dv},{provide:Kc,useValue:"NoopAnimations"},...aD];function lD(){return xn("NgEagerAnimations"),[..._j]}var cD={providers:[Xb(),IE(RS),Nw(Rw()),lD()]};function bj(n,t){if(n&1&&_(0,"div",2),n&2){let e=t.$implicit;Zr("left",e.startX+"vw")("top",e.startY+"vh")("animation-duration",e.animationDuration+"s")}}var af=class n{bubbles=Array.from({length:10},()=>({startX:Math.random()*100,startY:Math.random()*100,animationDuration:Math.random()*20+20}));static \u0275fac=function(e){return new(e||n)};static \u0275cmp=ee({type:n,selectors:[["app-morphic-bubbles"]],decls:2,vars:1,consts:[[1,"fancy-background"],["class","bubble",3,"left","top","animation-duration",4,"ngFor","ngForOf"],[1,"bubble"]],template:function(e,r){e&1&&(d(0,"div",0),S(1,bj,1,6,"div",1),c()),e&2&&(m(),y("ngForOf",r.bubbles))},dependencies:[fe,Le],styles:[".fancy-background[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100dvw;height:100dvh;overflow:hidden;z-index:-1;filter:blur(100px) saturate(2.5)}.bubble[_ngcontent-%COMP%]{position:absolute;width:200px;height:200px;border-radius:50%;animation:_ngcontent-%COMP%_wander infinite;pointer-events:none;will-change:transform}@keyframes _ngcontent-%COMP%_wander{0%{transform:translate(0)}25%{transform:translate(-50px,75px)}50%{transform:translate(75px,-50px)}75%{transform:translate(-50px,-75px)}to{transform:translate(50px,50px)}}"]})};function wj(n,t){n&1&&(cn(0),d(1,"div",1),_(2,"router-outlet"),c(),un())}function Ej(n,t){if(n&1){let e=H();d(0,"div",19)(1,"a",20),D("click",function(){x(e);let i=E(2);return M(i.navigateToUrl("/home"))}),_(2,"i",21),f(3,"Dashboard"),c(),d(4,"a",20),D("click",function(){x(e);let i=E(2);return M(i.navigateToUrl("/emotions"))}),_(5,"i",22),f(6,"Morning Check-In"),c(),d(7,"a",20),D("click",function(){x(e);let i=E(2);return M(i.navigateToUrl("/tradejournal"))}),_(8,"i",23),f(9,"Trade Journal"),c(),d(10,"a",20),D("click",function(){x(e);let i=E(2);return M(i.navigateToUrl("/meditationhub"))}),_(11,"i",24),f(12,"Meditation Hub"),c(),d(13,"a",20),D("click",function(){x(e);let i=E(2);return M(i.navigateToUrl("/analytics"))}),_(14,"i",25),f(15,"Analytics"),c(),d(16,"a",20),D("click",function(){x(e);let i=E(2);return M(i.navigateToUrl("/tradeaccounts"))}),_(17,"i",26),f(18,"Trade Accounts"),c()()}}function Cj(n,t){if(n&1&&(d(0,"div"),_(1,"img",32),c()),n&2){let e=E(3);m(),y("src",e.profile_image_blob_url,Hn)}}function Sj(n,t){n&1&&(d(0,"div"),_(1,"i",33),c())}function Dj(n,t){if(n&1){let e=H();d(0,"div",27)(1,"div",28),S(2,Cj,2,1,"div",0)(3,Sj,2,0,"div",0),f(4," \xA0\xA0 "),d(5,"p",29),f(6),c()(),d(7,"button",30),D("click",function(){x(e);let i=E(2);return M(i.logOut())}),f(8,"Logout\xA0\xA0\xA0"),_(9,"i",31),c()()}if(n&2){let e=E(2);m(2),y("ngIf",e.profile_image_blob_url),m(),y("ngIf",!e.profile_image_blob_url),m(3),U("Welcome, ",e.user_firstname,"!")}}function Ij(n,t){if(n&1){let e=H();d(0,"button",34),D("click",function(){x(e);let i=E(2);return M(i.navigateToUrl("/home"))}),_(1,"img",35),c()}}function Tj(n,t){if(n&1){let e=H();cn(0),d(1,"div",2)(2,"nav",3)(3,"div",4)(4,"div",5)(5,"button",6),D("click",function(){x(e);let i=E();return M(i.navigateToUrl("/home"))}),d(6,"img",7),D("click",function(){x(e);let i=E();return M(i.navigateToUrl("/home"))}),c()(),d(7,"button",8),D("click",function(){x(e);let i=E();return M(i.closeSidebar())}),c()(),S(8,Ej,19,0,"div",9),c(),S(9,Dj,10,3,"div",10),c(),d(10,"div",11)(11,"nav",12)(12,"div",13)(13,"div",14)(14,"button",15),D("click",function(){x(e);let i=E();return M(i.toggleSidebar())}),_(15,"span",16),c(),S(16,Ij,2,0,"button",17),c()()(),d(17,"div",18),_(18,"router-outlet"),c()()(),un()}if(n&2){let e=E();m(2),zt("collapsed",e.sidebarCollapsed()),m(6),y("ngIf",e.loginStatus()),m(),y("ngIf",e.loginStatus()),m(),zt("expanded",e.sidebarCollapsed()),m(6),y("ngIf",e.sidebarCollapsed())}}var lf=class n{constructor(t,e,r,i,o){this.cdr=t;this.supabaseService=e;this.router=r;this.route=i;this.platformId=o;this.loginStatus=Bi(()=>e.loginStatus()),Jr(()=>{this.loginStatus()&&(this.route.queryParams.subscribe(s=>{let a=s.returnUrl;a?this.router.navigate([a]):this.router.navigate(["/home"])}),this.loadUserProfile())}),_p(()=>{})}title="TR-prototype";profile_image_blob_url="";loginStatus;sidebarCollapsed=Ht(!1);isMobile=Ht(!1);user_firstname="";resizeObserver;async ngOnInit(){this.checkScreenSize(),Me(this.platformId)&&(this.sidebarCollapsed.set(this.isMobile()),this.resizeObserver=new ResizeObserver(()=>{this.checkScreenSize(),this.cdr.detectChanges()}),this.resizeObserver.observe(document.body))}ngOnDestroy(){Me(this.platformId)&&this.resizeObserver&&this.resizeObserver.disconnect()}async loadUserProfile(){let{data:t}=await this.supabaseService.getProfile();t&&(this.user_firstname=t.firstname,t.profile_picture_url&&(this.profile_image_blob_url=await this.supabaseService.getCachedProfilePictureBlobUrl(t.profile_picture_url)),this.cdr.markForCheck())}async logOut(){await this.supabaseService.signOut(),this.router.navigateByUrl("/")}toggleSidebar(){this.sidebarCollapsed.update(t=>!t),this.cdr.detectChanges()}navigateToUrl(t){this.router.navigateByUrl(t)}closeSidebar(){this.sidebarCollapsed.set(!0),this.cdr.detectChanges()}checkScreenSize(){Me(this.platformId)&&this.isMobile.set(window.innerWidth<768)}static \u0275fac=function(e){return new(e||n)(T(le),T(de),T(Zt),T(On),T(kt))};static \u0275cmp=ee({type:n,selectors:[["app-root"]],decls:3,vars:2,consts:[[4,"ngIf"],[1,"container-fluid","p-0"],[1,"sidebar-container"],["id","sidebar",1,"d-flex","flex-column","h-100"],[1,"p-3","flex-grow-1"],[1,"mb-3","d-flex","align-items-center","justify-content-between"],[1,"text-decoration-none","me-auto","btn","btn-link","p-0","me-3",3,"click"],["src","/trading_rehab_main_logo.png",1,"img-fluid",2,"height","36px",3,"click"],["type","button",1,"btn-close","d-md-none",3,"click"],["class","nav flex-column",4,"ngIf"],["class","p-3 border-top mt-auto",4,"ngIf"],[1,"content"],[1,"navbar","navbar-expand-lg"],[1,"container-fluid"],[1,"d-flex","align-items-center"],[1,"btn","me-2",3,"click"],[1,"navbar-toggler-icon"],["class","btn navbar-branding text-decoration-none me-auto",3,"click",4,"ngIf"],[1,"container-fluid","ps-3"],[1,"nav","flex-column"],[1,"nav-link",3,"click"],[1,"bi","bi-columns-gap","me-3"],[1,"bi","bi-brightness-high","me-3"],[1,"bi","bi-bookmark-check","me-3"],[1,"bi","bi-person-arms-up","me-3"],[1,"bi","bi-clipboard-data","me-3"],[1,"bi","bi-journals","me-3"],[1,"p-3","border-top","mt-auto"],["routerLink","/useraccount",1,"d-flex","align-items-center","mb-2",2,"cursor","pointer"],[1,"text-black","mb-0"],[1,"btn","btn-outline-secondary","btn-tr","w-100",3,"click"],[1,"bi","bi-box-arrow-right"],["alt","Profile",1,"rounded-circle","me-2",2,"width","40px","height","40px","object-fit","cover",3,"src"],[1,"bi","bi-person-circle","text-black",2,"font-size","30px"],[1,"btn","navbar-branding","text-decoration-none","me-auto",3,"click"],["src","/trading-rehab-logo.png","width","50px",1,"img-fluid"]],template:function(e,r){e&1&&(_(0,"app-morphic-bubbles"),S(1,wj,3,0,"ng-container",0)(2,Tj,19,7,"ng-container",0)),e&2&&(m(),y("ngIf",!r.supabaseService.loginStatus()),m(),y("ngIf",r.supabaseService.loginStatus()))},dependencies:[fe,ye,Zm,qe,af],styles:[".sidebar-container[_ngcontent-%COMP%]{display:flex;width:100%;position:relative}#sidebar[_ngcontent-%COMP%]{width:250px;position:fixed;top:0;left:0;height:100dvh;z-index:999;background:#634aff0d;-webkit-backdrop-filter:blur(50px);backdrop-filter:blur(50px);transition:all .3s;box-shadow:0 0 10px #0000001a}#sidebar.collapsed[_ngcontent-%COMP%]{margin-left:-250px}.content[_ngcontent-%COMP%]{width:calc(100% - 250px);margin-left:250px;transition:all .3s;min-height:100dvh;background-color:transparent}.content.expanded[_ngcontent-%COMP%]{width:100%;margin-left:0}@media (max-width: 768px){#sidebar[_ngcontent-%COMP%]{margin-left:-250px}#sidebar[_ngcontent-%COMP%]:not(.collapsed){margin-left:0}.content[_ngcontent-%COMP%]{width:100%;margin-left:0}}.nav-link[_ngcontent-%COMP%]{padding:15px 20px;color:#333;border-bottom:1px solid #ddd;cursor:pointer}.nav-link[_ngcontent-%COMP%]:hover{background-color:#e9ecef}.navbar[_ngcontent-%COMP%]{padding:15px 10px}"]})};$w(lf,cD).catch(n=>console.error(n));
